var FlipClock,Base;!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(S,t){function s(t){var e=!!t&&"length"in t&&t.length,n=dt.type(t);return"function"!==n&&!dt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}function e(t,n,i){if(dt.isFunction(n))return dt.grep(t,function(t,e){return!!n.call(t,e,t)!==i});if(n.nodeType)return dt.grep(t,function(t){return t===n!==i});if("string"==typeof n){if(St.test(n))return dt.filter(n,t,i);n=dt.filter(n,t)}return dt.grep(t,function(t){return-1<dt.inArray(t,n)!==i})}function n(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function c(t){var n={};return dt.each(t.match(Lt)||[],function(t,e){n[e]=!0}),n}function r(){it.addEventListener?(it.removeEventListener("DOMContentLoaded",o),S.removeEventListener("load",o)):(it.detachEvent("onreadystatechange",o),S.detachEvent("onload",o))}function o(){(it.addEventListener||"load"===S.event.type||"complete"===it.readyState)&&(r(),dt.ready())}function u(t,e,n){if(n===undefined&&1===t.nodeType){var i="data-"+e.replace(Rt,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Dt.test(n)?dt.parseJSON(n):n)}catch(r){}dt.data(t,e,n)}else n=undefined}return n}function l(t){var e;for(e in t)if(("data"!==e||!dt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function i(t,e,n,i){if(Nt(t)){var r,o,a=dt.expando,s=t.nodeType,u=s?dt.cache:t,l=s?t[a]:t[a]&&a;if(l&&u[l]&&(i||u[l].data)||n!==undefined||"string"!=typeof e)return l||(l=s?t[a]=nt.pop()||dt.guid++:a),u[l]||(u[l]=s?{}:{toJSON:dt.noop}),"object"!=typeof e&&"function"!=typeof e||(i?u[l]=dt.extend(u[l],e):u[l].data=dt.extend(u[l].data,e)),o=u[l],i||(o.data||(o.data={}),o=o.data),n!==undefined&&(o[dt.camelCase(e)]=n),"string"==typeof e?null==(r=o[e])&&(r=o[dt.camelCase(e)]):r=o,r}}function a(t,e,n){if(Nt(t)){var i,r,o=t.nodeType,a=o?dt.cache:t,s=o?t[dt.expando]:dt.expando;if(a[s]){if(e&&(i=n?a[s]:a[s].data)){r=(e=dt.isArray(e)?e.concat(dt.map(e,dt.camelCase)):e in i?[e]:(e=dt.camelCase(e))in i?[e]:e.split(" ")).length;for(;r--;)delete i[e[r]];if(n?!l(i):!dt.isEmptyObject(i))return}(n||(delete a[s].data,l(a[s])))&&(o?dt.cleanData([t],!0):ht.deleteExpando||a!=a.window?delete a[s]:a[s]=undefined)}}}function h(t,e,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return dt.css(t,e,"")},u=s(),l=n&&n[3]||(dt.cssNumber[e]?"":"px"),c=(dt.cssNumber[e]||"px"!==l&&+u)&&Vt.exec(dt.css(t,e));if(c&&c[3]!==l)for(l=l||c[3],n=n||[],c=+u||1;c/=o=o||".5",dt.style(t,e,c+l),o!==(o=s()/u)&&1!==o&&--a;);return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}function v(t){var e=Xt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function y(t,e){var n,i,r=0,o="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):undefined;if(!o)for(o=[],n=t.childNodes||t;null!=(i=n[r]);r++)!e||dt.nodeName(i,e)?o.push(i):dt.merge(o,y(i,e));return e===undefined||e&&dt.nodeName(t,e)?dt.merge([t],o):o}function m(t,e){for(var n,i=0;null!=(n=t[i]);i++)dt._data(n,"globalEval",!e||dt._data(e[i],"globalEval"))}function x(t){$t.test(t.type)&&(t.defaultChecked=t.checked)}function g(t,e,n,i,r){for(var o,a,s,u,l,c,h,f=t.length,d=v(e),p=[],g=0;g<f;g++)if((a=t[g])||0===a)if("object"===dt.type(a))dt.merge(p,a.nodeType?[a]:a);else if(Wt.test(a)){for(u=u||d.appendChild(e.createElement("div")),l=(qt.exec(a)||["",""])[1].toLowerCase(),h=Yt[l]||Yt._default,u.innerHTML=h[1]+dt.htmlPrefilter(a)+h[2],o=h[0];o--;)u=u.lastChild;if(!ht.leadingWhitespace&&Ut.test(a)&&p.push(e.createTextNode(Ut.exec(a)[0])),!ht.tbody)for(o=(a="table"!==l||Qt.test(a)?"<table>"!==h[1]||Qt.test(a)?0:u:u.firstChild)&&a.childNodes.length;o--;)dt.nodeName(c=a.childNodes[o],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(dt.merge(p,u.childNodes),u.textContent="";u.firstChild;)u.removeChild(u.firstChild);u=d.lastChild}else p.push(e.createTextNode(a));for(u&&d.removeChild(u),ht.appendChecked||dt.grep(y(p,"input"),x),g=0;a=p[g++];)if(i&&-1<dt.inArray(a,i))r&&r.push(a);else if(s=dt.contains(a.ownerDocument,a),u=y(d.appendChild(a),"script"),s&&m(u),n)for(o=0;a=u[o++];)Bt.test(a.type||"")&&n.push(a);return u=null,d}function f(){return!0}function d(){return!1}function p(){try{return it.activeElement}catch(t){}}function b(t,e,n,i,r,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=undefined),e)b(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=undefined):null==r&&("string"==typeof n?(r=i,i=undefined):(r=i,i=n,n=undefined)),!1===r)r=d;else if(!r)return t;return 1===o&&(a=r,(r=function(t){return dt().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=dt.guid++)),t.each(function(){dt.event.add(this,e,r,i,n)})}function _(t,e){return dt.nodeName(t,"table")&&dt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function w(t){return t.type=(null!==dt.find.attr(t,"type"))+"/"+t.type,t}function T(t){var e=se.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function C(t,e){if(1===e.nodeType&&dt.hasData(t)){var n,i,r,o=dt._data(t),a=dt._data(e,o),s=o.events;if(s)for(n in delete a.handle,a.events={},s)for(i=0,r=s[n].length;i<r;i++)dt.event.add(e,n,s[n][i]);a.data&&(a.data=dt.extend({},a.data))}}function k(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!ht.noCloneEvent&&e[dt.expando]){for(i in(r=dt._data(e)).events)dt.removeEvent(e,i,r.handle);e.removeAttribute(dt.expando)}"script"===n&&e.text!==t.text?(w(e).text=t.text,T(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),ht.html5Clone&&t.innerHTML&&!dt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&$t.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function M(n,i,r,o){i=ot.apply([],i);var t,e,a,s,u,l,c=0,h=n.length,f=h-1,d=i[0],p=dt.isFunction(d);if(p||1<h&&"string"==typeof d&&!ht.checkClone&&ae.test(d))return n.each(function(t){var e=n.eq(t);p&&(i[0]=d.call(this,t,e.html())),M(e,i,r,o)});if(h&&(t=(l=g(i,n[0].ownerDocument,!1,n,o)).firstChild,1===l.childNodes.length&&(l=t),t||o)){for(a=(s=dt.map(y(l,"script"),w)).length;c<h;c++)e=l,c!==f&&(e=dt.clone(e,!0,!0),a&&dt.merge(s,y(e,"script"))),r.call(n[c],e,c);if(a)for(u=s[s.length-1].ownerDocument,dt.map(s,T),c=0;c<a;c++)e=s[c],Bt.test(e.type||"")&&!dt._data(e,"globalEval")&&dt.contains(u,e)&&(e.src?dt._evalUrl&&dt._evalUrl(e.src):dt.globalEval((e.text||e.textContent||e.innerHTML||"").replace(ue,"")));l=t=null}return n}function A(t,e,n){for(var i,r=e?dt.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||dt.cleanData(y(i)),i.parentNode&&(n&&dt.contains(i.ownerDocument,i)&&m(y(i,"script")),i.parentNode.removeChild(i));return t}function E(t,e){var n=dt(e.createElement(t)).appendTo(e.body),i=dt.css(n[0],"display");return n.detach(),i}function L(t){var e=it,n=he[t];return n||("none"!==(n=E(t,e))&&n||((e=((ce=(ce||dt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||ce[0].contentDocument).document).write(),e.close(),n=E(t,e),ce.detach()),he[t]=n),n}function P(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function N(t){if(t in ke)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=Ce.length;n--;)if((t=Ce[n]+e)in ke)return t}function D(t,e){for(var n,i,r,o=[],a=0,s=t.length;a<s;a++)(i=t[a]).style&&(o[a]=dt._data(i,"olddisplay"),n=i.style.display,e?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Gt(i)&&(o[a]=dt._data(i,"olddisplay",L(i.nodeName)))):(r=Gt(i),(n&&"none"!==n||!r)&&dt._data(i,"olddisplay",r?n:dt.css(i,"display"))));for(a=0;a<s;a++)(i=t[a]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[a]||"":"none"));return t}function R(t,e,n){var i=we.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function O(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=dt.css(t,n+jt[o],!0,r)),i?("content"===n&&(a-=dt.css(t,"padding"+jt[o],!0,r)),"margin"!==n&&(a-=dt.css(t,"border"+jt[o]+"Width",!0,r))):(a+=dt.css(t,"padding"+jt[o],!0,r),"padding"!==n&&(a+=dt.css(t,"border"+jt[o]+"Width",!0,r)));return a}function I(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=ve(t),a=ht.boxSizing&&"border-box"===dt.css(t,"boxSizing",!1,o);if(r<=0||null==r){if(((r=ye(t,e,o))<0||null==r)&&(r=t.style[e]),de.test(r))return r;i=a&&(ht.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+O(t,e,n||(a?"border":"content"),i,o)+"px"}function F(t,e,n,i,r){return new F.prototype.init(t,e,n,i,r)}function z(){return S.setTimeout(function(){Me=undefined}),Me=dt.now()}function V(t,e){var n,i={height:t},r=0;for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=jt[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function j(t,e,n){for(var i,r=($.tweeners[e]||[]).concat($.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function G(e,t,n){var i,r,o,a,s,u,l,c=this,h={},f=e.style,d=e.nodeType&&Gt(e),p=dt._data(e,"fxshow");for(i in n.queue||(null==(s=dt._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,dt.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===("none"===(l=dt.css(e,"display"))?dt._data(e,"olddisplay")||L(e.nodeName):l)&&"none"===dt.css(e,"float")&&(ht.inlineBlockNeedsLayout&&"inline"!==L(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",ht.shrinkWrapBlocks()||c.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),t)if(r=t[i],Re.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(d?"hide":"show")){if("show"!==r||!p||p[i]===undefined)continue;d=!0}h[i]=p&&p[i]||dt.style(e,i)}else l=undefined;if(dt.isEmptyObject(h))"inline"===("none"===l?L(e.nodeName):l)&&(f.display=l);else for(i in p?"hidden"in p&&(d=p.hidden):p=dt._data(e,"fxshow",{}),o&&(p.hidden=!d),d?dt(e).show():c.done(function(){dt(e).hide()}),c.done(function(){var t;for(t in dt._removeData(e,"fxshow"),h)dt.style(e,t,h[t])}),h)a=j(d?p[i]:0,i,c),i in p||(p[i]=a.start,d&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}function H(t,e){var n,i,r,o,a;for(n in t)if(r=e[i=dt.camelCase(n)],o=t[n],dt.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(a=dt.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}function $(o,t,e){var n,a,i=0,r=$.prefilters.length,s=dt.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var t=Me||z(),e=Math.max(0,l.startTime+l.duration-t),n=1-(e/l.duration||0),i=0,r=l.tweens.length;i<r;i++)l.tweens[i].run(n);return s.notifyWith(o,[l,n,e]),n<1&&r?e:(s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:dt.extend({},t),opts:dt.extend(!0,{specialEasing:{},easing:dt.easing._default},e),originalProperties:t,originalOptions:e,startTime:Me||z(),duration:e.duration,tweens:[],createTween:function(t,e){var n=dt.Tween(o,l.opts,t,e,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(n),n},stop:function(t){var e=0,n=t?l.tweens.length:0;if(a)return this;for(a=!0;e<n;e++)l.tweens[e].run(1);return t?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,t])):s.rejectWith(o,[l,t]),this}}),c=l.props;for(H(c,l.opts.specialEasing);i<r;i++)if(n=$.prefilters[i].call(l,o,c,l.opts))return dt.isFunction(n.stop)&&(dt._queueHooks(l.elem,l.opts.queue).stop=dt.proxy(n.stop,n)),n;return dt.map(c,j,l),dt.isFunction(l.opts.start)&&l.opts.start.call(o,l),dt.fx.timer(dt.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function q(t){return dt.attr(t,"class")||""}function B(o){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,r=t.toLowerCase().match(Lt)||[];if(dt.isFunction(e))for(;n=r[i++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(e)):(o[n]=o[n]||[]).push(e)}}function U(e,r,o,a){function s(t){var i;return u[t]=!0,dt.each(e[t]||[],function(t,e){var n=e(r,o,a);return"string"!=typeof n||l||u[n]?l?!(i=n):void 0:(r.dataTypes.unshift(n),s(n),!1)}),i}var u={},l=e===an;return s(r.dataTypes[0])||!u["*"]&&s("*")}function X(t,e){var n,i,r=dt.ajaxSettings.flatOptions||{};for(i in e)e[i]!==undefined&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&dt.extend(!0,t,n),t}function Y(t,e,n){for(var i,r,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),r===undefined&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(a in s)if(s[a]&&s[a].test(r)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||t.converters[a+" "+u[0]]){o=a;break}i||(i=a)}o=o||i}if(o)return o!==u[0]&&u.unshift(o),n[o]}function W(t,e,n,i){var r,o,a,s,u,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(r in l)if((s=r.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[r]:!0!==l[r]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function Q(t){return t.style&&t.style.display||dt.css(t,"display")}function Z(t){if(!dt.contains(t.ownerDocument||it,t))return!0;for(;t&&1===t.nodeType;){if("none"===Q(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function K(n,t,i,r){var e;if(dt.isArray(t))dt.each(t,function(t,e){i||hn.test(n)?r(n,e):K(n+"["+("object"==typeof e&&null!=e?t:"")+"]",e,i,r)});else if(i||"object"!==dt.type(t))r(n,t);else for(e in t)K(n+"["+e+"]",t[e],i,r)}function J(){try{return new S.XMLHttpRequest}catch(t){}}function tt(){try{return new S.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function et(t){return dt.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var nt=[],it=S.document,rt=nt.slice,ot=nt.concat,at=nt.push,st=nt.indexOf,ut={},lt=ut.toString,ct=ut.hasOwnProperty,ht={},ft="1.12.4",dt=function(t,e){return new dt.fn.init(t,e)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gt=/^-ms-/,vt=/-([\da-z])/gi,yt=function(t,e){return e.toUpperCase()};dt.fn=dt.prototype={jquery:ft,constructor:dt,selector:"",length:0,toArray:function(){return rt.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:rt.call(this)},pushStack:function(t){var e=dt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return dt.each(this,t)},map:function(n){return this.pushStack(dt.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:at,sort:nt.sort,splice:nt.splice},dt.extend=dt.fn.extend=function(t){var e,n,i,r,o,a,s=t||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[u]||{},u++),"object"==typeof s||dt.isFunction(s)||(s={}),u===l&&(s=this,u--);u<l;u++)if(null!=(o=arguments[u]))for(r in o)e=s[r],s!==(i=o[r])&&(c&&i&&(dt.isPlainObject(i)||(n=dt.isArray(i)))?(n?(n=!1,a=e&&dt.isArray(e)?e:[]):a=e&&dt.isPlainObject(e)?e:{},s[r]=dt.extend(c,a,i)):i!==undefined&&(s[r]=i));return s},dt.extend({expando:"jQuery"+(ft+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===dt.type(t)},isArray:Array.isArray||function(t){return"array"===dt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!dt.isArray(t)&&0<=e-parseFloat(e)+1},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==dt.type(t)||t.nodeType||dt.isWindow(t))return!1;try{if(t.constructor&&!ct.call(t,"constructor")&&!ct.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!ht.ownFirst)for(e in t)return ct.call(t,e);for(e in t);return e===undefined||ct.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ut[lt.call(t)]||"object":typeof t},globalEval:function(t){t&&dt.trim(t)&&(S.execScript||function(t){S.eval.call(S,t)})(t)},camelCase:function(t){return t.replace(gt,"ms-").replace(vt,yt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(s(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(pt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(s(Object(t))?dt.merge(n,"string"==typeof t?[t]:t):at.call(n,t)),n},inArray:function(t,e,n){var i;if(e){if(st)return st.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;)t[r++]=e[i++];if(n!=n)for(;e[i]!==undefined;)t[r++]=e[i++];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,a=!n;r<o;r++)!e(t[r],r)!==a&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,a=[];if(s(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&a.push(r);return ot.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(r=t[e],e=t,t=r),dt.isFunction(t)?(n=rt.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(rt.call(arguments)))}).guid=t.guid=t.guid||dt.guid++,i):undefined},now:function(){return+new Date},support:ht}),"function"==typeof Symbol&&(dt.fn[Symbol.iterator]=nt[Symbol.iterator]),dt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ut["[object "+e+"]"]=e.toLowerCase()});var mt=function(n){function b(t,e,n,i){var r,o,a,s,u,l,c,h,f=e&&e.ownerDocument,d=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return n;if(!i&&((e?e.ownerDocument||e:j)!==N&&P(e),e=e||N,R)){if(11!==d&&(l=yt.exec(t)))if(r=l[1]){if(9===d){if(!(a=e.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(f&&(a=f.getElementById(r))&&z(e,a)&&a.id===r)return n.push(a),n}else{if(l[2])return K.apply(n,e.getElementsByTagName(t)),n;if((r=l[3])&&y.getElementsByClassName&&e.getElementsByClassName)return K.apply(n,e.getElementsByClassName(r)),n}if(y.qsa&&!B[t+" "]&&(!O||!O.test(t))){if(1!==d)f=e,h=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(xt,"\\$&"):e.setAttribute("id",s=V),o=(c=C(t)).length,u=ft.test(s)?"#"+s:"[id='"+s+"']";o--;)c[o]=u+" "+v(c[o]);h=c.join(","),f=mt.test(t)&&g(e.parentNode)||e}if(h)try{return K.apply(n,f.querySelectorAll(h)),n}catch(p){}finally{s===V&&e.removeAttribute("id")}}}return M(t.replace(st,"$1"),e,n,i)}function t(){function n(t,e){return i.push(t+" ")>w.cacheLength&&delete n[i.shift()],n[t+" "]=e}var i=[];return n}function u(t){return t[V]=!0,t}function r(t){var e=N.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function e(t,e){for(var n=t.split("|"),i=n.length;i--;)w.attrHandle[n[i]]=e}function l(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function i(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function o(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function a(a){return u(function(o){return o=+o,u(function(t,e){for(var n,i=a([],t.length,o),r=i.length;r--;)t[n=i[r]]&&(t[n]=!(e[n]=t[n]))})})}function g(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function s(){}function v(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function h(s,t,e){var u=t.dir,l=e&&"parentNode"===u,c=H++;return t.first?function(t,e,n){for(;t=t[u];)if(1===t.nodeType||l)return s(t,e,n)}:function(t,e,n){var i,r,o,a=[G,c];if(n){for(;t=t[u];)if((1===t.nodeType||l)&&s(t,e,n))return!0}else for(;t=t[u];)if(1===t.nodeType||l){if((i=(r=(o=t[V]||(t[V]={}))[t.uniqueID]||(o[t.uniqueID]={}))[u])&&i[0]===G&&i[1]===c)return a[2]=i[2];if((r[u]=a)[2]=s(t,e,n))return!0}}}function f(r){return 1<r.length?function(t,e,n){for(var i=r.length;i--;)if(!r[i](t,e,n))return!1;return!0}:r[0]}function m(t,e,n){for(var i=0,r=e.length;i<r;i++)b(t,e[i],n);return n}function _(t,e,n,i,r){for(var o,a=[],s=0,u=t.length,l=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),l&&e.push(s)));return a}function x(d,p,g,v,y,t){return v&&!v[V]&&(v=x(v)),y&&!y[V]&&(y=x(y,t)),u(function(t,e,n,i){var r,o,a,s=[],u=[],l=e.length,c=t||m(p||"*",n.nodeType?[n]:n,[]),h=!d||!t&&p?c:_(c,s,d,n,i),f=g?y||(t?d:l||v)?[]:e:h;if(g&&g(h,f,n,i),v)for(r=_(f,u),v(r,[],n,i),o=r.length;o--;)(a=r[o])&&(f[u[o]]=!(h[u[o]]=a));if(t){if(y||d){if(y){for(r=[],o=f.length;o--;)(a=f[o])&&r.push(h[o]=a);y(null,f=[],r,i)}for(o=f.length;o--;)(a=f[o])&&-1<(r=y?tt(t,a):s[o])&&(t[r]=!(e[r]=a))}}else f=_(f===e?f.splice(l,f.length):f),y?y(null,e,f,i):K.apply(e,f)})}function d(t){for(var r,e,n,i=t.length,o=w.relative[t[0].type],a=o||w.relative[" "],s=o?1:0,u=h(function(t){return t===r},a,!0),l=h(function(t){return-1<tt(r,t)},a,!0),c=[function(t,e,n){var i=!o&&(n||e!==A)||((r=e).nodeType?u(t,e,n):l(t,e,n));return r=null,i}];s<i;s++)if(e=w.relative[t[s].type])c=[h(f(c),e)];else{if((e=w.filter[t[s].type].apply(null,t[s].matches))[V]){for(n=++s;n<i&&!w.relative[t[n].type];n++);return x(1<s&&f(c),1<s&&v(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),e,s<n&&d(t.slice(s,n)),n<i&&d(t=t.slice(n)),n<i&&v(t))}c.push(e)}return f(c)}function c(v,y){var m=0<y.length,x=0<v.length,t=function(t,e,n,i,r){var o,a,s,u=0,l="0",c=t&&[],h=[],f=A,d=t||x&&w.find.TAG("*",r),p=G+=null==f?1:Math.random()||.1,g=d.length;for(r&&(A=e===N||e||r);l!==g&&null!=(o=d[l]);l++){if(x&&o){for(a=0,e||o.ownerDocument===N||(P(o),n=!R);s=v[a++];)if(s(o,e||N,n)){i.push(o);break}r&&(G=p)}m&&((o=!s&&o)&&u--,t&&c.push(o))}if(u+=l,m&&l!==u){for(a=0;s=y[a++];)s(c,h,e,n);if(t){if(0<u)for(;l--;)c[l]||h[l]||(h[l]=Q.call(i));h=_(h)}K.apply(i,h),r&&!t&&0<h.length&&1<u+y.length&&b.uniqueSort(i)}return r&&(G=p,A=f),c};return m?u(t):t}var p,y,w,S,T,C,k,M,A,E,L,P,N,D,R,O,I,F,z,V="sizzle"+1*new Date,j=n.document,G=0,H=0,$=t(),q=t(),B=t(),U=function(t,e){return t===e&&(L=!0),0},X=1<<31,Y={}.hasOwnProperty,W=[],Q=W.pop,Z=W.push,K=W.push,J=W.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),lt=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(ot),ft=new RegExp("^"+it+"$"),dt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mt=/[+~]/,xt=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),_t=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},wt=function(){P()};try{K.apply(W=J.call(j.childNodes),j.childNodes),W[j.childNodes.length].nodeType}catch(St){K={apply:W.length?function(t,e){Z.apply(t,J.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(p in y=b.support={},T=b.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},P=b.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:j;return i!==N&&9===i.nodeType&&i.documentElement&&(D=(N=i).documentElement,R=!T(N),(n=N.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",wt,!1):n.attachEvent&&n.attachEvent("onunload",wt)),y.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),y.getElementsByTagName=r(function(t){return t.appendChild(N.createComment("")),!t.getElementsByTagName("*").length}),y.getElementsByClassName=vt.test(N.getElementsByClassName),y.getById=r(function(t){return D.appendChild(t).id=V,!N.getElementsByName||!N.getElementsByName(V).length}),y.getById?(w.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&R){var n=e.getElementById(t);return n?[n]:[]}},w.filter.ID=function(t){var e=t.replace(bt,_t);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var n=t.replace(bt,_t);return function(t){var e="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}}),w.find.TAG=y.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):y.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},w.find.CLASS=y.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&R)return e.getElementsByClassName(t)},I=[],O=[],(y.qsa=vt.test(N.querySelectorAll))&&(r(function(t){D.appendChild(t).innerHTML="<a id='"+V+"'></a><select id='"+V+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||O.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+V+"-]").length||O.push("~="),t.querySelectorAll(":checked").length||O.push(":checked"),t.querySelectorAll("a#"+V+"+*").length||O.push(".#.+[+~]")}),r(function(t){var e=N.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&O.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),O.push(",.*:")})),(y.matchesSelector=vt.test(F=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&r(function(t){y.disconnectedMatch=F.call(t,"div"),F.call(t,"[s!='']:x"),I.push("!=",ot)}),O=O.length&&new RegExp(O.join("|")),I=I.length&&new RegExp(I.join("|")),e=vt.test(D.compareDocumentPosition),z=e||vt.test(D.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return L=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!y.sortDetached&&e.compareDocumentPosition(t)===n?t===N||t.ownerDocument===j&&z(j,t)?-1:e===N||e.ownerDocument===j&&z(j,e)?1:E?tt(E,t)-tt(E,e):0:4&n?-1:1)}:function(t,e){if(t===e)return L=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!r||!o)return t===N?-1:e===N?1:r?-1:o?1:E?tt(E,t)-tt(E,e):0;if(r===o)return l(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?l(a[i],s[i]):a[i]===j?-1:s[i]===j?1:0}),N},b.matches=function(t,e){return b(t,null,null,e)},b.matchesSelector=function(t,e){if((t.ownerDocument||t)!==N&&P(t),e=e.replace(ct,"='$1']"),y.matchesSelector&&R&&!B[e+" "]&&(!I||!I.test(e))&&(!O||!O.test(e)))try{var n=F.call(t,e);if(n||y.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(St){}return 0<b(e,N,null,[t]).length},b.contains=function(t,e){return(t.ownerDocument||t)!==N&&P(t),z(t,e)},b.attr=function(t,e){(t.ownerDocument||t)!==N&&P(t);var n=w.attrHandle[e.toLowerCase()],i=n&&Y.call(w.attrHandle,e.toLowerCase())?n(t,e,!R):undefined;return i!==undefined?i:y.attributes||!R?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},b.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},b.uniqueSort=function(t){var e,n=[],i=0,r=0;if(L=!y.detectDuplicates,E=!y.sortStable&&t.slice(0),t.sort(U),L){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return E=null,t},S=b.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=S(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=S(e);return n},(w=b.selectors={cacheLength:50,createPseudo:u,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,_t),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,_t),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||b.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&b.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=C(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,_t).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=$[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&$(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(t){var e=b.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===r:"!="===i?e!==r:"^="===i?r&&0===e.indexOf(r):"*="===i?r&&-1<e.indexOf(r):"$="===i?r&&e.slice(-r.length)===r:"~="===i?-1<(" "+e.replace(at," ")+" ").indexOf(r):"|="===i&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(p,t,e,g,v){var y="nth"!==p.slice(0,3),m="last"!==p.slice(-4),x="of-type"===t;return 1===g&&0===v?function(t){return!!t.parentNode}:function(t,e,n){var i,r,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=t.parentNode,h=x&&t.nodeName.toLowerCase(),f=!n&&!x,d=!1;if(c){if(y){for(;l;){for(a=t;a=a[l];)if(x?a.nodeName.toLowerCase()===h:1===a.nodeType)return!1;u=l="only"===p&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&f){for(d=(s=(i=(r=(o=(a=c)[V]||(a[V]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]||[])[0]===G&&i[1])&&i[2],a=s&&c.childNodes[s];a=++s&&a&&a[l]||(d=s=0)||u.pop();)if(1===a.nodeType&&++d&&a===t){r[p]=[G,s,d];break}}else if(f&&(d=s=(i=(r=(o=(a=t)[V]||(a[V]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]||[])[0]===G&&i[1]),!1===d)for(;(a=++s&&a&&a[l]||(d=s=0)||u.pop())&&((x?a.nodeName.toLowerCase()!==h:1!==a.nodeType)||!++d||(f&&((r=(o=a[V]||(a[V]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]=[G,d]),a!==t)););return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(t,o){var e,a=w.pseudos[t]||w.setFilters[t.toLowerCase()]||b.error("unsupported pseudo: "+t);return a[V]?a(o):1<a.length?(e=[t,t,"",o],w.setFilters.hasOwnProperty(t.toLowerCase())?u(function(t,e){for(var n,i=a(t,o),r=i.length;r--;)t[n=tt(t,i[r])]=!(e[n]=i[r])}):function(t){
return a(t,0,e)}):a}},pseudos:{not:u(function(t){var i=[],r=[],s=k(t.replace(st,"$1"));return s[V]?u(function(t,e,n,i){for(var r,o=s(t,null,i,[]),a=t.length;a--;)(r=o[a])&&(t[a]=!(e[a]=r))}):function(t,e,n){return i[0]=t,s(i,null,n,r),i[0]=null,!r.pop()}}),has:u(function(e){return function(t){return 0<b(e,t).length}}),contains:u(function(e){return e=e.replace(bt,_t),function(t){return-1<(t.textContent||t.innerText||S(t)).indexOf(e)}}),lang:u(function(n){return ft.test(n||"")||b.error("unsupported lang: "+n),n=n.replace(bt,_t).toLowerCase(),function(t){var e;do{if(e=R?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===D},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:a(function(){return[0]}),last:a(function(t,e){return[e-1]}),eq:a(function(t,e,n){return[n<0?n+e:n]}),even:a(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:a(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:a(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:a(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[p]=i(p);for(p in{submit:!0,reset:!0})w.pseudos[p]=o(p);return s.prototype=w.filters=w.pseudos,w.setFilters=new s,C=b.tokenize=function(t,e){var n,i,r,o,a,s,u,l=q[t+" "];if(l)return e?0:l.slice(0);for(a=t,s=[],u=w.preFilter;a;){for(o in n&&!(i=ut.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(r=[])),n=!1,(i=lt.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(st," ")}),a=a.slice(n.length)),w.filter)!(i=dt[o].exec(a))||u[o]&&!(i=u[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?b.error(t):q(t,s).slice(0)},k=b.compile=function(t,e){var n,i=[],r=[],o=B[t+" "];if(!o){for(e||(e=C(t)),n=e.length;n--;)(o=d(e[n]))[V]?i.push(o):r.push(o);(o=B(t,c(r,i))).selector=t}return o},M=b.select=function(t,e,n,i){var r,o,a,s,u,l="function"==typeof t&&t,c=!i&&C(t=l.selector||t);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&y.getById&&9===e.nodeType&&R&&w.relative[o[1].type]){if(!(e=(w.find.ID(a.matches[0].replace(bt,_t),e)||[])[0]))return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=dt.needsContext.test(t)?0:o.length;r--&&(a=o[r],!w.relative[s=a.type]);)if((u=w.find[s])&&(i=u(a.matches[0].replace(bt,_t),mt.test(o[0].type)&&g(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&v(o)))return K.apply(n,i),n;break}}return(l||k(t,c))(i,e,!R,n,!e||mt.test(t)&&g(e.parentNode)||e),n},y.sortStable=V.split("").sort(U).join("")===V,y.detectDuplicates=!!L,P(),y.sortDetached=r(function(t){return 1&t.compareDocumentPosition(N.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||e("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),y.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||e("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||e(et,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),b}(S);dt.find=mt,dt.expr=mt.selectors,dt.expr[":"]=dt.expr.pseudos,dt.uniqueSort=dt.unique=mt.uniqueSort,dt.text=mt.getText,dt.isXMLDoc=mt.isXML,dt.contains=mt.contains;var xt=function(t,e,n){for(var i=[],r=n!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&dt(t).is(n))break;i.push(t)}return i},bt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},_t=dt.expr.match.needsContext,wt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,St=/^.[^:#\[\.,]*$/;dt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?dt.find.matchesSelector(i,t)?[i]:[]:dt.find.matches(t,dt.grep(e,function(t){return 1===t.nodeType}))},dt.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(dt(t).filter(function(){for(e=0;e<r;e++)if(dt.contains(i[e],this))return!0}));for(e=0;e<r;e++)dt.find(t,i[e],n);return(n=this.pushStack(1<r?dt.unique(n):n)).selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(e(this,t||[],!1))},not:function(t){return this.pushStack(e(this,t||[],!0))},is:function(t){return!!e(this,"string"==typeof t&&_t.test(t)?dt(t):t||[],!1).length}});var Tt,Ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(dt.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||Tt,"string"==typeof t){if(!(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&3<=t.length?[null,t,null]:Ct.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof dt?e[0]:e,dt.merge(this,dt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:it,!0)),wt.test(i[1])&&dt.isPlainObject(e))for(i in e)dt.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if((r=it.getElementById(i[2]))&&r.parentNode){if(r.id!==i[2])return Tt.find(t);this.length=1,this[0]=r}return this.context=it,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):dt.isFunction(t)?"undefined"!=typeof n.ready?n.ready(t):t(dt):(t.selector!==undefined&&(this.selector=t.selector,this.context=t.context),dt.makeArray(t,this))}).prototype=dt.fn,Tt=dt(it);var kt=/^(?:parents|prev(?:Until|All))/,Mt={children:!0,contents:!0,next:!0,prev:!0};dt.fn.extend({has:function(t){var e,n=dt(t,this),i=n.length;return this.filter(function(){for(e=0;e<i;e++)if(dt.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],a=_t.test(t)||"string"!=typeof t?dt(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&dt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(1<o.length?dt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?dt.inArray(this[0],dt(t)):dt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(dt.uniqueSort(dt.merge(this.get(),dt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),dt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return xt(t,"parentNode")},parentsUntil:function(t,e,n){return xt(t,"parentNode",n)},next:function(t){return n(t,"nextSibling")},prev:function(t){return n(t,"previousSibling")},nextAll:function(t){return xt(t,"nextSibling")},prevAll:function(t){return xt(t,"previousSibling")},nextUntil:function(t,e,n){return xt(t,"nextSibling",n)},prevUntil:function(t,e,n){return xt(t,"previousSibling",n)},siblings:function(t){return bt((t.parentNode||{}).firstChild,t)},children:function(t){return bt(t.firstChild)},contents:function(t){return dt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:dt.merge([],t.childNodes)}},function(i,r){dt.fn[i]=function(t,e){var n=dt.map(this,r,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=dt.filter(e,n)),1<this.length&&(Mt[i]||(n=dt.uniqueSort(n)),kt.test(i)&&(n=n.reverse())),this.pushStack(n)}});var At,Et,Lt=/\S+/g;for(Et in dt.Callbacks=function(i){i="string"==typeof i?c(i):dt.extend({},i);var r,t,e,n,o=[],a=[],s=-1,u=function(){for(n=i.once,e=r=!0;a.length;s=-1)for(t=a.shift();++s<o.length;)!1===o[s].apply(t[0],t[1])&&i.stopOnFalse&&(s=o.length,t=!1);i.memory||(t=!1),r=!1,n&&(o=t?[]:"")},l={add:function(){return o&&(t&&!r&&(s=o.length-1,a.push(t)),function n(t){dt.each(t,function(t,e){dt.isFunction(e)?i.unique&&l.has(e)||o.push(e):e&&e.length&&"string"!==dt.type(e)&&n(e)})}(arguments),t&&!r&&u()),this},remove:function(){return dt.each(arguments,function(t,e){for(var n;-1<(n=dt.inArray(e,o,n));)o.splice(n,1),n<=s&&s--}),this},has:function(t){return t?-1<dt.inArray(t,o):0<o.length},empty:function(){return o&&(o=[]),this},disable:function(){return n=a=[],o=t="",this},disabled:function(){return!o},lock:function(){return n=!0,t||l.disable(),this},locked:function(){return!!n},fireWith:function(t,e){return n||(e=[t,(e=e||[]).slice?e.slice():e],a.push(e),r||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!e}};return l},dt.extend({Deferred:function(t){var o=[["resolve","done",dt.Callbacks("once memory"),"resolved"],["reject","fail",dt.Callbacks("once memory"),"rejected"],["notify","progress",dt.Callbacks("memory")]],r="pending",a={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var r=arguments;return dt.Deferred(function(i){dt.each(o,function(t,e){var n=dt.isFunction(r[t])&&r[t];s[e[1]](function(){var t=n&&n.apply(this,arguments);t&&dt.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[e[0]+"With"](this===a?i.promise():this,n?[t]:arguments)})}),r=null}).promise()},promise:function(t){return null!=t?dt.extend(t,a):a}},s={};return a.pipe=a.then,dt.each(o,function(t,e){var n=e[2],i=e[3];a[e[1]]=n.add,i&&n.add(function(){r=i},o[1^t][2].disable,o[2][2].lock),s[e[0]]=function(){return s[e[0]+"With"](this===s?a:this,arguments),this},s[e[0]+"With"]=n.fireWith}),a.promise(s),t&&t.call(s,s),s},when:function(t){var r,e,n,i=0,o=rt.call(arguments),a=o.length,s=1!==a||t&&dt.isFunction(t.promise)?a:0,u=1===s?t:dt.Deferred(),l=function(e,n,i){return function(t){n[e]=this,i[e]=1<arguments.length?rt.call(arguments):t,i===r?u.notifyWith(n,i):--s||u.resolveWith(n,i)}};if(1<a)for(r=new Array(a),e=new Array(a),n=new Array(a);i<a;i++)o[i]&&dt.isFunction(o[i].promise)?o[i].promise().progress(l(i,e,r)).done(l(i,n,o)).fail(u.reject):--s;return s||u.resolveWith(n,o),u.promise()}}),dt.fn.ready=function(t){return dt.ready.promise().done(t),this},dt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?dt.readyWait++:dt.ready(!0)},ready:function(t){(!0===t?--dt.readyWait:dt.isReady)||(dt.isReady=!0)!==t&&0<--dt.readyWait||(At.resolveWith(it,[dt]),dt.fn.triggerHandler&&(dt(it).triggerHandler("ready"),dt(it).off("ready")))}}),dt.ready.promise=function(e){if(!At)if(At=dt.Deferred(),"complete"===it.readyState||"loading"!==it.readyState&&!it.documentElement.doScroll)S.setTimeout(dt.ready);else if(it.addEventListener)it.addEventListener("DOMContentLoaded",o),S.addEventListener("load",o);else{it.attachEvent("onreadystatechange",o),S.attachEvent("onload",o);var n=!1;try{n=null==S.frameElement&&it.documentElement}catch(i){}n&&n.doScroll&&function t(){if(!dt.isReady){try{n.doScroll("left")}catch(i){return S.setTimeout(t,50)}r(),dt.ready()}}()}return At.promise(e)},dt.ready.promise(),dt(ht))break;ht.ownFirst="0"===Et,ht.inlineBlockNeedsLayout=!1,dt(function(){var t,e,n,i;(n=it.getElementsByTagName("body")[0])&&n.style&&(e=it.createElement("div"),(i=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ht.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=it.createElement("div");ht.deleteExpando=!0;try{delete t.test}catch(e){ht.deleteExpando=!1}t=null}();var Pt,Nt=function(t){var e=dt.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)},Dt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Rt=/([A-Z])/g;dt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?dt.cache[t[dt.expando]]:t[dt.expando])&&!l(t)},data:function(t,e,n){return i(t,e,n)},removeData:function(t,e){return a(t,e)},_data:function(t,e,n){return i(t,e,n,!0)},_removeData:function(t,e){return a(t,e,!0)}}),dt.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(t===undefined){if(this.length&&(r=dt.data(o),1===o.nodeType&&!dt._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&u(o,i=dt.camelCase(i.slice(5)),r[i]);dt._data(o,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each(function(){dt.data(this,t)}):1<arguments.length?this.each(function(){dt.data(this,t,e)}):o?u(o,t,dt.data(o,t)):undefined},removeData:function(t){return this.each(function(){dt.removeData(this,t)})}}),dt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=dt._data(t,e),n&&(!i||dt.isArray(n)?i=dt._data(t,e,dt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=dt.queue(t,e),i=n.length,r=n.shift(),o=dt._queueHooks(t,e),a=function(){dt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return dt._data(t,n)||dt._data(t,n,{empty:dt.Callbacks("once memory").add(function(){dt._removeData(t,e+"queue"),dt._removeData(t,n)})})}}),dt.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?dt.queue(this[0],e):n===undefined?this:this.each(function(){var t=dt.queue(this,e,n);dt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&dt.dequeue(this,e)})},dequeue:function(t){return this.each(function(){dt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=dt.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";a--;)(n=dt._data(o[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}}),ht.shrinkWrapBlocks=function(){return null!=Pt?Pt:(Pt=!1,(e=it.getElementsByTagName("body")[0])&&e.style?(t=it.createElement("div"),(n=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(n).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(it.createElement("div")).style.width="5px",Pt=3!==t.offsetWidth),e.removeChild(n),Pt):void 0);var t,e,n};var Ot,It,Ft,zt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Vt=new RegExp("^(?:([+-])=|)("+zt+")([a-z%]*)$","i"),jt=["Top","Right","Bottom","Left"],Gt=function(t,e){return t=e||t,"none"===dt.css(t,"display")||!dt.contains(t.ownerDocument,t)},Ht=function(t,e,n,i,r,o,a){var s=0,u=t.length,l=null==n;if("object"===dt.type(n))for(s in r=!0,n)Ht(t,e,s,n[s],!0,o,a);else if(i!==undefined&&(r=!0,dt.isFunction(i)||(a=!0),l&&(a?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(dt(t),n)})),e))for(;s<u;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:l?e.call(t):u?e(t[0],n):o},$t=/^(?:checkbox|radio)$/i,qt=/<([\w:-]+)/,Bt=/^$|\/(?:java|ecma)script/i,Ut=/^\s+/,Xt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";Ot=it.createElement("div"),It=it.createDocumentFragment(),Ft=it.createElement("input"),Ot.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ht.leadingWhitespace=3===Ot.firstChild.nodeType,ht.tbody=!Ot.getElementsByTagName("tbody").length,ht.htmlSerialize=!!Ot.getElementsByTagName("link").length,ht.html5Clone="<:nav></:nav>"!==it.createElement("nav").cloneNode(!0).outerHTML,Ft.type="checkbox",Ft.checked=!0,It.appendChild(Ft),ht.appendChecked=Ft.checked,Ot.innerHTML="<textarea>x</textarea>",ht.noCloneChecked=!!Ot.cloneNode(!0).lastChild.defaultValue,It.appendChild(Ot),(Ft=it.createElement("input")).setAttribute("type","radio"),Ft.setAttribute("checked","checked"),Ft.setAttribute("name","t"),Ot.appendChild(Ft),ht.checkClone=Ot.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.noCloneEvent=!!Ot.addEventListener,Ot[dt.expando]=1,ht.attributes=!Ot.getAttribute(dt.expando);var Yt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ht.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Yt.optgroup=Yt.option,Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td;var Wt=/<|&#?\w+;/,Qt=/<tbody/i;!function(){var t,e,n=it.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})e="on"+t,(ht[t]=e in S)||(n.setAttribute(e,"t"),ht[t]=!1===n.attributes[e].expando);n=null}();var Zt=/^(?:input|select|textarea)$/i,Kt=/^key/,Jt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,te=/^(?:focusinfocus|focusoutblur)$/,ee=/^([^.]*)(?:\.(.+)|)/;dt.event={global:{},add:function(t,e,n,i,r){var o,a,s,u,l,c,h,f,d,p,g,v=dt._data(t);if(v){for(n.handler&&(n=(u=n).handler,r=u.selector),n.guid||(n.guid=dt.guid++),(a=v.events)||(a=v.events={}),(c=v.handle)||((c=v.handle=function(t){return void 0===dt||t&&dt.event.triggered===t.type?undefined:dt.event.dispatch.apply(c.elem,arguments)}).elem=t),s=(e=(e||"").match(Lt)||[""]).length;s--;)d=g=(o=ee.exec(e[s])||[])[1],p=(o[2]||"").split(".").sort(),d&&(l=dt.event.special[d]||{},d=(r?l.delegateType:l.bindType)||d,l=dt.event.special[d]||{},h=dt.extend({type:d,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&dt.expr.match.needsContext.test(r),namespace:p.join(".")},u),(f=a[d])||((f=a[d]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(t,i,p,c)||(t.addEventListener?t.addEventListener(d,c,!1):t.attachEvent&&t.attachEvent("on"+d,c))),l.add&&(l.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,h):f.push(h),dt.event.global[d]=!0);t=null}},remove:function(t,e,n,i,r){var o,a,s,u,l,c,h,f,d,p,g,v=dt.hasData(t)&&dt._data(t);if(v&&(c=v.events)){for(l=(e=(e||"").match(Lt)||[""]).length;l--;)if(d=g=(s=ee.exec(e[l])||[])[1],p=(s[2]||"").split(".").sort(),d){for(h=dt.event.special[d]||{},f=c[d=(i?h.delegateType:h.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;o--;)a=f[o],!r&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,h.remove&&h.remove.call(t,a));u&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,p,v.handle)||dt.removeEvent(t,d,v.handle),delete c[d])}else for(d in c)dt.event.remove(t,d+e[l],n,i,!0);dt.isEmptyObject(c)&&(delete v.handle,dt._removeData(t,"events"))}},trigger:function(t,e,n,i){var r,o,a,s,u,l,c,h=[n||it],f=ct.call(t,"type")?t.type:t,d=ct.call(t,"namespace")?t.namespace.split("."):[];if(a=l=n=n||it,3!==n.nodeType&&8!==n.nodeType&&!te.test(f+dt.event.triggered)&&(-1<f.indexOf(".")&&(f=(d=f.split(".")).shift(),d.sort()),o=f.indexOf(":")<0&&"on"+f,(t=t[dt.expando]?t:new dt.Event(f,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=d.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=n),e=null==e?[t]:dt.makeArray(e,[t]),u=dt.event.special[f]||{},i||!u.trigger||!1!==u.trigger.apply(n,e))){if(!i&&!u.noBubble&&!dt.isWindow(n)){for(s=u.delegateType||f,te.test(s+f)||(a=a.parentNode);a;a=a.parentNode)h.push(a),l=a;l===(n.ownerDocument||it)&&h.push(l.defaultView||l.parentWindow||S)}for(c=0;(a=h[c++])&&!t.isPropagationStopped();)t.type=1<c?s:u.bindType||f,(r=(dt._data(a,"events")||{})[t.type]&&dt._data(a,"handle"))&&r.apply(a,e),(r=o&&a[o])&&r.apply&&Nt(a)&&(t.result=r.apply(a,e),!1===t.result&&t.preventDefault());if(t.type=f,!i&&!t.isDefaultPrevented()&&(!u._default||!1===u._default.apply(h.pop(),e))&&Nt(n)&&o&&n[f]&&!dt.isWindow(n)){(l=n[o])&&(n[o]=null),dt.event.triggered=f;try{n[f]()}catch(p){}dt.event.triggered=undefined,l&&(n[o]=l)}return t.result}},dispatch:function(t){t=dt.event.fix(t);var e,n,i,r,o,a=[],s=rt.call(arguments),u=(dt._data(this,"events")||{})[t.type]||[],l=dt.event.special[t.type]||{};if((s[0]=t).delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,t)){for(a=dt.event.handlers.call(this,t,u),e=0;(r=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,(i=((dt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))!==undefined&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,a=[],s=e.delegateCount,u=t.target;if(s&&u.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==t.type)){for(i=[],n=0;n<s;n++)i[r=(o=e[n]).selector+" "]===undefined&&(i[r]=o.needsContext?-1<dt(r,this).index(u):dt.find(r,this,null,[u]).length),i[r]&&i.push(o);i.length&&a.push({elem:u,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},fix:function(t){if(t[dt.expando])return t;var e,n,i,r=t.type,o=t,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Jt.test(r)?this.mouseHooks:Kt.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new dt.Event(o),e=i.length;e--;)t[n=i[e]]=o[n];return t.target||(t.target=o.srcElement||it),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(r=(i=t.target.ownerDocument||it).documentElement,n=i.body,t.pageX=e.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||o===undefined||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===p()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(dt.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return dt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var i=dt.extend(new dt.Event,n,{type:t,isSimulated:!0});dt.event.trigger(i,null,e),i.isDefaultPrevented()&&n.preventDefault()}},dt.removeEvent=it.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var i="on"+e;t.detachEvent&&("undefined"==typeof t[i]&&(t[i]=null),t.detachEvent(i,n))},dt.Event=function(t,e){if(!(this instanceof dt.Event))return new dt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?f:d):this.type=t,e&&dt.extend(this,e),this.timeStamp=t&&t.timeStamp||dt.now(),this[dt.expando]=!0},dt.Event.prototype={constructor:dt.Event,isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=f,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=f,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=f,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},dt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,o){dt.event.special[t]={delegateType:o,bindType:o,handle:function(t){var e,n=this,i=t.relatedTarget,r=t.handleObj;return i&&(i===n||dt.contains(n,i))||(t.type=r.origType,e=r.handler.apply(this,arguments),t.type=o),e}}}),ht.submit||(dt.event.special.submit={setup:function(){if(dt.nodeName(this,"form"))return!1;dt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=dt.nodeName(e,"input")||dt.nodeName(e,"button")?dt.prop(e,"form"):undefined;n&&!dt._data(n,"submit")&&(dt.event.add(n,"submit._submit",function(t){t._submitBubble=!0}),dt._data(n,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&dt.event.simulate("submit",this.parentNode,t))},teardown:function(){if(dt.nodeName(this,"form"))return!1;dt.event.remove(this,"._submit")}}),ht.change||(dt.event.special.change={setup:function(){if(Zt.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(dt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),dt.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),dt.event.simulate("change",this,t)})),!1;dt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Zt.test(e.nodeName)&&!dt._data(e,"change")&&(dt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||dt.event.simulate("change",this.parentNode,t)}),dt._data(e,"change",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return dt.event.remove(this,"._change"),!Zt.test(this.nodeName)}}),ht.focusin||dt.each({focus:"focusin",blur:"focusout"},function(n,i){var r=function(t){dt.event.simulate(i,t.target,dt.event.fix(t))};dt.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=dt._data(t,i);e||t.addEventListener(n,r,!0),dt._data(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=dt._data(t,i)-1;e?dt._data(t,i,e):(t.removeEventListener(n,r,!0),dt._removeData(t,i))}}}),dt.fn.extend({on:function(t,e,n,i){return b(this,t,e,n,i)},one:function(t,e,n,i){return b(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,dt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=d),this.each(function(){dt.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){dt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return dt.event.trigger(t,e,n,!0)}});var ne=/ jQuery\d+="(?:null|\d+)"/g,ie=new RegExp("<(?:"+Xt+")[\\s/>]","i"),re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,oe=/<script|<style|<link/i,ae=/checked\s*(?:[^=]|=\s*.checked.)/i,se=/^true\/(.*)/,ue=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,le=v(it).appendChild(it.createElement("div"));dt.extend({htmlPrefilter:function(t){return t.replace(re,"<$1></$2>")},clone:function(t,e,n){var i,r,o,a,s,u=dt.contains(t.ownerDocument,t);if(ht.html5Clone||dt.isXMLDoc(t)||!ie.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(le.innerHTML=t.outerHTML,le.removeChild(o=le.firstChild)),!(ht.noCloneEvent&&ht.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||dt.isXMLDoc(t)))for(i=y(o),s=y(t),a=0;null!=(r=s[a]);++a)i[a]&&k(r,i[a]);if(e)if(n)for(s=s||y(t),i=i||y(o),a=0;null!=(r=s[a]);a++)C(r,i[a]);else C(t,o);return 0<(i=y(o,"script")).length&&m(i,!u&&y(t,"script")),i=s=r=null,o},cleanData:function(t,e){for(var n,i,r,o,a=0,s=dt.expando,u=dt.cache,l=ht.attributes,c=dt.event.special;null!=(n=t[a]);a++)if((e||Nt(n))&&(o=(r=n[s])&&u[r])){if(o.events)for(i in o.events)c[i]?dt.event.remove(n,i):dt.removeEvent(n,i,o.handle);u[r]&&(delete u[r],l||"undefined"==typeof n.removeAttribute?n[s]=undefined:n.removeAttribute(s),nt.push(r))}}}),dt.fn.extend({domManip:M,detach:function(t){return A(this,t,!0)},remove:function(t){return A(this,t)},text:function(t){return Ht(this,function(t){return t===undefined?dt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||it).createTextNode(t))},null,t,arguments.length)},append:function(){return M(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||_(this,t).appendChild(t)})},prepend:function(){return M(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=_(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return M(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return M(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&dt.cleanData(y(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&dt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return dt.clone(this,t,e)})},html:function(t){return Ht(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===undefined)return 1===e.nodeType?e.innerHTML.replace(ne,""):undefined;if("string"==typeof t&&!oe.test(t)&&(ht.htmlSerialize||!ie.test(t))&&(ht.leadingWhitespace||!Ut.test(t))&&!Yt[(qt.exec(t)||["",""])[1].toLowerCase()]){t=dt.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(dt.cleanData(y(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return M(this,arguments,function(t){var e=this.parentNode;dt.inArray(this,n)<0&&(dt.cleanData(y(this)),e&&e.replaceChild(t,this))},n)}}),dt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,a){dt.fn[t]=function(t){for(var e,n=0,i=[],r=dt(t),o=r.length-1;n<=o;n++)e=n===o?this:this.clone(!0),dt(r[n])[a](e),at.apply(i,e.get());return this.pushStack(i)}});var ce,he={HTML:"block",BODY:"block"},fe=/^margin/,de=new RegExp("^("+zt+")(?!px)[a-z%]+$","i"),pe=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=a[o];return r},ge=it.documentElement;!function(){function t(){var t,e,n=it.documentElement;n.appendChild(l),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=o=u=!1,r=s=!0,S.getComputedStyle&&(e=S.getComputedStyle(c),i="1%"!==(e||{}).top,u="2px"===(e||{}).marginLeft,o="4px"===(e||{width:"4px"}).width,c.style.marginRight="50%",r="4px"===(e||{marginRight:"4px"}).marginRight,(t=c.appendChild(it.createElement("div"))).style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",c.style.width="1px",s=!parseFloat((S.getComputedStyle(t)||{}).marginRight),c.removeChild(t)),c.style.display="none",(a=0===c.getClientRects().length)&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",
c.childNodes[0].style.borderCollapse="separate",(t=c.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(a=0===t[0].offsetHeight)&&(t[0].style.display="",t[1].style.display="none",a=0===t[0].offsetHeight)),n.removeChild(l)}var i,r,o,a,s,u,l=it.createElement("div"),c=it.createElement("div");c.style&&(c.style.cssText="float:left;opacity:.5",ht.opacity="0.5"===c.style.opacity,ht.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",ht.clearCloneStyle="content-box"===c.style.backgroundClip,(l=it.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",l.appendChild(c),ht.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,dt.extend(ht,{reliableHiddenOffsets:function(){return null==i&&t(),a},boxSizingReliable:function(){return null==i&&t(),o},pixelMarginRight:function(){return null==i&&t(),r},pixelPosition:function(){return null==i&&t(),i},reliableMarginRight:function(){return null==i&&t(),s},reliableMarginLeft:function(){return null==i&&t(),u}}))}();var ve,ye,me=/^(top|right|bottom|left)$/;S.getComputedStyle?(ve=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=S),e.getComputedStyle(t)},ye=function(t,e,n){var i,r,o,a,s=t.style;return""!==(a=(n=n||ve(t))?n.getPropertyValue(e)||n[e]:undefined)&&a!==undefined||dt.contains(t.ownerDocument,t)||(a=dt.style(t,e)),n&&!ht.pixelMarginRight()&&de.test(a)&&fe.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o),a===undefined?a:a+""}):ge.currentStyle&&(ve=function(t){return t.currentStyle},ye=function(t,e,n){var i,r,o,a,s=t.style;return null==(a=(n=n||ve(t))?n[e]:undefined)&&s&&s[e]&&(a=s[e]),de.test(a)&&!me.test(e)&&(i=s.left,(o=(r=t.runtimeStyle)&&r.left)&&(r.left=t.currentStyle.left),s.left="fontSize"===e?"1em":a,a=s.pixelLeft+"px",s.left=i,o&&(r.left=o)),a===undefined?a:a+""||"auto"});var xe=/alpha\([^)]*\)/i,be=/opacity\s*=\s*([^)]*)/i,_e=/^(none|table(?!-c[ea]).+)/,we=new RegExp("^("+zt+")(.*)$","i"),Se={position:"absolute",visibility:"hidden",display:"block"},Te={letterSpacing:"0",fontWeight:"400"},Ce=["Webkit","O","Moz","ms"],ke=it.createElement("div").style;dt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=ye(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ht.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=dt.camelCase(e),u=t.style;if(e=dt.cssProps[s]||(dt.cssProps[s]=N(s)||s),a=dt.cssHooks[e]||dt.cssHooks[s],n===undefined)return a&&"get"in a&&(r=a.get(t,!1,i))!==undefined?r:u[e];if("string"===(o=typeof n)&&(r=Vt.exec(n))&&r[1]&&(n=h(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(dt.cssNumber[s]?"":"px")),ht.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),!(a&&"set"in a&&(n=a.set(t,n,i))===undefined)))try{u[e]=n}catch(l){}}},css:function(t,e,n,i){var r,o,a,s=dt.camelCase(e);return e=dt.cssProps[s]||(dt.cssProps[s]=N(s)||s),(a=dt.cssHooks[e]||dt.cssHooks[s])&&"get"in a&&(o=a.get(t,!0,n)),o===undefined&&(o=ye(t,e,i)),"normal"===o&&e in Te&&(o=Te[e]),""===n||n?(r=parseFloat(o),!0===n||isFinite(r)?r||0:o):o}}),dt.each(["height","width"],function(t,r){dt.cssHooks[r]={get:function(t,e,n){if(e)return _e.test(dt.css(t,"display"))&&0===t.offsetWidth?pe(t,Se,function(){return I(t,r,n)}):I(t,r,n)},set:function(t,e,n){var i=n&&ve(t);return R(t,e,n?O(t,r,n,ht.boxSizing&&"border-box"===dt.css(t,"boxSizing",!1,i),i):0)}}}),ht.opacity||(dt.cssHooks.opacity={get:function(t,e){return be.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=dt.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";((n.zoom=1)<=e||""===e)&&""===dt.trim(o.replace(xe,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=xe.test(o)?o.replace(xe,r):o+" "+r)}}),dt.cssHooks.marginRight=P(ht.reliableMarginRight,function(t,e){if(e)return pe(t,{display:"inline-block"},ye,[t,"marginRight"])}),dt.cssHooks.marginLeft=P(ht.reliableMarginLeft,function(t,e){if(e)return(parseFloat(ye(t,"marginLeft"))||(dt.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-pe(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px"}),dt.each({margin:"",padding:"",border:"Width"},function(r,o){dt.cssHooks[r+o]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[r+jt[e]+o]=i[e]||i[e-2]||i[0];return n}},fe.test(r)||(dt.cssHooks[r+o].set=R)}),dt.fn.extend({css:function(t,e){return Ht(this,function(t,e,n){var i,r,o={},a=0;if(dt.isArray(e)){for(i=ve(t),r=e.length;a<r;a++)o[e[a]]=dt.css(t,e[a],!1,i);return o}return n!==undefined?dt.style(t,e,n):dt.css(t,e)},t,e,1<arguments.length)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Gt(this)?dt(this).show():dt(this).hide()})}}),(dt.Tween=F).prototype={constructor:F,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||dt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(dt.cssNumber[n]?"":"px")},cur:function(){var t=F.propHooks[this.prop];return t&&t.get?t.get(this):F.propHooks._default.get(this)},run:function(t){var e,n=F.propHooks[this.prop];return this.options.duration?this.pos=e=dt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=dt.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){dt.fx.step[t.prop]?dt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[dt.cssProps[t.prop]]&&!dt.cssHooks[t.prop]?t.elem[t.prop]=t.now:dt.style(t.elem,t.prop,t.now+t.unit)}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},dt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},dt.fx=F.prototype.init,dt.fx.step={};var Me,Ae,Ee,Le,Pe,Ne,De,Re=/^(?:toggle|show|hide)$/,Oe=/queueHooks$/;dt.Animation=dt.extend($,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return h(n.elem,t,Vt.exec(e),n),n}]},tweener:function(t,e){dt.isFunction(t)?(e=t,t=["*"]):t=t.match(Lt);for(var n,i=0,r=t.length;i<r;i++)n=t[i],$.tweeners[n]=$.tweeners[n]||[],$.tweeners[n].unshift(e)},prefilters:[G],prefilter:function(t,e){e?$.prefilters.unshift(t):$.prefilters.push(t)}}),dt.speed=function(t,e,n){var i=t&&"object"==typeof t?dt.extend({},t):{complete:n||!n&&e||dt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!dt.isFunction(e)&&e};return i.duration=dt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in dt.fx.speeds?dt.fx.speeds[i.duration]:dt.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){dt.isFunction(i.old)&&i.old.call(this),i.queue&&dt.dequeue(this,i.queue)},i},dt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Gt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){var r=dt.isEmptyObject(e),o=dt.speed(t,n,i),a=function(){var t=$(this,dt.extend({},e),o);(r||dt._data(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(r,t,o){var a=function(t){var e=t.stop;delete t.stop,e(o)};return"string"!=typeof r&&(o=t,t=r,r=undefined),t&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var t=!0,e=null!=r&&r+"queueHooks",n=dt.timers,i=dt._data(this);if(e)i[e]&&i[e].stop&&a(i[e]);else for(e in i)i[e]&&i[e].stop&&Oe.test(e)&&a(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=r&&n[e].queue!==r||(n[e].anim.stop(o),t=!1,n.splice(e,1));!t&&o||dt.dequeue(this,r)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var t,e=dt._data(this),n=e[a+"queue"],i=e[a+"queueHooks"],r=dt.timers,o=n?n.length:0;for(e.finish=!0,dt.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===a&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),dt.each(["toggle","show","hide"],function(t,i){var r=dt.fn[i];dt.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(V(i,!0),t,e,n)}}),dt.each({slideDown:V("show"),slideUp:V("hide"),slideToggle:V("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){dt.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),dt.timers=[],dt.fx.tick=function(){var t,e=dt.timers,n=0;for(Me=dt.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||dt.fx.stop(),Me=undefined},dt.fx.timer=function(t){dt.timers.push(t),t()?dt.fx.start():dt.timers.pop()},dt.fx.interval=13,dt.fx.start=function(){Ae||(Ae=S.setInterval(dt.fx.tick,dt.fx.interval))},dt.fx.stop=function(){S.clearInterval(Ae),Ae=null},dt.fx.speeds={slow:600,fast:200,_default:400},dt.fn.delay=function(i,t){return i=dt.fx&&dt.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=S.setTimeout(t,i);e.stop=function(){S.clearTimeout(n)}})},Le=it.createElement("input"),Pe=it.createElement("div"),Ne=it.createElement("select"),De=Ne.appendChild(it.createElement("option")),(Pe=it.createElement("div")).setAttribute("className","t"),Pe.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",Ee=Pe.getElementsByTagName("a")[0],Le.setAttribute("type","checkbox"),Pe.appendChild(Le),(Ee=Pe.getElementsByTagName("a")[0]).style.cssText="top:1px",ht.getSetAttribute="t"!==Pe.className,ht.style=/top/.test(Ee.getAttribute("style")),ht.hrefNormalized="/a"===Ee.getAttribute("href"),ht.checkOn=!!Le.value,ht.optSelected=De.selected,ht.enctype=!!it.createElement("form").enctype,Ne.disabled=!0,ht.optDisabled=!De.disabled,(Le=it.createElement("input")).setAttribute("value",""),ht.input=""===Le.getAttribute("value"),Le.value="t",Le.setAttribute("type","radio"),ht.radioValue="t"===Le.value;var Ie=/\r/g,Fe=/[\x20\t\r\n\f]+/g;dt.fn.extend({val:function(n){var i,t,r,e=this[0];return arguments.length?(r=dt.isFunction(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=r?n.call(this,t,dt(this).val()):n)?e="":"number"==typeof e?e+="":dt.isArray(e)&&(e=dt.map(e,function(t){return null==t?"":t+""})),(i=dt.valHooks[this.type]||dt.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,e,"value")!==undefined||(this.value=e))})):e?(i=dt.valHooks[e.type]||dt.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&(t=i.get(e,"value"))!==undefined?t:"string"==typeof(t=e.value)?t.replace(Ie,""):null==t?"":t:void 0}}),dt.extend({valHooks:{option:{get:function(t){var e=dt.find.attr(t,"value");return null!=e?e:dt.trim(dt.text(t)).replace(Fe," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||r<0,a=o?null:[],s=o?r+1:i.length,u=r<0?s:o?r:0;u<s;u++)if(((n=i[u]).selected||u===r)&&(ht.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!dt.nodeName(n.parentNode,"optgroup"))){if(e=dt(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=dt.makeArray(e),a=r.length;a--;)if(i=r[a],-1<dt.inArray(dt.valHooks.option.get(i),o))try{i.selected=n=!0}catch(s){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),r}}}}),dt.each(["radio","checkbox"],function(){dt.valHooks[this]={set:function(t,e){if(dt.isArray(e))return t.checked=-1<dt.inArray(dt(t).val(),e)}},ht.checkOn||(dt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ze,Ve,je=dt.expr.attrHandle,Ge=/^(?:checked|selected)$/i,He=ht.getSetAttribute,$e=ht.input;dt.fn.extend({attr:function(t,e){return Ht(this,dt.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){dt.removeAttr(this,t)})}}),dt.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?dt.prop(t,e,n):(1===o&&dt.isXMLDoc(t)||(e=e.toLowerCase(),r=dt.attrHooks[e]||(dt.expr.match.bool.test(e)?Ve:ze)),n!==undefined?null===n?void dt.removeAttr(t,e):r&&"set"in r&&(i=r.set(t,n,e))!==undefined?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=dt.find.attr(t,e))?undefined:i)},attrHooks:{type:{set:function(t,e){if(!ht.radioValue&&"radio"===e&&dt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(Lt);if(o&&1===t.nodeType)for(;n=o[r++];)i=dt.propFix[n]||n,dt.expr.match.bool.test(n)?$e&&He||!Ge.test(n)?t[i]=!1:t[dt.camelCase("default-"+n)]=t[i]=!1:dt.attr(t,n,""),t.removeAttribute(He?n:i)}}),Ve={set:function(t,e,n){return!1===e?dt.removeAttr(t,n):$e&&He||!Ge.test(n)?t.setAttribute(!He&&dt.propFix[n]||n,n):t[dt.camelCase("default-"+n)]=t[n]=!0,n}},dt.each(dt.expr.match.bool.source.match(/\w+/g),function(t,e){var o=je[e]||dt.find.attr;$e&&He||!Ge.test(e)?je[e]=function(t,e,n){var i,r;return n||(r=je[e],je[e]=i,i=null!=o(t,e,n)?e.toLowerCase():null,je[e]=r),i}:je[e]=function(t,e,n){if(!n)return t[dt.camelCase("default-"+e)]?e.toLowerCase():null}}),$e&&He||(dt.attrHooks.value={set:function(t,e,n){if(!dt.nodeName(t,"input"))return ze&&ze.set(t,e,n);t.defaultValue=e}}),He||(ze={set:function(t,e,n){var i=t.getAttributeNode(n);if(i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n))return e}},je.id=je.name=je.coords=function(t,e,n){var i;if(!n)return(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},dt.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:ze.set},dt.attrHooks.contenteditable={set:function(t,e,n){ze.set(t,""!==e&&e,n)}},dt.each(["width","height"],function(t,n){dt.attrHooks[n]={set:function(t,e){if(""===e)return t.setAttribute(n,"auto"),e}}})),ht.style||(dt.attrHooks.style={get:function(t){return t.style.cssText||undefined},set:function(t,e){return t.style.cssText=e+""}});var qe=/^(?:input|select|textarea|button|object)$/i,Be=/^(?:a|area)$/i;dt.fn.extend({prop:function(t,e){return Ht(this,dt.prop,t,e,1<arguments.length)},removeProp:function(e){return e=dt.propFix[e]||e,this.each(function(){try{this[e]=undefined,delete this[e]}catch(t){}})}}),dt.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&dt.isXMLDoc(t)||(e=dt.propFix[e]||e,r=dt.propHooks[e]),n!==undefined?r&&"set"in r&&(i=r.set(t,n,e))!==undefined?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=dt.find.attr(t,"tabindex");return e?parseInt(e,10):qe.test(t.nodeName)||Be.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ht.hrefNormalized||dt.each(["href","src"],function(t,e){dt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ht.optSelected||(dt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),dt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){dt.propFix[this.toLowerCase()]=this}),ht.enctype||(dt.propFix.enctype="encoding");var Ue=/[\t\r\n\f]/g;dt.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,u=0;if(dt.isFunction(e))return this.each(function(t){dt(this).addClass(e.call(this,t,q(this)))});if("string"==typeof e&&e)for(t=e.match(Lt)||[];n=this[u++];)if(r=q(n),i=1===n.nodeType&&(" "+r+" ").replace(Ue," ")){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=dt.trim(i))&&dt.attr(n,"class",s)}return this},removeClass:function(e){var t,n,i,r,o,a,s,u=0;if(dt.isFunction(e))return this.each(function(t){dt(this).removeClass(e.call(this,t,q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Lt)||[];n=this[u++];)if(r=q(n),i=1===n.nodeType&&(" "+r+" ").replace(Ue," ")){for(a=0;o=t[a++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");r!==(s=dt.trim(i))&&dt.attr(n,"class",s)}return this},toggleClass:function(r,e){var o=typeof r;return"boolean"==typeof e&&"string"===o?e?this.addClass(r):this.removeClass(r):dt.isFunction(r)?this.each(function(t){dt(this).toggleClass(r.call(this,t,q(this),e),e)}):this.each(function(){var t,e,n,i;if("string"===o)for(e=0,n=dt(this),i=r.match(Lt)||[];t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else r!==undefined&&"boolean"!==o||((t=q(this))&&dt._data(this,"__className__",t),dt.attr(this,"class",t||!1===r?"":dt._data(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+q(n)+" ").replace(Ue," ").indexOf(e))return!0;return!1}}),dt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,n){dt.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),dt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var Xe=S.location,Ye=dt.now(),We=/\?/,Qe=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;dt.parseJSON=function(t){if(S.JSON&&S.JSON.parse)return S.JSON.parse(t+"");var r,o=null,e=dt.trim(t+"");return e&&!dt.trim(e.replace(Qe,function(t,e,n,i){return r&&e&&(o=0),0===o?t:(r=n||e,o+=!i-!n,"")}))?Function("return "+e)():dt.error("Invalid JSON: "+t)},dt.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{S.DOMParser?e=(new S.DOMParser).parseFromString(t,"text/xml"):((e=new S.ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t))}catch(n){e=undefined}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||dt.error("Invalid XML: "+t),e};var Ze=/#.*$/,Ke=/([?&])_=[^&]*/,Je=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,tn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,en=/^(?:GET|HEAD)$/,nn=/^\/\//,rn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,on={},an={},sn="*/".concat("*"),un=Xe.href,ln=rn.exec(un.toLowerCase())||[];dt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:un,type:"GET",isLocal:tn.test(ln[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":sn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":dt.parseJSON,"text xml":dt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?X(X(t,dt.ajaxSettings),e):X(dt.ajaxSettings,t)},ajaxPrefilter:B(on),ajaxTransport:B(an),ajax:function(t,e){function n(t,e,n,i){var r,o,a,s,u,l=e;2!==_&&(_=2,f&&S.clearTimeout(f),p=undefined,h=i||"",w.readyState=0<t?4:0,r=200<=t&&t<300||304===t,n&&(s=Y(g,w,n)),s=W(g,s,w,r),r?(g.ifModified&&((u=w.getResponseHeader("Last-Modified"))&&(dt.lastModified[c]=u),(u=w.getResponseHeader("etag"))&&(dt.etag[c]=u)),204===t||"HEAD"===g.type?l="nocontent":304===t?l="notmodified":(l=s.state,o=s.data,r=!(a=s.error))):(a=l,!t&&l||(l="error",t<0&&(t=0))),w.status=t,w.statusText=(e||l)+"",r?m.resolveWith(v,[o,l,w]):m.rejectWith(v,[w,l,a]),w.statusCode(b),b=undefined,d&&y.trigger(r?"ajaxSuccess":"ajaxError",[w,g,r?o:a]),x.fireWith(v,[w,l]),d&&(y.trigger("ajaxComplete",[w,g]),--dt.active||dt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=undefined),e=e||{};var i,r,c,h,f,d,p,o,g=dt.ajaxSetup({},e),v=g.context||g,y=g.context&&(v.nodeType||v.jquery)?dt(v):dt.event,m=dt.Deferred(),x=dt.Callbacks("once memory"),b=g.statusCode||{},a={},s={},_=0,u="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!o)for(o={};e=Je.exec(h);)o[e[1].toLowerCase()]=e[2];e=o[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?h:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return _||(t=s[n]=s[n]||t,a[t]=e),this},overrideMimeType:function(t){return _||(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(_<2)for(e in t)b[e]=[b[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||u;return p&&p.abort(e),n(0,e),this}};if(m.promise(w).complete=x.add,w.success=w.done,w.error=w.fail,g.url=((t||g.url||un)+"").replace(Ze,"").replace(nn,ln[1]+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=dt.trim(g.dataType||"*").toLowerCase().match(Lt)||[""],null==g.crossDomain&&(i=rn.exec(g.url.toLowerCase()),g.crossDomain=!(!i||i[1]===ln[1]&&i[2]===ln[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(ln[3]||("http:"===ln[1]?"80":"443")))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=dt.param(g.data,g.traditional)),U(on,g,e,w),2===_)return w;for(r in(d=dt.event&&g.global)&&0==dt.active++&&dt.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!en.test(g.type),c=g.url,g.hasContent||(g.data&&(c=g.url+=(We.test(c)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=Ke.test(c)?c.replace(Ke,"$1_="+Ye++):c+(We.test(c)?"&":"?")+"_="+Ye++)),g.ifModified&&(dt.lastModified[c]&&w.setRequestHeader("If-Modified-Since",dt.lastModified[c]),dt.etag[c]&&w.setRequestHeader("If-None-Match",dt.etag[c])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&w.setRequestHeader("Content-Type",g.contentType),w.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+sn+"; q=0.01":""):g.accepts["*"]),g.headers)w.setRequestHeader(r,g.headers[r]);if(g.beforeSend&&(!1===g.beforeSend.call(v,w,g)||2===_))return w.abort();for(r in u="abort",{success:1,error:1,complete:1})w[r](g[r]);if(p=U(an,g,e,w)){if(w.readyState=1,d&&y.trigger("ajaxSend",[w,g]),2===_)return w;g.async&&0<g.timeout&&(f=S.setTimeout(function(){w.abort("timeout")},g.timeout));try{_=1,p.send(a,n)}catch(l){if(!(_<2))throw l;n(-1,l)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return dt.get(t,e,n,"json")},getScript:function(t,e){return dt.get(t,undefined,e,"script")}}),dt.each(["get","post"],function(t,r){dt[r]=function(t,e,n,i){return dt.isFunction(e)&&(i=i||n,n=e,e=undefined),dt.ajax(dt.extend({url:t,type:r,dataType:i,data:e,success:n},dt.isPlainObject(t)&&t))}}),dt._evalUrl=function(t){return dt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},dt.fn.extend({wrapAll:function(e){if(dt.isFunction(e))return this.each(function(t){dt(this).wrapAll(e.call(this,t))});if(this[0]){var t=dt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(n){return dt.isFunction(n)?this.each(function(t){dt(this).wrapInner(n.call(this,t))}):this.each(function(){var t=dt(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=dt.isFunction(e);return this.each(function(t){dt(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){dt.nodeName(this,"body")||dt(this).replaceWith(this.childNodes)}).end()}}),dt.expr.filters.hidden=function(t){return ht.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:Z(t)},dt.expr.filters.visible=function(t){return!dt.expr.filters.hidden(t)};var cn=/%20/g,hn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,pn=/^(?:input|select|textarea|keygen)/i;dt.param=function(t,e){var n,i=[],r=function(t,e){e=dt.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===undefined&&(e=dt.ajaxSettings&&dt.ajaxSettings.traditional),dt.isArray(t)||t.jquery&&!dt.isPlainObject(t))dt.each(t,function(){r(this.name,this.value)});else for(n in t)K(n,t[n],e,r);return i.join("&").replace(cn,"+")},dt.fn.extend({serialize:function(){return dt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=dt.prop(this,"elements");return t?dt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!dt(this).is(":disabled")&&pn.test(this.nodeName)&&!dn.test(t)&&(this.checked||!$t.test(t))}).map(function(t,e){var n=dt(this).val();return null==n?null:dt.isArray(n)?dt.map(n,function(t){return{name:e.name,value:t.replace(fn,"\r\n")}}):{name:e.name,value:n.replace(fn,"\r\n")}}).get()}}),dt.ajaxSettings.xhr=S.ActiveXObject!==undefined?function(){return this.isLocal?tt():8<it.documentMode?J():/^(get|post|head|put|delete|options)$/i.test(this.type)&&J()||tt()}:J;var gn=0,vn={},yn=dt.ajaxSettings.xhr();S.attachEvent&&S.attachEvent("onunload",function(){for(var t in vn)vn[t](undefined,!0)}),ht.cors=!!yn&&"withCredentials"in yn,(yn=ht.ajax=!!yn)&&dt.ajaxTransport(function(l){var c;if(!l.crossDomain||ht.cors)return{send:function(t,a){var e,s=l.xhr(),u=++gn;if(s.open(l.type,l.url,l.async,l.username,l.password),l.xhrFields)for(e in l.xhrFields)s[e]=l.xhrFields[e];for(e in l.mimeType&&s.overrideMimeType&&s.overrideMimeType(l.mimeType),l.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)t[e]!==undefined&&s.setRequestHeader(e,t[e]+"");s.send(l.hasContent&&l.data||null),c=function(t,e){var n,i,r;if(c&&(e||4===s.readyState))if(delete vn[u],c=undefined,s.onreadystatechange=dt.noop,e)4!==s.readyState&&s.abort();else{r={},n=s.status,"string"==typeof s.responseText&&(r.text=s.responseText);try{i=s.statusText}catch(o){i=""}n||!l.isLocal||l.crossDomain?1223===n&&(n=204):n=r.text?200:404}r&&a(n,i,r,s.getAllResponseHeaders())},l.async?4===s.readyState?S.setTimeout(c):s.onreadystatechange=vn[u]=c:c()},abort:function(){c&&c(undefined,!0)}}}),dt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return dt.globalEval(t),t}}}),dt.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),dt.ajaxTransport("script",function(e){if(e.crossDomain){var i,r=it.head||dt("head")[0]||it.documentElement;return{send:function(t,n){(i=it.createElement("script")).async=!0,e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(t,e){(e||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,e||n(200,"success"))},r.insertBefore(i,r.firstChild)},abort:function(){i&&i.onload(undefined,!0)}}}});var mn=[],xn=/(=)\?(?=&|$)|\?\?/;dt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=mn.pop()||dt.expando+"_"+Ye++;return this[t]=!0,t}}),dt.ajaxPrefilter("json jsonp",function(t,e,n){var i,r,o,a=!1!==t.jsonp&&(xn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&xn.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=dt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(xn,"$1"+i):!1!==t.jsonp&&(t.url+=(We.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||dt.error(i+" was not called"),o[0]},t.dataTypes[0]="json",r=S[i],S[i]=function(){o=arguments},n.always(function(){r===undefined?dt(S).removeProp(i):S[i]=r,t[i]&&(t.jsonpCallback=e.jsonpCallback,mn.push(i)),o&&dt.isFunction(r)&&r(o[0]),o=r=undefined}),"script"}),dt.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||it;var i=wt.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=g([t],e,r),r&&r.length&&dt(r).remove(),dt.merge([],i.childNodes))};var bn=dt.fn.load;dt.fn.load=function(t,e,n){if("string"!=typeof t&&bn)return bn.apply(this,arguments);var i,r,o,a=this,s=t.indexOf(" ");return-1<s&&(i=dt.trim(t.slice(s,t.length)),t=t.slice(0,s)),dt.isFunction(e)?(n=e,e=undefined):e&&"object"==typeof e&&(r="POST"),0<a.length&&dt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?dt("<div>").append(dt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},dt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){dt.fn[e]=function(t){return this.on(e,t)}}),dt.expr.filters.animated=function(e){return dt.grep(dt.timers,function(t){return e===t.elem}).length},dt.offset={setOffset:function(t,e,n){var i,r,o,a,s,u,l=dt.css(t,"position"),c=dt(t),h={};"static"===l&&(t.style.position="relative"),s=c.offset(),o=dt.css(t,"top"),u=dt.css(t,"left"),("absolute"===l||"fixed"===l)&&-1<dt.inArray("auto",[o,u])?(a=(i=c.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(u)||0),dt.isFunction(e)&&(e=e.call(t,n,dt.extend({},s))),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+r),"using"in e?e.using.call(t,h):c.css(h)}},dt.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){dt.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(t=o.documentElement,dt.contains(t,r)?("undefined"!=typeof r.getBoundingClientRect&&(i=r.getBoundingClientRect()),n=et(o),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===dt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),dt.nodeName(t[0],"html")||(n=t.offset()),n.top+=dt.css(t[0],"borderTopWidth",!0),n.left+=dt.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-dt.css(i,"marginTop",!0),left:e.left-n.left-dt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!dt.nodeName(t,"html")&&"static"===dt.css(t,"position");)t=t.offsetParent;return t||ge})}}),dt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var o=/Y/.test(r);dt.fn[e]=function(t){return Ht(this,function(t,e,n){var i=et(t);if(n===undefined)return i?r in i?i[r]:i.document.documentElement[e]:t[e];i?i.scrollTo(o?dt(i).scrollLeft():n,o?n:dt(i).scrollTop()):t[e]=n},e,t,arguments.length,null)}}),dt.each(["top","left"],function(t,n){dt.cssHooks[n]=P(ht.pixelPosition,function(t,e){if(e)return e=ye(t,n),de.test(e)?dt(t).position()[n]+"px":e})}),dt.each({Height:"height",Width:"width"},function(o,a){dt.each({padding:"inner"+o,content:a,"":"outer"+o},function(i,t){dt.fn[t]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),r=i||(!0===t||!0===e?"margin":"border");return Ht(this,function(t,e,n){var i;return dt.isWindow(t)?t.document.documentElement["client"+o]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+o],i["scroll"+o],t.body["offset"+o],i["offset"+o],i["client"+o])):n===undefined?dt.css(t,e,r):dt.style(t,e,n,r)},a,n?t:undefined,n,null)}})}),dt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),dt.fn.size=function(){return this.length},dt.fn.andSelf=dt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return dt});var _n=S.jQuery,wn=S.$;return dt.noConflict=function(t){return S.$===dt&&(S.$=wn),t&&S.jQuery===dt&&(S.jQuery=_n),dt},t||(S.jQuery=S.$=dt),dt}),function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Spinner=e()}(this,function(){"use strict";function f(t,e){var n,i=document.createElement(t||"div");for(n in e)i[n]=e[n];return i}function c(t){for(var e=1,n=arguments.length;e<n;e++)t.appendChild(arguments[e]);return t}function a(t,e,n,i){
var r=["opacity",e,~~(100*t),n,i].join("-"),o=.01+n/i*100,a=Math.max(1-(1-t)/e*(100-o),t),s=p.substring(0,p.indexOf("Animation")).toLowerCase(),u=s&&"-"+s+"-"||"";return l[r]||(g.insertRule("@"+u+"keyframes "+r+"{0%{opacity:"+a+"}"+o+"%{opacity:"+t+"}"+(o+.01)+"%{opacity:1}"+(o+e)%100+"%{opacity:"+t+"}100%{opacity:"+a+"}}",g.cssRules.length),l[r]=1),r}function i(t,e){var n,i,r=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<o.length;i++)if(r[n=o[i]+e]!==undefined)return n;if(r[e]!==undefined)return e}function d(t,e){for(var n in e)t.style[i(t,n)||n]=e[n];return t}function e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]===undefined&&(t[i]=n[i])}return t}function h(t,e){return"string"==typeof t?t:t[e%t.length]}function n(t){this.opts=e(t||{},n.defaults,s)}function t(){function l(t,e){return f("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}g.addRule(".spin-vml","behavior:url(#default#VML)"),n.prototype.lines=function(t,i){function r(){return d(l("group",{coordsize:a+" "+a,coordorigin:-o+" "+-o}),{width:a,height:a})}function e(t,e,n){c(u,c(d(r(),{rotation:360/i.lines*t+"deg",left:~~e}),c(d(l("roundrect",{arcsize:i.corners}),{width:o,height:i.width,left:i.radius,top:-i.width>>1,filter:n}),l("fill",{color:h(i.color,t),opacity:i.opacity}),l("stroke",{opacity:0}))))}var n,o=i.length+i.width,a=2*o,s=2*-(i.width+i.length)+"px",u=d(r(),{position:"absolute",top:s,left:s});if(i.shadow)for(n=1;n<=i.lines;n++)e(n,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(n=1;n<=i.lines;n++)e(n);return c(t,u)},n.prototype.opacity=function(t,e,n,i){var r=t.firstChild;i=i.shadow&&i.lines||0,r&&e+i<r.childNodes.length&&(r=(r=(r=r.childNodes[e+i])&&r.firstChild)&&r.firstChild)&&(r.opacity=n)}}var p,r,o=["webkit","Moz","ms","O"],l={},g=(r=f("style",{type:"text/css"}),c(document.getElementsByTagName("head")[0],r),r.sheet||r.styleSheet),s={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};n.defaults={},e(n.prototype,{spin:function(e){this.stop();var n=this,i=n.opts,r=n.el=d(f(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex});i.radius,i.length,i.width;if(d(r,{left:i.left,top:i.top}),e&&e.insertBefore(r,e.firstChild||null),r.setAttribute("role","progressbar"),n.lines(r,n.opts),!p){var o,a=0,s=(i.lines-1)*(1-i.direction)/2,u=i.fps,l=u/i.speed,c=(1-i.opacity)/(l*i.trail/100),h=l/i.lines;!function t(){a++;for(var e=0;e<i.lines;e++)o=Math.max(1-(a+(i.lines-e)*h)%l*c,i.opacity),n.opacity(r,e*i.direction+s,o,i);n.timeout=n.el&&setTimeout(t,~~(1e3/u))}()}return n},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=undefined),this},lines:function(t,n){function e(t,e){return d(f(),{position:"absolute",width:n.length+n.width+"px",height:n.width+"px",background:t,boxShadow:e,transformOrigin:"left",transform:"rotate("+~~(360/n.lines*r+n.rotate)+"deg) translate("+n.radius+"px,0)",borderRadius:(n.corners*n.width>>1)+"px"})}for(var i,r=0,o=(n.lines-1)*(1-n.direction)/2;r<n.lines;r++)i=d(f(),{position:"absolute",top:1+~(n.width/2)+"px",transform:n.hwaccel?"translate3d(0,0,0)":"",opacity:n.opacity,animation:p&&a(n.opacity,n.trail,o+r*n.direction,n.lines)+" "+1/n.speed+"s linear infinite"}),n.shadow&&c(i,d(e("#000","0 0 4px #000"),{top:"2px"})),c(t,c(i,e(h(n.color,r),"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}});var u=d(f("group"),{behavior:"url(#default#VML)"});return!i(u,"transform")&&u.adj?t():p=i(u,"animation"),n}),function(o){o.fn.spin=function(n,i){var r={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}};if(Spinner)return this.each(function(){var t=o(this),e=t.data();e.spinner&&(e.spinner.stop(),delete e.spinner),!1!==n&&("string"==typeof n&&(n=n in r?r[n]:{},i&&(n.color=i)),e.spinner=new Spinner(o.extend({color:t.css("color")},n)).spin(this))});throw"Spinner class not available."}}(jQuery),function(i){"use strict";function t(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(t.style[n]!==undefined)return{end:e[n]};return!1}i.fn.emulateTransitionEnd=function(t){var e=!1,n=this;return i(this).one("bsTransitionEnd",function(){e=!0}),setTimeout(function(){e||i(n).trigger(i.support.transition.end)},t),this},i(function(){i.support.transition=t(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(t){if(i(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(o){"use strict";function t(n){return this.each(function(){var t=o(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new a(this)),"string"==typeof n&&e[n].call(t)})}var e='[data-dismiss="alert"]',a=function(t){o(t).on("click",e,this.close)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.close=function(t){function e(){r.detach().trigger("closed.bs.alert").remove()}var n=o(this),i=n.attr("data-target");i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""));var r=o("#"===i?[]:i);t&&t.preventDefault(),r.length||(r=n.closest(".alert")),r.trigger(t=o.Event("close.bs.alert")),t.isDefaultPrevented()||(r.removeClass("in"),o.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(a.TRANSITION_DURATION):e())};var n=o.fn.alert;o.fn.alert=t,o.fn.alert.Constructor=a,o.fn.alert.noConflict=function(){return o.fn.alert=n,this},o(document).on("click.bs.alert.data-api",e,a.prototype.close)}(jQuery),function(o){"use strict";function n(i){return this.each(function(){var t=o(this),e=t.data("bs.button"),n="object"==typeof i&&i;e||t.data("bs.button",e=new r(this,n)),"toggle"==i?e.toggle():i&&e.setState(i)})}var r=function(t,e){this.$element=o(t),this.options=o.extend({},r.DEFAULTS,e),this.isLoading=!1};r.VERSION="3.3.7",r.DEFAULTS={loadingText:"loading..."},r.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",r=n.data();t+="Text",null==r.resetText&&n.data("resetText",n[i]()),setTimeout(o.proxy(function(){n[i](null==r[t]?this.options[t]:r[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(e).attr(e,e).prop(e,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(e).removeAttr(e).prop(e,!1))},this),0)},r.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var t=o.fn.button;o.fn.button=n,o.fn.button.Constructor=r,o.fn.button.noConflict=function(){return o.fn.button=t,this},o(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=o(t.target).closest(".btn");n.call(e,"toggle"),o(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),e.is("input,button")?e.trigger("focus"):e.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){o(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(h){"use strict";function a(r){return this.each(function(){var t=h(this),e=t.data("bs.carousel"),n=h.extend({},f.DEFAULTS,t.data(),"object"==typeof r&&r),i="string"==typeof r?r:n.slide;e||t.data("bs.carousel",e=new f(this,n)),"number"==typeof r?e.to(r):i?e[i]():n.interval&&e.pause().cycle()})}var f=function(t,e){this.$element=h(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",h.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",h.proxy(this.pause,this)).on("mouseleave.bs.carousel",h.proxy(this.cycle,this))};f.VERSION="3.3.7",f.TRANSITION_DURATION=600,f.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},f.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},f.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(h.proxy(this.next,this),this.options.interval)),this},f.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},f.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},f.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",this.$items.eq(t))},f.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&h.support.transition&&(this.$element.trigger(h.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},f.prototype.next=function(){if(!this.sliding)return this.slide("next")},f.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},f.prototype.slide=function(t,e){var n=this.$element.find(".item.active"),i=e||this.getItemForDirection(t,n),r=this.interval,o="next"==t?"left":"right",a=this;if(i.hasClass("active"))return this.sliding=!1;var s=i[0],u=h.Event("slide.bs.carousel",{relatedTarget:s,direction:o});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=h(this.$indicators.children()[this.getItemIndex(i)]);l&&l.addClass("active")}var c=h.Event("slid.bs.carousel",{relatedTarget:s,direction:o});return h.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,n.addClass(o),i.addClass(o),n.one("bsTransitionEnd",function(){i.removeClass([t,o].join(" ")).addClass("active"),n.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(c)},0)}).emulateTransitionEnd(f.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(c)),r&&this.cycle(),this}};var t=h.fn.carousel;h.fn.carousel=a,h.fn.carousel.Constructor=f,h.fn.carousel.noConflict=function(){return h.fn.carousel=t,this};var e=function(t){var e,n=h(this),i=h(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var r=h.extend({},i.data(),n.data()),o=n.attr("data-slide-to");o&&(r.interval=!1),a.call(i,r),o&&i.data("bs.carousel").to(o),t.preventDefault()}};h(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),h(window).on("load",function(){h('[data-ride="carousel"]').each(function(){var t=h(this);a.call(t,t.data())})})}(jQuery),function(a){"use strict";function r(t){var e,n=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return a(n)}function s(i){return this.each(function(){var t=a(this),e=t.data("bs.collapse"),n=a.extend({},u.DEFAULTS,t.data(),"object"==typeof i&&i);!e&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),e||t.data("bs.collapse",e=new u(this,n)),"string"==typeof i&&e[i]()})}var u=function(t,e){this.$element=a(t),this.options=a.extend({},u.DEFAULTS,e),this.$trigger=a('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};u.VERSION="3.3.7",u.TRANSITION_DURATION=350,u.DEFAULTS={toggle:!0},u.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},u.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(t=e.data("bs.collapse"))&&t.transitioning)){var n=a.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){e&&e.length&&(s.call(e,"hide"),t||e.data("bs.collapse",null));var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return r.call(this);var o=a.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",a.proxy(r,this)).emulateTransitionEnd(u.TRANSITION_DURATION)[i](this.$element[0][o])}}}},u.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=a.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!a.support.transition)return n.call(this);this.$element[e](0).one("bsTransitionEnd",a.proxy(n,this)).emulateTransitionEnd(u.TRANSITION_DURATION)}}},u.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},u.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(t,e){var n=a(e);this.addAriaAndCollapsedClass(r(n),n)},this)).end()},u.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var t=a.fn.collapse;a.fn.collapse=s,a.fn.collapse.Constructor=u,a.fn.collapse.noConflict=function(){return a.fn.collapse=t,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=a(this);e.attr("data-target")||t.preventDefault();var n=r(e),i=n.data("bs.collapse")?"toggle":e.data();s.call(n,i)})}(jQuery),function(s){"use strict";function u(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var n=e&&s(e);return n&&n.length?n:t.parent()}function o(i){i&&3===i.which||(s(e).remove(),s(l).each(function(){var t=s(this),e=u(t),n={relatedTarget:this};e.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&s.contains(e[0],i.target)||(e.trigger(i=s.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger(s.Event("hidden.bs.dropdown",n)))))}))}function t(n){return this.each(function(){var t=s(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new i(this)),"string"==typeof n&&e[n].call(t)})}var e=".dropdown-backdrop",l='[data-toggle="dropdown"]',i=function(t){s(t).on("click.bs.dropdown",this.toggle)};i.VERSION="3.3.7",i.prototype.toggle=function(t){var e=s(this);if(!e.is(".disabled, :disabled")){var n=u(e),i=n.hasClass("open");if(o(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&s(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(s(this)).on("click",o);var r={relatedTarget:this};if(n.trigger(t=s.Event("show.bs.dropdown",r)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger(s.Event("shown.bs.dropdown",r))}return!1}},i.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=s(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=u(e),i=n.hasClass("open");if(!i&&27!=t.which||i&&27==t.which)return 27==t.which&&n.find(l).trigger("focus"),e.trigger("click");var r=" li:not(.disabled):visible a",o=n.find(".dropdown-menu"+r);if(o.length){var a=o.index(t.target);38==t.which&&0<a&&a--,40==t.which&&a<o.length-1&&a++,~a||(a=0),o.eq(a).trigger("focus")}}}};var n=s.fn.dropdown;s.fn.dropdown=t,s.fn.dropdown.Constructor=i,s.fn.dropdown.noConflict=function(){return s.fn.dropdown=n,this},s(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",l,i.prototype.toggle).on("keydown.bs.dropdown.data-api",l,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery),function(o){"use strict";function a(i,r){return this.each(function(){var t=o(this),e=t.data("bs.modal"),n=o.extend({},s.DEFAULTS,t.data(),"object"==typeof i&&i);e||t.data("bs.modal",e=new s(this,n)),"string"==typeof i?e[i](r):n.show&&e.show(r)})}var s=function(t,e){this.options=e,this.$body=o(document.body),this.$element=o(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,o.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};s.VERSION="3.3.7",s.TRANSITION_DURATION=300,s.BACKDROP_TRANSITION_DURATION=150,s.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},s.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},s.prototype.show=function(n){var i=this,t=o.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',o.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){o(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=o.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),t&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var e=o.Event("shown.bs.modal",{relatedTarget:n});t?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(s.TRANSITION_DURATION):i.$element.trigger("focus").trigger(e)}))},s.prototype.hide=function(t){t&&t.preventDefault(),t=o.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),o(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),o.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",o.proxy(this.hideModal,this)).emulateTransitionEnd(s.TRANSITION_DURATION):this.hideModal())},s.prototype.enforceFocus=function(){o(document).off("focusin.bs.modal").on("focusin.bs.modal",o.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},s.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",o.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},s.prototype.resize=function(){this.isShown?o(window).on("resize.bs.modal",o.proxy(this.handleUpdate,this)):o(window).off("resize.bs.modal")},s.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},s.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},s.prototype.backdrop=function(t){var e=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=o.support.transition&&n;if(this.$backdrop=o(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",o.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){e.removeBackdrop(),t&&t()};o.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):r()}else t&&t()},s.prototype.handleUpdate=function(){this.adjustDialog()},s.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},s.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},s.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},s.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},s.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},s.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=o.fn.modal;o.fn.modal=a,o.fn.modal.Constructor=s,o.fn.modal.noConflict=function(){return o.fn.modal=t,this},o(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=o(this),n=e.attr("href"),i=o(e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=i.data("bs.modal")?"toggle":o.extend({remote:!/#/.test(n)&&n},i.data(),e.data());e.is("a")&&t.preventDefault(),i.one("show.bs.modal",function(t){t.isDefaultPrevented()||i.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),a.call(i,r,this)})}(jQuery),function(s){"use strict";function e(n){return this.each(function(){var t=s(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new a(this)),"string"==typeof n&&e[n]()})}var a=function(t){this.element=s(t)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=e.find(".active:last a"),r=s.Event("hide.bs.tab",{relatedTarget:t[0]}),o=s.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(r),t.trigger(o),!o.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=s(n);this.activate(t.closest("li"),e),this.activate(a,a.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},a.prototype.activate=function(t,e,n){function i(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var r=e.find("> .active"),o=n&&s.support.transition&&(r.length&&r.hasClass("fade")||!!e.find("> .fade").length);r.length&&o?r.one("bsTransitionEnd",i).emulateTransitionEnd(a.TRANSITION_DURATION):i(),r.removeClass("in")};var t=s.fn.tab;s.fn.tab=e,s.fn.tab.Constructor=a,s.fn.tab.noConflict=function(){return s.fn.tab=t,this};var n=function(t){t.preventDefault(),e.call(s(this),"show")};s(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(u){"use strict";function n(i){return this.each(function(){var t=u(this),e=t.data("bs.affix"),n="object"==typeof i&&i;e||t.data("bs.affix",e=new l(this,n)),"string"==typeof i&&e[i]()})}var l=function(t,e){this.options=u.extend({},l.DEFAULTS,e),this.$target=u(this.options.target).on("scroll.bs.affix.data-api",u.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",u.proxy(this.checkPositionWithEventLoop,this)),this.$element=u(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};l.VERSION="3.3.7",l.RESET="affix affix-top affix-bottom",l.DEFAULTS={offset:0,target:window},l.prototype.getState=function(t,e,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=o.top)&&"bottom":!(r+a<=t-i)&&"bottom";var s=null==this.affixed,u=s?r:o.top;return null!=n&&r<=n?"top":null!=i&&t-i<=u+(s?a:e)&&"bottom"},l.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(l.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},l.prototype.checkPositionWithEventLoop=function(){setTimeout(u.proxy(this.checkPosition,this),1)},l.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,n=e.top,i=e.bottom,r=Math.max(u(document).height(),u(document.body).height());"object"!=typeof e&&(i=n=e),"function"==typeof n&&(n=e.top(this.$element)),"function"==typeof i&&(i=e.bottom(this.$element));var o=this.getState(r,t,n,i);if(this.affixed!=o){null!=this.unpin&&this.$element.css("top","");var a="affix"+(o?"-"+o:""),s=u.Event(a+".bs.affix");if(this.$element.trigger(s),s.isDefaultPrevented())return;this.affixed=o,this.unpin="bottom"==o?this.getPinnedOffset():null,this.$element.removeClass(l.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}"bottom"==o&&this.$element.offset({top:r-t-i})}};var t=u.fn.affix;u.fn.affix=n,u.fn.affix.Constructor=l,u.fn.affix.noConflict=function(){return u.fn.affix=t,this},u(window).on("load",function(){u('[data-spy="affix"]').each(function(){var t=u(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),n.call(t,e)})})}(jQuery),function(o){"use strict";function r(t,e){this.$body=o(document.body),this.$scrollElement=o(t).is(document.body)?o(window):o(t),this.options=o.extend({},r.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",o.proxy(this.process,this)),this.refresh(),this.process()}function e(i){return this.each(function(){var t=o(this),e=t.data("bs.scrollspy"),n="object"==typeof i&&i;e||t.data("bs.scrollspy",e=new r(this,n)),"string"==typeof i&&e[i]()})}r.VERSION="3.3.7",r.DEFAULTS={offset:10},r.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},r.prototype.refresh=function(){var t=this,i="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),o.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=o(this),e=t.data("target")||t.attr("href"),n=/^#./.test(e)&&o(e);return n&&n.length&&n.is(":visible")&&[[n[i]().top+r,e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},r.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=e)return a!=(t=o[o.length-1])&&this.activate(t);if(a&&e<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)a!=o[t]&&e>=r[t]&&(r[t+1]===undefined||e<r[t+1])&&this.activate(o[t])},r.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=o(e).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},r.prototype.clear=function(){o(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=o.fn.scrollspy;o.fn.scrollspy=e,o.fn.scrollspy.Constructor=r,o.fn.scrollspy.noConflict=function(){return o.fn.scrollspy=t,this},o(window).on("load.bs.scrollspy.data-api",function(){o('[data-spy="scroll"]').each(function(){var t=o(this);e.call(t,t.data())})})}(jQuery),function(g){"use strict";function t(i){return this.each(function(){var t=g(this),e=t.data("bs.tooltip"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.tooltip",e=new v(this,n)),"string"==typeof i&&e[i]())})}var v=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};v.VERSION="3.3.7",v.TRANSITION_DURATION=150,v.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},v.prototype.init=function(t,e,n){if(this.enabled=!0,this.type=t,this.$element=g(e),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&g(g.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),r=i.length;r--;){var o=i[r];if("click"==o)this.$element.on("click."+this.type,this.options.selector,g.proxy(this.toggle,this));else if("manual"!=o){var a="hover"==o?"mouseenter":"focusin",s="hover"==o?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,g.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,g.proxy(this.leave,this))}}this.options.selector?this._options=g.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},v.prototype.getDefaults=function(){return v.DEFAULTS},v.prototype.getOptions=function(t){return(t=g.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},v.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&g.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)}),n},v.prototype.enter=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState)e.hoverState="in";else{
if(clearTimeout(e.timeout),e.hoverState="in",!e.options.delay||!e.options.delay.show)return e.show();e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)}},v.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},v.prototype.leave=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),!e.isInStateTrue()){if(clearTimeout(e.timeout),e.hoverState="out",!e.options.delay||!e.options.delay.hide)return e.hide();e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)}},v.prototype.show=function(){var t=g.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=g.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var n=this,i=this.tip(),r=this.getUID(this.type);this.setContent(),i.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&i.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,s=a.test(o);s&&(o=o.replace(a,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),l=i[0].offsetWidth,c=i[0].offsetHeight;if(s){var h=o,f=this.getPosition(this.$viewport);o="bottom"==o&&u.bottom+c>f.bottom?"top":"top"==o&&u.top-c<f.top?"bottom":"right"==o&&u.right+l>f.width?"left":"left"==o&&u.left-l<f.left?"right":o,i.removeClass(h).addClass(o)}var d=this.getCalculatedOffset(o,u,l,c);this.applyPlacement(d,o);var p=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};g.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",p).emulateTransitionEnd(v.TRANSITION_DURATION):p()}},v.prototype.applyPlacement=function(t,e){var n=this.tip(),i=n[0].offsetWidth,r=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),t.top+=o,t.left+=a,g.offset.setOffset(n[0],g.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in");var s=n[0].offsetWidth,u=n[0].offsetHeight;"top"==e&&u!=r&&(t.top=t.top+r-u);var l=this.getViewportAdjustedDelta(e,t,s,u);l.left?t.left+=l.left:t.top+=l.top;var c=/top|bottom/.test(e),h=c?2*l.left-i+s:2*l.top-r+u,f=c?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(h,n[0][f],c)},v.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},v.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},v.prototype.hide=function(t){function e(){"in"!=n.hoverState&&i.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}var n=this,i=g(this.$tip),r=g.Event("hide.bs."+this.type);if(this.$element.trigger(r),!r.isDefaultPrevented())return i.removeClass("in"),g.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(v.TRANSITION_DURATION):e(),this.hoverState=null,this},v.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},v.prototype.hasContent=function(){return this.getTitle()},v.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],n="BODY"==e.tagName,i=e.getBoundingClientRect();null==i.width&&(i=g.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var r=window.SVGElement&&e instanceof window.SVGElement,o=n?{top:0,left:0}:r?null:t.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=n?{width:g(window).width(),height:g(window).height()}:null;return g.extend({},i,a,s,o)},v.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},v.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-o-a.scroll,u=e.top+o-a.scroll+i;s<a.top?r.top=a.top-s:u>a.top+a.height&&(r.top=a.top+a.height-u)}else{var l=e.left-o,c=e.left+o+n;l<a.left?r.left=a.left-l:c>a.right&&(r.left=a.left+a.width-c)}return r},v.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},v.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},v.prototype.tip=function(){if(!this.$tip&&(this.$tip=g(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},v.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},v.prototype.enable=function(){this.enabled=!0},v.prototype.disable=function(){this.enabled=!1},v.prototype.toggleEnabled=function(){this.enabled=!this.enabled},v.prototype.toggle=function(t){var e=this;t&&((e=g(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},v.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var e=g.fn.tooltip;g.fn.tooltip=t,g.fn.tooltip.Constructor=v,g.fn.tooltip.noConflict=function(){return g.fn.tooltip=e,this}}(jQuery),function(r){"use strict";function t(i){return this.each(function(){var t=r(this),e=t.data("bs.popover"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.popover",e=new o(this,n)),"string"==typeof i&&e[i]())})}var o=function(t,e){this.init("popover",t,e)};if(!r.fn.tooltip)throw new Error("Popover requires tooltip.js");o.VERSION="3.3.7",o.DEFAULTS=r.extend({},r.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),o.prototype=r.extend({},r.fn.tooltip.Constructor.prototype),(o.prototype.constructor=o).prototype.getDefaults=function(){return o.DEFAULTS},o.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},o.prototype.hasContent=function(){return this.getTitle()||this.getContent()},o.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},o.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var e=r.fn.popover;r.fn.popover=t,r.fn.popover.Constructor=o,r.fn.popover.noConflict=function(){return r.fn.popover=e,this}}(jQuery),function(c,u){"use strict";var l;c.rails!==u&&c.error("jquery-ujs has already been loaded!");var t=c(document);c.rails=l={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return c("meta[name=csrf-token]").attr("content")},csrfParam:function(){return c("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=l.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){c('form input[name="'+l.csrfParam()+'"]').val(l.csrfToken())},fire:function(t,e,n){var i=c.Event(e);return t.trigger(i,n),!1!==i.result},confirm:function(t){return confirm(t)},ajax:function(t){return c.ajax(t)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==u&&!1!==t.data("remote")},handleRemote:function(i){var t,e,n,r,o,a;if(l.fire(i,"ajax:before")){if(r=i.data("with-credentials")||null,o=i.data("type")||c.ajaxSettings&&c.ajaxSettings.dataType,i.is("form")){t=i.data("ujs:submit-button-formmethod")||i.attr("method"),e=i.data("ujs:submit-button-formaction")||i.attr("action"),n=c(i[0]).serializeArray();var s=i.data("ujs:submit-button");s&&(n.push(s),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(l.inputChangeSelector)?(t=i.data("method"),e=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):i.is(l.buttonClickSelector)?(t=i.data("method")||"get",e=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):(t=i.data("method"),e=l.href(i),n=i.data("params")||null);return a={type:t||"GET",data:n,dataType:o,beforeSend:function(t,e){if(e.dataType===u&&t.setRequestHeader("accept","*/*;q=0.5, "+e.accepts.script),!l.fire(i,"ajax:beforeSend",[t,e]))return!1;i.trigger("ajax:send",t)},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:l.isCrossDomain(e)},r&&(a.xhrFields={withCredentials:r}),e&&(a.url=e),l.ajax(a)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(t){var e=l.href(t),n=t.data("method"),i=t.attr("target"),r=l.csrfToken(),o=l.csrfParam(),a=c('<form method="post" action="'+e+'"></form>'),s='<input name="_method" value="'+n+'" type="hidden" />';o===u||r===u||l.isCrossDomain(e)||(s+='<input name="'+o+'" value="'+r+'" type="hidden" />'),i&&a.attr("target",i),a.hide().append(s).appendTo("body"),a.submit()},formElements:function(t,e){return t.is("form")?c(t[0].elements).filter(e):t.find(e)},disableFormElements:function(t){l.formElements(t,l.disableSelector).each(function(){l.disableFormElement(c(this))})},disableFormElement:function(t){var e,n;e=t.is("button")?"html":"val",(n=t.data("disable-with"))!==u&&(t.data("ujs:enable-with",t[e]()),t[e](n)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(t){l.formElements(t,l.enableSelector).each(function(){l.enableFormElement(c(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";t.data("ujs:enable-with")!==u&&(t[e](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,n=t.data("confirm"),i=!1;if(!n)return!0;if(l.fire(t,"confirm")){try{i=l.confirm(n)}catch(r){(console.error||console.log).call(console,r.stack||r)}e=l.fire(t,"confirm:complete",[i])}return i&&e},blankInputs:function(t,e,n){var i,r,o,a=c(),s=e||"input,textarea",u=t.find(s),l={};return u.each(function(){(i=c(this)).is("input[type=radio]")?(o=i.attr("name"),l[o]||(0===t.find('input[type=radio]:checked[name="'+o+'"]').length&&(r=t.find('input[type=radio][name="'+o+'"]'),a=a.add(r)),l[o]=o)):(i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):!!i.val())===n&&(a=a.add(i))}),!!a.length&&a},nonBlankInputs:function(t,e){return l.blankInputs(t,e,!0)},stopEverything:function(t){return c(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(t){var e=t.data("disable-with");e!==u&&(t.data("ujs:enable-with",t.html()),t.html(e)),t.bind("click.railsDisable",function(t){return l.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==u&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},l.fire(t,"rails:attachBindings")&&(c.ajaxPrefilter(function(t,e,n){t.crossDomain||l.CSRFProtection(n)}),c(window).on("pageshow.rails",function(){c(c.rails.enableSelector).each(function(){var t=c(this);t.data("ujs:disabled")&&c.rails.enableFormElement(t)}),c(c.rails.linkDisableSelector).each(function(){var t=c(this);t.data("ujs:disabled")&&c.rails.enableElement(t)})}),t.on("ajax:complete",l.linkDisableSelector,function(){l.enableElement(c(this))}),t.on("ajax:complete",l.buttonDisableSelector,function(){l.enableFormElement(c(this))}),t.on("click.rails",l.linkClickSelector,function(t){var e=c(this),n=e.data("method"),i=e.data("params"),r=t.metaKey||t.ctrlKey;if(!l.allowAction(e))return l.stopEverything(t);if(!r&&e.is(l.linkDisableSelector)&&l.disableElement(e),l.isRemote(e)){if(r&&(!n||"GET"===n)&&!i)return!0;var o=l.handleRemote(e);return!1===o?l.enableElement(e):o.fail(function(){l.enableElement(e)}),!1}return n?(l.handleMethod(e),!1):void 0}),t.on("click.rails",l.buttonClickSelector,function(t){var e=c(this);if(!l.allowAction(e)||!l.isRemote(e))return l.stopEverything(t);e.is(l.buttonDisableSelector)&&l.disableFormElement(e);var n=l.handleRemote(e);return!1===n?l.enableFormElement(e):n.fail(function(){l.enableFormElement(e)}),!1}),t.on("change.rails",l.inputChangeSelector,function(t){var e=c(this);return l.allowAction(e)&&l.isRemote(e)?(l.handleRemote(e),!1):l.stopEverything(t)}),t.on("submit.rails",l.formSubmitSelector,function(t){var e,n,i=c(this),r=l.isRemote(i);if(!l.allowAction(i))return l.stopEverything(t);if(i.attr("novalidate")===u)if(i.data("ujs:formnovalidate-button")===u){if((e=l.blankInputs(i,l.requiredInputSelector,!1))&&l.fire(i,"ajax:aborted:required",[e]))return l.stopEverything(t)}else i.data("ujs:formnovalidate-button",u);if(r){if(n=l.nonBlankInputs(i,l.fileInputSelector)){setTimeout(function(){l.disableFormElements(i)},13);var o=l.fire(i,"ajax:aborted:file",[n]);return o||setTimeout(function(){l.enableFormElements(i)},13),o}return l.handleRemote(i),!1}setTimeout(function(){l.disableFormElements(i)},13)}),t.on("click.rails",l.formInputClickSelector,function(t){var e=c(this);if(!l.allowAction(e))return l.stopEverything(t);var n=e.attr("name"),i=n?{name:n,value:e.val()}:null,r=e.closest("form");0===r.length&&(r=c("#"+e.attr("form"))),r.data("ujs:submit-button",i),r.data("ujs:formnovalidate-button",e.attr("formnovalidate")),r.data("ujs:submit-button-formaction",e.attr("formaction")),r.data("ujs:submit-button-formmethod",e.attr("formmethod"))}),t.on("ajax:send.rails",l.formSubmitSelector,function(t){this===t.target&&l.disableFormElements(c(this))}),t.on("ajax:complete.rails",l.formSubmitSelector,function(t){this===t.target&&l.enableFormElements(c(this))}),c(function(){l.refreshCSRFTokens()}))}(jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.c3=e()}(this,function(){"use strict";function r(t,e){var n=this;n.component=t,n.params=e||{},n.d3=t.d3,n.scale=n.d3.scale.linear(),n.range,n.orient="bottom",n.innerTickSize=6,n.outerTickSize=this.params.withOuterTick?6:0,n.tickPadding=3,n.tickValues=null,n.tickFormat,n.tickArguments,n.tickOffset=0,n.tickCulling=!0,n.tickCentered,n.tickTextCharSize,n.tickTextRotate=n.params.tickTextRotate,n.tickLength,n.axis=n.generateAxis()}function t(t,e,n){this.owner=t,S.chart.internal[e]=n}function e(t){var n=this.internal=new i(this);n.loadConfig(t),n.beforeInit(t),n.init(),n.afterInit(t),function e(n,i,r){Object.keys(n).forEach(function(t){i[t]=n[t].bind(r),0<Object.keys(n[t]).length&&e(n[t],i[t],r)})}(b,this,this)}function i(t){var e=this;e.d3=window.d3?window.d3:"undefined"!=typeof require?require("d3"):undefined,e.api=t,e.config=e.getDefaultConfig(),e.data={},e.cache={},e.axes={}}var o,a,G={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},n=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},k=function(t){return t||0===t},h=function(t){return"function"==typeof t},c=function(t){return Array.isArray(t)},f=function(t){return"string"==typeof t},w=function(t){return void 0===t},I=function(t){return void 0!==t},d=function(t){return 10*Math.ceil(t/10)},p=function(t){return Math.ceil(t)+.5},O=function(t){return t[1]-t[0]},g=function(t){return null==t||f(t)&&0===t.length||"object"===(void 0===t?"undefined":u(t))&&0===Object.keys(t).length},M=function(t){return!_.isEmpty(t)},H=function(t,e,n){return I(t[e])?t[e]:n},v=function(e,n){var i=!1;return Object.keys(e).forEach(function(t){e[t]===n&&(i=!0)}),i},y=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},m=function(t){var e=t.getBoundingClientRect(),n=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)];return{x:n[0].x,y:Math.min(n[0].y,n[1].y),width:e.width,height:e.height}};(a=r.prototype).axisX=function(t,e,n){t.attr("transform",function(t){return"translate("+Math.ceil(e(t)+n)+", 0)"})},a.axisY=function(t,e){t.attr("transform",function(t){return"translate(0,"+Math.ceil(e(t))+")"})},a.scaleExtent=function(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]},a.generateTicks=function(t){var e,n,i=this,r=[];if(t.ticks)return t.ticks.apply(t,i.tickArguments);for(n=t.domain(),e=Math.ceil(n[0]);e<n[1];e++)r.push(e);return 0<r.length&&0<r[0]&&r.unshift(r[0]-(r[1]-r[0])),r},a.copyScale=function(){var t,e=this,n=e.scale.copy();return e.params.isCategory&&(t=e.scale.domain(),n.domain([t[0],t[1]-1])),n},a.textFormatted=function(t){var e=this,n=e.tickFormat?e.tickFormat(t):t;return void 0!==n?n:""},a.updateRange=function(){var t=this;return t.range=t.scale.rangeExtent?t.scale.rangeExtent():t.scaleExtent(t.scale.range()),t.range},a.updateTickTextCharSize=function(t){var o=this;if(o.tickTextCharSize)return o.tickTextCharSize;var a={h:11.5,w:5.5};return t.select("text").text(function(t){return o.textFormatted(t)}).each(function(t){var e=this.getBoundingClientRect(),n=o.textFormatted(t),i=e.height,r=n?e.width/n.length:undefined;i&&r&&(a.h=i,a.w=r)}).text(""),o.tickTextCharSize=a},a.transitionise=function(t){return this.params.withoutTransition?t:this.d3.transition(t)},a.isVertical=function(){return"left"===this.orient||"right"===this.orient},a.tspanData=function(t,e,n,i){var r=this,o=r.params.tickMultiline?r.splitTickText(t,n,i):[].concat(r.textFormatted(t));return o.map(function(t){return{index:e,splitted:t,length:o.length}})},a.splitTickText=function(t,e,n){function i(t,e){o=undefined;for(var n=1;n<e.length;n++)if(" "===e.charAt(n)&&(o=n),r=e.substr(0,n+1),a=s.tickTextCharSize.w*r.length,l<a)return i(t.concat(e.substr(0,o||n)),e.slice(o?o+1:n));return t.concat(e)}var r,o,a,s=this,u=s.textFormatted(t),l=s.params.tickWidth,c=[];return"[object Array]"===Object.prototype.toString.call(u)?u:((!l||l<=0)&&(l=s.isVertical()?95:s.params.isCategory?Math.ceil(n(e[1])-n(e[0]))-12:110),i(c,u+""))},a.updateTickLength=function(){var t=this;t.tickLength=Math.max(t.innerTickSize,0)+t.tickPadding},a.lineY2=function(t){var e=this,n=e.scale(t)+(e.tickCentered?0:e.tickOffset);return e.range[0]<n&&n<e.range[1]?e.innerTickSize:0},a.textY=function(){var t=this,e=t.tickTextRotate;return e?11.5-e/15*2.5*(0<e?1:-1):t.tickLength},a.textTransform=function(){var t=this.tickTextRotate;return t?"rotate("+t+")":""},a.textTextAnchor=function(){var t=this.tickTextRotate;return t?0<t?"start":"end":"middle"},a.tspanDx=function(){var t=this.tickTextRotate;return t?8*Math.sin(Math.PI*(t/180)):0},a.tspanDy=function(t,e){var n=this,i=n.tickTextCharSize.h;return 0===e&&(i=n.isVertical()?-((t.length-1)*(n.tickTextCharSize.h/2)-3):".71em"),i},a.generateAxis=function(){function m(t){t.each(function(){var t,e,n,i=m.g=b.select(this),r=this.__chart__||x.scale,o=this.__chart__=x.copyScale(),a=x.tickValues?x.tickValues:x.generateTicks(o),s=i.selectAll(".tick").data(a,o),u=s.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),l=s.exit().remove(),c=x.transitionise(s).style("opacity",1);_.isCategory?(x.tickOffset=Math.ceil((o(1)-o(0))/2),e=x.tickCentered?0:x.tickOffset,n=x.tickCentered?x.tickOffset:0):x.tickOffset=e=0,u.append("line"),u.append("text"),x.updateRange(),x.updateTickLength(),x.updateTickTextCharSize(i.select(".tick"));var h=c.select("line"),f=c.select("text"),d=s.select("text").selectAll("tspan").data(function(t,e){return x.tspanData(t,e,a,o)});d.enter().append("tspan"),d.exit().remove(),d.text(function(t){return t.splitted});var p=i.selectAll(".domain").data([0]),g=(p.enter().append("path").attr("class","domain"),x.transitionise(p));switch(x.orient){case"bottom":t=x.axisX,h.attr("x1",e).attr("x2",e).attr("y2",function(t,e){return x.lineY2(t,e)}),f.attr("x",0).attr("y",function(t,e){return x.textY(t,e)}).attr("transform",function(t,e){return x.textTransform(t,e)}).style("text-anchor",function(t,e){return x.textTextAnchor(t,e)}),d.attr("x",0).attr("dy",function(t,e){return x.tspanDy(t,e)}).attr("dx",function(t,e){return x.tspanDx(t,e)}),g.attr("d","M"+x.range[0]+","+x.outerTickSize+"V0H"+x.range[1]+"V"+x.outerTickSize);break;case"top":t=x.axisX,h.attr("x2",0).attr("y2",-x.innerTickSize),f.attr("x",0).attr("y",-x.tickLength).style("text-anchor","middle"),d.attr("x",0).attr("dy","0em"),g.attr("d","M"+x.range[0]+","+-x.outerTickSize+"V0H"+x.range[1]+"V"+-x.outerTickSize);break;case"left":t=x.axisY,h.attr("x2",-x.innerTickSize).attr("y1",n).attr("y2",n),f.attr("x",-x.tickLength).attr("y",x.tickOffset).style("text-anchor","end"),d.attr("x",-x.tickLength).attr("dy",function(t,e){return x.tspanDy(t,e)}),g.attr("d","M"+-x.outerTickSize+","+x.range[0]+"H0V"+x.range[1]+"H"+-x.outerTickSize);break;case"right":t=x.axisY,h.attr("x2",x.innerTickSize).attr("y2",0),f.attr("x",x.tickLength).attr("y",0).style("text-anchor","start"),d.attr("x",x.tickLength).attr("dy",function(t,e){return x.tspanDy(t,e)}),g.attr("d","M"+x.outerTickSize+","+x.range[0]+"H0V"+x.range[1]+"H"+x.outerTickSize)}if(o.rangeBand){var v=o,y=v.rangeBand()/2;r=o=function(t){return v(t)+y}}else r.rangeBand?r=o:l.call(t,o,x.tickOffset);u.call(t,r,x.tickOffset),c.call(t,o,x.tickOffset)})}var x=this,b=x.d3,_=x.params;return m.scale=function(t){return arguments.length?(x.scale=t,m):x.scale},m.orient=function(t){return arguments.length?(x.orient=t in{top:1,right:1,bottom:1,left:1}?t+"":"bottom",m):x.orient},m.tickFormat=function(t){return arguments.length?(x.tickFormat=t,m):x.tickFormat},m.tickCentered=function(t){return arguments.length?(x.tickCentered=t,m):x.tickCentered},m.tickOffset=function(){return x.tickOffset},m.tickInterval=function(){var t;return(t=_.isCategory?2*x.tickOffset:(m.g.select("path.domain").node().getTotalLength()-2*x.outerTickSize)/m.g.selectAll("line").size())===Infinity?0:t},m.ticks=function(){return arguments.length?(x.tickArguments=arguments,m):x.tickArguments},m.tickCulling=function(t){return arguments.length?(x.tickCulling=t,m):x.tickCulling},m.tickValues=function(t){if("function"==typeof t)x.tickValues=function(){return t(x.scale.domain())};else{if(!arguments.length)return x.tickValues;x.tickValues=t}return m},m};var x=function(){function i(t){s(this,i);var e={fn:o,internal:{fn:a}},n=l(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,"axis",e));return n.d3=t.d3,n.internal=r,n}return n(i,t),i}();(o=x.prototype).init=function(){var t=this.owner,e=t.config,n=t.main;t.axes.x=n.append("g").attr("class",G.axis+" "+G.axisX).attr("clip-path",t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",G.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=n.append("g").attr("class",G.axis+" "+G.axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",G.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=n.append("g").attr("class",G.axis+" "+G.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",G.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},o.getXAxis=function(t,e,n,i,r,o,a){var s=this.owner,u=s.config,l={isCategory:s.isCategorized(),withOuterTick:r,tickMultiline:u.axis_x_tick_multiline,tickWidth:u.axis_x_tick_width,tickTextRotate:a?0:u.axis_x_tick_rotate,withoutTransition:o},c=new this.internal(this,l).axis.scale(t).orient(e);return s.isTimeSeries()&&i&&"function"!=typeof i&&(i=i.map(function(t){return s.parseDate(t)})),c.tickFormat(n).tickValues(i),s.isCategorized()&&(c.tickCentered(u.axis_x_tick_centered),g(u.axis_x_tick_culling)&&(u.axis_x_tick_culling=!1)),c},o.updateXAxisTickValues=function(t,e){var n,i=this.owner,r=i.config;return(r.axis_x_tick_fit||r.axis_x_tick_count)&&(n=this.generateTickValues(i.mapTargetsToUniqueXs(t),r.axis_x_tick_count,i.isTimeSeries())),e?e.tickValues(n):(i.xAxis.tickValues(n),i.subXAxis.tickValues(n)),n},o.getYAxis=function(t,e,n,i,r,o,a){var s=this.owner,u=s.config,l={withOuterTick:r,withoutTransition:o,tickTextRotate:a?0:u.axis_y_tick_rotate},c=new this.internal(this,l).axis.scale(t).orient(e).tickFormat(n);return s.isTimeSeriesY()?c.ticks(s.d3.time[u.axis_y_tick_time_value],u.axis_y_tick_time_interval):c.tickValues(i),c},o.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},o.getXAxisTickFormat=function(){var e=this.owner,n=e.config,i=e.isTimeSeries()?e.defaultAxisTimeFormat:e.isCategorized()?e.categoryName:function(t){return t<0?t.toFixed(0):t};return n.axis_x_tick_format&&(h(n.axis_x_tick_format)?i=n.axis_x_tick_format:e.isTimeSeries()&&(i=function(t){return t?e.axisTimeFormat(n.axis_x_tick_format)(t):""})),h(i)?function(t){return i.call(e,t)}:i},o.getTickValues=function(t,e){return t||(e?e.tickValues():undefined)},o.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},o.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},o.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},o.getLabelOptionByAxisId=function(t){var e,n=this.owner.config;return"y"===t?e=n.axis_y_label:"y2"===t?e=n.axis_y2_label:"x"===t&&(e=n.axis_x_label),e},o.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return f(e)?e:e?e.text:null},o.setLabelText=function(t,e){var n=this.owner.config,i=this.getLabelOptionByAxisId(t);f(i)?"y"===t?n.axis_y_label=e:"y2"===t?n.axis_y2_label=e:"x"===t&&(n.axis_x_label=e):i&&(i.text=e)},o.getLabelPosition=function(t,e){var n=this.getLabelOptionByAxisId(t),i=n&&"object"===(void 0===n?"undefined":u(n))&&n.position?n.position:e;return{isInner:0<=i.indexOf("inner"),isOuter:0<=i.indexOf("outer"),isLeft:0<=i.indexOf("left"),isCenter:0<=i.indexOf("center"),isRight:0<=i.indexOf("right"),isTop:0<=i.indexOf("top"),isMiddle:0<=i.indexOf("middle"),isBottom:0<=i.indexOf("bottom")}},o.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},o.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},o.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},o.getLabelPositionById=function(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},o.textForXAxisLabel=function(){return this.getLabelText("x")},o.textForYAxisLabel=function(){return this.getLabelText("y")},o.textForY2AxisLabel=function(){return this.getLabelText("y2")},o.xForAxisLabel=function(t,e){var n=this.owner;return t?e.isLeft?0:e.isCenter?n.width/2:n.width:e.isBottom?-n.height:e.isMiddle?-n.height/2:0},o.dxForAxisLabel=function(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},o.textAnchorForAxisLabel=function(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},o.xForXAxisLabel=function(){
return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},o.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},o.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},o.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},o.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},o.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},o.dyForXAxisLabel=function(){var t=this.owner.config,e=this.getXAxisLabelPosition();return t.axis_rotated?e.isInner?"1.2em":-25-this.getMaxTickWidth("x"):e.isInner?"-0.5em":t.axis_x_height?t.axis_x_height-10:"3em"},o.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},o.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},o.textAnchorForXAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())},o.textAnchorForYAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())},o.textAnchorForY2AxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())},o.getMaxTickWidth=function(t,e){var n,i,r,o,a=this.owner,s=a.config,u=0;return e&&a.currentMaxTickWidths[t]||(a.svg&&(n=a.filterTargetsToShow(a.data.targets),"y"===t?(i=a.y.copy().domain(a.getYDomain(n,"y")),r=this.getYAxis(i,a.yOrient,s.axis_y_tick_format,a.yAxisTickValues,!1,!0,!0)):"y2"===t?(i=a.y2.copy().domain(a.getYDomain(n,"y2")),r=this.getYAxis(i,a.y2Orient,s.axis_y2_tick_format,a.y2AxisTickValues,!1,!0,!0)):(i=a.x.copy().domain(a.getXDomain(n)),r=this.getXAxis(i,a.xOrient,a.xAxisTickFormat,a.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(n,r)),(o=a.d3.select("body").append("div").classed("c3",!0)).append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0).append("g").call(r).each(function(){a.d3.select(this).selectAll("text").each(function(){var t=this.getBoundingClientRect();u<t.width&&(u=t.width)}),o.remove()})),a.currentMaxTickWidths[t]=u<=0?a.currentMaxTickWidths[t]:u),a.currentMaxTickWidths[t]},o.updateLabels=function(t){var e=this.owner,n=e.main.select("."+G.axisX+" ."+G.axisXLabel),i=e.main.select("."+G.axisY+" ."+G.axisYLabel),r=e.main.select("."+G.axisY2+" ."+G.axisY2Label);(t?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?i.transition():i).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?r.transition():r).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},o.getPadding=function(t,e,n,i){var r="number"==typeof t?t:t[e];return k(r)?"ratio"===t.unit?t[e]*i:this.convertPixelsToAxisPadding(r,i):n},o.convertPixelsToAxisPadding=function(t,e){var n=this.owner;return e*(t/(n.config.axis_rotated?n.width:n.height))},o.generateTickValues=function(t,e,n){var i,r,o,a,s,u,l,c=t;if(e)if(1===(i=h(e)?e():e))c=[t[0]];else if(2===i)c=[t[0],t[t.length-1]];else if(2<i){for(a=i-2,r=t[0],s=((o=t[t.length-1])-r)/(a+1),c=[r],u=0;u<a;u++)l=+r+s*(u+1),c.push(n?new Date(l):l);c.push(o)}return n||(c=c.sort(function(t,e){return t-e})),c},o.generateTransitions=function(t){var e=this.owner.axes;return{axisX:t?e.x.transition().duration(t):e.x,axisY:t?e.y.transition().duration(t):e.y,axisY2:t?e.y2.transition().duration(t):e.y2,axisSubX:t?e.subx.transition().duration(t):e.subx}},o.redraw=function(t,e){var n=this.owner;n.axes.x.style("opacity",e?0:1),n.axes.y.style("opacity",e?0:1),n.axes.y2.style("opacity",e?0:1),n.axes.subx.style("opacity",e?0:1),t.axisX.call(n.xAxis),t.axisY.call(n.yAxis),t.axisY2.call(n.y2Axis),t.axisSubX.call(n.subXAxis)};var b,_,S={version:"0.4.18"};return S.generate=function(t){return new e(t)},S.chart={fn:e.prototype,internal:{fn:i.prototype}},b=S.chart.fn,(_=S.chart.internal.fn).beforeInit=function(){},_.afterInit=function(){},_.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_headers,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},_.initParams=function(){var t=this,e=t.d3,n=t.config;t.clipId="c3-"+ +new Date+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=!1,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeFormat=n.data_xLocaltime?e.time.format:e.time.format.utc,t.axisTimeFormat=n.axis_x_localtime?e.time.format:e.time.format.utc,t.defaultAxisTimeFormat=t.axisTimeFormat.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%-m/%-d",function(t){return t.getDay()&&1!==t.getDate()}],["%-m/%-d",function(t){return 1!==t.getDate()}],["%-m/%-d",function(t){return t.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=n.axis_rotated?"left":"bottom",t.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",t.y2Orient=n.axis_rotated?n.axis_y2_inner?"bottom":"top":n.axis_y2_inner?"left":"right",t.subXOrient=n.axis_rotated?"left":"bottom",t.isLegendRight="right"===n.legend_position,t.isLegendInset="inset"===n.legend_position,t.isLegendTop="top-left"===n.legend_inset_anchor||"top-right"===n.legend_inset_anchor,t.isLegendLeft="top-left"===n.legend_inset_anchor||"bottom-left"===n.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=undefined,t.axes.subx=e.selectAll([])},_.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},_.initWithData=function(t){var e,n,i=this,r=i.d3,o=i.config,a=!0;i.axis=new x(i),i.initPie&&i.initPie(),i.initBrush&&i.initBrush(),i.initZoom&&i.initZoom(),o.bindto?"function"==typeof o.bindto.node?i.selectChart=o.bindto:i.selectChart=r.select(o.bindto):i.selectChart=r.selectAll([]),i.selectChart.empty()&&(i.selectChart=r.select(document.createElement("div")).style("opacity",0),i.observeInserted(i.selectChart),a=!1),i.selectChart.html("").classed("c3",!0),i.data.xs={},i.data.targets=i.convertDataToTargets(t),o.data_filter&&(i.data.targets=i.data.targets.filter(o.data_filter)),o.data_hide&&i.addHiddenTargetIds(!0===o.data_hide?i.mapToIds(i.data.targets):o.data_hide),o.legend_hide&&i.addHiddenLegendIds(!0===o.legend_hide?i.mapToIds(i.data.targets):o.legend_hide),i.hasType("gauge")&&(o.legend_show=!1),i.updateSizes(),i.updateScales(),i.x.domain(r.extent(i.getXDomain(i.data.targets))),i.y.domain(i.getYDomain(i.data.targets,"y")),i.y2.domain(i.getYDomain(i.data.targets,"y2")),i.subX.domain(i.x.domain()),i.subY.domain(i.y.domain()),i.subY2.domain(i.y2.domain()),i.orgXDomain=i.x.domain(),i.brush&&i.brush.scale(i.subX),o.zoom_enabled&&i.zoom.scale(i.x),i.svg=i.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return o.onmouseover.call(i)}).on("mouseleave",function(){return o.onmouseout.call(i)}),i.config.svg_classname&&i.svg.attr("class",i.config.svg_classname),e=i.svg.append("defs"),i.clipChart=i.appendClip(e,i.clipId),i.clipXAxis=i.appendClip(e,i.clipIdForXAxis),i.clipYAxis=i.appendClip(e,i.clipIdForYAxis),i.clipGrid=i.appendClip(e,i.clipIdForGrid),i.clipSubchart=i.appendClip(e,i.clipIdForSubchart),i.updateSvgSize(),n=i.main=i.svg.append("g").attr("transform",i.getTranslate("main")),i.initSubchart&&i.initSubchart(),i.initTooltip&&i.initTooltip(),i.initLegend&&i.initLegend(),i.initTitle&&i.initTitle(),n.append("text").attr("class",G.text+" "+G.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),i.initRegion(),i.initGrid(),n.append("g").attr("clip-path",i.clipPath).attr("class",G.chart),o.grid_lines_front&&i.initGridLines(),i.initEventRect(),i.initChartElements(),n.insert("rect",o.zoom_privileged?null:"g."+G.regions).attr("class",G.zoomRect).attr("width",i.width).attr("height",i.height).style("opacity",0).on("dblclick.zoom",null),o.axis_x_extent&&i.brush.extent(i.getDefaultExtent()),i.axis.init(),i.updateTargets(i.data.targets),a&&(i.updateDimension(),i.config.oninit.call(i),i.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),i.bindResize(),i.api.element=i.selectChart.node()},_.smoothLines=function(t,e){var o=this;"grid"===e&&t.each(function(){var t=o.d3.select(this),e=t.attr("x1"),n=t.attr("x2"),i=t.attr("y1"),r=t.attr("y2");t.attr({x1:Math.ceil(e),x2:Math.ceil(n),y1:Math.ceil(i),y2:Math.ceil(r)})})},_.updateSizes=function(){var t=this,e=t.config,n=t.legend?t.getLegendHeight():0,i=t.legend?t.getLegendWidth():0,r=t.isLegendRight||t.isLegendInset?0:n,o=t.hasArcType(),a=e.axis_rotated||o?0:t.getHorizontalAxisHeight("x"),s=e.subchart_show&&!o?e.subchart_size_height+a:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+r+t.getCurrentPaddingBottom(),left:s+(o?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:a+s+r+t.getCurrentPaddingBottom(),left:o?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:NaN,bottom:20+r,left:t.rotated_padding_left}:{top:t.currentHeight-s-r,right:NaN,bottom:a+r,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(n,i),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?i+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&!e.gauge_fullCircle&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&o&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},_.updateTargets=function(t){var e=this;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType()&&e.updateTargetsForArc&&e.updateTargetsForArc(t),e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},_.showTargets=function(){var e=this;e.svg.selectAll("."+G.target).filter(function(t){return e.isTargetToShow(t.id)}).transition().duration(e.config.transition_duration).style("opacity",1)},_.redraw=function(t,e){var n,i,r,o,a,s,u,l,c,h,f,d,p,g,v,y,m,x,b,_,w,S,T,C,k,M,A,E,L,P=this,N=P.main,D=P.d3,R=P.config,O=P.getShapeIndices(P.isAreaType),I=P.getShapeIndices(P.isBarType),F=P.getShapeIndices(P.isLineType),z=P.hasArcType(),V=P.filterTargetsToShow(P.data.targets),j=P.xv.bind(P);if(n=H(t=t||{},"withY",!0),i=H(t,"withSubchart",!0),r=H(t,"withTransition",!0),s=H(t,"withTransform",!1),u=H(t,"withUpdateXDomain",!1),l=H(t,"withUpdateOrgXDomain",!1),c=H(t,"withTrimXDomain",!0),p=H(t,"withUpdateXAxis",u),h=H(t,"withLegend",!1),f=H(t,"withEventRect",!0),d=H(t,"withDimension",!0),o=H(t,"withTransitionForExit",r),a=H(t,"withTransitionForAxis",r),b=r?R.transition_duration:0,_=o?b:0,w=a?b:0,e=e||P.axis.generateTransitions(w),h&&R.legend_show?P.updateLegend(P.mapToIds(P.data.targets),t,e):d&&P.updateDimension(!0),P.isCategorized()&&0===V.length&&P.x.domain([0,P.axes.x.selectAll(".tick").size()]),V.length?(P.updateXDomain(V,u,l,c),R.axis_x_tick_values||(C=P.axis.updateXAxisTickValues(V))):(P.xAxis.tickValues([]),P.subXAxis.tickValues([])),R.zoom_rescale&&!t.flow&&(A=P.x.orgDomain()),P.y.domain(P.getYDomain(V,"y",A)),P.y2.domain(P.getYDomain(V,"y2",A)),!R.axis_y_tick_values&&R.axis_y_tick_count&&P.yAxis.tickValues(P.axis.generateTickValues(P.y.domain(),R.axis_y_tick_count)),!R.axis_y2_tick_values&&R.axis_y2_tick_count&&P.y2Axis.tickValues(P.axis.generateTickValues(P.y2.domain(),R.axis_y2_tick_count)),P.axis.redraw(e,z),P.axis.updateLabels(r),(u||p)&&V.length)if(R.axis_x_tick_culling&&C){for(k=1;k<C.length;k++)if(C.length/k<R.axis_x_tick_culling_max){M=k;break}P.svg.selectAll("."+G.axisX+" .tick text").each(function(t){var e=C.indexOf(t);0<=e&&D.select(this).style("display",e%M?"none":"block")})}else P.svg.selectAll("."+G.axisX+" .tick text").style("display","block");g=P.generateDrawArea?P.generateDrawArea(O,!1):undefined,v=P.generateDrawBar?P.generateDrawBar(I):undefined,y=P.generateDrawLine?P.generateDrawLine(F,!1):undefined,m=P.generateXYForText(O,I,F,!0),x=P.generateXYForText(O,I,F,!1),n&&(P.subY.domain(P.getYDomain(V,"y")),P.subY2.domain(P.getYDomain(V,"y2"))),P.updateXgridFocus(),N.select("text."+G.text+"."+G.empty).attr("x",P.width/2).attr("y",P.height/2).text(R.data_empty_label_text).transition().style("opacity",V.length?0:1),P.updateGrid(b),P.updateRegion(b),P.updateBar(_),P.updateLine(_),P.updateArea(_),P.updateCircle(),P.hasDataLabel()&&P.updateText(_),P.redrawTitle&&P.redrawTitle(),P.redrawArc&&P.redrawArc(b,_,s),P.redrawSubchart&&P.redrawSubchart(i,e,b,_,O,I,F),N.selectAll("."+G.selectedCircles).filter(P.isBarType.bind(P)).selectAll("circle").remove(),R.interaction_enabled&&!t.flow&&f&&(P.redrawEventRect(),P.updateZoom&&P.updateZoom()),P.updateCircleY(),E=(P.config.axis_rotated?P.circleY:P.circleX).bind(P),L=(P.config.axis_rotated?P.circleX:P.circleY).bind(P),t.flow&&(T=P.generateFlow({targets:V,flow:t.flow,duration:t.flow.duration,drawBar:v,drawLine:y,drawArea:g,cx:E,cy:L,xv:j,xForText:m,yForText:x})),(b||T)&&P.isTabVisible()?D.transition().duration(b).each(function(){var e=[];[P.redrawBar(v,!0),P.redrawLine(y,!0),P.redrawArea(g,!0),P.redrawCircle(E,L,!0),P.redrawText(m,x,t.flow,!0),P.redrawRegion(!0),P.redrawGrid(!0)].forEach(function(t){t.forEach(function(t){e.push(t)})}),S=P.generateWait(),e.forEach(function(t){S.add(t)})}).call(S,function(){T&&T(),R.onrendered&&R.onrendered.call(P)}):(P.redrawBar(v),P.redrawLine(y),P.redrawArea(g),P.redrawCircle(E,L),P.redrawText(m,x,t.flow),P.redrawRegion(),P.redrawGrid(),R.onrendered&&R.onrendered.call(P)),P.mapToIds(P.data.targets).forEach(function(t){P.withoutFadeIn[t]=!0})},_.updateAndRedraw=function(t){var e,n=this,i=n.config;(t=t||{}).withTransition=H(t,"withTransition",!0),t.withTransform=H(t,"withTransform",!1),t.withLegend=H(t,"withLegend",!1),t.withUpdateXDomain=!0,t.withUpdateOrgXDomain=!0,t.withTransitionForExit=!1,t.withTransitionForTransform=H(t,"withTransitionForTransform",t.withTransition),n.updateSizes(),t.withLegend&&i.legend_show||(e=n.axis.generateTransitions(t.withTransitionForAxis?i.transition_duration:0),n.updateScales(),n.updateSvgSize(),n.transformAll(t.withTransitionForTransform,e)),n.redraw(t,e)},_.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},_.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},_.isCategorized=function(){return 0<=this.config.axis_x_type.indexOf("categor")},_.isCustomX=function(){var t=this,e=t.config;return!t.isTimeSeries()&&(e.data_x||M(e.data_xs))},_.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},_.getTranslate=function(t){var e,n,i=this,r=i.config;return"main"===t?(e=p(i.margin.left),n=p(i.margin.top)):"context"===t?(e=p(i.margin2.left),n=p(i.margin2.top)):"legend"===t?(e=i.margin3.left,n=i.margin3.top):"x"===t?(e=0,n=r.axis_rotated?0:i.height):"y"===t?(e=0,n=r.axis_rotated?i.height:0):"y2"===t?(e=r.axis_rotated?0:i.width,n=r.axis_rotated?1:0):"subx"===t?(e=0,n=r.axis_rotated?0:i.height2):"arc"===t&&(e=i.arcWidth/2,n=i.arcHeight/2),"translate("+e+","+n+")"},_.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},_.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},_.opacityForCircle=function(t){var e=(h(this.config.point_show)?this.config.point_show(t):this.config.point_show)?1:0;return k(t.value)?this.isScatterType(t)?.5:e:0},_.opacityForText=function(){return this.hasDataLabel()?1:0},_.xx=function(t){return t?this.x(t.x):null},_.xv=function(t){var e=this,n=t.value;return e.isTimeSeries()?n=e.parseDate(t.value):e.isCategorized()&&"string"==typeof t.value&&(n=e.config.axis_x_categories.indexOf(t.value)),Math.ceil(e.x(n))},_.yv=function(t){var e=this,n=t.axis&&"y2"===t.axis?e.y2:e.y;return Math.ceil(n(t.value))},_.subxx=function(t){return t?this.subX(t.x):null},_.transformMain=function(t,e){var n,i,r,o=this;e&&e.axisX?n=e.axisX:(n=o.main.select("."+G.axisX),t&&(n=n.transition())),e&&e.axisY?i=e.axisY:(i=o.main.select("."+G.axisY),t&&(i=i.transition())),e&&e.axisY2?r=e.axisY2:(r=o.main.select("."+G.axisY2),t&&(r=r.transition())),(t?o.main.transition():o.main).attr("transform",o.getTranslate("main")),n.attr("transform",o.getTranslate("x")),i.attr("transform",o.getTranslate("y")),r.attr("transform",o.getTranslate("y2")),o.main.select("."+G.chartArcs).attr("transform",o.getTranslate("arc"))},_.transformAll=function(t,e){var n=this;n.transformMain(t,e),n.config.subchart_show&&n.transformContext(t,e),n.legend&&n.transformLegend(t)},_.updateSvgSize=function(){var t=this,e=t.svg.select(".c3-brush .background");t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",e.size()?e.attr("height"):0),t.svg.select("."+G.zoomRect).attr("width",t.width).attr("height",t.height),t.selectChart.style("max-height",t.currentHeight+"px")},_.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(),e.updateSvgSize(),e.transformAll(!1)},_.observeInserted=function(e){var n,i=this;"undefined"!=typeof MutationObserver?(n=new MutationObserver(function(t){t.forEach(function(t){"childList"===t.type&&t.previousSibling&&(n.disconnect(),i.intervalForObserveInserted=window.setInterval(function(){e.node().parentNode&&(window.clearInterval(i.intervalForObserveInserted),i.updateDimension(),i.brush&&i.brush.update(),i.config.oninit.call(i),i.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),e.transition().style("opacity",1))},10))})})).observe(e.node(),{attributes:!0,childList:!0,characterData:!0}):window.console.error("MutationObserver not defined.")},_.bindResize=function(){var t=this,e=t.config;if(t.resizeFunction=t.generateResize(),t.resizeFunction.add(function(){e.onresize.call(t)}),e.resize_auto&&t.resizeFunction.add(function(){t.resizeTimeout!==undefined&&window.clearTimeout(t.resizeTimeout),t.resizeTimeout=window.setTimeout(function(){delete t.resizeTimeout,t.api.flush()},100)}),t.resizeFunction.add(function(){e.onresized.call(t)}),window.attachEvent)window.attachEvent("onresize",t.resizeFunction);else if(window.addEventListener)window.addEventListener("resize",t.resizeFunction,!1);else{var n=window.onresize;n?n.add&&n.remove||(n=t.generateResize()).add(window.onresize):n=t.generateResize(),n.add(t.resizeFunction),window.onresize=n}},_.generateResize=function(){function t(){n.forEach(function(t){t()})}var n=[];return t.add=function(t){n.push(t)},t.remove=function(t){for(var e=0;e<n.length;e++)if(n[e]===t){n.splice(e,1);break}},t},_.endall=function(t,e){var n=0;t.each(function(){++n}).each("end",function(){--n||e.apply(this,arguments)})},_.generateWait=function(){var r=[],t=function(t,e){var i=setInterval(function(){var n=0;r.forEach(function(t){if(t.empty())n+=1;else try{t.transition()}catch(e){n+=1}}),n===r.length&&(clearInterval(i),e&&e())},10)};return t.add=function(t){r.push(t)},t},_.parseDate=function(t){var e,n=this;return t instanceof Date?e=t:"string"==typeof t?e=n.dataTimeFormat(n.config.data_xFormat).parse(t):"object"===(void 0===t?"undefined":u(t))?e=new Date(+t):"number"!=typeof t||isNaN(t)||(e=new Date(+t)),e&&!isNaN(+e)||window.console.error("Failed to parse x '"+t+"' to Date object"),e},_.isTabVisible=function(){var t;return"undefined"!=typeof document.hidden?t="hidden":"undefined"!=typeof document.mozHidden?t="mozHidden":"undefined"!=typeof document.msHidden?t="msHidden":"undefined"!=typeof document.webkitHidden&&(t="webkitHidden"),!document[t]},_.isValue=k,_.isFunction=h,_.isString=f,_.isUndefined=w,_.isDefined=I,_.ceil10=d,_.asHalfPixel=p,_.diffDomain=O,_.isEmpty=g,_.notEmpty=M,_.notEmpty=M,_.getOption=H,_.hasValue=v,_.sanitise=y,_.getPathBox=m,_.CLASS=G,Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),"SVGPathSeg"in window||(window.SVGPathSeg=function(t,e,n){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=n},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(undefined)},window.SVGPathSegMovetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=n},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=n},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=n},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=n},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,e,n,i,r,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=n,this._x1=i,this._y1=r,this._x2=o,this._y2=a},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(undefined,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,e,n,i,r,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=n,this._x1=i,this._y1=r,this._x2=o,this._y2=a},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(undefined,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=n,this._x1=i,this._y1=r},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(undefined,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{
get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=n,this._x1=i,this._y1=r},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(undefined,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,e,n,i,r,o,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=n,this._r1=i,this._r2=r,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(undefined,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,e,n,i,r,o,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=n,this._r1=i,this._r2=r,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(undefined,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(undefined,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(undefined,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(undefined,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(undefined,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=n,this._x2=i,this._y2=r},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=n,this._x2=i,this._y2=r},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(undefined,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(undefined)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new window.SVGPathSegMovetoAbs(undefined,t,e)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new window.SVGPathSegMovetoRel(undefined,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new window.SVGPathSegLinetoAbs(undefined,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new window.SVGPathSegLinetoRel(undefined,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,n,i,r,o){return new window.SVGPathSegCurvetoCubicAbs(undefined,t,e,n,i,r,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,n,i,r,o){return new window.SVGPathSegCurvetoCubicRel(undefined,t,e,n,i,r,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,n,i){return new window.SVGPathSegCurvetoQuadraticAbs(undefined,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,n,i){return new window.SVGPathSegCurvetoQuadraticRel(undefined,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,n,i,r,o,a){return new window.SVGPathSegArcAbs(undefined,t,e,n,i,r,o,a)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,n,i,r,o,a){return new window.SVGPathSegArcRel(undefined,t,e,n,i,r,o,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new window.SVGPathSegLinetoHorizontalAbs(undefined,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new window.SVGPathSegLinetoHorizontalRel(undefined,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new window.SVGPathSegLinetoVerticalAbs(undefined,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new window.SVGPathSegLinetoVerticalRel(undefined,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,i){return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,n,i){return new window.SVGPathSegCurvetoCubicSmoothRel(undefined,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined,t,e)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(t){if(t===undefined||!isFinite(t))throw"Invalid arguments.";var e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",this.getAttribute("d"));var n=e.pathSegList.numberOfItems-1;if(n<=0)return 0;do{if(e.pathSegList.removeItem(n),t>e.getTotalLength())break;n--}while(0<n);return n})),"SVGPathSegList"in window||(window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(this._pathElement){var e=!1;t.forEach(function(t){"d"==t.attributeName&&(e=!0)}),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(t){t._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],(t._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},window.SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),(t._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),((this._list[e]=t)._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);var e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},window.SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),(t._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList._pathSegArrayAsString=function(t){var e="",n=!0;return t.forEach(function(t){n?(n=!1,e+=t._asPathString()):e+=" "+t._asPathString()}),e},window.SVGPathSegList.prototype._parsePath=function(t){if(!t||0==t.length)return[];var i=this,e=function(){this.pathSegList=[]};e.prototype.appendSegment=function(t){this.pathSegList.push(t)};var n=function(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};n.prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return t<=" "&&(" "==t||"\n"==t||"\t"==t||"\r"==t||"\f"==t)},n.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},n.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},n.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},n.prototype.peekSegmentType=function(){var t=this._string[this._currentIndex];return this._pathSegTypeFromChar(t)},n.prototype._pathSegTypeFromChar=function(t){switch(t){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},n.prototype._nextCommandHelper=function(t,e){return("+"==t||"-"==t||"."==t||"0"<=t&&t<="9")&&e!=window.SVGPathSeg.PATHSEG_CLOSEPATH?e==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:e==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:e:window.SVGPathSeg.PATHSEG_UNKNOWN},n.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==window.SVGPathSeg.PATHSEG_MOVETO_ABS||t==window.SVGPathSeg.PATHSEG_MOVETO_REL},n.prototype._parseNumber=function(){var t=0,e=0,n=1,i=0,r=1,o=1,a=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,r=-1),this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))&&"."!=this._string.charAt(this._currentIndex))return undefined;for(var s=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=s)for(var u=this._currentIndex-1,l=1;s<=u;)e+=l*(this._string.charAt(u--)-"0"),l*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))return undefined;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)n*=10,i+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!=a&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,o=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))return undefined;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)t*=10,t+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var c=e+i;return c*=r,t&&(c*=Math.pow(10,o*t)),a==this._currentIndex?undefined:(this._skipOptionalSpacesOrDelimiter(),c)},n.prototype._parseArcFlag=function(){if(this._currentIndex>=this._endIndex)return undefined;var t=!1,e=this._string.charAt(this._currentIndex++);if("0"==e)t=!1;else{if("1"!=e)return undefined;t=!0}return this._skipOptionalSpacesOrDelimiter(),t},n.prototype.parseSegment=function(){var t=this._string[this._currentIndex],e=this._pathSegTypeFromChar(t);if(e==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;if((e=this._nextCommandHelper(t,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=e){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(i,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(i,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(i,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(i,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(i);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(i,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(i,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(i,n.x,n.y,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(i,n.x,n.y,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(i,n.x,n.y,n.x1,n.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(i,n.x,n.y,n.x1,n.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(i,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(i,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);default:throw"Unknown path seg type."}};var r=new e,o=new n(t);if(!o.initialCommandIsMoveTo())return[];for(;o.hasMoreData();){var a=o.parseSegment();if(!a)return[];r.appendSegment(a)}return r.pathSegList}),b.axis=function(){},b.axis.labels=function(e){var n=this.internal;arguments.length&&(Object.keys(e).forEach(function(t){n.axis.setLabelText(t,e[t])}),n.axis.updateLabels())},b.axis.max=function(t){var e=this.internal,n=e.config;if(!arguments.length)return{x:n.axis_x_max,y:n.axis_y_max,y2:n.axis_y2_max};"object"===(void 0===t?"undefined":u(t))?(k(t.x)&&(n.axis_x_max=t.x),k(t.y)&&(n.axis_y_max=t.y),k(t.y2)&&(n.axis_y2_max=t.y2)):n.axis_y_max=n.axis_y2_max=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},b.axis.min=function(t){var e=this.internal,n=e.config;if(!arguments.length)return{x:n.axis_x_min,y:n.axis_y_min,y2:n.axis_y2_min};"object"===(void 0===t?"undefined":u(t))?(k(t.x)&&(n.axis_x_min=t.x),k(t.y)&&(n.axis_y_min=t.y),k(t.y2)&&(n.axis_y2_min=t.y2)):n.axis_y_min=n.axis_y2_min=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},b.axis.range=function(t){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};I(t.max)&&this.axis.max(t.max),I(t.min)&&this.axis.min(t.min)},b.category=function(t,e){var n=this.internal,i=n.config;return 1<arguments.length&&(i.axis_x_categories[t]=e,n.redraw()),i.axis_x_categories[t]},b.categories=function(t){var e=this.internal,n=e.config;return arguments.length&&(n.axis_x_categories=t,e.redraw()),n.axis_x_categories},b.resize=function(t){var e=this.internal.config;e.size_width=t?t.width:null,e.size_height=t?t.height:null,this.flush()},b.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},b.destroy=function(){var e=this.internal;if(window.clearInterval(e.intervalForObserveInserted),e.resizeTimeout!==undefined&&window.clearTimeout(e.resizeTimeout),window.detachEvent)window.detachEvent("onresize",e.resizeFunction);else if(window.removeEventListener)window.removeEventListener("resize",e.resizeFunction);else{var t=window.onresize;t&&t.add&&t.remove&&t.remove(e.resizeFunction)}return e.selectChart.classed("c3",!1).html(""),Object.keys(e).forEach(function(t){e[t]=null}),null},b.color=function(t){return this.internal.color(t)},b.data=function(e){var t=this.internal.data.targets;return void 0===e?t:t.filter(function(t){return 0<=[].concat(e).indexOf(t.id)})},b.data.shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},b.data.values=function(t){var e,n=null;return t&&(n=(e=this.data(t))[0]?e[0].values.map(function(t){return t.value}):null),n},b.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},b.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)},b.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)},
b.flow=function(t){var r,e,n,i,o,a,s,u=this.internal,l=[],c=u.getMaxDataCount(),h=0,f=0;if(t.json)e=u.convertJsonToData(t.json,t.keys);else if(t.rows)e=u.convertRowsToData(t.rows);else{if(!t.columns)return;e=u.convertColumnsToData(t.columns)}r=u.convertDataToTargets(e,!0),u.data.targets.forEach(function(t){var e,n,i=!1;for(e=0;e<r.length;e++)if(t.id===r[e].id){for(i=!0,t.values[t.values.length-1]&&(f=t.values[t.values.length-1].index+1),h=r[e].values.length,n=0;n<h;n++)r[e].values[n].index=f+n,u.isTimeSeries()||(r[e].values[n].x=f+n);t.values=t.values.concat(r[e].values),r.splice(e,1);break}i||l.push(t.id)}),u.data.targets.forEach(function(t){var e,n;for(e=0;e<l.length;e++)if(t.id===l[e])for(f=t.values[t.values.length-1].index+1,n=0;n<h;n++)t.values.push({id:t.id,index:f+n,x:u.isTimeSeries()?u.getOtherTargetX(f+n):f+n,value:null})}),u.data.targets.length&&r.forEach(function(t){var e,n=[];for(e=u.data.targets[0].values[0].index;e<f;e++)n.push({id:t.id,index:e,x:u.isTimeSeries()?u.getOtherTargetX(e):e,value:null});t.values.forEach(function(t){t.index+=f,u.isTimeSeries()||(t.x+=f)}),t.values=n.concat(t.values)}),u.data.targets=u.data.targets.concat(r),u.getMaxDataCount(),o=(i=u.data.targets[0]).values[0],I(t.to)?(h=0,s=u.isTimeSeries()?u.parseDate(t.to):t.to,i.values.forEach(function(t){t.x<s&&h++})):I(t.length)&&(h=t.length),c?1===c&&u.isTimeSeries()&&(a=(i.values[i.values.length-1].x-o.x)/2,n=[new Date(+o.x-a),new Date(+o.x+a)],u.updateXDomain(null,!0,!0,!1,n)):(a=u.isTimeSeries()?1<i.values.length?i.values[i.values.length-1].x-o.x:o.x-u.getXDomain(u.data.targets)[0]:1,n=[o.x-a,o.x],u.updateXDomain(null,!0,!0,!1,n)),u.updateTargets(u.data.targets),u.redraw({flow:{index:o.index,length:h,duration:k(t.duration)?t.duration:u.config.transition_duration,done:t.done,orgDataCount:c},withLegend:!0,withTransition:1<c,withTrimXDomain:!1,withUpdateXAxis:!0})},_.generateFlow=function(P){var N=this,D=N.config,R=N.d3;return function(){var t,e,n,i=P.targets,r=P.flow,o=P.drawBar,a=P.drawLine,s=P.drawArea,u=P.cx,l=P.cy,c=P.xv,h=P.xForText,f=P.yForText,d=P.duration,p=1,g=r.index,v=r.length,y=N.getValueOnIndex(N.data.targets[0].values,g),m=N.getValueOnIndex(N.data.targets[0].values,g+v),x=N.x.domain(),b=r.duration||d,_=r.done||function(){},w=N.generateWait(),S=N.xgrid||R.selectAll([]),T=N.xgridLines||R.selectAll([]),C=N.mainRegion||R.selectAll([]),k=N.mainText||R.selectAll([]),M=N.mainBar||R.selectAll([]),A=N.mainLine||R.selectAll([]),E=N.mainArea||R.selectAll([]),L=N.mainCircle||R.selectAll([]);N.flowing=!0,N.data.targets.forEach(function(t){t.values.splice(0,v)}),n=N.updateXDomain(i,!0,!0),N.updateXGrid&&N.updateXGrid(!0),r.orgDataCount?t=1===r.orgDataCount||(y&&y.x)===(m&&m.x)?N.x(x[0])-N.x(n[0]):N.isTimeSeries()?N.x(x[0])-N.x(n[0]):N.x(y.x)-N.x(m.x):1!==N.data.targets[0].values.length?t=N.x(x[0])-N.x(n[0]):N.isTimeSeries()?(y=N.getValueOnIndex(N.data.targets[0].values,0),m=N.getValueOnIndex(N.data.targets[0].values,N.data.targets[0].values.length-1),t=N.x(y.x)-N.x(m.x)):t=O(n)/2,p=O(x)/O(n),e="translate("+t+",0) scale("+p+",1)",N.hideXGridFocus(),R.transition().ease("linear").duration(b).each(function(){w.add(N.axes.x.transition().call(N.xAxis)),w.add(M.transition().attr("transform",e)),w.add(A.transition().attr("transform",e)),w.add(E.transition().attr("transform",e)),w.add(L.transition().attr("transform",e)),w.add(k.transition().attr("transform",e)),w.add(C.filter(N.isRegionOnX).transition().attr("transform",e)),w.add(S.transition().attr("transform",e)),w.add(T.transition().attr("transform",e))}).call(w,function(){var t,e=[],n=[],i=[];if(v){for(t=0;t<v;t++)e.push("."+G.shape+"-"+(g+t)),n.push("."+G.text+"-"+(g+t)),i.push("."+G.eventRect+"-"+(g+t));N.svg.selectAll("."+G.shapes).selectAll(e).remove(),N.svg.selectAll("."+G.texts).selectAll(n).remove(),N.svg.selectAll("."+G.eventRects).selectAll(i).remove(),N.svg.select("."+G.xgrid).remove()}S.attr("transform",null).attr(N.xgridAttr),T.attr("transform",null),T.select("line").attr("x1",D.axis_rotated?0:c).attr("x2",D.axis_rotated?N.width:c),T.select("text").attr("x",D.axis_rotated?N.width:0).attr("y",c),M.attr("transform",null).attr("d",o),A.attr("transform",null).attr("d",a),E.attr("transform",null).attr("d",s),L.attr("transform",null).attr("cx",u).attr("cy",l),k.attr("transform",null).attr("x",h).attr("y",f).style("fill-opacity",N.opacityForText.bind(N)),C.attr("transform",null),C.select("rect").filter(N.isRegionOnX).attr("x",N.regionX.bind(N)).attr("width",N.regionWidth.bind(N)),D.interaction_enabled&&N.redrawEventRect(),_(),N.flowing=!1})}},b.focus=function(e){var t,n=this.internal;e=n.mapToTargetIds(e),t=n.svg.selectAll(n.selectorTargets(e.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),t.classed(G.focused,!0).classed(G.defocused,!1),n.hasArcType()&&n.expandArc(e),n.toggleFocusLegend(e,!0),n.focusedTargetIds=e,n.defocusedTargetIds=n.defocusedTargetIds.filter(function(t){return e.indexOf(t)<0})},b.defocus=function(e){var t=this.internal;e=t.mapToTargetIds(e),t.svg.selectAll(t.selectorTargets(e.filter(t.isTargetToShow,t))).classed(G.focused,!1).classed(G.defocused,!0),t.hasArcType()&&t.unexpandArc(e),t.toggleFocusLegend(e,!1),t.focusedTargetIds=t.focusedTargetIds.filter(function(t){return e.indexOf(t)<0}),t.defocusedTargetIds=e},b.revert=function(t){var e=this.internal;t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t)).classed(G.focused,!1).classed(G.defocused,!1),e.hasArcType()&&e.unexpandArc(t),e.config.legend_show&&(e.showLegend(t.filter(e.isLegendToShow.bind(e))),e.legend.selectAll(e.selectorLegends(t)).filter(function(){return e.d3.select(this).classed(G.legendItemFocused)}).classed(G.legendItemFocused,!1)),e.focusedTargetIds=[],e.defocusedTargetIds=[]},b.xgrids=function(t){var e=this.internal,n=e.config;return t&&(n.grid_x_lines=t,e.redrawWithoutRescale()),n.grid_x_lines},b.xgrids.add=function(t){var e=this.internal;return this.xgrids(e.config.grid_x_lines.concat(t||[]))},b.xgrids.remove=function(t){this.internal.removeGridLines(t,!0)},b.ygrids=function(t){var e=this.internal,n=e.config;return t&&(n.grid_y_lines=t,e.redrawWithoutRescale()),n.grid_y_lines},b.ygrids.add=function(t){var e=this.internal;return this.ygrids(e.config.grid_y_lines.concat(t||[]))},b.ygrids.remove=function(t){this.internal.removeGridLines(t,!1)},b.groups=function(t){var e=this.internal,n=e.config;return w(t)||(n.data_groups=t,e.redraw()),n.data_groups},b.legend=function(){},b.legend.show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},b.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},b.load=function(e){var t=this.internal,n=t.config;e.xs&&t.addXs(e.xs),"names"in e&&b.data.names.bind(this)(e.names),"classes"in e&&Object.keys(e.classes).forEach(function(t){n.data_classes[t]=e.classes[t]}),"categories"in e&&t.isCategorized()&&(n.axis_x_categories=e.categories),"axes"in e&&Object.keys(e.axes).forEach(function(t){n.data_axes[t]=e.axes[t]}),"colors"in e&&Object.keys(e.colors).forEach(function(t){n.data_colors[t]=e.colors[t]}),"cacheIds"in e&&t.hasCaches(e.cacheIds)?t.load(t.getCaches(e.cacheIds),e.done):"unload"in e?t.unload(t.mapToTargetIds("boolean"==typeof e.unload&&e.unload?null:e.unload),function(){t.loadFromArgs(e)}):t.loadFromArgs(e)},b.unload=function(t){var e=this.internal;(t=t||{})instanceof Array?t={ids:t}:"string"==typeof t&&(t={ids:[t]}),e.unload(e.mapToTargetIds(t.ids),function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()})},b.regions=function(t){var e=this.internal,n=e.config;return t&&(n.regions=t,e.redrawWithoutRescale()),n.regions},b.regions.add=function(t){var e=this.internal,n=e.config;return t&&(n.regions=n.regions.concat(t),e.redrawWithoutRescale()),n.regions},b.regions.remove=function(t){var e,n,i,r=this.internal,o=r.config;return t=t||{},e=r.getOption(t,"duration",o.transition_duration),n=r.getOption(t,"classes",[G.region]),i=r.main.select("."+G.regions).selectAll(n.map(function(t){return"."+t})),(e?i.transition().duration(e):i).style("opacity",0).remove(),o.regions=o.regions.filter(function(t){var e=!1;return!t["class"]||(t["class"].split(" ").forEach(function(t){0<=n.indexOf(t)&&(e=!0)}),!e)}),o.regions},b.selected=function(t){var e=this.internal,n=e.d3;return n.merge(e.main.selectAll("."+G.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+G.shape).filter(function(){return n.select(this).classed(G.SELECTED)}).map(function(t){return t.map(function(t){var e=t.__data__;return e.data?e.data:e})}))},b.select=function(u,l,c){var h=this.internal,f=h.d3,d=h.config;d.data_selection_enabled&&h.main.selectAll("."+G.shapes).selectAll("."+G.shape).each(function(t,e){var n=f.select(this),i=t.data?t.data.id:t.id,r=h.getToggle(this,t).bind(h),o=d.data_selection_grouped||!u||0<=u.indexOf(i),a=!l||0<=l.indexOf(e),s=n.classed(G.SELECTED);n.classed(G.line)||n.classed(G.area)||(o&&a?d.data_selection_isselectable(t)&&!s&&r(!0,n.classed(G.SELECTED,!0),t,e):I(c)&&c&&s&&r(!1,n.classed(G.SELECTED,!1),t,e))})},b.unselect=function(u,l){var c=this.internal,h=c.d3,f=c.config;f.data_selection_enabled&&c.main.selectAll("."+G.shapes).selectAll("."+G.shape).each(function(t,e){var n=h.select(this),i=t.data?t.data.id:t.id,r=c.getToggle(this,t).bind(c),o=f.data_selection_grouped||!u||0<=u.indexOf(i),a=!l||0<=l.indexOf(e),s=n.classed(G.SELECTED);n.classed(G.line)||n.classed(G.area)||o&&a&&f.data_selection_isselectable(t)&&s&&r(!1,n.classed(G.SELECTED,!1),t,e)})},b.show=function(t,e){var n,i=this.internal;t=i.mapToTargetIds(t),e=e||{},i.removeHiddenTargetIds(t),(n=i.svg.selectAll(i.selectorTargets(t))).transition().style("opacity",1,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",1)}),e.withLegend&&i.showLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},b.hide=function(t,e){var n,i=this.internal;t=i.mapToTargetIds(t),e=e||{},i.addHiddenTargetIds(t),(n=i.svg.selectAll(i.selectorTargets(t))).transition().style("opacity",0,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",0)}),e.withLegend&&i.hideLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},b.toggle=function(t,e){var n=this,i=this.internal;i.mapToTargetIds(t).forEach(function(t){i.isTargetToShow(t)?n.hide(t,e):n.show(t,e)})},b.tooltip=function(){},b.tooltip.show=function(t){var e,n,i=this.internal;t.mouse&&(n=t.mouse),t.data?i.isMultipleX()?(n=[i.x(t.data.x),i.getYScale(t.data.id)(t.data.value)],e=null):e=k(t.data.index)?t.data.index:i.getIndexByX(t.data.x):"undefined"!=typeof t.x?e=i.getIndexByX(t.x):"undefined"!=typeof t.index&&(e=t.index),i.dispatchEvent("mouseover",e,n),i.dispatchEvent("mousemove",e,n),i.config.tooltip_onshow.call(i,t.data)},b.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},b.transform=function(t,e){var n=this.internal,i=0<=["pie","donut"].indexOf(t)?{withTransform:!0}:null;n.transformTo(e,t,i)},_.transformTo=function(t,e,n){var i=this,r=!i.hasArcType(),o=n||{withTransitionForAxis:r};o.withTransitionForTransform=!1,i.transiting=!1,i.setTargetType(t,e),i.updateTargets(i.data.targets),i.updateAndRedraw(o)},b.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},b.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},b.zoom=function(t){var e=this.internal;return t&&(e.isTimeSeries()&&(t=t.map(function(t){return e.parseDate(t)})),e.brush.extent(t),e.redraw({withUpdateXDomain:!0,withY:e.config.zoom_rescale}),e.config.zoom_onzoom.call(this,e.x.orgDomain())),e.brush.extent()},b.zoom.enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},b.unzoom=function(){var t=this.internal;t.brush.clear().update(),t.redraw({withUpdateXDomain:!0})},b.zoom.max=function(t){var e=this.internal,n=e.config,i=e.d3;if(0!==t&&!t)return n.zoom_x_max;n.zoom_x_max=i.max([e.orgXDomain[1],t])},b.zoom.min=function(t){var e=this.internal,n=e.config,i=e.d3;if(0!==t&&!t)return n.zoom_x_min;n.zoom_x_min=i.min([e.orgXDomain[0],t])},b.zoom.range=function(t){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};I(t.max)&&this.domain.max(t.max),I(t.min)&&this.domain.min(t.min)},_.initPie=function(){var t=this,e=t.d3;t.pie=e.layout.pie().value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)}),t.pie.sort(t.getOrderFunction()||null)},_.updateRadius=function(){var t=this,e=t.config,n=e.gauge_width||e.donut_width;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2,t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=n?(t.radius-n)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0},_.updateArc=function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},_.updateAngle=function(e){var t,n,i,r,o=this,a=o.config,s=!1,u=0;return a?(o.pie(o.filterTargetsToShow(o.data.targets)).forEach(function(t){s||t.data.id!==e.data.id||(s=!0,(e=t).index=u),u++}),isNaN(e.startAngle)&&(e.startAngle=0),isNaN(e.endAngle)&&(e.endAngle=e.startAngle),o.isGaugeType(e.data)&&(t=a.gauge_min,n=a.gauge_max,i=Math.PI*(a.gauge_fullCircle?2:1)/(n-t),r=e.value<t?0:e.value<n?e.value-t:n-t,e.startAngle=a.gauge_startingAngle,e.endAngle=e.startAngle+i*r),s?e:null):null},_.getSvgArc=function(){var i=this,r=i.d3.svg.arc().outerRadius(i.radius).innerRadius(i.innerRadius),t=function(t,e){var n;return e?r(t):(n=i.updateAngle(t))?r(n):"M 0 0"};return t.centroid=r.centroid,t},_.getSvgArcExpanded=function(t){var n=this,i=n.d3.svg.arc().outerRadius(n.radiusExpanded*(t||1)).innerRadius(n.innerRadius);return function(t){var e=n.updateAngle(t);return e?i(e):"M 0 0"}},_.getArc=function(t,e,n){return n||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},_.transformForArcLabel=function(t){var e,n,i,r,o,a=this,s=a.config,u=a.updateAngle(t),l="";return u&&!a.hasType("gauge")&&(e=this.svgArc.centroid(u),n=isNaN(e[0])?0:e[0],i=isNaN(e[1])?0:e[1],r=Math.sqrt(n*n+i*i),l="translate("+n*(o=a.hasType("donut")&&s.donut_label_ratio?h(s.donut_label_ratio)?s.donut_label_ratio(t,a.radius,r):s.donut_label_ratio:a.hasType("pie")&&s.pie_label_ratio?h(s.pie_label_ratio)?s.pie_label_ratio(t,a.radius,r):s.pie_label_ratio:a.radius&&r?(.375<36/a.radius?1.175-36/a.radius:.8)*a.radius/r:0)+","+i*o+")"),l},_.getArcRatio=function(t){var e=this,n=e.config,i=Math.PI*(e.hasType("gauge")&&!n.gauge_fullCircle?1:2);return t?(t.endAngle-t.startAngle)/i:null},_.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getArcRatio(t),index:t.index})},_.textForArcLabel=function(t){var e,n,i,r,o,a=this;return a.shouldShowArcLabel()?(n=(e=a.updateAngle(t))?e.value:null,i=a.getArcRatio(e),r=t.data.id,a.hasType("gauge")||a.meetsArcLabelThreshold(i)?(o=a.getArcLabelFormat())?o(n,i,r):a.defaultArcValueFormat(n,i):""):""},_.textForGaugeMinMax=function(t,e){var n=this.getGaugeLabelExtents();return n?n(t,e):t},_.expandArc=function(t){var e,n=this;n.transiting?e=window.setInterval(function(){n.transiting||(window.clearInterval(e),0<n.legend.selectAll(".c3-legend-item-focused").size()&&n.expandArc(t))},10):(t=n.mapToTargetIds(t),n.svg.selectAll(n.selectorTargets(t,"."+G.chartArc)).each(function(t){n.shouldExpand(t.data.id)&&n.d3.select(this).selectAll("path").transition().duration(n.expandDuration(t.data.id)).attr("d",n.svgArcExpanded).transition().duration(2*n.expandDuration(t.data.id)).attr("d",n.svgArcExpandedSub).each(function(t){n.isDonutType(t.data)})}))},_.unexpandArc=function(t){var e=this;e.transiting||(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+G.chartArc)).selectAll("path").transition().duration(function(t){return e.expandDuration(t.data.id)}).attr("d",e.svgArc),e.svg.selectAll("."+G.arc))},_.expandDuration=function(t){var e=this,n=e.config;return e.isDonutType(t)?n.donut_expand_duration:e.isGaugeType(t)?n.gauge_expand_duration:e.isPieType(t)?n.pie_expand_duration:50},_.shouldExpand=function(t){var e=this,n=e.config;return e.isDonutType(t)&&n.donut_expand||e.isGaugeType(t)&&n.gauge_expand||e.isPieType(t)&&n.pie_expand},_.shouldShowArcLabel=function(){var t=this,e=t.config,n=!0;return t.hasType("donut")?n=e.donut_label_show:t.hasType("pie")&&(n=e.pie_label_show),n},_.meetsArcLabelThreshold=function(t){var e=this,n=e.config;return(e.hasType("donut")?n.donut_label_threshold:n.pie_label_threshold)<=t},_.getArcLabelFormat=function(){var t=this,e=t.config,n=e.pie_label_format;return t.hasType("gauge")?n=e.gauge_label_format:t.hasType("donut")&&(n=e.donut_label_format),n},_.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},_.getArcTitle=function(){var t=this;return t.hasType("donut")?t.config.donut_title:""},_.updateTargetsForArc=function(t){var e,n=this,i=n.main,r=n.classChartArc.bind(n),o=n.classArcs.bind(n),a=n.classFocus.bind(n);(e=i.select("."+G.chartArcs).selectAll("."+G.chartArc).data(n.pie(t)).attr("class",function(t){return r(t)+a(t.data)}).enter().append("g").attr("class",r)).append("g").attr("class",o),e.append("text").attr("dy",n.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},_.initArc=function(){var t=this;t.arcs=t.main.select("."+G.chart).append("g").attr("class",G.chartArcs).attr("transform",t.getTranslate("arc")),t.arcs.append("text").attr("class",G.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())},_.redrawArc=function(t,e,n){var i,r=this,o=r.d3,a=r.config,s=r.main;(i=s.selectAll("."+G.arcs).selectAll("."+G.arc).data(r.arcData.bind(r))).enter().append("path").attr("class",r.classArc.bind(r)).style("fill",function(t){return r.color(t.data)}).style("cursor",function(t){return a.interaction_enabled&&a.data_selection_isselectable(t)?"pointer":null}).each(function(t){r.isGaugeType(t.data)&&(t.startAngle=t.endAngle=a.gauge_startingAngle),this._current=t}),i.attr("transform",function(t){return!r.isGaugeType(t.data)&&n?"scale(0)":""}).on("mouseover",a.interaction_enabled?function(t){var e,n;r.transiting||(e=r.updateAngle(t))&&(n=r.convertToArcData(e),r.expandArc(e.data.id),r.api.focus(e.data.id),r.toggleFocusLegend(e.data.id,!0),r.config.data_onmouseover(n,this))}:null).on("mousemove",a.interaction_enabled?function(t){var e,n=r.updateAngle(t);n&&(e=[r.convertToArcData(n)],r.showTooltip(e,this))}:null).on("mouseout",a.interaction_enabled?function(t){var e,n;r.transiting||(e=r.updateAngle(t))&&(n=r.convertToArcData(e),r.unexpandArc(e.data.id),r.api.revert(),r.revertLegend(),r.hideTooltip(),r.config.data_onmouseout(n,this))}:null).on("click",a.interaction_enabled?function(t,e){var n,i=r.updateAngle(t);i&&(n=r.convertToArcData(i),r.toggleShape&&r.toggleShape(this,n,e),r.config.data_onclick.call(r.api,n,this))}:null).each(function(){r.transiting=!0}).transition().duration(t).attrTween("d",function(n){var i,t=r.updateAngle(n);return t?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),i=o.interpolate(this._current,t),this._current=i(0),function(t){var e=i(t);return e.data=n.data,r.getArc(e,!0)}):function(){return"M 0 0"}}).attr("transform",n?"scale(1)":"").style("fill",function(t){return r.levelColor?r.levelColor(t.data.values[0].value):r.color(t.data.id)}).call(r.endall,function(){r.transiting=!1}),i.exit().transition().duration(e).style("opacity",0).remove(),s.selectAll("."+G.chartArc).select("text").style("opacity",0).attr("class",function(t){return r.isGaugeType(t.data)?G.gaugeValue:""}).text(r.textForArcLabel.bind(r)).attr("transform",r.transformForArcLabel.bind(r)).style("font-size",function(t){return r.isGaugeType(t.data)?Math.round(r.radius/5)+"px":""}).transition().duration(t).style("opacity",function(t){return r.isTargetToShow(t.data.id)&&r.isArcType(t.data)?1:0}),s.select("."+G.chartArcsTitle).style("opacity",r.hasType("donut")||r.hasType("gauge")?1:0),r.hasType("gauge")&&(r.arcs.select("."+G.chartArcsBackground).attr("d",function(){var t={data:[{value:a.gauge_max}],startAngle:a.gauge_startingAngle,endAngle:-1*a.gauge_startingAngle};return r.getArc(t,!0,!0)}),r.arcs.select("."+G.chartArcsGaugeUnit).attr("dy",".75em").text(a.gauge_label_show?a.gauge_units:""),r.arcs.select("."+G.chartArcsGaugeMin).attr("dx",-1*(r.innerRadius+(r.radius-r.innerRadius)/(a.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(a.gauge_label_show?r.textForGaugeMinMax(a.gauge_min,!1):""),r.arcs.select("."+G.chartArcsGaugeMax).attr("dx",r.innerRadius+(r.radius-r.innerRadius)/(a.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(a.gauge_label_show?r.textForGaugeMinMax(a.gauge_max,!0):""))},_.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("path").attr("class",G.chartArcsBackground),t.append("text").attr("class",G.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",G.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",G.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},_.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},_.hasCaches=function(t){for(var e=0;e<t.length;e++)if(!(t[e]in this.cache))return!1;return!0},_.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},_.getCaches=function(t){var e,n=[];for(e=0;e<t.length;e++)t[e]in this.cache&&n.push(this.cloneTarget(this.cache[t[e]]));return n},_.categoryName=function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t},_.generateClass=function(t,e){return" "+t+" "+t+this.getTargetSelectorSuffix(e)},_.classText=function(t){return this.generateClass(G.text,t.index)},_.classTexts=function(t){return this.generateClass(G.texts,t.id)},_.classShape=function(t){return this.generateClass(G.shape,t.index)},_.classShapes=function(t){return this.generateClass(G.shapes,t.id)},_.classLine=function(t){return this.classShape(t)+this.generateClass(G.line,t.id)},_.classLines=function(t){return this.classShapes(t)+this.generateClass(G.lines,t.id)},_.classCircle=function(t){return this.classShape(t)+this.generateClass(G.circle,t.index)},_.classCircles=function(t){return this.classShapes(t)+this.generateClass(G.circles,t.id)},_.classBar=function(t){return this.classShape(t)+this.generateClass(G.bar,t.index)},_.classBars=function(t){return this.classShapes(t)+this.generateClass(G.bars,t.id)},_.classArc=function(t){return this.classShape(t.data)+this.generateClass(G.arc,t.data.id)},_.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(G.arcs,t.data.id)},_.classArea=function(t){return this.classShape(t)+this.generateClass(G.area,t.id)},_.classAreas=function(t){return this.classShapes(t)+this.generateClass(G.areas,t.id)},_.classRegion=function(t,e){return this.generateClass(G.region,e)+" "+("class"in t?t["class"]:"")},_.classEvent=function(t){return this.generateClass(G.eventRect,t.index)},_.classTarget=function(t){var e=this,n=e.config.data_classes[t],i="";return n&&(i=" "+G.target+"-"+n),e.generateClass(G.target,t)+i},_.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},_.classFocused=function(t){return" "+(0<=this.focusedTargetIds.indexOf(t.id)?G.focused:"")},_.classDefocused=function(t){return" "+(0<=this.defocusedTargetIds.indexOf(t.id)?G.defocused:"")},_.classChartText=function(t){return G.chartText+this.classTarget(t.id)},_.classChartLine=function(t){return G.chartLine+this.classTarget(t.id)},_.classChartBar=function(t){return G.chartBar+this.classTarget(t.id)},_.classChartArc=function(t){return G.chartArc+this.classTarget(t.data.id)},_.getTargetSelectorSuffix=function(t){return t||0===t?("-"+t).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},_.selectorTarget=function(t,e){return(e||"")+"."+G.target+this.getTargetSelectorSuffix(t)},_.selectorTargets=function(t,e){var n=this;return(t=t||[]).length?t.map(function(t){return n.selectorTarget(t,e)}):null},_.selectorLegend=function(t){return"."+G.legendItem+this.getTargetSelectorSuffix(t)},_.selectorLegends=function(t){var e=this;return t&&t.length?t.map(function(t){return e.selectorLegend(t)}):null},_.getClipPath=function(t){return"url("+(0<=window.navigator.appVersion.toLowerCase().indexOf("msie 9.")?"":document.URL.split("#")[0])+"#"+t+")"},_.appendClip=function(t,e){return t.append("clipPath").attr("id",e).append("rect")},_.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},_.getAxisClipY=function(t){return t?-20:-this.margin.top},_.getXAxisClipX=function(){var t=this;return t.getAxisClipX(!t.config.axis_rotated)},_.getXAxisClipY=function(){var t=this;return t.getAxisClipY(!t.config.axis_rotated)},_.getYAxisClipX=function(){var t=this;return t.config.axis_y_inner?-1:t.getAxisClipX(t.config.axis_rotated)},_.getYAxisClipY=function(){var t=this;return t.getAxisClipY(t.config.axis_rotated)},_.getAxisClipWidth=function(t){var e=this,n=Math.max(30,e.margin.left),i=Math.max(30,e.margin.right);return t?e.width+2+n+i:e.margin.left+20},_.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},_.getXAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(!t.config.axis_rotated)},_.getXAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(!t.config.axis_rotated)},_.getYAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(t.config.axis_rotated)+(t.config.axis_y_inner?20:0)},_.getYAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(t.config.axis_rotated)},_.generateColor=function(){var t=this,e=t.config,n=t.d3,i=e.data_colors,r=M(e.color_pattern)?e.color_pattern:n.scale.category10().range(),o=e.data_color,a=[];return function(t){var e,n=t.id||t.data&&t.data.id||t;return i[n]instanceof Function?e=i[n](t):i[n]?e=i[n]:(a.indexOf(n)<0&&a.push(n),e=r[a.indexOf(n)%r.length],i[n]=e),o instanceof Function?o(e,t):e}},_.generateLevelColor=function(){var t=this.config,i=t.color_pattern,e=t.color_threshold,r="value"===e.unit,o=e.values&&e.values.length?e.values:[],a=e.max||100;return M(t.color_threshold)?function(t){var e,n=i[i.length-1];for(e=0;e<o.length;e++)if((r?t:100*t/a)<o[e]){n=i[e];break}return n}:null},_.getDefaultConfig=function(){var e={bindto:"#chart",svg_classname:undefined,size_width:undefined,size_height:undefined,padding_left:undefined,padding_right:undefined,padding_top:undefined,padding_bottom:undefined,resize_auto:!0,zoom_enabled:!1,zoom_extent:undefined,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:undefined,zoom_x_max:undefined,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:undefined,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:undefined,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:undefined,data_colors:{},data_hide:!1,data_filter:undefined,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:undefined,data_headers:undefined,data_json:undefined,data_rows:undefined,data_columns:undefined,data_mimeType:undefined,data_keys:undefined,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:undefined,legend_item_onclick:undefined,legend_item_onmouseover:undefined,legend_item_onmouseout:undefined,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:undefined,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:undefined,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:undefined,axis_x_min:undefined,axis_x_padding:{},axis_x_height:undefined,axis_x_extent:undefined,axis_x_label:{},axis_y_show:!0,axis_y_type:undefined,axis_y_max:undefined,axis_y_min:undefined,axis_y_inverted:!1,axis_y_center:undefined,axis_y_inner:undefined,axis_y_label:{},axis_y_tick_format:undefined,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:undefined,axis_y_tick_time_value:undefined,axis_y_tick_time_interval:undefined,axis_y_padding:{},axis_y_default:undefined,axis_y2_show:!1,axis_y2_max:undefined,axis_y2_min:undefined,axis_y2_inverted:!1,axis_y2_center:undefined,axis_y2_inner:undefined,axis_y2_label:{},axis_y2_tick_format:undefined,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:undefined,axis_y2_padding:{},axis_y2_default:undefined,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:undefined,point_select_r:undefined,line_connectNull:!1,line_step_type:"step",bar_width:undefined,bar_width_ratio:.6,bar_width_max:undefined,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:undefined,pie_label_threshold:.05,pie_label_ratio:undefined,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:!1,gauge_label_show:!0,gauge_label_format:undefined,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:undefined,gauge_units:undefined,gauge_width:undefined,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:undefined,donut_label_threshold:.05,donut_label_ratio:undefined,donut_width:undefined,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:undefined,tooltip_format_title:undefined,tooltip_format_name:undefined,tooltip_format_value:undefined,tooltip_position:undefined,tooltip_contents:function(t,e,n,i){return this.getTooltipContent?this.getTooltipContent(t,e,n,i):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:undefined,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(t){e[t]=this.additionalConfig[t]},this),e},_.additionalConfig={},_.loadConfig=function(e){function n(){var t=r.shift();return t&&i&&"object"===(void 0===i?"undefined":u(i))&&t in i?(i=i[t],n()):t?undefined:i}var i,r,o,a=this.config;Object.keys(a).forEach(function(t){i=e,r=t.split("_"),o=n(),I(o)&&(a[t]=o)})},_.convertUrlToData=function(t,e,n,r,o){var a=this,s=e||"csv",i=a.d3.xhr(t);n&&Object.keys(n).forEach(function(t){i.header(t,n[t])}),i.get(function(t,e){var n,i=e.response||e.responseText;if(!e)throw new Error(t.responseURL+" "+t.status+" ("+t.statusText+")");n="json"===s?a.convertJsonToData(JSON.parse(i),r):"tsv"===s?a.convertTsvToData(i):a.convertCsvToData(i),o.call(a,n)})},_.convertXsvToData=function(t,e){var n,i=e.parseRows(t);return 1===i.length?(n=[{}],i[0].forEach(function(t){n[0][t]=null})):n=e.parse(t),n},_.convertCsvToData=function(t){return this.convertXsvToData(t,this.d3.csv)},_.convertTsvToData=function(t){return this.convertXsvToData(t,this.d3.tsv)},_.convertJsonToData=function(e,t){var r,n,o=this,a=[];return t?(t.x?(r=t.value.concat(t.x),o.config.data_x=t.x):r=t.value,a.push(r),e.forEach(function(n){var i=[];r.forEach(function(t){var e=o.findValueInJson(n,t);w(e)&&(e=null),i.push(e)}),a.push(i)}),n=o.convertRowsToData(a)):(Object.keys(e).forEach(function(t){a.push([t].concat(e[t]))}),n=o.convertColumnsToData(a)),n},_.findValueInJson=function(t,e){for(var n=(e=(e=e.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),i=0;i<n.length;++i){var r=n[i];if(!(r in t))return;t=t[r]}return t},_.convertRowsToData=function(t){
for(var e=[],n=t[0],i=1;i<t.length;i++){for(var r={},o=0;o<t[i].length;o++){if(w(t[i][o]))throw new Error("Source data is missing a component at ("+i+","+o+")!");r[n[o]]=t[i][o]}e.push(r)}return e},_.convertColumnsToData=function(t){for(var e=[],n=0;n<t.length;n++)for(var i=t[n][0],r=1;r<t[n].length;r++){if(w(e[r-1])&&(e[r-1]={}),w(t[n][r]))throw new Error("Source data is missing a component at ("+n+","+r+")!");e[r-1][i]=t[n][r]}return e},_.convertDataToTargets=function(t,i){var e,u=this,l=u.config,n=u.d3.keys(t[0]).filter(u.isNotX,u),r=u.d3.keys(t[0]).filter(u.isX,u);return n.forEach(function(n){var e=u.getXKey(n);u.isCustomX()||u.isTimeSeries()?0<=r.indexOf(e)?u.data.xs[n]=(i&&u.data.xs[n]?u.data.xs[n]:[]).concat(t.map(function(t){return t[e]}).filter(k).map(function(t,e){return u.generateTargetX(t,n,e)})):l.data_x?u.data.xs[n]=u.getOtherTargetXs():M(l.data_xs)&&(u.data.xs[n]=u.getXValuesOfXKey(e,u.data.targets)):u.data.xs[n]=t.map(function(t,e){return e})}),n.forEach(function(t){if(!u.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')}),(e=n.map(function(o,a){var s=l.data_idConverter(o);return{id:s,id_org:o,values:t.map(function(t,e){var n,i=t[u.getXKey(o)],r=null===t[o]||isNaN(t[o])?null:+t[o];return u.isCustomX()&&u.isCategorized()&&!w(i)?(0===a&&0===e&&(l.axis_x_categories=[]),-1===(n=l.axis_x_categories.indexOf(i))&&(n=l.axis_x_categories.length,l.axis_x_categories.push(i))):n=u.generateTargetX(i,o,e),(w(t[o])||u.data.xs[o].length<=e)&&(n=undefined),{x:n,value:r,id:s}}).filter(function(t){return I(t.x)})}})).forEach(function(t){var e;l.data_xSort&&(t.values=t.values.sort(function(t,e){return(t.x||0===t.x?t.x:Infinity)-(e.x||0===e.x?e.x:Infinity)})),e=0,t.values.forEach(function(t){t.index=e++}),u.data.xs[t.id].sort(function(t,e){return t-e})}),u.hasNegativeValue=u.hasNegativeValueInTargets(e),u.hasPositiveValue=u.hasPositiveValueInTargets(e),l.data_type&&u.setTargetType(u.mapToIds(e).filter(function(t){return!(t in l.data_types)}),l.data_type),e.forEach(function(t){u.addCache(t.id_org,t)}),e},_.isX=function(t){var e=this.config;return e.data_x&&t===e.data_x||M(e.data_xs)&&v(e.data_xs,t)},_.isNotX=function(t){return!this.isX(t)},_.getXKey=function(t){var e=this.config;return e.data_x?e.data_x:M(e.data_xs)?e.data_xs[t]:null},_.getXValuesOfXKey=function(e,t){var n,i=this;return(t&&M(t)?i.mapToIds(t):[]).forEach(function(t){i.getXKey(t)===e&&(n=i.data.xs[t])}),n},_.getIndexByX=function(t){var e=this,n=e.filterByX(e.data.targets,t);return n.length?n[0].index:null},_.getXValue=function(t,e){var n=this;return t in n.data.xs&&n.data.xs[t]&&k(n.data.xs[t][e])?n.data.xs[t][e]:e},_.getOtherTargetXs=function(){var t=this,e=Object.keys(t.data.xs);return e.length?t.data.xs[e[0]]:null},_.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},_.addXs=function(e){var n=this;Object.keys(e).forEach(function(t){n.config.data_xs[t]=e[t]})},_.hasMultipleX=function(e){return 1<this.d3.set(Object.keys(e).map(function(t){return e[t]})).size()},_.isMultipleX=function(){return M(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},_.addName=function(t){var e;return t&&(e=this.config.data_names[t.id],t.name=e!==undefined?e:t.id),t},_.getValueOnIndex=function(t,e){var n=t.filter(function(t){return t.index===e});return n.length?n[0]:null},_.updateTargetX=function(t,i){var r=this;t.forEach(function(n){n.values.forEach(function(t,e){t.x=r.generateTargetX(i[e],n.id,e)}),r.data.xs[n.id]=i})},_.updateTargetXs=function(t,e){var n=this;t.forEach(function(t){e[t.id]&&n.updateTargetX([t],e[t.id])})},_.generateTargetX=function(t,e,n){var i=this;return i.isTimeSeries()?t?i.parseDate(t):i.parseDate(i.getXValue(e,n)):i.isCustomX()&&!i.isCategorized()?k(t)?+t:i.getXValue(e,n):n},_.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},_.updateXs=function(){var e=this;e.data.targets.length&&(e.xs=[],e.data.targets[0].values.forEach(function(t){e.xs[t.index]=t.x}))},_.getPrevX=function(t){var e=this.xs[t-1];return void 0!==e?e:null},_.getNextX=function(t){var e=this.xs[t+1];return void 0!==e?e:null},_.getMaxDataCount=function(){var t=this;return t.d3.max(t.data.targets,function(t){return t.values.length})},_.getMaxDataCountTarget=function(t){var e,n=t.length,i=0;return 1<n?t.forEach(function(t){t.values.length>i&&(i=(e=t).values.length)}):e=n?t[0]:null,e},_.getEdgeX=function(t){var e=this;return t.length?[e.d3.min(t,function(t){return t.values[0].x}),e.d3.max(t,function(t){return t.values[t.values.length-1].x})]:[0,0]},_.mapToIds=function(t){return t.map(function(t){return t.id})},_.mapToTargetIds=function(t){var e=this;return t?[].concat(t):e.mapToIds(e.data.targets)},_.hasTarget=function(t,e){var n,i=this.mapToIds(t);for(n=0;n<i.length;n++)if(i[n]===e)return!0;return!1},_.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},_.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},_.filterTargetsToShow=function(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})},_.mapTargetsToUniqueXs=function(t){var e=this,n=e.d3.set(e.d3.merge(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();return(n=e.isTimeSeries()?n.map(function(t){return new Date(+t)}):n.map(function(t){return+t})).sort(function(t,e){return t<e?-1:e<t?1:e<=t?0:NaN})},_.addHiddenTargetIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenTargetIds.indexOf(t[e])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(t[e]))},_.removeHiddenTargetIds=function(e){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(t){return e.indexOf(t)<0})},_.addHiddenLegendIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenLegendIds.indexOf(t[e])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(t[e]))},_.removeHiddenLegendIds=function(e){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(t){return e.indexOf(t)<0})},_.getValuesAsIdKeyed=function(t){var n={};return t.forEach(function(e){n[e.id]=[],e.values.forEach(function(t){n[e.id].push(t.value)})}),n},_.checkValueInTargets=function(t,e){var n,i,r,o=Object.keys(t);for(n=0;n<o.length;n++)for(r=t[o[n]].values,i=0;i<r.length;i++)if(e(r[i].value))return!0;return!1},_.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t<0})},_.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return 0<t})},_.isOrderDesc=function(){var t=this.config;return"string"==typeof t.data_order&&"desc"===t.data_order.toLowerCase()},_.isOrderAsc=function(){var t=this.config;return"string"==typeof t.data_order&&"asc"===t.data_order.toLowerCase()},_.getOrderFunction=function(){var t=this,e=t.config,n=t.isOrderAsc(),o=t.isOrderDesc();if(n||o)return function(t,e){var n=function(t,e){return t+Math.abs(e.value)},i=t.values.reduce(n,0),r=e.values.reduce(n,0);return o?r-i:i-r};if(h(e.data_order))return e.data_order;if(c(e.data_order)){var i=e.data_order;return function(t,e){return i.indexOf(t.id)-i.indexOf(e.id)}}},_.orderTargets=function(t){var e=this.getOrderFunction();return e&&(t.sort(e),(this.isOrderAsc()||this.isOrderDesc())&&t.reverse()),t},_.filterByX=function(t,e){return this.d3.merge(t.map(function(t){return t.values})).filter(function(t){return t.x-e==0})},_.filterRemoveNull=function(t){return t.filter(function(t){return k(t.value)})},_.filterByXDomain=function(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})},_.hasDataLabel=function(){var t=this.config;return!("boolean"!=typeof t.data_labels||!t.data_labels)||!("object"!==u(t.data_labels)||!M(t.data_labels))},_.getDataLabelLength=function(t,e,n){var i=this,r=[0,0],o=1.3;return i.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return i.dataLabelFormat(t.id)(t)}).each(function(t,e){r[e]=this.getBoundingClientRect()[n]*o}).remove(),r},_.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},_.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},_.findSameXOfValues=function(t,e){var n,i=t[e].x,r=[];for(n=e-1;0<=n&&i===t[n].x;n--)r.push(t[n]);for(n=e;n<t.length&&i===t[n].x;n++)r.push(t[n]);return r},_.findClosestFromTargets=function(t,e){var n,i=this;return n=t.map(function(t){return i.findClosest(t.values,e)}),i.findClosest(n,e)},_.findClosest=function(t,n){var i,r=this,o=r.config.point_sensitivity;return t.filter(function(t){return t&&r.isBarType(t.id)}).forEach(function(t){var e=r.main.select("."+G.bars+r.getTargetSelectorSuffix(t.id)+" ."+G.bar+"-"+t.index).node();!i&&r.isWithinBar(e)&&(i=t)}),t.filter(function(t){return t&&!r.isBarType(t.id)}).forEach(function(t){var e=r.dist(t,n);e<o&&(o=e,i=t)}),i},_.dist=function(t,e){var n=this,i=n.config,r=i.axis_rotated?1:0,o=i.axis_rotated?0:1,a=n.circleY(t,t.index),s=n.x(t.x);return Math.sqrt(Math.pow(s-e[r],2)+Math.pow(a-e[o],2))},_.convertValuesToStep=function(t){var e,n=[].concat(t);if(!this.isCategorized())return t;for(e=t.length+1;0<e;e--)n[e]=n[e-1];return n[0]={x:n[0].x-1,value:n[0].value,id:n[0].id},n[t.length+1]={x:n[t.length].x+1,value:n[t.length].value,id:n[t.length].id},n},_.updateDataAttributes=function(t,e){var n=this,i=n.config["data_"+t];return void 0===e||(Object.keys(e).forEach(function(t){i[t]=e[t]}),n.redraw({withLegend:!0})),i},_.load=function(n,i){var r=this;n&&(i.filter&&(n=n.filter(i.filter)),(i.type||i.types)&&n.forEach(function(t){var e=i.types&&i.types[t.id]?i.types[t.id]:i.type;r.setTargetType(t.id,e)}),r.data.targets.forEach(function(t){for(var e=0;e<n.length;e++)if(t.id===n[e].id){t.values=n[e].values,n.splice(e,1);break}}),r.data.targets=r.data.targets.concat(n)),r.updateTargets(r.data.targets),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),i.done&&i.done()},_.loadFromArgs=function(e){var n=this;e.data?n.load(n.convertDataToTargets(e.data),e):e.url?n.convertUrlToData(e.url,e.mimeType,e.headers,e.keys,function(t){n.load(n.convertDataToTargets(t),e)}):e.json?n.load(n.convertDataToTargets(n.convertJsonToData(e.json,e.keys)),e):e.rows?n.load(n.convertDataToTargets(n.convertRowsToData(e.rows)),e):e.columns?n.load(n.convertDataToTargets(n.convertColumnsToData(e.columns)),e):n.load(null,e)},_.unload=function(t,e){var n=this;e||(e=function(){}),(t=t.filter(function(t){return n.hasTarget(n.data.targets,t)}))&&0!==t.length?(n.svg.selectAll(t.map(function(t){return n.selectorTarget(t)})).transition().style("opacity",0).remove().call(n.endall,e),t.forEach(function(e){n.withoutFadeIn[e]=!1,n.legend&&n.legend.selectAll("."+G.legendItem+n.getTargetSelectorSuffix(e)).remove(),n.data.targets=n.data.targets.filter(function(t){return t.id!==e})})):e()},_.getYDomainMin=function(t){var e,n,i,r,o,a,s=this,u=s.config,l=s.mapToIds(t),c=s.getValuesAsIdKeyed(t);if(0<u.data_groups.length)for(a=s.hasNegativeValueInTargets(t),e=0;e<u.data_groups.length;e++)if(0!==(r=u.data_groups[e].filter(function(t){return 0<=l.indexOf(t)})).length)for(i=r[0],a&&c[i]&&c[i].forEach(function(t,e){c[i][e]=t<0?t:0}),n=1;n<r.length;n++)o=r[n],c[o]&&c[o].forEach(function(t,e){s.axis.getId(o)!==s.axis.getId(i)||!c[i]||a&&0<+t||(c[i][e]+=+t)});return s.d3.min(Object.keys(c).map(function(t){return s.d3.min(c[t])}))},_.getYDomainMax=function(t){var e,n,i,r,o,a,s=this,u=s.config,l=s.mapToIds(t),c=s.getValuesAsIdKeyed(t);if(0<u.data_groups.length)for(a=s.hasPositiveValueInTargets(t),e=0;e<u.data_groups.length;e++)if(0!==(r=u.data_groups[e].filter(function(t){return 0<=l.indexOf(t)})).length)for(i=r[0],a&&c[i]&&c[i].forEach(function(t,e){c[i][e]=0<t?t:0}),n=1;n<r.length;n++)o=r[n],c[o]&&c[o].forEach(function(t,e){s.axis.getId(o)!==s.axis.getId(i)||!c[i]||a&&+t<0||(c[i][e]+=+t)});return s.d3.max(Object.keys(c).map(function(t){return s.d3.max(c[t])}))},_.getYDomain=function(t,e,n){var i,r,o,a,s,u,l,c,h,f,d=this,p=d.config,g=t.filter(function(t){return d.axis.getId(t.id)===e}),v=n?d.filterByXDomain(g,n):g,y="y2"===e?p.axis_y2_min:p.axis_y_min,m="y2"===e?p.axis_y2_max:p.axis_y_max,x=d.getYDomainMin(v),b=d.getYDomainMax(v),_="y2"===e?p.axis_y2_center:p.axis_y_center,w=d.hasType("bar",v)&&p.bar_zerobased||d.hasType("area",v)&&p.area_zerobased,S="y2"===e?p.axis_y2_inverted:p.axis_y_inverted,T=d.hasDataLabel()&&p.axis_rotated,C=d.hasDataLabel()&&!p.axis_rotated;return x=k(y)?y:k(m)?x<m?x:m-10:x,b=k(m)?m:k(y)?y<b?b:y+10:b,0===v.length?"y2"===e?d.y2.domain():d.y.domain():(isNaN(x)&&(x=0),isNaN(b)&&(b=x),x===b&&(x<0?b=0:x=0),h=0<=x&&0<=b,f=x<=0&&b<=0,(k(y)&&h||k(m)&&f)&&(w=!1),w&&(h&&(x=0),f&&(b=0)),o=a=.1*(r=Math.abs(b-x)),void 0!==_&&(b=_+(s=Math.max(Math.abs(x),Math.abs(b))),x=_-s),T?(u=d.getDataLabelLength(x,b,"width"),l=O(d.y.range()),o+=r*((c=[u[0]/l,u[1]/l])[1]/(1-c[0]-c[1])),a+=r*(c[0]/(1-c[0]-c[1]))):C&&(u=d.getDataLabelLength(x,b,"height"),o+=d.axis.convertPixelsToAxisPadding(u[1],r),a+=d.axis.convertPixelsToAxisPadding(u[0],r)),"y"===e&&M(p.axis_y_padding)&&(o=d.axis.getPadding(p.axis_y_padding,"top",o,r),a=d.axis.getPadding(p.axis_y_padding,"bottom",a,r)),"y2"===e&&M(p.axis_y2_padding)&&(o=d.axis.getPadding(p.axis_y2_padding,"top",o,r),a=d.axis.getPadding(p.axis_y2_padding,"bottom",a,r)),w&&(h&&(a=x),f&&(o=-b)),i=[x-a,b+o],S?i.reverse():i)},_.getXDomainMin=function(t){var e=this,n=e.config;return I(n.axis_x_min)?e.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:e.d3.min(t,function(t){return e.d3.min(t.values,function(t){return t.x})})},_.getXDomainMax=function(t){var e=this,n=e.config;return I(n.axis_x_max)?e.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:e.d3.max(t,function(t){return e.d3.max(t.values,function(t){return t.x})})},_.getXDomainPadding=function(t){var e,n,i,r,o=this,a=o.config,s=t[1]-t[0];return n=o.isCategorized()?0:o.hasType("bar")?1<(e=o.getMaxDataCount())?s/(e-1)/2:.5:.01*s,"object"===u(a.axis_x_padding)&&M(a.axis_x_padding)?(i=k(a.axis_x_padding.left)?a.axis_x_padding.left:n,r=k(a.axis_x_padding.right)?a.axis_x_padding.right:n):i=r="number"==typeof a.axis_x_padding?a.axis_x_padding:n,{left:i,right:r}},_.getXDomain=function(t){var e=this,n=[e.getXDomainMin(t),e.getXDomainMax(t)],i=n[0],r=n[1],o=e.getXDomainPadding(n),a=0,s=0;return i-r!=0||e.isCategorized()||(e.isTimeSeries()?(i=new Date(.5*i.getTime()),r=new Date(1.5*r.getTime())):(i=0===i?1:.5*i,r=0===r?-1:1.5*r)),(i||0===i)&&(a=e.isTimeSeries()?new Date(i.getTime()-o.left):i-o.left),(r||0===r)&&(s=e.isTimeSeries()?new Date(r.getTime()+o.right):r+o.right),[a,s]},_.updateXDomain=function(t,e,n,i,r){var o=this,a=o.config;return n&&(o.x.domain(r||o.d3.extent(o.getXDomain(t))),o.orgXDomain=o.x.domain(),a.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent(),o.subX.domain(o.x.domain()),o.brush&&o.brush.scale(o.subX)),e&&(o.x.domain(r||(!o.brush||o.brush.empty()?o.orgXDomain:o.brush.extent())),a.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent()),i&&o.x.domain(o.trimXDomain(o.x.orgDomain())),o.x.domain()},_.trimXDomain=function(t){var e=this.getZoomDomain(),n=e[0],i=e[1];return t[0]<=n&&(t[1]=+t[1]+(n-t[0]),t[0]=n),i<=t[1]&&(t[0]=+t[0]-(t[1]-i),t[1]=i),t},_.drag=function(t){var e,n,i,r,f,d,p,g,v=this,o=v.config,a=v.main,y=v.d3;v.hasArcType()||o.data_selection_enabled&&(o.zoom_enabled&&!v.zoom.altDomain||o.data_selection_multiple&&(e=v.dragStart[0],n=v.dragStart[1],i=t[0],r=t[1],f=Math.min(e,i),d=Math.max(e,i),p=o.data_selection_grouped?v.margin.top:Math.min(n,r),g=o.data_selection_grouped?v.height:Math.max(n,r),a.select("."+G.dragarea).attr("x",f).attr("y",p).attr("width",d-f).attr("height",g-p),a.selectAll("."+G.shapes).selectAll("."+G.shape).filter(function(t){return o.data_selection_isselectable(t)}).each(function(t,e){var n,i,r,o,a,s,u=y.select(this),l=u.classed(G.SELECTED),c=u.classed(G.INCLUDED),h=!1;if(u.classed(G.circle))n=1*u.attr("cx"),i=1*u.attr("cy"),a=v.togglePoint,h=f<n&&n<d&&p<i&&i<g;else{if(!u.classed(G.bar))return;n=(s=m(this)).x,i=s.y,r=s.width,o=s.height,a=v.togglePath,h=!(d<n||n+r<f||g<i||i+o<p)}h^c&&(u.classed(G.INCLUDED,!c),u.classed(G.SELECTED,!l),a.call(v,!l,u,t,e))})))},_.dragstart=function(t){var e=this,n=e.config;e.hasArcType()||n.data_selection_enabled&&(e.dragStart=t,e.main.select("."+G.chart).append("rect").attr("class",G.dragarea).style("opacity",.1),e.dragging=!0)},_.dragend=function(){var t=this,e=t.config;t.hasArcType()||e.data_selection_enabled&&(t.main.select("."+G.dragarea).transition().duration(100).style("opacity",0).remove(),t.main.selectAll("."+G.shape).classed(G.INCLUDED,!1),t.dragging=!1)},_.getYFormat=function(t){var i=this,r=t&&!i.hasType("gauge")?i.defaultArcValueFormat:i.yFormat,o=t&&!i.hasType("gauge")?i.defaultArcValueFormat:i.y2Format;return function(t,e,n){return("y2"===i.axis.getId(n)?o:r).call(i,t,e)}},_.yFormat=function(t){var e=this,n=e.config;return(n.axis_y_tick_format?n.axis_y_tick_format:e.defaultValueFormat)(t)},_.y2Format=function(t){var e=this,n=e.config;return(n.axis_y2_tick_format?n.axis_y2_tick_format:e.defaultValueFormat)(t)},_.defaultValueFormat=function(t){return k(t)?+t:""},_.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+"%"},_.dataLabelFormat=function(t){var e=this.config.data_labels,n=function(t){return k(t)?+t:""};return"function"==typeof e.format?e.format:"object"===u(e.format)?e.format[t]?!0===e.format[t]?n:e.format[t]:function(){return""}:n},_.initGrid=function(){var t=this,e=t.config,n=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",G.grid),e.grid_x_show&&t.grid.append("g").attr("class",G.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",G.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",G.xgridFocus).append("line").attr("class",G.xgridFocus),t.xgrid=n.selectAll([]),e.grid_lines_front||t.initGridLines()},_.initGridLines=function(){var t=this,e=t.d3;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",G.grid+" "+G.gridLines),t.gridLines.append("g").attr("class",G.xgridLines),t.gridLines.append("g").attr("class",G.ygridLines),t.xgridLines=e.selectAll([])},_.updateXGrid=function(t){var e=this,n=e.config,i=e.d3,r=e.generateGridData(n.grid_x_type,e.x),o=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=n.axis_rotated?{x1:0,x2:e.width,y1:function(t){return e.x(t)-o},y2:function(t){return e.x(t)-o}}:{x1:function(t){return e.x(t)+o},x2:function(t){return e.x(t)+o},y1:0,y2:e.height},e.xgrid=e.main.select("."+G.xgrids).selectAll("."+G.xgrid).data(r),e.xgrid.enter().append("line").attr("class",G.xgrid),t||e.xgrid.attr(e.xgridAttr).style("opacity",function(){return+i.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?e.height:0)?0:1}),e.xgrid.exit().remove()},_.updateYGrid=function(){var t=this,e=t.config,n=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks);t.ygrid=t.main.select("."+G.ygrids).selectAll("."+G.ygrid).data(n),t.ygrid.enter().append("line").attr("class",G.ygrid),t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y),t.ygrid.exit().remove(),t.smoothLines(t.ygrid,"grid")},_.gridTextAnchor=function(t){return t.position?t.position:"end"},_.gridTextDx=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},_.xGridTextX=function(t){return"start"===t.position?-this.height:"middle"===t.position?-this.height/2:0},_.yGridTextX=function(t){return"start"===t.position?0:"middle"===t.position?this.width/2:this.width},_.updateGrid=function(t){var e,n,i,r=this,o=r.main,a=r.config;r.grid.style("visibility",r.hasArcType()?"hidden":"visible"),o.select("line."+G.xgridFocus).style("visibility","hidden"),a.grid_x_show&&r.updateXGrid(),r.xgridLines=o.select("."+G.xgridLines).selectAll("."+G.xgridLine).data(a.grid_x_lines),(e=r.xgridLines.enter().append("g").attr("class",function(t){return G.xgridLine+(t["class"]?" "+t["class"]:"")})).append("line").style("opacity",0),e.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",a.axis_rotated?"":"rotate(-90)").attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),r.xgridLines.exit().transition().duration(t).style("opacity",0).remove(),a.grid_y_show&&r.updateYGrid(),r.ygridLines=o.select("."+G.ygridLines).selectAll("."+G.ygridLine).data(a.grid_y_lines),(n=r.ygridLines.enter().append("g").attr("class",function(t){return G.ygridLine+(t["class"]?" "+t["class"]:"")})).append("line").style("opacity",0),n.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",a.axis_rotated?"rotate(-90)":"").attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),i=r.yv.bind(r),r.ygridLines.select("line").transition().duration(t).attr("x1",a.axis_rotated?i:0).attr("x2",a.axis_rotated?i:r.width).attr("y1",a.axis_rotated?0:i).attr("y2",a.axis_rotated?r.height:i).style("opacity",1),r.ygridLines.select("text").transition().duration(t).attr("x",a.axis_rotated?r.xGridTextX.bind(r):r.yGridTextX.bind(r)).attr("y",i).text(function(t){return t.text}).style("opacity",1),r.ygridLines.exit().transition().duration(t).style("opacity",0).remove()},_.redrawGrid=function(t){var e=this,n=e.config,i=e.xv.bind(e),r=e.xgridLines.select("line"),o=e.xgridLines.select("text");return[(t?r.transition():r).attr("x1",n.axis_rotated?0:i).attr("x2",n.axis_rotated?e.width:i).attr("y1",n.axis_rotated?i:0).attr("y2",n.axis_rotated?i:e.height).style("opacity",1),(t?o.transition():o).attr("x",n.axis_rotated?e.yGridTextX.bind(e):e.xGridTextX.bind(e)).attr("y",i).text(function(t){return t.text}).style("opacity",1)]},_.showXGridFocus=function(t){var e=this,n=e.config,i=t.filter(function(t){return t&&k(t.value)}),r=e.main.selectAll("line."+G.xgridFocus),o=e.xx.bind(e);n.tooltip_show&&(e.hasType("scatter")||e.hasArcType()||(r.style("visibility","visible").data([i[0]]).attr(n.axis_rotated?"y1":"x1",o).attr(n.axis_rotated?"y2":"x2",o),e.smoothLines(r,"grid")))},_.hideXGridFocus=function(){this.main.select("line."+G.xgridFocus).style("visibility","hidden")},_.updateXgridFocus=function(){var t=this,e=t.config;t.main.select("line."+G.xgridFocus).attr("x1",e.axis_rotated?0:-10).attr("x2",e.axis_rotated?t.width:-10).attr("y1",e.axis_rotated?-10:0).attr("y2",e.axis_rotated?-10:t.height)},_.generateGridData=function(t,e){var n,i,r,o,a=this,s=[],u=a.main.select("."+G.axisX).selectAll(".tick").size();if("year"===t)for(i=(n=a.getXDomain())[0].getFullYear(),r=n[1].getFullYear(),o=i;o<=r;o++)s.push(new Date(o+"-01-01 00:00:00"));else(s=e.ticks(10)).length>u&&(s=s.filter(function(t){return(""+t).indexOf(".")<0}));return s},_.getGridFilterToRemove=function(t){return t?function(e){var n=!1;return[].concat(t).forEach(function(t){("value"in t&&e.value===t.value||"class"in t&&e["class"]===t["class"])&&(n=!0)}),n}:function(){return!0}},_.removeGridLines=function(t,e){var n=this,i=n.config,r=n.getGridFilterToRemove(t),o=function(t){return!r(t)},a=e?G.xgridLines:G.ygridLines,s=e?G.xgridLine:G.ygridLine;n.main.select("."+a).selectAll("."+s).filter(r).transition().duration(i.transition_duration).style("opacity",0).remove(),e?i.grid_x_lines=i.grid_x_lines.filter(o):i.grid_y_lines=i.grid_y_lines.filter(o)},_.initEventRect=function(){this.main.select("."+G.chart).append("g").attr("class",G.eventRects).style("fill-opacity",0)},_.redrawEventRect=function(){var t,e,n=this,i=n.config,r=n.isMultipleX(),o=n.main.select("."+G.eventRects).style("cursor",i.zoom_enabled?i.axis_rotated?"ns-resize":"ew-resize":null).classed(G.eventRectsMultiple,r).classed(G.eventRectsSingle,!r);o.selectAll("."+G.eventRect).remove(),n.eventRect=o.selectAll("."+G.eventRect),r?(t=n.eventRect.data([0]),n.generateEventRectsForMultipleXs(t.enter()),n.updateEventRect(t)):(e=n.getMaxDataCountTarget(n.data.targets),o.datum(e?e.values:[]),n.eventRect=o.selectAll("."+G.eventRect),t=n.eventRect.data(function(t){return t}),n.generateEventRectsForSingleX(t.enter()),n.updateEventRect(t),t.exit().remove())},_.updateEventRect=function(t){var e,n,i,r,o,a,s=this,u=s.config;t=t||s.eventRect.data(function(t){return t}),s.isMultipleX()?(n=e=0,i=s.width,r=s.height):(!s.isCustomX()&&!s.isTimeSeries()||s.isCategorized()?(o=s.getEventRectWidth(),a=function(t){return s.x(t.x)-o/2}):(s.updateXs(),o=function(t){var e=s.getPrevX(t.index),n=s.getNextX(t.index);return null===e&&null===n?u.axis_rotated?s.height:s.width:(null===e&&(e=s.x.domain()[0]),null===n&&(n=s.x.domain()[1]),Math.max(0,(s.x(n)-s.x(e))/2))},a=function(t){var e=s.getPrevX(t.index),n=s.getNextX(t.index),i=s.data.xs[t.id][t.index];return null===e&&null===n?0:(null===e&&(e=s.x.domain()[0]),(s.x(i)+s.x(e))/2)}),e=u.axis_rotated?0:a,n=u.axis_rotated?a:0,i=u.axis_rotated?s.width:o,r=u.axis_rotated?o:s.height),t.attr("class",s.classEvent.bind(s)).attr("x",e).attr("y",n).attr("width",i).attr("height",r)},_.generateEventRectsForSingleX=function(t){var r=this,o=r.d3,a=r.config;t.append("rect").attr("class",r.classEvent.bind(r)).style("cursor",a.data_selection_enabled&&a.data_selection_grouped?"pointer":null).on("mouseover",function(t){var e=t.index;r.dragging||r.flowing||r.hasArcType()||(a.point_focus_expand_enabled&&r.expandCircles(e,null,!0),r.expandBars(e,null,!0),r.main.selectAll("."+G.shape+"-"+e).each(function(t){a.data_onmouseover.call(r.api,t)}))}).on("mouseout",function(t){var e=t.index;r.config&&(r.hasArcType()||(r.hideXGridFocus(),r.hideTooltip(),r.unexpandCircles(),r.unexpandBars(),r.main.selectAll("."+G.shape+"-"+e).each(function(t){a.data_onmouseout.call(r.api,t)})))}).on("mousemove",function(t){var e,n=t.index,i=r.svg.select("."+G.eventRect+"-"+n);r.dragging||r.flowing||r.hasArcType()||(r.isStepType(t)&&"step-after"===r.config.line_step_type&&o.mouse(this)[0]<r.x(r.getXValue(t.id,n))&&(n-=1),e=r.filterTargetsToShow(r.data.targets).map(function(t){return r.addName(r.getValueOnIndex(t.values,n))}),a.tooltip_grouped&&(r.showTooltip(e,this),r.showXGridFocus(e)),(!a.tooltip_grouped||a.data_selection_enabled&&!a.data_selection_grouped)&&r.main.selectAll("."+G.shape+"-"+n).each(function(){o.select(this).classed(G.EXPANDED,!0),a.data_selection_enabled&&i.style("cursor",a.data_selection_grouped?"pointer":null),a.tooltip_grouped||(r.hideXGridFocus(),r.hideTooltip(),a.data_selection_grouped||(r.unexpandCircles(n),r.unexpandBars(n)))}).filter(function(t){return r.isWithinShape(this,t)}).each(function(t){a.data_selection_enabled&&(a.data_selection_grouped||a.data_selection_isselectable(t))&&i.style("cursor","pointer"),a.tooltip_grouped||(r.showTooltip([t],this),r.showXGridFocus([t]),a.point_focus_expand_enabled&&r.expandCircles(n,t.id,!0),r.expandBars(n,t.id,!0))}))}).on("click",function(t){var e=t.index;!r.hasArcType()&&r.toggleShape&&(r.cancelClick?r.cancelClick=!1:(r.isStepType(t)&&"step-after"===a.line_step_type&&o.mouse(this)[0]<r.x(r.getXValue(t.id,e))&&(e-=1),r.main.selectAll("."+G.shape+"-"+e).each(function(t){(a.data_selection_grouped||r.isWithinShape(this,t))&&(r.toggleShape(this,t,e),r.config.data_onclick.call(r.api,t,this))})))}).call(a.data_selection_draggable&&r.drag?o.behavior.drag().origin(Object).on("drag",function(){r.drag(o.mouse(this))}).on("dragstart",function(){r.dragstart(o.mouse(this))}).on("dragend",function(){r.dragend()}):function(){})},_.generateEventRectsForMultipleXs=function(t){function r(){o.svg.select("."+G.eventRect).style("cursor",null),o.hideXGridFocus(),o.hideTooltip(),o.unexpandCircles(),o.unexpandBars()}var o=this,a=o.d3,s=o.config;t.append("rect").attr("x",0).attr("y",0).attr("width",o.width).attr("height",o.height).attr("class",G.eventRect).on("mouseout",function(){o.config&&(o.hasArcType()||r())}).on("mousemove",function(){var t,e,n,i=o.filterTargetsToShow(o.data.targets);o.dragging||o.hasArcType(i)||(t=a.mouse(this),e=o.findClosestFromTargets(i,t),!o.mouseover||e&&e.id===o.mouseover.id||(s.data_onmouseout.call(o.api,o.mouseover),o.mouseover=undefined),e?(n=(o.isScatterType(e)||!s.tooltip_grouped?[e]:o.filterByX(i,e.x)).map(function(t){return o.addName(t)}),o.showTooltip(n,this),s.point_focus_expand_enabled&&o.expandCircles(e.index,e.id,!0),o.expandBars(e.index,e.id,!0),o.showXGridFocus(n),(o.isBarType(e.id)||o.dist(e,t)<s.point_sensitivity)&&(o.svg.select("."+G.eventRect).style("cursor","pointer"),o.mouseover||(s.data_onmouseover.call(o.api,e),o.mouseover=e))):r())}).on("click",function(){var t,e,n=o.filterTargetsToShow(o.data.targets);o.hasArcType(n)||(t=a.mouse(this),(e=o.findClosestFromTargets(n,t))&&(o.isBarType(e.id)||o.dist(e,t)<s.point_sensitivity)&&o.main.selectAll("."+G.shapes+o.getTargetSelectorSuffix(e.id)).selectAll("."+G.shape+"-"+e.index).each(function(){(s.data_selection_grouped||o.isWithinShape(this,e))&&(o.toggleShape(this,e,e.index),o.config.data_onclick.call(o.api,e,this))}))}).call(s.data_selection_draggable&&o.drag?a.behavior.drag().origin(Object).on("drag",function(){o.drag(a.mouse(this))}).on("dragstart",function(){o.dragstart(a.mouse(this))}).on("dragend",function(){o.dragend()}):function(){})},_.dispatchEvent=function(t,e,n){var i=this,r="."+G.eventRect+(i.isMultipleX()?"":"-"+e),o=i.main.select(r).node(),a=o.getBoundingClientRect(),s=a.left+(n?n[0]:0),u=a.top+(n?n[1]:0),l=document.createEvent("MouseEvents");l.initMouseEvent(t,!0,!0,window,0,s,u,s,u,!1,!1,!1,!1,0,null),o.dispatchEvent(l)},_.initLegend=function(){var t=this;if(t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),!t.config.legend_show)return t.legend.style("visibility","hidden"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets));t.updateLegendWithDefaults()},_.updateLegendWithDefaults=function(){var t=this;t.updateLegend(t.mapToIds(t.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},_.updateSizeForLegend=function(t,e){var n=this,i=n.config,r={top:n.isLegendTop?n.getCurrentPaddingTop()+i.legend_inset_y+5.5:n.currentHeight-t-n.getCurrentPaddingBottom()-i.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+i.legend_inset_x+.5:n.currentWidth-e-n.getCurrentPaddingRight()-i.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?r.top:n.currentHeight-t,right:NaN,bottom:0,left:n.isLegendRight?n.currentWidth-e:n.isLegendInset?r.left:0}},_.transformLegend=function(t){var e=this;(t?e.legend.transition():e.legend).attr("transform",e.getTranslate("legend"))},_.updateLegendStep=function(t){this.legendStep=t},_.updateLegendItemWidth=function(t){this.legendItemWidth=t},_.updateLegendItemHeight=function(t){this.legendItemHeight=t},_.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},_.getLegendHeight=function(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},_.opacityForLegend=function(t){return t.classed(G.legendItemHidden)?null:1},_.opacityForUnfocusedLegend=function(t){return t.classed(G.legendItemHidden)?null:.3},_.toggleFocusLegend=function(e,t){var n=this;e=n.mapToTargetIds(e),n.legend.selectAll("."+G.legendItem).filter(function(t){return 0<=e.indexOf(t)}).classed(G.legendItemFocused,t).transition().duration(100).style("opacity",function(){return(t?n.opacityForLegend:n.opacityForUnfocusedLegend).call(n,n.d3.select(this))})},_.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+G.legendItem).classed(G.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend(e.select(this))})},_.showLegend=function(t){var e=this,n=e.config;n.legend_show||(n.legend_show=!0,e.legend.style("visibility","visible"),e.legendHasRendered||e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return e.opacityForLegend(e.d3.select(this))})},_.hideLegend=function(t){var e=this,n=e.config;n.legend_show&&g(t)&&(n.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},_.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},_.updateLegend=function(d,t,e){function p(t,e){return _.legendItemTextBox[e]||(_.legendItemTextBox[e]=_.getTextRect(t.textContent,G.legendItem,t)),_.legendItemTextBox[e]}function n(t,e,n){function i(t,e){e||(r=(f-E-h)/2)<M&&(r=(f-h)/2,E=0,O++),R[t]=O,D[O]=_.isLegendInset?10:r,L[t]=E,E+=h}var r,o,a=0===n,s=n===d.length-1,u=p(t,e),l=u.width+A+(!s||_.isLegendRight||_.isLegendInset?T:0)+w.legend_padding,c=u.height+S,h=_.isLegendRight||_.isLegendInset?c:l,f=_.isLegendRight||_.isLegendInset?_.getLegendHeight():_.getLegendWidth();a&&(k=C=O=E=0),!w.legend_show||_.isLegendToShow(e)?(P[e]=l,N[e]=c,(!C||C<=l)&&(C=l),(!k||k<=c)&&(k=c),
o=_.isLegendRight||_.isLegendInset?k:C,w.legend_equally?(Object.keys(P).forEach(function(t){P[t]=C}),Object.keys(N).forEach(function(t){N[t]=k}),(r=(f-o*d.length)/2)<M?(O=E=0,d.forEach(function(t){i(t)})):i(e,!0)):i(e)):P[e]=N[e]=R[e]=L[e]=0}var i,r,o,a,s,u,l,c,h,f,g,v,y,m,x,b,_=this,w=_.config,S=4,T=10,C=0,k=0,M=10,A=w.legend_item_tile_width+5,E=0,L={},P={},N={},D=[0],R={},O=0;d=d.filter(function(t){return!I(w.data_names[t])||null!==w.data_names[t]}),g=H(t=t||{},"withTransition",!0),v=H(t,"withTransitionForTransform",!0),_.isLegendInset&&(O=w.legend_inset_step?w.legend_inset_step:d.length,_.updateLegendStep(O)),_.isLegendRight?(i=function(t){return C*R[t]},a=function(t){return D[R[t]]+L[t]}):_.isLegendInset?(i=function(t){return C*R[t]+10},a=function(t){return D[R[t]]+L[t]}):(i=function(t){return D[R[t]]+L[t]},a=function(t){return k*R[t]}),r=function(t,e){return i(t,e)+4+w.legend_item_tile_width},s=function(t,e){return a(t,e)+9},o=function(t,e){return i(t,e)},u=function(t,e){return a(t,e)-5},l=function(t,e){return i(t,e)-2},c=function(t,e){return i(t,e)-2+w.legend_item_tile_width},h=function(t,e){return a(t,e)+4},(f=_.legend.selectAll("."+G.legendItem).data(d).enter().append("g").attr("class",function(t){return _.generateClass(G.legendItem,t)}).style("visibility",function(t){return _.isLegendToShow(t)?"visible":"hidden"}).style("cursor","pointer").on("click",function(t){w.legend_item_onclick?w.legend_item_onclick.call(_,t):_.d3.event.altKey?(_.api.hide(),_.api.show(t)):(_.api.toggle(t),_.isTargetToShow(t)?_.api.focus(t):_.api.revert())}).on("mouseover",function(t){w.legend_item_onmouseover?w.legend_item_onmouseover.call(_,t):(_.d3.select(this).classed(G.legendItemFocused,!0),!_.transiting&&_.isTargetToShow(t)&&_.api.focus(t))}).on("mouseout",function(t){w.legend_item_onmouseout?w.legend_item_onmouseout.call(_,t):(_.d3.select(this).classed(G.legendItemFocused,!1),_.api.revert())})).append("text").text(function(t){return I(w.data_names[t])?w.data_names[t]:t}).each(function(t,e){n(this,t,e)}).style("pointer-events","none").attr("x",_.isLegendRight||_.isLegendInset?r:-200).attr("y",_.isLegendRight||_.isLegendInset?-200:s),f.append("rect").attr("class",G.legendItemEvent).style("fill-opacity",0).attr("x",_.isLegendRight||_.isLegendInset?o:-200).attr("y",_.isLegendRight||_.isLegendInset?-200:u),f.append("line").attr("class",G.legendItemTile).style("stroke",_.color).style("pointer-events","none").attr("x1",_.isLegendRight||_.isLegendInset?l:-200).attr("y1",_.isLegendRight||_.isLegendInset?-200:h).attr("x2",_.isLegendRight||_.isLegendInset?c:-200).attr("y2",_.isLegendRight||_.isLegendInset?-200:h).attr("stroke-width",w.legend_item_tile_height),b=_.legend.select("."+G.legendBackground+" rect"),_.isLegendInset&&0<C&&0===b.size()&&(b=_.legend.insert("g","."+G.legendItem).attr("class",G.legendBackground).append("rect")),y=_.legend.selectAll("text").data(d).text(function(t){return I(w.data_names[t])?w.data_names[t]:t}).each(function(t,e){n(this,t,e)}),(g?y.transition():y).attr("x",r).attr("y",s),m=_.legend.selectAll("rect."+G.legendItemEvent).data(d),(g?m.transition():m).attr("width",function(t){return P[t]}).attr("height",function(t){return N[t]}).attr("x",o).attr("y",u),x=_.legend.selectAll("line."+G.legendItemTile).data(d),(g?x.transition():x).style("stroke",_.color).attr("x1",l).attr("y1",h).attr("x2",c).attr("y2",h),b&&(g?b.transition():b).attr("height",_.getLegendHeight()-12).attr("width",C*(O+1)+10),_.legend.selectAll("."+G.legendItem).classed(G.legendItemHidden,function(t){return!_.isTargetToShow(t)}),_.updateLegendItemWidth(C),_.updateLegendItemHeight(k),_.updateLegendStep(O),_.updateSizes(),_.updateScales(),_.updateSvgSize(),_.transformAll(v,e),_.legendHasRendered=!0},_.initRegion=function(){var t=this;t.region=t.main.append("g").attr("clip-path",t.clipPath).attr("class",G.regions)},_.updateRegion=function(t){var e=this,n=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible"),e.mainRegion=e.main.select("."+G.regions).selectAll("."+G.region).data(n.regions),e.mainRegion.enter().append("g").append("rect").style("fill-opacity",0),e.mainRegion.attr("class",e.classRegion.bind(e)),e.mainRegion.exit().transition().duration(t).style("opacity",0).remove()},_.redrawRegion=function(t){var e=this,n=e.mainRegion.selectAll("rect").each(function(){var t=e.d3.select(this.parentNode).datum();e.d3.select(this).datum(t)}),i=e.regionX.bind(e),r=e.regionY.bind(e),o=e.regionWidth.bind(e),a=e.regionHeight.bind(e);return[(t?n.transition():n).attr("x",i).attr("y",r).attr("width",o).attr("height",a).style("fill-opacity",function(t){return k(t.opacity)?t.opacity:.1})]},_.regionX=function(t){var e=this,n=e.config,i="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?n.axis_rotated&&"start"in t?i(t.start):0:n.axis_rotated?0:"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},_.regionY=function(t){var e=this,n=e.config,i="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?n.axis_rotated?0:"end"in t?i(t.end):0:n.axis_rotated&&"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},_.regionWidth=function(t){var e,n=this,i=n.config,r=n.regionX(t),o="y"===t.axis?n.y:n.y2;return(e="y"===t.axis||"y2"===t.axis?i.axis_rotated&&"end"in t?o(t.end):n.width:i.axis_rotated?n.width:"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.width)<r?0:e-r},_.regionHeight=function(t){var e,n=this,i=n.config,r=this.regionY(t),o="y"===t.axis?n.y:n.y2;return(e="y"===t.axis||"y2"===t.axis?i.axis_rotated?n.height:"start"in t?o(t.start):n.height:i.axis_rotated&&"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.height)<r?0:e-r},_.isRegionOnX=function(t){return!t.axis||"x"===t.axis},_.getScale=function(t,e,n){return(n?this.d3.time.scale():this.d3.scale.linear()).range([t,e])},_.getX=function(t,e,n,i){var r,o=this,a=o.getScale(t,e,o.isTimeSeries()),s=n?a.domain(n):a;for(r in o.isCategorized()?(i=i||function(){return 0},a=function(t,e){var n=s(t)+i(t);return e?n:Math.ceil(n)}):a=function(t,e){var n=s(t);return e?n:Math.ceil(n)},s)a[r]=s[r];return a.orgDomain=function(){return s.domain()},o.isCategorized()&&(a.domain=function(t){return arguments.length?(s.domain(t),a):[(t=this.orgDomain())[0],t[1]+1]}),a},_.getY=function(t,e,n){var i=this.getScale(t,e,this.isTimeSeriesY());return n&&i.domain(n),i},_.getYScale=function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},_.getSubYScale=function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},_.updateScales=function(){var e=this,t=e.config,n=!e.x;e.xMin=t.axis_rotated?1:0,e.xMax=t.axis_rotated?e.height:e.width,e.yMin=t.axis_rotated?0:e.height,e.yMax=t.axis_rotated?e.width:1,e.subXMin=e.xMin,e.subXMax=e.xMax,e.subYMin=t.axis_rotated?0:e.height2,e.subYMax=t.axis_rotated?e.width2:1,e.x=e.getX(e.xMin,e.xMax,n?undefined:e.x.orgDomain(),function(){return e.xAxis.tickOffset()}),e.y=e.getY(e.yMin,e.yMax,n?t.axis_y_default:e.y.domain()),e.y2=e.getY(e.yMin,e.yMax,n?t.axis_y2_default:e.y2.domain()),e.subX=e.getX(e.xMin,e.xMax,e.orgXDomain,function(t){return t%1?0:e.subXAxis.tickOffset()}),e.subY=e.getY(e.subYMin,e.subYMax,n?t.axis_y_default:e.subY.domain()),e.subY2=e.getY(e.subYMin,e.subYMax,n?t.axis_y2_default:e.subY2.domain()),e.xAxisTickFormat=e.axis.getXAxisTickFormat(),e.xAxisTickValues=e.axis.getXAxisTickValues(),e.yAxisTickValues=e.axis.getYAxisTickValues(),e.y2AxisTickValues=e.axis.getY2AxisTickValues(),e.xAxis=e.axis.getXAxis(e.x,e.xOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.subXAxis=e.axis.getXAxis(e.subX,e.subXOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.yAxis=e.axis.getYAxis(e.y,e.yOrient,t.axis_y_tick_format,e.yAxisTickValues,t.axis_y_tick_outer),e.y2Axis=e.axis.getYAxis(e.y2,e.y2Orient,t.axis_y2_tick_format,e.y2AxisTickValues,t.axis_y2_tick_outer),n||(e.brush&&e.brush.scale(e.subX),t.zoom_enabled&&e.zoom.scale(e.x)),e.updateArc&&e.updateArc()},_.selectPoint=function(t,e,n){var i=this,r=i.config,o=(r.axis_rotated?i.circleY:i.circleX).bind(i),a=(r.axis_rotated?i.circleX:i.circleY).bind(i),s=i.pointSelectR.bind(i);r.data_onselected.call(i.api,e,t.node()),i.main.select("."+G.selectedCircles+i.getTargetSelectorSuffix(e.id)).selectAll("."+G.selectedCircle+"-"+n).data([e]).enter().append("circle").attr("class",function(){return i.generateClass(G.selectedCircle,n)}).attr("cx",o).attr("cy",a).attr("stroke",function(){return i.color(e)}).attr("r",function(t){return 1.4*i.pointSelectR(t)}).transition().duration(100).attr("r",s)},_.unselectPoint=function(t,e,n){var i=this;i.config.data_onunselected.call(i.api,e,t.node()),i.main.select("."+G.selectedCircles+i.getTargetSelectorSuffix(e.id)).selectAll("."+G.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()},_.togglePoint=function(t,e,n,i){t?this.selectPoint(e,n,i):this.unselectPoint(e,n,i)},_.selectPath=function(t,e){var n=this;n.config.data_onselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return n.d3.rgb(n.color(e)).brighter(.75)})},_.unselectPath=function(t,e){var n=this;n.config.data_onunselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return n.color(e)})},_.togglePath=function(t,e,n,i){t?this.selectPath(e,n,i):this.unselectPath(e,n,i)},_.getToggle=function(t,e){var n,i=this;return"circle"===t.nodeName?n=i.isStepType(e)?function(){}:i.togglePoint:"path"===t.nodeName&&(n=i.togglePath),n},_.toggleShape=function(t,e,n){var i=this,r=i.d3,o=i.config,a=r.select(t),s=a.classed(G.SELECTED),u=i.getToggle(t,e).bind(i);o.data_selection_enabled&&o.data_selection_isselectable(e)&&(o.data_selection_multiple||i.main.selectAll("."+G.shapes+(o.data_selection_grouped?i.getTargetSelectorSuffix(e.id):"")).selectAll("."+G.shape).each(function(t,e){var n=r.select(this);n.classed(G.SELECTED)&&u(!1,n.classed(G.SELECTED,!1),t,e)}),a.classed(G.SELECTED,!s),u(!s,a,e,n))},_.initBar=function(){this.main.select("."+G.chart).append("g").attr("class",G.chartBars)},_.updateTargetsForBar=function(t){var e=this,n=e.config,i=e.classChartBar.bind(e),r=e.classBars.bind(e),o=e.classFocus.bind(e);e.main.select("."+G.chartBars).selectAll("."+G.chartBar).data(t).attr("class",function(t){return i(t)+o(t)}).enter().append("g").attr("class",i).style("pointer-events","none").append("g").attr("class",r).style("cursor",function(t){return n.data_selection_isselectable(t)?"pointer":null})},_.updateBar=function(t){var e=this,n=e.barData.bind(e),i=e.classBar.bind(e),r=e.initialOpacity.bind(e),o=function(t){return e.color(t.id)};e.mainBar=e.main.selectAll("."+G.bars).selectAll("."+G.bar).data(n),e.mainBar.enter().append("path").attr("class",i).style("stroke",o).style("fill",o),e.mainBar.style("opacity",r),e.mainBar.exit().transition().duration(t).remove()},_.redrawBar=function(t,e){return[(e?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",t).style("stroke",this.color).style("fill",this.color).style("opacity",1)]},_.getBarW=function(t,e){var n=this.config,i="number"==typeof n.bar_width?n.bar_width:e?t.tickInterval()*n.bar_width_ratio/e:0;return n.bar_width_max&&i>n.bar_width_max?n.bar_width_max:i},_.getBars=function(t,e){var n=this;return(e?n.main.selectAll("."+G.bars+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+G.bar+(k(t)?"-"+t:""))},_.expandBars=function(t,e,n){var i=this;n&&i.unexpandBars(),i.getBars(t,e).classed(G.EXPANDED,!0)},_.unexpandBars=function(t){this.getBars(t).classed(G.EXPANDED,!1)},_.generateDrawBar=function(t,e){var n=this,o=n.config,a=n.generateGetBarPoints(t,e);return function(t,e){var n=a(t,e),i=o.axis_rotated?1:0,r=o.axis_rotated?0:1;return"M "+n[0][i]+","+n[0][r]+" L"+n[1][i]+","+n[1][r]+" L"+n[2][i]+","+n[2][r]+" L"+n[3][i]+","+n[3][r]+" z"}},_.generateGetBarPoints=function(t,e){var a=this,n=e?a.subXAxis:a.xAxis,i=t.__max__+1,s=a.getBarW(n,i),u=a.getShapeX(s,i,t,!!e),l=a.getShapeY(!!e),c=a.getShapeOffset(a.isBarType,t,!!e),h=s*(a.config.bar_space/2),f=e?a.getSubYScale:a.getYScale;return function(t,e){var n=f.call(a,t.id)(0),i=c(t,e)||n,r=u(t),o=l(t);return a.config.axis_rotated&&(0<t.value&&o<n||t.value<0&&n<o)&&(o=n),[[r+h,i],[r+h,o-(n-i)],[r+s-h,o-(n-i)],[r+s-h,i]]}},_.isWithinBar=function(t){var e=this.d3.mouse(t),n=t.getBoundingClientRect(),i=t.pathSegList.getItem(0),r=t.pathSegList.getItem(1),o=Math.min(i.x,r.x),a=Math.min(i.y,r.y),s=2,u=o+n.width+s,l=a+n.height+s,c=a-s;return o-s<e[0]&&e[0]<u&&c<e[1]&&e[1]<l},_.getShapeIndices=function(t){var e,n,i=this,r=i.config,o={},a=0;return i.filterTargetsToShow(i.data.targets.filter(t,i)).forEach(function(t){for(e=0;e<r.data_groups.length;e++)if(!(r.data_groups[e].indexOf(t.id)<0))for(n=0;n<r.data_groups[e].length;n++)if(r.data_groups[e][n]in o){o[t.id]=o[r.data_groups[e][n]];break}w(o[t.id])&&(o[t.id]=a++)}),o.__max__=a-1,o},_.getShapeX=function(n,i,r,t){var e=this,o=t?e.subX:e.x;return function(t){var e=t.id in r?r[t.id]:0;return t.x||0===t.x?o(t.x)-n*(i/2-e):0}},_.getShapeY=function(e){var n=this;return function(t){return(e?n.getSubYScale(t.id):n.getYScale(t.id))(t.value)}},_.getShapeOffset=function(t,s,e){var u=this,l=u.orderTargets(u.filterTargetsToShow(u.data.targets.filter(t,u))),c=l.map(function(t){return t.id});return function(n,i){var r=e?u.getSubYScale(n.id):u.getYScale(n.id),o=r(0),a=o;return l.forEach(function(t){var e=u.isStepType(n)?u.convertValuesToStep(t.values):t.values;t.id!==n.id&&s[t.id]===s[n.id]&&c.indexOf(t.id)<c.indexOf(n.id)&&("undefined"!=typeof e[i]&&+e[i].x==+n.x||(i=-1,e.forEach(function(t,e){t.x===n.x&&(i=e)})),i in e&&0<=e[i].value*n.value&&(a+=r(e[i].value)-o))}),a}},_.isWithinShape=function(t,e){var n,i=this,r=i.d3.select(t);return i.isTargetToShow(e.id)?"circle"===t.nodeName?n=i.isStepType(e)?i.isWithinStep(t,i.getYScale(e.id)(e.value)):i.isWithinCircle(t,1.5*i.pointSelectR(e)):"path"===t.nodeName&&(n=!r.classed(G.bar)||i.isWithinBar(t)):n=!1,n},_.getInterpolate=function(t){var e=this,n=e.isInterpolationType(e.config.spline_interpolation_type)?e.config.spline_interpolation_type:"cardinal";return e.isSplineType(t)?n:e.isStepType(t)?e.config.line_step_type:"linear"},_.initLine=function(){this.main.select("."+G.chart).append("g").attr("class",G.chartLines)},_.updateTargetsForLine=function(t){var e,n=this,i=n.config,r=n.classChartLine.bind(n),o=n.classLines.bind(n),a=n.classAreas.bind(n),s=n.classCircles.bind(n),u=n.classFocus.bind(n);(e=n.main.select("."+G.chartLines).selectAll("."+G.chartLine).data(t).attr("class",function(t){return r(t)+u(t)}).enter().append("g").attr("class",r).style("opacity",0).style("pointer-events","none")).append("g").attr("class",o),e.append("g").attr("class",a),e.append("g").attr("class",function(t){return n.generateClass(G.selectedCircles,t.id)}),e.append("g").attr("class",s).style("cursor",function(t){return i.data_selection_isselectable(t)?"pointer":null}),t.forEach(function(e){n.main.selectAll("."+G.selectedCircles+n.getTargetSelectorSuffix(e.id)).selectAll("."+G.selectedCircle).each(function(t){t.value=e.values[t.index].value})})},_.updateLine=function(t){var e=this;e.mainLine=e.main.selectAll("."+G.lines).selectAll("."+G.line).data(e.lineData.bind(e)),e.mainLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.mainLine.style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",function(t){return e.isStepType(t)?"crispEdges":""}).attr("transform",null),e.mainLine.exit().transition().duration(t).style("opacity",0).remove()},_.redrawLine=function(t,e){return[(e?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]},_.generateDrawLine=function(t,s){var u=this,l=u.config,c=u.d3.svg.line(),n=u.generateGetLinePoints(t,s),h=s?u.getSubYScale:u.getYScale,e=function(t){return(s?u.subxx:u.xx).call(u,t)},i=function(t,e){return 0<l.data_groups.length?n(t,e)[0][1]:h.call(u,t.id)(t.value)};return c=l.axis_rotated?c.x(i).y(e):c.x(e).y(i),l.line_connectNull||(c=c.defined(function(t){return null!=t.value})),function(t){var e,n=l.line_connectNull?u.filterRemoveNull(t.values):t.values,i=s?u.x:u.subX,r=h.call(u,t.id),o=0,a=0;return u.isLineType(t)?l.data_regions[t.id]?e=u.lineWithRegions(n,i,r,l.data_regions[t.id]):(u.isStepType(t)&&(n=u.convertValuesToStep(n)),e=c.interpolate(u.getInterpolate(t))(n)):(n[0]&&(o=i(n[0].x),a=r(n[0].value)),e=l.axis_rotated?"M "+a+" "+o:"M "+o+" "+a),e||"M 0 0"}},_.generateGetLinePoints=function(t,e){var a=this,s=a.config,n=t.__max__+1,u=a.getShapeX(0,n,t,!!e),l=a.getShapeY(!!e),c=a.getShapeOffset(a.isLineType,t,!!e),h=e?a.getSubYScale:a.getYScale;return function(t,e){var n=h.call(a,t.id)(0),i=c(t,e)||n,r=u(t),o=l(t);return s.axis_rotated&&(0<t.value&&o<n||t.value<0&&n<o)&&(o=n),[[r,o-(n-i)],[r,o-(n-i)],[r,o-(n-i)],[r,o-(n-i)]]}},_.lineWithRegions=function(t,u,l,e){function n(t,e){var n;for(n=0;n<e.length;n++)if(e[n].start<t&&t<=e[n].end)return!0;return!1}function c(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}var i,r,o,a,h,s,f,d,p,g,v,y=this,m=y.config,x="M",b=y.isCategorized()?.5:0,_=[];if(I(e))for(i=0;i<e.length;i++)_[i]={},w(e[i].start)?_[i].start=t[0].x:_[i].start=y.isTimeSeries()?y.parseDate(e[i].start):e[i].start,w(e[i].end)?_[i].end=t[t.length-1].x:_[i].end=y.isTimeSeries()?y.parseDate(e[i].end):e[i].end;for(g=m.axis_rotated?function(t){return l(t.value)}:function(t){return u(t.x)},v=m.axis_rotated?function(t){return u(t.x)}:function(t){return l(t.value)},o=y.isTimeSeries()?function(t,e,n,i){var r=t.x.getTime(),o=e.x-t.x,a=new Date(r+o*n),s=new Date(r+o*(n+i));return c(m.axis_rotated?[[l(h(n)),u(a)],[l(h(n+i)),u(s)]]:[[u(a),l(h(n))],[u(s),l(h(n+i))]])}:function(t,e,n,i){return c(m.axis_rotated?[[l(h(n),!0),u(a(n))],[l(h(n+i),!0),u(a(n+i))]]:[[u(a(n),!0),l(h(n))],[u(a(n+i),!0),l(h(n+i))]])},i=0;i<t.length;i++){if(w(_)||!n(t[i].x,_))x+=" "+g(t[i])+" "+v(t[i]);else for(a=y.getScale(t[i-1].x+b,t[i].x+b,y.isTimeSeries()),h=y.getScale(t[i-1].value,t[i].value),s=u(t[i].x)-u(t[i-1].x),f=l(t[i].value)-l(t[i-1].value),p=2*(d=2/Math.sqrt(Math.pow(s,2)+Math.pow(f,2))),r=d;r<=1;r+=p)x+=o(t[i-1],t[i],r,d);t[i].x}return x},_.updateArea=function(t){var e=this,n=e.d3;e.mainArea=e.main.selectAll("."+G.areas).selectAll("."+G.area).data(e.lineData.bind(e)),e.mainArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.mainArea.style("opacity",e.orgAreaOpacity),e.mainArea.exit().transition().duration(t).style("opacity",0).remove()},_.redrawArea=function(t,e){return[(e?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},_.generateDrawArea=function(t,e){var o=this,a=o.config,s=o.d3.svg.area(),n=o.generateGetAreaPoints(t,e),i=e?o.getSubYScale:o.getYScale,r=function(t){return(e?o.subxx:o.xx).call(o,t)},u=function(t,e){return 0<a.data_groups.length?n(t,e)[0][1]:i.call(o,t.id)(o.getAreaBaseValue(t.id))},l=function(t,e){return 0<a.data_groups.length?n(t,e)[1][1]:i.call(o,t.id)(t.value)};return s=a.axis_rotated?s.x0(u).x1(l).y(r):s.x(r).y0(a.area_above?0:u).y1(l),a.line_connectNull||(s=s.defined(function(t){return null!==t.value})),function(t){var e,n=a.line_connectNull?o.filterRemoveNull(t.values):t.values,i=0,r=0;return o.isAreaType(t)?(o.isStepType(t)&&(n=o.convertValuesToStep(n)),e=s.interpolate(o.getInterpolate(t))(n)):(n[0]&&(i=o.x(n[0].x),r=o.getYScale(t.id)(n[0].value)),e=a.axis_rotated?"M "+r+" "+i:"M "+i+" "+r),e||"M 0 0"}},_.getAreaBaseValue=function(){return 0},_.generateGetAreaPoints=function(t,e){var a=this,s=a.config,n=t.__max__+1,u=a.getShapeX(0,n,t,!!e),l=a.getShapeY(!!e),c=a.getShapeOffset(a.isAreaType,t,!!e),h=e?a.getSubYScale:a.getYScale;return function(t,e){var n=h.call(a,t.id)(0),i=c(t,e)||n,r=u(t),o=l(t);return s.axis_rotated&&(0<t.value&&o<n||t.value<0&&n<o)&&(o=n),[[r,i],[r,o-(n-i)],[r,o-(n-i)],[r,i]]}},_.updateCircle=function(){var t=this;t.mainCircle=t.main.selectAll("."+G.circles).selectAll("."+G.circle).data(t.lineOrScatterData.bind(t)),t.mainCircle.enter().append("circle").attr("class",t.classCircle.bind(t)).attr("r",t.pointR.bind(t)).style("fill",t.color),t.mainCircle.style("opacity",t.initialOpacityForCircle.bind(t)),t.mainCircle.exit().remove()},_.redrawCircle=function(t,e,n){var i=this.main.selectAll("."+G.selectedCircle);return[(n?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",t).attr("cy",e),(n?i.transition(Math.random().toString()):i).attr("cx",t).attr("cy",e)]},_.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},_.updateCircleY=function(){var t,n,e=this;0<e.config.data_groups.length?(t=e.getShapeIndices(e.isLineType),n=e.generateGetLinePoints(t),e.circleY=function(t,e){return n(t,e)[0][1]}):e.circleY=function(t){return e.getYScale(t.id)(t.value)}},_.getCircles=function(t,e){var n=this;return(e?n.main.selectAll("."+G.circles+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+G.circle+(k(t)?"-"+t:""))},_.expandCircles=function(t,e,n){var i=this,r=i.pointExpandedR.bind(i);n&&i.unexpandCircles(),i.getCircles(t,e).classed(G.EXPANDED,!0).attr("r",r)},_.unexpandCircles=function(t){var e=this,n=e.pointR.bind(e);e.getCircles(t).filter(function(){return e.d3.select(this).classed(G.EXPANDED)}).classed(G.EXPANDED,!1).attr("r",n)},_.pointR=function(t){var e=this,n=e.config;return e.isStepType(t)?0:h(n.point_r)?n.point_r(t):n.point_r},_.pointExpandedR=function(t){var e=this,n=e.config;return n.point_focus_expand_enabled?h(n.point_focus_expand_r)?n.point_focus_expand_r(t):n.point_focus_expand_r?n.point_focus_expand_r:1.75*e.pointR(t):e.pointR(t)},_.pointSelectR=function(t){var e=this,n=e.config;return h(n.point_select_r)?n.point_select_r(t):n.point_select_r?n.point_select_r:4*e.pointR(t)},_.isWithinCircle=function(t,e){var n=this.d3,i=n.mouse(t),r=n.select(t),o=+r.attr("cx"),a=+r.attr("cy");return Math.sqrt(Math.pow(o-i[0],2)+Math.pow(a-i[1],2))<e},_.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30},_.getCurrentWidth=function(){var t=this,e=t.config;return e.size_width?e.size_width:t.getParentWidth()},_.getCurrentHeight=function(){var t=this,e=t.config,n=e.size_height?e.size_height:t.getParentHeight();return 0<n?n:320/(t.hasType("gauge")&&!e.gauge_fullCircle?2:1)},_.getCurrentPaddingTop=function(){var t=this,e=t.config,n=k(e.padding_top)?e.padding_top:0;return t.title&&t.title.node()&&(n+=t.getTitlePadding()),n},_.getCurrentPaddingBottom=function(){var t=this.config;return k(t.padding_bottom)?t.padding_bottom:0},_.getCurrentPaddingLeft=function(t){var e=this,n=e.config;return k(n.padding_left)?n.padding_left:n.axis_rotated?n.axis_x_show?Math.max(d(e.getAxisWidthByAxisId("x",t)),40):1:!n.axis_y_show||n.axis_y_inner?e.axis.getYAxisLabelPosition().isOuter?30:1:d(e.getAxisWidthByAxisId("y",t))},_.getCurrentPaddingRight=function(){var t=this,e=t.config,n=10,i=t.isLegendRight?t.getLegendWidth()+20:0;return k(e.padding_right)?e.padding_right+1:e.axis_rotated?n+i:!e.axis_y2_show||e.axis_y2_inner?2+i+(t.axis.getY2AxisLabelPosition().isOuter?20:0):d(t.getAxisWidthByAxisId("y2"))+i},_.getParentRectValue=function(t){for(var e,n=this.selectChart.node();n&&"BODY"!==n.tagName;){try{e=n.getBoundingClientRect()[t]}catch(i){"width"===t&&(e=n.offsetWidth)}if(e)break;n=n.parentNode}return e},_.getParentWidth=function(){return this.getParentRectValue("width")},_.getParentHeight=function(){var t=this.selectChart.style("height");return 0<t.indexOf("px")?+t.replace("px",""):0},_.getSvgLeft=function(t){var e=this,n=e.config,i=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,r=n.axis_rotated?G.axisX:G.axisY,o=e.main.select("."+r).node(),a=o&&i?o.getBoundingClientRect():{right:0},s=e.selectChart.node().getBoundingClientRect(),u=e.hasArcType(),l=a.right-s.left-(u?0:e.getCurrentPaddingLeft(t));return 0<l?l:0},_.getAxisWidthByAxisId=function(t,e){var n=this,i=n.axis.getLabelPositionById(t);return n.axis.getMaxTickWidth(t,e)+(i.isInner?20:40)},_.getHorizontalAxisHeight=function(t){var e=this,n=e.config,i=30;return"x"!==t||n.axis_x_show?"x"===t&&n.axis_x_height?n.axis_x_height:"y"!==t||n.axis_y_show?"y2"!==t||n.axis_y2_show?("x"===t&&!n.axis_rotated&&n.axis_x_tick_rotate&&(i=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-n.axis_x_tick_rotate)/180)),"y"===t&&n.axis_rotated&&n.axis_y_tick_rotate&&(i=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-n.axis_y_tick_rotate)/180)),i+(e.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):e.rotated_padding_top:!n.legend_show||e.isLegendRight||e.isLegendInset?1:10:8},_.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},_.initBrush=function(){var e=this,t=e.d3;e.brush=t.svg.brush().on("brush",function(){e.redrawForBrush()}),e.brush.update=function(){return e.context&&e.context.select("."+G.brush).call(this),this},e.brush.scale=function(t){return e.config.axis_rotated?this.y(t):this.x(t)}},_.initSubchart=function(){var t=this,e=t.config,n=t.context=t.svg.append("g").attr("transform",t.getTranslate("context")),i=e.subchart_show?"visible":"hidden";n.style("visibility",i),n.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",G.chart),n.select("."+G.chart).append("g").attr("class",G.chartBars),n.select("."+G.chart).append("g").attr("class",G.chartLines),n.append("g").attr("clip-path",t.clipPath).attr("class",G.brush).call(t.brush),t.axes.subx=n.append("g").attr("class",G.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis).style("visibility",e.subchart_axis_x_show?i:"hidden")},_.updateTargetsForSubchart=function(t){var e,n=this,i=n.context,r=n.config,o=n.classChartBar.bind(n),a=n.classBars.bind(n),s=n.classChartLine.bind(n),u=n.classLines.bind(n),l=n.classAreas.bind(n);r.subchart_show&&(i.select("."+G.chartBars).selectAll("."+G.chartBar).data(t).attr("class",o).enter().append("g").style("opacity",0).attr("class",o).append("g").attr("class",a),(e=i.select("."+G.chartLines).selectAll("."+G.chartLine).data(t).attr("class",s).enter().append("g").style("opacity",0).attr("class",s)).append("g").attr("class",u),e.append("g").attr("class",l),i.selectAll("."+G.brush+" rect").attr(r.axis_rotated?"width":"height",r.axis_rotated?n.width2:n.height2))},_.updateBarForSubchart=function(t){var e=this;e.contextBar=e.context.selectAll("."+G.bars).selectAll("."+G.bar).data(e.barData.bind(e)),e.contextBar.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color),e.contextBar.style("opacity",e.initialOpacity.bind(e)),e.contextBar.exit().transition().duration(t).style("opacity",0).remove()},_.redrawBarForSubchart=function(t,e,n){(e?this.contextBar.transition(Math.random().toString()).duration(n):this.contextBar).attr("d",t).style("opacity",1)},_.updateLineForSubchart=function(t){var e=this;e.contextLine=e.context.selectAll("."+G.lines).selectAll("."+G.line).data(e.lineData.bind(e)),e.contextLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.contextLine.style("opacity",e.initialOpacity.bind(e)),e.contextLine.exit().transition().duration(t).style("opacity",0).remove()},_.redrawLineForSubchart=function(t,e,n){(e?this.contextLine.transition(Math.random().toString()).duration(n):this.contextLine).attr("d",t).style("opacity",1)},_.updateAreaForSubchart=function(t){var e=this,n=e.d3;e.contextArea=e.context.selectAll("."+G.areas).selectAll("."+G.area).data(e.lineData.bind(e)),e.contextArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.contextArea.style("opacity",0),e.contextArea.exit().transition().duration(t).style("opacity",0).remove()},_.redrawAreaForSubchart=function(t,e,n){(e?this.contextArea.transition(Math.random().toString()).duration(n):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},_.redrawSubchart=function(t,e,n,i,r,o,a){var s,u,l,c=this,h=c.d3,f=c.config;c.context.style("visibility",f.subchart_show?"visible":"hidden"),f.subchart_show&&(h.event&&"zoom"===h.event.type&&c.brush.extent(c.x.orgDomain()).update(),t&&(c.brush.empty()||c.brush.extent(c.x.orgDomain()).update(),s=c.generateDrawArea(r,!0),u=c.generateDrawBar(o,!0),l=c.generateDrawLine(a,!0),c.updateBarForSubchart(n),c.updateLineForSubchart(n),c.updateAreaForSubchart(n),c.redrawBarForSubchart(u,n,n),c.redrawLineForSubchart(l,n,n),c.redrawAreaForSubchart(s,n,n)))},_.redrawForBrush=function(){var t=this,e=t.x;t.redraw({withTransition:!1,withY:t.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),t.config.subchart_onbrush.call(t.api,e.orgDomain())},_.transformContext=function(t,e){var n,i=this;e&&e.axisSubX?n=e.axisSubX:(n=i.context.select("."+G.axisX),t&&(n=n.transition())),i.context.attr("transform",i.getTranslate("context")),n.attr("transform",i.getTranslate("subx"))},_.getDefaultExtent=function(){var t=this,e=t.config,n=h(e.axis_x_extent)?e.axis_x_extent(t.getXDomain(t.data.targets)):e.axis_x_extent;return t.isTimeSeries()&&(n=[t.parseDate(n[0]),t.parseDate(n[1])]),n},_.initText=function(){var t=this;t.main.select("."+G.chart).append("g").attr("class",G.chartTexts),t.mainText=t.d3.selectAll([])},_.updateTargetsForText=function(t){var e=this,n=e.classChartText.bind(e),i=e.classTexts.bind(e),r=e.classFocus.bind(e);e.main.select("."+G.chartTexts).selectAll("."+G.chartText).data(t).attr("class",function(t){return n(t)+r(t)}).enter().append("g").attr("class",n).style("opacity",0).style("pointer-events","none").append("g").attr("class",i)},_.updateText=function(t){var i=this,e=i.config,n=i.barOrLineData.bind(i),r=i.classText.bind(i);i.mainText=i.main.selectAll("."+G.texts).selectAll("."+G.text).data(n),i.mainText.enter().append("text").attr("class",r).attr("text-anchor",function(t){return e.axis_rotated?t.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(t){return i.color(t)}).style("fill-opacity",0),i.mainText.text(function(t,e,n){return i.dataLabelFormat(t.id)(t.value,t.id,e,n)}),i.mainText.exit().transition().duration(t).style("fill-opacity",0).remove()},_.redrawText=function(t,e,n,i){return[(i?this.mainText.transition():this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},_.getTextRect=function(t,e,n){var i,r=this.d3.select("body").append("div").classed("c3",!0),o=r.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),a=this.d3.select(n).style("font");return o.selectAll(".dummy").data([t]).enter().append("text").classed(e||"",!0).style("font",a).text(t).each(function(){i=this.getBoundingClientRect()}),r.remove(),i},_.generateXYForText=function(t,e,n,i){var r=this,o=r.generateGetAreaPoints(t,!1),a=r.generateGetBarPoints(e,!1),s=r.generateGetLinePoints(n,!1),u=i?r.getXForText:r.getYForText;return function(t,e){var n=r.isAreaType(t)?o:r.isBarType(t)?a:s;return u.call(r,n(t,e),t,this)}},_.getXForText=function(t,e,n){var i,r,o=this,a=n.getBoundingClientRect();return o.config.axis_rotated?(r=o.isBarType(e)?4:6,i=t[2][1]+r*(e.value<0?-1:1)):i=o.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(i>o.width?i=o.width-a.width:i<0&&(i=4)),i},_.getYForText=function(t,e,n){var i,r=this,o=n.getBoundingClientRect();return r.config.axis_rotated?i=(t[0][0]+t[2][0]+.6*o.height)/2:(i=t[2][1],e.value<0||0===e.value&&!r.hasPositiveValue?(i+=o.height,r.isBarType(e)&&r.isSafari()?i-=3:!r.isBarType(e)&&r.isChrome()&&(i+=3)):i+=r.isBarType(e)?-3:-6),null!==e.value||r.config.axis_rotated||(i<o.height?i=o.height:i>this.height&&(i=this.height-4)),i},_.initTitle=function(){var t=this;t.title=t.svg.append("text").text(t.config.title_text).attr("class",t.CLASS.title)},_.redrawTitle=function(){var t=this;t.title.attr("x",t.xForTitle.bind(t)).attr("y",t.yForTitle.bind(t))},_.xForTitle=function(){var t=this,e=t.config,n=e.title_position||"left";return 0<=n.indexOf("right")?t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width-e.title_padding.right:0<=n.indexOf("center")?(t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width)/2:e.title_padding.left},_.yForTitle=function(){var t=this;return t.config.title_padding.top+t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).height},_.getTitlePadding=function(){var t=this;return t.yForTitle()+t.config.title_padding.bottom},_.initTooltip=function(){var t,e=this,n=e.config
;if(e.tooltip=e.selectChart.style("position","relative").append("div").attr("class",G.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),n.tooltip_init_show){if(e.isTimeSeries()&&f(n.tooltip_init_x)){for(n.tooltip_init_x=e.parseDate(n.tooltip_init_x),t=0;t<e.data.targets[0].values.length&&e.data.targets[0].values[t].x-n.tooltip_init_x!=0;t++);n.tooltip_init_x=t}e.tooltip.html(n.tooltip_contents.call(e,e.data.targets.map(function(t){return e.addName(t.values[n.tooltip_init_x])}),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},_.getTooltipSortFunction=function(){var t=this,e=t.config;if(0!==e.data_groups.length&&e.tooltip_order===undefined){var n=t.orderTargets(t.data.targets).map(function(t){return t.id});return(t.isOrderAsc()||t.isOrderDesc())&&(n=n.reverse()),function(t,e){return n.indexOf(t.id)-n.indexOf(e.id)}}var i=e.tooltip_order;i===undefined&&(i=e.data_order);var r=function(t){return t?t.value:null};if(f(i)&&"asc"===i.toLowerCase())return function(t,e){return r(t)-r(e)};if(f(i)&&"desc"===i.toLowerCase())return function(t,e){return r(e)-r(t)};if(h(i)){var o=i;return e.tooltip_order===undefined&&(o=function(t,e){return i(t?{id:t.id,values:[t]}:null,e?{id:e.id,values:[e]}:null)}),o}return c(i)?function(t,e){return i.indexOf(t.id)-i.indexOf(e.id)}:void 0},_.getTooltipContent=function(t,e,n,i){var r,o,a,s,u,l,c=this,h=c.config,f=h.tooltip_format_title||e,d=h.tooltip_format_name||function(t){return t},p=h.tooltip_format_value||n,g=this.getTooltipSortFunction();for(g&&t.sort(g),o=0;o<t.length;o++)if(t[o]&&(t[o].value||0===t[o].value)&&(r||(a=y(f?f(t[o].x):t[o].x),r="<table class='"+c.CLASS.tooltip+"'>"+(a||0===a?"<tr><th colspan='2'>"+a+"</th></tr>":"")),(s=y(p(t[o].value,t[o].ratio,t[o].id,t[o].index,t)))!==undefined)){if(null===t[o].name)continue;u=y(d(t[o].name,t[o].ratio,t[o].id,t[o].index)),l=c.levelColor?c.levelColor(t[o].value):i(t[o].id),r+="<tr class='"+c.CLASS.tooltipName+"-"+c.getTargetSelectorSuffix(t[o].id)+"'>",r+="<td class='name'><span style='background-color:"+l+"'></span>"+u+"</td>",r+="<td class='value'>"+s+"</td>",r+="</tr>"}return r+"</table>"},_.tooltipPosition=function(t,e,n,i){var r,o,a,s,u,l=this,c=l.config,h=l.d3,f=l.hasArcType(),d=h.mouse(i);return f?(o=(l.width-(l.isLegendRight?l.getLegendWidth():0))/2+d[0],s=l.height/2+d[1]+20):(r=l.getSvgLeft(!0),c.axis_rotated?(a=(o=r+d[0]+100)+e,u=l.currentWidth-l.getCurrentPaddingRight(),s=l.x(t[0].x)+20):(a=(o=r+l.getCurrentPaddingLeft(!0)+l.x(t[0].x)+20)+e,u=r+l.currentWidth-l.getCurrentPaddingRight(),s=d[1]+15),u<a&&(o-=a-u+20),s+n>l.currentHeight&&(s-=n+30)),s<0&&(s=0),{top:s,left:o}},_.showTooltip=function(t,e){var n,i,r,o=this,a=o.config,s=o.hasArcType(),u=t.filter(function(t){return t&&k(t.value)}),l=a.tooltip_position||_.tooltipPosition;0!==u.length&&a.tooltip_show&&(o.tooltip.html(a.tooltip_contents.call(o,t,o.axis.getXAxisTickFormat(),o.getYFormat(s),o.color)).style("display","block"),n=o.tooltip.property("offsetWidth"),i=o.tooltip.property("offsetHeight"),r=l.call(this,u,n,i,e),o.tooltip.style("top",r.top+"px").style("left",r.left+"px"))},_.hideTooltip=function(){this.tooltip.style("display","none")},_.setTargetType=function(t,e){var n=this,i=n.config;n.mapToTargetIds(t).forEach(function(t){n.withoutFadeIn[t]=e===i.data_types[t],i.data_types[t]=e}),t||(i.data_type=e)},_.hasType=function(n,t){var e=this,i=e.config.data_types,r=!1;return(t=t||e.data.targets)&&t.length?t.forEach(function(t){var e=i[t.id];(e&&0<=e.indexOf(n)||!e&&"line"===n)&&(r=!0)}):Object.keys(i).length?Object.keys(i).forEach(function(t){i[t]===n&&(r=!0)}):r=e.config.data_type===n,r},_.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},_.isLineType=function(t){var e=this.config,n=f(t)?t:t.id;return!e.data_types[n]||0<=["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[n])},_.isStepType=function(t){var e=f(t)?t:t.id;return 0<=["step","area-step"].indexOf(this.config.data_types[e])},_.isSplineType=function(t){var e=f(t)?t:t.id;return 0<=["spline","area-spline"].indexOf(this.config.data_types[e])},_.isAreaType=function(t){var e=f(t)?t:t.id;return 0<=["area","area-spline","area-step"].indexOf(this.config.data_types[e])},_.isBarType=function(t){var e=f(t)?t:t.id;return"bar"===this.config.data_types[e]},_.isScatterType=function(t){var e=f(t)?t:t.id;return"scatter"===this.config.data_types[e]},_.isPieType=function(t){var e=f(t)?t:t.id;return"pie"===this.config.data_types[e]},_.isGaugeType=function(t){var e=f(t)?t:t.id;return"gauge"===this.config.data_types[e]},_.isDonutType=function(t){var e=f(t)?t:t.id;return"donut"===this.config.data_types[e]},_.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},_.lineData=function(t){return this.isLineType(t)?[t]:[]},_.arcData=function(t){return this.isArcType(t.data)?[t]:[]},_.barData=function(t){return this.isBarType(t)?t.values:[]},_.lineOrScatterData=function(t){return this.isLineType(t)||this.isScatterType(t)?t.values:[]},_.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},_.isInterpolationType=function(t){return 0<=["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(t)},_.isSafari=function(){var t=window.navigator.userAgent;return 0<=t.indexOf("Safari")&&t.indexOf("Chrome")<0},_.isChrome=function(){return 0<=window.navigator.userAgent.indexOf("Chrome")},_.initZoom=function(){var e,n=this,i=n.d3,r=n.config;n.zoom=i.behavior.zoom().on("zoomstart",function(){e=i.event.sourceEvent,n.zoom.altDomain=i.event.sourceEvent.altKey?n.x.orgDomain():null,r.zoom_onzoomstart.call(n.api,i.event.sourceEvent)}).on("zoom",function(){n.redrawForZoom.call(n)}).on("zoomend",function(){var t=i.event.sourceEvent;t&&e.clientX===t.clientX&&e.clientY===t.clientY||(n.redrawEventRect(),n.updateZoom(),r.zoom_onzoomend.call(n.api,n.x.orgDomain()))}),n.zoom.scale=function(t){return r.axis_rotated?this.y(t):this.x(t)},n.zoom.orgScaleExtent=function(){var t=r.zoom_extent?r.zoom_extent:[1,10];return[t[0],Math.max(n.getMaxDataCount()/t[1],t[1])]},n.zoom.updateScaleExtent=function(){var t=O(n.x.orgDomain())/O(n.getZoomDomain()),e=this.orgScaleExtent();return this.scaleExtent([e[0]*t,e[1]*t]),this}},_.getZoomDomain=function(){var t=this,e=t.config,n=t.d3;return[n.min([t.orgXDomain[0],e.zoom_x_min]),n.max([t.orgXDomain[1],e.zoom_x_max])]},_.updateZoom=function(){var t=this,e=t.config.zoom_enabled?t.zoom:function(){};t.main.select("."+G.zoomRect).call(e).on("dblclick.zoom",null),t.main.selectAll("."+G.eventRect).call(e).on("dblclick.zoom",null)},_.redrawForZoom=function(){var t=this,e=t.d3,n=t.config,i=t.zoom,r=t.x;if(n.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length){if("mousemove"===e.event.sourceEvent.type&&i.altDomain)return r.domain(i.altDomain),void i.scale(r).updateScaleExtent();t.isCategorized()&&r.orgDomain()[0]===t.orgXDomain[0]&&r.domain([t.orgXDomain[0]-1e-10,r.orgDomain()[1]]),t.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===e.event.sourceEvent.type&&(t.cancelClick=!0),n.zoom_onzoom.call(t.api,r.orgDomain())}},S}),function(){function s(t){return t&&(t.ownerDocument||t.document||t).documentElement}function R(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function a(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function l(t){return null===t?NaN:+t}function c(t){return!isNaN(t)}function t(o){return{left:function(t,e,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=t.length);n<i;){var r=n+i>>>1;o(t[r],e)<0?n=r+1:i=r}return n},right:function(t,e,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=t.length);n<i;){var r=n+i>>>1;0<o(t[r],e)?i=r:n=r+1}return n}}}function u(t){return t.length}function h(t){for(var e=1;t*e%1;)e*=10;return e}function e(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function m(){this._=Object.create(null)}function n(t){return(t+="")===xa||t[0]===ba?ba+t:t}function i(t){return(t+="")[0]===ba?t.slice(1):t}function r(t){return n(t)in this._}function o(t){return(t=n(t))in this._&&delete this._[t]}function f(){var t=[];for(var e in this._)t.push(i(e));return t}function d(){var t=0;for(var e in this._)++t;return t}function p(){for(var t in this._)return!1;return!0}function g(){this._=Object.create(null)}function O(t){return t}function v(e,n,i){return function(){var t=i.apply(n,arguments);return t===n?e:t}}function y(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=_a.length;n<i;++n){var r=_a[n]+e;if(r in t)return r}}function b(){}function x(){}function _(r){function t(){for(var t,e=o,n=-1,i=e.length;++n<i;)(t=e[n].on)&&t.apply(this,arguments);return r}var o=[],a=new m;return t.on=function(t,e){var n,i=a.get(t);return arguments.length<2?i&&i.on:(i&&(i.on=null,o=o.slice(0,n=o.indexOf(i)).concat(o.slice(n+1)),a.remove(t)),e&&o.push(a.set(t,{on:e})),r)},t}function I(){ua.event.preventDefault()}function w(){for(var t,e=ua.event;t=e.sourceEvent;)e=t;return e}function F(r){for(var o=new x,t=0,e=arguments.length;++t<e;)o[arguments[t]]=_(o);return o.of=function(n,i){return function(t){try{var e=t.sourceEvent=ua.event;t.target=r,ua.event=t,o[t.type].apply(n,i)}finally{ua.event=e}}},o}function S(t){return Sa(t,Ma),t}function T(t){return"function"==typeof t?t:function(){return Ta(t,this)}}function C(t){return"function"==typeof t?t:function(){return Ca(t,this)}}function k(e,n){function t(){this.removeAttribute(e)}function i(){this.removeAttributeNS(e.space,e.local)}function r(){this.setAttribute(e,n)}function o(){this.setAttributeNS(e.space,e.local,n)}function a(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}function s(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}return e=ua.ns.qualify(e),null==n?e.local?i:t:"function"==typeof n?e.local?s:a:e.local?o:r}function M(t){return t.trim().replace(/\s+/g," ")}function A(t){return new RegExp("(?:^|\\s+)"+ua.requote(t)+"(?:\\s+|$)","g")}function E(t){return(t+"").trim().split(/^|\s+/)}function L(n,i){function t(){for(var t=-1;++t<r;)n[t](this,i)}function e(){for(var t=-1,e=i.apply(this,arguments);++t<r;)n[t](this,e)}var r=(n=E(n).map(P)).length;return"function"==typeof i?e:t}function P(i){var r=A(i);return function(t,e){if(n=t.classList)return e?n.add(i):n.remove(i);var n=t.getAttribute("class")||"";e?(r.lastIndex=0,r.test(n)||t.setAttribute("class",M(n+" "+i))):t.setAttribute("class",M(n.replace(r," ")))}}function N(e,n,i){function t(){this.style.removeProperty(e)}function r(){this.style.setProperty(e,n,i)}function o(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,i)}return null==n?t:"function"==typeof n?o:r}function D(e,n){function t(){delete this[e]}function i(){this[e]=n}function r(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}return null==n?t:"function"==typeof n?r:i}function z(n){function t(){var t=this.ownerDocument,e=this.namespaceURI;return e===Aa&&t.documentElement.namespaceURI===Aa?t.createElement(n):t.createElementNS(e,n)}function e(){return this.ownerDocument.createElementNS(n.space,n.local)}return"function"==typeof n?n:(n=ua.ns.qualify(n)).local?e:t}function V(){var t=this.parentNode;t&&t.removeChild(this)}function j(t){return{__data__:t}}function G(t){return function(){return ka(this,t)}}function H(n){return arguments.length||(n=a),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function $(t,e){for(var n=0,i=t.length;n<i;n++)for(var r,o=t[n],a=0,s=o.length;a<s;a++)(r=o[a])&&e(r,a,n);return t}function q(t){return Sa(t,La),t}function B(a){var s,u;return function(t,e,n){var i,r=a[n].update,o=r.length;for(n!=u&&(u=n,s=0),s<=e&&(s=e+1);!(i=r[s])&&++s<o;);return i}}function U(r,e,n){function i(){var t=this[a];t&&(this.removeEventListener(r,t,t.$),delete this[a])}function t(){var t=u(e,ca(arguments));i.call(this),this.addEventListener(r,this[a]=t,t.$=n),t._=e}function o(){var t,e=new RegExp("^__on([^.]+)"+ua.requote(r)+"$");for(var n in this)if(t=n.match(e)){var i=this[n];this.removeEventListener(t[1],i,i.$),delete this[n]}}var a="__on"+r,s=r.indexOf("."),u=X;0<s&&(r=r.slice(0,s));var l=Pa.get(r);return l&&(r=l,u=Y),s?e?t:i:e?b:o}function X(n,i){return function(t){var e=ua.event;ua.event=t,i[0]=this.__data__;try{n.apply(this,i)}finally{ua.event=e}}}function Y(t,e){var i=X(t,e);return function(t){var e=this,n=t.relatedTarget;n&&(n===e||8&n.compareDocumentPosition(e))||i.call(e,t)}}function W(t){var n=".dragsuppress-"+ ++Da,i="click"+n,r=ua.select(R(t)).on("touchmove"+n,I).on("dragstart"+n,I).on("selectstart"+n,I);if(null==Na&&(Na=!("onselectstart"in t)&&y(t.style,"userSelect")),Na){var o=s(t).style,a=o[Na];o[Na]="none"}return function(t){if(r.on(n,null),Na&&(o[Na]=a),t){var e=function(){r.on(i,null)};r.on(i,function(){I(),e()},!0),setTimeout(e,0)}}}function Q(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();if(Ra<0){var r=R(t);if(r.scrollX||r.scrollY){var o=(n=ua.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Ra=!(o.f||o.e),n.remove()}}return Ra?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function Z(){return ua.event.changedTouches[0].identifier}function K(t){return 0<t?1:t<0?-1:0}function J(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return 1<t?0:t<-1?Fa:Math.acos(t)}function et(t){return 1<t?ja:t<-1?-ja:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function it(t){return((t=Math.exp(t))+1/t)/2}function rt(t){return((t=Math.exp(2*t))-1)/(t+1)}function ot(t){return(t=Math.sin(t/2))*t}function at(){}function st(t,e,n){return this instanceof st?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof st?new st(t.h,t.s,t.l):_t(""+t,wt,st):new st(t,e,n)}function ut(t,e,n){function i(t){return 360<t?t-=360:t<0&&(t+=360),t<60?o+(a-o)*t/60:t<180?a:t<240?o+(a-o)*(240-t)/60:o}function r(t){return Math.round(255*i(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:1<e?1:e,o=2*(n=n<0?0:1<n?1:n)-(a=n<=.5?n*(1+e):n+e-n*e),new yt(r(t+120),r(t),r(t-120))}function lt(t,e,n){return this instanceof lt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof lt?new lt(t.h,t.c,t.l):dt(t instanceof ht?t.l:(t=St((t=ua.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new lt(t,e,n)}function ct(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ht(n,Math.cos(t*=Ga)*e,Math.sin(t)*e)}function ht(t,e,n){return this instanceof ht?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ht?new ht(t.l,t.a,t.b):t instanceof lt?ct(t.h,t.c,t.l):St((t=yt(t)).r,t.g,t.b):new ht(t,e,n)}function ft(t,e,n){var i=(t+16)/116,r=i+e/500,o=i-n/200;return new yt(vt(3.2404542*(r=pt(r)*Ka)-1.5371385*(i=pt(i)*Ja)-.4985314*(o=pt(o)*ts)),vt(-.969266*r+1.8760108*i+.041556*o),vt(.0556434*r-.2040259*i+1.0572252*o))}function dt(t,e,n){return 0<t?new lt(Math.atan2(n,e)*Ha,Math.sqrt(e*e+n*n),t):new lt(NaN,NaN,t)}function pt(t){return.206893034<t?t*t*t:(t-4/29)/7.787037}function gt(t){return.008856<t?Math.pow(t,1/3):7.787037*t+4/29}function vt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function yt(t,e,n){return this instanceof yt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof yt?new yt(t.r,t.g,t.b):_t(""+t,yt,ut):new yt(t,e,n)}function mt(t){return new yt(t>>16,t>>8&255,255&t)}function xt(t){return mt(t)+""}function bt(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function _t(t,e,n){var i,r,o,a=0,s=0,u=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(Ct(r[0]),Ct(r[1]),Ct(r[2]))}return(o=is.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,u=15&o,u|=u<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),e(a,s,u))}function wt(t,e,n){var i,r,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(r=u<.5?s/(a+o):s/(2-a-o),i=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,i*=60):(i=NaN,r=0<u&&u<1?0:i),new st(i,r,u)}function St(t,e,n){var i=gt((.4124564*(t=Tt(t))+.3575761*(e=Tt(e))+.1804375*(n=Tt(n)))/Ka),r=gt((.2126729*t+.7151522*e+.072175*n)/Ja);return ht(116*r-16,500*(i-r),200*(r-gt((.0193339*t+.119192*e+.9503041*n)/ts)))}function Tt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ct(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function kt(t){return"function"==typeof t?t:function(){return t}}function Mt(i){return function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=null),At(t,e,i,n)}}function At(r,o,n,i){function t(){var t,e=l.status;if(!e&&Lt(l)||200<=e&&e<300||304===e){try{t=n.call(a,l)}catch(i){return void s.error.call(a,i)}s.load.call(a,t)}else s.error.call(a,l)}var a={},s=ua.dispatch("beforesend","progress","load","error"),u={},l=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(r)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=t:l.onreadystatechange=function(){3<l.readyState&&t()},l.onprogress=function(t){var e=ua.event;ua.event=t;try{s.progress.call(a,l)}finally{ua.event=e}},a.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u[t]:(null==e?delete u[t]:u[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(o=null==t?null:t+"",a):o},a.responseType=function(t){return arguments.length?(c=t,a):c},a.response=function(t){return n=t,a},["get","post"].forEach(function(t){a[t]=function(){return a.send.apply(a,[t].concat(ca(arguments)))}}),a.send=function(t,e,n){if(2===arguments.length&&"function"==typeof e&&(n=e,e=null),l.open(t,r,!0),null==o||"accept"in u||(u.accept=o+",*/*"),l.setRequestHeader)for(var i in u)l.setRequestHeader(i,u[i]);return null!=o&&l.overrideMimeType&&l.overrideMimeType(o),null!=c&&(l.responseType=c),null!=n&&a.on("error",n).on("load",function(t){n(null,t)}),s.beforesend.call(a,l),l.send(null==e?null:e),a},a.abort=function(){return l.abort(),a},ua.rebind(a,s,"on"),null==i?a:a.get(Et(i))}function Et(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function Lt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Pt(t,e,n){var i=arguments.length;i<2&&(e=0),i<3&&(n=Date.now());var r={c:t,t:n+e,n:null};return os?os.n=r:rs=r,os=r,as||(ss=clearTimeout(ss),as=1,us(Nt)),r}function Nt(){var t=Dt(),e=Rt()-t;24<e?(isFinite(e)&&(clearTimeout(ss),ss=setTimeout(Nt,e)),as=0):(as=1,us(Nt))}function Dt(){for(var t=Date.now(),e=rs;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Rt(){for(var t,e=rs,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:rs=e.n;return os=t,n}function Ot(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function It(t,e){var n=Math.pow(10,3*ma(8-e));return{scale:8<e?function(t){return t/n}:function(t){return t*n},symbol:t}}function Ft(t){var T=t.decimal,s=t.thousands,u=t.grouping,i=t.currency,C=u&&s?function(t,e){for(var n=t.length,i=[],r=0,o=u[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),i.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=u[r=(r+1)%u.length];return i.reverse().join(s)}:O;return function(t){var e=cs.exec(t),c=e[1]||" ",h=e[2]||">",f=e[3]||"-",n=e[4]||"",d=e[5],p=+e[6],g=e[7],v=e[8],y=e[9],m=1,x="",b="",_=!1,w=!0;switch(v&&(v=+v.substring(1)),(d||"0"===c&&"="===h)&&(d=c="0",h="="),y){case"n":g=!0,y="g";break;case"%":m=100,b="%",y="f";break;case"p":m=100,b="%",y="r";break;case"b":case"o":case"x":case"X":"#"===n&&(x="0"+y.toLowerCase());case"c":w=!1;case"d":_=!0,v=0;break;case"s":m=-1,y="r"}"$"===n&&(x=i[0],b=i[1]),"r"!=y||v||(y="g"),null!=v&&("g"==y?v=Math.max(1,Math.min(21,v)):"e"!=y&&"f"!=y||(v=Math.max(0,Math.min(20,v)))),y=hs.get(y)||zt;var S=d&&g;return function(t){var e=b;if(_&&t%1)return"";var n=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===f?"":f;if(m<0){var i=ua.formatPrefix(t,v);t=i.scale(t),e=i.symbol+b}else t*=m;var r,o,a=(t=y(t,v)).lastIndexOf(".");if(a<0){var s=w?t.lastIndexOf("e"):-1;s<0?(r=t,o=""):(r=t.substring(0,s),o=t.substring(s))}else r=t.substring(0,a),o=T+t.substring(a+1);!d&&g&&(r=C(r,1/0));var u=x.length+r.length+o.length+(S?0:n.length),l=u<p?new Array(u=p-u+1).join(c):"";return S&&(r=C(l+r,l.length?p-o.length:1/0)),n+=x,t=r+o,("<"===h?n+t+l:">"===h?l+n+t:"^"===h?l.substring(0,u>>=1)+n+t+l.substring(u):n+(S?t:l+t))+e}}}function zt(t){return t+""}function Vt(t){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):t)}function jt(i,o,a){function t(t){var e=i(t),n=r(e,1);return t-e<n-t?e:n}function s(t){return o(t=i(new ds(t-1)),1),t}function r(t,e){return o(t=new ds(+t),e),t}function u(t,e,n){var i=s(t),r=[];if(1<n)for(;i<e;)a(i)%n||r.push(new Date(+i)),o(i,1);else for(;i<e;)r.push(new Date(+i)),o(i,1);return r}function e(t,e,n){try{var i=new(ds=Vt);return i._=t,u(i,e,n)}finally{ds=Date}}(i.floor=i).round=t,i.ceil=s,i.offset=r,i.range=u;var n=i.utc=Gt(i);return(n.floor=n).round=Gt(t),n.ceil=Gt(s),n.offset=Gt(r),n.range=e,i}function Gt(i){return function(t,e){try{var n=new(ds=Vt);return n._=t,i(n,e)._}finally{ds=Date}}}function Ht(t){function i(s){function t(t){for(var e,n,i,r=[],o=-1,a=0;++o<u;)37===s.charCodeAt(o)&&(r.push(s.slice(a,o)),null!=(n=gs[e=s.charAt(++o)])&&(e=s.charAt(++o)),(i=A[e])&&(e=i(t,null==n?"e"===e?" ":"0":n)),r.push(e),a=o+1);return r.push(s.slice(a,o)),r.join("")}var u=s.length;return t.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(r(e,s,t,0)!=t.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var n=null!=e.Z&&ds!==Vt,i=new(n?Vt:ds);return"j"in e?i.setFullYear(e.y,0,e.j):"W"in e||"U"in e?("w"in e||(e.w="W"in e?1:0),i.setFullYear(e.y,0,1),i.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(i.getDay()+5)%7:e.w+7*e.U-(i.getDay()+6)%7)):i.setFullYear(e.y,e.m,e.d),i.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L),n?i._:i},t.toString=function(){return s},t}function r(t,e,n,i){for(var r,o,a,s=0,u=e.length,l=n.length;s<u;){if(l<=i)return-1;if(37===(r=e.charCodeAt(s++))){if(a=e.charAt(s++),!(o=E[a in gs?e.charAt(s++):a])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function e(t,e,n){w.lastIndex=0;var i=w.exec(e.slice(n));return i?(t.w=S.get(i[0].toLowerCase()),n+i[0].length):-1}function n(t,e,n){b.lastIndex=0;var i=b.exec(e.slice(n));return i?(t.w=_.get(i[0].toLowerCase()),n+i[0].length):-1}function o(t,e,n){k.lastIndex=0;var i=k.exec(e.slice(n));return i?(t.m=M.get(i[0].toLowerCase()),n+i[0].length):-1}function a(t,e,n){T.lastIndex=0;var i=T.exec(e.slice(n));return i?(t.m=C.get(i[0].toLowerCase()),n+i[0].length):-1}function s(t,e,n){return r(t,A.c.toString(),e,n)}function u(t,e,n){return r(t,A.x.toString(),e,n)}function l(t,e,n){return r(t,A.X.toString(),e,n)}function c(t,e,n){var i=x.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}var h=t.dateTime,f=t.date,d=t.time,p=t.periods,g=t.days,v=t.shortDays,y=t.months,m=t.shortMonths;i.utc=function(t){function e(t){try{var e=new(ds=Vt);return e._=t,n(e)}finally{ds=Date}}var n=i(t);return e.parse=function(t){try{ds=Vt;var e=n.parse(t);return e&&e._}finally{ds=Date}},e.toString=n.toString,e},i.multi=i.utc.multi=ue;var x=ua.map(),b=qt(g),_=Bt(g),w=qt(v),S=Bt(v),T=qt(y),C=Bt(y),k=qt(m),M=Bt(m);p.forEach(function(t,e){x.set(t.toLowerCase(),e)});var A={a:function(t){return v[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return m[t.getMonth()]},B:function(t){return y[t.getMonth()]},c:i(h),d:function(t,e){return $t(t.getDate(),e,2)},e:function(t,e){return $t(t.getDate(),e,2)},H:function(t,e){return $t(t.getHours(),e,2)},I:function(t,e){return $t(t.getHours()%12||12,e,2)},j:function(t,e){return $t(1+fs.dayOfYear(t),e,3)},L:function(t,e){return $t(t.getMilliseconds(),e,3)},m:function(t,e){return $t(t.getMonth()+1,e,2)},M:function(t,e){return $t(t.getMinutes(),e,2)},p:function(t){return p[+(12<=t.getHours())]},S:function(t,e){return $t(t.getSeconds(),e,2)},U:function(t,e){return $t(fs.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return $t(fs.mondayOfYear(t),e,2)},x:i(f),X:i(d),y:function(t,e){return $t(t.getFullYear()%100,e,2)},Y:function(t,e){return $t(t.getFullYear()%1e4,e,4)},Z:ae,"%":function(){return"%"}},E={a:e,A:n,b:o,B:a,c:s,d:te,e:te,H:ne,I:ne,j:ee,L:oe,m:Jt,M:ie,p:c,S:re,U:Xt,w:Ut,W:Yt,x:u,X:l,y:Qt,Y:Wt,Z:Zt,"%":se};return i}function $t(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function qt(t){return new RegExp("^(?:"+t.map(ua.requote).join("|")+")","i")}function Bt(t){for(var e=new m,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Ut(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Xt(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Yt(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Wt(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Qt(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+2));return i?(t.y=Kt(+i[0]),n+i[0].length):-1}function Zt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Kt(t){return t+(68<t?1900:2e3)}function Jt(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function te(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function ee(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function ne(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function ie(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function re(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function oe(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function ae(t){var e=t.getTimezoneOffset(),n=0<e?"-":"+",i=ma(e)/60|0,r=ma(e)%60;return n+$t(i,"0",2)+$t(r,"0",2)}function se(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function ue(i){for(var t=i.length,e=-1;++e<t;)i[e][0]=this(i[e][0]);return function(t){for(var e=0,n=i[e];!n[1](t);)n=i[++e];return n[0](t)}}function le(){}function ce(t,e,n){var i=n.s=t+e,r=i-t,o=i-r;n.t=t-o+(e-r)}function he(t,e){t&&_s.hasOwnProperty(t.type)&&_s[t.type](t,e)}function fe(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function de(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)fe(t[n],e,1);e.polygonEnd()}function pe(){function n(t,e){e=e*Ga/2+Fa/4;var n=(t*=Ga)-c,i=0<=n?1:-1,r=i*n,o=Math.cos(e),a=Math.sin(e),s=f*a,u=h*o+s*Math.cos(r),l=s*i*Math.sin(r);Ss.add(Math.atan2(l,u)),c=t,h=o,f=a}var i,r,c,h,f;Ts.point=function(t,e){Ts.point=n,c=(i=t)*Ga,h=Math.cos(e=(r=e)*Ga/2+Fa/4),f=Math.sin(e)},Ts.lineEnd=function(){n(i,r)}}function ge(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function ve(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ye(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function me(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function xe(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function be(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function _e(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function we(t,e){return ma(t[0]-e[0])<Oa&&ma(t[1]-e[1])<Oa}function Se(t,e){t*=Ga;var n=Math.cos(e*=Ga);Te(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Te(t,e,n){Ms+=(t-Ms)/++Cs,As+=(e-As)/Cs,Es+=(n-Es)/Cs}function Ce(){function i(t,e){t*=Ga;var n=Math.cos(e*=Ga),i=n*Math.cos(t),r=n*Math.sin(t),o=Math.sin(e),a=Math.atan2(Math.sqrt((a=u*o-l*r)*a+(a=l*i-s*o)*a+(a=s*r-u*i)*a),s*i+u*r+l*o);ks+=a,Ls+=a*(s+(s=i)),Ps+=a*(u+(u=r)),Ns+=a*(l+(l=o)),Te(s,u,l)}var s,u,l;Is.point=function(t,e){t*=Ga;var n=Math.cos(e*=Ga);s=n*Math.cos(t),u=n*Math.sin(t),l=Math.sin(e),Is.point=i,Te(s,u,l)}}function ke(){Is.point=Se}function Me(){function i(t,e){t*=Ga;var n=Math.cos(e*=Ga),i=n*Math.cos(t),r=n*Math.sin(t),o=Math.sin(e),a=p*o-g*r,s=g*i-d*o,u=d*r-p*i,l=Math.sqrt(a*a+s*s+u*u),c=d*i+p*r+g*o,h=l&&-tt(c)/l,f=Math.atan2(l,c);Ds+=h*a,Rs+=h*s,Os+=h*u,ks+=f,Ls+=f*(d+(d=i)),Ps+=f*(p+(p=r)),Ns+=f*(g+(g=o)),Te(d,p,g)}var r,o,d,p,g;Is.point=function(t,e){r=t,o=e,Is.point=i,t*=Ga;var n=Math.cos(e*=Ga);d=n*Math.cos(t),p=n*Math.sin(t),g=Math.sin(e),Te(d,p,g)},Is.lineEnd=function(){i(r,o),Is.lineEnd=ke,Is.point=Se}}function Ae(n,i){function t(t,e){return t=n(t,e),i(t[0],t[1])}return n.invert&&i.invert&&(t.invert=function(t,e){return(t=i.invert(t,e))&&n.invert(t[0],t[1])}),t}function Ee(){return!0}function Le(t,e,n,i,s){var u=[],l=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(we(n,i)){s.lineStart();for(var r=0;r<e;++r)s.point((n=t[r])[0],n[1]);return void s.lineEnd()}var o=new Ne(n,t,null,!0),a=new Ne(n,null,o,!1);o.o=a,u.push(o),l.push(a),a=new Ne(i,null,o=new Ne(i,t,null,!1),!0),o.o=a,u.push(o),l.push(a)}}),l.sort(e),Pe(u),Pe(l),u.length){for(var r=0,o=n,a=l.length;r<a;++r)l[r].e=o=!o;for(var c,h,f=u[0];;){for(var d=f,p=!0;d.v;)if((d=d.n)===f)return;c=d.z,s.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(r=0,a=c.length;r<a;++r)s.point((h=c[r])[0],h[1]);else i(d.x,d.n.x,1,s);d=d.n}else{if(p)for(r=(c=d.p.z).length-1;0<=r;--r)s.point((h=c[r])[0],h[1]);else i(d.x,d.p.x,-1,s);d=d.p}c=(d=d.o).z,p=!p}while(!d.v);s.lineEnd()}}}function Pe(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function Ne(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function De(m,x,b,_){return function(i,a){function e(t,e){var n=i(t,e);m(t=n[0],e=n[1])&&a.point(t,e)}function t(t,e){var n=i(t,e);f.point(n[0],n[1])}function n(){p.point=t,f.lineStart()}function r(){p.point=e,f.lineEnd()}function s(t,e){h.push([t,e]);var n=i(t,e);v.point(n[0],n[1])}function o(){v.lineStart(),h=[]}function u(){s(h[0][0],h[0][1]),v.lineEnd();var t,e=v.clean(),n=g.buffer(),i=n.length;if(h.pop(),c.push(h),h=null,i)if(1&e){var r,o=-1;if(0<(i=(t=n[0]).length-1)){for(y||(a.polygonStart(),y=!0),a.lineStart();++o<i;)a.point((r=t[o])[0],r[1]);a.lineEnd()}}else 1<i&&2&e&&n.push(n.pop().concat(n.shift())),l.push(n.filter(Re))}var l,c,h,f=x(a),d=i.invert(_[0],_[1]),p={point:e,lineStart:n,lineEnd:r,polygonStart:function(){p.point=s,p.lineStart=o,p.lineEnd=u,l=[],c=[]},polygonEnd:function(){p.point=e,p.lineStart=n,p.lineEnd=r,l=ua.merge(l);var t=je(d,c);l.length?(y||(a.polygonStart(),y=!0),Le(l,Ie,t,b,a)):t&&(y||(a.polygonStart(),y=!0),a.lineStart(),b(null,null,1,a),a.lineEnd()),y&&(a.polygonEnd(),y=!1),l=c=null},sphere:function(){a.polygonStart(),a.lineStart(),b(null,null,1,a),a.lineEnd(),a.polygonEnd()}},g=Oe(),v=x(g),y=!1;return p}}function Re(t){return 1<t.length}function Oe(){var n,e=[];return{lineStart:function(){e.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:b,buffer:function(){var t=e;return e=[],n=null,t},rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))}}}function Ie(t,e){return((t=t.x)[0]<0?t[1]-ja-Oa:ja-t[1])-((e=e.x)[0]<0?e[1]-ja-Oa:ja-e[1])}function Fe(r){var o,a=NaN,s=NaN,u=NaN;return{lineStart:function(){r.lineStart(),o=1},point:function(t,e){var n=0<t?Fa:-Fa,i=ma(t-a);ma(i-Fa)<Oa?(r.point(a,s=0<(s+e)/2?ja:-ja),r.point(u,s),r.lineEnd(),r.lineStart(),r.point(n,s),r.point(t,s),o=0):u!==n&&Fa<=i&&(ma(a-u)<Oa&&(a-=u*Oa),ma(t-n)<Oa&&(t-=n*Oa),s=ze(a,s,t,e),r.point(u,s),r.lineEnd(),r.lineStart(),r.point(n,s),o=0),r.point(a=t,s=e),u=n},lineEnd:function(){r.lineEnd(),a=s=NaN},clean:function(){return 2-o}}}function ze(t,e,n,i){var r,o,a=Math.sin(t-n);return ma(a)>Oa?Math.atan((Math.sin(e)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*o*a)):(e+i)/2}function Ve(t,e,n,i){var r;if(null==t)r=n*ja,i.point(-Fa,r),i.point(0,r),i.point(Fa,r),i.point(Fa,0),i.point(Fa,-r),i.point(0,-r),i.point(-Fa,-r),i.point(-Fa,0),i.point(-Fa,r);else if(ma(t[0]-e[0])>Oa){var o=t[0]<e[0]?Fa:-Fa;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)
}else i.point(e[0],e[1])}function je(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Ss.reset();for(var s=0,u=e.length;s<u;++s){var l=e[s],c=l.length;if(c)for(var h=l[0],f=h[0],d=h[1]/2+Fa/4,p=Math.sin(d),g=Math.cos(d),v=1;;){v===c&&(v=0);var y=(t=l[v])[0],m=t[1]/2+Fa/4,x=Math.sin(m),b=Math.cos(m),_=y-f,w=0<=_?1:-1,S=w*_,T=Fa<S,C=p*x;if(Ss.add(Math.atan2(C*w*Math.sin(S),g*b+C*Math.cos(S))),o+=T?_+w*za:_,T^n<=f^n<=y){var k=ye(ge(h),ge(t));be(k);var M=ye(r,k);be(M);var A=(T^0<=_?-1:1)*et(M[2]);(A<i||i===A&&(k[0]||k[1]))&&(a+=T^0<=_?1:-1)}if(!v++)break;f=y,p=x,g=b,h=t}}return(o<-Oa||o<Oa&&Ss<-Oa)^1&a}function Ge(r){function d(t,e){return Math.cos(t)*Math.cos(e)>k}function t(s){var u,l,c,h,f;return{lineStart:function(){h=c=!1,f=1},point:function(t,e){var n,i=[t,e],r=d(t,e),o=v?r?0:g(t,e):r?g(t+(t<0?Fa:-Fa),e):0;if(!u&&(h=c=r)&&s.lineStart(),r!==c&&(n=p(u,i),(we(u,n)||we(i,n))&&(i[0]+=Oa,i[1]+=Oa,r=d(i[0],i[1]))),r!==c)f=0,r?(s.lineStart(),n=p(i,u),s.point(n[0],n[1])):(n=p(u,i),s.point(n[0],n[1]),s.lineEnd()),u=n;else if(y&&u&&v^r){var a;o&l||!(a=p(i,u,!0))||(f=0,v?(s.lineStart(),s.point(a[0][0],a[0][1]),s.point(a[1][0],a[1][1]),s.lineEnd()):(s.point(a[1][0],a[1][1]),s.lineEnd(),s.lineStart(),s.point(a[0][0],a[0][1])))}!r||u&&we(u,i)||s.point(i[0],i[1]),u=i,c=r,l=o},lineEnd:function(){c&&s.lineEnd(),u=null},clean:function(){return f|(h&&c)<<1}}}function p(t,e,n){var i=[1,0,0],r=ye(ge(t),ge(e)),o=ve(r,r),a=r[0],s=o-a*a;if(!s)return!n&&t;var u=k*o/s,l=-k*a/s,c=ye(i,r),h=xe(i,u);me(h,xe(r,l));var f=c,d=ve(h,f),p=ve(f,f),g=d*d-p*(ve(h,h)-1);if(!(g<0)){var v=Math.sqrt(g),y=xe(f,(-d-v)/p);if(me(y,h),y=_e(y),!n)return y;var m,x=t[0],b=e[0],_=t[1],w=e[1];b<x&&(m=x,x=b,b=m);var S=b-x,T=ma(S-Fa)<Oa;if(!T&&w<_&&(m=_,_=w,w=m),T||S<Oa?T?0<_+w^y[1]<(ma(y[0]-x)<Oa?_:w):_<=y[1]&&y[1]<=w:Fa<S^(x<=y[0]&&y[0]<=b)){var C=xe(f,(-d+v)/p);return me(C,h),[y,_e(C)]}}}function g(t,e){var n=v?r:Fa-r,i=0;return t<-n?i|=1:n<t&&(i|=2),e<-n?i|=4:n<e&&(i|=8),i}var k=Math.cos(r),v=0<k,y=ma(k)>Oa;return De(d,t,gn(r,6*Ga),v?[0,-r]:[-Fa,r-Fa])}function He(c,h,f,d){return function(t){var e,n=t.a,i=t.b,r=n.x,o=n.y,a=0,s=1,u=i.x-r,l=i.y-o;if(e=c-r,u||!(0<e)){if(e/=u,u<0){if(e<a)return;e<s&&(s=e)}else if(0<u){if(s<e)return;a<e&&(a=e)}if(e=f-r,u||!(e<0)){if(e/=u,u<0){if(s<e)return;a<e&&(a=e)}else if(0<u){if(e<a)return;e<s&&(s=e)}if(e=h-o,l||!(0<e)){if(e/=l,l<0){if(e<a)return;e<s&&(s=e)}else if(0<l){if(s<e)return;a<e&&(a=e)}if(e=d-o,l||!(e<0)){if(e/=l,l<0){if(s<e)return;a<e&&(a=e)}else if(0<l){if(e<a)return;e<s&&(s=e)}return 0<a&&(t.a={x:r+a*u,y:o+a*l}),s<1&&(t.b={x:r+s*u,y:o+s*l}),t}}}}}}function $e(S,T,C,k){function M(t,e){return ma(t[0]-S)<Oa?0<e?0:3:ma(t[0]-C)<Oa?0<e?2:1:ma(t[1]-T)<Oa?0<e?1:0:0<e?3:2}function A(t,e){return E(t.x,e.x)}function E(t,e){var n=M(t,1),i=M(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(r){function i(t){for(var e=0,n=c.length,i=t[1],r=0;r<n;++r)for(var o,a=1,s=c[r],u=s.length,l=s[0];a<u;++a)o=s[a],l[1]<=i?o[1]>i&&0<J(l,o,t)&&++e:o[1]<=i&&J(l,o,t)<0&&--e,l=o;return 0!==e}function o(t,e,n,i){var r=0,o=0;if(null==t||(r=M(t,n))!==(o=M(e,n))||E(t,e)<0^0<n)for(;i.point(0===r||3===r?S:C,1<r?k:T),(r=(r+n+4)%4)!==o;);else i.point(e[0],e[1])}function a(t,e){return S<=t&&t<=C&&T<=e&&e<=k}function t(t,e){a(t,e)&&r.point(t,e)}function e(){w.point=s,c&&c.push(l=[]),v=!(y=!0),p=g=NaN}function n(){u&&(s(h,f),d&&v&&b.rejoin(),u.push(b.buffer())),w.point=t,v&&r.lineEnd()}function s(t,e){var n=a(t=Math.max(-zs,Math.min(zs,t)),e=Math.max(-zs,Math.min(zs,e)));if(c&&l.push([t,e]),y)h=t,f=e,y=!1,(d=n)&&(r.lineStart(),r.point(t,e));else if(n&&v)r.point(t,e);else{var i={a:{x:p,y:g},b:{x:t,y:e}};_(i)?(v||(r.lineStart(),r.point(i.a.x,i.a.y)),r.point(i.b.x,i.b.y),n||r.lineEnd(),m=!1):n&&(r.lineStart(),r.point(t,e),m=!1)}p=t,g=e,v=n}var u,c,l,h,f,d,p,g,v,y,m,x=r,b=Oe(),_=He(S,T,C,k),w={point:t,lineStart:e,lineEnd:n,polygonStart:function(){r=b,u=[],c=[],m=!0},polygonEnd:function(){r=x,u=ua.merge(u);var t=i([S,k]),e=m&&t,n=u.length;(e||n)&&(r.polygonStart(),e&&(r.lineStart(),o(null,null,1,r),r.lineEnd()),n&&Le(u,A,t,o,r),r.polygonEnd()),u=c=l=null}};return w}}function qe(t){var e=0,n=Fa/3,i=sn(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Fa/180,n=t[1]*Fa/180):[e/Fa*180,n/Fa*180]},r}function Be(t,e){function n(t,e){var n=Math.sqrt(o-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),a-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,o=1+i*(2*r-i),a=Math.sqrt(o)/r;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,et((o-(t*t+n*n)*r*r)/(2*r))]},n}function Ue(){function n(t,e){js+=a*t-o*e,o=t,a=e}var i,r,o,a;Bs.point=function(t,e){Bs.point=n,i=o=t,r=a=e},Bs.lineEnd=function(){n(i,r)}}function Xe(t,e){t<Gs&&(Gs=t),$s<t&&($s=t),e<Hs&&(Hs=e),qs<e&&(qs=e)}function Ye(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function i(){s.point=t}function r(){a.push("Z")}var o=We(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return o=We(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function We(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Qe(t,e){Ms+=t,As+=e,++Es}function Ze(){function n(t,e){var n=t-o,i=e-a,r=Math.sqrt(n*n+i*i);Ls+=r*(o+t)/2,Ps+=r*(a+e)/2,Ns+=r,Qe(o=t,a=e)}var o,a;Xs.point=function(t,e){Xs.point=n,Qe(o=t,a=e)}}function Ke(){Xs.point=Qe}function Je(){function n(t,e){var n=t-o,i=e-a,r=Math.sqrt(n*n+i*i);Ls+=r*(o+t)/2,Ps+=r*(a+e)/2,Ns+=r,Ds+=(r=a*t-o*e)*(o+t),Rs+=r*(a+e),Os+=3*r,Qe(o=t,a=e)}var i,r,o,a;Xs.point=function(t,e){Xs.point=n,Qe(i=o=t,r=a=e)},Xs.lineEnd=function(){n(i,r)}}function tn(n){function t(t,e){n.moveTo(t+a,e),n.arc(t,e,a,0,za)}function e(t,e){n.moveTo(t,e),s.point=i}function i(t,e){n.lineTo(t,e)}function r(){s.point=t}function o(){n.closePath()}var a=4.5,s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return a=t,s},result:b};return s}function en(E){function e(t){return(_?i:n)(t)}function n(n){return on(n,function(t,e){t=E(t,e),n.point(t[0],t[1])})}function i(r){function t(t,e){t=E(t,e),r.point(t[0],t[1])}function e(){g=NaN,b.point=n,r.lineStart()}function n(t,e){var n=ge([t,e]),i=E(t,e);L(g,v,p,y,m,x,g=i[0],v=i[1],p=t,y=n[0],m=n[1],x=n[2],_,r),r.point(g,v)}function i(){b.point=t,r.lineEnd()}function o(){e(),b.point=a,b.lineEnd=s}function a(t,e){n(u=t,e),l=g,c=v,h=y,f=m,d=x,b.point=n}function s(){L(g,v,p,y,m,x,l,c,u,h,f,d,_,r),(b.lineEnd=i)()}var u,l,c,h,f,d,p,g,v,y,m,x,b={point:t,lineStart:e,lineEnd:i,polygonStart:function(){r.polygonStart(),b.lineStart=o},polygonEnd:function(){r.polygonEnd(),b.lineStart=e}};return b}function L(t,e,n,i,r,o,a,s,u,l,c,h,f,d){var p=a-t,g=s-e,v=p*p+g*g;if(4*P<v&&f--){var y=i+l,m=r+c,x=o+h,b=Math.sqrt(y*y+m*m+x*x),_=Math.asin(x/=b),w=ma(ma(x)-1)<Oa||ma(n-u)<Oa?(n+u)/2:Math.atan2(m,y),S=E(w,_),T=S[0],C=S[1],k=T-t,M=C-e,A=g*k-p*M;(P<A*A/v||.3<ma((p*k+g*M)/v-.5)||i*l+r*c+o*h<N)&&(L(t,e,n,i,r,o,T,C,w,y/=b,m/=b,x,f,d),d.point(T,C),L(T,C,w,y,m,x,a,s,u,l,c,h,f,d))}}var P=.5,N=Math.cos(30*Ga),_=16;return e.precision=function(t){return arguments.length?(_=0<(P=t*t)&&16,e):Math.sqrt(P)},e}function nn(n){var e=en(function(t,e){return n([t*Ha,e*Ha])});return function(t){return un(e(t))}}function rn(t){this.stream=t}function on(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function an(t){return sn(function(){return t})()}function sn(t){function e(t){return[(t=s(t[0]*Ga,t[1]*Ga))[0]*f+u,l-t[1]*f]}function n(t){return(t=s.invert((t[0]-u)/f,(l-t[1])/f))&&[t[0]*Ha,t[1]*Ha]}function i(){s=Ae(a=hn(y,m,x),o);var t=o(g,v);return u=d-t[0]*f,l=p+t[1]*f,r()}function r(){return c&&(c.valid=!1,c=null),e}var o,a,s,u,l,c,h=en(function(t,e){return[(t=o(t,e))[0]*f+u,l-t[1]*f]}),f=150,d=480,p=250,g=0,v=0,y=0,m=0,x=0,b=Fs,_=O,w=null,S=null;return e.stream=function(t){return c&&(c.valid=!1),(c=un(b(a,h(_(t))))).valid=!0,c},e.clipAngle=function(t){return arguments.length?(b=null==t?(w=t,Fs):Ge((w=+t)*Ga),r()):w},e.clipExtent=function(t){return arguments.length?(_=(S=t)?$e(t[0][0],t[0][1],t[1][0],t[1][1]):O,r()):S},e.scale=function(t){return arguments.length?(f=+t,i()):f},e.translate=function(t){return arguments.length?(d=+t[0],p=+t[1],i()):[d,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Ga,v=t[1]%360*Ga,i()):[g*Ha,v*Ha]},e.rotate=function(t){return arguments.length?(y=t[0]%360*Ga,m=t[1]%360*Ga,x=2<t.length?t[2]%360*Ga:0,i()):[y*Ha,m*Ha,x*Ha]},ua.rebind(e,h,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,i()}}function un(n){return on(n,function(t,e){n.point(t*Ga,e*Ga)})}function ln(t,e){return[t,e]}function cn(t,e){return[Fa<t?t-za:t<-Fa?t+za:t,e]}function hn(t,e,n){return t?e||n?Ae(dn(t),pn(e,n)):dn(t):e||n?pn(e,n):cn}function fn(n){return function(t,e){return[Fa<(t+=n)?t-za:t<-Fa?t+za:t,e]}}function dn(t){var e=fn(t);return e.invert=fn(-t),e}function pn(t,e){function n(t,e){var n=Math.cos(e),i=Math.cos(t)*n,r=Math.sin(t)*n,o=Math.sin(e),a=o*s+i*u;return[Math.atan2(r*l-a*c,i*s-o*u),et(a*l+r*c)]}var s=Math.cos(t),u=Math.sin(t),l=Math.cos(e),c=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),i=Math.cos(t)*n,r=Math.sin(t)*n,o=Math.sin(e),a=o*l-r*c;return[Math.atan2(r*l+o*c,i*s+a*u),et(a*s-i*u)]},n}function gn(s,u){var l=Math.cos(s),c=Math.sin(s);return function(t,e,n,i){var r=n*u;null!=t?(t=vn(l,t),e=vn(l,e),(0<n?t<e:e<t)&&(t+=n*za)):(t=s+n*za,e=s-.5*r);for(var o,a=t;0<n?e<a:a<e;a-=r)i.point((o=_e([l,-c*Math.cos(a),-c*Math.sin(a)]))[0],o[1])}}function vn(t,e){var n=ge(e);n[0]-=t,be(n);var i=tt(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Oa)%(2*Math.PI)}function yn(t,e,n){var i=ua.range(t,e-Oa,n).concat(e);return function(e){return i.map(function(t){return[e,t]})}}function mn(t,e,n){var i=ua.range(t,e-Oa,n).concat(e);return function(e){return i.map(function(t){return[t,e]})}}function xn(t){return t.source}function bn(t){return t.target}function _n(t,e,n,i){var r=Math.cos(e),a=Math.sin(e),o=Math.cos(i),s=Math.sin(i),u=r*Math.cos(t),l=r*Math.sin(t),c=o*Math.cos(n),h=o*Math.sin(n),f=2*Math.asin(Math.sqrt(ot(i-e)+r*o*ot(n-t))),d=1/Math.sin(f),p=f?function(t){var e=Math.sin(t*=f)*d,n=Math.sin(f-t)*d,i=n*u+e*c,r=n*l+e*h,o=n*a+e*s;return[Math.atan2(r,i)*Ha,Math.atan2(o,Math.sqrt(i*i+r*r))*Ha]}:function(){return[t*Ha,e*Ha]};return p.distance=f,p}function wn(){function n(t,e){var n=Math.sin(e*=Ga),i=Math.cos(e),r=ma((t*=Ga)-a),o=Math.cos(r);Ys+=Math.atan2(Math.sqrt((r=i*Math.sin(r))*r+(r=u*n-s*i*o)*r),s*n+u*i*o),a=t,s=n,u=i}var a,s,u;Ws.point=function(t,e){a=t*Ga,s=Math.sin(e*=Ga),u=Math.cos(e),Ws.point=n},Ws.lineEnd=function(){Ws.point=Ws.lineEnd=b}}function Sn(o,a){function t(t,e){var n=Math.cos(t),i=Math.cos(e),r=o(n*i);return[r*i*Math.sin(t),r*Math.sin(e)]}return t.invert=function(t,e){var n=Math.sqrt(t*t+e*e),i=a(n),r=Math.sin(i),o=Math.cos(i);return[Math.atan2(t*r,n*o),Math.asin(n&&e*r/n)]},t}function Tn(t,e){function n(t,e){0<a?e<-ja+Oa&&(e=-ja+Oa):ja-Oa<e&&(e=ja-Oa);var n=a/Math.pow(r(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var i=Math.cos(t),r=function(t){return Math.tan(Fa/4+t/2)},o=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),a=i*Math.pow(r(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,i=K(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/i,1/o))-ja]},n):kn}function Cn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),o=i/r+t;return ma(r)<Oa?ln:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,o-K(r)*Math.sqrt(t*t+n*n)]},n)}function kn(t,e){return[t,Math.log(Math.tan(Fa/4+e/2))]}function Mn(t){var r,o=an(t),a=o.scale,s=o.translate,u=o.clipExtent;return o.scale=function(){var t=a.apply(o,arguments);return t===o?r?o.clipExtent(null):o:t},o.translate=function(){var t=s.apply(o,arguments);return t===o?r?o.clipExtent(null):o:t},o.clipExtent=function(t){var e=u.apply(o,arguments);if(e===o){if(r=null==t){var n=Fa*a(),i=s();u([[i[0]-n,i[1]-n],[i[0]+n,i[1]+n]])}}else r&&(e=null);return e},o.clipExtent(null)}function An(t,e){return[Math.log(Math.tan(Fa/4+e/2)),-t]}function En(t){return t[0]}function Ln(t){return t[1]}function Pn(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;r++){for(;1<i&&J(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function Nn(t,e){return t[0]-e[0]||t[1]-e[1]}function Dn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Rn(t,e,n,i){var r=t[0],o=n[0],a=e[0]-r,s=i[0]-o,u=t[1],l=n[1],c=e[1]-u,h=i[1]-l,f=(s*(u-l)-h*(r-o))/(h*a-s*c);return[r+f*a,u+f*c]}function On(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function In(){ii(this),this.edge=this.site=this.circle=null}function Fn(t){var e=su.pop()||new In;return e.site=t,e}function zn(t){Yn(t),ru.remove(t),su.push(t),ii(t)}function Vn(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},o=t.P,a=t.N,s=[t];zn(t);for(var u=o;u.circle&&ma(n-u.circle.x)<Oa&&ma(i-u.circle.cy)<Oa;)o=u.P,s.unshift(u),zn(u),u=o;s.unshift(u),Yn(u);for(var l=a;l.circle&&ma(n-l.circle.x)<Oa&&ma(i-l.circle.cy)<Oa;)a=l.N,s.push(l),zn(l),l=a;s.push(l),Yn(l);var c,h=s.length;for(c=1;c<h;++c)l=s[c],u=s[c-1],ti(l.edge,u.site,l.site,r);u=s[0],(l=s[h-1]).edge=Kn(u.site,l.site,null,r),Xn(u),Xn(l)}function jn(t){for(var e,n,i,r,o=t.x,a=t.y,s=ru._;s;)if(i=Gn(s,a)-o,Oa<i)s=s.L;else{if(r=o-Hn(s,a),!(Oa<r)){-Oa<i?(e=s.P,n=s):-Oa<r?n=(e=s).N:e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=Fn(t);if(ru.insert(e,u),e||n){if(e===n)return Yn(e),n=Fn(e.site),ru.insert(u,n),u.edge=n.edge=Kn(e.site,u.site),Xn(e),void Xn(n);if(!n)return void(u.edge=Kn(e.site,u.site));Yn(e),Yn(n);var l=e.site,c=l.x,h=l.y,f=t.x-c,d=t.y-h,p=n.site,g=p.x-c,v=p.y-h,y=2*(f*v-d*g),m=f*f+d*d,x=g*g+v*v,b={x:(v*m-d*x)/y+c,y:(f*x-g*m)/y+h};ti(n.edge,l,p,b),u.edge=Kn(l,t,null,b),n.edge=Kn(t,p,null,b),Xn(e),Xn(n)}}function Gn(t,e){var n=t.site,i=n.x,r=n.y,o=r-e;if(!o)return i;var a=t.P;if(!a)return-1/0;var s=(n=a.site).x,u=n.y,l=u-e;if(!l)return s;var c=s-i,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+r-o/2)))/h+i:(i+s)/2}function Hn(t,e){var n=t.N;if(n)return Gn(n,e);var i=t.site;return i.y===e?i.x:1/0}function $n(t){this.site=t,this.edges=[]}function qn(t){for(var e,n,i,r,o,a,s,u,l,c,h=t[0][0],f=t[1][0],d=t[0][1],p=t[1][1],g=iu,v=g.length;v--;)if((o=g[v])&&o.prepare())for(u=(s=o.edges).length,a=0;a<u;)i=(c=s[a].end()).x,r=c.y,e=(l=s[++a%u].start()).x,n=l.y,(ma(i-e)>Oa||ma(r-n)>Oa)&&(s.splice(a,0,new ei(Jn(o.site,c,ma(i-h)<Oa&&Oa<p-r?{x:h,y:ma(e-h)<Oa?n:p}:ma(r-p)<Oa&&Oa<f-i?{x:ma(n-p)<Oa?e:f,y:p}:ma(i-f)<Oa&&Oa<r-d?{x:f,y:ma(e-f)<Oa?n:d}:ma(r-d)<Oa&&Oa<i-h?{x:ma(n-d)<Oa?e:h,y:d}:null),o.site,null)),++u)}function Bn(t,e){return e.angle-t.angle}function Un(){ii(this),this.x=this.y=this.arc=this.site=this.cy=null}function Xn(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r.x,s=r.y,u=i.x-a,l=i.y-s,c=o.x-a,h=2*(u*(v=o.y-s)-l*c);if(!(-Ia<=h)){var f=u*u+l*l,d=c*c+v*v,p=(v*f-l*d)/h,g=(u*d-c*f)/h,v=g+s,y=uu.pop()||new Un;y.arc=t,y.site=r,y.x=p+a,y.y=v+Math.sqrt(p*p+g*g),y.cy=v,t.circle=y;for(var m=null,x=au._;x;)if(y.y<x.y||y.y===x.y&&y.x<=x.x){if(!x.L){m=x.P;break}x=x.L}else{if(!x.R){m=x;break}x=x.R}au.insert(m,y),m||(ou=y)}}}}function Yn(t){var e=t.circle;e&&(e.P||(ou=e.N),au.remove(e),uu.push(e),ii(e),t.circle=null)}function Wn(t){for(var e,n=nu,i=He(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)(!Qn(e=n[r],t)||!i(e)||ma(e.a.x-e.b.x)<Oa&&ma(e.a.y-e.b.y)<Oa)&&(e.a=e.b=null,n.splice(r,1))}function Qn(t,e){var n=t.b;if(n)return!0;var i,r,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],l=e[1][1],c=t.l,h=t.r,f=c.x,d=c.y,p=h.x,g=h.y,v=(f+p)/2,y=(d+g)/2;if(g===d){if(v<a||s<=v)return;if(p<f){if(o){if(o.y>=l)return}else o={x:v,y:u};n={x:v,y:l}}else{if(o){if(o.y<u)return}else o={x:v,y:l};n={x:v,y:u}}}else if(r=y-(i=(f-p)/(g-d))*v,i<-1||1<i)if(p<f){if(o){if(o.y>=l)return}else o={x:(u-r)/i,y:u};n={x:(l-r)/i,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-r)/i,y:l};n={x:(u-r)/i,y:u}}else if(d<g){if(o){if(o.x>=s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}else{if(o){if(o.x<a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}return t.a=o,t.b=n,!0}function Zn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Kn(t,e,n,i){var r=new Zn(t,e);return nu.push(r),n&&ti(r,t,e,n),i&&ti(r,e,t,i),iu[t.i].edges.push(new ei(r,t,e)),iu[e.i].edges.push(new ei(r,e,t)),r}function Jn(t,e,n){var i=new Zn(t,null);return i.a=e,i.b=n,nu.push(i),i}function ti(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function ei(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function ni(){this._=null}function ii(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ri(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function oi(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function ai(t){for(;t.L;)t=t.L;return t}function si(t,e){var n,i,r,o=t.sort(ui).pop();for(nu=[],iu=new Array(t.length),ru=new ni,au=new ni;;)if(r=ou,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))o.x===n&&o.y===i||(iu[o.i]=new $n(o),jn(o),n=o.x,i=o.y),o=t.pop();else{if(!r)break;Vn(r.arc)}e&&(Wn(e),qn(e));var a={cells:iu,edges:nu};return ru=au=nu=iu=null,a}function ui(t,e){return e.y-t.y||e.x-t.x}function li(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function ci(t){return t.x}function hi(t){return t.y}function fi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function di(t,e,n,i,r,o){if(!t(e,n,i,r,o)){var a=.5*(n+r),s=.5*(i+o),u=e.nodes;u[0]&&di(t,u[0],n,i,a,s),u[1]&&di(t,u[1],a,i,r,s),u[2]&&di(t,u[2],n,s,a,o),u[3]&&di(t,u[3],a,s,r,o)}}function pi(e,v,y,m,x,b,_){var w,S=1/0;return function t(e,n,i,r,o){if(!(b<n||_<i||r<m||o<x)){if(a=e.point){var a,s=v-e.x,u=y-e.y,l=s*s+u*u;if(l<S){var c=Math.sqrt(S=l);m=v-c,x=y-c,b=v+c,_=y+c,w=a}}for(var h=e.nodes,f=.5*(n+r),d=.5*(i+o),p=(d<=y)<<1|f<=v,g=p+4;p<g;++p)if(e=h[3&p])switch(3&p){case 0:t(e,n,i,f,d);break;case 1:t(e,f,i,r,d);break;case 2:t(e,n,d,f,o);break;case 3:t(e,f,d,r,o)}}}(e,m,x,b,_),w}function gi(t,e){t=ua.rgb(t),e=ua.rgb(e);var n=t.r,i=t.g,r=t.b,o=e.r-n,a=e.g-i,s=e.b-r;return function(t){return"#"+bt(Math.round(n+o*t))+bt(Math.round(i+a*t))+bt(Math.round(r+s*t))}}function vi(t,e){var n,i={},r={};for(n in t)n in e?i[n]=xi(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function yi(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function mi(t,i){var e,n,r,o=cu.lastIndex=hu.lastIndex=0,a=-1,s=[],u=[];for(t+="",i+="";(e=cu.exec(t))&&(n=hu.exec(i));)(r=n.index)>o&&(r=i.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(e=e[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,u.push({i:a,x:yi(e,n)})),o=hu.lastIndex;return o<i.length&&(r=i.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?u[0]?(i=u[0].x,function(t){return i(t)+""}):function(){return i}:(i=u.length,function(t){for(var e,n=0;n<i;++n)s[(e=u[n]).i]=e.x(t);return s.join("")})}function xi(t,e){for(var n,i=ua.interpolators.length;0<=--i&&!(n=ua.interpolators[i](t,e)););return n}function bi(t,e){var n,i=[],r=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)i.push(xi(t[n],e[n]));for(;n<o;++n)r[n]=t[n];for(;n<a;++n)r[n]=e[n];return function(t){for(n=0;n<s;++n)r[n]=i[n](t);return r}}function _i(e){return function(t){return t<=0?0:1<=t?1:e(t)}}function wi(e){return function(t){return 1-e(1-t)}}function Si(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Ti(t){return t*t}function Ci(t){return t*t*t}function ki(t){if(t<=0)return 0;if(1<=t)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Mi(e){return function(t){return Math.pow(t,e)}}function Ai(t){return 1-Math.cos(t*ja)}function Ei(t){return Math.pow(2,10*(t-1))}function Li(t){return 1-Math.sqrt(1-t*t)}function Pi(e,n){var i;return arguments.length<2&&(n=.45),arguments.length?i=n/za*Math.asin(1/e):(e=1,i=n/4),function(t){return 1+e*Math.pow(2,-10*t)*Math.sin((t-i)*za/n)}}function Ni(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Di(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Ri(t,e){t=ua.hcl(t),e=ua.hcl(e);var n=t.h,i=t.c,r=t.l,o=e.h-n,a=e.c-i,s=e.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?e.c:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360),function(t){return ct(n+o*t,i+a*t,r+s*t)+""}}function Oi(t,e){t=ua.hsl(t),e=ua.hsl(e);var n=t.h,i=t.s,r=t.l,o=e.h-n,a=e.s-i,s=e.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?e.s:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360),function(t){return ut(n+o*t,i+a*t,r+s*t)+""}}function Ii(t,e){t=ua.lab(t),e=ua.lab(e);var n=t.l,i=t.a,r=t.b,o=e.l-n,a=e.a-i,s=e.b-r;return function(t){return ft(n+o*t,i+a*t,r+s*t)+""}}function Fi(e,n){return n-=e,function(t){return Math.round(e+n*t)}}function zi(t){var e=[t.a,t.b],n=[t.c,t.d],i=ji(e),r=Vi(e,n),o=ji(Gi(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ha,this.translate=[t.e,t.f],this.scale=[i,o],this.skew=o?Math.atan2(r,o)*Ha:0}function Vi(t,e){return t[0]*e[0]+t[1]*e[1]}function ji(t){var e=Math.sqrt(Vi(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Gi(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Hi(t){return t.length?t.pop()+",":""}function $i(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:yi(t[0],e[0])},{i:r-2,x:yi(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function qi(t,e,n,i){t!==e?(180<t-e?e+=360:180<e-t&&(t+=360),i.push({i:n.push(Hi(n)+"rotate(",null,")")-2,x:yi(t,e)})):e&&n.push(Hi(n)+"rotate("+e+")")}function Bi(t,e,n,i){t!==e?i.push({i:n.push(Hi(n)+"skewX(",null,")")-2,x:yi(t,e)}):e&&n.push(Hi(n)+"skewX("+e+")")}function Ui(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push(Hi(n)+"scale(",null,",",null,")");i.push({i:r-4,x:yi(t[0],e[0])},{i:r-2,x:yi(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Hi(n)+"scale("+e+")")}function Xi(t,e){var r=[],o=[];return t=ua.transform(t),e=ua.transform(e),$i(t.translate,e.translate,r,o),qi(t.rotate,e.rotate,r,o),Bi(t.skew,e.skew,r,o),Ui(t.scale,e.scale,r,o),t=e=null,function(t){for(var e,n=-1,i=o.length;++n<i;)r[(e=o[n]).i]=e.x(t);return r.join("")}}function Yi(e,n){return n=(n-=e=+e)||1/n,function(t){return(t-e)/n}}function Wi(e,n){return n=(n-=e=+e)||1/n,function(t){return Math.max(0,Math.min(1,(t-e)/n))}}function Qi(t){for(var e=t.source,n=t.target,i=Ki(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function Zi(t){for(var e=[],n=t.parent;null!=n;)e.push(t),n=(t=n).parent;return e.push(t),e}function Ki(t,e){if(t===e)return t;for(var n=Zi(t),i=Zi(e),r=n.pop(),o=i.pop(),a=null;r===o;)a=r,r=n.pop(),o=i.pop();return a}function Ji(t){t.fixed|=2}function tr(t){t.fixed&=-7}function er(t){t.fixed|=4,t.px=t.x,t.py=t.y}function nr(t){t.fixed&=-5}function ir(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,u=-1;++u<s;)null!=(o=a[u])&&(ir(o,e,n),t.charge+=o.charge,i+=o.charge*o.cx,r+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=e*n[t.point.index];t.charge+=t.pointCharge=l,i+=l*t.point.x,r+=l*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function rr(t,e){return ua.rebind(t,e,"sort","children","value"),(t.nodes=t).links=cr,t}function or(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;0<=--i;)n.push(r[i])}function ar(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(o=t.children)&&(r=o.length))for(var r,o,a=-1;++a<r;)n.push(o[a]);for(;null!=(t=i.pop());)e(t)}function sr(t){return t.children}function ur(t){return t.value}function lr(t,e){return e.value-t.value}function cr(t){return ua.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function hr(t){return t.x}function fr(t){return t.y}function dr(t,e,n){t.y0=e,t.y=n}function pr(t){return ua.range(t.length)}function gr(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function vr(t){for(var e,n=1,i=0,r=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function yr(t){return t.reduce(mr,0)}function mr(t,e){return t+e[1]}function xr(t,e){return br(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function br(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,o=[];++n<=e;)o[n]=r*n+i;return o}function _r(t){return[ua.min(t),ua.max(t)]}function wr(t,e){return t.value-e.value}function Sr(t,e){var n=t._pack_next;(t._pack_next=e)._pack_prev=t,(e._pack_next=n)._pack_prev=e}function Tr(t,e){(t._pack_next=e)._pack_prev=t}function Cr(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return n*n+i*i<.999*r*r}function kr(t){function e(t){c=Math.min(t.x-t.r,c),h=Math.max(t.x+t.r,h),f=Math.min(t.y-t.r,f),d=Math.max(t.y+t.r,d)}if((n=t.children)&&(l=n.length)){var n,i,r,o,a,s,u,l,c=1/0,h=-1/0,f=1/0,d=-1/0;if(n.forEach(Mr),(i=n[0]).x=-i.r,i.y=0,e(i),1<l&&((r=n[1]).x=r.r,r.y=0,e(r),2<l))for(Lr(i,r,o=n[2]),e(o),Sr(i,o),Sr(i._pack_prev=o,r),r=i._pack_next,a=3;a<l;a++){Lr(i,r,o=n[a]);var p=0,g=1,v=1;for(s=r._pack_next;s!==r;s=s._pack_next,g++)if(Cr(s,o)){p=1;break}if(1==p)for(u=i._pack_prev;u!==s._pack_prev&&!Cr(u,o);u=u._pack_prev,v++);p?(g<v||g==v&&r.r<i.r?Tr(i,r=s):Tr(i=u,r),a--):(Sr(i,o),e(r=o))}var y=(c+h)/2,m=(f+d)/2,x=0;for(a=0;a<l;a++)(o=n[a]).x-=y,o.y-=m,x=Math.max(x,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=x,n.forEach(Ar)}}function Mr(t){t._pack_next=t._pack_prev=t}function Ar(t){delete t._pack_next,delete t._pack_prev}function Er(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var o=-1,a=r.length;++o<a;)Er(r[o],e,n,i)}function Lr(t,e,n){var i=t.r+n.r,r=e.x-t.x,o=e.y-t.y;if(i&&(r||o)){var a=e.r+n.r,s=r*r+o*o,u=.5+((i*=i)-(a*=a))/(2*s),l=Math.sqrt(Math.max(0,2*a*(i+s)-(i-=s)*i-a*a))/(2*s);n.x=t.x+u*r+l*o,n.y=t.y+u*o-l*r}else n.x=t.x+i,n.y=t.y}function Pr(t,e){return t.parent==e.parent?1:2}function Nr(t){var e=t.children;return e.length?e[0]:t.t}function Dr(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Rr(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Or(t){for(var e,n=0,i=0,r=t.children,o=r.length;0<=--o;)(e=r[o]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}function Ir(t,e,n){return t.a.parent===e.parent?t.a:n}function Fr(t){return 1+ua.max(t,function(t){return t.y})}function zr(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Vr(t){var e=t.children;return e&&e.length?Vr(e[0]):t}function jr(t){var e,n=t.children;return n&&(e=n.length)?jr(n[e-1]):t}function Gr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Hr(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return r<0&&(n+=r/2,r=0),o<0&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function $r(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function qr(t){return t.rangeExtent?t.rangeExtent():$r(t.range())}function Br(t,e,n,i){var r=n(t[0],t[1]),o=i(e[0],e[1]);return function(t){return o(r(t))}}function Ur(t,e){var n,i=0,r=t.length-1,o=t[i],a=t[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t}function Xr(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:wu}function Yr(n,t,e,i){var r=[],o=[],a=0,s=Math.min(n.length,t.length)-1;for(n[s]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<=s;)r.push(e(n[a-1],n[a])),o.push(i(t[a-1],t[a]));return function(t){var e=ua.bisect(n,t,1,s)-1;return o[e](r[e](t))}}function Wr(n,i,r,o){function e(){var t=2<Math.min(n.length,i.length)?Yr:Br,e=o?Wi:Yi;return s=t(n,i,e,r),u=t(i,n,e,xi),a}function a(t){return s(t)}var s,u;return a.invert=function(t){return u(t)},a.domain=function(t){return arguments.length?(n=t.map(Number),e()):n},a.range=function(t){return arguments.length?(i=t,e()):i},a.rangeRound=function(t){return a.range(t).interpolate(Fi)},a.clamp=function(t){return arguments.length?(o=t,e()):o},a.interpolate=function(t){return arguments.length?(r=t,e()):r},a.ticks=function(t){return Jr(n,t)},a.tickFormat=function(t,e){return to(n,t,e)},a.nice=function(t){return Zr(n,t),e()},a.copy=function(){return Wr(n,i,r,o)},e()}function Qr(t,e){return ua.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Zr(t,e){return Ur(t,Xr(Kr(t,e)[2])),Ur(t,Xr(Kr(t,e)[2])),t}function Kr(t,e){null==e&&(e=10);var n=$r(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),o=e/i*r;return o<=.15?r*=10:o<=.35?r*=5:o<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function Jr(t,e){return ua.range.apply(ua,Kr(t,e))}function to(t,e,n){var i=Kr(t,e);if(n){var r=cs.exec(n);if(r.shift(),"s"===r[8]){var o=ua.formatPrefix(Math.max(ma(i[0]),ma(i[1])));return r[7]||(r[7]="."+eo(o.scale(i[2]))),r[8]="f",n=ua.format(r.join("")),function(t){return n(o.scale(t))+o.symbol}}r[7]||(r[7]="."+no(r[8],i)),n=r.join("")}else n=",."+eo(i[2])+"f";return ua.format(n)}function eo(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function no(t,e){var n=eo(e[2]);return t in Su?Math.abs(n-eo(Math.max(ma(e[0]),ma(e[1]))))+ +("e"!==t):n-2*("%"===t)}function io(e,u,l,c){function h(t){return(l?Math.log(t<0?0:t):-Math.log(0<t?0:-t))/Math.log(u)}function f(t){return l?Math.pow(u,t):-Math.pow(u,-t)}function r(t){return e(h(t))}return r.invert=function(t){return f(e.invert(t))},r.domain=function(t){return arguments.length?(l=0<=t[0],e.domain((c=t.map(Number)).map(h)),r):c},r.base=function(t){return arguments.length?(u=+t,e.domain(c.map(h)),r):u},r.nice=function(){var t=Ur(c.map(h),l?Math:Cu);return e.domain(t),c=t.map(f),r},r.ticks=function(){var t=$r(c),e=[],n=t[0],i=t[1],r=Math.floor(h(n)),o=Math.ceil(h(i)),a=u%1?2:u;if(isFinite(o-r)){if(l){for(;r<o;r++)for(var s=1;s<a;s++)e.push(f(r)*s);e.push(f(r))}else for(e.push(f(r));r++<o;)for(s=a-1;0<s;s--)e.push(f(r)*s);for(r=0;e[r]<n;r++);for(o=e.length;e[o-1]>i;o--);e=e.slice(r,o)}return e},r.tickFormat=function(t,n){if(!arguments.length)return Tu;arguments.length<2?n=Tu:"function"!=typeof n&&(n=ua.format(n));var i=Math.max(1,u*t/r.ticks().length);return function(t){var e=t/f(Math.round(h(t)));return e*u<u-.5&&(e*=u),e<=i?n(t):""}},r.copy=function(){return io(e.copy(),u,l,c)},Qr(r,e)}function ro(e,n,i){function r(t){return e(o(t))}var o=oo(n),a=oo(1/n);return r.invert=function(t){return a(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((i=t.map(Number)).map(o)),r):i},r.ticks=function(t){return Jr(i,t)},r.tickFormat=function(t,e){return to(i,t,e)},r.nice=function(t){return r.domain(Zr(i,t))},r.exponent=function(t){return arguments.length?(o=oo(n=t),a=oo(1/n),e.domain(i.map(o)),r):n},r.copy=function(){return ro(e.copy(),n,i)},Qr(r,e)}function oo(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ao(s,u){function l(t){return h[((r.get(t)||("range"===u.t?r.set(t,s.push(t)):NaN))-1)%h.length]}function c(e,n){return ua.range(s.length).map(function(t){return e+n*t})}var r,h,f;return l.domain=function(t){if(!arguments.length)return s;s=[],r=new m;for(var e,n=-1,i=t.length;++n<i;)r.has(e=t[n])||r.set(e,s.push(e));return l[u.t].apply(l,u.a)},l.range=function(t){return arguments.length?(h=t,f=0,u={t:"range",a:arguments},l):h},l.rangePoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],i=t[1],r=s.length<2?(n=(n+i)/2,0):(i-n)/(s.length-1+e);return h=c(n+r*e/2,r),f=0,u={t:"rangePoints",a:arguments},l},l.rangeRoundPoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],i=t[1],r=s.length<2?(n=i=Math.round((n+i)/2),0):(i-n)/(s.length-1+e)|0;return h=c(n+Math.round(r*e/2+(i-n-(s.length-1+e)*r)/2),r),f=0,u={t:"rangeRoundPoints",a:arguments},l},l.rangeBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var i=t[1]<t[0],r=t[i-0],o=(t[1-i]-r)/(s.length-e+2*n);return h=c(r+o*n,o),i&&h.reverse(),f=o*(1-e),u={t:"rangeBands",a:arguments},l},l.rangeRoundBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var i=t[1]<t[0],r=t[i-0],o=t[1-i],a=Math.floor((o-r)/(s.length-e+2*n));return h=c(r+Math.round((o-r-(s.length-e)*a)/2),a),i&&h.reverse(),f=Math.round(a*(1-e)),u={t:"rangeRoundBands",a:arguments},l},l.rangeBand=function(){return f},l.rangeExtent=function(){return $r(u.a[0])},l.copy=function(){return ao(s,u)},l.domain(s)}function so(n,i){function e(){var t=0,e=i.length;for(o=[];++t<e;)o[t-1]=ua.quantile(n,t/e);return r}function r(t){return isNaN(t=+t)?void 0:i[ua.bisect(o,t)]}var o;return r.domain=function(t){
return arguments.length?(n=t.map(l).filter(c).sort(a),e()):n},r.range=function(t){return arguments.length?(i=t,e()):i},r.quantiles=function(){return o},r.invertExtent=function(t){return(t=i.indexOf(t))<0?[NaN,NaN]:[0<t?o[t-1]:n[0],t<o.length?o[t]:n[n.length-1]]},r.copy=function(){return so(n,i)},e()}function uo(e,n,i){function t(t){return i[Math.max(0,Math.min(a,Math.floor(o*(t-e))))]}function r(){return o=i.length/(n-e),a=i.length-1,t}var o,a;return t.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],r()):[e,n]},t.range=function(t){return arguments.length?(i=t,r()):i},t.invertExtent=function(t){return[t=(t=i.indexOf(t))<0?NaN:t/o+e,t+1/o]},t.copy=function(){return uo(e,n,i)},r()}function lo(e,n){function i(t){return t<=t?n[ua.bisect(e,t)]:void 0}return i.domain=function(t){return arguments.length?(e=t,i):e},i.range=function(t){return arguments.length?(n=t,i):n},i.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},i.copy=function(){return lo(e,n)},i}function co(n){function e(t){return+t}return(e.invert=e).domain=e.range=function(t){return arguments.length?(n=t.map(e),e):n},e.ticks=function(t){return Jr(n,t)},e.tickFormat=function(t,e){return to(n,t,e)},e.copy=function(){return co(n)},e}function ho(){return 0}function fo(t){return t.innerRadius}function po(t){return t.outerRadius}function go(t){return t.startAngle}function vo(t){return t.endAngle}function yo(t){return t&&t.padAngle}function mo(t,e,n,i){return 0<(t-n)*e-(e-i)*t?0:1}function xo(t,e,n,i,r){var o=t[0]-e[0],a=t[1]-e[1],s=(r?i:-i)/Math.sqrt(o*o+a*a),u=s*a,l=-s*o,c=t[0]+u,h=t[1]+l,f=e[0]+u,d=e[1]+l,p=(c+f)/2,g=(h+d)/2,v=f-c,y=d-h,m=v*v+y*y,x=n-i,b=c*d-f*h,_=(y<0?-1:1)*Math.sqrt(Math.max(0,x*x*m-b*b)),w=(b*y-v*_)/m,S=(-b*v-y*_)/m,T=(b*y+v*_)/m,C=(-b*v+y*_)/m,k=w-p,M=S-g,A=T-p,E=C-g;return A*A+E*E<k*k+M*M&&(w=T,S=C),[[w-u,S-l],[w*n/x,S*n/x]]}function bo(l){function e(t){function e(){i.push("M",d(l(r),p))}for(var n,i=[],r=[],o=-1,a=t.length,s=kt(c),u=kt(h);++o<a;)f.call(this,n=t[o],o)?r.push([+s.call(this,n,o),+u.call(this,n,o)]):r.length&&(e(),r=[]);return r.length&&e(),i.length?i.join(""):null}var c=En,h=Ln,f=Ee,d=_o,n=d.key,p=.7;return e.x=function(t){return arguments.length?(c=t,e):c},e.y=function(t){return arguments.length?(h=t,e):h},e.defined=function(t){return arguments.length?(f=t,e):f},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?d=t:(d=Pu.get(t)||_o).key,e):n},e.tension=function(t){return arguments.length?(p=t,e):p},e}function _o(t){return 1<t.length?t.join("L"):t+"Z"}function wo(t){return t.join("L")+"Z"}function So(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return 1<n&&r.push("H",i[0]),r.join("")}function To(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function Co(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function ko(t,e){return t.length<4?_o(t):t[1]+Eo(t.slice(1,-1),Lo(t,e))}function Mo(t,e){return t.length<3?wo(t):t[0]+Eo((t.push(t[0]),t),Lo([t[t.length-2]].concat(t,[t[1]]),e))}function Ao(t,e){return t.length<3?_o(t):t[0]+Eo(t,Lo(t,e))}function Eo(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return _o(t);var n=t.length!=e.length,i="",r=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(i+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],r=t[1],u=2),1<e.length){s=e[1],o=t[u],u++,i+="C"+(r[0]+a[0])+","+(r[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,u++)o=t[u],s=e[l],i+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[u];i+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return i}function Lo(t,e){for(var n,i=[],r=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],i.push([r*(a[0]-n[0]),r*(a[1]-n[1])]);return i}function Po(t){if(t.length<3)return _o(t);var e=1,n=t.length,i=t[0],r=i[0],o=i[1],a=[r,r,r,(i=t[1])[0]],s=[o,o,o,i[1]],u=[r,",",o,"L",Oo(Ru,a),",",Oo(Ru,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),Io(u,a,s);return t.pop(),u.push("L",i),u.join("")}function No(t){if(t.length<4)return _o(t);for(var e,n=[],i=-1,r=t.length,o=[0],a=[0];++i<3;)e=t[i],o.push(e[0]),a.push(e[1]);for(n.push(Oo(Ru,o)+","+Oo(Ru,a)),--i;++i<r;)e=t[i],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Io(n,o,a);return n.join("")}function Do(t){for(var e,n,i=-1,r=t.length,o=r+4,a=[],s=[];++i<4;)n=t[i%r],a.push(n[0]),s.push(n[1]);for(e=[Oo(Ru,a),",",Oo(Ru,s)],--i;++i<o;)n=t[i%r],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Io(e,a,s);return e.join("")}function Ro(t,e){var n=t.length-1;if(n)for(var i,r,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,l=-1;++l<=n;)r=l/n,(i=t[l])[0]=e*i[0]+(1-e)*(o+r*s),i[1]=e*i[1]+(1-e)*(a+r*u);return Po(t)}function Oo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Io(t,e,n){t.push("C",Oo(Nu,e),",",Oo(Nu,n),",",Oo(Du,e),",",Oo(Du,n),",",Oo(Ru,e),",",Oo(Ru,n))}function Fo(t,e){return(e[1]-t[1])/(e[0]-t[0])}function zo(t){for(var e=0,n=t.length-1,i=[],r=t[0],o=t[1],a=i[0]=Fo(r,o);++e<n;)i[e]=(a+(a=Fo(r=o,o=t[e+1])))/2;return i[e]=a,i}function Vo(t){for(var e,n,i,r,o=[],a=zo(t),s=-1,u=t.length-1;++s<u;)e=Fo(t[s],t[s+1]),ma(e)<Oa?a[s]=a[s+1]=0:9<(r=(n=a[s]/e)*n+(i=a[s+1]/e)*i)&&(r=3*e/Math.sqrt(r),a[s]=r*n,a[s+1]=r*i);for(s=-1;++s<=u;)r=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([r||0,a[s]*r||0]);return o}function jo(t){return t.length<3?_o(t):t[0]+Eo(t,Vo(t))}function Go(t){for(var e,n,i,r=-1,o=t.length;++r<o;)n=(e=t[r])[0],i=e[1]-ja,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Ho(p){function e(t){function e(){o.push("M",b(p(s),S),w,_(p(a.reverse()),S),"Z")}for(var n,i,r,o=[],a=[],s=[],u=-1,l=t.length,c=kt(g),h=kt(y),f=g===v?function(){return i}:kt(v),d=y===m?function(){return r}:kt(m);++u<l;)x.call(this,n=t[u],u)?(a.push([i=+c.call(this,n,u),r=+h.call(this,n,u)]),s.push([+f.call(this,n,u),+d.call(this,n,u)])):a.length&&(e(),a=[],s=[]);return a.length&&e(),o.length?o.join(""):null}var g=En,v=En,y=0,m=Ln,x=Ee,b=_o,n=b.key,_=b,w="L",S=.7;return e.x=function(t){return arguments.length?(g=v=t,e):v},e.x0=function(t){return arguments.length?(g=t,e):g},e.x1=function(t){return arguments.length?(v=t,e):v},e.y=function(t){return arguments.length?(y=m=t,e):m},e.y0=function(t){return arguments.length?(y=t,e):y},e.y1=function(t){return arguments.length?(m=t,e):m},e.defined=function(t){return arguments.length?(x=t,e):x},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?b=t:(b=Pu.get(t)||_o).key,_=b.reverse||b,w=b.closed?"M":"L",e):n},e.tension=function(t){return arguments.length?(S=t,e):S},e}function $o(t){return t.radius}function qo(t){return[t.x,t.y]}function Bo(i){return function(){var t=i.apply(this,arguments),e=t[0],n=t[1]-ja;return[e*Math.cos(n),e*Math.sin(n)]}}function Uo(){return 64}function Xo(){return"circle"}function Yo(t){var e=Math.sqrt(t/Fa);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Wo(i){return function(){var t,e,n;(t=this[i])&&(n=t[e=t.active])&&(n.timer.c=null,n.timer.t=NaN,--t.count?delete t[e]:delete this[i],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Qo(t,e,n){return Sa(t,Gu),t.namespace=e,t.id=n,t}function Zo(t,i,r,o){var a=t.id,s=t.namespace;return $(t,"function"==typeof r?function(t,e,n){t[s][a].tween.set(i,o(r.call(t,t.__data__,e,n)))}:(r=o(r),function(t){t[s][a].tween.set(i,r)}))}function Ko(t){return null==t&&(t=""),function(){this.textContent=t}}function Jo(t){return null==t?"__transition__":"__transition_"+t+"__"}function ta(o,a,r,s,t){function e(t){var e=g.delay;return c.t=e+l,e<=t?n(t-e):void(c.c=n)}function n(t){var e=p.active,n=p[e];for(var i in n&&(n.timer.c=null,n.timer.t=NaN,--p.count,delete p[e],n.event&&n.event.interrupt.call(o,o.__data__,n.index)),p)if(+i<s){var r=p[i];r.timer.c=null,r.timer.t=NaN,--p.count,delete p[i]}c.c=u,Pt(function(){return c.c&&u(t||1)&&(c.c=null,c.t=NaN),1},0,l),p.active=s,g.event&&g.event.start.call(o,o.__data__,a),d=[],g.tween.forEach(function(t,e){(e=e.call(o,o.__data__,a))&&d.push(e)}),f=g.ease,h=g.duration}function u(t){for(var e=t/h,n=f(e),i=d.length;0<i;)d[--i].call(o,n);return 1<=e?(g.event&&g.event.end.call(o,o.__data__,a),--p.count?delete p[s]:delete o[r],1):void 0}var l,c,h,f,d,p=o[r]||(o[r]={active:0,count:0}),g=p[s];g||(l=t.time,c=Pt(e,0,l),g=p[s]={tween:new m,time:l,timer:c,delay:t.delay,duration:t.duration,ease:t.ease,index:a},t=null,++p.count)}function ea(t,n,i){t.attr("transform",function(t){var e=n(t);return"translate("+(isFinite(e)?e:i(t))+",0)"})}function na(t,n,i){t.attr("transform",function(t){var e=n(t);return"translate(0,"+(isFinite(e)?e:i(t))+")"})}function ia(t){return t.toISOString()}function ra(e,r,t){function a(t){return e(t)}function s(t,e){var n=(t[1]-t[0])/e,i=ua.bisect(Qu,n);return i==Qu.length?[r.year,Kr(t.map(function(t){return t/31536e6}),e)[2]]:i?r[n/Qu[i-1]<Qu[i]/n?i-1:i]:[Ju,Kr(t,e)[2]]}return a.invert=function(t){return oa(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain(t),a):e.domain().map(oa)},a.nice=function(e,n){function i(t){return!isNaN(t)&&!e.range(t,oa(+t+1),n).length}var t=a.domain(),r=$r(t),o=null==e?s(r,10):"number"==typeof e&&s(r,e);return o&&(e=o[0],n=o[1]),a.domain(Ur(t,1<n?{floor:function(t){for(;i(t=e.floor(t));)t=oa(t-1);return t},ceil:function(t){for(;i(t=e.ceil(t));)t=oa(+t+1);return t}}:e))},a.ticks=function(t,e){var n=$r(a.domain()),i=null==t?s(n,10):"number"==typeof t?s(n,t):!t.range&&[{range:t},e];return i&&(t=i[0],e=i[1]),t.range(n[0],oa(+n[1]+1),e<1?1:e)},a.tickFormat=function(){return t},a.copy=function(){return ra(e.copy(),r,t)},Qr(a,e)}function oa(t){return new Date(t)}function aa(t){return JSON.parse(t.responseText)}function sa(t){var e=ha.createRange();return e.selectNode(ha.body),e.createContextualFragment(t.responseText)}var ua={version:"3.5.17"},la=[].slice,ca=function(t){return la.call(t)},ha=this.document;if(ha)try{ca(ha.documentElement.childNodes)[0].nodeType}catch(nl){ca=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),ha)try{ha.createElement("DIV").style.setProperty("opacity",0,"")}catch(il){var fa=this.Element.prototype,da=fa.setAttribute,pa=fa.setAttributeNS,ga=this.CSSStyleDeclaration.prototype,va=ga.setProperty;fa.setAttribute=function(t,e){da.call(this,t,e+"")},fa.setAttributeNS=function(t,e,n){pa.call(this,t,e,n+"")},ga.setProperty=function(t,e,n){va.call(this,t,e+"",n)}}ua.ascending=a,ua.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},ua.min=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i<=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&i<n&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i<=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&i<n&&(n=i)}return n},ua.max=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i<=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&n<i&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i<=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&n<i&&(n=i)}return n},ua.extent=function(t,e){var n,i,r,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(i=t[o])&&i<=i){n=r=i;break}for(;++o<a;)null!=(i=t[o])&&(i<n&&(n=i),r<i&&(r=i))}else{for(;++o<a;)if(null!=(i=e.call(t,t[o],o))&&i<=i){n=r=i;break}for(;++o<a;)null!=(i=e.call(t,t[o],o))&&(i<n&&(n=i),r<i&&(r=i))}return[n,r]},ua.sum=function(t,e){var n,i=0,r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)c(n=+t[o])&&(i+=n);else for(;++o<r;)c(n=+e.call(t,t[o],o))&&(i+=n);return i},ua.mean=function(t,e){var n,i=0,r=t.length,o=-1,a=r;if(1===arguments.length)for(;++o<r;)c(n=l(t[o]))?i+=n:--a;else for(;++o<r;)c(n=l(e.call(t,t[o],o)))?i+=n:--a;return a?i/a:void 0},ua.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r},ua.median=function(t,e){var n,i=[],r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)c(n=l(t[o]))&&i.push(n);else for(;++o<r;)c(n=l(e.call(t,t[o],o)))&&i.push(n);return i.length?ua.quantile(i.sort(a),.5):void 0},ua.variance=function(t,e){var n,i,r=t.length,o=0,a=0,s=-1,u=0;if(1===arguments.length)for(;++s<r;)c(n=l(t[s]))&&(a+=(i=n-o)*(n-(o+=i/++u)));else for(;++s<r;)c(n=l(e.call(t,t[s],s)))&&(a+=(i=n-o)*(n-(o+=i/++u)));return 1<u?a/(u-1):void 0},ua.deviation=function(){var t=ua.variance.apply(this,arguments);return t?Math.sqrt(t):t};var ya=t(a);ua.bisectLeft=ya.left,ua.bisect=ua.bisectRight=ya.right,ua.bisector=function(n){return t(1===n.length?function(t,e){return a(n(t),e)}:n)},ua.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var i,r,o=n-e;o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},ua.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},ua.pairs=function(t){for(var e=0,n=t.length-1,i=t[0],r=new Array(n<0?0:n);e<n;)r[e]=[i,i=t[++e]];return r},ua.transpose=function(t){if(!(r=t.length))return[];for(var e=-1,n=ua.min(t,u),i=new Array(n);++e<n;)for(var r,o=-1,a=i[e]=new Array(r);++o<r;)a[o]=t[o][e];return i},ua.zip=function(){return ua.transpose(arguments)},ua.keys=function(t){var e=[];for(var n in t)e.push(n);return e},ua.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ua.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ua.merge=function(t){for(var e,n,i,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(n=new Array(a);0<=--r;)for(e=(i=t[r]).length;0<=--e;)n[--a]=i[e];return n};var ma=Math.abs;ua.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var i,r=[],o=h(ma(n)),a=-1;if(t*=o,e*=o,(n*=o)<0)for(;(i=t+n*++a)>e;)r.push(i/o);else for(;(i=t+n*++a)<e;)r.push(i/o);return r},ua.map=function(t,e){var n=new m;if(t instanceof m)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(1===arguments.length)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e.call(t,i=t[r],r),i)}else for(var a in t)n.set(a,t[a]);return n};var xa="__proto__",ba="\0";e(m,{has:r,get:function(t){return this._[n(t)]},set:function(t,e){return this._[n(t)]=e},remove:o,keys:f,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:i(e),value:this._[e]});return t},size:d,empty:p,forEach:function(t){for(var e in this._)t.call(this,i(e),this._[e])}}),ua.nest=function(){function h(n,t,i){if(i>=g.length)return d?d.call(p,t):f?t.sort(f):t;for(var e,r,o,a,s=-1,u=t.length,l=g[i++],c=new m;++s<u;)(a=c.get(e=l(r=t[s])))?a.push(r):c.set(e,[r]);return n?(r=n(),o=function(t,e){r.set(t,h(n,e,i))}):(r={},o=function(t,e){r[t]=h(n,e,i)}),c.forEach(o),r}function o(t,n){if(n>=g.length)return t;var i=[],r=e[n++];return t.forEach(function(t,e){i.push({key:t,values:o(e,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var f,d,p={},g=[],e=[];return p.map=function(t,e){return h(e,t,0)},p.entries=function(t){return o(h(ua.map,t,0),0)},p.key=function(t){return g.push(t),p},p.sortKeys=function(t){return e[g.length-1]=t,p},p.sortValues=function(t){return f=t,p},p.rollup=function(t){return d=t,p},p},ua.set=function(t){var e=new g;if(t)for(var n=0,i=t.length;n<i;++n)e.add(t[n]);return e},e(g,{has:r,add:function(t){return this._[n(t+="")]=!0,t},remove:o,values:f,size:d,empty:p,forEach:function(t){for(var e in this._)t.call(this,i(e))}}),ua.behavior={},ua.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=v(t,e,e[n]);return t};var _a=["webkit","ms","moz","Moz","o","O"];ua.dispatch=function(){for(var t=new x,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=_(t);return t},x.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(0<=n&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},ua.event=null,ua.requote=function(t){return t.replace(wa,"\\$&")};var wa=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Sa={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Ta=function(t,e){return e.querySelector(t)},Ca=function(t,e){return e.querySelectorAll(t)},ka=function(t,e){var n=t.matches||t[y(t,"matchesSelector")];return(ka=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Ta=function(t,e){return Sizzle(t,e)[0]||null},Ca=Sizzle,ka=Sizzle.matchesSelector),ua.selection=function(){return ua.select(ha.documentElement)};var Ma=ua.selection.prototype=[];Ma.select=function(t){var e,n,i,r,o=[];t=T(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(i=this[a]).parentNode;for(var u=-1,l=i.length;++u<l;)(r=i[u])?(e.push(n=t.call(r,r.__data__,u,a)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return S(o)},Ma.selectAll=function(t){var e,n,i=[];t=C(t);for(var r=-1,o=this.length;++r<o;)for(var a=this[r],s=-1,u=a.length;++s<u;)(n=a[s])&&(i.push(e=ca(t.call(n,n.__data__,s,r))),e.parentNode=n);return S(i)};var Aa="http://www.w3.org/1999/xhtml",Ea={svg:"http://www.w3.org/2000/svg",xhtml:Aa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ua.ns={prefix:Ea,qualify:function(t){var e=t.indexOf(":"),n=t;return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Ea.hasOwnProperty(n)?{space:Ea[n],local:t}:t}},Ma.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=ua.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(k(e,t[e]));return this}return this.each(k(t,e))},Ma.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=E(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!A(t[r]).test(e))return!1;return!0}for(e in t)this.each(L(e,t[e]));return this}return this.each(L(t,e))},Ma.style=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=""),t)this.each(N(n,t[n],e));return this}if(i<2){var r=this.node();return R(r).getComputedStyle(r,null).getPropertyValue(t)}n=""}return this.each(N(t,e,n))},Ma.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(D(e,t[e]));return this}return this.each(D(t,e))},Ma.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Ma.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Ma.append=function(t){return t=z(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Ma.insert=function(t,e){return t=z(t),e=T(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Ma.remove=function(){return this.each(V)},Ma.data=function(t,p){function e(t,e){var n,i,r,o=t.length,a=e.length,s=Math.min(o,a),u=new Array(a),l=new Array(a),c=new Array(o);if(p){var h,f=new m,d=new Array(o);for(n=-1;++n<o;)(i=t[n])&&(f.has(h=p.call(i,i.__data__,n))?c[n]=i:f.set(h,i),d[n]=h);for(n=-1;++n<a;)(i=f.get(h=p.call(e,r=e[n],n)))?!0!==i&&((u[n]=i).__data__=r):l[n]=j(r),f.set(h,!0);for(n=-1;++n<o;)n in d&&!0!==f.get(d[n])&&(c[n]=t[n])}else{for(n=-1;++n<s;)i=t[n],r=e[n],i?(i.__data__=r,u[n]=i):l[n]=j(r);for(;n<a;++n)l[n]=j(e[n]);for(;n<o;++n)c[n]=t[n]}l.update=u,l.parentNode=u.parentNode=c.parentNode=t.parentNode,g.push(l),v.push(u),y.push(c)}var n,i,r=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(n=this[0]).length);++r<o;)(i=n[r])&&(t[r]=i.__data__);return t}var g=q([]),v=S([]),y=S([]);if("function"==typeof t)for(;++r<o;)e(n=this[r],t.call(n,n.parentNode.__data__,r));else for(;++r<o;)e(n=this[r],t);return v.enter=function(){return g},v.exit=function(){return y},v},Ma.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Ma.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=G(t));for(var o=0,a=this.length;o<a;o++){r.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;s<u;s++)(i=n[s])&&t.call(i,i.__data__,s,o)&&e.push(i)}return S(r)},Ma.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,o=i[r];0<=--r;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Ma.sort=function(t){t=H.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Ma.each=function(i){return $(this,function(t,e,n){i.call(t,t.__data__,e,n)})},Ma.call=function(t){var e=ca(arguments);return t.apply(e[0]=this,e),this},Ma.empty=function(){return!this.node()},Ma.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],i=0,r=n.length;i<r;i++){var o=n[i];if(o)return o}return null},Ma.size=function(){var t=0;return $(this,function(){++t}),t};var La=[];ua.selection.enter=q,(ua.selection.enter.prototype=La).append=Ma.append,La.empty=Ma.empty,La.node=Ma.node,La.call=Ma.call,La.size=Ma.size,La.select=function(t){for(var e,n,i,r,o,a=[],s=-1,u=this.length;++s<u;){i=(r=this[s]).update,a.push(e=[]),e.parentNode=r.parentNode;for(var l=-1,c=r.length;++l<c;)(o=r[l])?(e.push(i[l]=n=t.call(r.parentNode,o.__data__,l,s)),n.__data__=o.__data__):e.push(null)}return S(a)},La.insert=function(t,e){return arguments.length<2&&(e=B(this)),Ma.insert.call(this,t,e)},ua.select=function(t){var e;return"string"==typeof t?(e=[Ta(t,ha)]).parentNode=ha.documentElement:(e=[t]).parentNode=s(t),S([e])},ua.selectAll=function(t){var e;return"string"==typeof t?(e=ca(Ca(t,ha))).parentNode=ha.documentElement:(e=ca(t)).parentNode=null,S([e])},Ma.on=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=!1),t)this.each(U(n,t[n],e));return this}if(i<2)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(U(t,e,n))};var Pa=ua.map({mouseenter:"mouseover",mouseleave:"mouseout"});ha&&Pa.forEach(function(t){"on"+t in ha&&Pa.remove(t)});var Na,Da=0;ua.mouse=function(t){return Q(t,w())};var Ra=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ua.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=w().changedTouches),e)for(var i,r=0,o=e.length;r<o;++r)if((i=e[r]).identifier===n)return Q(t,i)},ua.behavior.drag=function(){function e(){this.on("mousedown.drag",n).on("touchstart.drag",i)}function t(d,p,g,v,y){return function(){function t(){var t,e,n=p(o,u);n&&(t=n[0]-f[0],e=n[1]-f[1],s|=t|e,a({type:"drag",x:(f=n)[0]+i[0],y:n[1]+i[1],dx:t,dy:e}))}function e(){p(o,u)&&(c.on(v+l,null).on(y+l,null),h(s),a({type:"dragend"}))}var i,n=this,r=ua.event.target.correspondingElement||ua.event.target,o=n.parentNode,a=m.of(n,arguments),s=0,u=d(),l=".drag"+(null==u?"":"-"+u),c=ua.select(g(r)).on(v+l,t).on(y+l,e),h=W(r),f=p(o,u);x?i=[(i=x.apply(n,arguments)).x-f[0],i.y-f[1]]:i=[0,0],a({type:"dragstart"})}}var m=F(e,"drag","dragstart","dragend"),x=null,n=t(b,ua.mouse,R,"mousemove","mouseup"),i=t(Z,ua.touch,O,"touchmove","touchend");return e.origin=function(t){return arguments.length?(x=t,e):x},ua.rebind(e,m,"on")},ua.touches=function(n,t){return arguments.length<2&&(t=w().touches),t?ca(t).map(function(t){var e=Q(n,t);return e.identifier=t.identifier,e}):[]};var Oa=1e-6,Ia=Oa*Oa,Fa=Math.PI,za=2*Fa,Va=za-Oa,ja=Fa/2,Ga=Fa/180,Ha=180/Fa,$a=Math.SQRT2,qa=2,Ba=4;ua.interpolateZoom=function(t,e){var n,r,o=t[0],a=t[1],s=t[2],i=e[0],u=e[1],l=e[2],c=i-o,h=u-a,f=c*c+h*h;if(f<Ia)r=Math.log(l/s)/$a,n=function(t){return[o+t*c,a+t*h,s*Math.exp($a*t*r)]};else{var d=Math.sqrt(f),p=(l*l-s*s+Ba*f)/(2*s*qa*d),g=(l*l-s*s-Ba*f)/(2*l*qa*d),v=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(g*g+1)-g);r=(y-v)/$a,n=function(t){var e=t*r,n=it(v),i=s/(qa*d)*(n*rt($a*e+v)-nt(v));return[o+i*c,a+i*h,s*n/it($a*e+v)]}}return n.duration=1e3*r,n},ua.behavior.zoom=function(){function r(t){t.on(E,s).on(Xa+".zoom",i).on("dblclick.zoom",o).on(N,k)}function u(t){return[(t[0]-A.x)/A.k,(t[1]-A.y)/A.k]}function n(t){return[t[0]*A.k+A.x,t[1]*A.k+A.y]}function b(t){A.k=Math.max(y[0],Math.min(y[1],t))}function _(t,e){e=n(e),A.x+=t[0]-e[0],A.y+=t[1]-e[1]}function w(t,e,n,i){t.__chart__={x:A.x,y:A.y,k:A.k},b(Math.pow(2,i)),_(l=e,n),t=ua.select(t),0<m&&(t=t.transition().duration(m)),t.call(r.event)}function e(){d&&d.domain(f.range().map(function(t){return(t-A.x)/A.k}).map(f.invert)),g&&g.domain(p.range().map(function(t){return(t-A.y)/A.k}).map(p.invert))}function S(t){x++||t({type:"zoomstart"})}function T(t){e(),t({type:"zoom",scale:A.k,translate:[A.x,A.y]})}function C(t){--x||(t({type:"zoomend"}),l=null)}function s(){function t(){r=1,_(ua.mouse(n),a),T(i)}function e(){o.on(L,null).on(P,null),s(r),C(i)}var n=this,i=D.of(n,arguments),r=0,o=ua.select(R(n)).on(L,t).on(P,e),a=u(ua.mouse(n)),s=W(n);ju.call(n),S(i)}function k(){function c(){var t=ua.touches(d);return l=A.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=u(t))}),t}function t(){var t=ua.event.target;ua.select(t).on(y,h).on(m,f),x.push(t);for(var e=ua.event.changedTouches,n=0,i=e.length;n<i;++n)g[e[n].identifier]=null;var r=c(),o=Date.now();if(1===r.length){if(o-M<500){var a=r[0];w(d,a,g[a.identifier],Math.floor(Math.log(A.k)/Math.LN2)+1),I()}M=o}else if(1<r.length){a=r[0];var s=r[1],u=a[0]-s[0],l=a[1]-s[1];v=u*u+l*l}}function h(){var t,e,n,i,r=ua.touches(d);ju.call(d);for(var o=0,a=r.length;o<a;++o,i=null)if(n=r[o],i=g[n.identifier]){if(e)break;t=n,e=i}if(i){var s=(s=n[0]-t[0])*s+(s=n[1]-t[1])*s,u=v&&Math.sqrt(s/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],b(u*l)}M=null,_(t,e),T(p)}function f(){if(ua.event.touches.length){for(var t=ua.event.changedTouches,e=0,n=t.length;e<n;++e)delete g[t[e].identifier];for(var i in g)return void c()}ua.selectAll(x).on(r,null),o.on(E,s).on(N,k),a(),C(p)}var l,d=this,p=D.of(d,arguments),g={},v=0,r=".zoom-"+ua.event.changedTouches[0].identifier,y="touchmove"+r,m="touchend"+r,x=[],o=ua.select(d),a=W(d);t(),S(p),o.on(E,null).on(N,t)}function i(){var t=D.of(this,arguments);h?clearTimeout(h):(ju.call(this),a=u(l=c||ua.mouse(this)),S(t)),h=setTimeout(function(){h=null,C(t)},50),I(),b(Math.pow(2,.002*Ua())*A.k),_(l,a),T(t)}function o(){var t=ua.mouse(this),e=Math.log(A.k)/Math.LN2;w(this,t,u(t),ua.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var a,l,c,h,M,f,d,p,g,A={x:0,y:0,k:1},v=[960,500],y=Ya,m=250,x=0,E="mousedown.zoom",L="mousemove.zoom",P="mouseup.zoom",N="touchstart.zoom",D=F(r,"zoomstart","zoom","zoomend");return Xa||(Xa="onwheel"in ha?(Ua=function(){return-ua.event.deltaY*(ua.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ha?(Ua=function(){return ua.event.wheelDelta},"mousewheel"):(Ua=function(){return-ua.event.detail},"MozMousePixelScroll")),r.event=function(t){t.each(function(){var s=D.of(this,arguments),e=A;zu?ua.select(this).transition().each("start.zoom",function(){A=this.__chart__||{x:0,y:0,k:1},S(s)}).tween("zoom:zoom",function(){var i=v[0],t=v[1],r=l?l[0]:i/2,o=l?l[1]:t/2,a=ua.interpolateZoom([(r-A.x)/A.k,(o-A.y)/A.k,i/A.k],[(r-e.x)/e.k,(o-e.y)/e.k,i/e.k]);return function(t){var e=a(t),n=i/e[2];this.__chart__=A={x:r-e[0]*n,y:o-e[1]*n,k:n},T(s)}}).each("interrupt.zoom",function(){C(s)}).each("end.zoom",function(){C(s)}):(this.__chart__=A,S(s),T(s),C(s))})},r.translate=function(t){return arguments.length?(A={x:+t[0],y:+t[1],k:A.k},e(),r):[A.x,A.y]},r.scale=function(t){return arguments.length?(A={x:A.x,y:A.y,k:null},b(+t),e(),r):A.k},r.scaleExtent=function(t){return arguments.length?(y=null==t?Ya:[+t[0],+t[1]],r):y},r.center=function(t){return arguments.length?(c=t&&[+t[0],+t[1]],r):c},r.size=function(t){return arguments.length?(v=t&&[+t[0],+t[1]],r):v},r.duration=function(t){return arguments.length?(m=+t,r):m},r.x=function(t){return arguments.length?(f=(d=t).copy(),A={x:0,y:0,k:1},r):d},r.y=function(t){return arguments.length?(p=(g=t).copy(),A={x:0,y:0,k:1},r):g},ua.rebind(r,D,"on")};var Ua,Xa,Ya=[0,1/0];(ua.color=at).prototype.toString=function(){return this.rgb()+""};var Wa=(ua.hsl=st).prototype=new at;Wa.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,this.l/t)},Wa.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,t*this.l)},Wa.rgb=function(){return ut(this.h,this.s,this.l)};var Qa=(ua.hcl=lt).prototype=new at;Qa.brighter=function(t){return new lt(this.h,this.c,Math.min(100,this.l+Za*(arguments.length?t:1)))},Qa.darker=function(t){return new lt(this.h,this.c,Math.max(0,this.l-Za*(arguments.length?t:1)))},Qa.rgb=function(){return ct(this.h,this.c,this.l).rgb()},ua.lab=ht;var Za=18,Ka=.95047,Ja=1,ts=1.08883,es=ht.prototype=new at;es.brighter=function(t){return new ht(Math.min(100,this.l+Za*(arguments.length?t:1)),this.a,this.b)},es.darker=function(t){return new ht(Math.max(0,this.l-Za*(arguments.length?t:1)),this.a,this.b)},es.rgb=function(){return ft(this.l,this.a,this.b)};var ns=(ua.rgb=yt).prototype=new at;ns.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&e<r&&(e=r),n&&n<r&&(n=r),i&&i<r&&(i=r),new yt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new yt(r,r,r)},ns.darker=function(t){return new yt((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},ns.hsl=function(){return wt(this.r,this.g,this.b)},ns.toString=function(){return"#"+bt(this.r)+bt(this.g)+bt(this.b)};var is=ua.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});is.forEach(function(t,e){is.set(t,mt(e))}),ua.functor=kt,ua.xhr=Mt(O),ua.dsv=function(r,o){function a(t,e,n){arguments.length<3&&(n=e,e=null);var i=At(t,o,null==e?s:u(e),n);return i.row=function(t){return arguments.length?i.response(null==(e=t)?s:u(t)):e},i}function s(t){return a.parse(t.responseText)}function u(e){return function(t){return a.parse(t.responseText,e)}}function e(t){
return t.map(l).join(r)}function l(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var n=new RegExp('["'+r+"\n]"),f=r.charCodeAt(0);return a.parse=function(t,i){var r;return a.parseRows(t,function(t,e){if(r)return r(t,e-1);var n=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=i?function(t,e){return i(n(t),e)}:n})},a.parseRows=function(r,t){function e(){if(u<=l)return s;if(o)return o=!1,a;var t=l;if(34===r.charCodeAt(t)){for(var e=t;e++<u;)if(34===r.charCodeAt(e)){if(34!==r.charCodeAt(e+1))break;++e}return l=e+2,13===(n=r.charCodeAt(e+1))?(o=!0,10===r.charCodeAt(e+2)&&++l):10===n&&(o=!0),r.slice(t+1,e).replace(/""/g,'"')}for(;l<u;){var n,i=1;if(10===(n=r.charCodeAt(l++)))o=!0;else if(13===n)o=!0,10===r.charCodeAt(l)&&(++l,++i);else if(n!==f)continue;return r.slice(t,l-i)}return r.slice(t)}for(var n,o,a={},s={},i=[],u=r.length,l=0,c=0;(n=e())!==s;){for(var h=[];n!==a&&n!==s;)h.push(n),n=e();t&&null==(h=t(h,c++))||i.push(h)}return i},a.format=function(t){if(Array.isArray(t[0]))return a.formatRows(t);var n=new g,i=[];return t.forEach(function(t){for(var e in t)n.has(e)||i.push(n.add(e))}),[i.map(l).join(r)].concat(t.map(function(e){return i.map(function(t){return l(e[t])}).join(r)})).join("\n")},a.formatRows=function(t){return t.map(e).join("\n")},a},ua.csv=ua.dsv(",","text/csv"),ua.tsv=ua.dsv("\t","text/tab-separated-values");var rs,os,as,ss,us=this[y(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};ua.timer=function(){Pt.apply(this,arguments)},ua.timer.flush=function(){Dt(),Rt()},ua.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ls=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(It);ua.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=ua.round(t,Ot(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ls[8+n/3]};var cs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,hs=ua.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=ua.round(t,Ot(t,e))).toFixed(Math.max(0,Math.min(20,Ot(t*(1+1e-15),e))))}}),fs=ua.time={},ds=Date;Vt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ps.setUTCDate.apply(this._,arguments)},setDay:function(){ps.setUTCDay.apply(this._,arguments)},setFullYear:function(){ps.setUTCFullYear.apply(this._,arguments)},setHours:function(){ps.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ps.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ps.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ps.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ps.setUTCSeconds.apply(this._,arguments)},setTime:function(){ps.setTime.apply(this._,arguments)}};var ps=Date.prototype;fs.year=jt(function(t){return(t=fs.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),fs.years=fs.year.range,fs.years.utc=fs.year.utc.range,fs.day=jt(function(t){var e=new ds(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),fs.days=fs.day.range,fs.days.utc=fs.day.utc.range,fs.dayOfYear=function(t){var e=fs.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,n){n=7-n;var e=fs[t]=jt(function(t){return(t=fs.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var e=fs.year(t).getDay();return Math.floor((fs.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});fs[t+"s"]=e.range,fs[t+"s"].utc=e.utc.range,fs[t+"OfYear"]=function(t){var e=fs.year(t).getDay();return Math.floor((fs.dayOfYear(t)+(e+n)%7)/7)}}),fs.week=fs.sunday,fs.weeks=fs.sunday.range,fs.weeks.utc=fs.sunday.utc.range,fs.weekOfYear=fs.sundayOfYear;var gs={"-":"",_:" ",0:"0"},vs=/^\s*\d+/,ys=/^%/;ua.locale=function(t){return{numberFormat:Ft(t),timeFormat:Ht(t)}};var ms=ua.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ua.format=ms.numberFormat,ua.geo={},le.prototype={s:0,t:0,add:function(t){ce(t,this.t,xs),ce(xs.s,this.s,this),this.s?this.t+=xs.t:this.s=xs.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var xs=new le;ua.geo.stream=function(t,e){t&&bs.hasOwnProperty(t.type)?bs[t.type](t,e):he(t,e)};var bs={Feature:function(t,e){he(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)he(n[i].geometry,e)}},_s={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){fe(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)fe(n[i],e,0)},Polygon:function(t,e){de(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)de(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)he(n[i],e)}};ua.geo.area=function(t){return ws=0,ua.geo.stream(t,Ts),ws};var ws,Ss=new le,Ts={sphere:function(){ws+=4*Fa},point:b,lineStart:b,lineEnd:b,polygonStart:function(){Ss.reset(),Ts.lineStart=pe},polygonEnd:function(){var t=2*Ss;ws+=t<0?4*Fa+t:t,Ts.lineStart=Ts.lineEnd=Ts.point=b}};ua.geo.bounds=function(){function c(t,e){x.push(b=[f=t,p=t]),e<d&&(d=e),g<e&&(g=e)}function i(t,e){var n=ge([t*Ga,e*Ga]);if(y){var i=ye(y,n),r=ye([i[1],-i[0],0],i);be(r),r=_e(r);var o=t-v,a=0<o?1:-1,s=r[0]*Ha*a,u=180<ma(o);if(u^(a*v<s&&s<a*t)){var l=r[1]*Ha;g<l&&(g=l)}else if(u^(a*v<(s=(s+360)%360-180)&&s<a*t)){(l=-r[1]*Ha)<d&&(d=l)}else e<d&&(d=e),g<e&&(g=e);u?t<v?h(f,t)>h(f,p)&&(p=t):h(t,p)>h(f,p)&&(f=t):f<=p?(t<f&&(f=t),p<t&&(p=t)):v<t?h(f,t)>h(f,p)&&(p=t):h(t,p)>h(f,p)&&(f=t)}else c(t,e);y=n,v=t}function t(){_.point=i}function e(){b[0]=f,b[1]=p,_.point=c,y=null}function n(t,e){if(y){var n=t-v;m+=180<ma(n)?n+(0<n?360:-360):n}else a=t,s=e;Ts.point(t,e),i(t,e)}function r(){Ts.lineStart()}function o(){n(a,s),Ts.lineEnd(),ma(m)>Oa&&(f=-(p=180)),b[0]=f,b[1]=p,y=null}function h(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function l(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var f,d,p,g,v,a,s,y,m,x,b,_={point:c,lineStart:t,lineEnd:e,polygonStart:function(){_.point=n,_.lineStart=r,_.lineEnd=o,m=0,Ts.polygonStart()},polygonEnd:function(){Ts.polygonEnd(),_.point=c,_.lineStart=t,_.lineEnd=e,Ss<0?(f=-(p=180),d=-(g=90)):Oa<m?g=90:m<-Oa&&(d=-90),b[0]=f,b[1]=p}};return function(t){if(g=p=-(f=d=1/0),x=[],ua.geo.stream(t,_),o=x.length){x.sort(u);for(var e=1,n=[s=x[0]];e<o;++e)l((r=x[e])[0],s)||l(r[1],s)?(h(s[0],r[1])>h(s[0],s[1])&&(s[1]=r[1]),h(r[0],s[1])>h(s[0],s[1])&&(s[0]=r[0])):n.push(s=r);for(var i,r,o,a=-1/0,s=(e=0,n[o=n.length-1]);e<=o;s=r,++e)r=n[e],(i=h(s[1],r[0]))>a&&(a=i,f=r[0],p=s[1])}return x=b=null,f===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[f,d],[p,g]]}}(),ua.geo.centroid=function(t){Cs=ks=Ms=As=Es=Ls=Ps=Ns=Ds=Rs=Os=0,ua.geo.stream(t,Is);var e=Ds,n=Rs,i=Os,r=e*e+n*n+i*i;return r<Ia&&(e=Ls,n=Ps,i=Ns,ks<Oa&&(e=Ms,n=As,i=Es),(r=e*e+n*n+i*i)<Ia)?[NaN,NaN]:[Math.atan2(n,e)*Ha,et(i/Math.sqrt(r))*Ha]};var Cs,ks,Ms,As,Es,Ls,Ps,Ns,Ds,Rs,Os,Is={sphere:b,point:Se,lineStart:Ce,lineEnd:ke,polygonStart:function(){Is.lineStart=Me},polygonEnd:function(){Is.lineStart=Ce}},Fs=De(Ee,Fe,Ve,[-Fa,-Fa/2]),zs=1e9;ua.geo.clipExtent=function(){var e,n,i,r,o,a,s={stream:function(t){return o&&(o.valid=!1),(o=a(t)).valid=!0,o},extent:function(t){return arguments.length?(a=$e(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),o&&(o.valid=!1,o=null),s):[[e,n],[i,r]]}};return s.extent([[0,0],[960,500]])},(ua.geo.conicEqualArea=function(){return qe(Be)}).raw=Be,ua.geo.albers=function(){return ua.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ua.geo.albersUsa=function(){function r(t){var e=t[0],n=t[1];return i=null,o(e,n),i||(a(e,n),i)||s(e,n),i}var i,o,a,s,u=ua.geo.albers(),l=ua.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=ua.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(t,e){i=[t,e]}};return r.invert=function(t){var e=u.scale(),n=u.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(.12<=r&&r<.234&&-.425<=i&&i<-.214?l:.166<=r&&r<.234&&-.214<=i&&i<-.115?c:u).invert(t)},r.stream=function(t){var n=u.stream(t),i=l.stream(t),r=c.stream(t);return{point:function(t,e){n.point(t,e),i.point(t,e),r.point(t,e)},sphere:function(){n.sphere(),i.sphere(),r.sphere()},lineStart:function(){n.lineStart(),i.lineStart(),r.lineStart()},lineEnd:function(){n.lineEnd(),i.lineEnd(),r.lineEnd()},polygonStart:function(){n.polygonStart(),i.polygonStart(),r.polygonStart()},polygonEnd:function(){n.polygonEnd(),i.polygonEnd(),r.polygonEnd()}}},r.precision=function(t){return arguments.length?(u.precision(t),l.precision(t),c.precision(t),r):u.precision()},r.scale=function(t){return arguments.length?(u.scale(t),l.scale(.35*t),c.scale(t),r.translate(u.translate())):u.scale()},r.translate=function(t){if(!arguments.length)return u.translate();var e=u.scale(),n=+t[0],i=+t[1];return o=u.translate(t).clipExtent([[n-.455*e,i-.238*e],[n+.455*e,i+.238*e]]).stream(h).point,a=l.translate([n-.307*e,i+.201*e]).clipExtent([[n-.425*e+Oa,i+.12*e+Oa],[n-.214*e-Oa,i+.234*e-Oa]]).stream(h).point,s=c.translate([n-.205*e,i+.212*e]).clipExtent([[n-.214*e+Oa,i+.166*e+Oa],[n-.115*e-Oa,i+.234*e-Oa]]).stream(h).point,r},r.scale(1070)};var Vs,js,Gs,Hs,$s,qs,Bs={point:b,lineStart:b,lineEnd:b,polygonStart:function(){js=0,Bs.lineStart=Ue},polygonEnd:function(){Bs.lineStart=Bs.lineEnd=Bs.point=b,Vs+=ma(js/2)}},Us={point:Xe,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},Xs={point:Qe,lineStart:Ze,lineEnd:Ke,polygonStart:function(){Xs.lineStart=Je},polygonEnd:function(){Xs.point=Qe,Xs.lineStart=Ze,Xs.lineEnd=Ke}};ua.geo.path=function(){function e(t){return t&&("function"==typeof u&&a.pointRadius(+u.apply(this,arguments)),s&&s.valid||(s=o(a)),ua.geo.stream(t,s)),a.result()}function n(){return s=null,e}var i,r,o,a,s,u=4.5;return e.area=function(t){return Vs=0,ua.geo.stream(t,o(Bs)),Vs},e.centroid=function(t){return Ms=As=Es=Ls=Ps=Ns=Ds=Rs=Os=0,ua.geo.stream(t,o(Xs)),Os?[Ds/Os,Rs/Os]:Ns?[Ls/Ns,Ps/Ns]:Es?[Ms/Es,As/Es]:[NaN,NaN]},e.bounds=function(t){return $s=qs=-(Gs=Hs=1/0),ua.geo.stream(t,o(Us)),[[Gs,Hs],[$s,qs]]},e.projection=function(t){return arguments.length?(o=(i=t)?t.stream||nn(t):O,n()):i},e.context=function(t){return arguments.length?(a=null==(r=t)?new Ye:new tn(t),"function"!=typeof u&&a.pointRadius(u),n()):r},e.pointRadius=function(t){return arguments.length?(u="function"==typeof t?t:(a.pointRadius(+t),+t),e):u},e.projection(ua.geo.albersUsa()).context(null)},ua.geo.transform=function(i){return{stream:function(t){var e=new rn(t);for(var n in i)e[n]=i[n];return e}}},rn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ua.geo.projection=an,ua.geo.projectionMutator=sn,(ua.geo.equirectangular=function(){return an(ln)}).raw=ln.invert=ln,ua.geo.rotation=function(e){function t(t){return(t=e(t[0]*Ga,t[1]*Ga))[0]*=Ha,t[1]*=Ha,t}return e=hn(e[0]%360*Ga,e[1]*Ga,2<e.length?e[2]*Ga:0),t.invert=function(t){return(t=e.invert(t[0]*Ga,t[1]*Ga))[0]*=Ha,t[1]*=Ha,t},t},cn.invert=ln,ua.geo.circle=function(){function e(){var t="function"==typeof o?o.apply(this,arguments):o,n=hn(-t[0]*Ga,-t[1]*Ga,0).invert,i=[];return r(null,null,1,{point:function(t,e){i.push(t=n(t,e)),t[0]*=Ha,t[1]*=Ha}}),{type:"Polygon",coordinates:[i]}}var n,r,o=[0,0],i=6;return e.origin=function(t){return arguments.length?(o=t,e):o},e.angle=function(t){return arguments.length?(r=gn((n=+t)*Ga,i*Ga),e):n},e.precision=function(t){return arguments.length?(r=gn(n*Ga,(i=+t)*Ga),e):i},e.angle(90)},ua.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Ga,r=t[1]*Ga,o=e[1]*Ga,a=Math.sin(i),s=Math.cos(i),u=Math.sin(r),l=Math.cos(r),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*a)*n+(n=l*c-u*h*s)*n),u*c+l*h*s)},ua.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return ua.range(Math.ceil(o/v)*v,r,v).map(f).concat(ua.range(Math.ceil(l/y)*y,u,y).map(d)).concat(ua.range(Math.ceil(i/p)*p,n,p).filter(function(t){return ma(t%v)>Oa}).map(c)).concat(ua.range(Math.ceil(s/g)*g,a,g).filter(function(t){return ma(t%y)>Oa}).map(h))}var n,i,r,o,a,s,u,l,c,h,f,d,p=10,g=p,v=90,y=360,m=2.5;return e.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},e.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(d(u).slice(1),f(r).reverse().slice(1),d(l).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(o=+t[0][0],r=+t[1][0],l=+t[0][1],u=+t[1][1],r<o&&(t=o,o=r,r=t),u<l&&(t=l,l=u,u=t),e.precision(m)):[[o,l],[r,u]]},e.minorExtent=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],n<i&&(t=i,i=n,n=t),a<s&&(t=s,s=a,a=t),e.precision(m)):[[i,s],[n,a]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(v=+t[0],y=+t[1],e):[v,y]},e.minorStep=function(t){return arguments.length?(p=+t[0],g=+t[1],e):[p,g]},e.precision=function(t){return arguments.length?(m=+t,c=yn(s,a,90),h=mn(i,n,m),f=yn(l,u,90),d=mn(o,r,m),e):m},e.majorExtent([[-180,-90+Oa],[180,90-Oa]]).minorExtent([[-180,-80-Oa],[180,80+Oa]])},ua.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[n||r.apply(this,arguments),i||o.apply(this,arguments)]}}var n,i,r=xn,o=bn;return e.distance=function(){return ua.geo.distance(n||r.apply(this,arguments),i||o.apply(this,arguments))},e.source=function(t){return arguments.length?(n="function"==typeof(r=t)?null:t,e):r},e.target=function(t){return arguments.length?(i="function"==typeof(o=t)?null:t,e):o},e.precision=function(){return arguments.length?e:0},e},ua.geo.interpolate=function(t,e){return _n(t[0]*Ga,t[1]*Ga,e[0]*Ga,e[1]*Ga)},ua.geo.length=function(t){return Ys=0,ua.geo.stream(t,Ws),Ys};var Ys,Ws={sphere:b,point:b,lineStart:wn,lineEnd:b,polygonStart:b,polygonEnd:b},Qs=Sn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ua.geo.azimuthalEqualArea=function(){return an(Qs)}).raw=Qs;var Zs=Sn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},O);(ua.geo.azimuthalEquidistant=function(){return an(Zs)}).raw=Zs,(ua.geo.conicConformal=function(){return qe(Tn)}).raw=Tn,(ua.geo.conicEquidistant=function(){return qe(Cn)}).raw=Cn;var Ks=Sn(function(t){return 1/t},Math.atan);(ua.geo.gnomonic=function(){return an(Ks)}).raw=Ks,kn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-ja]},(ua.geo.mercator=function(){return Mn(kn)}).raw=kn;var Js=Sn(function(){return 1},Math.asin);(ua.geo.orthographic=function(){return an(Js)}).raw=Js;var tu=Sn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ua.geo.stereographic=function(){return an(tu)}).raw=tu,An.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-ja]},(ua.geo.transverseMercator=function(){var t=Mn(An),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=An,ua.geom={},ua.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,n=kt(f),i=kt(d),r=t.length,o=[],a=[];for(e=0;e<r;e++)o.push([+n.call(this,t[e],e),+i.call(this,t[e],e),e]);for(o.sort(Nn),e=0;e<r;e++)a.push([o[e][0],-o[e][1]]);var s=Pn(o),u=Pn(a),l=u[0]===s[0],c=u[u.length-1]===s[s.length-1],h=[];for(e=s.length-1;0<=e;--e)h.push(t[o[s[e]][2]]);for(e=+l;e<u.length-c;++e)h.push(t[o[u[e]][2]]);return h}var f=En,d=Ln;return arguments.length?e(t):(e.x=function(t){return arguments.length?(f=t,e):f},e.y=function(t){return arguments.length?(d=t,e):d},e)},ua.geom.polygon=function(t){return Sa(t,eu),t};var eu=ua.geom.polygon.prototype=[];eu.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},eu.centroid=function(t){var e,n,i=-1,r=this.length,o=0,a=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},eu.clip=function(t){for(var e,n,i,r,o,a,s=On(t),u=-1,l=this.length-On(this),c=this[l-1];++u<l;){for(e=t.slice(),t.length=0,r=this[u],o=e[(i=e.length-s)-1],n=-1;++n<i;)Dn(a=e[n],c,r)?(Dn(o,c,r)||t.push(Rn(o,a,c,r)),t.push(a)):Dn(o,c,r)&&t.push(Rn(o,a,c,r)),o=a;s&&t.push(t[0]),c=r}return t};var nu,iu,ru,ou,au,su=[],uu=[];$n.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Bn),e.length},ei.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ni.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ai(this._),e.P=null,(e.N=t).P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(ri(this,n),n=(t=n).U),n.C=!1,i.C=!0,oi(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(oi(this,n),n=(t=n).U),n.C=!1,i.C=!0,ri(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?ai(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,((n.L=o).U=n)!==a?(r=n.U,n.U=t.U,t=n.R,r.L=t,(n.R=a).U=n):(n.U=r,t=(r=n).R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,ri(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,oi(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,ri(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,oi(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ri(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,oi(this,r),t=this._;break}e.C=!0,r=(t=r).U}while(!t.C);t&&(t.C=!1)}}},ua.geom.voronoi=function(t){function e(r){var o=new Array(r.length),a=c[0][0],s=c[0][1],u=c[1][0],l=c[1][1];return si(n(r),c).cells.forEach(function(t,e){var n=t.edges,i=t.site;(o[e]=n.length?n.map(function(t){var e=t.start();return[e.x,e.y]}):i.x>=a&&i.x<=u&&i.y>=s&&i.y<=l?[[a,l],[u,l],[u,s],[a,s]]:[]).point=r[e]}),o}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Oa)*Oa,y:Math.round(a(t,e)/Oa)*Oa,i:e}})}var i=En,r=Ln,o=i,a=r,c=lu;return t?e(t):(e.links=function(e){return si(n(e)).edges.filter(function(t){return t.l&&t.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},e.triangles=function(l){var c=[];return si(n(l)).cells.forEach(function(t,e){for(var n,i=t.site,r=t.edges.sort(Bn),o=-1,a=r.length,s=r[a-1].edge,u=s.l===i?s.r:s.l;++o<a;)s,n=u,u=(s=r[o].edge).l===i?s.r:s.l,e<n.i&&e<u.i&&li(i,n,u)<0&&c.push([l[e],l[n.i],l[u.i]])}),c},e.x=function(t){return arguments.length?(o=kt(i=t),e):i},e.y=function(t){return arguments.length?(a=kt(r=t),e):r},e.clipExtent=function(t){return arguments.length?(c=null==t?lu:t,e):c===lu?null:c},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):c===lu?null:c&&c[1]},e)};var lu=[[-1e6,-1e6],[1e6,1e6]];ua.geom.delaunay=function(t){return ua.geom.voronoi().triangles(t)},ua.geom.quadtree=function(t,x,b,_,w){function e(t){function d(t,e,n,i,r,o,a,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var u=t.x,l=t.y;if(null!=u)if(ma(u-n)+ma(l-i)<.01)h(t,e,n,i,r,o,a,s);else{var c=t.point;t.x=t.y=t.point=null,h(t,c,u,l,r,o,a,s),h(t,e,n,i,r,o,a,s)}else t.x=n,t.y=i,t.point=e}else h(t,e,n,i,r,o,a,s)}function h(t,e,n,i,r,o,a,s){var u=.5*(r+a),l=.5*(o+s),c=u<=n,h=l<=i,f=h<<1|c;t.leaf=!1,c?r=u:a=u,h?o=l:s=l,d(t=t.nodes[f]||(t.nodes[f]=fi()),e,n,i,r,o,a,s)}var e,n,i,r,o,a,s,u,l,c=kt(T),f=kt(C);if(null!=x)a=x,s=b,u=_,l=w;else if(u=l=-(a=s=1/0),n=[],i=[],o=t.length,S)for(r=0;r<o;++r)(e=t[r]).x<a&&(a=e.x),e.y<s&&(s=e.y),e.x>u&&(u=e.x),e.y>l&&(l=e.y),n.push(e.x),i.push(e.y);else for(r=0;r<o;++r){var p=+c(e=t[r],r),g=+f(e,r);p<a&&(a=p),g<s&&(s=g),u<p&&(u=p),l<g&&(l=g),n.push(p),i.push(g)}var v=u-a,y=l-s;y<v?l=s+v:u=a+y;var m=fi();if(m.add=function(t){d(m,t,+c(t,++r),+f(t,r),a,s,u,l)},m.visit=function(t){di(t,m,a,s,u,l)},m.find=function(t){return pi(m,t[0],t[1],a,s,u,l)},r=-1,null==x){for(;++r<o;)d(m,t[r],n[r],i[r],a,s,u,l);--r}else t.forEach(m.add);return n=i=t=e=null,m}var S,T=En,C=Ln;return(S=arguments.length)?(T=ci,C=hi,3===S&&(w=b,_=x,b=x=0),e(t)):(e.x=function(t){return arguments.length?(T=t,e):T},e.y=function(t){return arguments.length?(C=t,e):C},e.extent=function(t){return arguments.length?(null==t?x=b=_=w=null:(x=+t[0][0],b=+t[0][1],_=+t[1][0],w=+t[1][1]),e):null==x?null:[[x,b],[_,w]]},e.size=function(t){return arguments.length?(null==t?x=b=_=w=null:(x=b=0,_=+t[0],w=+t[1]),e):null==x?null:[_-x,w-b]},e)},ua.interpolateRgb=gi,ua.interpolateObject=vi,ua.interpolateNumber=yi,ua.interpolateString=mi;var cu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hu=new RegExp(cu.source,"g");ua.interpolate=xi,ua.interpolators=[function(t,e){var n=typeof e;return("string"===n?is.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?gi:mi:e instanceof at?gi:Array.isArray(e)?bi:"object"===n&&isNaN(e)?vi:yi)(t,e)}],ua.interpolateArray=bi;var fu=function(){return O},du=ua.map({linear:fu,poly:Mi,quad:function(){return Ti},cubic:function(){return Ci},sin:function(){return Ai},exp:function(){return Ei},circle:function(){return Li},elastic:Pi,back:Ni,bounce:function(){return Di}}),pu=ua.map({"in":O,out:wi,"in-out":Si,"out-in":function(t){return Si(wi(t))}});ua.ease=function(t){var e=t.indexOf("-"),n=0<=e?t.slice(0,e):t,i=0<=e?t.slice(e+1):"in";return n=du.get(n)||fu,_i((i=pu.get(i)||O)(n.apply(null,la.call(arguments,1))))},ua.interpolateHcl=Ri,ua.interpolateHsl=Oi,ua.interpolateLab=Ii,ua.interpolateRound=Fi,ua.transform=function(t){var n=ha.createElementNS(ua.ns.prefix.svg,"g");return(ua.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new zi(e?e.matrix:gu)})(t)},zi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var gu={a:1,b:0,c:0,d:1,e:0,f:0};ua.interpolateTransform=Xi,ua.layout={},ua.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(Qi(t[n]));return e}},ua.layout.chord=function(){function t(){var t,e,n,i,r,o={},a=[],s=ua.range(b),u=[];for(y=[],m=[],t=0,i=-1;++i<b;){for(e=0,r=-1;++r<b;)e+=x[i][r];a.push(e),u.push(ua.range(b)),t+=e}for(_&&s.sort(function(t,e){return _(a[t],a[e])}),w&&u.forEach(function(t,n){t.sort(function(t,e){return w(x[n][t],x[n][e])})}),t=(za-T*b)/t,e=0,i=-1;++i<b;){for(n=e,r=-1;++r<b;){var l=s[i],c=u[l][r],h=x[l][c],f=e,d=e+=h*t;o[l+"-"+c]={index:l,subindex:c,startAngle:f,endAngle:d,value:h}}m[l]={index:l,startAngle:n,endAngle:e,value:a[l]},e+=T}for(i=-1;++i<b;)for(r=i-1;++r<b;){var p=o[i+"-"+r],g=o[r+"-"+i];(p.value||g.value)&&y.push(p.value<g.value?{source:g,target:p}:{source:p,target:g})}S&&v()}function v(){y.sort(function(t,e){return S((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var y,m,x,b,_,w,S,e={},T=0;return e.matrix=function(t){return arguments.length?(b=(x=t)&&x.length,y=m=null,e):x},e.padding=function(t){return arguments.length?(T=t,y=m=null,e):T},e.sortGroups=function(t){return arguments.length?(_=t,y=m=null,e):_},e.sortSubgroups=function(t){return arguments.length?(w=t,y=null,e):w},e.sortChords=function(t){return arguments.length?(S=t,y&&v(),e):S},e.chords=function(){return y||t(),y},e.groups=function(){return m||t(),m},e},ua.layout.force=function(){function h(l){return function(t,e,n,i){if(t.point!==l){var r=t.cx-l.x,o=t.cy-l.y,a=i-e,s=r*r+o*o;if(a*a/w<s){if(s<c){var u=t.charge/s;l.px-=r*u,l.py-=o*u}return!0}if(t.point&&s&&s<c){u=t.pointCharge/s;l.px-=r*u,l.py-=o*u}}return!t.charge}}function t(t){t.px=ua.event.x,t.py=ua.event.y,r.resume()}var f,e,d,p,g,v,r={},y=ua.dispatch("start","tick","end"),m=[1,1],x=.9,o=vu,a=yu,b=-30,c=mu,_=.1,w=.64,S=[],T=[];return r.tick=function(){if((d*=.99)<.005)return f=null,y.end({type:"end",alpha:d=0}),!0;var t,e,n,i,r,o,a,s,u,l=S.length,c=T.length;for(e=0;e<c;++e)i=(n=T[e]).source,(o=(s=(r=n.target).x-i.x)*s+(u=r.y-i.y)*u)&&(s*=o=d*g[e]*((o=Math.sqrt(o))-p[e])/o,u*=o,r.x-=s*(a=i.weight+r.weight?i.weight/(i.weight+r.weight):.5),r.y-=u*a,i.x+=s*(a=1-a),i.y+=u*a);if((a=d*_)&&(s=m[0]/2,u=m[1]/2,e=-1,a))for(;++e<l;)(n=S[e]).x+=(s-n.x)*a,n.y+=(u-n.y)*a;if(b)for(ir(t=ua.geom.quadtree(S),d,v),e=-1;++e<l;)(n=S[e]).fixed||t.visit(h(n));for(e=-1;++e<l;)(n=S[e]).fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*x,n.y-=(n.py-(n.py=n.y))*x);y.tick({type:"tick",alpha:d})},r.nodes=function(t){return arguments.length?(S=t,r):S},r.links=function(t){return arguments.length?(T=t,r):T},r.size=function(t){return arguments.length?(m=t,r):m},r.linkDistance=function(t){return arguments.length?(o="function"==typeof t?t:+t,r):o},r.distance=r.linkDistance,r.linkStrength=function(t){return arguments.length?(a="function"==typeof t?t:+t,r):a},r.friction=function(t){return arguments.length?(x=+t,r):x},r.charge=function(t){return arguments.length?(b="function"==typeof t?t:+t,r):b},r.chargeDistance=function(t){return arguments.length?(c=t*t,r):Math.sqrt(c)},r.gravity=function(t){return arguments.length?(_=+t,r):_},r.theta=function(t){return arguments.length?(w=t*t,r):Math.sqrt(w)},r.alpha=function(t){return arguments.length?(t=+t,d?0<t?d=t:(f.c=null,f.t=NaN,f=null,y.end({type:"end",alpha:d=0})):0<t&&(y.start({type:"start",alpha:d=t}),f=Pt(r.tick)),r):d},r.start=function(){function t(t,e){if(!u){for(u=new Array(l),o=0;o<l;++o)u[o]=[];for(o=0;o<c;++o){var n=T[o];u[n.source.index].push(n.target),u[n.target.index].push(n.source)}}for(var i,r=u[s],o=-1,a=r.length;++o<a;)if(!isNaN(i=r[o][t]))return i;return Math.random()*e}var s,u,e,l=S.length,c=T.length,n=m[0],i=m[1];for(s=0;s<l;++s)(e=S[s]).index=s,e.weight=0;for(s=0;s<c;++s)"number"==typeof(e=T[s]).source&&(e.source=S[e.source]),"number"==typeof e.target&&(e.target=S[e.target]),++e.source.weight,++e.target.weight;for(s=0;s<l;++s)e=S[s],isNaN(e.x)&&(e.x=t("x",n)),isNaN(e.y)&&(e.y=t("y",i)),isNaN(e.px)&&(e.px=e.x),isNaN(e.py)&&(e.py=e.y);if(p=[],"function"==typeof o)for(s=0;s<c;++s)p[s]=+o.call(this,T[s],s);else for(s=0;s<c;++s)p[s]=o;if(g=[],"function"==typeof a)for(s=0;s<c;++s)g[s]=+a.call(this,T[s],s);else for(s=0;s<c;++s)g[s]=a;if(v=[],"function"==typeof b)for(s=0;s<l;++s)v[s]=+b.call(this,S[s],s);else for(s=0;s<l;++s)v[s]=b;return r.resume()},r.resume=function(){return r.alpha(.1)},r.stop=function(){return r.alpha(0)},r.drag=function(){return e||(e=ua.behavior.drag().origin(O).on("dragstart.force",Ji).on("drag.force",t).on("dragend.force",tr)),arguments.length?void this.on("mouseover.force",er).on("mouseout.force",nr).call(e):e},ua.rebind(r,y,"on")};var vu=20,yu=1,mu=1/0;ua.layout.hierarchy=function(){function s(t){var e,n=[t],i=[];for(t.depth=0;null!=(e=n.pop());)if(i.push(e),(o=l.call(s,e,e.depth))&&(r=o.length)){for(var r,o,a;0<=--r;)n.push(a=o[r]),a.parent=e,a.depth=e.depth+1;c&&(e.value=0),e.children=o}else c&&(e.value=+c.call(s,e,e.depth)||0),delete e.children;return ar(t,function(t){var e,n;u&&(e=t.children)&&e.sort(u),c&&(n=t.parent)&&(n.value+=t.value)}),i}var u=lr,l=sr,c=ur;return s.sort=function(t){return arguments.length?(u=t,s):u},s.children=function(t){return arguments.length?(l=t,s):l},s.value=function(t){return arguments.length?(c=t,s):c},s.revalue=function(t){return c&&(or(t,function(t){t.children&&(t.value=0)}),ar(t,function(t){var e;t.children||(t.value=+c.call(s,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},s},ua.layout.partition=function(){function l(t,e,n,i){var r=t.children;if(t.x=e,t.y=t.depth*i,t.dx=n,t.dy=i,r&&(o=r.length)){var o,a,s,u=-1;for(n=t.value?n/t.value:0;++u<o;)l(a=r[u],e,s=a.value*n,i),e+=s}}function o(t){var e=t.children,n=0;if(e&&(i=e.length))for(var i,r=-1;++r<i;)n=Math.max(n,o(e[r]));return 1+n}function e(t,e){var n=i.call(this,t,e);return l(n[0],0,r[0],r[1]/o(n[0])),n}var i=ua.layout.hierarchy(),r=[1,1];return e.size=function(t){return arguments.length?(r=t,e):r},rr(e,i)},ua.layout.pie=function(){function f(n){var e,t=n.length,i=n.map(function(t,e){return+d.call(f,t,e)}),r=+("function"==typeof g?g.apply(this,arguments):g),o=("function"==typeof v?v.apply(this,arguments):v)-r,a=Math.min(Math.abs(o)/t,+("function"==typeof y?y.apply(this,arguments):y)),s=a*(o<0?-1:1),u=ua.sum(i),l=u?(o-t*s)/u:0,c=ua.range(t),h=[];return null!=p&&c.sort(p===xu?function(t,e){return i[e]-i[t]}:function(t,e){return p(n[t],n[e])}),c.forEach(function(t){h[t]={data:n[t],value:e=i[t],startAngle:r,endAngle:r+=e*l+s,padAngle:a}}),h}var d=Number,p=xu,g=0,v=za,y=0;return f.value=function(t){return arguments.length?(d=t,f):d},f.sort=function(t){return arguments.length?(p=t,f):p},f.startAngle=function(t){return arguments.length?(g=t,f):g},f.endAngle=function(t){return arguments.length?(v=t,f):v},f.padAngle=function(t){return arguments.length?(y=t,f):y},f};var xu={};ua.layout.stack=function(){function h(t,e){if(!(o=t.length))return t;var n=t.map(function(t,e){return f.call(h,t,e)}),i=n.map(function(t){return t.map(function(t,e){return[v.call(h,t,e),y.call(h,t,e)]})}),r=d.call(h,i,e);n=ua.permute(n,r),i=ua.permute(i,r);var o,a,s,u,l=p.call(h,i,e),c=n[0].length;for(s=0;s<c;++s)for(g.call(h,n[0][s],u=l[s],i[0][s][1]),a=1;a<o;++a)g.call(h,n[a][s],u+=i[a-1][s][1],i[a][s][1]);return t}var f=O,d=pr,p=gr,g=dr,v=hr,y=fr;return h.values=function(t){return arguments.length?(f=t,h):f},h.order=function(t){return arguments.length?(d="function"==typeof t?t:bu.get(t)||pr,h):d},h.offset=function(t){return arguments.length?(p="function"==typeof t?t:_u.get(t)||gr,h):p},h.x=function(t){return arguments.length?(v=t,h):v},h.y=function(t){return arguments.length?(y=t,h):y},h.out=function(t){return arguments.length?(g=t,h):g},h};var bu=ua.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(vr),o=t.map(yr),a=ua.range(i).sort(function(t,e){return r[t]-r[e]}),s=0,u=0,l=[],c=[];for(e=0;e<i;++e)n=a[e],s<u?(s+=o[n],l.push(n)):(u+=o[n],c.push(n));return c.reverse().concat(l)},reverse:function(t){return ua.range(t.length).reverse()},"default":pr}),_u=ua.map({silhouette:function(t){var e,n,i,r=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;n<o;++n){for(i=e=0;e<r;e++)i+=t[e][n][1];s<i&&(s=i),a.push(i)}for(n=0;n<o;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,i,r,o,a,s,u,l,c=t.length,h=t[0],f=h.length,d=[];for(d[0]=u=l=0,n=1;n<f;++n){for(r=e=0;e<c;++e)r+=t[e][n][1];for(o=e=0,s=h[n][0]-h[n-1][0];e<c;++e){for(i=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);i<e;++i)a+=(t[i][n][1]-t[i][n-1][1])/s;o+=a*t[e][n][1]}d[n]=u-=r?o/r*s:0,u<l&&(l=u)}for(n=0;n<f;++n)d[n]-=l;return d},expand:function(t){var e,n,i,r=t.length,o=t[0].length,a=1/r,s=[];for(n=0;n<o;++n){for(i=e=0;e<r;e++)i+=t[e][n][1];if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:gr});ua.layout.histogram=function(){function n(t,e){for(var n,i,r=[],o=t.map(f,this),a=d.call(this,o,e),s=p.call(this,a,o,e),u=(e=-1,
o.length),l=s.length-1,c=h?1:1/u;++e<l;)(n=r[e]=[]).dx=s[e+1]-(n.x=s[e]),n.y=0;if(0<l)for(e=-1;++e<u;)(i=o[e])>=a[0]&&i<=a[1]&&((n=r[ua.bisect(s,i,1,l)-1]).y+=c,n.push(t[e]));return r}var h=!0,f=Number,d=_r,p=xr;return n.value=function(t){return arguments.length?(f=t,n):f},n.range=function(t){return arguments.length?(d=kt(t),n):d},n.bins=function(e){return arguments.length?(p="number"==typeof e?function(t){return br(t,e)}:kt(e),n):p},n.frequency=function(t){return arguments.length?(h=!!t,n):h},n},ua.layout.pack=function(){function e(t,e){var n=l.call(this,t,e),i=n[0],r=h[0],o=h[1],a=null==u?Math.sqrt:"function"==typeof u?u:function(){return u};if(i.x=i.y=0,ar(i,function(t){t.r=+a(t.value)}),ar(i,kr),c){var s=c*(u?1:Math.max(2*i.r/r,2*i.r/o))/2;ar(i,function(t){t.r+=s}),ar(i,kr),ar(i,function(t){t.r-=s})}return Er(i,r/2,o/2,u?1:1/Math.max(2*i.r/r,2*i.r/o)),n}var u,l=ua.layout.hierarchy().sort(wr),c=0,h=[1,1];return e.size=function(t){return arguments.length?(h=t,e):h},e.radius=function(t){return arguments.length?(u=null==t||"function"==typeof t?t:+t,e):u},e.padding=function(t){return arguments.length?(c=+t,e):c},rr(e,l)},ua.layout.tree=function(){function e(t,e){var n=g.call(this,t,e),i=n[0],r=h(i);if(ar(r,f),r.parent.m=-r.z,or(r,d),m)or(i,p);else{var o=i,a=i,s=i;or(i,function(t){t.x<o.x&&(o=t),t.x>a.x&&(a=t),t.depth>s.depth&&(s=t)});var u=v(o,a)/2-o.x,l=y[0]/(a.x+v(a,o)/2+u),c=y[1]/(s.depth||1);or(i,function(t){t.x=(t.x+u)*l,t.y=t.depth*c})}return n}function h(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var r,o=e.children,a=0,s=o.length;a<s;++a)i.push((o[a]=r={_:o[a],parent:e,children:(r=o[a].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=r);return n.children[0]}function f(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){Or(t);var r=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+v(t._,i._),t.m=t.z-r):t.z=r}else i&&(t.z=i.z+v(t._,i._));t.parent.A=o(t,i,t.parent.A||n[0])}function d(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function o(t,e,n){if(e){for(var i,r=t,o=t,a=e,s=r.parent.children[0],u=r.m,l=o.m,c=a.m,h=s.m;a=Dr(a),r=Nr(r),a&&r;)s=Nr(s),(o=Dr(o)).a=t,0<(i=a.z+c-r.z-u+v(a._,r._))&&(Rr(Ir(a,t,n),t,i),u+=i,l+=i),c+=a.m,u+=r.m,h+=s.m,l+=o.m;a&&!Dr(o)&&(o.t=a,o.m+=c-l),r&&!Nr(s)&&(s.t=r,s.m+=u-h,n=t)}return n}function p(t){t.x*=y[0],t.y=t.depth*y[1]}var g=ua.layout.hierarchy().sort(null).value(null),v=Pr,y=[1,1],m=null;return e.separation=function(t){return arguments.length?(v=t,e):v},e.size=function(t){return arguments.length?(m=null==(y=t)?p:null,e):m?null:y},e.nodeSize=function(t){return arguments.length?(m=null==(y=t)?null:p,e):m?y:null},rr(e,g)},ua.layout.cluster=function(){function e(t,e){var n,i=c.call(this,t,e),r=i[0],o=0;ar(r,function(t){var e=t.children;e&&e.length?(t.x=zr(e),t.y=Fr(e)):(t.x=n?o+=h(t,n):0,t.y=0,n=t)});var a=Vr(r),s=jr(r),u=a.x-h(a,s)/2,l=s.x+h(s,a)/2;return ar(r,d?function(t){t.x=(t.x-r.x)*f[0],t.y=(r.y-t.y)*f[1]}:function(t){t.x=(t.x-u)/(l-u)*f[0],t.y=(1-(r.y?t.y/r.y:1))*f[1]}),i}var c=ua.layout.hierarchy().sort(null).value(null),h=Pr,f=[1,1],d=!1;return e.separation=function(t){return arguments.length?(h=t,e):h},e.size=function(t){return arguments.length?(d=null==(f=t),e):d?null:f},e.nodeSize=function(t){return arguments.length?(d=null!=(f=t),e):d?f:null},rr(e,c)},ua.layout.treemap=function(){function c(t,e){for(var n,i,r=-1,o=t.length;++r<o;)i=(n=t[r]).value*(e<0?0:e),n.area=isNaN(i)||i<=0?0:i}function h(t){var e=t.children;if(e&&e.length){var n,i,r,o=g(t),a=[],s=e.slice(),u=1/0,l="slice"===v?o.dx:"dice"===v?o.dy:"slice-dice"===v?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(c(s,o.dx*o.dy/t.value),a.area=0;0<(r=s.length);)a.push(n=s[r-1]),a.area+=n.area,"squarify"!==v||(i=f(a,l))<=u?(s.pop(),u=i):(a.area-=a.pop().area,d(a,l,o,!1),l=Math.min(o.dx,o.dy),a.length=a.area=0,u=1/0);a.length&&(d(a,l,o,!0),a.length=a.area=0),e.forEach(h)}}function a(t){var e=t.children;if(e&&e.length){var n,i=g(t),r=e.slice(),o=[];for(c(r,i.dx*i.dy/t.value),o.area=0;n=r.pop();)o.push(n),o.area+=n.area,null!=n.z&&(d(o,n.z?i.dx:i.dy,i,!r.length),o.length=o.area=0);e.forEach(a)}}function f(t,e){for(var n,i=t.area,r=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),r<n&&(r=n));return e*=e,(i*=i)?Math.max(e*r*y/i,i/(e*o*y)):1/0}function d(t,e,n,i){var r,o=-1,a=t.length,s=n.x,u=n.y,l=e?p(t.area/e):0;if(e==n.dx){for((i||l>n.dy)&&(l=n.dy);++o<a;)(r=t[o]).x=s,r.y=u,r.dy=l,s+=r.dx=Math.min(n.x+n.dx-s,l?p(r.area/l):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=l,n.dy-=l}else{for((i||l>n.dx)&&(l=n.dx);++o<a;)(r=t[o]).x=s,r.y=u,r.dx=l,u+=r.dy=Math.min(n.y+n.dy-u,l?p(r.area/l):0);r.z=!1,r.dy+=n.y+n.dy-u,n.x+=l,n.dx-=l}}function r(t){var e=i||o(t),n=e[0];return n.x=n.y=0,n.value?(n.dx=s[0],n.dy=s[1]):n.dx=n.dy=0,i&&o.revalue(n),c([n],n.dx*n.dy/n.value),(i?a:h)(n),l&&(i=e),e}var i,o=ua.layout.hierarchy(),p=Math.round,s=[1,1],u=null,g=Gr,l=!1,v="squarify",y=.5*(1+Math.sqrt(5));return r.size=function(t){return arguments.length?(s=t,r):s},r.padding=function(n){function t(t){var e=n.call(r,t,t.depth);return null==e?Gr(t):Hr(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Hr(t,n)}return arguments.length?(g=null==(u=n)?Gr:"function"==(i=typeof n)?t:("number"===i&&(n=[n,n,n,n]),e),r):u;var i},r.round=function(t){return arguments.length?(p=t?Math.round:Number,r):p!=Number},r.sticky=function(t){return arguments.length?(l=t,i=null,r):l},r.ratio=function(t){return arguments.length?(y=t,r):y},r.mode=function(t){return arguments.length?(v=t+"",r):v},rr(r,o)},ua.random={normal:function(i,r){var t=arguments.length;return t<2&&(r=1),t<1&&(i=0),function(){for(var t,e,n;!(n=(t=2*Math.random()-1)*t+(e=2*Math.random()-1)*e)||1<n;);return i+r*t*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var t=ua.random.normal.apply(ua,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=ua.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}},ua.scale={};var wu={floor:O,ceil:O};ua.scale.linear=function(){return Wr([0,1],[0,1],xi,!1)};var Su={s:1,g:1,p:1,r:1,e:1};ua.scale.log=function(){return io(ua.scale.linear().domain([0,1]),10,!0,[1,10])};var Tu=ua.format(".0e"),Cu={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};ua.scale.pow=function(){return ro(ua.scale.linear(),1,[0,1])},ua.scale.sqrt=function(){return ua.scale.pow().exponent(.5)},ua.scale.ordinal=function(){return ao([],{t:"range",a:[[]]})},ua.scale.category10=function(){return ua.scale.ordinal().range(ku)},ua.scale.category20=function(){return ua.scale.ordinal().range(Mu)},ua.scale.category20b=function(){return ua.scale.ordinal().range(Au)},ua.scale.category20c=function(){return ua.scale.ordinal().range(Eu)};var ku=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(xt),Mu=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(xt),Au=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(xt),Eu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(xt);ua.scale.quantile=function(){return so([],[])},ua.scale.quantize=function(){return uo(0,1,[0,1])},ua.scale.threshold=function(){return lo([.5],[0,1])},ua.scale.identity=function(){return co([0,1])},ua.svg={},ua.svg.arc=function(){function e(){var t=Math.max(0,+V.apply(this,arguments)),e=Math.max(0,+j.apply(this,arguments)),n=$.apply(this,arguments)-ja,i=q.apply(this,arguments)-ja,r=Math.abs(i-n),o=i<n?0:1;if(e<t&&(a=e,e=t,t=a),Va<=r)return z(e,o)+(t?z(t,1-o):"")+"Z";var a,s,u,l,c,h,f,d,p,g,v,y,m=0,x=0,b=[];if((l=(+B.apply(this,arguments)||0)/2)&&(u=H===Lu?Math.sqrt(t*t+e*e):+H.apply(this,arguments),o||(x*=-1),e&&(x=et(u/e*Math.sin(l))),t&&(m=et(u/t*Math.sin(l)))),e){c=e*Math.cos(n+x),h=e*Math.sin(n+x),f=e*Math.cos(i-x),d=e*Math.sin(i-x);var _=Math.abs(i-n-2*x)<=Fa?0:1;if(x&&mo(c,h,f,d)===o^_){var w=(n+i)/2;c=e*Math.cos(w),h=e*Math.sin(w),f=d=null}}else c=h=0;if(t){p=t*Math.cos(i-m),g=t*Math.sin(i-m),v=t*Math.cos(n+m),y=t*Math.sin(n+m);var S=Math.abs(n-i+2*m)<=Fa?0:1;if(m&&mo(p,g,v,y)===1-o^S){var T=(n+i)/2;p=t*Math.cos(T),g=t*Math.sin(T),v=y=null}}else p=g=0;if(Oa<r&&.001<(a=Math.min(Math.abs(e-t)/2,+G.apply(this,arguments)))){s=t<e^o?0:1;var C=a,k=a;if(r<Fa){var M=null==v?[p,g]:null==f?[c,h]:Rn([c,h],[v,y],[f,d],[p,g]),A=c-M[0],E=h-M[1],L=f-M[0],P=d-M[1],N=1/Math.sin(Math.acos((A*L+E*P)/(Math.sqrt(A*A+E*E)*Math.sqrt(L*L+P*P)))/2),D=Math.sqrt(M[0]*M[0]+M[1]*M[1]);k=Math.min(a,(t-D)/(N-1)),C=Math.min(a,(e-D)/(N+1))}if(null!=f){var R=xo(null==v?[p,g]:[v,y],[c,h],e,C,o),O=xo([f,d],[p,g],e,C,o);a===C?b.push("M",R[0],"A",C,",",C," 0 0,",s," ",R[1],"A",e,",",e," 0 ",1-o^mo(R[1][0],R[1][1],O[1][0],O[1][1]),",",o," ",O[1],"A",C,",",C," 0 0,",s," ",O[0]):b.push("M",R[0],"A",C,",",C," 0 1,",s," ",O[0])}else b.push("M",c,",",h);if(null!=v){var I=xo([c,h],[v,y],t,-k,o),F=xo([p,g],null==f?[c,h]:[f,d],t,-k,o);a===k?b.push("L",F[0],"A",k,",",k," 0 0,",s," ",F[1],"A",t,",",t," 0 ",o^mo(F[1][0],F[1][1],I[1][0],I[1][1]),",",1-o," ",I[1],"A",k,",",k," 0 0,",s," ",I[0]):b.push("L",F[0],"A",k,",",k," 0 0,",s," ",I[0])}else b.push("L",p,",",g)}else b.push("M",c,",",h),null!=f&&b.push("A",e,",",e," 0 ",_,",",o," ",f,",",d),b.push("L",p,",",g),null!=v&&b.push("A",t,",",t," 0 ",S,",",1-o," ",v,",",y);return b.push("Z"),b.join("")}function z(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var V=fo,j=po,G=ho,H=Lu,$=go,q=vo,B=yo;return e.innerRadius=function(t){return arguments.length?(V=kt(t),e):V},e.outerRadius=function(t){return arguments.length?(j=kt(t),e):j},e.cornerRadius=function(t){return arguments.length?(G=kt(t),e):G},e.padRadius=function(t){return arguments.length?(H=t==Lu?Lu:kt(t),e):H},e.startAngle=function(t){return arguments.length?($=kt(t),e):$},e.endAngle=function(t){return arguments.length?(q=kt(t),e):q},e.padAngle=function(t){return arguments.length?(B=kt(t),e):B},e.centroid=function(){var t=(+V.apply(this,arguments)+ +j.apply(this,arguments))/2,e=(+$.apply(this,arguments)+ +q.apply(this,arguments))/2-ja;return[Math.cos(e)*t,Math.sin(e)*t]},e};var Lu="auto";ua.svg.line=function(){return bo(O)};var Pu=ua.map({linear:_o,"linear-closed":wo,step:So,"step-before":To,"step-after":Co,basis:Po,"basis-open":No,"basis-closed":Do,bundle:Ro,cardinal:Ao,"cardinal-open":ko,"cardinal-closed":Mo,monotone:jo});Pu.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Nu=[0,2/3,1/3,0],Du=[0,1/3,2/3,0],Ru=[0,1/6,2/3,1/6];ua.svg.line.radial=function(){var t=bo(Go);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},(To.reverse=Co).reverse=To,ua.svg.area=function(){return Ho(O)},ua.svg.area.radial=function(){var t=Ho(Go);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ua.svg.chord=function(){function e(t,e){var n=r(this,u,t,e),i=r(this,l,t,e);return"M"+n.p0+a(n.r,n.p1,n.a1-n.a0)+(o(n,i)?s(n.r,n.p1,n.r,n.p0):s(n.r,n.p1,i.r,i.p0)+a(i.r,i.p1,i.a1-i.a0)+s(i.r,i.p1,n.r,n.p0))+"Z"}function r(t,e,n,i){var r=e.call(t,n,i),o=c.call(t,r,i),a=h.call(t,r,i)-ja,s=f.call(t,r,i)-ja;return{r:o,a0:a,a1:s,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(s),o*Math.sin(s)]}}function o(t,e){return t.a0==e.a0&&t.a1==e.a1}function a(t,e,n){return"A"+t+","+t+" 0 "+ +(Fa<n)+",1 "+e}function s(t,e,n,i){return"Q 0,0 "+i}var u=xn,l=bn,c=$o,h=go,f=vo;return e.radius=function(t){return arguments.length?(c=kt(t),e):c},e.source=function(t){return arguments.length?(u=kt(t),e):u},e.target=function(t){return arguments.length?(l=kt(t),e):l},e.startAngle=function(t){return arguments.length?(h=kt(t),e):h},e.endAngle=function(t){return arguments.length?(f=kt(t),e):f},e},ua.svg.diagonal=function(){function e(t,e){var n=a.call(this,t,e),i=s.call(this,t,e),r=(n.y+i.y)/2,o=[n,{x:n.x,y:r},{x:i.x,y:r},i];return"M"+(o=o.map(u))[0]+"C"+o[1]+" "+o[2]+" "+o[3]}var a=xn,s=bn,u=qo;return e.source=function(t){return arguments.length?(a=kt(t),e):a},e.target=function(t){return arguments.length?(s=kt(t),e):s},e.projection=function(t){return arguments.length?(u=t,e):u},e},ua.svg.diagonal.radial=function(){var t=ua.svg.diagonal(),e=qo,n=t.projection;return t.projection=function(t){return arguments.length?n(Bo(e=t)):e},t},ua.svg.symbol=function(){function e(t,e){return(Ou.get(n.call(this,t,e))||Yo)(i.call(this,t,e))}var n=Xo,i=Uo;return e.type=function(t){return arguments.length?(n=kt(t),e):n},e.size=function(t){return arguments.length?(i=kt(t),e):i},e};var Ou=ua.map({circle:Yo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Fu)),n=e*Fu;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Iu),n=e*Iu/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Iu),n=e*Iu/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});ua.svg.symbolTypes=Ou.keys();var Iu=Math.sqrt(3),Fu=Math.tan(30*Ga);Ma.transition=function(t){for(var e,n,i=zu||++Hu,r=Jo(t),o=[],a=Vu||{time:Date.now(),ease:ki,delay:0,duration:250},s=-1,u=this.length;++s<u;){o.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(n=l[c])&&ta(n,c,r,i,a),e.push(n)}return Qo(o,r,i)},Ma.interrupt=function(t){return this.each(null==t?ju:Wo(Jo(t)))};var zu,Vu,ju=Wo(Jo()),Gu=[],Hu=0;Gu.call=Ma.call,Gu.empty=Ma.empty,Gu.node=Ma.node,Gu.size=Ma.size,ua.transition=function(t,e){return t&&t.transition?zu?t.transition(e):t:ua.selection().transition(t)},(ua.transition.prototype=Gu).select=function(t){var e,n,i,r=this.id,o=this.namespace,a=[];t=T(t);for(var s=-1,u=this.length;++s<u;){a.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(i=l[c])&&(n=t.call(i,i.__data__,c,s))?("__data__"in i&&(n.__data__=i.__data__),ta(n,c,o,r,i[o][r]),e.push(n)):e.push(null)}return Qo(a,o,r)},Gu.selectAll=function(t){var e,n,i,r,o,a=this.id,s=this.namespace,u=[];t=C(t);for(var l=-1,c=this.length;++l<c;)for(var h=this[l],f=-1,d=h.length;++f<d;)if(i=h[f]){o=i[s][a],n=t.call(i,i.__data__,f,l),u.push(e=[]);for(var p=-1,g=n.length;++p<g;)(r=n[p])&&ta(r,p,s,a,o),e.push(r)}return Qo(u,s,a)},Gu.filter=function(t){var e,n,i=[];"function"!=typeof t&&(t=G(t));for(var r=0,o=this.length;r<o;r++){i.push(e=[]);for(var a,s=0,u=(a=this[r]).length;s<u;s++)(n=a[s])&&t.call(n,n.__data__,s,r)&&e.push(n)}return Qo(i,this.namespace,this.id)},Gu.tween=function(e,n){var i=this.id,r=this.namespace;return arguments.length<2?this.node()[r][i].tween.get(e):$(this,null==n?function(t){t[r][i].tween.remove(e)}:function(t){t[r][i].tween.set(e,n)})},Gu.attr=function(t,e){function i(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function n(n){return null==n?i:(n+="",function(){var e,t=this.getAttribute(s);return t!==n&&(e=a(t,n),function(t){this.setAttribute(s,e(t))})})}function o(n){return null==n?r:(n+="",function(){var e,t=this.getAttributeNS(s.space,s.local);return t!==n&&(e=a(t,n),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?Xi:xi,s=ua.ns.qualify(t);return Zo(this,"attr."+t,e,s.local?o:n)},Gu.attrTween=function(t,i){function e(t,e){var n=i.call(this,t,e,this.getAttribute(r));return n&&function(t){this.setAttribute(r,n(t))}}function n(t,e){var n=i.call(this,t,e,this.getAttributeNS(r.space,r.local));return n&&function(t){this.setAttributeNS(r.space,r.local,n(t))}}var r=ua.ns.qualify(t);return this.tween("attr."+t,r.local?n:e)},Gu.style=function(i,t,r){function e(){this.style.removeProperty(i)}function n(n){return null==n?e:(n+="",function(){var e,t=R(this).getComputedStyle(this,null).getPropertyValue(i);return t!==n&&(e=xi(t,n),function(t){this.style.setProperty(i,e(t),r)})})}var o=arguments.length;if(o<3){if("string"!=typeof i){for(r in o<2&&(t=""),i)this.style(r,i[r],t);return this}r=""}return Zo(this,"style."+i,t,n)},Gu.styleTween=function(i,r,o){function t(t,e){var n=r.call(this,t,e,R(this).getComputedStyle(this,null).getPropertyValue(i));return n&&function(t){this.style.setProperty(i,n(t),o)}}return arguments.length<3&&(o=""),this.tween("style."+i,t)},Gu.text=function(t){return Zo(this,"text",t,Ko)},Gu.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Gu.ease=function(e){var n=this.id,i=this.namespace;return arguments.length<1?this.node()[i][n].ease:("function"!=typeof e&&(e=ua.ease.apply(ua,arguments)),$(this,function(t){t[i][n].ease=e}))},Gu.delay=function(i){var r=this.id,o=this.namespace;return arguments.length<1?this.node()[o][r].delay:$(this,"function"==typeof i?function(t,e,n){t[o][r].delay=+i.call(t,t.__data__,e,n)}:(i=+i,function(t){t[o][r].delay=i}))},Gu.duration=function(i){var r=this.id,o=this.namespace;return arguments.length<1?this.node()[o][r].duration:$(this,"function"==typeof i?function(t,e,n){t[o][r].duration=Math.max(1,i.call(t,t.__data__,e,n))}:(i=Math.max(1,i),function(t){t[o][r].duration=i}))},Gu.each=function(i,n){var r=this.id,o=this.namespace;if(arguments.length<2){var t=Vu,e=zu;try{zu=r,$(this,function(t,e,n){Vu=t[o][r],i.call(t,t.__data__,e,n)})}finally{Vu=t,zu=e}}else $(this,function(t){var e=t[o][r];(e.event||(e.event=ua.dispatch("start","end","interrupt"))).on(i,n)});return this},Gu.transition=function(){for(var t,e,n,i=this.id,r=++Hu,o=this.namespace,a=[],s=0,u=this.length;s<u;s++){a.push(t=[]);for(var l,c=0,h=(l=this[s]).length;c<h;c++)(e=l[c])&&ta(e,c,o,r,{time:(n=e[o][i]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return Qo(a,o,r)},ua.svg.axis=function(){function n(t){t.each(function(){var t,e=ua.select(this),n=this.__chart__||M,i=this.__chart__=M.copy(),r=null==D?i.ticks?i.ticks.apply(i,N):i.domain():D,o=null==k?i.tickFormat?i.tickFormat.apply(i,N):O:k,a=e.selectAll(".tick").data(r,i),s=a.enter().insert("g",".domain").attr("class","tick").style("opacity",Oa),u=ua.transition(a.exit()).style("opacity",Oa).remove(),l=ua.transition(a.order()).style("opacity",1),c=Math.max(E,0)+P,h=qr(i),f=e.selectAll(".domain").data([0]),d=(f.enter().append("path").attr("class","domain"),ua.transition(f));s.append("line"),s.append("text");var p,g,v,y,m=s.select("line"),x=l.select("line"),b=a.select("text").text(o),_=s.select("text"),w=l.select("text"),S="top"===A||"left"===A?-1:1;if("bottom"===A||"top"===A?(t=ea,p="x",v="y",g="x2",y="y2",b.attr("dy",S<0?"0em":".71em").style("text-anchor","middle"),d.attr("d","M"+h[0]+","+S*L+"V0H"+h[1]+"V"+S*L)):(t=na,p="y",v="x",g="y2",y="x2",b.attr("dy",".32em").style("text-anchor",S<0?"end":"start"),d.attr("d","M"+S*L+","+h[0]+"H0V"+h[1]+"H"+S*L)),m.attr(y,S*E),_.attr(v,S*c),x.attr(g,0).attr(y,S*E),w.attr(p,0).attr(v,S*c),i.rangeBand){var T=i,C=T.rangeBand()/2;n=i=function(t){return T(t)+C}}else n.rangeBand?n=i:u.call(t,i,n);s.call(t,n,i),l.call(t,i,i)})}var k,M=ua.scale.linear(),A=$u,E=6,L=6,P=3,N=[10],D=null;return n.scale=function(t){return arguments.length?(M=t,n):M},n.orient=function(t){return arguments.length?(A=t in qu?t+"":$u,n):A},n.ticks=function(){return arguments.length?(N=ca(arguments),n):N},n.tickValues=function(t){return arguments.length?(D=t,n):D},n.tickFormat=function(t){return arguments.length?(k=t,n):k},n.tickSize=function(t){var e=arguments.length;return e?(E=+t,L=+arguments[e-1],n):E},n.innerTickSize=function(t){return arguments.length?(E=+t,n):E},n.outerTickSize=function(t){return arguments.length?(L=+t,n):L},n.tickPadding=function(t){return arguments.length?(P=+t,n):P},n.tickSubdivide=function(){return arguments.length&&n},n};var $u="bottom",qu={top:1,right:1,bottom:1,left:1};ua.svg.brush=function(){function b(t){t.each(function(){var t=ua.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",a).on("touchstart.brush",a),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(s,O);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Bu[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",b.empty()?"none":null);var i,r=ua.transition(t),o=ua.transition(e);M&&(i=qr(M),o.attr("x",i[0]).attr("width",i[1]-i[0]),w(r)),A&&(i=qr(A),o.attr("y",i[0]).attr("height",i[1]-i[0]),S(r)),_(r)})}function _(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+E[+/e$/.test(t)]+","+L[+/^s/.test(t)]+")"})}function w(t){t.select(".extent").attr("x",E[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",E[1]-E[0])}function S(t){t.select(".extent").attr("y",L[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",L[1]-L[0])}function a(){function t(){32==ua.event.keyCode&&(p||(h=null,v[0]-=E[1],v[1]-=L[1],p=2),I())}function e(){32==ua.event.keyCode&&2==p&&(v[0]+=E[1],v[1]+=L[1],p=0,I())}function n(){var t=ua.mouse(a),e=!1;o&&(t[0]+=o[0],t[1]+=o[1]),p||(ua.event.altKey?(h||(h=[(E[0]+E[1])/2,(L[0]+L[1])/2]),v[0]=E[+(t[0]<h[0])],v[1]=L[+(t[1]<h[1])]):h=null),f&&i(t,M,0)&&(w(l),e=!0),d&&i(t,A,1)&&(S(l),e=!0),e&&(_(l),u({type:"brush",mode:p?"move":"resize"}))}function i(t,e,n){var i,r,o=qr(e),a=o[0],s=o[1],u=v[n],l=n?L:E,c=l[1]-l[0];return p&&(a-=u,s-=c+u),i=(n?N:P)?Math.max(a,Math.min(s,t[n])):t[n],p?r=(i+=u)+c:(h&&(u=Math.max(a,Math.min(s,2*h[n]-i))),u<i?(r=i,i=u):r=u),l[0]!=i||l[1]!=r?(n?C=null:T=null,l[0]=i,l[1]=r,!0):void 0}function r(){n(),l.style("pointer-events","all").selectAll(".resize").style("display",b.empty()?"none":null),ua.select("body").style("cursor",null),y.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),g(),u({type:"brushend"})}var h,o,a=this,s=ua.select(ua.event.target),u=k.of(a,arguments),l=ua.select(a),c=s.datum(),f=!/^(n|s)$/.test(c)&&M,d=!/^(e|w)$/.test(c)&&A,p=s.classed("extent"),g=W(a),v=ua.mouse(a),y=ua.select(R(a)).on("keydown.brush",t).on("keyup.brush",e);if(ua.event.changedTouches?y.on("touchmove.brush",n).on("touchend.brush",r):y.on("mousemove.brush",n).on("mouseup.brush",r),l.interrupt().selectAll("*").interrupt(),p)v[0]=E[0]-v[0],v[1]=L[0]-v[1];else if(c){var m=+/w$/.test(c),x=+/^n/.test(c);o=[E[1-m]-v[0],L[1-x]-v[1]],v[0]=E[m],v[1]=L[x]}else ua.event.altKey&&(h=v.slice());l.style("pointer-events","none").selectAll(".resize").style("display",null),ua.select("body").style("cursor",s.style("cursor")),u({type:"brushstart"}),n()}var T,C,k=F(b,"brushstart","brush","brushend"),M=null,A=null,E=[0,0],L=[0,0],P=!0,N=!0,s=Uu[0];return b.event=function(t){t.each(function(){var i=k.of(this,arguments),r={x:E,y:L,i:T,j:C},t=this.__chart__||r;this.__chart__=r,zu?ua.select(this).transition().each("start.brush",function(){T=t.i,C=t.j,E=t.x,L=t.y,i({type:"brushstart"})}).tween("brush:brush",function(){var e=bi(E,r.x),n=bi(L,r.y);return T=C=null,function(t){E=r.x=e(t),L=r.y=n(t),i({type:"brush",mode:"resize"})}}).each("end.brush",function(){T=r.i,C=r.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})}):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))})},b.x=function(t){return arguments.length?(s=Uu[!(M=t)<<1|!A],b):M},b.y=function(t){return arguments.length?(s=Uu[!M<<1|!(A=t)],b):A},b.clamp=function(t){return arguments.length?(M&&A?(P=!!t[0],N=!!t[1]):M?P=!!t:A&&(N=!!t),b):M&&A?[P,N]:M?P:A?N:null},b.extent=function(t){var e,n,i,r,o;return arguments.length?(M&&(e=t[0],n=t[1],A&&(e=e[0],n=n[0]),T=[e,n],M.invert&&(e=M(e),n=M(n)),n<e&&(o=e,e=n,n=o),e==E[0]&&n==E[1]||(E=[e,n])),A&&(i=t[0],r=t[1],M&&(i=i[1],r=r[1]),C=[i,r],A.invert&&(i=A(i),r=A(r)),r<i&&(o=i,i=r,r=o),i==L[0]&&r==L[1]||(L=[i,r])),b):(M&&(T?(e=T[0],n=T[1]):(e=E[0],n=E[1],M.invert&&(e=M.invert(e),n=M.invert(n)),n<e&&(o=e,e=n,n=o))),A&&(C?(i=C[0],r=C[1]):(i=L[0],r=L[1],A.invert&&(i=A.invert(i),r=A.invert(r)),r<i&&(o=i,i=r,r=o))),M&&A?[[e,i],[n,r]]:M?[e,n]:A&&[i,r])},b.clear=function(){return b.empty()||(E=[0,0],L=[0,0],T=C=null),b},b.empty=function(){return!!M&&E[0]==E[1]||!!A&&L[0]==L[1]},ua.rebind(b,k,"on")};var Bu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Uu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Xu=fs.format=ms.timeFormat,Yu=Xu.utc,Wu=Yu("%Y-%m-%dT%H:%M:%S.%LZ");Xu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ia:Wu,ia.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},ia.toString=Wu.toString,fs.second=jt(function(t){return new ds(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),fs.seconds=fs.second.range,fs.seconds.utc=fs.second.utc.range,fs.minute=jt(function(t){return new ds(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),fs.minutes=fs.minute.range,fs.minutes.utc=fs.minute.utc.range,fs.hour=jt(function(t){var e=t.getTimezoneOffset()/60;return new ds(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),fs.hours=fs.hour.range,fs.hours.utc=fs.hour.utc.range,fs.month=jt(function(t){return(t=fs.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),fs.months=fs.month.range,fs.months.utc=fs.month.utc.range;var Qu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Zu=[[fs.second,1],[fs.second,5],[fs.second,15],[fs.second,30],[fs.minute,1],[fs.minute,5],[fs.minute,15],[fs.minute,30],[fs.hour,1],[fs.hour,3],[fs.hour,6],[fs.hour,12],[fs.day,1],[fs.day,2],[fs.week,1],[fs.month,1],[fs.month,3],[fs.year,1]],Ku=Xu.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Ee]]),Ju={range:function(t,e,n){return ua.range(Math.ceil(t/n)*n,+e,n).map(oa)},floor:O,ceil:O};Zu.year=fs.year,fs.scale=function(){return ra(ua.scale.linear(),Zu,Ku)};var tl=Zu.map(function(t){return[t[0].utc,t[1]]}),el=Yu.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Ee]]);tl.year=fs.year.utc,fs.scale.utc=function(){return ra(ua.scale.linear(),tl,el)},ua.text=Mt(function(t){return t.responseText}),ua.json=function(t,e){return At(t,"application/json",aa,e)},ua.html=function(t,e){return At(t,"text/html",sa,e)},ua.xml=Mt(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=ua,define(ua)):"object"==typeof module&&module.exports?module.exports=ua:this.d3=ua}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})}(this,function(H){"use strict";function n(n){return function(t,e){return Ol(n(t),e)}}function c(t,e){return[t,e]}function T(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return Jl<=o?r*=10:tc<=o?r*=5:ec<=o&&(r*=2),e<t?-r:r}function s(t){return t.length}function i(t){return"translate("+t+",0)"}function r(t){return"translate(0,"+t+")"}function M(e){var n=e.bandwidth()/2;return e.round()&&(n=Math.round(n)),function(t){return e(t)+n}}function A(){return!this.__axis}function o(g,v){function e(t){var e=null==x?v.ticks?v.ticks.apply(v,m):v.domain():x,n=null==b?v.tickFormat?v.tickFormat.apply(v,m):bc:b,i=Math.max(_,0)+S,r=v.range(),o=r[0]+.5,a=r[r.length-1]+.5,s=(v.bandwidth?M:bc)(v.copy()),u=t.selection?t.selection():t,l=u.selectAll(".domain").data([null]),c=u.selectAll(".tick").data(e,v).order(),h=c.exit(),f=c.enter().append("g").attr("class","tick"),d=c.select("line"),p=c.select("text");l=l.merge(l.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),c=c.merge(f),d=d.merge(f.append("line").attr("stroke","#000").attr(y+"2",T*_).attr(C+"1",.5).attr(C+"2",.5)),p=p.merge(f.append("text").attr("fill","#000").attr(y,T*i).attr(C,.5).attr("dy",g===_c?"0em":g===Sc?"0.71em":"0.32em")),t!==u&&(l=l.transition(t),c=c.transition(t),d=d.transition(t),p=p.transition(t),h=h.transition(t).attr("opacity",Cc).attr("transform",function(t){return isFinite(t=s(t))?k(t):this.getAttribute("transform")}),f.attr("opacity",Cc).attr("transform",function(t){var e=this.parentNode.__axis;return k(e&&isFinite(e=e(t))?e:s(t))})),h.remove(),l.attr("d",g===Tc||g==wc?"M"+T*w+","+o+"H0.5V"+a+"H"+T*w:"M"+o+","+T*w+"V0.5H"+a+"V"+T*w),c.attr("opacity",1).attr("transform",function(t){return k(s(t))}),d.attr(y+"2",T*_),p.attr(y,T*i).text(n),u.filter(A).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",g===wc?"start":g===Tc?"end":"middle"),u.each(function(){this.__axis=s})}var y,m=[],x=null,b=null,_=6,w=6,S=3,T=g===_c||g===Tc?-1:1,C=g===Tc||g===wc?(y="x","y"):(y="y","x"),k=g===_c||g===Sc?i:r;return e.scale=function(t){return arguments.length?(v=t,e):v},e.ticks=function(){return m=xc.call(arguments),e},e.tickArguments=function(t){return arguments.length?(m=null==t?[]:xc.call(t),e):m.slice()},e.tickValues=function(t){return arguments.length?(x=null==t?null:xc.call(t),e):x&&x.slice()},e.tickFormat=function(t){return arguments.length?(b=t,e):b},e.tickSize=function(t){return arguments.length?(_=w=+t,e):_},e.tickSizeInner=function(t){return arguments.length?(_=+t,e):_},e.tickSizeOuter=function(t){return arguments.length?(w=+t,e):w},e.tickPadding=function(t){return arguments.length?(S=+t,e):S},e}function a(t){return o(_c,t)}function u(t){return o(wc,t)}function l(t){return o(Sc,t)}function h(t){return o(Tc,t)}function P(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new f(i)}function f(t){this._=t}function d(t,i){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}function p(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function g(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=kc,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}function v(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===Mc&&t.documentElement.namespaceURI===Mc?t.createElement(n):t.createElementNS(e,n)}}function y(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function m(){return new x}function x(){this._="@"+(++Pc).toString(36)}function b(n,t,e){return n=_(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function _(n,i,r){return function(t){var e=H.event;H.event=t;try{n.call(this,this.__data__,i,r)}finally{H.event=e}}}function w(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function S(o){return function(){var t=this.__on;if(t){for(var e,n=0,i=-1,r=t.length;n<r;++n)e=t[n],o.type&&e.type!==o.type||e.name!==o.name?t[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?t.length=i:delete this.__on}}}function C(u,l,c){var h=Ic.hasOwnProperty(u.type)?b:_;return function(t,e,n){var i,r=this.__on,o=h(l,e,n);if(r)for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===u.type&&i.name===u.name)return this.removeEventListener(i.type,i.listener,i.capture),this.addEventListener(i.type,i.listener=o,i.capture=c),
void(i.value=l);this.addEventListener(u.type,o,c),i={type:u.type,name:u.name,value:l,listener:o,capture:c},r?r.push(i):this.__on=[i]}}function N(t,e,n,i){var r=H.event;t.sourceEvent=H.event,H.event=t;try{return e.apply(n,i)}finally{H.event=r}}function k(){}function E(){return[]}function L(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function D(t,e,n,i,r,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new L(t,o[s]);for(;s<u;++s)(a=e[s])&&(r[s]=a)}function R(t,e,n,i,r,o,a){var s,u,l,c={},h=e.length,f=o.length,d=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(d[s]=l=Wc+a.call(u,u.__data__,s,e),l in c?r[s]=u:c[l]=u);for(s=0;s<f;++s)(u=c[l=Wc+a.call(t,o[s],s,o)])?((i[s]=u).__data__=o[s],c[l]=null):n[s]=new L(t,o[s]);for(s=0;s<h;++s)(u=e[s])&&c[d[s]]===u&&(r[s]=u)}function O(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function I(t){return function(){this.removeAttribute(t)}}function F(t){return function(){this.removeAttributeNS(t.space,t.local)}}function z(t,e){return function(){this.setAttribute(t,e)}}function V(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function j(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}function G(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function $(t){return function(){this.style.removeProperty(t)}}function q(t,e,n){return function(){this.style.setProperty(t,e,n)}}function B(e,n,i){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,i)}}function U(t){return function(){delete this[t]}}function X(t,e){return function(){this[t]=e}}function Y(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}function W(t){return t.trim().split(/^|\s+/)}function Q(t){return t.classList||new Z(t)}function Z(t){this._node=t,this._names=W(t.getAttribute("class")||"")}function K(t,e){for(var n=Q(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function J(t,e){for(var n=Q(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function tt(t){return function(){K(this,t)}}function et(t){return function(){J(this,t)}}function nt(t,e){return function(){(e.apply(this,arguments)?K:J)(this,t)}}function it(){this.textContent=""}function rt(t){return function(){this.textContent=t}}function ot(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function at(){this.innerHTML=""}function st(t){return function(){this.innerHTML=t}}function ut(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function lt(){this.nextSibling&&this.parentNode.appendChild(this)}function ct(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ht(){return null}function ft(){var t=this.parentNode;t&&t.removeChild(this)}function dt(t,e,n){var i=uh(t),r=i.CustomEvent;r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function pt(t,e){return function(){return dt(this,t,e)}}function gt(t,e){return function(){return dt(this,t,e.apply(this,arguments))}}function vt(t,e){this._groups=t,this._parents=e}function yt(){return new vt([[document.documentElement]],_h)}function mt(){H.event.stopImmediatePropagation()}function xt(t,e){var n=t.document.documentElement,i=wh(t).on("dragstart.drag",null);e&&(i.on("click.drag",kh,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function bt(t,e,n,i,r,o,a,s,u,l){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=l}function _t(){return!H.event.button}function wt(){return this.parentNode}function St(t){return null==t?{x:H.event.x,y:H.event.y}:t}function Tt(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Ct(){}function kt(t){var e;return t=(t+"").trim().toLowerCase(),(e=Rh.exec(t))?new Pt((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=Oh.exec(t))?Mt(parseInt(e[1],16)):(e=Ih.exec(t))?new Pt(e[1],e[2],e[3],1):(e=Fh.exec(t))?new Pt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=zh.exec(t))?At(e[1],e[2],e[3],e[4]):(e=Vh.exec(t))?At(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=jh.exec(t))?Nt(e[1],e[2]/100,e[3]/100,1):(e=Gh.exec(t))?Nt(e[1],e[2]/100,e[3]/100,e[4]):Hh.hasOwnProperty(t)?Mt(Hh[t]):"transparent"===t?new Pt(NaN,NaN,NaN,0):null}function Mt(t){return new Pt(t>>16&255,t>>8&255,255&t,1)}function At(t,e,n,i){return i<=0&&(t=e=n=NaN),new Pt(t,e,n,i)}function Et(t){return t instanceof Ct||(t=kt(t)),t?new Pt((t=t.rgb()).r,t.g,t.b,t.opacity):new Pt}function Lt(t,e,n,i){return 1===arguments.length?Et(t):new Pt(t,e,n,null==i?1:i)}function Pt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Nt(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new Ot(t,e,n,i)}function Dt(t){if(t instanceof Ot)return new Ot(t.h,t.s,t.l,t.opacity);if(t instanceof Ct||(t=kt(t)),!t)return new Ot;if(t instanceof Ot)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,s=o-r,u=(o+r)/2;return s?(a=e===o?(n-i)/s+6*(n<i):n===o?(i-e)/s+2:(e-n)/s+4,s/=u<.5?o+r:2-o-r,a*=60):s=0<u&&u<1?0:a,new Ot(a,s,u,t.opacity)}function Rt(t,e,n,i){return 1===arguments.length?Dt(t):new Ot(t,e,n,null==i?1:i)}function Ot(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function It(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Ft(t){if(t instanceof Vt)return new Vt(t.l,t.a,t.b,t.opacity);if(t instanceof Ut){var e=t.h*$h;return new Vt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Pt||(t=Et(t));var n=$t(t.r),i=$t(t.g),r=$t(t.b),o=jt((.4124564*n+.3575761*i+.1804375*r)/Bh),a=jt((.2126729*n+.7151522*i+.072175*r)/Uh);return new Vt(116*a-16,500*(o-a),200*(a-jt((.0193339*n+.119192*i+.9503041*r)/Xh)),t.opacity)}function zt(t,e,n,i){return 1===arguments.length?Ft(t):new Vt(t,e,n,null==i?1:i)}function Vt(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function jt(t){return Zh<t?Math.pow(t,1/3):t/Qh+Yh}function Gt(t){return Wh<t?t*t*t:Qh*(t-Yh)}function Ht(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function $t(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function qt(t){if(t instanceof Ut)return new Ut(t.h,t.c,t.l,t.opacity);t instanceof Vt||(t=Ft(t));var e=Math.atan2(t.b,t.a)*qh;return new Ut(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Bt(t,e,n,i){return 1===arguments.length?qt(t):new Ut(t,e,n,null==i?1:i)}function Ut(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function Xt(t){if(t instanceof Wt)return new Wt(t.h,t.s,t.l,t.opacity);t instanceof Pt||(t=Et(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(af*i+rf*e-of*n)/(af+rf-of),o=i-r,a=(nf*(n-r)-tf*o)/ef,s=Math.sqrt(a*a+o*o)/(nf*r*(1-r)),u=s?Math.atan2(a,o)*qh-120:NaN;return new Wt(u<0?u+360:u,s,r,t.opacity)}function Yt(t,e,n,i){return 1===arguments.length?Xt(t):new Wt(t,e,n,null==i?1:i)}function Wt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Qt(t,e,n,i,r){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*i+a*r)/6}function Zt(e,n){return function(t){return e+t*n}}function Kt(e,n,i){return e=Math.pow(e,i),n=Math.pow(n,i)-e,i=1/i,function(t){return Math.pow(e+t*n,i)}}function Jt(t,e){var n=e-t;return n?Zt(t,180<n||n<-180?n-360*Math.round(n/360):n):gf(isNaN(t)?e:t)}function te(n){return 1==(n=+n)?ee:function(t,e){return e-t?Kt(t,e,n):gf(isNaN(t)?e:t)}}function ee(t,e){var n=e-t;return n?Zt(t,n):gf(isNaN(t)?e:t)}function ne(s){return function(t){var e,n,i=t.length,r=new Array(i),o=new Array(i),a=new Array(i);for(e=0;e<i;++e)n=Lt(t[e]),r[e]=n.r||0,o[e]=n.g||0,a[e]=n.b||0;return r=s(r),o=s(o),a=s(a),n.opacity=1,function(t){return n.r=r(t),n.g=o(t),n.b=a(t),n+""}}}function ie(t){return function(){return t}}function re(e){return function(t){return e(t)+""}}function oe(t){return"none"===t?Ef:(sf||(sf=document.createElement("DIV"),uf=document.documentElement,lf=document.defaultView),sf.style.transform=t,t=lf.getComputedStyle(uf.appendChild(sf),null).getPropertyValue("transform"),uf.removeChild(sf),t=t.slice(7,-1).split(","),Lf(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function ae(t){return null==t?Ef:(cf||(cf=document.createElementNS("http://www.w3.org/2000/svg","g")),cf.setAttribute("transform",t),(t=cf.transform.baseVal.consolidate())?(t=t.matrix,Lf(t.a,t.b,t.c,t.d,t.e,t.f)):Ef)}function se(n,s,u,r){function l(t){return t.length?t.pop()+" ":""}function i(t,e,n,i,r,o){if(t!==n||e!==i){var a=r.push("translate(",null,s,null,u);o.push({i:a-4,x:_f(t,n)},{i:a-2,x:_f(e,i)})}else(n||i)&&r.push("translate("+n+s+i+u)}function a(t,e,n,i){t!==e?(180<t-e?e+=360:180<e-t&&(t+=360),i.push({i:n.push(l(n)+"rotate(",null,r)-2,x:_f(t,e)})):e&&n.push(l(n)+"rotate("+e+r)}function c(t,e,n,i){t!==e?i.push({i:n.push(l(n)+"skewX(",null,r)-2,x:_f(t,e)}):e&&n.push(l(n)+"skewX("+e+r)}function h(t,e,n,i,r,o){if(t!==n||e!==i){var a=r.push(l(r)+"scale(",null,",",null,")");o.push({i:a-4,x:_f(t,n)},{i:a-2,x:_f(e,i)})}else 1===n&&1===i||r.push(l(r)+"scale("+n+","+i+")")}return function(t,e){var r=[],o=[];return t=n(t),e=n(e),i(t.translateX,t.translateY,e.translateX,e.translateY,r,o),a(t.rotate,e.rotate,r,o),c(t.skewX,e.skewX,r,o),h(t.scaleX,t.scaleY,e.scaleX,e.scaleY,r,o),t=e=null,function(t){for(var e,n=-1,i=o.length;++n<i;)r[(e=o[n]).i]=e.x(t);return r.join("")}}}function ue(t){return((t=Math.exp(t))+1/t)/2}function le(t){return((t=Math.exp(t))-1/t)/2}function ce(t){return((t=Math.exp(2*t))-1)/(t+1)}function he(a){return function(e,t){var n=a((e=Rt(e)).h,(t=Rt(t)).h),i=ee(e.s,t.s),r=ee(e.l,t.l),o=ee(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=i(t),e.l=r(t),e.opacity=o(t),e+""}}}function fe(e,t){var n=ee((e=zt(e)).l,(t=zt(t)).l),i=ee(e.a,t.a),r=ee(e.b,t.b),o=ee(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=i(t),e.b=r(t),e.opacity=o(t),e+""}}function de(a){return function(e,t){var n=a((e=Bt(e)).h,(t=Bt(t)).h),i=ee(e.c,t.c),r=ee(e.l,t.l),o=ee(e.opacity,t.opacity);return function(t){return e.h=n(t),e.c=i(t),e.l=r(t),e.opacity=o(t),e+""}}}function pe(s){return function t(a){function e(e,t){var n=s((e=Yt(e)).h,(t=Yt(t)).h),i=ee(e.s,t.s),r=ee(e.l,t.l),o=ee(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=i(t),e.l=r(Math.pow(t,a)),e.opacity=o(t),e+""}}return a=+a,e.gamma=t,e}(1)}function ge(){return Xf||(Qf(ve),Xf=Wf.now()+Yf)}function ve(){Xf=0}function ye(){this._call=this._time=this._next=null}function me(t,e,n){var i=new ye;return i.restart(t,e,n),i}function xe(){ge(),++Hf;for(var t,e=hf;e;)0<=(t=Xf-e._time)&&e._call.call(null,t),e=e._next;--Hf}function be(){Xf=(Uf=Wf.now())+Yf,Hf=$f=0;try{xe()}finally{Hf=0,we(),Xf=0}}function _e(){var t=Wf.now(),e=t-Uf;Bf<e&&(Yf-=e,Uf=t)}function we(){for(var t,e,n=hf,i=1/0;n;)n._call?(i>n._time&&(i=n._time),n=(t=n)._next):(e=n._next,n._next=null,n=t?t._next=e:hf=e);ff=t,Se(i)}function Se(t){if(!Hf){$f&&($f=clearTimeout($f));var e=t-Xf;24<e?(t<1/0&&($f=setTimeout(be,e)),qf&&(qf=clearInterval(qf))):(qf||(Uf=Xf,qf=setInterval(_e,Bf)),Hf=1,Qf(be))}}function Te(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>ed)throw new Error("too late");return n}function Ce(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>id)throw new Error("too late");return n}function ke(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function Me(o,a,s){function t(t){s.state=nd,s.timer.restart(u,s.delay,s.time),s.delay<=t&&u(t-s.delay)}function u(t){var e,n,i,r;if(s.state!==nd)return c();for(e in f)if((r=f[e]).name===s.name){if(r.state===rd)return Zf(u);r.state===od?(r.state=sd,r.timer.stop(),r.on.call("interrupt",o,o.__data__,r.index,r.group),delete f[e]):+e<a&&(r.state=sd,r.timer.stop(),delete f[e])}if(Zf(function(){s.state===rd&&(s.state=od,s.timer.restart(l,s.delay,s.time),l(t))}),s.state=id,s.on.call("start",o,o.__data__,s.index,s.group),s.state===id){for(s.state=rd,h=new Array(i=s.tween.length),e=0,n=-1;e<i;++e)(r=s.tween[e].value.call(o,o.__data__,s.index,s.group))&&(h[++n]=r);h.length=n+1}}function l(t){for(var e=t<s.duration?s.ease.call(null,t/s.duration):(s.timer.restart(c),s.state=ad,1),n=-1,i=h.length;++n<i;)h[n].call(null,e);s.state===ad&&(s.on.call("end",o,o.__data__,s.index,s.group),c())}function c(){for(var t in s.state=sd,s.timer.stop(),delete f[a],f)return;delete o.__transition}var h,f=o.__transition;(f[a]=s).timer=me(t,0,s.time)}function Ae(r,o){var a,s;return function(){var t=Ce(this,r),e=t.tween;if(e!==a)for(var n=0,i=(s=a=e).length;n<i;++n)if(s[n].name===o){(s=s.slice()).splice(n,1);break}t.tween=s}}function Ee(o,a,s){var u,l;if("function"!=typeof s)throw new Error;return function(){var t=Ce(this,o),e=t.tween;if(e!==u){l=(u=e).slice();for(var n={name:a,value:s},i=0,r=l.length;i<r;++i)if(l[i].name===a){l[i]=n;break}i===r&&l.push(n)}t.tween=l}}function Le(t,e,n){var i=t._id;return t.each(function(){var t=Ce(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return ke(t,i).value[e]}}function Pe(t){return function(){this.removeAttribute(t)}}function Ne(t){return function(){this.removeAttributeNS(t.space,t.local)}}function De(e,n,i){var r,o;return function(){var t=this.getAttribute(e);return t===i?null:t===r?o:o=n(r=t,i)}}function Re(e,n,i){var r,o;return function(){var t=this.getAttributeNS(e.space,e.local);return t===i?null:t===r?o:o=n(r=t,i)}}function Oe(n,i,r){var o,a,s;return function(){var t,e=r(this);return null==e?void this.removeAttribute(n):(t=this.getAttribute(n))===e?null:t===o&&e===a?s:s=i(o=t,a=e)}}function Ie(n,i,r){var o,a,s;return function(){var t,e=r(this);return null==e?void this.removeAttributeNS(n.space,n.local):(t=this.getAttributeNS(n.space,n.local))===e?null:t===o&&e===a?s:s=i(o=t,a=e)}}function Fe(i,t){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.setAttributeNS(i.space,i.local,n(t))}}return e._value=t,e}function ze(i,t){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.setAttribute(i,n(t))}}return e._value=t,e}function Ve(t,e){return function(){Te(this,t).delay=+e.apply(this,arguments)}}function je(t,e){return e=+e,function(){Te(this,t).delay=e}}function Ge(t,e){return function(){Ce(this,t).duration=+e.apply(this,arguments)}}function He(t,e){return e=+e,function(){Ce(this,t).duration=e}}function $e(t,e){if("function"!=typeof e)throw new Error;return function(){Ce(this,t).ease=e}}function qe(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})}function Be(n,i,r){var o,a,s=qe(i)?Te:Ce;return function(){var t=s(this,n),e=t.on;e!==o&&(a=(o=e).copy()).on(i,r),t.on=a}}function Ue(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}function Xe(i,r){var o,a,s;return function(){var t=uh(this).getComputedStyle(this,null),e=t.getPropertyValue(i),n=(this.style.removeProperty(i),t.getPropertyValue(i));return e===n?null:e===o&&n===a?s:s=r(o=e,a=n)}}function Ye(t){return function(){this.style.removeProperty(t)}}function We(e,n,i){var r,o;return function(){var t=uh(this).getComputedStyle(this,null).getPropertyValue(e);return t===i?null:t===r?o:o=n(r=t,i)}}function Qe(i,r,o){var a,s,u;return function(){var t=uh(this).getComputedStyle(this,null),e=t.getPropertyValue(i),n=o(this);return null==n&&(this.style.removeProperty(i),n=t.getPropertyValue(i)),e===n?null:e===a&&n===s?u:u=r(a=e,s=n)}}function Ze(i,t,r){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.style.setProperty(i,n(t),r)}}return e._value=t,e}function Ke(t){return function(){this.textContent=t}}function Je(e){return function(){var t=e(this);this.textContent=null==t?"":t}}function tn(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function en(t){return yt().transition(t)}function nn(){return++Ld}function rn(t){return+t}function on(t){return t*t}function an(t){return t*(2-t)}function sn(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function un(t){return t*t*t}function ln(t){return--t*t*t+1}function cn(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function hn(t){return 1-Math.cos(t*Id)}function fn(t){return Math.sin(t*Id)}function dn(t){return(1-Math.cos(Od*t))/2}function pn(t){return Math.pow(2,10*t-10)}function gn(t){return 1-Math.pow(2,-10*t)}function vn(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function yn(t){return 1-Math.sqrt(1-t*t)}function mn(t){return Math.sqrt(1- --t*t)}function xn(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function bn(t){return 1-_n(1-t)}function _n(t){return(t=+t)<Fd?Ud*t*t:t<Vd?Ud*(t-=zd)*t+jd:t<Hd?Ud*(t-=Gd)*t+$d:Ud*(t-=qd)*t+Bd}function wn(t){return((t*=2)<=1?1-_n(1-t):_n(t-1)+1)/2}function Sn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return tp.time=ge(),tp;return n}function Tn(){H.event.stopImmediatePropagation()}function Cn(t){return{type:t}}function kn(){return!H.event.button}function Mn(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function An(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function En(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Ln(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Pn(){return Dn(hp)}function Nn(){return Dn(fp)}function Dn(F){function e(t){var e=t.property("__brush",r).selectAll(".overlay").data([Cn("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",pp.overlay).merge(e).each(function(){var t=An(this).extent;wh(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([Cn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",pp.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var n=t.selectAll(".handle").data(F.handles,function(t){return t.type});n.exit().remove(),n.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return pp[t.type]}),t.each(z).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",i)}function z(){var t=wh(this),e=An(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-s/2:e[0][0]-s/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-s/2:e[0][1]-s/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+s:s}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+s:s})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function V(t,e){return t.__brush.emitter||new n(t,e)}function n(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function i(){function t(){var t=jc(m);!L||v||y||(Math.abs(t[0]-N[0])>Math.abs(t[1]-N[1])?y=!0:v=!0),N=t,g=!0,ap(),e()}function e(){var t;switch(d=N[0]-P[0],p=N[1]-P[1],b){case up:case sp:_&&(d=Math.max(k-o,Math.min(A-l,d)),a=o+d,c=l+d),w&&(p=Math.max(M-s,Math.min(E-h,p)),u=s+p,f=h+p);break;case lp:_<0?(d=Math.max(k-o,Math.min(A-o,d)),a=o+d,c=l):0<_&&(d=Math.max(k-l,Math.min(A-l,d)),a=o,c=l+d),w<0?(p=Math.max(M-s,Math.min(E-s,p)),u=s+p,f=h):0<w&&(p=Math.max(M-h,Math.min(E-h,p)),u=s,f=h+p);break;case cp:_&&(a=Math.max(k,Math.min(A,o-d*_)),c=Math.max(k,Math.min(A,l+d*_))),w&&(u=Math.max(M,Math.min(E,s-p*w)),f=Math.max(M,Math.min(E,h+p*w)))}c<a&&(_*=-1,t=o,o=l,l=t,t=a,a=c,c=t,x in gp&&O.attr("cursor",pp[x=gp[x]])),f<u&&(w*=-1,t=s,s=h,h=t,t=u,u=f,f=t,x in vp&&O.attr("cursor",pp[x=vp[x]])),S.selection&&(C=S.selection),v&&(a=C[0][0],c=C[1][0]),y&&(u=C[0][1],f=C[1][1]),C[0][0]===a&&C[0][1]===u&&C[1][0]===c&&C[1][1]===f||(S.selection=[[a,u],[c,f]],z.call(m),D.brush())}function n(){if(Tn(),H.event.touches){if(H.event.touches.length)return;j&&clearTimeout(j),j=setTimeout(function(){j=null},500),R.on("touchmove.brush touchend.brush touchcancel.brush",null)}else xt(H.event.view,g),I.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);R.attr("pointer-events","all"),O.attr("cursor",pp.overlay),S.selection&&(C=S.selection),En(C)&&(S.selection=null,z.call(m)),D.end()}function i(){switch(H.event.keyCode){case 16:L=_&&w;break;case 18:b===lp&&(_&&(l=c-d*_,o=a+d*_),w&&(h=f-p*w,s=u+p*w),b=cp,e());break;case 32:b!==lp&&b!==cp||(_<0?l=c-d:0<_&&(o=a-d),w<0?h=f-p:0<w&&(s=u-p),b=up,O.attr("cursor",pp.selection),e());break;default:return}ap()}function r(){switch(H.event.keyCode){case 16:L&&(v=y=L=!1,e());break;case 18:b===cp&&(_<0?l=c:0<_&&(o=a),w<0?h=f:0<w&&(s=u),b=lp,e());break;case 32:b===up&&(H.event.altKey?(_&&(l=c-d*_,o=a+d*_),w&&(h=f-p*w,s=u+p*w),b=cp):(_<0?l=c:0<_&&(o=a),w<0?h=f:0<w&&(s=u),b=lp),O.attr("cursor",pp[x]),e());break;default:return}ap()}if(H.event.touches){if(H.event.changedTouches.length<H.event.touches.length)return ap()}else if(j)return;if(G.apply(this,arguments)){var o,a,s,u,l,c,h,f,d,p,g,v,y,m=this,x=H.event.target.__data__.type,b="selection"===(H.event.metaKey?x="overlay":x)?sp:H.event.altKey?cp:lp,_=F===fp?null:yp[x],w=F===hp?null:mp[x],S=An(m),T=S.extent,C=S.selection,k=T[0][0],M=T[0][1],A=T[1][0],E=T[1][1],L=_&&w&&H.event.shiftKey,P=jc(m),N=P,D=V(m,arguments).beforestart();"overlay"===x?S.selection=C=[[o=F===fp?k:P[0],s=F===hp?M:P[1]],[l=F===fp?A:o,h=F===hp?E:s]]:(o=C[0][0],s=C[0][1],l=C[1][0],h=C[1][1]),a=o,u=s,c=l,f=h;var R=wh(m).attr("pointer-events","none"),O=R.selectAll(".overlay").attr("cursor",pp[x]);if(H.event.touches)R.on("touchmove.brush",t,!0).on("touchend.brush touchcancel.brush",n,!0);else{var I=wh(H.event.view).on("keydown.brush",i,!0).on("keyup.brush",r,!0).on("mousemove.brush",t,!0).on("mouseup.brush",n,!0);Mh(H.event.view)}Tn(),ld(m),z.call(m),D.start()}}function r(){var t=this.__brush||{selection:null};return t.extent=o.apply(this,arguments),t.dim=F,t}var j,o=Mn,G=kn,a=P(e,"start","brush","end"),s=6;return e.move=function(t,s){t.selection?t.on("start.brush",function(){V(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){V(this,arguments).end()}).tween("brush",function(){function t(t){n.selection=1===t&&En(o)?null:a(t),z.call(e),i.brush()}var e=this,n=e.__brush,i=V(e,arguments),r=n.selection,o=F.input("function"==typeof s?s.apply(this,arguments):s,n.extent),a=kf(r,o);return r&&o?t:t(1)}):t.each(function(){var t=this,e=arguments,n=t.__brush,i=F.input("function"==typeof s?s.apply(t,e):s,n.extent),r=V(t,e).beforestart();ld(t),n.selection=null==i||En(i)?null:i,z.call(t),r.start().brush().end()})},n.prototype={beforestart:function(){return 1==++this.active&&((this.state.emitter=this).starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){N(new op(e,t,F.output(this.state.selection)),a.apply,a,[t,this.that,this.args])}},e.extent=function(t){return arguments.length?(o="function"==typeof t?t:rp([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):o},e.filter=function(t){return arguments.length?(G="function"==typeof t?t:rp(!!t),e):G},e.handleSize=function(t){return arguments.length?(s=+t,e):s},e.on=function(){var t=a.on.apply(a,arguments);return t===a?e:t},e}function Rn(n){return function(t,e){return n(t.source.value+t.target.value,e.source.value+e.target.value)}}function On(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function In(){return new On}function Fn(t){return t.source}function zn(t){return t.target}function Vn(t){return t.radius}function jn(t){return t.startAngle}function Gn(t){return t.endAngle}function Hn(){}function $n(t,e){var n=new Hn;if(t instanceof Hn)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(null==e)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e(i=t[r],r,t),i)}else if(t)for(var a in t)n.set(a,t[a]);return n}function qn(){return{}}function Bn(t,e,n){t[e]=n}function Un(){return $n()}function Xn(t,e,n){t.set(e,n)}function Yn(){}function Wn(t,e){var n=new Yn;if(t instanceof Yn)t.each(function(t){n.add(t)});else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}function Qn(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function Zn(n,i){var r=Qn(n);return function(t,e){return i(r(t),e,n)}}function Kn(t){var n=Object.create(null),i=[];return t.forEach(function(t){for(var e in t)e in n||i.push(n[e]=e)}),i}function Jn(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,a,s,u,l,c,h,f,d=t._root,p={data:i},g=t._x0,v=t._y0,y=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((l=e>=(o=(g+y)/2))?g=o:y=o,(c=n>=(a=(v+m)/2))?v=a:m=a,!(d=(r=d)[h=c<<1|l]))return r[h]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,r?r[h]=p:t._root=p,t;for(;r=r?r[h]=new Array(4):t._root=new Array(4),(l=e>=(o=(g+y)/2))?g=o:y=o,(c=n>=(a=(v+m)/2))?v=a:m=a,(h=c<<1|l)==(f=(a<=u)<<1|o<=s););return r[f]=d,r[h]=p,t}function ti(t){var e,n,i,r,o=t.length,a=new Array(o),s=new Array(o),u=1/0,l=1/0,c=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||((a[n]=i)<u&&(u=i),c<i&&(c=i),(s[n]=r)<l&&(l=r),h<r&&(h=r));for(c<u&&(u=this._x0,c=this._x1),h<l&&(l=this._y0,h=this._y1),this.cover(u,l).cover(c,h),n=0;n<o;++n)Jn(this,a[n],s[n],t[n]);return this}function ei(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function ni(t){return t[0]}function ii(t){return t[1]}function ri(t,e,n){var i=new oi(null==e?ni:e,null==n?ii:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function oi(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function ai(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}function si(t){return t.x+t.vx}function ui(t){return t.y+t.vy}function li(t){return t.index}function ci(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function hi(t){return t.x}function fi(t){return t.y}function di(t){return new pi(t)}function pi(t){if(!(e=Mg.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",i=e[2]||">",r=e[3]||"-",o=e[4]||"",a=!!e[5],s=e[6]&&+e[6],u=!!e[7],l=e[8]&&+e[8].slice(1),c=e[9]||"";"n"===c?(u=!0,c="g"):kg[c]||(c=""),(a||"0"===n&&"="===i)&&(a=!0,n="0",i="="),this.fill=n,this.align=i,this.sign=r,this.symbol=o,this.zero=a,this.width=s,this.comma=u,this.precision=l,this.type=c}function gi(t){return Ag=Pg(t),H.format=Ag.format,H.formatPrefix=Ag.formatPrefix,Ag}function vi(){this.reset()}function yi(t,e,n){var i=t.s=e+n,r=i-e,o=i-r;t.t=e-o+(n-r)}function mi(t){return 1<t?0:t<-1?gv:Math.acos(t)}function xi(t){return 1<t?vv:t<-1?-vv:Math.asin(t)}function bi(t){return(t=Ev(t/2))*t}function _i(){}function wi(t,e){t&&Rv.hasOwnProperty(t.type)&&Rv[t.type](t,e)}function Si(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function Ti(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)Si(t[n],e,1);e.polygonEnd()}function Ci(){zv.point=Mi}function ki(){Ai(Ig,Fg)}function Mi(t,e){zv.point=Ai,Ig=t,Fg=e,zg=t*=bv,Vg=Tv(e=(e*=bv)/2+yv),jg=Ev(e)}function Ai(t,e){var n=(t*=bv)-zg,i=0<=n?1:-1,r=i*n,o=Tv(e=(e*=bv)/2+yv),a=Ev(e),s=jg*a,u=Vg*o+s*Tv(r),l=s*i*Ev(r);Iv.add(Sv(l,u)),zg=t,Vg=o,jg=a}function Ei(t){return[Sv(t[1],t[0]),xi(t[2])]}function Li(t){var e=t[0],n=t[1],i=Tv(n);return[i*Tv(e),i*Ev(e),Ev(n)]}function Pi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ni(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Di(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ri(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Oi(t){var e=Pv(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Ii(t,e){Wg.push(Qg=[Gg=t,$g=t]),e<Hg&&(Hg=e),qg<e&&(qg=e)}function Fi(t,e){var n=Li([t*bv,e*bv]);if(Yg){var i=Ni(Yg,n),r=Ni([i[1],-i[0],0],i);Oi(r),r=Ei(r);var o,a=t-Bg,s=0<a?1:-1,u=r[0]*xv*s,l=180<_v(a);l^(s*Bg<u&&u<s*t)?(o=r[1]*xv)>qg&&(qg=o):l^(s*Bg<(u=(u+360)%360-180)&&u<s*t)?(o=-r[1]*xv)<Hg&&(Hg=o):(e<Hg&&(Hg=e),qg<e&&(qg=e)),l?t<Bg?$i(Gg,t)>$i(Gg,$g)&&($g=t):$i(t,$g)>$i(Gg,$g)&&(Gg=t):Gg<=$g?(t<Gg&&(Gg=t),$g<t&&($g=t)):Bg<t?$i(Gg,t)>$i(Gg,$g)&&($g=t):$i(t,$g)>$i(Gg,$g)&&(Gg=t)}else Wg.push(Qg=[Gg=t,$g=t]);e<Hg&&(Hg=e),qg<e&&(qg=e),Yg=n,Bg=t}function zi(){Gv.point=Fi}function Vi(){Qg[0]=Gg,Qg[1]=$g,Gv.point=Ii,Yg=null}function ji(t,e){if(Yg){var n=t-Bg;jv.add(180<_v(n)?n+(0<n?360:-360):n)}else Ug=t,Xg=e;zv.point(t,e),Fi(t,e)}function Gi(){zv.lineStart()}function Hi(){ji(Ug,Xg),zv.lineEnd(),_v(jv)>pv&&(Gg=-($g=180)),Qg[0]=Gg,Qg[1]=$g,Yg=null}function $i(t,e){return(e-=t)<0?e+360:e}function qi(t,e){return t[0]-e[0]}function Bi(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function Ui(t,e){t*=bv;var n=Tv(e*=bv);Xi(n*Tv(t),n*Ev(t),Ev(e))}function Xi(t,e,n){Jg+=(t-Jg)/++Zg,tv+=(e-tv)/Zg,ev+=(n-ev)/Zg}function Yi(){$v.point=Wi}function Wi(t,e){t*=bv;var n=Tv(e*=bv);cv=n*Tv(t),hv=n*Ev(t),fv=Ev(e),$v.point=Qi,Xi(cv,hv,fv)}function Qi(t,e){t*=bv;var n=Tv(e*=bv),i=n*Tv(t),r=n*Ev(t),o=Ev(e),a=Sv(Pv((a=hv*o-fv*r)*a+(a=fv*i-cv*o)*a+(a=cv*r-hv*i)*a),cv*i+hv*r+fv*o);Kg+=a,nv+=a*(cv+(cv=i)),iv+=a*(hv+(hv=r)),rv+=a*(fv+(fv=o)),Xi(cv,hv,fv)}function Zi(){$v.point=Ui}function Ki(){$v.point=tr}function Ji(){er(uv,lv),$v.point=Ui}function tr(t,e){uv=t,lv=e,t*=bv,e*=bv,$v.point=er;var n=Tv(e);cv=n*Tv(t),hv=n*Ev(t),fv=Ev(e),Xi(cv,hv,fv)}function er(t,e){t*=bv;var n=Tv(e*=bv),i=n*Tv(t),r=n*Ev(t),o=Ev(e),a=hv*o-fv*r,s=fv*i-cv*o,u=cv*r-hv*i,l=Pv(a*a+s*s+u*u),c=xi(l),h=l&&-c/l;ov+=h*a,av+=h*s,sv+=h*u,Kg+=c,nv+=c*(cv+(cv=i)),iv+=c*(hv+(hv=r)),rv+=c*(fv+(fv=o)),Xi(cv,hv,fv)}function nr(t,e){return[gv<t?t-mv:t<-gv?t+mv:t,e]}function ir(t,e,n){return(t%=mv)?e||n?Uv(or(t),ar(e,n)):or(t):e||n?ar(e,n):nr}function rr(n){return function(t,e){return[gv<(t+=n)?t-mv:t<-gv?t+mv:t,e]}}function or(t){var e=rr(t);return e.invert=rr(-t),e}function ar(t,e){function n(t,e){var n=Tv(e),i=Tv(t)*n,r=Ev(t)*n,o=Ev(e),a=o*s+i*u;return[Sv(r*l-a*c,i*s-o*u),xi(a*l+r*c)]}var s=Tv(t),u=Ev(t),l=Tv(e),c=Ev(e);return n.invert=function(t,e){var n=Tv(e),i=Tv(t)*n,r=Ev(t)*n,o=Ev(e),a=o*l-r*c;return[Sv(r*l+o*c,i*s+a*u),xi(a*s-i*u)]},n}function sr(t,e,n,i,r,o){if(n){var a=Tv(e),s=Ev(e),u=i*n;null==r?(r=e+i*mv,o=e-u/2):(r=ur(a,r),o=ur(a,o),(0<i?r<o:o<r)&&(r+=i*mv));for(var l,c=r;0<i?o<c:c<o;c-=u)l=Ei([a,-s*Tv(c),-s*Ev(c)]),t.point(l[0],l[1])}}function ur(t,e){(e=Li(e))[0]-=t,Oi(e);var n=mi(-e[1]);return((-e[2]<0?-n:n)+mv-pv)%mv}function lr(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function cr(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function hr(w,S,T,C){function k(t,e){return w<=t&&t<=T&&S<=e&&e<=C}function M(t,e,n,i){var r=0,o=0;if(null==t||(r=a(t,n))!==(o=a(e,n))||s(t,e)<0^0<n)for(;i.point(0===r||3===r?w:T,1<r?C:S),(r=(r+n+4)%4)!==o;);else i.point(e[0],e[1])}function a(t,e){return _v(t[0]-w)<pv?0<e?0:3:_v(t[0]-T)<pv?0<e?2:1:_v(t[1]-S)<pv?0<e?1:0:0<e?3:2}function A(t,e){return s(t.x,e.x)}function s(t,e){var n=a(t,1),i=a(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(i){function t(t,e){k(t,e)&&x.point(t,e)}function r(){for(var t=0,e=0,n=h.length;e<n;++e)for(var i,r,o=h[e],a=1,s=o.length,u=o[0],l=u[0],c=u[1];a<s;++a)i=l,r=c,l=(u=o[a])[0],c=u[1],r<=C?C<c&&(c-r)*(w-i)<(l-i)*(C-r)&&++t:c<=C&&(l-i)*(C-r)<(c-r)*(w-i)&&--t;return t}function e(){x=b,u=[],h=[],m=!0}function n(){var t=r(),e=m&&t,n=(u=hc(u)).length;(e||n)&&(i.polygonStart(),e&&(i.lineStart(),M(null,null,1,i),i.lineEnd()),n&&ly(u,A,t,M,i),i.polygonEnd()),x=i,u=h=l=null}function o(){_.point=s,h&&h.push(l=[]),v=!(y=!0),p=g=NaN}function a(){u&&(s(c,f),d&&v&&b.rejoin(),u.push(b.result())),_.point=t,v&&x.lineEnd()}function s(t,e){var n=k(t,e);if(h&&l.push([t,e]),y)c=t,f=e,y=!1,(d=n)&&(x.lineStart(),x.point(t,e));else if(n&&v)x.point(t,e);else{var i=[p=Math.max(hy,Math.min(cy,p)),g=Math.max(hy,Math.min(cy,g))],r=[t=Math.max(hy,Math.min(cy,t)),e=Math.max(hy,Math.min(cy,e))];sy(i,r,w,S,T,C)?(v||(x.lineStart(),x.point(i[0],i[1])),x.point(r[0],r[1]),n||x.lineEnd(),m=!1):n&&(x.lineStart(),
x.point(t,e),m=!1)}p=t,g=e,v=n}var u,h,l,c,f,d,p,g,v,y,m,x=i,b=ay(),_={point:t,lineStart:o,lineEnd:a,polygonStart:e,polygonEnd:n};return _}}function fr(){vy.point=pr,vy.lineEnd=dr}function dr(){vy.point=vy.lineEnd=_i}function pr(t,e){Xv=t*=bv,Yv=Ev(e*=bv),Wv=Tv(e),vy.point=gr}function gr(t,e){t*=bv;var n=Ev(e*=bv),i=Tv(e),r=_v(t-Xv),o=Tv(r),a=i*Ev(r),s=Wv*n-Yv*i*o,u=Yv*n+Wv*i*o;gy.add(Sv(Pv(a*a+s*s),u)),Xv=t,Yv=n,Wv=i}function vr(t,e){return!(!t||!wy.hasOwnProperty(t.type))&&wy[t.type](t,e)}function yr(t,e){return 0===by(t,e)}function mr(t,e){var n=by(t[0],t[1]);return by(t[0],e)+by(e,t[1])<=n+pv}function xr(t,e){return!!py(t.map(br),_r(e))}function br(t){return(t=t.map(_r)).pop(),t}function _r(t){return[t[0]*bv,t[1]*bv]}function wr(t,e,n){var i=Kl(t,e-pv,n).concat(e);return function(e){return i.map(function(t){return[e,t]})}}function Sr(t,e,n){var i=Kl(t,e-pv,n).concat(e);return function(e){return i.map(function(t){return[t,e]})}}function Tr(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return Kl(Cv(o/v)*v,r,v).map(f).concat(Kl(Cv(l/y)*y,u,y).map(d)).concat(Kl(Cv(i/p)*p,n,p).filter(function(t){return _v(t%v)>pv}).map(c)).concat(Kl(Cv(s/g)*g,a,g).filter(function(t){return _v(t%y)>pv}).map(h))}var n,i,r,o,a,s,u,l,c,h,f,d,p=10,g=p,v=90,y=360,m=2.5;return e.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},e.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(d(u).slice(1),f(r).reverse().slice(1),d(l).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.extentMajor(t).extentMinor(t):e.extentMinor()},e.extentMajor=function(t){return arguments.length?(o=+t[0][0],r=+t[1][0],l=+t[0][1],u=+t[1][1],r<o&&(t=o,o=r,r=t),u<l&&(t=l,l=u,u=t),e.precision(m)):[[o,l],[r,u]]},e.extentMinor=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],n<i&&(t=i,i=n,n=t),a<s&&(t=s,s=a,a=t),e.precision(m)):[[i,s],[n,a]]},e.step=function(t){return arguments.length?e.stepMajor(t).stepMinor(t):e.stepMinor()},e.stepMajor=function(t){return arguments.length?(v=+t[0],y=+t[1],e):[v,y]},e.stepMinor=function(t){return arguments.length?(p=+t[0],g=+t[1],e):[p,g]},e.precision=function(t){return arguments.length?(m=+t,c=wr(s,a,90),h=Sr(i,n,m),f=wr(l,u,90),d=Sr(o,r,m),e):m},e.extentMajor([[-180,-90+pv],[180,90-pv]]).extentMinor([[-180,-80-pv],[180,80+pv]])}function Cr(){return Tr()()}function kr(){Ay.point=Mr}function Mr(t,e){Ay.point=Ar,Qv=Kv=t,Zv=Jv=e}function Ar(t,e){My.add(Jv*t-Kv*e),Kv=t,Jv=e}function Er(){Ar(Qv,Zv)}function Lr(t,e){t<Ey&&(Ey=t),Py<t&&(Py=t),e<Ly&&(Ly=e),Ny<e&&(Ny=e)}function Pr(t,e){Ry+=t,Oy+=e,++Iy}function Nr(){$y.point=Dr}function Dr(t,e){$y.point=Rr,Pr(ny=t,iy=e)}function Rr(t,e){var n=t-ny,i=e-iy,r=Pv(n*n+i*i);Fy+=r*(ny+t)/2,zy+=r*(iy+e)/2,Vy+=r,Pr(ny=t,iy=e)}function Or(){$y.point=Pr}function Ir(){$y.point=zr}function Fr(){Vr(ty,ey)}function zr(t,e){$y.point=Vr,Pr(ty=ny=t,ey=iy=e)}function Vr(t,e){var n=t-ny,i=e-iy,r=Pv(n*n+i*i);Fy+=r*(ny+t)/2,zy+=r*(iy+e)/2,Vy+=r,jy+=(r=iy*t-ny*e)*(ny+t),Gy+=r*(iy+e),Hy+=3*r,Pr(ny=t,iy=e)}function jr(t){this._context=t}function Gr(t,e){Qy.point=Hr,By=Xy=t,Uy=Yy=e}function Hr(t,e){Xy-=t,Yy-=e,Wy.add(Pv(Xy*Xy+Yy*Yy)),Xy=t,Yy=e}function $r(){this._string=[]}function qr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Br(t){return 1<t.length}function Ur(t,e){return((t=t.x)[0]<0?t[1]-vv-pv:vv-t[1])-((e=e.x)[0]<0?e[1]-vv-pv:vv-e[1])}function Xr(r){var o,a=NaN,s=NaN,u=NaN;return{lineStart:function(){r.lineStart(),o=1},point:function(t,e){var n=0<t?gv:-gv,i=_v(t-a);_v(i-gv)<pv?(r.point(a,s=0<(s+e)/2?vv:-vv),r.point(u,s),r.lineEnd(),r.lineStart(),r.point(n,s),r.point(t,s),o=0):u!==n&&gv<=i&&(_v(a-u)<pv&&(a-=u*pv),_v(t-n)<pv&&(t-=n*pv),s=Yr(a,s,t,e),r.point(u,s),r.lineEnd(),r.lineStart(),r.point(n,s),o=0),r.point(a=t,s=e),u=n},lineEnd:function(){r.lineEnd(),a=s=NaN},clean:function(){return 2-o}}}function Yr(t,e,n,i){var r,o,a=Ev(t-n);return _v(a)>pv?wv((Ev(e)*(o=Tv(i))*Ev(n)-Ev(i)*(r=Tv(e))*Ev(t))/(r*o*a)):(e+i)/2}function Wr(t,e,n,i){var r;if(null==t)r=n*vv,i.point(-gv,r),i.point(0,r),i.point(gv,r),i.point(gv,0),i.point(gv,-r),i.point(0,-r),i.point(-gv,-r),i.point(-gv,0),i.point(-gv,r);else if(_v(t[0]-e[0])>pv){var o=t[0]<e[0]?gv:-gv;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}function Qr(i){return function(t){var e=new Zr;for(var n in i)e[n]=i[n];return e.stream=t,e}}function Zr(){}function Kr(t,e,n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),Ov(n,t.stream(Dy));var a=Dy.result(),s=Math.min(i/(a[1][0]-a[0][0]),r/(a[1][1]-a[0][1])),u=+e[0][0]+(i-s*(a[1][0]+a[0][0]))/2,l=+e[0][1]+(r-s*(a[1][1]+a[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*s).translate([u,l])}function Jr(t,e,n){return Kr(t,[[0,0],e],n)}function to(n){return Qr({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}function eo(E,L){function P(t,e,n,i,r,o,a,s,u,l,c,h,f,d){var p=a-t,g=s-e,v=p*p+g*g;if(4*L<v&&f--){var y=i+l,m=r+c,x=o+h,b=Pv(y*y+m*m+x*x),_=xi(x/=b),w=_v(_v(x)-1)<pv||_v(n-u)<pv?(n+u)/2:Sv(m,y),S=E(w,_),T=S[0],C=S[1],k=T-t,M=C-e,A=g*k-p*M;(L<A*A/v||.3<_v((p*k+g*M)/v-.5)||i*l+r*c+o*h<im)&&(P(t,e,n,i,r,o,T,C,w,y/=b,m/=b,x,f,d),d.point(T,C),P(T,C,w,y,m,x,a,s,u,l,c,h,f,d))}}return function(r){function t(t,e){t=E(t,e),r.point(t[0],t[1])}function e(){g=NaN,b.point=n,r.lineStart()}function n(t,e){var n=Li([t,e]),i=E(t,e);P(g,v,p,y,m,x,g=i[0],v=i[1],p=t,y=n[0],m=n[1],x=n[2],nm,r),r.point(g,v)}function i(){b.point=t,r.lineEnd()}function o(){e(),b.point=a,b.lineEnd=s}function a(t,e){n(u=t,e),l=g,c=v,h=y,f=m,d=x,b.point=n}function s(){P(g,v,p,y,m,x,l,c,u,h,f,d,nm,r),(b.lineEnd=i)()}var u,l,c,h,f,d,p,g,v,y,m,x,b={point:t,lineStart:e,lineEnd:i,polygonStart:function(){r.polygonStart(),b.lineStart=o},polygonEnd:function(){r.polygonEnd(),b.lineStart=e}};return b}}function no(t){return io(function(){return t})()}function io(t){function n(t){return[(t=c(t[0]*bv,t[1]*bv))[0]*v+s,u-t[1]*v]}function e(t){return(t=c.invert((t[0]-s)/v,(u-t[1])/v))&&[t[0]*xv,t[1]*xv]}function i(t,e){return[(t=a(t,e))[0]*v+s,u-t[1]*v]}function r(){c=Uv(l=ir(_,w,S),a);var t=a(x,b);return s=y-t[0]*v,u=m+t[1]*v,o()}function o(){return p=g=null,n}var a,s,u,l,c,h,f,d,p,g,v=150,y=480,m=250,x=0,b=0,_=0,w=0,S=0,T=null,C=Jy,k=null,M=Cy,A=.5,E=rm(i,A);return n.stream=function(t){return p&&g===t?p:p=om(C(l,E(M(g=t))))},n.clipAngle=function(t){return arguments.length?(C=+t?tm(T=t*bv,6*bv):(T=null,Jy),o()):T*xv},n.clipExtent=function(t){return arguments.length?(M=null==t?(k=h=f=d=null,Cy):hr(k=+t[0][0],h=+t[0][1],f=+t[1][0],d=+t[1][1]),o()):null==k?null:[[k,h],[f,d]]},n.scale=function(t){return arguments.length?(v=+t,r()):v},n.translate=function(t){return arguments.length?(y=+t[0],m=+t[1],r()):[y,m]},n.center=function(t){return arguments.length?(x=t[0]%360*bv,b=t[1]%360*bv,r()):[x*xv,b*xv]},n.rotate=function(t){return arguments.length?(_=t[0]%360*bv,w=t[1]%360*bv,S=2<t.length?t[2]%360*bv:0,r()):[_*xv,w*xv,S*xv]},n.precision=function(t){return arguments.length?(E=rm(i,A=t*t),o()):Pv(A)},n.fitExtent=function(t,e){return Kr(n,t,e)},n.fitSize=function(t,e){return Jr(n,t,e)},function(){return a=t.apply(this,arguments),n.invert=a.invert&&e,r()}}function ro(t){var e=0,n=gv/3,i=io(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*bv,n=t[1]*bv):[e*xv,n*xv]},r}function oo(t){function e(t,e){return[t*n,Ev(e)/n]}var n=Tv(t);return e.invert=function(t,e){return[t/n,xi(e*n)]},e}function ao(t,e){function n(t,e){var n=Pv(o-2*r*Ev(e))/r;return[n*Ev(t*=r),a-n*Tv(t)]}var i=Ev(t),r=(i+Ev(e))/2;if(_v(r)<pv)return oo(t);var o=1+i*(2*r-i),a=Pv(o)/r;return n.invert=function(t,e){var n=a-e;return[Sv(t,_v(n))/r*Lv(n),xi((o-(t*t+n*n)*r*r)/(2*r))]},n}function so(i){var r=i.length;return{point:function(t,e){for(var n=-1;++n<r;)i[n].point(t,e)},sphere:function(){for(var t=-1;++t<r;)i[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)i[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)i[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)i[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)i[t].polygonEnd()}}}function uo(o){return function(t,e){var n=Tv(t),i=Tv(e),r=o(n*i);return[r*i*Ev(t),r*Ev(e)]}}function lo(o){return function(t,e){var n=Pv(t*t+e*e),i=o(n),r=Ev(i);return[Sv(t*r,n*Tv(i)),xi(n&&e*r/n)]}}function co(t,e){return[t,Mv(Nv((vv+e)/2))]}function ho(t){function e(){var t=gv*s(),e=o([0,0]);return l(null==c?[[e[0]-t,e[1]-t],[e[0]+t,e[1]+t]]:[[Math.max(e[0]-t,c),n],[Math.min(e[0]+t,i),r]])}var n,i,r,o=no(t),a=o.center,s=o.scale,u=o.translate,l=o.clipExtent,c=null;return o.center=function(t){return arguments.length?(a(t),e()):a()},o.scale=function(t){return arguments.length?(s(t),e()):s()},o.translate=function(t){return arguments.length?(u(t),e()):u()},o.clipExtent=function(t){return arguments.length?(null==t?c=n=i=r=null:(c=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),e()):null==c?null:[[c,n],[i,r]]},e()}function fo(t){return Nv((vv+t)/2)}function po(t,e){function n(t,e){0<o?e<-vv+pv&&(e=-vv+pv):vv-pv<e&&(e=vv-pv);var n=o/Av(fo(e),r);return[n*Ev(r*t),o-n*Tv(r*t)]}var i=Tv(t),r=t===e?Ev(t):Mv(i/Tv(e))/Mv(fo(e)/fo(t)),o=i*Av(fo(t),r)/r;return r?(n.invert=function(t,e){var n=o-e,i=Lv(r)*Pv(t*t+n*n);return[Sv(t,_v(n))/r*Lv(n),2*wv(Av(o/i,1/r))-vv]},n):co}function go(t,e){return[t,e]}function vo(t,e){function n(t,e){var n=o-e,i=r*t;return[n*Ev(i),o-n*Tv(i)]}var i=Tv(t),r=t===e?Ev(t):(i-Tv(e))/(e-t),o=i/r+t;return _v(r)<pv?go:(n.invert=function(t,e){var n=o-e;return[Sv(t,_v(n))/r*Lv(n),o-Lv(r)*Pv(t*t+n*n)]},n)}function yo(t,e){var n=Tv(e),i=Tv(t)*n;return[n*Ev(t)/i,Ev(e)/i]}function mo(n,i,r,o){return 1===n&&1===i&&0===r&&0===o?Cy:Qr({point:function(t,e){this.stream.point(t*n+r,e*i+o)}})}function xo(t,e){return[Tv(e)*Ev(t),Ev(e)]}function bo(t,e){var n=Tv(e),i=1+Tv(t)*n;return[n*Ev(t)/i,Ev(e)/i]}function _o(t,e){return[Mv(Nv((vv+e)/2)),-t]}function wo(t,e){return t.parent===e.parent?1:2}function So(t){return t.reduce(To,0)/t.length}function To(t,e){return t+e.x}function Co(t){return 1+t.reduce(ko,0)}function ko(t,e){return Math.max(t,e.y)}function Mo(t){for(var e;e=t.children;)t=e[0];return t}function Ao(t){for(var e;e=t.children;)t=e[e.length-1];return t}function Eo(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;0<=--i;)e+=n[i].value;else e=1;t.value=e}function Lo(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;for(t=n.pop(),e=i.pop();t===e;)r=t,t=n.pop(),e=i.pop();return r}function Po(t,e){var n,i,r,o,a,s=new Io(t),u=+t.value&&(s.value=t.value),l=[s];for(null==e&&(e=Do);n=l.pop();)if(u&&(n.value=+n.data.value),(r=e(n.data))&&(a=r.length))for(n.children=new Array(a),o=a-1;0<=o;--o)l.push(i=n.children[o]=new Io(r[o])),i.parent=n,i.depth=n.depth+1;return s.eachBefore(Oo)}function No(){return Po(this).eachBefore(Ro)}function Do(t){return t.children}function Ro(t){t.data=t.data.data}function Oo(t){for(var e=0;t.height=e,(t=t.parent)&&t.height<++e;);}function Io(t){this.data=t,this.depth=this.height=0,this.parent=null}function Fo(t){this._=t,this.next=null}function zo(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r-e.r;return n*n+i*i<r*r+1e-6}function Vo(t,e){var n,i,r,o=null,a=t.head;switch(e.length){case 1:n=jo(e[0]);break;case 2:n=Go(e[0],e[1]);break;case 3:n=Ho(e[0],e[1],e[2])}for(;a;)r=a._,i=a.next,n&&zo(n,r)?o=a:(o?(t.tail=o).next=null:t.head=t.tail=null,e.push(r),n=Vo(t,e),e.pop(),t.head?(a.next=t.head,t.head=a):(a.next=null,t.head=t.tail=a),(o=t.tail).next=i),a=i;return t.tail=o,n}function jo(t){return{x:t.x,y:t.y,r:t.r}}function Go(t,e){var n=t.x,i=t.y,r=t.r,o=e.x,a=e.y,s=e.r,u=o-n,l=a-i,c=s-r,h=Math.sqrt(u*u+l*l);return{x:(n+o+u/h*c)/2,y:(i+a+l/h*c)/2,r:(h+r+s)/2}}function Ho(t,e,n){var i=t.x,r=t.y,o=t.r,a=e.x,s=e.y,u=e.r,l=n.x,c=n.y,h=n.r,f=2*(i-a),d=2*(r-s),p=2*(u-o),g=i*i+r*r-o*o-a*a-s*s+u*u,v=2*(i-l),y=2*(r-c),m=2*(h-o),x=i*i+r*r-o*o-l*l-c*c+h*h,b=v*d-f*y,_=(d*x-y*g)/b-i,w=(y*p-d*m)/b,S=(v*g-f*x)/b-r,T=(f*m-v*p)/b,C=w*w+T*T-1,k=2*(_*w+S*T+o),M=_*_+S*S-o*o,A=(-k-Math.sqrt(k*k-4*C*M))/(2*C);return{x:_+w*A+i,y:S+T*A+r,r:A}}function $o(t,e,n){var i=t.x,r=t.y,o=e.r+n.r,a=t.r+n.r,s=e.x-i,u=e.y-r,l=s*s+u*u;if(l){var c=.5+((a*=a)-(o*=o))/(2*l),h=Math.sqrt(Math.max(0,2*o*(a+l)-(a-=l)*a-o*o))/(2*l);n.x=i+c*s+h*u,n.y=r+c*u-h*s}else n.x=i+a,n.y=r}function qo(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return n*n+i*i<r*r-1e-6}function Bo(t,e,n){var i=t._,r=t.next._,o=i.r+r.r,a=(i.x*r.r+r.x*i.r)/o-e,s=(i.y*r.r+r.y*i.r)/o-n;return a*a+s*s}function Uo(t){this._=t,this.next=null,this.previous=null}function Xo(t){if(!(r=t.length))return 0;var e,n,i,r;if((e=t[0]).x=0,e.y=0,!(1<r))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(2<r))return e.r+n.r;$o(n,e,i=t[2]);var o,a,s,u,l,c,h,f=e.r*e.r,d=n.r*n.r,p=i.r*i.r,g=f+d+p,v=f*e.x+d*n.x+p*i.x,y=f*e.y+d*n.y+p*i.y;e=new Uo(e),n=new Uo(n),i=new Uo(i),e.next=i.previous=n,n.next=e.previous=i,i.next=n.previous=e;t:for(s=3;s<r;++s){$o(e._,n._,i=t[s]),i=new Uo(i),u=n.next,l=e.previous,c=n._.r,h=e._.r;do{if(c<=h){if(qo(u._,i._)){n=u,(e.next=n).previous=e,--s;continue t}c+=u._.r,u=u.next}else{if(qo(l._,i._)){((e=l).next=n).previous=e,--s;continue t}h+=l._.r,l=l.previous}}while(u!==l.next);for(i.previous=e,i.next=n,e.next=n.previous=n=i,g+=p=i._.r*i._.r,f=Bo(e,o=(v+=p*i._.x)/g,a=(y+=p*i._.y)/g);(i=i.next)!==n;)(p=Bo(i,o,a))<f&&(e=i,f=p);n=e.next}for(e=[n._],i=n;(i=i.next)!==n;)e.push(i._);for(i=Om(e),s=0;s<r;++s)(e=t[s]).x-=i.x,e.y-=i.y;return i.r}function Yo(t){return null==t?null:Wo(t)}function Wo(t){if("function"!=typeof t)throw new Error;return t}function Qo(){return 0}function Zo(t){return Math.sqrt(t.value)}function Ko(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Jo(a,s){return function(t){if(e=t.children){var e,n,i,r=e.length,o=a(t)*s||0;if(o)for(n=0;n<r;++n)e[n].r+=o;if(i=Xo(e),o)for(n=0;n<r;++n)e[n].r-=o;t.r=i+o}}}function ta(n){return function(t){var e=t.parent;t.r*=n,e&&(t.x=e.x+n*t.x,t.y=e.y+n*t.y)}}function ea(t){return t.id}function na(t){return t.parentId}function ia(t,e){return t.parent===e.parent?1:2}function ra(t){var e=t.children;return e?e[0]:t.t}function oa(t){var e=t.children;return e?e[e.length-1]:t.t}function aa(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function sa(t){for(var e,n=0,i=0,r=t.children,o=r.length;0<=--o;)(e=r[o]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}function ua(t,e,n){return t.a.parent===e.parent?t.a:n}function la(t,e){this._=t,this.parent=null,this.children=null,this.A=null,(this.a=this).z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function ca(t){for(var e,n,i,r,o,a=new la(t,0),s=[a];e=s.pop();)if(i=e._.children)for(e.children=new Array(o=i.length),r=o-1;0<=r;--r)s.push(n=e.children[r]=new la(i[r],r)),n.parent=e;return(a.parent=new la(null,0)).children=[a],a}function ha(t,e,n,i,r,o){for(var a,s,u,l,c,h,f,d,p,g,v,y=[],m=e.children,x=0,b=0,_=m.length,w=e.value;x<_;){for(u=r-n,l=o-i;!(c=m[b++].value)&&b<_;);for(h=f=c,v=c*c*(g=Math.max(l/u,u/l)/(w*t)),p=Math.max(f/v,v/h);b<_;++b){if(c+=s=m[b].value,s<h&&(h=s),f<s&&(f=s),v=c*c*g,(d=Math.max(f/v,v/h))>p){c-=s;break}p=d}y.push(a={value:c,dice:u<l,children:m.slice(x,b)}),a.dice?jm(a,n,i,r,w?i+=l*c/w:o):Xm(a,n,i,w?n+=u*c/w:r,o),w-=c,x=b}return y}function fa(t,e){return t[0]-e[0]||t[1]-e[1]}function da(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;++r){for(;1<i&&nx(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function pa(t){if(!(1<=t))throw new Error;this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function ga(t){if(!t._start)try{va(t)}catch(n){if(t._tasks[t._ended+t._active-1])ma(t,n);else if(!t._data)throw n}}function va(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],i=n.length-1,r=n[i];n[i]=ya(t,e),--t._waiting,++t._active,n=r.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||sx)}}function ya(n,i){return function(t,e){n._tasks[i]&&(--n._active,++n._ended,(n._tasks[i]=null)==n._error&&(null!=t?ma(n,t):(n._data[i]=e,n._waiting?ga(n):xa(n))))}}function ma(t,e){var n,i=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;0<=--i;)if((n=t._tasks[i])&&(t._tasks[i]=null,n.abort))try{n.abort()}catch(t){}t._active=NaN,xa(t)}function xa(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function ba(t){return new pa(arguments.length?+t:1/0)}function _a(n){return function(t,e){n(null==t?e:null)}}function wa(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Sa(e,n){return function(t){return e(t.responseText,n)}}function Ta(i){function o(t){var e=t+"",n=a.get(e);if(!n){if(r!==kx)return r;a.set(e,n=s.push(t))}return i[(n-1)%i.length]}var a=$n(),s=[],r=kx;return i=null==i?[]:Cx.call(i),o.domain=function(t){if(!arguments.length)return s.slice();s=[],a=$n();for(var e,n,i=-1,r=t.length;++i<r;)a.has(n=(e=t[i])+"")||a.set(n,s.push(e));return o},o.range=function(t){return arguments.length?(i=Cx.call(t),o):i.slice()},o.unknown=function(t){return arguments.length?(r=t,o):r},o.copy=function(){return Ta().domain(s).range(i).unknown(r)},o}function Ca(){function e(){var t=s().length,e=l[1]<l[0],n=l[e-0],i=l[1-e];o=(i-n)/Math.max(1,t-h+2*f),c&&(o=Math.floor(o)),n+=(i-n-o*(t-h))*d,a=o*(1-h),c&&(n=Math.round(n),a=Math.round(a));var r=Kl(t).map(function(t){return n+o*t});return u(e?r.reverse():r)}var o,a,t=Ta().unknown(void 0),s=t.domain,u=t.range,l=[0,1],c=!1,h=0,f=0,d=.5;return delete t.unknown,t.domain=function(t){return arguments.length?(s(t),e()):s()},t.range=function(t){return arguments.length?(l=[+t[0],+t[1]],e()):l.slice()},t.rangeRound=function(t){return l=[+t[0],+t[1]],c=!0,e()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(t){return arguments.length?(c=!!t,e()):c},t.padding=function(t){return arguments.length?(h=f=Math.max(0,Math.min(1,t)),e()):h},t.paddingInner=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),e()):h},t.paddingOuter=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),e()):f},t.align=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),e()):d},t.copy=function(){return Ca().domain(s()).range(l).round(c).paddingInner(h).paddingOuter(f).align(d)},e()}function ka(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ka(e())},t}function Ma(){return ka(Ca().paddingInner(1))}function Aa(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:Mx(n)}function Ea(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=e?0:n<=t?1:i(t)}}}function La(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=0?e:1<=t?n:i(t)}}}function Pa(t,e,n,i){var r=t[0],o=t[1],a=e[0],s=e[1];return o<r?(r=n(o,r),a=i(s,a)):(r=n(r,o),a=i(a,s)),function(t){return a(r(t))}}function Na(n,t,e,i){var r=Math.min(n.length,t.length)-1,o=new Array(r),a=new Array(r),s=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++s<r;)o[s]=e(n[s],n[s+1]),a[s]=i(t[s],t[s+1]);return function(t){var e=zl(n,t,1,r)-1;return a[e](o[e](t))}}function Da(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Ra(e,n){function i(){return r=2<Math.min(s.length,u.length)?Na:Pa,o=a=null,t}function t(t){return(o||(o=r(s,u,c?Ea(e):e,l)))(+t)}var r,o,a,s=Ex,u=Ex,l=kf,c=!1;return t.invert=function(t){return(a||(a=r(u,s,Aa,c?La(n):n)))(+t)},t.domain=function(t){return arguments.length?(s=Tx.call(t,Ax),i()):s.slice()},t.range=function(t){return arguments.length?(u=Cx.call(t),i()):u.slice()},t.rangeRound=function(t){return u=Cx.call(t),l=Mf,i()},t.clamp=function(t){return arguments.length?(c=!!t,i()):c},t.interpolate=function(t){return arguments.length?(l=t,i()):l},i()}function Oa(s){var u=s.domain;return s.ticks=function(t){var e=u();return nc(e[0],e[e.length-1],null==t?10:t)},s.tickFormat=function(t,e){return Lx(u(),t,e)},s.nice=function(t){var e=u(),n=e.length-1,i=null==t?10:t,r=e[0],o=e[n],a=T(r,o,i);return a&&(a=T(Math.floor(r/a)*a,Math.ceil(o/a)*a,i),e[0]=Math.floor(r/a)*a,e[n]=Math.ceil(o/a)*a,u(e)),s},s}function Ia(){var t=Ra(Aa,_f);return t.copy=function(){return Da(t,Ia())},Oa(t)}function Fa(){function e(t){return+t}var n=[0,1];return(e.invert=e).domain=e.range=function(t){return arguments.length?(n=Tx.call(t,Ax),e):n.slice()},e.copy=function(){return Fa().domain(n)},Oa(e)}function za(e,n){return(n=Math.log(n/e))?function(t){return Math.log(t/e)/n}:Mx(n)}function Va(e,n){return e<0?function(t){return-Math.pow(-n,t)*Math.pow(-e,1-t)}:function(t){return Math.pow(n,t)*Math.pow(e,1-t)}}function ja(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ga(e){return 10===e?ja:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function Ha(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function $a(e){return function(t){return-e(-t)}}function qa(){function e(){return p=Ha(d),g=Ga(d),f()[0]<0&&(p=$a(p),g=$a(g)),r}var r=Ra(za,Va).domain([1,10]),f=r.domain,d=10,p=Ha(10),g=Ga(10);return r.base=function(t){return arguments.length?(d=+t,e()):d},r.domain=function(t){return arguments.length?(f(t),e()):f()},r.ticks=function(t){var e,n=f(),i=n[0],r=n[n.length-1];(e=r<i)&&(u=i,i=r,r=u);var o,a,s,u=p(i),l=p(r),c=null==t?10:+t,h=[];if(!(d%1)&&l-u<c){if(u=Math.round(u)-1,l=Math.round(l)+1,0<i){for(;u<l;++u)for(a=1,o=g(u);a<d;++a)if(!((s=o*a)<i)){if(r<s)break;h.push(s)}}else for(;u<l;++u)for(a=d-1,o=g(u);1<=a;--a)if(!((s=o*a)<i)){if(r<s)break;h.push(s)}}else h=nc(u,l,Math.min(l-u,c)).map(g);return e?h.reverse():h},r.tickFormat=function(t,n){if(null==n&&(n=10===d?".0e":","),"function"!=typeof n&&(n=H.format(n)),t===1/0)return n;null==t&&(t=10);var i=Math.max(1,d*t/r.ticks().length);return function(t){var e=t/g(Math.round(p(t)));return e*d<d-.5&&(e*=d),e<=i?n(t):""}},r.nice=function(){return f(Px(f(),{floor:function(t){return g(Math.floor(p(t)))},ceil:function(t){return g(Math.ceil(p(t)))}}))},r.copy=function(){return Da(r,qa().base(d))},r}function Ba(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function Ua(){function t(e,n){return(n=Ba(n,i)-(e=Ba(e,i)))?function(t){return(Ba(t,i)-e)/n}:Mx(n)}function e(e,n){return n=Ba(n,i)-(e=Ba(e,i)),function(t){return Ba(e+n*t,1/i)}}var i=1,n=Ra(t,e),r=n.domain;return n.exponent=function(t){return arguments.length?(i=+t,r(r())):i},n.copy=function(){return Da(n,Ua().exponent(i))},Oa(n)}function Xa(){return Ua().exponent(.5)}function Ya(){function r(){var t=0,e=Math.max(1,i.length);for(a=new Array(e-1);++t<e;)a[t-1]=oc(o,t/e);return n}function n(t){if(!isNaN(t=+t))return i[zl(a,t)]}var o=[],i=[],a=[];return n.invertExtent=function(t){var e=i.indexOf(t);return e<0?[NaN,NaN]:[0<e?a[e-1]:o[0],e<a.length?a[e]:o[o.length-1]]},n.domain=function(t){if(!arguments.length)return o.slice();o=[];for(var e,n=0,i=t.length;n<i;++n)null==(e=t[n])||isNaN(e=+e)||o.push(e);return o.sort(Ol),r()},n.range=function(t){return arguments.length?(i=Cx.call(t),r()):i.slice()},n.quantiles=function(){return a.slice()},n.copy=function(){return Ya().domain(o).range(i)},n}function Wa(){function e(t){if(t<=t)return s[zl(a,t,0,o)]}function n(){var t=-1;for(a=new Array(o);++t<o;)a[t]=((t+1)*r-(t-o)*i)/(o+1);return e}var i=0,r=1,o=1,a=[.5],s=[0,1];return e.domain=function(t){return arguments.length?(i=+t[0],r=+t[1],n()):[i,r]},e.range=function(t){return arguments.length?(o=(s=Cx.call(t)).length-1,n()):s.slice()},e.invertExtent=function(t){var e=s.indexOf(t);return e<0?[NaN,NaN]:e<1?[i,a[0]]:o<=e?[a[o-1],r]:[a[e-1],a[e]]},e.copy=function(){return Wa().domain([i,r]).range(s)},Oa(e)}function Qa(){function e(t){if(t<=t)return i[zl(n,t,0,r)]}var n=[.5],i=[0,1],r=1;return e.domain=function(t){return arguments.length?(n=Cx.call(t),r=Math.min(n.length,i.length-1),e):n.slice()},e.range=function(t){return arguments.length?(i=Cx.call(t),r=Math.min(n.length,i.length-1),e):i.slice()},e.invertExtent=function(t){var e=i.indexOf(t);return[n[e-1],n[e]]},e.copy=function(){return Qa().domain(n).range(i)},e}function Za(r,o,n,i){function a(t){return r(t=new Date(+t)),t}return(a.floor=a).ceil=function(t){return r(t=new Date(t-1)),o(t,1),r(t),t},a.round=function(t){var e=a(t),n=a.ceil(t);return t-e<n-t?e:n},a.offset=function(t,e){return o(t=new Date(+t),null==e?1:Math.floor(e)),t},a.range=function(t,e,n){var i=[];if(t=a.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return i;for(;i.push(new Date(+t)),o(t,n),r(t),t<e;);return i},a.filter=function(n){return Za(function(t){if(t<=t)for(;r(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)for(;0<=--e;)for(;o(t,1),!n(t););})},n&&(a.count=function(t,e){return Nx.setTime(+t),Dx.setTime(+e),r(Nx),r(Dx),Math.floor(n(Nx,Dx))},a.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?a.filter(i?function(t){return i(t)%e==0}:function(t){return a.count(0,t)%e==0}):a:null}),a}function Ka(e){return Za(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ix)/Fx})}function Ja(e){return Za(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Fx})}function ts(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function es(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ns(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function is(t){function n(u,l){return function(t){var e,n,i,r=[],o=-1,a=0,s=u.length;for(t instanceof Date||(t=new Date(+t));++o<s;)37===u.charCodeAt(o)&&(r.push(u.slice(a,o)),null!=(n=Ob[e=u.charAt(++o)])?e=u.charAt(++o):n="e"===e?" ":"0",(i=l[e])&&(e=i(t,n)),r.push(e),a=o+1);return r.push(u.slice(a,o)),r.join("")}}function i(i,r){return function(t){var e=ns(1900);if(o(e,i,t+="",0)!=t.length)return null;if("p"in e&&(e.H=e.H%12+12*e.p),"W"in e||"U"in e){"w"in e||(e.w="W"in e?1:0);var n="Z"in e?es(ns(e.y)).getUTCDay():r(ns(e.y)).getDay();e.m=0,e.d="W"in e?(e.w+6)%7+7*e.W-(n+5)%7:e.w+7*e.U-(n+6)%7}return"Z"in e?(e.H+=e.Z/100|0,e.M+=e.Z%100,es(e)):r(e)}}function o(t,e,n,i){for(var r,o,a=0,s=e.length,u=n.length;a<s;){if(u<=i)return-1;if(37===(r=e.charCodeAt(a++))){if(r=e.charAt(a++),!(o=H[r in Ob?e.charAt(a++):r])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function e(t,e,n){var i=L.exec(e.slice(n));return i?(t.p=P[i[0].toLowerCase()],n+i[0].length):-1}function r(t,e,n){var i=R.exec(e.slice(n));return i?(t.w=O[i[0].toLowerCase()],n+i[0].length):-1}function a(t,e,n){var i=N.exec(e.slice(n));return i?(t.w=D[i[0].toLowerCase()],n+i[0].length):-1}function s(t,e,n){var i=z.exec(e.slice(n));return i?(t.m=V[i[0].toLowerCase()],n+i[0].length):-1}function u(t,e,n){var i=I.exec(e.slice(n));return i?(t.m=F[i[0].toLowerCase()],n+i[0].length):-1}function l(t,e,n){return o(t,w,e,n)}function c(t,e,n){return o(t,S,e,n)}function h(t,e,n){return o(t,T,e,n)}function f(t){return M[t.getDay()]}function d(t){return k[t.getDay()]}function p(t){return E[t.getMonth()]}function g(t){return A[t.getMonth()]}function v(t){return C[+(12<=t.getHours())]}function y(t){return M[t.getUTCDay()]}function m(t){return k[t.getUTCDay()]}function x(t){return E[t.getUTCMonth()]}function b(t){return A[t.getUTCMonth()]}function _(t){return C[+(12<=t.getUTCHours())]}var w=t.dateTime,S=t.date,T=t.time,C=t.periods,k=t.days,M=t.shortDays,A=t.months,E=t.shortMonths,L=as(C),P=ss(C),N=as(k),D=ss(k),R=as(M),O=ss(M),I=as(A),F=ss(A),z=as(E),V=ss(E),j={a:f,A:d,b:p,B:g,c:null,d:ws,e:ws,H:Ss,I:Ts,j:Cs,L:ks,m:Ms,M:As,p:v,S:Es,U:Ls,w:Ps,W:Ns,x:null,X:null,y:Ds,Y:Rs,Z:Os,"%":Qs},G={a:y,A:m,b:x,B:b,c:null,d:Is,e:Is,H:Fs,I:zs,j:Vs,L:js,m:Gs,M:Hs,p:_,S:$s,U:qs,w:Bs,W:Us,x:null,X:null,y:Xs,Y:Ys,Z:Ws,"%":Qs},H={a:r,A:a,b:s,B:u,c:l,d:gs,e:gs,H:ys,I:ys,j:vs,L:bs,m:ps,M:ms,p:e,S:xs,U:ls,w:us,W:cs,x:c,X:h,y:fs,Y:hs,Z:ds,"%":_s};return j.x=n(S,j),j.X=n(T,j),j.c=n(w,j),G.x=n(S,G),G.X=n(T,G),G.c=n(w,G),{format:function(t){var e=n(t+="",j);return e.toString=function(){return t},e},parse:function(t){var e=i(t+="",ts);return e.toString=function(){return t},e},utcFormat:function(t){var e=n(t+="",G);return e.toString=function(){return t},e},utcParse:function(t){var e=i(t,es);return e.toString=function(){return t},e}}}function rs(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function os(t){return t.replace(zb,"\\$&")}function as(t){return new RegExp("^(?:"+t.map(os).join("|")+")","i")}function ss(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function us(t,e,n){var i=Ib.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function ls(t,e,n){var i=Ib.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function cs(t,e,n){var i=Ib.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function hs(t,e,n){var i=Ib.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function fs(t,e,n){var i=Ib.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(68<+i[0]?1900:2e3),n+i[0].length):-1}function ds(t,e,n){var i=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function ps(t,e,n){var i=Ib.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function gs(t,e,n){var i=Ib.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function vs(t,e,n){var i=Ib.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function ys(t,e,n){var i=Ib.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function ms(t,e,n){var i=Ib.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function xs(t,e,n){var i=Ib.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function bs(t,e,n){var i=Ib.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function _s(t,e,n){var i=Fb.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function ws(t,e){return rs(t.getDate(),e,2)}function Ss(t,e){return rs(t.getHours(),e,2)}function Ts(t,e){return rs(t.getHours()%12||12,e,2)}function Cs(t,e){return rs(1+qx.count(ub(t),t),e,3)}function ks(t,e){return rs(t.getMilliseconds(),e,3)}function Ms(t,e){return rs(t.getMonth()+1,e,2)}function As(t,e){return rs(t.getMinutes(),e,2)}function Es(t,e){return rs(t.getSeconds(),e,2)}function Ls(t,e){return rs(Ux.count(ub(t),t),e,2)}function Ps(t){return t.getDay()}function Ns(t,e){return rs(Xx.count(ub(t),t),e,2)}function Ds(t,e){return rs(t.getFullYear()%100,e,2)}function Rs(t,e){return rs(t.getFullYear()%1e4,e,4)}function Os(t){var e=t.getTimezoneOffset();return(0<e?"-":(e*=-1,"+"))+rs(e/60|0,"0",2)+rs(e%60,"0",2)}function Is(t,e){return rs(t.getUTCDate(),e,2)}function Fs(t,e){return rs(t.getUTCHours(),e,2)}function zs(t,e){return rs(t.getUTCHours()%12||12,e,2)}function Vs(t,e){return rs(1+pb.count(Nb(t),t),e,3)}function js(t,e){return rs(t.getUTCMilliseconds(),e,3)}function Gs(t,e){return rs(t.getUTCMonth()+1,e,2)}function Hs(t,e){return rs(t.getUTCMinutes(),e,2)}function $s(t,e){return rs(t.getUTCSeconds(),e,2)}function qs(t,e){return rs(vb.count(Nb(t),t),e,2)}function Bs(t){return t.getUTCDay()}function Us(t,e){return rs(yb.count(Nb(t),t),e,2)}function Xs(t,e){return rs(t.getUTCFullYear()%100,e,2)}function Ys(t,e){return rs(t.getUTCFullYear()%1e4,e,4)}function Ws(){return"+0000"}function Qs(){return"%"}function Zs(t){return Db=is(t),H.timeFormat=Db.format,H.timeParse=Db.parse,H.utcFormat=Db.utcFormat,H.utcParse=Db.utcParse,Db}function Ks(t){return t.toISOString()}function Js(t){var e=new Date(t);return isNaN(e)?null:e}function tu(t){return new Date(t)}function eu(t){return t instanceof Date?+t:+new Date(+t)}function nu(a,e,n,i,r,o,s,u,l){function c(t){return(s(t)<t?g:o(t)<t?v:r(t)<t?y:i(t)<t?m:e(t)<t?n(t)<t?x:b:a(t)<t?_:w)(t)}function h(t,e,n,i){if(null==t&&(t=10),"number"==typeof t){var r=Math.abs(n-e)/t,o=Il(function(t){return t[2]}).right(S,r);o===S.length?(i=T(e/Xb,n/Xb,t),t=a):o?(i=(o=S[r/S[o-1][2]<S[o][2]/r?o-1:o])[1],t=o[0]):(i=T(e,n,t),t=u)}return null==i?t:t.every(i)}var f=Ra(Aa,_f),d=f.invert,p=f.domain,g=l(".%L"),v=l(":%S"),y=l("%I:%M"),m=l("%I %p"),x=l("%a %d"),b=l("%b %d"),_=l("%B"),w=l("%Y"),S=[[s,1,Gb],[s,5,5*Gb],[s,15,15*Gb],[s,30,30*Gb],[o,1,Hb],[o,5,5*Hb],[o,15,15*Hb],[o,30,30*Hb],[r,1,$b],[r,3,3*$b],[r,6,6*$b],[r,12,12*$b],[i,1,qb],[i,2,2*qb],[n,1,Bb],[e,1,Ub],[e,3,3*Ub],[a,1,Xb]];return f.invert=function(t){return new Date(d(t))},f.domain=function(t){return arguments.length?p(Tx.call(t,eu)):p().map(tu)},f.ticks=function(t,e){var n,i=p(),r=i[0],o=i[i.length-1],a=o<r;return a&&(n=r,r=o,o=n),n=(n=h(t,r,o,e))?n.range(r,o+1):[],a?n.reverse():n},f.tickFormat=function(t,e){
return null==e?c:l(e)},f.nice=function(t,e){var n=p();return(t=h(t,n[0],n[n.length-1],e))?p(Px(n,t)):f},f.copy=function(){return Da(f,nu(a,e,n,i,r,o,s,u,l))},f}function iu(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}function ru(n){function e(t){var e=(t-i)/(r-i);return n(o?Math.max(0,Math.min(1,e)):e)}var i=0,r=1,o=!1;return e.domain=function(t){return arguments.length?(i=+t[0],r=+t[1],e):[i,r]},e.clamp=function(t){return arguments.length?(o=!!t,e):o},e.interpolator=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return ru(n).domain([i,r]).clamp(o)},Oa(e)}function ou(t){return 1<t?0:t<-1?x_:Math.acos(t)}function au(t){return 1<=t?b_:t<=-1?-b_:Math.asin(t)}function su(t){return t.innerRadius}function uu(t){return t.outerRadius}function lu(t){return t.startAngle}function cu(t){return t.endAngle}function hu(t){return t&&t.padAngle}function fu(t,e,n,i,r,o,a,s){var u=n-t,l=i-e,c=a-r,h=s-o,f=(c*(e-o)-h*(t-r))/(h*u-c*l);return[t+f*u,e+f*l]}function du(t,e,n,i,r,o,a){var s=t-n,u=e-i,l=(a?o:-o)/y_(s*s+u*u),c=l*u,h=-l*s,f=t+c,d=e+h,p=n+c,g=i+h,v=(f+p)/2,y=(d+g)/2,m=p-f,x=g-d,b=m*m+x*x,_=r-o,w=f*g-p*d,S=(x<0?-1:1)*y_(p_(0,_*_*b-w*w)),T=(w*x-m*S)/b,C=(-w*m-x*S)/b,k=(w*x+m*S)/b,M=(-w*m+x*S)/b,A=T-v,E=C-y,L=k-v,P=M-y;return L*L+P*P<A*A+E*E&&(T=k,C=M),{cx:T,cy:C,x01:-c,y01:-h,x11:T*(r/_-1),y11:C*(r/_-1)}}function pu(t){this._context=t}function gu(t){return t[0]}function vu(t){return t[1]}function yu(t){this._curve=t}function mu(e){function t(t){return new yu(e(t))}return t._curve=e,t}function xu(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(mu(t)):e()._curve},t}function bu(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function _u(t){this._context=t}function wu(t){this._context=t}function Su(t){this._context=t}function Tu(t,e){this._basis=new _u(t),this._beta=e}function Cu(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function ku(t,e){this._context=t,this._k=(1-e)/6}function Mu(t,e){this._context=t,this._k=(1-e)/6}function Au(t,e){this._context=t,this._k=(1-e)/6}function Eu(t,e,n){var i=t._x1,r=t._y1,o=t._x2,a=t._y2;if(t._l01_a>m_){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,r=(r*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>m_){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(i,r,o,a,t._x2,t._y2)}function Lu(t,e){this._context=t,this._alpha=e}function Pu(t,e){this._context=t,this._alpha=e}function Nu(t,e){this._context=t,this._alpha=e}function Du(t){this._context=t}function Ru(t){return t<0?-1:1}function Ou(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),a=(n-t._y1)/(r||i<0&&-0),s=(o*r+a*i)/(i+r);return(Ru(o)+Ru(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Iu(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Fu(t,e,n){var i=t._x0,r=t._y0,o=t._x1,a=t._y1,s=(o-i)/3;t._context.bezierCurveTo(i+s,r+s*e,o-s,a-s*n,o,a)}function zu(t){this._context=t}function Vu(t){this._context=new ju(t)}function ju(t){this._context=t}function Gu(t){return new zu(t)}function Hu(t){return new Vu(t)}function $u(t){this._context=t}function qu(t){var e,n,i=t.length-1,r=new Array(i),o=new Array(i),a=new Array(i);for(o[r[0]=0]=2,a[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,o[i-1]=7,a[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=r[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(r[i-1]=a[i-1]/o[i-1],e=i-2;0<=e;--e)r[e]=(a[e]-r[e+1])/o[e];for(o[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}function Bu(t,e){this._context=t,this._t=e}function Uu(t){return new Bu(t,0)}function Xu(t){return new Bu(t,1)}function Yu(t,e){return t[e]}function Wu(t){for(var e,n=0,i=-1,r=t.length;++i<r;)(e=+t[i][1])&&(n+=e);return n}function Qu(t){return t[0]}function Zu(t){return t[1]}function Ku(){this._=null}function Ju(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function tl(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function el(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function nl(t){for(;t.L;)t=t.L;return t}function il(t,e,n,i){var r=[null,null],o=Mw.push(r)-1;return r.left=t,r.right=e,n&&ol(r,t,e,n),i&&ol(r,e,t,i),Cw[t.index].halfedges.push(o),Cw[e.index].halfedges.push(o),r}function rl(t,e,n){var i=[e,n];return i.left=t,i}function ol(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function al(t,e,n,i,r){var o,a=t[0],s=t[1],u=a[0],l=a[1],c=0,h=1,f=s[0]-u,d=s[1]-l;if(o=e-u,f||!(0<o)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(0<f){if(h<o)return;c<o&&(c=o)}if(o=i-u,f||!(o<0)){if(o/=f,f<0){if(h<o)return;c<o&&(c=o)}else if(0<f){if(o<c)return;o<h&&(h=o)}if(o=n-l,d||!(0<o)){if(o/=d,d<0){if(o<c)return;o<h&&(h=o)}else if(0<d){if(h<o)return;c<o&&(c=o)}if(o=r-l,d||!(o<0)){if(o/=d,d<0){if(h<o)return;c<o&&(c=o)}else if(0<d){if(o<c)return;o<h&&(h=o)}return!(0<c||h<1)||(0<c&&(t[0]=[u+c*f,l+c*d]),h<1&&(t[1]=[u+h*f,l+h*d]),!0)}}}}}function sl(t,e,n,i,r){var o=t[1];if(o)return!0;var a,s,u=t[0],l=t.left,c=t.right,h=l[0],f=l[1],d=c[0],p=c[1],g=(h+d)/2,v=(f+p)/2;if(p===f){if(g<e||i<=g)return;if(d<h){if(u){if(u[1]>=r)return}else u=[g,n];o=[g,r]}else{if(u){if(u[1]<n)return}else u=[g,r];o=[g,n]}}else if(s=v-(a=(h-d)/(p-f))*g,a<-1||1<a)if(d<h){if(u){if(u[1]>=r)return}else u=[(n-s)/a,n];o=[(r-s)/a,r]}else{if(u){if(u[1]<n)return}else u=[(r-s)/a,r];o=[(n-s)/a,n]}else if(f<p){if(u){if(u[0]>=i)return}else u=[e,a*e+s];o=[i,a*i+s]}else{if(u){if(u[0]<e)return}else u=[i,a*i+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function ul(t,e,n,i){for(var r,o=Mw.length;o--;)sl(r=Mw[o],t,e,n,i)&&al(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>Lw||Math.abs(r[0][1]-r[1][1])>Lw)||delete Mw[o]}function ll(t){return Cw[t.index]={site:t,halfedges:[]}}function cl(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function hl(t,e){return e[+(e.left!==t.site)]}function fl(t,e){return e[+(e.left===t.site)]}function dl(){for(var t,e,n,i,r=0,o=Cw.length;r<o;++r)if((t=Cw[r])&&(i=(e=t.halfedges).length)){var a=new Array(i),s=new Array(i);for(n=0;n<i;++n)a[n]=n,s[n]=cl(t,Mw[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<i;++n)s[n]=e[a[n]];for(n=0;n<i;++n)e[n]=s[n]}}function pl(t,e,n,i){var r,o,a,s,u,l,c,h,f,d,p,g,v=Cw.length,y=!0;for(r=0;r<v;++r)if(o=Cw[r]){for(a=o.site,s=(u=o.halfedges).length;s--;)Mw[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)p=(d=fl(o,Mw[u[s]]))[0],g=d[1],h=(c=hl(o,Mw[u[++s%l]]))[0],f=c[1],(Math.abs(p-h)>Lw||Math.abs(g-f)>Lw)&&(u.splice(s,0,Mw.push(rl(a,d,Math.abs(p-t)<Lw&&Lw<i-g?[t,Math.abs(h-t)<Lw?f:i]:Math.abs(g-i)<Lw&&Lw<n-p?[Math.abs(f-i)<Lw?h:n,i]:Math.abs(p-n)<Lw&&Lw<g-e?[n,Math.abs(h-n)<Lw?f:e]:Math.abs(g-e)<Lw&&Lw<p-t?[Math.abs(f-e)<Lw?h:t,e]:null))-1),++l);l&&(y=!1)}if(y){var m,x,b,_=1/0;for(r=0,y=null;r<v;++r)(o=Cw[r])&&((b=(m=(a=o.site)[0]-t)*m+(x=a[1]-e)*x)<_&&(_=b,y=o));if(y){var w=[t,e],S=[t,i],T=[n,i],C=[n,e];y.halfedges.push(Mw.push(rl(a=y.site,w,S))-1,Mw.push(rl(a,S,T))-1,Mw.push(rl(a,T,C))-1,Mw.push(rl(a,C,w))-1)}}for(r=0;r<v;++r)(o=Cw[r])&&(o.halfedges.length||delete Cw[r])}function gl(){Ju(this),this.x=this.y=this.arc=this.site=this.cy=null}function vl(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r[0],s=r[1],u=i[0]-a,l=i[1]-s,c=o[0]-a,h=o[1]-s,f=2*(u*h-l*c);if(!(-Pw<=f)){var d=u*u+l*l,p=c*c+h*h,g=(h*d-l*p)/f,v=(u*p-c*d)/f,y=Aw.pop()||new gl;y.arc=t,y.site=r,y.x=g+a,y.y=(y.cy=v+s)+Math.sqrt(g*g+v*v),t.circle=y;for(var m=null,x=kw._;x;)if(y.y<x.y||y.y===x.y&&y.x<=x.x){if(!x.L){m=x.P;break}x=x.L}else{if(!x.R){m=x;break}x=x.R}kw.insert(m,y),m||(Sw=y)}}}}function yl(t){var e=t.circle;e&&(e.P||(Sw=e.N),kw.remove(e),Aw.push(e),Ju(e),t.circle=null)}function ml(){Ju(this),this.edge=this.site=this.circle=null}function xl(t){var e=Ew.pop()||new ml;return e.site=t,e}function bl(t){yl(t),Tw.remove(t),Ew.push(t),Ju(t)}function _l(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,a=t.N,s=[t];bl(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<Lw&&Math.abs(i-u.circle.cy)<Lw;)o=u.P,s.unshift(u),bl(u),u=o;s.unshift(u),yl(u);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<Lw&&Math.abs(i-l.circle.cy)<Lw;)a=l.N,s.push(l),bl(l),l=a;s.push(l),yl(l);var c,h=s.length;for(c=1;c<h;++c)l=s[c],u=s[c-1],ol(l.edge,u.site,l.site,r);u=s[0],(l=s[h-1]).edge=il(u.site,l.site,null,r),vl(u),vl(l)}function wl(t){for(var e,n,i,r,o=t[0],a=t[1],s=Tw._;s;)if((i=Sl(s,a)-o)>Lw)s=s.L;else{if(!((r=o-Tl(s,a))>Lw)){-Lw<i?(e=s.P,n=s):-Lw<r?n=(e=s).N:e=n=s;break}if(!s.R){e=s;break}s=s.R}ll(t);var u=xl(t);if(Tw.insert(e,u),e||n){if(e===n)return yl(e),n=xl(e.site),Tw.insert(u,n),u.edge=n.edge=il(e.site,u.site),vl(e),void vl(n);if(!n)return void(u.edge=il(e.site,u.site));yl(e),yl(n);var l=e.site,c=l[0],h=l[1],f=t[0]-c,d=t[1]-h,p=n.site,g=p[0]-c,v=p[1]-h,y=2*(f*v-d*g),m=f*f+d*d,x=g*g+v*v,b=[(v*m-d*x)/y+c,(f*x-g*m)/y+h];ol(n.edge,l,p,b),u.edge=il(l,t,null,b),n.edge=il(t,p,null,b),vl(e),vl(n)}}function Sl(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],l=u-e;if(!l)return s;var c=s-i,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+r-o/2)))/h+i:(i+s)/2}function Tl(t,e){var n=t.N;if(n)return Sl(n,e);var i=t.site;return i[1]===e?i[0]:1/0}function Cl(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function kl(t,e){return e[1]-t[1]||e[0]-t[0]}function Ml(t,e){var n,i,r,o=t.sort(kl).pop();for(Mw=[],Cw=new Array(t.length),Tw=new Ku,kw=new Ku;;)if(r=Sw,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===n&&o[1]===i||(wl(o),n=o[0],i=o[1]),o=t.pop();else{if(!r)break;_l(r.arc)}if(dl(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],l=+e[1][1];ul(a,s,u,l),pl(a,s,u,l)}this.edges=Mw,this.cells=Cw,Tw=kw=Mw=Cw=null}function Al(t,e,n){this.target=t,this.type=e,this.transform=n}function El(t,e,n){this.k=t,this.x=e,this.y=n}function Ll(t){return t.__zoom||Rw}function Pl(){H.event.stopImmediatePropagation()}function Nl(){return!H.event.button}function Dl(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function Rl(){return this.__zoom||Rw}var Ol=function(t,e){return t<e?-1:e<t?1:e<=t?0:NaN},Il=function(o){return 1===o.length&&(o=n(o)),{left:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var r=n+i>>>1;o(t[r],e)<0?n=r+1:i=r}return n},right:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var r=n+i>>>1;0<o(t[r],e)?i=r:n=r+1}return n}}},Fl=Il(Ol),zl=Fl.right,Vl=Fl.left,jl=function(t,e){null==e&&(e=c);for(var n=0,i=t.length-1,r=t[0],o=new Array(i<0?0:i);n<i;)o[n]=e(r,r=t[++n]);return o},Gl=function(t,e,n){var i,r,o,a,s=t.length,u=e.length,l=new Array(s*u);for(null==n&&(n=c),i=o=0;i<s;++i)for(a=t[i],r=0;r<u;++r,++o)l[o]=n(a,e[r]);return l},Hl=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},$l=function(t){return null===t?NaN:+t},ql=function(t,e){var n,i,r=t.length,o=0,a=0,s=-1,u=0;if(null==e)for(;++s<r;)isNaN(n=$l(t[s]))||(a+=(i=n-o)*(n-(o+=i/++u)));else for(;++s<r;)isNaN(n=$l(e(t[s],s,t)))||(a+=(i=n-o)*(n-(o+=i/++u)));if(1<u)return a/(u-1)},Bl=function(t,e){var n=ql(t,e);return n?Math.sqrt(n):n},Ul=function(t,e){var n,i,r,o=-1,a=t.length;if(null==e){for(;++o<a;)if(null!=(i=t[o])&&i<=i){n=r=i;break}for(;++o<a;)null!=(i=t[o])&&(i<n&&(n=i),r<i&&(r=i))}else{for(;++o<a;)if(null!=(i=e(t[o],o,t))&&i<=i){n=r=i;break}for(;++o<a;)null!=(i=e(t[o],o,t))&&(i<n&&(n=i),r<i&&(r=i))}return[n,r]},Xl=Array.prototype,Yl=Xl.slice,Wl=Xl.map,Ql=function(t){return function(){return t}},Zl=function(t){return t},Kl=function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o},Jl=Math.sqrt(50),tc=Math.sqrt(10),ec=Math.sqrt(2),nc=function(t,e,n){var i=T(t,e,n);return Kl(Math.ceil(t/i)*i,Math.floor(e/i)*i+i/2,i)},ic=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},rc=function(){function e(t){var e,n,i=t.length,r=new Array(i);for(e=0;e<i;++e)r[e]=f(t[e],e,t);var o=d(r),a=o[0],s=o[1],u=p(r,a,s);Array.isArray(u)||(u=nc(a,s,u));for(var l=u.length;u[0]<=a;)u.shift(),--l;for(;u[l-1]>=s;)u.pop(),--l;var c,h=new Array(l+1);for(e=0;e<=l;++e)(c=h[e]=[]).x0=0<e?u[e-1]:a,c.x1=e<l?u[e]:s;for(e=0;e<i;++e)a<=(n=r[e])&&n<=s&&h[zl(u,n,0,l)].push(t[e]);return h}var f=Zl,d=Ul,p=ic;return e.value=function(t){return arguments.length?(f="function"==typeof t?t:Ql(t),e):f},e.domain=function(t){return arguments.length?(d="function"==typeof t?t:Ql([t[0],t[1]]),e):d},e.thresholds=function(t){return arguments.length?(p="function"==typeof t?t:Ql(Array.isArray(t)?Yl.call(t):t),e):p},e},oc=function(t,e,n){if(null==n&&(n=$l),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(1<=e)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,o=Math.floor(r),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(r-o)}},ac=function(t,e,n){return t=Wl.call(t,$l).sort(Ol),Math.ceil((n-e)/(2*(oc(t,.75)-oc(t,.25))*Math.pow(t.length,-1/3)))},sc=function(t,e,n){return Math.ceil((n-e)/(3.5*Bl(t)*Math.pow(t.length,-1/3)))},uc=function(t,e){var n,i,r=-1,o=t.length;if(null==e){for(;++r<o;)if(null!=(i=t[r])&&i<=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&n<i&&(n=i)}else{for(;++r<o;)if(null!=(i=e(t[r],r,t))&&i<=i){n=i;break}for(;++r<o;)null!=(i=e(t[r],r,t))&&n<i&&(n=i)}return n},lc=function(t,e){var n,i=0,r=t.length,o=-1,a=r;if(null==e)for(;++o<r;)isNaN(n=$l(t[o]))?--a:i+=n;else for(;++o<r;)isNaN(n=$l(e(t[o],o,t)))?--a:i+=n;if(a)return i/a},cc=function(t,e){var n,i=[],r=t.length,o=-1;if(null==e)for(;++o<r;)isNaN(n=$l(t[o]))||i.push(n);else for(;++o<r;)isNaN(n=$l(e(t[o],o,t)))||i.push(n);return oc(i.sort(Ol),.5)},hc=function(t){for(var e,n,i,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(n=new Array(a);0<=--r;)for(e=(i=t[r]).length;0<=--e;)n[--a]=i[e];return n},fc=function(t,e){var n,i,r=-1,o=t.length;if(null==e){for(;++r<o;)if(null!=(i=t[r])&&i<=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&i<n&&(n=i)}else{for(;++r<o;)if(null!=(i=e(t[r],r,t))&&i<=i){n=i;break}for(;++r<o;)null!=(i=e(t[r],r,t))&&i<n&&(n=i)}return n},dc=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},pc=function(t,e){if(n=t.length){var n,i,r=0,o=0,a=t[o];for(e||(e=Ol);++r<n;)(e(i=t[r],a)<0||0!==e(a,a))&&(a=i,o=r);return 0===e(a,a)?o:void 0}},gc=function(t,e,n){for(var i,r,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},vc=function(t,e){var n,i=0,r=t.length,o=-1;if(null==e)for(;++o<r;)(n=+t[o])&&(i+=n);else for(;++o<r;)(n=+e(t[o],o,t))&&(i+=n);return i},yc=function(t){if(!(r=t.length))return[];for(var e=-1,n=fc(t,s),i=new Array(n);++e<n;)for(var r,o=-1,a=i[e]=new Array(r);++o<r;)a[o]=t[o][e];return i},mc=function(){return yc(arguments)},xc=Array.prototype.slice,bc=function(t){return t},_c=1,wc=2,Sc=3,Tc=4,Cc=1e-6,kc={value:function(){}};f.prototype=P.prototype={constructor:f,on:function(t,e){var n,i=this._,r=d(t+"",i),o=-1,a=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=r[o]).type)i[n]=g(i[n],t.name,e);else if(null==e)for(n in i)i[n]=g(i[n],t.name,null);return this}for(;++o<a;)if((n=(t=r[o]).type)&&(n=p(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new f(t)},call:function(t,e){if(0<(n=arguments.length-2))for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var Mc="http://www.w3.org/1999/xhtml",Ac={svg:"http://www.w3.org/2000/svg",xhtml:Mc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ec=function(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Ac.hasOwnProperty(e)?{space:Ac[e],local:t}:t},Lc=function(t){var e=Ec(t);return(e.local?y:v)(e)},Pc=0;x.prototype=m.prototype={constructor:x,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Nc=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Dc=document.documentElement;if(!Dc.matches){var Rc=Dc.webkitMatchesSelector||Dc.msMatchesSelector||Dc.mozMatchesSelector||Dc.oMatchesSelector;Nc=function(t){return function(){return Rc.call(this,t)}}}}var Oc=Nc,Ic={};H.event=null,"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Ic={mouseenter:"mouseover",mouseleave:"mouseout"}));var Fc=function(t,e,n){var i,r,o=w(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?C:S,null==n&&(n=!1),i=0;i<a;++i)this.each(s(o[i],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(i=0,u=s[l];i<a;++i)if((r=o[i]).type===u.type&&r.name===u.name)return u.value},zc=function(){for(var t,e=H.event;t=e.sourceEvent;)e=t;return e},Vc=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]},jc=function(t){var e=zc();return e.changedTouches&&(e=e.changedTouches[0]),Vc(t,e)},Gc=function(t){return null==t?k:function(){return this.querySelector(t)}},Hc=function(t){"function"!=typeof t&&(t=Gc(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a,s=e[r],u=s.length,l=i[r]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new vt(i,this._parents)},$c=function(t){return null==t?E:function(){return this.querySelectorAll(t)}},qc=function(t){"function"!=typeof t&&(t=$c(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(i.push(t.call(a,a.__data__,l,s)),r.push(a));return new vt(i,r)},Bc=function(t){"function"!=typeof t&&(t=Oc(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,u=i[r]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new vt(i,this._parents)},Uc=function(t){return new Array(t.length)},Xc=function(){return new vt(this._enter||this._groups.map(Uc),this._parents)};L.prototype={constructor:L,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Yc=function(t){return function(){return t}},Wc="$",Qc=function(t,e){if(!t)return d=new Array(this.size()),l=-1,this.each(function(t){d[++l]=t}),d;var n=e?R:D,i=this._parents,r=this._groups;"function"!=typeof t&&(t=Yc(t));for(var o=r.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=i[l],h=r[l],f=h.length,d=t.call(c,c&&c.__data__,l,i),p=d.length,g=s[l]=new Array(p),v=a[l]=new Array(p);n(c,h,g,v,u[l]=new Array(f),d,e);for(var y,m,x=0,b=0;x<p;++x)if(y=g[x]){for(b<=x&&(b=x+1);!(m=v[b])&&++b<p;);y._next=m||null}}return(a=new vt(a,i))._enter=s,a._exit=u,a},Zc=function(){return new vt(this._exit||this._groups.map(Uc),this._parents)},Kc=function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;s<i;++s)a[s]=e[s];return new vt(a,this._parents)},Jc=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,a=r[o];0<=--o;)(i=r[o])&&(a&&a!==i.nextSibling&&a.parentNode.insertBefore(i,a),a=i);return this},th=function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n||(n=O);for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o){for(var a,s=e[o],u=s.length,l=r[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(t)}return new vt(r,this._parents).order()},eh=function(t){var e=t;return arguments[0]=this,e.apply(null,arguments),this},nh=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},ih=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},rh=function(){var t=0;return this.each(function(){++t}),t},oh=function(){return!this.node()},ah=function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],a=0,s=o.length;a<s;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this},sh=function(t,e){var n=Ec(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?F:I:"function"==typeof e?n.local?G:j:n.local?V:z)(n,e))},uh=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},lh=function(t,e,n){var i;return 1<arguments.length?this.each((null==e?$:"function"==typeof e?B:q)(t,e,null==n?"":n)):uh(i=this.node()).getComputedStyle(i,null).getPropertyValue(t)},ch=function(t,e){return 1<arguments.length?this.each((null==e?U:"function"==typeof e?Y:X)(t,e)):this.node()[t]};Z.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);0<=e&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var hh=function(t,e){var n=W(t+"");if(arguments.length<2){for(var i=Q(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?nt:e?tt:et)(n,e))},fh=function(t){return arguments.length?this.each(null==t?it:("function"==typeof t?ot:rt)(t)):this.node().textContent},dh=function(t){return arguments.length?this.each(null==t?at:("function"==typeof t?ut:st)(t)):this.node().innerHTML},ph=function(){return this.each(lt)},gh=function(){return this.each(ct)},vh=function(t){var e="function"==typeof t?t:Lc(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},yh=function(t,e){var n="function"==typeof t?t:Lc(t),i=null==e?ht:"function"==typeof e?e:Gc(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},mh=function(){return this.each(ft)},xh=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},bh=function(t,e){return this.each(("function"==typeof e?gt:pt)(t,e))},_h=[null];vt.prototype=yt.prototype={constructor:vt,select:Hc,selectAll:qc,filter:Bc,data:Qc,enter:Xc,exit:Zc,merge:Kc,order:Jc,sort:th,call:eh,nodes:nh,node:ih,size:rh,empty:oh,each:ah,attr:sh,style:lh,property:ch,classed:hh,text:fh,html:dh,raise:ph,lower:gh,append:vh,insert:yh,remove:mh,datum:xh,on:Fc,dispatch:bh};var wh=function(t){return"string"==typeof t?new vt([[document.querySelector(t)]],[document.documentElement]):new vt([[t]],_h)},Sh=function(t){return"string"==typeof t?new vt([document.querySelectorAll(t)],[document.documentElement]):new vt([null==t?[]:t],_h)},Th=function(t,e,n){arguments.length<3&&(n=e,e=zc().changedTouches);for(var i,r=0,o=e?e.length:0;r<o;++r)if((i=e[r]).identifier===n)return Vc(t,i);return null},Ch=function(t,e){null==e&&(e=zc().touches);for(var n=0,i=e?e.length:0,r=new Array(i);n<i;++n)r[n]=Vc(t,e[n]);return r},kh=function(){H.event.preventDefault(),H.event.stopImmediatePropagation()},Mh=function(t){var e=t.document.documentElement,n=wh(t).on("dragstart.drag",kh,!0);"onselectstart"in e?n.on("selectstart.drag",kh,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")},Ah=function(t){return function(){return t}};bt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Eh=function(){function p(t){t.on("mousedown.drag",e).on("touchstart.drag",r).on("touchmove.drag",o).on("touchend.drag touchcancel.drag",a).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(){if(!l&&c.apply(this,arguments)){var t=s("mouse",h.apply(this,arguments),jc,this,arguments);t&&(wh(H.event.view).on("mousemove.drag",n,!0).on("mouseup.drag",i,!0),Mh(H.event.view),mt(),u=!1,t("start"))}}function n(){kh(),u=!0,v.mouse("drag")}function i(){wh(H.event.view).on("mousemove.drag mouseup.drag",null),xt(H.event.view,u),kh(),v.mouse("end")}function r(){if(c.apply(this,arguments)){var t,e,n=H.event.changedTouches,i=h.apply(this,arguments),r=n.length;for(t=0;t<r;++t)(e=s(n[t].identifier,i,Th,this,arguments))&&(mt(),e("start"))}}function o(){var t,e,n=H.event.changedTouches,i=n.length;for(t=0;t<i;++t)(e=v[n[t].identifier])&&(kh(),e("drag"))}function a(){var t,e,n=H.event.changedTouches,i=n.length;for(l&&clearTimeout(l),l=setTimeout(function(){l=null},500),t=0;t<i;++t)(e=v[n[t].identifier])&&(mt(),e("end"))}function s(r,o,a,s,u){var l,c,h,f=a(o,r),d=y.copy();if(N(new bt(p,"beforestart",l,r,m,f[0],f[1],0,0,d),function(){return null!=(H.event.subject=l=g.apply(s,u))&&(c=l.x-f[0]||0,h=l.y-f[1]||0,!0)}))return function t(e){var n,i=f;switch(e){case"start":v[r]=t,n=m++;break;case"end":delete v[r],--m;case"drag":f=a(o,r),n=m}N(new bt(p,e,l,r,n,f[0]+c,f[1]+h,f[0]-i[0],f[1]-i[1],d),d.apply,d,[e,s,u])}}var u,l,c=_t,h=wt,g=St,v={},y=P("start","drag","end"),m=0;return p.filter=function(t){return arguments.length?(c="function"==typeof t?t:Ah(!!t),p):c},p.container=function(t){return arguments.length?(h="function"==typeof t?t:Ah(t),p):h},p.subject=function(t){return arguments.length?(g="function"==typeof t?t:Ah(t),p):g},p.on=function(){var t=y.on.apply(y,arguments);return t===y?p:t},p},Lh=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},Ph="\\s*([+-]?\\d+)\\s*",Nh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Rh=/^#([0-9a-f]{3})$/,Oh=/^#([0-9a-f]{6})$/,Ih=new RegExp("^rgb\\("+[Ph,Ph,Ph]+"\\)$"),Fh=new RegExp("^rgb\\("+[Dh,Dh,Dh]+"\\)$"),zh=new RegExp("^rgba\\("+[Ph,Ph,Ph,Nh]+"\\)$"),Vh=new RegExp("^rgba\\("+[Dh,Dh,Dh,Nh]+"\\)$"),jh=new RegExp("^hsl\\("+[Nh,Dh,Dh]+"\\)$"),Gh=new RegExp("^hsla\\("+[Nh,Dh,Dh,Nh]+"\\)$"),Hh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Lh(Ct,kt,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Lh(Pt,Lt,Tt(Ct,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Pt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Pt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Lh(Ot,Rt,Tt(Ct,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ot(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ot(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Pt(It(240<=t?t-240:t+120,r,i),It(t,r,i),It(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var $h=Math.PI/180,qh=180/Math.PI,Bh=.95047,Uh=1,Xh=1.08883,Yh=4/29,Wh=6/29,Qh=3*Wh*Wh,Zh=Wh*Wh*Wh;Lh(Vt,zt,Tt(Ct,{brighter:function(t){return new Vt(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Vt(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=Uh*Gt(t),new Pt(Ht(3.2404542*(e=Bh*Gt(e))-1.5371385*t-.4985314*(n=Xh*Gt(n))),Ht(-.969266*e+1.8760108*t+.041556*n),Ht(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),Lh(Ut,Bt,Tt(Ct,{brighter:function(t){return new Ut(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Ut(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Ft(this).rgb()}}));var Kh=-.14861,Jh=1.78277,tf=-.29227,ef=-.90649,nf=1.97294,rf=nf*ef,of=nf*Jh,af=Jh*tf-ef*Kh;Lh(Wt,Yt,Tt(Ct,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Wt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Wt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*$h,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new Pt(255*(e+n*(Kh*i+Jh*r)),255*(e+n*(tf*i+ef*r)),255*(e+n*(nf*i)),this.opacity)}}));var sf,uf,lf,cf,hf,ff,df=function(r){var o=r.length-1;return function(t){var e=t<=0?t=0:1<=t?o-(t=1):Math.floor(t*o),n=r[e],i=r[e+1];return Qt((t-e/o)*o,0<e?r[e-1]:2*n-i,n,i,e<o-1?r[e+2]:2*i-n)}},pf=function(n){var i=n.length;return function(t){var e=Math.floor(((t%=1)<0?++t:t)*i);return Qt((t-e/i)*i,n[(e+i-1)%i],n[e%i],n[(e+1)%i],n[(e+2)%i])}},gf=function(t){return function(){return t}},vf=function t(){function e(e,t){var n=a((e=Lt(e)).r,(t=Lt(t)).r),i=a(e.g,t.g),r=a(e.b,t.b),o=ee(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=r(t),e.opacity=o(t),
e+""}}var a=te(1);return e.gamma=t,e}(),yf=ne(df),mf=ne(pf),xf=function(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(i),a=new Array(i);for(n=0;n<r;++n)o[n]=kf(t[n],e[n]);for(;n<i;++n)a[n]=e[n];return function(t){for(n=0;n<r;++n)a[n]=o[n](t);return a}},bf=function(e,n){var i=new Date;return n-=e=+e,function(t){return i.setTime(e+n*t),i}},_f=function(e,n){return n-=e=+e,function(t){return e+n*t}},wf=function(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=kf(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},Sf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tf=new RegExp(Sf.source,"g"),Cf=function(t,i){var e,n,r,o=Sf.lastIndex=Tf.lastIndex=0,a=-1,s=[],u=[];for(t+="",i+="";(e=Sf.exec(t))&&(n=Tf.exec(i));)(r=n.index)>o&&(r=i.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(e=e[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,u.push({i:a,x:_f(e,n)})),o=Tf.lastIndex;return o<i.length&&(r=i.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?u[0]?re(u[0].x):ie(i):(i=u.length,function(t){for(var e,n=0;n<i;++n)s[(e=u[n]).i]=e.x(t);return s.join("")})},kf=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?gf(e):("number"===i?_f:"string"===i?(n=kt(e))?(e=n,vf):Cf:e instanceof kt?vf:e instanceof Date?bf:Array.isArray(e)?xf:isNaN(e)?wf:_f)(t,e)},Mf=function(e,n){return n-=e=+e,function(t){return Math.round(e+n*t)}},Af=180/Math.PI,Ef={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Lf=function(t,e,n,i,r,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,u/=s),t*i<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*Af,skewX:Math.atan(u)*Af,scaleX:a,scaleY:s}},Pf=se(oe,"px, ","px)","deg)"),Nf=se(ae,", ",")",")"),Df=Math.SQRT2,Rf=function(t,e){var n,r,o=t[0],a=t[1],s=t[2],i=e[0],u=e[1],l=e[2],c=i-o,h=u-a,f=c*c+h*h;if(f<1e-12)r=Math.log(l/s)/Df,n=function(t){return[o+t*c,a+t*h,s*Math.exp(Df*t*r)]};else{var d=Math.sqrt(f),p=(l*l-s*s+4*f)/(2*s*2*d),g=(l*l-s*s-4*f)/(2*l*2*d),v=Math.log(Math.sqrt(p*p+1)-p);r=(Math.log(Math.sqrt(g*g+1)-g)-v)/Df,n=function(t){var e=t*r,n=ue(v),i=s/(2*d)*(n*ce(Df*e+v)-le(v));return[o+i*c,a+i*h,s*n/ue(Df*e+v)]}}return n.duration=1e3*r,n},Of=he(Jt),If=he(ee),Ff=de(Jt),zf=de(ee),Vf=pe(Jt),jf=pe(ee),Gf=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n},Hf=0,$f=0,qf=0,Bf=1e3,Uf=0,Xf=0,Yf=0,Wf="object"==typeof performance&&performance.now?performance:Date,Qf="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,17)};ye.prototype=me.prototype={constructor:ye,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?ge():+n)+(null==e?0:+e),this._next||ff===this||(ff?ff._next=this:hf=this,ff=this),this._call=t,this._time=n,Se()},stop:function(){this._call&&(this._call=null,this._time=1/0,Se())}};var Zf=function(e,n,t){var i=new ye;return n=null==n?0:+n,i.restart(function(t){i.stop(),e(t+n)},n,t),i},Kf=function(n,i,r){var o=new ye,a=i;return null==i?o.restart(n,i,r):(i=+i,r=null==r?ge():+r,o.restart(function t(e){e+=a,o.restart(t,a+=i,r),n(e)},i,r)),o},Jf=P("start","end","interrupt"),td=[],ed=0,nd=1,id=2,rd=3,od=4,ad=5,sd=6,ud=function(t,e,n,i,r,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};Me(t,n,{name:e,index:i,group:r,on:Jf,tween:td,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ed})},ld=function(t,e){var n,i,r,o=t.__transition,a=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>id&&n.state<ad,n.state=sd,n.timer.stop(),i&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[r]):a=!1;a&&delete t.__transition}},cd=function(t){return this.each(function(){ld(this,t)})},hd=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=ke(this.node(),n).tween,o=0,a=r.length;o<a;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?Ae:Ee)(n,t,e))},fd=function(t,e){var n;return("number"==typeof e?_f:e instanceof kt?vf:(n=kt(e))?(e=n,vf):Cf)(t,e)},dd=function(t,e){var n=Ec(t),i="transform"===n?Nf:fd;return this.attrTween(t,"function"==typeof e?(n.local?Ie:Oe)(n,i,Le(this,"attr."+t,e)):null==e?(n.local?Ne:Pe)(n):(n.local?Re:De)(n,i,e+""))},pd=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=Ec(t);return this.tween(n,(i.local?Fe:ze)(i,e))},gd=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ve:je)(e,t)):ke(this.node(),e).delay},vd=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ge:He)(e,t)):ke(this.node(),e).duration},yd=function(t){var e=this._id;return arguments.length?this.each($e(e,t)):ke(this.node(),e).ease},md=function(t){"function"!=typeof t&&(t=Oc(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,u=i[r]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new tn(i,this._parents,this._name,this._id)},xd=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;s<i;++s)a[s]=e[s];return new tn(a,this._parents,this._name,this._id)},bd=function(t,e){var n=this._id;return arguments.length<2?ke(this.node(),n).on.on(t):this.each(Be(n,t,e))},_d=function(){return this.on("end.remove",Ue(this._id))},wd=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Gc(t));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s,u,l=i[a],c=l.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,ud(h[f],e,n,f,h,ke(s,n)));return new tn(o,this._parents,e,n)},Sd=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=$c(t));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var u,l=i[s],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,d=t.call(u,u.__data__,h,l),p=ke(u,n),g=0,v=d.length;g<v;++g)(f=d[g])&&ud(f,e,n,g,d,p);o.push(d),a.push(u)}return new tn(o,a,e,n)},Td=yt.prototype.constructor,Cd=function(){return new Td(this._groups,this._parents)},kd=function(t,e,n){var i="transform"==(t+="")?Pf:fd;return null==e?this.styleTween(t,Xe(t,i)).on("end.style."+t,Ye(t)):this.styleTween(t,"function"==typeof e?Qe(t,i,Le(this,"style."+t,e)):We(t,i,e+""),n)},Md=function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,Ze(t,e,null==n?"":n))},Ad=function(t){return this.tween("text","function"==typeof t?Je(Le(this,"text",t)):Ke(null==t?"":t+""))},Ed=function(){for(var t=this._name,e=this._id,n=nn(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=ke(a,e);ud(a,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new tn(i,this._parents,t,n)},Ld=0,Pd=yt.prototype;tn.prototype=en.prototype={constructor:tn,select:wd,selectAll:Sd,filter:md,merge:xd,selection:Cd,transition:Ed,call:Pd.call,nodes:Pd.nodes,node:Pd.node,size:Pd.size,empty:Pd.empty,each:Pd.each,on:bd,attr:dd,attrTween:pd,style:kd,styleTween:Md,text:Ad,remove:_d,tween:hd,delay:gd,duration:vd,ease:yd};var Nd=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Dd=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Rd=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Od=Math.PI,Id=Od/2,Fd=4/11,zd=6/11,Vd=8/11,jd=.75,Gd=9/11,Hd=10/11,$d=.9375,qd=21/22,Bd=63/64,Ud=1/Fd/Fd,Xd=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),Yd=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),Wd=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),Qd=2*Math.PI,Zd=function e(n,i){function t(t){return n*Math.pow(2,10*--t)*Math.sin((r-t)/i)}var r=Math.asin(1/(n=Math.max(1,n)))*(i/=Qd);return t.amplitude=function(t){return e(t,i*Qd)},t.period=function(t){return e(n,t)},t}(1,.3),Kd=function e(n,i){function t(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/i)}var r=Math.asin(1/(n=Math.max(1,n)))*(i/=Qd);return t.amplitude=function(t){return e(t,i*Qd)},t.period=function(t){return e(n,t)},t}(1,.3),Jd=function e(n,i){function t(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((r-t)/i):2-n*Math.pow(2,-10*t)*Math.sin((r+t)/i))/2}var r=Math.asin(1/(n=Math.max(1,n)))*(i/=Qd);return t.amplitude=function(t){return e(t,i*Qd)},t.period=function(t){return e(n,t)},t}(1,.3),tp={time:null,delay:0,duration:250,ease:cn},ep=function(t){var e,n;t instanceof tn?(e=t._id,t=t._name):(e=nn(),(n=tp).time=ge(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],u=s.length,l=0;l<u;++l)(a=s[l])&&ud(a,t,e,l,s,n||Sn(a,e));return new tn(i,this._parents,t,e)};yt.prototype.interrupt=cd,yt.prototype.transition=ep;var np=[null],ip=function(t,e){var n,i,r=t.__transition;if(r)for(i in e=null==e?null:e+"",r)if((n=r[i]).state>nd&&n.name===e)return new tn([[t]],np,e,+i);return null},rp=function(t){return function(){return t}},op=function(t,e,n){this.target=t,this.type=e,this.selection=n},ap=function(){H.event.preventDefault(),H.event.stopImmediatePropagation()},sp={name:"drag"},up={name:"space"},lp={name:"handle"},cp={name:"center"},hp={name:"x",handles:["e","w"].map(Cn),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},fp={name:"y",handles:["n","s"].map(Cn),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},dp={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Cn),input:function(t){return t},output:function(t){return t}},pp={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},gp={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},vp={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},yp={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},mp={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},xp=function(){return Dn(dp)},bp=Math.cos,_p=Math.sin,wp=Math.PI,Sp=wp/2,Tp=2*wp,Cp=Math.max,kp=function(){function e(i){var t,e,n,r,o,a,s=i.length,u=[],l=Kl(s),c=[],h=[],f=h.groups=new Array(s),d=new Array(s*s);for(t=0,o=-1;++o<s;){for(e=0,a=-1;++a<s;)e+=i[o][a];u.push(e),c.push(Kl(s)),t+=e}for(w&&l.sort(function(t,e){return w(u[t],u[e])}),S&&c.forEach(function(t,n){t.sort(function(t,e){return S(i[n][t],i[n][e])})}),r=(t=Cp(0,Tp-_*s)/t)?_:Tp/s,e=0,o=-1;++o<s;){for(n=e,a=-1;++a<s;){var p=l[o],g=c[p][a],v=i[p][g],y=e,m=e+=v*t;d[g*s+p]={index:p,subindex:g,startAngle:y,endAngle:m,value:v}}f[p]={index:p,startAngle:n,endAngle:e,value:u[p]},e+=r}for(o=-1;++o<s;)for(a=o-1;++a<s;){var x=d[a*s+o],b=d[o*s+a];(x.value||b.value)&&h.push(x.value<b.value?{source:b,target:x}:{source:x,target:b})}return T?h.sort(T):h}var _=0,w=null,S=null,T=null;return e.padAngle=function(t){return arguments.length?(_=Cp(0,t),e):_},e.sortGroups=function(t){return arguments.length?(w=t,e):w},e.sortSubgroups=function(t){return arguments.length?(S=t,e):S},e.sortChords=function(t){return arguments.length?(null==t?T=null:(T=Rn(t))._=t,e):T&&T._},e},Mp=Array.prototype.slice,Ap=function(t){return function(){return t}},Ep=Math.PI,Lp=2*Ep,Pp=Lp-1e-6;On.prototype=In.prototype={constructor:On,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var o=this._x1,a=this._y1,s=n-t,u=i-e,l=o-t,c=a-e,h=l*l+c*c;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(1e-6<h)if(1e-6<Math.abs(c*s-u*l)&&r){var f=n-o,d=i-a,p=s*s+u*u,g=f*f+d*d,v=Math.sqrt(p),y=Math.sqrt(h),m=r*Math.tan((Ep-Math.acos((p+h-g)/(2*v*y)))/2),x=m/y,b=m/v;1e-6<Math.abs(x-1)&&(this._+="L"+(t+x*l)+","+(e+x*c)),this._+="A"+r+","+r+",0,0,"+ +(l*d<c*f)+","+(this._x1=t+b*s)+","+(this._y1=e+b*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,i,r,o){t=+t,e=+e;var a=(n=+n)*Math.cos(i),s=n*Math.sin(i),u=t+a,l=e+s,c=1^o,h=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(1e-6<Math.abs(this._x1-u)||1e-6<Math.abs(this._y1-l))&&(this._+="L"+u+","+l),n&&(h<0&&(h=h%Lp+Lp),Pp<h?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):1e-6<h&&(this._+="A"+n+","+n+",0,"+ +(Ep<=h)+","+c+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var Np=function(){function e(){var t,e=Mp.call(arguments),n=f.apply(this,e),i=d.apply(this,e),r=+p.apply(this,(e[0]=n,e)),o=g.apply(this,e)-Sp,a=v.apply(this,e)-Sp,s=r*bp(o),u=r*_p(o),l=+p.apply(this,(e[0]=i,e)),c=g.apply(this,e)-Sp,h=v.apply(this,e)-Sp;if(y||(y=t=In()),y.moveTo(s,u),y.arc(0,0,r,o,a),o===c&&a===h||(y.quadraticCurveTo(0,0,l*bp(c),l*_p(c)),y.arc(0,0,l,c,h)),y.quadraticCurveTo(0,0,s,u),y.closePath(),t)return y=null,t+""||null}var f=Fn,d=zn,p=Vn,g=jn,v=Gn,y=null;return e.radius=function(t){return arguments.length?(p="function"==typeof t?t:Ap(+t),e):p},e.startAngle=function(t){return arguments.length?(g="function"==typeof t?t:Ap(+t),e):g},e.endAngle=function(t){return arguments.length?(v="function"==typeof t?t:Ap(+t),e):v},e.source=function(t){return arguments.length?(f=t,e):f},e.target=function(t){return arguments.length?(d=t,e):d},e.context=function(t){return arguments.length?(y=null==t?null:t,e):y},e};Hn.prototype=$n.prototype={constructor:Hn,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var Dp=function(){function f(t,n,i,r){if(n>=g.length)return null!=p?p(t):null!=d?t.sort(d):t;for(var e,o,a,s=-1,u=t.length,l=g[n++],c=$n(),h=i();++s<u;)(a=c.get(e=l(o=t[s])+""))?a.push(o):c.set(e,[o]);return c.each(function(t,e){r(h,e,f(t,n,i,r))}),h}function o(t,n){if(++n>g.length)return t;var i,r=a[n-1];return null!=p&&n>=g.length?i=t.entries():(i=[],t.each(function(t,e){i.push({key:e,values:o(t,n)})})),null!=r?i.sort(function(t,e){return r(t.key,e.key)}):i}var d,p,e,g=[],a=[];return e={object:function(t){return f(t,0,qn,Bn)},map:function(t){return f(t,0,Un,Xn)},entries:function(t){return o(f(t,0,Un,Xn),0)},key:function(t){return g.push(t),e},sortKeys:function(t){return a[g.length-1]=t,e},sortValues:function(t){return d=t,e},rollup:function(t){return p=t,e}}},Rp=$n.prototype;Yn.prototype=Wn.prototype={constructor:Yn,has:Rp.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Rp.remove,clear:Rp.clear,values:Rp.keys,size:Rp.size,empty:Rp.empty,each:Rp.each};var Op=function(t){var e=[];for(var n in t)e.push(n);return e},Ip=function(t){var e=[];for(var n in t)e.push(t[n]);return e},Fp=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},zp=function(i){function t(t,n){var i,r,e=o(t,function(t,e){if(i)return i(t,e-1);r=t,i=n?Zn(t,n):Qn(t)});return e.columns=r,e}function o(r,t){function e(){if(u<=l)return s;if(o)return o=!1,a;var t,e=l;if(34===r.charCodeAt(e)){for(var n=e;n++<u;)if(34===r.charCodeAt(n)){if(34!==r.charCodeAt(n+1))break;++n}return l=n+2,13===(t=r.charCodeAt(n+1))?(o=!0,10===r.charCodeAt(n+2)&&++l):10===t&&(o=!0),r.slice(e+1,n).replace(/""/g,'"')}for(;l<u;){var i=1;if(10===(t=r.charCodeAt(l++)))o=!0;else if(13===t)o=!0,10===r.charCodeAt(l)&&(++l,++i);else if(t!==f)continue;return r.slice(e,l-i)}return r.slice(e)}for(var n,o,a={},s={},i=[],u=r.length,l=0,c=0;(n=e())!==s;){for(var h=[];n!==a&&n!==s;)h.push(n),n=e();t&&null==(h=t(h,c++))||i.push(h)}return i}function e(t,n){return null==n&&(n=Kn(t)),[n.map(a).join(i)].concat(t.map(function(e){return n.map(function(t){return a(e[t])}).join(i)})).join("\n")}function n(t){return t.map(r).join("\n")}function r(t){return t.map(a).join(i)}function a(t){return null==t?"":s.test(t+="")?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+i+"\n\r]"),f=i.charCodeAt(0);return{parse:t,parseRows:o,format:e,formatRows:n}},Vp=zp(","),jp=Vp.parse,Gp=Vp.parseRows,Hp=Vp.format,$p=Vp.formatRows,qp=zp("\t"),Bp=qp.parse,Up=qp.parseRows,Xp=qp.format,Yp=qp.formatRows,Wp=function(o,a){function e(){var t,e,n=s.length,i=0,r=0;for(t=0;t<n;++t)i+=(e=s[t]).x,r+=e.y;for(i=i/n-o,r=r/n-a,t=0;t<n;++t)(e=s[t]).x-=i,e.y-=r}var s;return null==o&&(o=0),null==a&&(a=0),e.initialize=function(t){s=t},e.x=function(t){return arguments.length?(o=+t,e):o},e.y=function(t){return arguments.length?(a=+t,e):a},e},Qp=function(t){return function(){return t}},Zp=function(){return 1e-6*(Math.random()-.5)},Kp=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Jn(this.cover(e,n),e,n,t)},Jp=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{if(!(t<n||r<t||e<i||o<e))return this;var a,s,u=r-n,l=this._root;switch(s=(e<(i+o)/2)<<1|t<(n+r)/2){case 0:for(;(a=new Array(4))[s]=l,l=a,o=i+(u*=2),(r=n+u)<t||o<e;);break;case 1:for(;(a=new Array(4))[s]=l,l=a,o=i+(u*=2),t<(n=r-u)||o<e;);break;case 2:for(;(a=new Array(4))[s]=l,l=a,i=o-(u*=2),(r=n+u)<t||e<i;);break;case 3:for(;(a=new Array(4))[s]=l,l=a,i=o-(u*=2),t<(n=r-u)||e<i;);}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},tg=function(){var e=[];return this.visit(function(t){if(!t.length)for(;e.push(t.data),t=t.next;);}),e},eg=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ng=function(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r},ig=function(t,e,n){var i,r,o,a,s,u,l,c=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new ng(g,c,h,f,d)),null==n?n=1/0:(c=t-n,h=e-n,f=t+n,d=e+n,n*=n);u=p.pop();)if(!(!(g=u.node)||(r=u.x0)>f||(o=u.y0)>d||(a=u.x1)<c||(s=u.y1)<h))if(g.length){var v=(r+a)/2,y=(o+s)/2;p.push(new ng(g[3],v,y,a,s),new ng(g[2],r,y,v,s),new ng(g[1],v,o,a,y),new ng(g[0],r,o,v,y)),(l=(y<=e)<<1|v<=t)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=u)}else{var m=t-+this._x.call(null,g.data),x=e-+this._y.call(null,g.data),b=m*m+x*x;if(b<n){var _=Math.sqrt(n=b);c=t-_,h=e-_,f=t+_,d=e+_,i=g.data}}return i},rg=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,i,r,o,a,s,u,l,c,h,f,d=this._root,p=this._x0,g=this._y0,v=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((l=o>=(s=(p+v)/2))?p=s:v=s,(c=a>=(u=(g+y)/2))?g=u:y=u,!(d=(e=d)[h=c<<1|l]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(!(d=(i=d).next))return this;return(r=d.next)&&delete d.next,i?r?i.next=r:delete i.next:e?(r?e[h]=r:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d)):this._root=r,this},og=function(){return this._root},ag=function(){var e=0;return this.visit(function(t){if(!t.length)for(;++e,t=t.next;);}),e},sg=function(t){var e,n,i,r,o,a,s=[],u=this._root;for(u&&s.push(new ng(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,i=e.x0,r=e.y0,o=e.x1,a=e.y1)&&u.length){var l=(i+o)/2,c=(r+a)/2;(n=u[3])&&s.push(new ng(n,l,c,o,a)),(n=u[2])&&s.push(new ng(n,i,c,l,a)),(n=u[1])&&s.push(new ng(n,l,r,o,c)),(n=u[0])&&s.push(new ng(n,i,r,l,c))}return this},ug=function(t){var e,n=[],i=[];for(this._root&&n.push(new ng(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var o,a=e.x0,s=e.y0,u=e.x1,l=e.y1,c=(a+u)/2,h=(s+l)/2;(o=r[0])&&n.push(new ng(o,a,s,c,h)),(o=r[1])&&n.push(new ng(o,c,s,u,h)),(o=r[2])&&n.push(new ng(o,a,h,c,l)),(o=r[3])&&n.push(new ng(o,c,h,u,l))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},lg=function(t){return arguments.length?(this._x=t,this):this._x},cg=function(t){return arguments.length?(this._y=t,this):this._y},hg=ri.prototype=oi.prototype;hg.copy=function(){var t,e,n=new oi(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=ai(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=ai(e));return n},hg.add=Kp,hg.addAll=ti,hg.cover=Jp,hg.data=tg,hg.extent=eg,hg.find=ig,hg.remove=rg,hg.removeAll=ei,hg.root=og,hg.size=ag,hg.visit=sg,hg.visitAfter=ug,hg.x=lg,hg.y=cg;var fg,dg=function(i){function e(){function t(t,e,n,i,r){var o=t.data,a=t.r,s=p+a;if(!o)return f+s<e||i<f-s||d+s<n||r<d-s;if(o.index>h.index){var u=f-o.x-o.vx,l=d-o.y-o.vy,c=u*u+l*l;c<s*s&&(0===u&&(c+=(u=Zp())*u),0===l&&(c+=(l=Zp())*l),c=(s-(c=Math.sqrt(c)))/c*v,h.vx+=(u*=c)*(s=(a*=a)/(g+a)),h.vy+=(l*=c)*s,o.vx-=u*(s=1-s),o.vy-=l*s)}}for(var e,n,h,f,d,p,g,i=a.length,r=0;r<u;++r)for(n=ri(a,si,ui).visitAfter(o),e=0;e<i;++e)h=a[e],p=s[h.index],g=p*p,f=h.x+h.vx,d=h.y+h.vy,n.visit(t)}function o(t){if(t.data)return t.r=s[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function n(){if(a){var t,e,n=a.length;for(s=new Array(n),t=0;t<n;++t)e=a[t],s[e.index]=+i(e,t,a)}}var a,s,v=1,u=1;return"function"!=typeof i&&(i=Qp(null==i?1:+i)),e.initialize=function(t){a=t,n()},e.iterations=function(t){return arguments.length?(u=+t,e):u},e.strength=function(t){return arguments.length?(v=+t,e):v},e.radius=function(t){return arguments.length?(i="function"==typeof t?t:Qp(+t),n(),e):i},e},pg=function(h){function t(t){return 1/Math.min(u[t.source.index],u[t.target.index])}function e(t){for(var e=0,n=h.length;e<g;++e)for(var i,r,o,a,s,u,l,c=0;c<n;++c)r=(i=h[c]).source,a=(o=i.target).x+o.vx-r.x-r.vx||Zp(),s=o.y+o.vy-r.y-r.vy||Zp(),a*=u=((u=Math.sqrt(a*a+s*s))-d[c])/u*t*f[c],s*=u,o.vx-=a*(l=p[c]),o.vy-=s*l,r.vx+=a*(l=1-l),r.vy+=s*l}function n(){if(s){var t,e,n=s.length,i=h.length,r=$n(s,l);for(t=0,u=new Array(n);t<i;++t)(e=h[t]).index=t,"object"!=typeof e.source&&(e.source=ci(r,e.source)),"object"!=typeof e.target&&(e.target=ci(r,e.target)),u[e.source.index]=(u[e.source.index]||0)+1,u[e.target.index]=(u[e.target.index]||0)+1;for(t=0,p=new Array(i);t<i;++t)e=h[t],p[t]=u[e.source.index]/(u[e.source.index]+u[e.target.index]);f=new Array(i),o(),d=new Array(i),a()}}function o(){if(s)for(var t=0,e=h.length;t<e;++t)f[t]=+i(h[t],t,h)}function a(){if(s)for(var t=0,e=h.length;t<e;++t)d[t]=+r(h[t],t,h)}var f,d,s,u,p,l=li,i=t,r=Qp(30),g=1;return null==h&&(h=[]),e.initialize=function(t){s=t,n()},e.links=function(t){return arguments.length?(h=t,n(),e):h},e.id=function(t){return arguments.length?(l=t,e):l},e.iterations=function(t){return arguments.length?(g=+t,e):g},e.strength=function(t){return arguments.length?(i="function"==typeof t?t:Qp(+t),o(),e):i},e.distance=function(t){return arguments.length?(r="function"==typeof t?t:Qp(+t),a(),e):r},e},gg=10,vg=Math.PI*(3-Math.sqrt(5)),yg=function(c){function t(){e(),d.call("tick",r),o<a&&(f.stop(),d.call("end",r))}function e(){var t,e,n=c.length;for(o+=(u-o)*s,h.each(function(t){t(o)}),t=0;t<n;++t)null==(e=c[t]).fx?e.x+=e.vx*=l:(e.x=e.fx,e.vx=0),null==e.fy?e.y+=e.vy*=l:(e.y=e.fy,e.vy=0)}function n(){for(var t,e=0,n=c.length;e<n;++e){if((t=c[e]).index=e,isNaN(t.x)||isNaN(t.y)){var i=gg*Math.sqrt(e),r=e*vg;t.x=i*Math.cos(r),t.y=i*Math.sin(r)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function i(t){return t.initialize&&t.initialize(c),t}var r,o=1,a=.001,s=1-Math.pow(a,1/300),u=0,l=.6,h=$n(),f=me(t),d=P("tick","end");return null==c&&(c=[]),n(),r={tick:e,restart:function(){return f.restart(t),r},stop:function(){return f.stop(),r},nodes:function(t){return arguments.length?(c=t,n(),h.each(i),r):c},alpha:function(t){return arguments.length?(o=+t,r):o},alphaMin:function(t){return arguments.length?(a=+t,r):a},alphaDecay:function(t){return arguments.length?(s=+t,r):+s},alphaTarget:function(t){return arguments.length?(u=+t,r):u},velocityDecay:function(t){return arguments.length?(l=1-t,r):1-l},force:function(t,e){return 1<arguments.length?(null==e?h.remove(t):h.set(t,i(e)),r):h.get(t)},find:function(t,e,n){var i,r,o,a,s,u=0,l=c.length;for(null==n?n=1/0:n*=n,u=0;u<l;++u)(o=(i=t-(a=c[u]).x)*i+(r=e-a.y)*r)<n&&(s=a,n=o);return s},on:function(t,e){return 1<arguments.length?(d.on(t,e),r):d.on(t)}}},mg=function(){function e(t){var e,n=a.length,i=ri(a,hi,fi).visitAfter(r);for(l=t,e=0;e<n;++e)u=a[e],i.visit(o)}function n(){if(a){var t,e,n=a.length;for(c=new Array(n),t=0;t<n;++t)e=a[t],c[e.index]=+i(e,t,a)}}function r(t){var e,n,i,r,o,a=0;if(t.length){for(i=r=o=0;o<4;++o)(e=t[o])&&(n=e.value)&&(a+=n,i+=n*e.x,r+=n*e.y);t.x=i/a,t.y=r/a}else for((e=t).x=e.data.x,e.y=e.data.y;a+=c[e.data.index],e=e.next;);t.value=a}function o(t,e,n,i){if(!t.value)return!0;var r=t.x-u.x,o=t.y-u.y,a=i-e,s=r*r+o*o;if(a*a/d<s)return s<f&&(0===r&&(s+=(r=Zp())*r),0===o&&(s+=(o=Zp())*o),s<h&&(s=Math.sqrt(h*s)),u.vx+=r*t.value*l/s,u.vy+=o*t.value*l/s),!0;if(!(t.length||f<=s))for((t.data!==u||t.next)&&(0===r&&(s+=(r=Zp())*r),0===o&&(s+=(o=Zp())*o),s<h&&(s=Math.sqrt(h*s)));t.data!==u&&(a=c[t.data.index]*l/s,u.vx+=r*a,u.vy+=o*a),t=t.next;);}var a,u,l,c,i=Qp(-30),h=1,f=1/0,d=.81;return e.initialize=function(t){a=t,n()},e.strength=function(t){return arguments.length?(i="function"==typeof t?t:Qp(+t),n(),e):i},e.distanceMin=function(t){return arguments.length?(h=t*t,e):Math.sqrt(h)},e.distanceMax=function(t){return arguments.length?(f=t*t,e):Math.sqrt(f)},e.theta=function(t){return arguments.length?(d=t*t,e):Math.sqrt(d)},e},xg=function(n){function e(t){for(var e,n=0,i=r.length;n<i;++n)(e=r[n]).vx+=(a[n]-e.x)*o[n]*t}function i(){if(r){var t,e=r.length;for(o=new Array(e),a=new Array(e),t=0;t<e;++t)o[t]=isNaN(a[t]=+n(r[t],t,r))?0:+s(r[t],t,r)}}var r,o,a,s=Qp(.1);return"function"!=typeof n&&(n=Qp(null==n?0:+n)),e.initialize=function(t){r=t,i()},e.strength=function(t){return arguments.length?(s="function"==typeof t?t:Qp(+t),i(),e):s},e.x=function(t){return arguments.length?(n="function"==typeof t?t:Qp(+t),i(),e):n},e},bg=function(n){function e(t){for(var e,n=0,i=r.length;n<i;++n)(e=r[n]).vy+=(a[n]-e.y)*o[n]*t}function i(){if(r){var t,e=r.length;for(o=new Array(e),a=new Array(e),t=0;t<e;++t)o[t]=isNaN(a[t]=+n(r[t],t,r))?0:+s(r[t],t,r)}}var r,o,a,s=Qp(.1);return"function"!=typeof n&&(n=Qp(null==n?0:+n)),e.initialize=function(t){r=t,i()},e.strength=function(t){return arguments.length?(s="function"==typeof t?t:Qp(+t),i(),e):s},e.y=function(t){return arguments.length?(n="function"==typeof t?t:Qp(+t),i(),e):n},e},_g=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[1<i.length?i[0]+i.slice(2):i,+t.slice(n+1)]},wg=function(t){return(t=_g(Math.abs(t)))?t[1]:NaN},Sg=function(s,u){return function(t,e){for(var n=t.length,i=[],r=0,o=s[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),i.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=s[r=(r+1)%s.length];return i.reverse().join(u)}},Tg=function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}},Cg=function(t,e){var n=_g(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},kg={"":function(t,e){t:for(var n,i=(t=t.toPrecision(e)).length,r=1,o=-1;r<i;++r)switch(t[r]){case".":o=n=r;break;case"0":0===o&&(o=r),n=r;break;case"e":break t;default:0<o&&(o=0)}return 0<o?t.slice(0,o)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Cg(100*t,e)},r:Cg,s:function(t,e){var n=_g(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(fg=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:a<o?i+new Array(o-a+1).join("0"):0<o?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+_g(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Mg=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;di.prototype=pi.prototype,pi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Ag,Eg=function(t){return t},Lg=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],Pg=function(t){function a(t){function e(t){var e,n,i,r=y,o=m;if("c"===v)o=x(t)+o,t="";else{var a=(t=+t)<0;if(t=x(Math.abs(t),g),a&&0==+t&&(a=!1),r=(a?"("===h?h:"-":"-"===h||"("===h?"":h)+r,o=o+("s"===v?Lg[8+fg/3]:"")+(a&&"("===h?")":""),b)for(e=-1,n=t.length;++e<n;)if((i=t.charCodeAt(e))<48||57<i){o=(46===i?w+t.slice(e+1):t.slice(e))+o,t=t.slice(0,e);break}}p&&!f&&(t=_(t,1/0));var s=r.length+t.length+o.length,u=s<d?new Array(d-s+1).join(l):"";switch(p&&f&&(t=_(u+t,u.length?d-o.length:1/0),u=""),c){case"<":t=r+t+o+u;break;case"=":t=r+u+t+o;break;case"^":t=u.slice(0,s=u.length>>1)+r+t+o+u.slice(s);break;default:t=u+r+t+o}return S(t)}var l=(t=di(t)).fill,c=t.align,h=t.sign,n=t.symbol,f=t.zero,d=t.width,p=t.comma,g=t.precision,v=t.type,y="$"===n?i[0]:"#"===n&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",m="$"===n?i[1]:/[%p]/.test(v)?"%":"",x=kg[v],b=!v||/[defgprs%]/.test(v);return g=null==g?v?6:12:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),e.toString=function(){return t+""},e}function e(t,e){var n=a(((t=di(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(wg(e)/3))),r=Math.pow(10,-i),o=Lg[8+i/3];return function(t){return n(r*t)+o}}var _=t.grouping&&t.thousands?Sg(t.grouping,t.thousands):Eg,i=t.currency,w=t.decimal,S=t.numerals?Tg(t.numerals):Eg;return{format:a,formatPrefix:e}};gi({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Ng=function(t){return Math.max(0,-wg(Math.abs(t)))},Dg=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(wg(e)/3)))-wg(Math.abs(t)))},Rg=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wg(e)-wg(t))+1},Og=function(){return new vi};vi.prototype={constructor:vi,reset:function(){this.s=this.t=0},add:function(t){yi(dv,t,this.t),yi(this,dv.s,this.s),this.s?this.t+=dv.t:this.s=dv.t},valueOf:function(){return this.s}};var Ig,Fg,zg,Vg,jg,Gg,Hg,$g,qg,Bg,Ug,Xg,Yg,Wg,Qg,Zg,Kg,Jg,tv,ev,nv,iv,rv,ov,av,sv,uv,lv,cv,hv,fv,dv=new vi,pv=1e-6,gv=Math.PI,vv=gv/2,yv=gv/4,mv=2*gv,xv=180/gv,bv=gv/180,_v=Math.abs,wv=Math.atan,Sv=Math.atan2,Tv=Math.cos,Cv=Math.ceil,kv=Math.exp,Mv=Math.log,Av=Math.pow,Ev=Math.sin,Lv=Math.sign||function(t){return 0<t?1:t<0?-1:0},Pv=Math.sqrt,Nv=Math.tan,Dv={Feature:function(t,e){wi(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)wi(n[i].geometry,e)}},Rv={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){Si(t.coordinates,e,0)},MultiLineString:function(t,e){
for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Si(n[i],e,0)},Polygon:function(t,e){Ti(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Ti(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)wi(n[i],e)}},Ov=function(t,e){t&&Dv.hasOwnProperty(t.type)?Dv[t.type](t,e):wi(t,e)},Iv=Og(),Fv=Og(),zv={point:_i,lineStart:_i,lineEnd:_i,polygonStart:function(){Iv.reset(),zv.lineStart=Ci,zv.lineEnd=ki},polygonEnd:function(){var t=+Iv;Fv.add(t<0?mv+t:t),this.lineStart=this.lineEnd=this.point=_i},sphere:function(){Fv.add(mv)}},Vv=function(t){return Fv.reset(),Ov(t,zv),2*Fv},jv=Og(),Gv={point:Ii,lineStart:zi,lineEnd:Vi,polygonStart:function(){Gv.point=ji,Gv.lineStart=Gi,Gv.lineEnd=Hi,jv.reset(),zv.polygonStart()},polygonEnd:function(){zv.polygonEnd(),Gv.point=Ii,Gv.lineStart=zi,Gv.lineEnd=Vi,Iv<0?(Gg=-($g=180),Hg=-(qg=90)):pv<jv?qg=90:jv<-pv&&(Hg=-90),Qg[0]=Gg,Qg[1]=$g}},Hv=function(t){var e,n,i,r,o,a,s;if(qg=$g=-(Gg=Hg=1/0),Wg=[],Ov(t,Gv),n=Wg.length){for(Wg.sort(qi),e=1,o=[i=Wg[0]];e<n;++e)Bi(i,(r=Wg[e])[0])||Bi(i,r[1])?($i(i[0],r[1])>$i(i[0],i[1])&&(i[1]=r[1]),$i(r[0],i[1])>$i(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(a=-1/0,e=0,i=o[n=o.length-1];e<=n;i=r,++e)r=o[e],(s=$i(i[1],r[0]))>a&&(a=s,Gg=r[0],$g=i[1])}return Wg=Qg=null,Gg===1/0||Hg===1/0?[[NaN,NaN],[NaN,NaN]]:[[Gg,Hg],[$g,qg]]},$v={sphere:_i,point:Ui,lineStart:Yi,lineEnd:Zi,polygonStart:function(){$v.lineStart=Ki,$v.lineEnd=Ji},polygonEnd:function(){$v.lineStart=Yi,$v.lineEnd=Zi}},qv=function(t){Zg=Kg=Jg=tv=ev=nv=iv=rv=ov=av=sv=0,Ov(t,$v);var e=ov,n=av,i=sv,r=e*e+n*n+i*i;return r<1e-12&&(e=nv,n=iv,i=rv,Kg<pv&&(e=Jg,n=tv,i=ev),(r=e*e+n*n+i*i)<1e-12)?[NaN,NaN]:[Sv(n,e)*xv,xi(i/Pv(r))*xv]},Bv=function(t){return function(){return t}},Uv=function(n,i){function t(t,e){return t=n(t,e),i(t[0],t[1])}return n.invert&&i.invert&&(t.invert=function(t,e){return(t=i.invert(t,e))&&n.invert(t[0],t[1])}),t};nr.invert=nr;var Xv,Yv,Wv,Qv,Zv,Kv,Jv,ty,ey,ny,iy,ry=function(e){function t(t){return(t=e(t[0]*bv,t[1]*bv))[0]*=xv,t[1]*=xv,t}return e=ir(e[0]*bv,e[1]*bv,2<e.length?e[2]*bv:0),t.invert=function(t){return(t=e.invert(t[0]*bv,t[1]*bv))[0]*=xv,t[1]*=xv,t},t},oy=function(){function t(t,e){i.push(t=r(t,e)),t[0]*=xv,t[1]*=xv}function e(){var t=o.apply(this,arguments),e=a.apply(this,arguments)*bv,n=s.apply(this,arguments)*bv;return i=[],r=ir(-t[0]*bv,-t[1]*bv,0).invert,sr(u,e,n,1),t={type:"Polygon",coordinates:[i]},i=r=null,t}var i,r,o=Bv([0,0]),a=Bv(90),s=Bv(6),u={point:t};return e.center=function(t){return arguments.length?(o="function"==typeof t?t:Bv([+t[0],+t[1]]),e):o},e.radius=function(t){return arguments.length?(a="function"==typeof t?t:Bv(+t),e):a},e.precision=function(t){return arguments.length?(s="function"==typeof t?t:Bv(+t),e):s},e},ay=function(){var n,e=[];return{point:function(t,e){n.push([t,e])},lineStart:function(){e.push(n=[])},lineEnd:_i,rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))},result:function(){var t=e;return e=[],n=null,t}}},sy=function(t,e,n,i,r,o){var a,s=t[0],u=t[1],l=0,c=1,h=e[0]-s,f=e[1]-u;if(a=n-s,h||!(0<a)){if(a/=h,h<0){if(a<l)return;a<c&&(c=a)}else if(0<h){if(c<a)return;l<a&&(l=a)}if(a=r-s,h||!(a<0)){if(a/=h,h<0){if(c<a)return;l<a&&(l=a)}else if(0<h){if(a<l)return;a<c&&(c=a)}if(a=i-u,f||!(0<a)){if(a/=f,f<0){if(a<l)return;a<c&&(c=a)}else if(0<f){if(c<a)return;l<a&&(l=a)}if(a=o-u,f||!(a<0)){if(a/=f,f<0){if(c<a)return;l<a&&(l=a)}else if(0<f){if(a<l)return;a<c&&(c=a)}return 0<l&&(t[0]=s+l*h,t[1]=u+l*f),c<1&&(e[0]=s+c*h,e[1]=u+c*f),!0}}}}},uy=function(t,e){return _v(t[0]-e[0])<pv&&_v(t[1]-e[1])<pv},ly=function(t,e,n,i,o){var a,r,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],r=t[e];if(uy(i,r)){for(o.lineStart(),a=0;a<e;++a)o.point((i=t[a])[0],i[1]);return void o.lineEnd()}s.push(n=new lr(i,t,null,!0)),u.push(n.o=new lr(i,null,n,!1)),s.push(n=new lr(r,t,null,!1)),u.push(n.o=new lr(r,null,n,!0))}}),s.length){for(u.sort(e),cr(s),cr(u),a=0,r=u.length;a<r;++a)u[a].e=n=!n;for(var l,c,h=s[0];;){for(var f=h,d=!0;f.v;)if((f=f.n)===h)return;l=f.z,o.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(a=0,r=l.length;a<r;++a)o.point((c=l[a])[0],c[1]);else i(f.x,f.n.x,1,o);f=f.n}else{if(d)for(l=f.p.z,a=l.length-1;0<=a;--a)o.point((c=l[a])[0],c[1]);else i(f.x,f.p.x,-1,o);f=f.p}l=(f=f.o).z,d=!d}while(!f.v);o.lineEnd()}}},cy=1e9,hy=-cy,fy=function(){var e,n,i,r=0,o=0,a=960,s=500;return i={stream:function(t){return e&&n===t?e:e=hr(r,o,a,s)(n=t)},extent:function(t){return arguments.length?(r=+t[0][0],o=+t[0][1],a=+t[1][0],s=+t[1][1],e=n=null,i):[[r,o],[a,s]]}}},dy=Og(),py=function(t,e){var n=e[0],i=e[1],r=[Ev(n),-Tv(n),0],o=0,a=0;dy.reset();for(var s=0,u=t.length;s<u;++s)if(c=(l=t[s]).length)for(var l,c,h=l[c-1],f=h[0],d=h[1]/2+yv,p=Ev(d),g=Tv(d),v=0;v<c;++v,f=m,p=b,g=_,h=y){var y=l[v],m=y[0],x=y[1]/2+yv,b=Ev(x),_=Tv(x),w=m-f,S=0<=w?1:-1,T=S*w,C=gv<T,k=p*b;if(dy.add(Sv(k*S*Ev(T),g*_+k*Tv(T))),o+=C?w+S*mv:w,C^n<=f^n<=m){var M=Ni(Li(h),Li(y));Oi(M);var A=Ni(r,M);Oi(A);var E=(C^0<=w?-1:1)*xi(A[2]);(E<i||i===E&&(M[0]||M[1]))&&(a+=C^0<=w?1:-1)}}return(o<-pv||o<pv&&dy<-pv)^1&a},gy=Og(),vy={sphere:_i,point:_i,lineStart:fr,lineEnd:_i,polygonStart:_i,polygonEnd:_i},yy=function(t){return gy.reset(),Ov(t,vy),+gy},my=[null,null],xy={type:"LineString",coordinates:my},by=function(t,e){return my[0]=t,my[1]=e,yy(xy)},_y={Feature:function(t,e){return vr(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)if(vr(n[i].geometry,e))return!0;return!1}},wy={Sphere:function(){return!0},Point:function(t,e){return yr(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(yr(n[i],e))return!0;return!1},LineString:function(t,e){return mr(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(mr(n[i],e))return!0;return!1},Polygon:function(t,e){return xr(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(xr(n[i],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)if(vr(n[i],e))return!0;return!1}},Sy=function(t,e){return(t&&_y.hasOwnProperty(t.type)?_y[t.type]:vr)(t,e)},Ty=function(t,e){var n=t[0]*bv,i=t[1]*bv,r=e[0]*bv,o=e[1]*bv,a=Tv(i),s=Ev(i),u=Tv(o),l=Ev(o),c=a*Tv(n),h=a*Ev(n),f=u*Tv(r),d=u*Ev(r),p=2*xi(Pv(bi(o-i)+a*u*bi(r-n))),g=Ev(p),v=p?function(t){var e=Ev(t*=p)/g,n=Ev(p-t)/g,i=n*c+e*f,r=n*h+e*d,o=n*s+e*l;return[Sv(r,i)*xv,Sv(o,Pv(i*i+r*r))*xv]}:function(){return[n*xv,i*xv]};return v.distance=p,v},Cy=function(t){return t},ky=Og(),My=Og(),Ay={point:_i,lineStart:_i,lineEnd:_i,polygonStart:function(){Ay.lineStart=kr,Ay.lineEnd=Er},polygonEnd:function(){Ay.lineStart=Ay.lineEnd=Ay.point=_i,ky.add(_v(My)),My.reset()},result:function(){var t=ky/2;return ky.reset(),t}},Ey=1/0,Ly=Ey,Py=-Ey,Ny=Py,Dy={point:Lr,lineStart:_i,lineEnd:_i,polygonStart:_i,polygonEnd:_i,result:function(){var t=[[Ey,Ly],[Py,Ny]];return Py=Ny=-(Ly=Ey=1/0),t}},Ry=0,Oy=0,Iy=0,Fy=0,zy=0,Vy=0,jy=0,Gy=0,Hy=0,$y={point:Pr,lineStart:Nr,lineEnd:Or,polygonStart:function(){$y.lineStart=Ir,$y.lineEnd=Fr},polygonEnd:function(){$y.point=Pr,$y.lineStart=Nr,$y.lineEnd=Or},result:function(){var t=Hy?[jy/Hy,Gy/Hy]:Vy?[Fy/Vy,zy/Vy]:Iy?[Ry/Iy,Oy/Iy]:[NaN,NaN];return Ry=Oy=Iy=Fy=zy=Vy=jy=Gy=Hy=0,t}};jr.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,mv)}},result:_i};var qy,By,Uy,Xy,Yy,Wy=Og(),Qy={point:_i,lineStart:function(){Qy.point=Gr},lineEnd:function(){qy&&Hr(By,Uy),Qy.point=_i},polygonStart:function(){qy=!0},polygonEnd:function(){qy=null},result:function(){var t=+Wy;return Wy.reset(),t}};$r.prototype={_circle:qr(4.5),pointRadius:function(t){return this._circle=qr(t),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}}};var Zy=function(e,n){function i(t){return t&&("function"==typeof a&&o.pointRadius(+a.apply(this,arguments)),Ov(t,r(o))),o.result()}var r,o,a=4.5;return i.area=function(t){return Ov(t,r(Ay)),Ay.result()},i.measure=function(t){return Ov(t,r(Qy)),Qy.result()},i.bounds=function(t){return Ov(t,r(Dy)),Dy.result()},i.centroid=function(t){return Ov(t,r($y)),$y.result()},i.projection=function(t){return arguments.length?(r=null==t?(e=null,Cy):(e=t).stream,i):e},i.context=function(t){return arguments.length?(o=null==t?(n=null,new $r):new jr(n=t),"function"!=typeof a&&o.pointRadius(a),i):n},i.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(o.pointRadius(+t),+t),i):a},i.projection(e).context(n)},Ky=function(m,x,b,_){return function(i,s){function e(t,e){var n=i(t,e);m(t=n[0],e=n[1])&&s.point(t,e)}function t(t,e){var n=i(t,e);f.point(n[0],n[1])}function n(){y.point=t,f.lineStart()}function r(){y.point=e,f.lineEnd()}function u(t,e){h.push([t,e]);var n=i(t,e);g.point(n[0],n[1])}function o(){g.lineStart(),h=[]}function a(){u(h[0][0],h[0][1]),g.lineEnd();var t,e,n,i,r=g.clean(),o=p.result(),a=o.length;if(h.pop(),l.push(h),h=null,a)if(1&r){if(0<(e=(n=o[0]).length-1)){for(v||(s.polygonStart(),v=!0),s.lineStart(),t=0;t<e;++t)s.point((i=n[t])[0],i[1]);s.lineEnd()}}else 1<a&&2&r&&o.push(o.pop().concat(o.shift())),c.push(o.filter(Br))}var l,c,h,f=x(s),d=i.invert(_[0],_[1]),p=ay(),g=x(p),v=!1,y={point:e,lineStart:n,lineEnd:r,polygonStart:function(){y.point=u,y.lineStart=o,y.lineEnd=a,c=[],l=[]},polygonEnd:function(){y.point=e,y.lineStart=n,y.lineEnd=r,c=hc(c);var t=py(l,d);c.length?(v||(s.polygonStart(),v=!0),ly(c,Ur,t,b,s)):t&&(v||(s.polygonStart(),v=!0),s.lineStart(),b(null,null,1,s),s.lineEnd()),v&&(s.polygonEnd(),v=!1),c=l=null},sphere:function(){s.polygonStart(),s.lineStart(),b(null,null,1,s),s.lineEnd(),s.polygonEnd()}};return y}},Jy=Ky(function(){return!0},Xr,Wr,[-gv,-vv]),tm=function(r,o){function t(t,e,n,i){sr(i,r,o,n,t,e)}function d(t,e){return Tv(t)*Tv(e)>k}function e(s){var u,l,c,h,f;return{lineStart:function(){h=c=!1,f=1},point:function(t,e){var n,i=[t,e],r=d(t,e),o=v?r?0:g(t,e):r?g(t+(t<0?gv:-gv),e):0;if(!u&&(h=c=r)&&s.lineStart(),r!==c&&(n=p(u,i),(uy(u,n)||uy(i,n))&&(i[0]+=pv,i[1]+=pv,r=d(i[0],i[1]))),r!==c)f=0,r?(s.lineStart(),n=p(i,u),s.point(n[0],n[1])):(n=p(u,i),s.point(n[0],n[1]),s.lineEnd()),u=n;else if(y&&u&&v^r){var a;o&l||!(a=p(i,u,!0))||(f=0,v?(s.lineStart(),s.point(a[0][0],a[0][1]),s.point(a[1][0],a[1][1]),s.lineEnd()):(s.point(a[1][0],a[1][1]),s.lineEnd(),s.lineStart(),s.point(a[0][0],a[0][1])))}!r||u&&uy(u,i)||s.point(i[0],i[1]),u=i,c=r,l=o},lineEnd:function(){c&&s.lineEnd(),u=null},clean:function(){return f|(h&&c)<<1}}}function p(t,e,n){var i=[1,0,0],r=Ni(Li(t),Li(e)),o=Pi(r,r),a=r[0],s=o-a*a;if(!s)return!n&&t;var u=k*o/s,l=-k*a/s,c=Ni(i,r),h=Ri(i,u);Di(h,Ri(r,l));var f=c,d=Pi(h,f),p=Pi(f,f),g=d*d-p*(Pi(h,h)-1);if(!(g<0)){var v=Pv(g),y=Ri(f,(-d-v)/p);if(Di(y,h),y=Ei(y),!n)return y;var m,x=t[0],b=e[0],_=t[1],w=e[1];b<x&&(m=x,x=b,b=m);var S=b-x,T=_v(S-gv)<pv;if(!T&&w<_&&(m=_,_=w,w=m),T||S<pv?T?0<_+w^y[1]<(_v(y[0]-x)<pv?_:w):_<=y[1]&&y[1]<=w:gv<S^(x<=y[0]&&y[0]<=b)){var C=Ri(f,(-d+v)/p);return Di(C,h),[y,Ei(C)]}}}function g(t,e){var n=v?r:gv-r,i=0;return t<-n?i|=1:n<t&&(i|=2),e<-n?i|=4:n<e&&(i|=8),i}var k=Tv(r),v=0<k,y=_v(k)>pv;return Ky(d,e,t,v?[0,-r]:[-gv,r-gv])},em=function(t){return{stream:Qr(t)}};Zr.prototype={constructor:Zr,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var nm=16,im=Tv(30*bv),rm=function(t,e){return+e?eo(t,e):to(t)},om=Qr({point:function(t,e){this.stream.point(t*bv,e*bv)}}),am=function(){return ro(ao).scale(155.424).center([0,33.6442])},sm=function(){return am().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},um=function(){function n(t){var e=t[0],n=t[1];return u=null,o.point(e,n),u||(a.point(e,n),u)||(s.point(e,n),u)}function r(){return e=i=null,n}var e,i,o,a,s,u,l=sm(),c=am().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=am().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(t,e){u=[t,e]}};return n.invert=function(t){var e=l.scale(),n=l.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(.12<=r&&r<.234&&-.425<=i&&i<-.214?c:.166<=r&&r<.234&&-.214<=i&&i<-.115?h:l).invert(t)},n.stream=function(t){return e&&i===t?e:e=so([l.stream(i=t),c.stream(t),h.stream(t)])},n.precision=function(t){return arguments.length?(l.precision(t),c.precision(t),h.precision(t),r()):l.precision()},n.scale=function(t){return arguments.length?(l.scale(t),c.scale(.35*t),h.scale(t),n.translate(l.translate())):l.scale()},n.translate=function(t){if(!arguments.length)return l.translate();var e=l.scale(),n=+t[0],i=+t[1];return o=l.translate(t).clipExtent([[n-.455*e,i-.238*e],[n+.455*e,i+.238*e]]).stream(f),a=c.translate([n-.307*e,i+.201*e]).clipExtent([[n-.425*e+pv,i+.12*e+pv],[n-.214*e-pv,i+.234*e-pv]]).stream(f),s=h.translate([n-.205*e,i+.212*e]).clipExtent([[n-.214*e+pv,i+.166*e+pv],[n-.115*e-pv,i+.234*e-pv]]).stream(f),r()},n.fitExtent=function(t,e){return Kr(n,t,e)},n.fitSize=function(t,e){return Jr(n,t,e)},n.scale(1070)},lm=uo(function(t){return Pv(2/(1+t))});lm.invert=lo(function(t){return 2*xi(t/2)});var cm=function(){return no(lm).scale(124.75).clipAngle(179.999)},hm=uo(function(t){return(t=mi(t))&&t/Ev(t)});hm.invert=lo(function(t){return t});var fm=function(){return no(hm).scale(79.4188).clipAngle(179.999)};co.invert=function(t,e){return[t,2*wv(kv(e))-vv]};var dm=function(){return ho(co).scale(961/mv)},pm=function(){return ro(po).scale(109.5).parallels([30,30])};go.invert=go;var gm=function(){return no(go).scale(152.63)},vm=function(){return ro(vo).scale(131.154).center([0,13.9389])};yo.invert=lo(wv);var ym=function(){return no(yo).scale(144.049).clipAngle(60)},mm=function(){function e(){return o=a=null,s}var n,i,r,o,a,s,u=1,l=0,c=0,h=1,f=1,d=Cy,p=null,g=Cy;return s={stream:function(t){return o&&a===t?o:o=d(g(a=t))},clipExtent:function(t){return arguments.length?(g=null==t?(p=n=i=r=null,Cy):hr(p=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),e()):null==p?null:[[p,n],[i,r]]},scale:function(t){return arguments.length?(d=mo((u=+t)*h,u*f,l,c),e()):u},translate:function(t){return arguments.length?(d=mo(u*h,u*f,l=+t[0],c=+t[1]),e()):[l,c]},reflectX:function(t){return arguments.length?(d=mo(u*(h=t?-1:1),u*f,l,c),e()):h<0},reflectY:function(t){return arguments.length?(d=mo(u*h,u*(f=t?-1:1),l,c),e()):f<0},fitExtent:function(t,e){return Kr(s,t,e)},fitSize:function(t,e){return Jr(s,t,e)}}};xo.invert=lo(xi);var xm=function(){return no(xo).scale(249.5).clipAngle(90+pv)};bo.invert=lo(function(t){return 2*wv(t)});var bm=function(){return no(bo).scale(250).clipAngle(142)};_o.invert=function(t,e){return[-e,2*wv(kv(t))-vv]};var _m=function(){var t=ho(_o),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)},wm=function(){function e(e){var n,i=0;e.eachAfter(function(t){var e=t.children;e?(t.x=So(e),t.y=Co(e)):(t.x=n?i+=s(t,n):0,t.y=0,n=t)});var t=Mo(e),r=Ao(e),o=t.x-s(t,r)/2,a=r.x+s(r,t)/2;return e.eachAfter(c?function(t){t.x=(t.x-e.x)*u,t.y=(e.y-t.y)*l}:function(t){t.x=(t.x-o)/(a-o)*u,t.y=(1-(e.y?t.y/e.y:1))*l})}var s=wo,u=1,l=1,c=!1;return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(c=!1,u=+t[0],l=+t[1],e):c?null:[u,l]},e.nodeSize=function(t){return arguments.length?(c=!0,u=+t[0],l=+t[1],e):c?[u,l]:null},e},Sm=function(){return this.eachAfter(Eo)},Tm=function(t){var e,n,i,r,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(i=0,r=n.length;i<r;++i)a.push(n[i])}while(a.length);return this},Cm=function(t){for(var e,n,i=this,r=[i];i=r.pop();)if(t(i),e=i.children)for(n=e.length-1;0<=n;--n)r.push(e[n]);return this},km=function(t){for(var e,n,i,r=this,o=[r],a=[];r=o.pop();)if(a.push(r),e=r.children)for(n=0,i=e.length;n<i;++n)o.push(e[n]);for(;r=a.pop();)t(r);return this},Mm=function(r){return this.eachAfter(function(t){for(var e=+r(t.data)||0,n=t.children,i=n&&n.length;0<=--i;)e+=n[i].value;t.value=e})},Am=function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},Em=function(t){for(var e=this,n=Lo(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i},Lm=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},Pm=function(){var e=[];return this.each(function(t){e.push(t)}),e},Nm=function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},Dm=function(){var e=this,n=[];return e.each(function(t){t!==e&&n.push({source:t.parent,target:t})}),n};Io.prototype=Po.prototype={constructor:Io,count:Sm,each:Tm,eachAfter:km,eachBefore:Cm,sum:Mm,sort:Am,path:Em,ancestors:Lm,descendants:Pm,leaves:Nm,links:Dm,copy:No};var Rm=function(t){for(var e=(t=t.slice()).length,n=null,i=n;e;){var r=new Fo(t[e-1]);i=i?i.next=r:n=r,t[void 0]=t[--e]}return{head:n,tail:i}},Om=function(t){return Vo(Rm(t),[])},Im=function(t){return Xo(t),t},Fm=function(t){return function(){return t}},zm=function(){function e(t){return t.x=i/2,t.y=r/2,n?t.eachBefore(Ko(n)).eachAfter(Jo(o,.5)).eachBefore(ta(1)):t.eachBefore(Ko(Zo)).eachAfter(Jo(Qo,1)).eachAfter(Jo(o,t.r/Math.min(i,r))).eachBefore(ta(Math.min(i,r)/(2*t.r))),t}var n=null,i=1,r=1,o=Qo;return e.radius=function(t){return arguments.length?(n=Yo(t),e):n},e.size=function(t){return arguments.length?(i=+t[0],r=+t[1],e):[i,r]},e.padding=function(t){return arguments.length?(o="function"==typeof t?t:Fm(+t),e):o},e},Vm=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},jm=function(t,e,n,i,r){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(i-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=r,o.x0=e,o.x1=e+=o.value*l},Gm=function(){function e(t){var e=t.height+1;return t.x0=t.y0=s,t.x1=i,t.y1=r/e,t.eachBefore(n(r,e)),o&&t.eachBefore(Vm),t}function n(o,a){return function(t){t.children&&jm(t,t.x0,o*(t.depth+1)/a,t.x1,o*(t.depth+2)/a);var e=t.x0,n=t.y0,i=t.x1-s,r=t.y1-s;i<e&&(e=i=(e+i)/2),r<n&&(n=r=(n+r)/2),t.x0=e,t.y0=n,t.x1=i,t.y1=r}}var i=1,r=1,s=0,o=!1;return e.round=function(t){return arguments.length?(o=!!t,e):o},e.size=function(t){return arguments.length?(i=+t[0],r=+t[1],e):[i,r]},e.padding=function(t){return arguments.length?(s=+t,e):s},e},Hm="$",$m={depth:-1},qm={},Bm=function(){function e(t){var e,n,i,r,o,a,s,u=t.length,l=new Array(u),c={};for(n=0;n<u;++n)e=t[n],o=l[n]=new Io(e),null!=(a=h(e,n,t))&&(a+="")&&(c[s=Hm+(o.id=a)]=s in c?qm:o);for(n=0;n<u;++n)if(o=l[n],null!=(a=f(t[n],n,t))&&(a+="")){if(!(r=c[Hm+a]))throw new Error("missing: "+a);if(r===qm)throw new Error("ambiguous: "+a);r.children?r.children.push(o):r.children=[o],o.parent=r}else{if(i)throw new Error("multiple roots");i=o}if(!i)throw new Error("no root");if(i.parent=$m,i.eachBefore(function(t){t.depth=t.parent.depth+1,--u}).eachBefore(Oo),i.parent=null,0<u)throw new Error("cycle");return i}var h=ea,f=na;return e.id=function(t){return arguments.length?(h=Wo(t),e):h},e.parentId=function(t){return arguments.length?(f=Wo(t),e):f},e};la.prototype=Object.create(Io.prototype);var Um=function(){function e(t){var e=ca(t);if(e.eachAfter(l),e.parent.m=-e.z,e.eachBefore(c),g)t.eachBefore(h);else{var n=t,i=t,r=t;t.eachBefore(function(t){t.x<n.x&&(n=t),t.x>i.x&&(i=t),t.depth>r.depth&&(r=t)});var o=n===i?1:f(n,i)/2,a=o-n.x,s=d/(i.x+o+a),u=p/(r.depth||1);t.eachBefore(function(t){t.x=(t.x+a)*s,t.y=t.depth*u})}return t}function l(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e){sa(t);var r=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+f(t._,i._),t.m=t.z-r):t.z=r}else i&&(t.z=i.z+f(t._,i._));t.parent.A=o(t,i,t.parent.A||n[0])}function c(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function o(t,e,n){if(e){for(var i,r=t,o=t,a=e,s=r.parent.children[0],u=r.m,l=o.m,c=a.m,h=s.m;a=oa(a),r=ra(r),a&&r;)s=ra(s),(o=oa(o)).a=t,0<(i=a.z+c-r.z-u+f(a._,r._))&&(aa(ua(a,t,n),t,i),u+=i,l+=i),c+=a.m,u+=r.m,h+=s.m,l+=o.m;a&&!oa(o)&&(o.t=a,o.m+=c-l),r&&!ra(s)&&(s.t=r,s.m+=u-h,n=t)}return n}function h(t){t.x*=d,t.y=t.depth*p}var f=ia,d=1,p=1,g=null;return e.separation=function(t){return arguments.length?(f=t,e):f},e.size=function(t){return arguments.length?(g=!1,d=+t[0],p=+t[1],e):g?null:[d,p]},e.nodeSize=function(t){return arguments.length?(g=!0,d=+t[0],p=+t[1],e):g?[d,p]:null},e},Xm=function(t,e,n,i,r){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(r-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=i,o.y0=n,o.y1=n+=o.value*l},Ym=(1+Math.sqrt(5))/2,Wm=function e(o){function t(t,e,n,i,r){ha(o,t,e,n,i,r)}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(Ym),Qm=function(){function e(t){return t.x0=t.y0=0,t.x1=r,t.y1=o,t.eachBefore(n),s=[0],i&&t.eachBefore(Vm),t}function n(t){var e=s[t.depth],n=t.x0+e,i=t.y0+e,r=t.x1-e,o=t.y1-e;r<n&&(n=r=(n+r)/2),o<i&&(i=o=(i+o)/2),t.x0=n,t.y0=i,t.x1=r,t.y1=o,t.children&&(e=s[t.depth+1]=u(t)/2,n+=f(t)-e,i+=l(t)-e,(r-=c(t)-e)<n&&(n=r=(n+r)/2),(o-=h(t)-e)<i&&(i=o=(i+o)/2),a(t,n,i,r,o))}var a=Wm,i=!1,r=1,o=1,s=[0],u=Qo,l=Qo,c=Qo,h=Qo,f=Qo;return e.round=function(t){return arguments.length?(i=!!t,e):i},e.size=function(t){return arguments.length?(r=+t[0],o=+t[1],e):[r,o]},e.tile=function(t){return arguments.length?(a=Wo(t),e):a},e.padding=function(t){return arguments.length?e.paddingInner(t).paddingOuter(t):e.paddingInner()},e.paddingInner=function(t){return arguments.length?(u="function"==typeof t?t:Fm(+t),e):u},e.paddingOuter=function(t){return arguments.length?e.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):e.paddingTop()},e.paddingTop=function(t){return arguments.length?(l="function"==typeof t?t:Fm(+t),e):l},e.paddingRight=function(t){return arguments.length?(c="function"==typeof t?t:Fm(+t),e):c},e.paddingBottom=function(t){return arguments.length?(h="function"==typeof t?t:Fm(+t),e):h},e.paddingLeft=function(t){return arguments.length?(f="function"==typeof t?t:Fm(+t),e):f},e},Zm=function(t,e,n,i,r){function y(t,e,n,i,r,o,a){if(e-1<=t){var s=m[t];return s.x0=i,s.y0=r,s.x1=o,void(s.y1=a)}for(var u=x[t],l=n/2+u,c=t+1,h=e-1;c<h;){var f=c+h>>>1;x[f]<l?c=f+1:h=f}l-x[c-1]<x[c]-l&&t+1<c&&--c;var d=x[c]-u,p=n-d;if(a-r<o-i){var g=(i*p+o*d)/n;y(t,c,d,i,r,g,a),y(c,e,p,g,r,o,a)}else{var v=(r*p+a*d)/n;y(t,c,d,i,r,o,v),y(c,e,p,i,v,o,a)}}var o,a,m=t.children,s=m.length,x=new Array(s+1);for(x[0]=a=o=0;o<s;++o)x[o+1]=a+=m[o].value;y(0,s,t.value,e,n,i,r)},Km=function(t,e,n,i,r){(1&t.depth?Xm:jm)(t,e,n,i,r)},Jm=function e(d){function t(t,e,n,i,r){if((o=t._squarify)&&o.ratio===d)for(var o,a,s,u,l,c=-1,h=o.length,f=t.value;++c<h;){for(s=(a=o[c]).children,u=a.value=0,l=s.length;u<l;++u)a.value+=s[u].value;a.dice?jm(a,e,n,i,n+=(r-n)*a.value/f):Xm(a,e,n,e+=(i-e)*a.value/f,r),f-=a.value}else t._squarify=o=ha(d,t,e,n,i,r),o.ratio=d}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(Ym),tx=function(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[1]*r[0]-e[0]*r[1];return o/2},ex=function(t){for(var e,n,i=-1,r=t.length,o=0,a=0,s=t[r-1],u=0;++i<r;)e=s,s=t[i],u+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(u*=3),a/u]},nx=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])},ix=function(t){if((n=t.length)<3)return null;var e,n,i=new Array(n),r=new Array(n);for(e=0;e<n;++e)i[e]=[+t[e][0],+t[e][1],e];for(i.sort(fa),e=0;e<n;++e)r[e]=[i[e][0],-i[e][1]];var o=da(i),a=da(r),s=a[0]===o[0],u=a[a.length-1]===o[o.length-1],l=[];for(e=o.length-1;0<=e;--e)l.push(t[i[o[e]][2]]);for(e=+s;e<a.length-u;++e)l.push(t[i[a[e]][2]]);return l},rx=function(t,e){for(var n,i,r=t.length,o=t[r-1],a=e[0],s=e[1],u=o[0],l=o[1],c=!1,h=0;h<r;++h)n=(o=t[h])[0],s<(i=o[1])!=s<l&&a<(u-n)*(s-i)/(l-i)+n&&(c=!c),u=n,l=i;return c},ox=function(t){for(var e,n,i=-1,r=t.length,o=t[r-1],a=o[0],s=o[1],u=0;++i<r;)e=a,n=s,e-=a=(o=t[i])[0],n-=s=o[1],u+=Math.sqrt(e*e+n*n);return u},ax=[].slice,sx={};pa.prototype=ba.prototype={constructor:pa,defer:function(t){if("function"!=typeof t||this._call)throw new Error;if(null!=this._error)return this;var e=ax.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),ga(this),this},abort:function(){return null==this._error&&ma(this,new Error("abort")),this},await:function(n){if("function"!=typeof n||this._call)throw new Error;return this._call=function(t,e){n.apply(null,[t].concat(e))},xa(this),this},awaitAll:function(t){if("function"!=typeof t||this._call)throw new Error;return this._call=t,xa(this),this}};var ux=function(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return Math.random()*e+t}},lx=function(e,n){var i,r;return e=null==e?0:+e,n=null==n?1:+n,function(){var t;if(null!=i)t=i,i=null;else for(;i=2*Math.random()-1,t=2*Math.random()-1,!(r=i*i+t*t)||1<r;);return e+n*t*Math.sqrt(-2*Math.log(r)/r)}},cx=function(){var t=lx.apply(this,arguments);return function(){return Math.exp(t())}},hx=function(n){return function(){for(var t=0,e=0;e<n;++e)t+=Math.random();return t}},fx=function(t){var e=hx(t);return function(){return e()/t}},dx=function(t){return function(){return-Math.log(1-Math.random())/t}},px=function(i,t){function e(t){var e,n=c.status;if(!n&&wa(c)||200<=n&&n<300||304===n){if(a)try{e=a.call(r,c)}catch(t){return void u.call("error",r,t)}else e=c;u.call("load",r,e)}else u.call("error",r,t)}var r,o,a,s,u=P("beforesend","progress","load","error"),l=$n(),c=new XMLHttpRequest,h=null,f=null,d=0;if("undefined"==typeof XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(i)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=c.ontimeout=e:c.onreadystatechange=function(t){3<c.readyState&&e(t)},c.onprogress=function(t){u.call("progress",r,t)},r={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l.get(t):(null==e?l.remove(t):l.set(t,e+""),r)},mimeType:function(t){return arguments.length?(o=null==t?null:t+"",r):o},responseType:function(t){return arguments.length?(s=t,r):s},timeout:function(t){return arguments.length?(d=+t,r):d},user:function(t){return arguments.length<1?h:(h=null==t?null:t+"",r)},password:function(t){return arguments.length<1?f:(f=null==t?null:t+"",r)},response:function(t){return a=t,r},get:function(t,e){return r.send("GET",t,e)},post:function(t,e){return r.send("POST",t,e)},send:function(t,e,n){return c.open(t,i,!0,h,f),null==o||l.has("accept")||l.set("accept",o+",*/*"),c.setRequestHeader&&l.each(function(t,e){c.setRequestHeader(e,t)}),null!=o&&c.overrideMimeType&&c.overrideMimeType(o),null!=s&&(c.responseType=s),0<d&&(c.timeout=d),null==n&&"function"==typeof e&&(n=e,e=null),null!=n&&1===n.length&&(n=_a(n)),null!=n&&r.on("error",n).on("load",function(t){n(null,t)}),u.call("beforesend",r,c),c.send(null==e?null:e),r},abort:function(){return c.abort(),r},on:function(){var t=u.on.apply(u,arguments);return t===u?r:t}},null!=t){if("function"!=typeof t)throw new Error("invalid callback: "+t);return r.get(t)}return r},gx=function(i,r){return function(t,e){var n=px(t).mimeType(i).response(r);if(null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return n.get(e)}return n}},vx=gx("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),yx=gx("application/json",function(t){return JSON.parse(t.responseText)}),mx=gx("text/plain",function(t){return t.responseText}),xx=gx("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),bx=function(r,o){return function(t,e,n){arguments.length<3&&(n=e,e=null);var i=px(t).mimeType(r);return i.row=function(t){return arguments.length?i.response(Sa(o,e=t)):e},i.row(e),n?i.get(n):i}},_x=bx("text/csv",jp),wx=bx("text/tab-separated-values",Bp),Sx=Array.prototype,Tx=Sx.map,Cx=Sx.slice,kx={name:"implicit"},Mx=function(t){return function(){return t}},Ax=function(t){return+t},Ex=[0,1],Lx=function(t,e,n){var i,r=t[0],o=t[t.length-1],a=T(r,o,null==e?10:e);switch((n=di(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(r),Math.abs(o));return null!=n.precision||isNaN(i=Dg(a,s))||(n.precision=i),H.formatPrefix(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(i=Rg(a,Math.max(Math.abs(r),Math.abs(o))))||(n.precision=i-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(i=Ng(a))||(n.precision=i-2*("%"===n.type))}return H.format(n)},Px=function(t,e){var n,i=0,r=(t=t.slice()).length-1,o=t[i],a=t[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t},Nx=new Date,Dx=new Date,Rx=Za(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Rx.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?Za(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):Rx:null};var Ox=Rx.range,Ix=6e4,Fx=6048e5,zx=Za(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),Vx=zx.range,jx=Za(function(t){t.setTime(Math.floor(t/Ix)*Ix)},function(t,e){t.setTime(+t+e*Ix)},function(t,e){return(e-t)/Ix},function(t){return t.getMinutes()}),Gx=jx.range,Hx=Za(function(t){var e=t.getTimezoneOffset()*Ix%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),$x=Hx.range,qx=Za(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ix)/864e5},function(t){return t.getDate()-1}),Bx=qx.range,Ux=Ka(0),Xx=Ka(1),Yx=Ka(2),Wx=Ka(3),Qx=Ka(4),Zx=Ka(5),Kx=Ka(6),Jx=Ux.range,tb=Xx.range,eb=Yx.range,nb=Wx.range,ib=Qx.range,rb=Zx.range,ob=Kx.range,ab=Za(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),sb=ab.range,ub=Za(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});ub.every=function(n){return isFinite(n=Math.floor(n))&&0<n?Za(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};var lb=ub.range,cb=Za(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Ix)},function(t,e){return(e-t)/Ix},function(t){return t.getUTCMinutes()}),hb=cb.range,fb=Za(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),db=fb.range,pb=Za(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),gb=pb.range,vb=Ja(0),yb=Ja(1),mb=Ja(2),xb=Ja(3),bb=Ja(4),_b=Ja(5),wb=Ja(6),Sb=vb.range,Tb=yb.range,Cb=mb.range,kb=xb.range,Mb=bb.range,Ab=_b.range,Eb=wb.range,Lb=Za(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Pb=Lb.range,Nb=Za(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Nb.every=function(n){return isFinite(n=Math.floor(n))&&0<n?Za(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};var Db,Rb=Nb.range,Ob={"-":"",_:" ",0:"0"},Ib=/^\s*\d+/,Fb=/^%/,zb=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Zs({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],
days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Vb=Date.prototype.toISOString?Ks:H.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),jb=+new Date("2000-01-01T00:00:00.000Z")?Js:H.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),Gb=1e3,Hb=60*Gb,$b=60*Hb,qb=24*$b,Bb=7*qb,Ub=30*qb,Xb=365*qb,Yb=function(){return nu(ub,ab,Ux,qx,Hx,jx,zx,Rx,H.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},Wb=function(){return nu(Nb,Lb,vb,pb,fb,cb,zx,Rx,H.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},Qb=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},Zb=Qb("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Kb=Qb("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Jb=Qb("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),t_=Qb("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),e_=jf(Yt(300,.5,0),Yt(-240,.5,1)),n_=jf(Yt(-100,.75,.35),Yt(80,1.5,.8)),i_=jf(Yt(260,.75,.35),Yt(80,1.5,.8)),r_=Yt(),o_=function(t){(t<0||1<t)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return r_.h=360*t-100,r_.s=1.5-1.5*e,r_.l=.8-.9*e,r_+""},a_=iu(Qb("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),s_=iu(Qb("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),u_=iu(Qb("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),l_=iu(Qb("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),c_=function(t){return function(){return t}},h_=Math.abs,f_=Math.atan2,d_=Math.cos,p_=Math.max,g_=Math.min,v_=Math.sin,y_=Math.sqrt,m_=1e-12,x_=Math.PI,b_=x_/2,__=2*x_,w_=function(){function e(){var t,e,n=+z.apply(this,arguments),i=+V.apply(this,arguments),r=H.apply(this,arguments)-b_,o=$.apply(this,arguments)-b_,a=h_(o-r),s=r<o;if(B||(B=t=In()),i<n&&(e=i,i=n,n=e),m_<i)if(__-m_<a)B.moveTo(i*d_(r),i*v_(r)),B.arc(0,0,i,r,o,!s),m_<n&&(B.moveTo(n*d_(o),n*v_(o)),B.arc(0,0,n,o,r,s));else{var u,l,c=r,h=o,f=r,d=o,p=a,g=a,v=q.apply(this,arguments)/2,y=m_<v&&(G?+G.apply(this,arguments):y_(n*n+i*i)),m=g_(h_(i-n)/2,+j.apply(this,arguments)),x=m,b=m;if(m_<y){var _=au(y/n*v_(v)),w=au(y/i*v_(v));(p-=2*_)>m_?(f+=_*=s?1:-1,d-=_):(p=0,f=d=(r+o)/2),(g-=2*w)>m_?(c+=w*=s?1:-1,h-=w):(g=0,c=h=(r+o)/2)}var S=i*d_(c),T=i*v_(c),C=n*d_(d),k=n*v_(d);if(m_<m){var M=i*d_(h),A=i*v_(h),E=n*d_(f),L=n*v_(f);if(a<x_){var P=m_<p?fu(S,T,E,L,M,A,C,k):[C,k],N=S-P[0],D=T-P[1],R=M-P[0],O=A-P[1],I=1/v_(ou((N*R+D*O)/(y_(N*N+D*D)*y_(R*R+O*O)))/2),F=y_(P[0]*P[0]+P[1]*P[1]);x=g_(m,(n-F)/(I-1)),b=g_(m,(i-F)/(I+1))}}m_<g?m_<b?(u=du(E,L,S,T,i,b,s),l=du(M,A,C,k,i,b,s),B.moveTo(u.cx+u.x01,u.cy+u.y01),b<m?B.arc(u.cx,u.cy,b,f_(u.y01,u.x01),f_(l.y01,l.x01),!s):(B.arc(u.cx,u.cy,b,f_(u.y01,u.x01),f_(u.y11,u.x11),!s),B.arc(0,0,i,f_(u.cy+u.y11,u.cx+u.x11),f_(l.cy+l.y11,l.cx+l.x11),!s),B.arc(l.cx,l.cy,b,f_(l.y11,l.x11),f_(l.y01,l.x01),!s))):(B.moveTo(S,T),B.arc(0,0,i,c,h,!s)):B.moveTo(S,T),m_<n&&m_<p?m_<x?(u=du(C,k,M,A,n,-x,s),l=du(S,T,E,L,n,-x,s),B.lineTo(u.cx+u.x01,u.cy+u.y01),x<m?B.arc(u.cx,u.cy,x,f_(u.y01,u.x01),f_(l.y01,l.x01),!s):(B.arc(u.cx,u.cy,x,f_(u.y01,u.x01),f_(u.y11,u.x11),!s),B.arc(0,0,n,f_(u.cy+u.y11,u.cx+u.x11),f_(l.cy+l.y11,l.cx+l.x11),s),B.arc(l.cx,l.cy,x,f_(l.y11,l.x11),f_(l.y01,l.x01),!s))):B.arc(0,0,n,d,f,s):B.lineTo(C,k)}else B.moveTo(0,0);if(B.closePath(),t)return B=null,t+""||null}var z=su,V=uu,j=c_(0),G=null,H=lu,$=cu,q=hu,B=null;return e.centroid=function(){var t=(+z.apply(this,arguments)+ +V.apply(this,arguments))/2,e=(+H.apply(this,arguments)+ +$.apply(this,arguments))/2-x_/2;return[d_(e)*t,v_(e)*t]},e.innerRadius=function(t){return arguments.length?(z="function"==typeof t?t:c_(+t),e):z},e.outerRadius=function(t){return arguments.length?(V="function"==typeof t?t:c_(+t),e):V},e.cornerRadius=function(t){return arguments.length?(j="function"==typeof t?t:c_(+t),e):j},e.padRadius=function(t){return arguments.length?(G=null==t?null:"function"==typeof t?t:c_(+t),e):G},e.startAngle=function(t){return arguments.length?(H="function"==typeof t?t:c_(+t),e):H},e.endAngle=function(t){return arguments.length?($="function"==typeof t?t:c_(+t),e):$},e.padAngle=function(t){return arguments.length?(q="function"==typeof t?t:c_(+t),e):q},e.context=function(t){return arguments.length?(B=null==t?null:t,e):B},e};pu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var S_=function(t){return new pu(t)},T_=function(){function e(t){var e,n,i,r=t.length,o=!1;for(null==l&&(h=c(i=In())),e=0;e<=r;++e)!(e<r&&u(n=t[e],e,t))===o&&((o=!o)?h.lineStart():h.lineEnd()),o&&h.point(+a(n,e,t),+s(n,e,t));if(i)return h=null,i+""||null}var a=gu,s=vu,u=c_(!0),l=null,c=S_,h=null;return e.x=function(t){return arguments.length?(a="function"==typeof t?t:c_(+t),e):a},e.y=function(t){return arguments.length?(s="function"==typeof t?t:c_(+t),e):s},e.defined=function(t){return arguments.length?(u="function"==typeof t?t:c_(!!t),e):u},e.curve=function(t){return arguments.length?(c=t,null!=l&&(h=c(l)),e):c},e.context=function(t){return arguments.length?(null==t?l=h=null:h=c(l=t),e):l},e},C_=function(){function e(t){var e,n,i,r,o,a=t.length,s=!1,u=new Array(a),l=new Array(a);for(null==g&&(y=v(o=In())),e=0;e<=a;++e){if(!(e<a&&p(r=t[e],e,t))===s)if(s=!s)n=e,y.areaStart(),y.lineStart();else{for(y.lineEnd(),y.lineStart(),i=e-1;n<=i;--i)y.point(u[i],l[i]);y.lineEnd(),y.areaEnd()}s&&(u[e]=+c(r,e,t),l[e]=+f(r,e,t),y.point(h?+h(r,e,t):u[e],d?+d(r,e,t):l[e]))}if(o)return y=null,o+""||null}function t(){return T_().defined(p).curve(v).context(g)}var c=gu,h=null,f=c_(0),d=vu,p=c_(!0),g=null,v=S_,y=null;return e.x=function(t){return arguments.length?(c="function"==typeof t?t:c_(+t),h=null,e):c},e.x0=function(t){return arguments.length?(c="function"==typeof t?t:c_(+t),e):c},e.x1=function(t){return arguments.length?(h=null==t?null:"function"==typeof t?t:c_(+t),e):h},e.y=function(t){return arguments.length?(f="function"==typeof t?t:c_(+t),d=null,e):f},e.y0=function(t){return arguments.length?(f="function"==typeof t?t:c_(+t),e):f},e.y1=function(t){return arguments.length?(d=null==t?null:"function"==typeof t?t:c_(+t),e):d},e.lineX0=e.lineY0=function(){return t().x(c).y(f)},e.lineY1=function(){return t().x(c).y(d)},e.lineX1=function(){return t().x(h).y(f)},e.defined=function(t){return arguments.length?(p="function"==typeof t?t:c_(!!t),e):p},e.curve=function(t){return arguments.length?(v=t,null!=g&&(y=v(g)),e):v},e.context=function(t){return arguments.length?(null==t?g=y=null:y=v(g=t),e):g},e},k_=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},M_=function(t){return t},A_=function(){function e(n){var t,e,i,r,o,a=n.length,s=0,u=new Array(a),l=new Array(a),c=+y.apply(this,arguments),h=Math.min(__,Math.max(-__,m.apply(this,arguments)-c)),f=Math.min(Math.abs(h)/a,x.apply(this,arguments)),d=f*(h<0?-1:1);for(t=0;t<a;++t)0<(o=l[u[t]=t]=+p(n[t],t,n))&&(s+=o);for(null!=g?u.sort(function(t,e){return g(l[t],l[e])}):null!=v&&u.sort(function(t,e){return v(n[t],n[e])}),t=0,i=s?(h-a*d)/s:0;t<a;++t,c=r)e=u[t],r=c+(0<(o=l[e])?o*i:0)+d,l[e]={data:n[e],index:t,value:o,startAngle:c,endAngle:r,padAngle:f};return l}var p=M_,g=k_,v=null,y=c_(0),m=c_(__),x=c_(0);return e.value=function(t){return arguments.length?(p="function"==typeof t?t:c_(+t),e):p},e.sortValues=function(t){return arguments.length?(g=t,v=null,e):g},e.sort=function(t){return arguments.length?(v=t,g=null,e):v},e.startAngle=function(t){return arguments.length?(y="function"==typeof t?t:c_(+t),e):y},e.endAngle=function(t){return arguments.length?(m="function"==typeof t?t:c_(+t),e):m},e.padAngle=function(t){return arguments.length?(x="function"==typeof t?t:c_(+t),e):x},e},E_=mu(S_);yu.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var L_=function(){return xu(T_().curve(E_))},P_=function(){var t=C_().curve(E_),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return xu(n())},delete t.lineX0,t.lineEndAngle=function(){return xu(i())},delete t.lineX1,t.lineInnerRadius=function(){return xu(r())},delete t.lineY0,t.lineOuterRadius=function(){return xu(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(mu(t)):e()._curve},t},N_={draw:function(t,e){var n=Math.sqrt(e/x_);t.moveTo(n,0),t.arc(0,0,n,0,__)}},D_={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},R_=Math.sqrt(1/3),O_=2*R_,I_={draw:function(t,e){var n=Math.sqrt(e/O_),i=n*R_;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},F_=Math.sin(x_/10)/Math.sin(7*x_/10),z_=Math.sin(__/10)*F_,V_=-Math.cos(__/10)*F_,j_={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=z_*n,r=V_*n;t.moveTo(0,-n),t.lineTo(i,r);for(var o=1;o<5;++o){var a=__*o/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*i-u*r,u*i+s*r)}t.closePath()}},G_={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},H_=Math.sqrt(3),$_={draw:function(t,e){var n=-Math.sqrt(e/(3*H_));t.moveTo(0,2*n),t.lineTo(-H_*n,-n),t.lineTo(H_*n,-n),t.closePath()}},q_=-.5,B_=Math.sqrt(3)/2,U_=1/Math.sqrt(12),X_=3*(U_/2+1),Y_={draw:function(t,e){var n=Math.sqrt(e/X_),i=n/2,r=n*U_,o=i,a=n*U_+n,s=-o,u=a;t.moveTo(i,r),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(q_*i-B_*r,B_*i+q_*r),t.lineTo(q_*o-B_*a,B_*o+q_*a),t.lineTo(q_*s-B_*u,B_*s+q_*u),t.lineTo(q_*i+B_*r,q_*r-B_*i),t.lineTo(q_*o+B_*a,q_*a-B_*o),t.lineTo(q_*s+B_*u,q_*u-B_*s),t.closePath()}},W_=[N_,D_,I_,G_,j_,$_,Y_],Q_=function(){function e(){var t;if(r||(r=t=In()),n.apply(this,arguments).draw(r,+i.apply(this,arguments)),t)return r=null,t+""||null}var n=c_(N_),i=c_(64),r=null;return e.type=function(t){return arguments.length?(n="function"==typeof t?t:c_(t),e):n},e.size=function(t){return arguments.length?(i="function"==typeof t?t:c_(+t),e):i},e.context=function(t){return arguments.length?(r=null==t?null:t,e):r},e},Z_=function(){};_u.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bu(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var K_=function(t){return new _u(t)};wu.prototype={areaStart:Z_,areaEnd:Z_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:bu(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var J_=function(t){return new wu(t)};Su.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:bu(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var tw=function(t){return new Su(t)};Tu.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(0<n)for(var i,r=t[0],o=e[0],a=t[n]-r,s=e[n]-o,u=-1;++u<=n;)i=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(r+i*a),this._beta*e[u]+(1-this._beta)*(o+i*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var ew=function e(n){function t(t){return 1===n?new _u(t):new Tu(t,n)}return t.beta=function(t){return e(+t)},t}(.85);ku.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Cu(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Cu(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var nw=function e(n){function t(t){return new ku(t,n)}return t.tension=function(t){return e(+t)},t}(0);Mu.prototype={areaStart:Z_,areaEnd:Z_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Cu(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var iw=function e(n){function t(t){return new Mu(t,n)}return t.tension=function(t){return e(+t)},t}(0);Au.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Cu(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var rw=function e(n){function t(t){return new Au(t,n)}return t.tension=function(t){return e(+t)},t}(0);Lu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Eu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ow=function e(n){function t(t){return n?new Lu(t,n):new ku(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);Pu.prototype={areaStart:Z_,areaEnd:Z_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Eu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var aw=function e(n){function t(t){return n?new Pu(t,n):new Mu(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);Nu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Eu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var sw=function e(n){function t(t){return n?new Nu(t,n):new Au(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);Du.prototype={areaStart:Z_,areaEnd:Z_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var uw=function(t){return new Du(t)};zu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fu(this,this._t0,Iu(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Fu(this,Iu(this,n=Ou(this,t,e)),n);break;default:Fu(this,this._t0,n=Ou(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Vu.prototype=Object.create(zu.prototype)).point=function(t,e){zu.prototype.point.call(this,e,t)},ju.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}},$u.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=qu(t),r=qu(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var lw=function(t){return new $u(t)};Bu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var cw=function(t){return new Bu(t,.5)},hw=Array.prototype.slice,fw=function(t,e){if(1<(i=t.length))for(var n,i,r=1,o=t[e[0]],a=o.length;r<i;++r){n=o,o=t[e[r]];for(var s=0;s<a;++s)o[s][1]+=o[s][0]=isNaN(n[s][1])?n[s][0]:n[s][1]}},dw=function(t){for(var e=t.length,n=new Array(e);0<=--e;)n[e]=e;return n},pw=function(){function e(t){var e,n,i=h.apply(this,arguments),r=t.length,o=i.length,a=new Array(o);for(e=0;e<o;++e){for(var s,u=i[e],l=a[e]=new Array(r),c=0;c<r;++c)l[c]=s=[0,+p(t[c],u,c,t)],s.data=t[c];l.key=u}for(e=0,n=f(a);e<o;++e)a[n[e]].index=e;return d(a,n),a}var h=c_([]),f=dw,d=fw,p=Yu;return e.keys=function(t){return arguments.length?(h="function"==typeof t?t:c_(hw.call(t)),e):h},e.value=function(t){return arguments.length?(p="function"==typeof t?t:c_(+t),e):p},e.order=function(t){return arguments.length?(f=null==t?dw:"function"==typeof t?t:c_(hw.call(t)),e):f},e.offset=function(t){return arguments.length?(d=null==t?fw:t,e):d},e},gw=function(t,e){if(0<(i=t.length)){for(var n,i,r,o=0,a=t[0].length;o<a;++o){for(r=n=0;n<i;++n)r+=t[n][o][1]||0;if(r)for(n=0;n<i;++n)t[n][o][1]/=r}fw(t,e)}},vw=function(t,e){if(0<(n=t.length)){for(var n,i=0,r=t[e[0]],o=r.length;i<o;++i){for(var a=0,s=0;a<n;++a)s+=t[a][i][1]||0;r[i][1]+=r[i][0]=-s/2}fw(t,e)}},yw=function(t,e){if(0<(r=t.length)&&0<(i=(n=t[e[0]]).length)){for(var n,i,r,o=0,a=1;a<i;++a){for(var s=0,u=0,l=0;s<r;++s){for(var c=t[e[s]],h=c[a][1]||0,f=(h-(c[a-1][1]||0))/2,d=0;d<s;++d){var p=t[e[d]];f+=(p[a][1]||0)-(p[a-1][1]||0)}u+=h,l+=f*h}n[a-1][1]+=n[a-1][0]=o,u&&(o-=l/u)}n[a-1][1]+=n[a-1][0]=o,fw(t,e)}},mw=function(t){var n=t.map(Wu);return dw(t).sort(function(t,e){return n[t]-n[e]})},xw=function(t){return mw(t).reverse()},bw=function(t){var e,n,i=t.length,r=t.map(Wu),o=dw(t).sort(function(t,e){return r[e]-r[t]}),a=0,s=0,u=[],l=[];for(e=0;e<i;++e)n=o[e],a<s?(a+=r[n],u.push(n)):(s+=r[n],l.push(n));return l.reverse().concat(u)},_w=function(t){return dw(t).reverse()},ww=function(t){return function(){return t}};Ku.prototype={constructor:Ku,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=nl(this._),e.P=null,(e.N=t).P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(tl(this,n),n=(t=n).U),n.C=!1,i.C=!0,el(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(el(this,n),n=(t=n).U),n.C=!1,i.C=!0,tl(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?nl(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,((n.L=o).U=n)!==a?(r=n.U,n.U=t.U,t=n.R,r.L=t,(n.R=a).U=n):(n.U=r,t=(r=n).R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,tl(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,el(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,tl(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,el(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,tl(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,el(this,r),t=this._;break}e.C=!0,r=(t=r).U}while(!t.C);t&&(t.C=!1)}}};var Sw,Tw,Cw,kw,Mw,Aw=[],Ew=[],Lw=1e-6,Pw=1e-12;Ml.prototype={constructor:Ml,polygons:function(){var n=this.edges;return this.cells.map(function(e){var t=e.halfedges.map(function(t){return hl(e,n[t])});return t.data=e.site.data,t})},triangles:function(){var l=[],c=this.edges;return this.cells.forEach(function(t,e){if(i=(n=t.halfedges).length)for(var n,i,r,o=t.site,a=-1,s=c[n[i-1]],u=s.left===o?s.right:s.left;++a<i;)r=u,u=(s=c[n[a]]).left===o?s.right:s.left,r&&u&&e<r.index&&e<u.index&&Cl(o,r,u)<0&&l.push([o.data,r.data,u.data])}),l},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(a,s,t){for(var e,u,l=this,c=l._found||0,n=l.cells.length;!(u=l.cells[c]);)if(++c>=n)return null;for(var i=a-u.site[0],r=s-u.site[1],h=i*i+r*r;u=l.cells[e=c],c=null,u.halfedges.forEach(function(t){var e=l.edges[t],n=e.left;if(n!==u.site&&n||(n=e.right)){var i=a-n[0],r=s-n[1],o=i*i+r*r;o<h&&(h=o,c=n.index)}}),null!==c;);return l._found=e,null==t||h<=t*t?u.site:null}}
;var Nw=function(){function e(i){return new Ml(i.map(function(t,e){var n=[Math.round(r(t,e,i)/Lw)*Lw,Math.round(o(t,e,i)/Lw)*Lw];return n.index=e,n.data=t,n}),n)}var r=Qu,o=Zu,n=null;return e.polygons=function(t){return e(t).polygons()},e.links=function(t){return e(t).links()},e.triangles=function(t){return e(t).triangles()},e.x=function(t){return arguments.length?(r="function"==typeof t?t:ww(+t),e):r},e.y=function(t){return arguments.length?(o="function"==typeof t?t:ww(+t),e):o},e.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],e):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},e.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],e):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},e},Dw=function(t){return function(){return t}};El.prototype={constructor:El,scale:function(t){return 1===t?this:new El(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new El(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Rw=new El(1,0,0);Ll.prototype=El.prototype;var Ow=function(){H.event.preventDefault(),H.event.stopImmediatePropagation()},Iw=function(){function o(t){t.on("wheel.zoom",e).on("mousedown.zoom",n).on("dblclick.zoom",i).on("touchstart.zoom",s).on("touchmove.zoom",u).on("touchend.zoom touchcancel.zoom",l).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",Rl)}function d(t,e){return(e=Math.max(x,Math.min(b,e)))===t.k?t:new El(e,t.x,t.y)}function p(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new El(t.k,i,r)}function g(t,e){var n=t.invertX(e[0][0])-_,i=t.invertX(e[1][0])-w,r=t.invertY(e[0][1])-S,o=t.invertY(e[1][1])-T;return t.translate(n<i?(n+i)/2:Math.min(0,n)||Math.max(0,i),r<o?(r+o)/2:Math.min(0,r)||Math.max(0,o))}function h(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function r(t,l,c){t.on("start.zoom",function(){v(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){v(this,arguments).end()}).tween("zoom",function(){var t=this,e=arguments,i=v(t,e),n=m.apply(t,e),r=c||h(n),o=Math.max(n[1][0]-n[0][0],n[1][1]-n[0][1]),a=t.__zoom,s="function"==typeof l?l.apply(t,e):l,u=k(a.invert(r).concat(o/a.k),s.invert(r).concat(o/s.k));return function(t){if(1===t)t=s;else{var e=u(t),n=o/e[2];t=new El(n,r[0]-e[0]*n,r[1]-e[1]*n)}i.zoom(null,t)}})}function v(t,e){for(var n,i=0,r=M.length;i<r;++i)if((n=M[i]).that===t)return n;return new a(t,e)}function a(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=m.apply(t,e)}function e(){function t(){e.wheel=null,e.end()}if(f.apply(this,arguments)){var e=v(this,arguments),n=this.__zoom,i=Math.max(x,Math.min(b,n.k*Math.pow(2,-H.event.deltaY*(H.event.deltaMode?120:1)/500))),r=jc(this);if(e.wheel)e.mouse[0][0]===r[0]&&e.mouse[0][1]===r[1]||(e.mouse[1]=n.invert(e.mouse[0]=r)),clearTimeout(e.wheel);else{if(n.k===i)return;e.mouse=[r,n.invert(r)],ld(this),e.start()}Ow(),e.wheel=setTimeout(t,L),e.zoom("mouse",g(p(d(n,i),e.mouse[0],e.mouse[1]),e.extent))}}function n(){function t(){Ow(),n.moved=!0,n.zoom("mouse",g(p(n.that.__zoom,n.mouse[0]=jc(n.that),n.mouse[1]),n.extent))}function e(){i.on("mousemove.zoom mouseup.zoom",null),xt(H.event.view,n.moved),Ow(),n.end()}if(!c&&f.apply(this,arguments)){var n=v(this,arguments),i=wh(H.event.view).on("mousemove.zoom",t,!0).on("mouseup.zoom",e,!0),r=jc(this);Mh(H.event.view),Pl(),n.mouse=[r,this.__zoom.invert(r)],ld(this),n.start()}}function i(){if(f.apply(this,arguments)){var t=this.__zoom,e=jc(this),n=t.invert(e),i=g(p(d(t,t.k*(H.event.shiftKey?.5:2)),e,n),m.apply(this,arguments));Ow(),0<C?wh(this).transition().duration(C).call(r,i,e):wh(this).call(o.transform,i)}}function s(){if(f.apply(this,arguments)){var t,e,n,i,r=v(this,arguments),o=H.event.changedTouches,a=o.length;for(Pl(),e=0;e<a;++e)n=o[e],i=[i=Th(this,o,n.identifier),this.__zoom.invert(i),n.identifier],r.touch0?r.touch1||(r.touch1=i):(r.touch0=i,t=!0);if(y&&(y=clearTimeout(y),!r.touch1))return r.end(),void((i=wh(this).on("dblclick.zoom"))&&i.apply(this,arguments));t&&(y=setTimeout(function(){y=null},E),ld(this),r.start())}}function u(){var t,e,n,i,r=v(this,arguments),o=H.event.changedTouches,a=o.length;for(Ow(),y&&(y=clearTimeout(y)),t=0;t<a;++t)e=o[t],n=Th(this,o,e.identifier),r.touch0&&r.touch0[2]===e.identifier?r.touch0[0]=n:r.touch1&&r.touch1[2]===e.identifier&&(r.touch1[0]=n);if(e=r.that.__zoom,r.touch1){var s=r.touch0[0],u=r.touch0[1],l=r.touch1[0],c=r.touch1[1],h=(h=l[0]-s[0])*h+(h=l[1]-s[1])*h,f=(f=c[0]-u[0])*f+(f=c[1]-u[1])*f;e=d(e,Math.sqrt(h/f)),n=[(s[0]+l[0])/2,(s[1]+l[1])/2],i=[(u[0]+c[0])/2,(u[1]+c[1])/2]}else{if(!r.touch0)return;n=r.touch0[0],i=r.touch0[1]}r.zoom("touch",g(p(e,n,i),r.extent))}function l(){var t,e,n=v(this,arguments),i=H.event.changedTouches,r=i.length;for(Pl(),c&&clearTimeout(c),c=setTimeout(function(){c=null},E),t=0;t<r;++t)e=i[t],n.touch0&&n.touch0[2]===e.identifier?delete n.touch0:n.touch1&&n.touch1[2]===e.identifier&&delete n.touch1;n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0||n.end()}var y,c,f=Nl,m=Dl,x=0,b=1/0,_=-b,w=b,S=_,T=w,C=250,k=Rf,M=[],A=P("start","zoom","end"),E=500,L=150;return o.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",Rl),t!==n?r(t,e):n.interrupt().each(function(){v(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},o.scaleBy=function(t,e){o.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},o.scaleTo=function(t,r){o.transform(t,function(){var t=m.apply(this,arguments),e=this.__zoom,n=h(t),i=e.invert(n);return g(p(d(e,"function"==typeof r?r.apply(this,arguments):r),n,i),t)})},o.translateBy=function(t,e,n){o.transform(t,function(){return g(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),m.apply(this,arguments))})},a.prototype={start:function(){return 1==++this.active&&(this.index=M.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(M.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){N(new Al(o,t,this.that.__zoom),A.apply,A,[t,this.that,this.args])}},o.filter=function(t){return arguments.length?(f="function"==typeof t?t:Dw(!!t),o):f},o.extent=function(t){return arguments.length?(m="function"==typeof t?t:Dw([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),o):m},o.scaleExtent=function(t){return arguments.length?(x=+t[0],b=+t[1],o):[x,b]},o.translateExtent=function(t){return arguments.length?(_=+t[0][0],w=+t[1][0],S=+t[0][1],T=+t[1][1],o):[[_,S],[w,T]]},o.duration=function(t){return arguments.length?(C=+t,o):C},o.interpolate=function(t){return arguments.length?(k=t,o):k},o.on=function(){var t=A.on.apply(A,arguments);return t===A?o:t},o};H.version="4.7.2",H.bisect=zl,H.bisectRight=zl,H.bisectLeft=Vl,H.ascending=Ol,H.bisector=Il,H.cross=Gl,H.descending=Hl,H.deviation=Bl,H.extent=Ul,H.histogram=rc,H.thresholdFreedmanDiaconis=ac,H.thresholdScott=sc,H.thresholdSturges=ic,H.max=uc,H.mean=lc,H.median=cc,H.merge=hc,H.min=fc,H.pairs=jl,H.permute=dc,H.quantile=oc,H.range=Kl,H.scan=pc,H.shuffle=gc,H.sum=vc,H.ticks=nc,H.tickStep=T,H.transpose=yc,H.variance=ql,H.zip=mc,H.axisTop=a,H.axisRight=u,H.axisBottom=l,H.axisLeft=h,H.brush=xp,H.brushX=Pn,H.brushY=Nn,H.brushSelection=Ln,H.chord=kp,H.ribbon=Np,H.nest=Dp,H.set=Wn,H.map=$n,H.keys=Op,H.values=Ip,H.entries=Fp,H.color=kt,H.rgb=Lt,H.hsl=Rt,H.lab=zt,H.hcl=Bt,H.cubehelix=Yt,H.dispatch=P,H.drag=Eh,H.dragDisable=Mh,H.dragEnable=xt,H.dsvFormat=zp,H.csvParse=jp,H.csvParseRows=Gp,H.csvFormat=Hp,H.csvFormatRows=$p,H.tsvParse=Bp,H.tsvParseRows=Up,H.tsvFormat=Xp,H.tsvFormatRows=Yp,H.easeLinear=rn,H.easeQuad=sn,H.easeQuadIn=on,H.easeQuadOut=an,H.easeQuadInOut=sn,H.easeCubic=cn,H.easeCubicIn=un,H.easeCubicOut=ln,H.easeCubicInOut=cn,H.easePoly=Rd,H.easePolyIn=Nd,H.easePolyOut=Dd,H.easePolyInOut=Rd,H.easeSin=dn,H.easeSinIn=hn,H.easeSinOut=fn,H.easeSinInOut=dn,H.easeExp=vn,H.easeExpIn=pn,H.easeExpOut=gn,H.easeExpInOut=vn,H.easeCircle=xn,H.easeCircleIn=yn,H.easeCircleOut=mn,H.easeCircleInOut=xn,H.easeBounce=_n,H.easeBounceIn=bn,H.easeBounceOut=_n,H.easeBounceInOut=wn,H.easeBack=Wd,H.easeBackIn=Xd,H.easeBackOut=Yd,H.easeBackInOut=Wd,H.easeElastic=Kd,H.easeElasticIn=Zd,H.easeElasticOut=Kd,H.easeElasticInOut=Jd,H.forceCenter=Wp,H.forceCollide=dg,H.forceLink=pg,H.forceManyBody=mg,H.forceSimulation=yg,H.forceX=xg,H.forceY=bg,H.formatDefaultLocale=gi,H.formatLocale=Pg,H.formatSpecifier=di,H.precisionFixed=Ng,H.precisionPrefix=Dg,H.precisionRound=Rg,H.geoArea=Vv,H.geoBounds=Hv,H.geoCentroid=qv,H.geoCircle=oy,H.geoClipExtent=fy,H.geoContains=Sy,H.geoDistance=by,H.geoGraticule=Tr,H.geoGraticule10=Cr,H.geoInterpolate=Ty,H.geoLength=yy,H.geoPath=Zy,H.geoAlbers=sm,H.geoAlbersUsa=um,H.geoAzimuthalEqualArea=cm,H.geoAzimuthalEqualAreaRaw=lm,H.geoAzimuthalEquidistant=fm,H.geoAzimuthalEquidistantRaw=hm,H.geoConicConformal=pm,H.geoConicConformalRaw=po,H.geoConicEqualArea=am,H.geoConicEqualAreaRaw=ao,H.geoConicEquidistant=vm,H.geoConicEquidistantRaw=vo,H.geoEquirectangular=gm,H.geoEquirectangularRaw=go,H.geoGnomonic=ym,H.geoGnomonicRaw=yo,H.geoIdentity=mm,H.geoProjection=no,H.geoProjectionMutator=io,H.geoMercator=dm,H.geoMercatorRaw=co,H.geoOrthographic=xm,H.geoOrthographicRaw=xo,H.geoStereographic=bm,H.geoStereographicRaw=bo,H.geoTransverseMercator=_m,H.geoTransverseMercatorRaw=_o,H.geoRotation=ry,H.geoStream=Ov,H.geoTransform=em,H.cluster=wm,H.hierarchy=Po,H.pack=zm,H.packSiblings=Im,H.packEnclose=Om,H.partition=Gm,H.stratify=Bm,H.tree=Um,H.treemap=Qm,H.treemapBinary=Zm,H.treemapDice=jm,H.treemapSlice=Xm,H.treemapSliceDice=Km,H.treemapSquarify=Wm,H.treemapResquarify=Jm,H.interpolate=kf,H.interpolateArray=xf,H.interpolateBasis=df,H.interpolateBasisClosed=pf,H.interpolateDate=bf,H.interpolateNumber=_f,H.interpolateObject=wf,H.interpolateRound=Mf,H.interpolateString=Cf,H.interpolateTransformCss=Pf,H.interpolateTransformSvg=Nf,H.interpolateZoom=Rf,H.interpolateRgb=vf,H.interpolateRgbBasis=yf,H.interpolateRgbBasisClosed=mf,H.interpolateHsl=Of,H.interpolateHslLong=If,H.interpolateLab=fe,H.interpolateHcl=Ff,H.interpolateHclLong=zf,H.interpolateCubehelix=Vf,H.interpolateCubehelixLong=jf,H.quantize=Gf,H.path=In,H.polygonArea=tx,H.polygonCentroid=ex,H.polygonHull=ix,H.polygonContains=rx,H.polygonLength=ox,H.quadtree=ri,H.queue=ba,H.randomUniform=ux,H.randomNormal=lx,H.randomLogNormal=cx,H.randomBates=fx,H.randomIrwinHall=hx,H.randomExponential=dx,H.request=px,H.html=vx,H.json=yx,H.text=mx,H.xml=xx,H.csv=_x,H.tsv=wx,H.scaleBand=Ca,H.scalePoint=Ma,H.scaleIdentity=Fa,H.scaleLinear=Ia,H.scaleLog=qa,H.scaleOrdinal=Ta,H.scaleImplicit=kx,H.scalePow=Ua,H.scaleSqrt=Xa,H.scaleQuantile=Ya,H.scaleQuantize=Wa,H.scaleThreshold=Qa,H.scaleTime=Yb,H.scaleUtc=Wb,H.schemeCategory10=Zb,H.schemeCategory20b=Kb,H.schemeCategory20c=Jb,H.schemeCategory20=t_,H.interpolateCubehelixDefault=e_,H.interpolateRainbow=o_,H.interpolateWarm=n_,H.interpolateCool=i_,H.interpolateViridis=a_,H.interpolateMagma=s_,H.interpolateInferno=u_,H.interpolatePlasma=l_,H.scaleSequential=ru,H.creator=Lc,H.local=m,H.matcher=Oc,H.mouse=jc,H.namespace=Ec,H.namespaces=Ac,H.select=wh,H.selectAll=Sh,H.selection=yt,H.selector=Gc,H.selectorAll=$c,H.touch=Th,H.touches=Ch,H.window=uh,H.customEvent=N,H.arc=w_,H.area=C_,H.line=T_,H.pie=A_,H.radialArea=P_,H.radialLine=L_,H.symbol=Q_,H.symbols=W_,H.symbolCircle=N_,H.symbolCross=D_,H.symbolDiamond=I_,H.symbolSquare=G_,H.symbolStar=j_,H.symbolTriangle=$_,H.symbolWye=Y_,H.curveBasisClosed=J_,H.curveBasisOpen=tw,H.curveBasis=K_,H.curveBundle=ew,H.curveCardinalClosed=iw,H.curveCardinalOpen=rw,H.curveCardinal=nw,H.curveCatmullRomClosed=aw,H.curveCatmullRomOpen=sw,H.curveCatmullRom=ow,H.curveLinearClosed=uw,H.curveLinear=S_,H.curveMonotoneX=Gu,H.curveMonotoneY=Hu,H.curveNatural=lw,H.curveStep=cw,H.curveStepAfter=Xu,H.curveStepBefore=Uu,H.stack=pw,H.stackOffsetExpand=gw,H.stackOffsetNone=fw,H.stackOffsetSilhouette=vw,H.stackOffsetWiggle=yw,H.stackOrderAscending=mw,H.stackOrderDescending=xw,H.stackOrderInsideOut=bw,H.stackOrderNone=dw,H.stackOrderReverse=_w,H.timeInterval=Za,H.timeMillisecond=Rx,H.timeMilliseconds=Ox,H.utcMillisecond=Rx,H.utcMilliseconds=Ox,H.timeSecond=zx,H.timeSeconds=Vx,H.utcSecond=zx,H.utcSeconds=Vx,H.timeMinute=jx,H.timeMinutes=Gx,H.timeHour=Hx,H.timeHours=$x,H.timeDay=qx,H.timeDays=Bx,H.timeWeek=Ux,H.timeWeeks=Jx,H.timeSunday=Ux,H.timeSundays=Jx,H.timeMonday=Xx,H.timeMondays=tb,H.timeTuesday=Yx,H.timeTuesdays=eb,H.timeWednesday=Wx,H.timeWednesdays=nb,H.timeThursday=Qx,H.timeThursdays=ib,H.timeFriday=Zx,H.timeFridays=rb,H.timeSaturday=Kx,H.timeSaturdays=ob,H.timeMonth=ab,H.timeMonths=sb,H.timeYear=ub,H.timeYears=lb,H.utcMinute=cb,H.utcMinutes=hb,H.utcHour=fb,H.utcHours=db,H.utcDay=pb,H.utcDays=gb,H.utcWeek=vb,H.utcWeeks=Sb,H.utcSunday=vb,H.utcSundays=Sb,H.utcMonday=yb,H.utcMondays=Tb,H.utcTuesday=mb,H.utcTuesdays=Cb,H.utcWednesday=xb,H.utcWednesdays=kb,H.utcThursday=bb,H.utcThursdays=Mb,H.utcFriday=_b,H.utcFridays=Ab,H.utcSaturday=wb,H.utcSaturdays=Eb,H.utcMonth=Lb,H.utcMonths=Pb,H.utcYear=Nb,H.utcYears=Rb,H.timeFormatDefaultLocale=Zs,H.timeFormatLocale=is,H.isoFormat=Vb,H.isoParse=jb,H.now=ge,H.timer=me,H.timerFlush=xe,H.timeout=Zf,H.interval=Kf,H.transition=en,H.active=ip,H.interrupt=ld,H.voronoi=Nw,H.zoom=Iw,H.zoomTransform=Ll,H.zoomIdentity=Rw,Object.defineProperty(H,"__esModule",{value:!0})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(window.jQuery)}(function(g){"use strict";var v=function(t,e){return null==t||0===t.length||e&&""===g.trim(t)},a=function(t,e){var n=this;n.$element=g(t),n.init(e),n.listen()};a.prototype={constructor:a,init:function(t){var n=this,e=n.$element;g.each(t,function(t,e){n[t]=e}),n.initCache(),n.enableCache=!!n.enableCache,v(n.addCss)||e.hasClass(n.addCss)||e.addClass(n.addCss),n.$pane=e.find(".tab-pane.active"),n.$content=e.find(".tab-content"),n.$tabs=e.find(".nav-tabs"),n.isVertical=e.hasClass("tabs-left")||e.hasClass("tabs-right"),n.isVerticalSide=n.isVertical&&e.hasClass("tab-sideways"),n.isVertical&&n.$content.css("min-height",n.$tabs.outerHeight()+1+"px")},setTitle:function(t){var e=this,n=g.trim(t.text()),i=e.isVertical,r=v(t.data("maxTitleLength"))?e.maxTitleLength:t.data("maxTitleLength");i&&n.length>r-2&&v(t.attr("title"))&&t.attr("title",n)},listen:function(){var p=this,t=p.$element;t.find(".nav-tabs li.disabled").each(function(){g(this).find('[data-toggle="tab"]').removeAttr("data-toggle")}),t.find('.nav-tabs li [data-toggle="dropdown"]').each(function(){p.setTitle(g(this))}),t.find('.nav-tabs li [data-toggle="tab"]').each(function(){var f=g(this),d=f.closest("li");d.removeAttr("data-toggle"),p.setTitle(f),f.on("click",function(t){if(d.hasClass("disabled"))t.preventDefault();else{var e,n=g(this).attr("data-url"),i=this.hash,r=n+i;if(v(n)||p.enableCache&&p.cache.exist(r))f.trigger("tabsX:click");else{t.preventDefault();var o=g(i),a=g(this),s=a,u=g(this).attr("data-loading-class")||"kv-tab-loading",l=a.closest(".dropdown"),c=p.successCallback[i]||null,h=p.errorCallback[i]||null;v(l.attr("class"))||(s=l.find(".dropdown-toggle")),e=g.extend(!0,{},{type:"post",dataType:"json",url:n,beforeSend:function(t,e){o.html("<br><br><br>"),s.removeClass(u).addClass(u),f.trigger("tabsX:beforeSend",[t,e])},success:function(t,e,n){setTimeout(function(){o.html(t),a.tab("show"),s.removeClass(u),p.enableCache&&p.cache.set(r),c&&"function"==typeof c&&c(t,e,n),f.trigger("tabsX:success",[t,e,n])},300)},error:function(t,e,n){h&&"function"==typeof h&&h(t,e,n),f.trigger("tabsX:error",[t,e,n])},complete:function(t,e){f.trigger("tabsX:click",[t,e])}},p.ajaxSettings),g.ajax(e)}}})})},initCache:function(){var e=this,n=parseFloat(e.cacheTimeout);isNaN(n)&&(n=0),e.cache={data:{},create:function(){return(new Date).getTime()},exist:function(t){return!!e.cache.data[t]&&e.cache.create()-e.cache.data[t]<n},set:function(t){e.cache.data[t]=e.cache.create()}}},flushCache:function(t){var n=this;"string"==typeof t&&(t=[t]),"object"!=typeof t||v(t)?n.cache.data={}:Object.values(t).forEach(function(e){Object.keys(n.cache.data).forEach(function(t){t.endsWith(e)&&delete n.cache.data[t]})})}},g.fn.tabsX=function(i){var r=Array.apply(null,arguments),o=[];switch(r.shift(),this.each(function(){var t=g(this),e=t.data("tabsX"),n="object"==typeof i&&i;e||(e=new a(this,g.extend(!0,{},g.fn.tabsX.defaults,n,g(this).data())),t.data("tabsX",e)),"string"==typeof i&&o.push(e[i].apply(e,r))}),o.length){case 0:return this;case 1:return o[0];default:return o}},g.fn.tabsX.defaults={enableCache:!0,cacheTimeout:3e5,maxTitleLength:9,ajaxSettings:{},successCallback:{},errorCallback:{},addCss:"tabs-krajee"},g.fn.tabsX.Constructor=a,g(document).on("ready",function(){g(".tabs-x").tabsX({})})}),(Base=function(){}).extend=function(t,e){"use strict";var n=Base.prototype.extend;Base._prototyping=!0;var i=new this;n.call(i,t),i.base=function(){},delete Base._prototyping;var r=i.constructor,o=i.constructor=function(t){if(!Base._prototyping)if(this._constructing||this.constructor==o)this._constructing=!0,r.apply(this,arguments),delete this._constructing;else if(null!==t)return(t.extend||n).call(t,i)};return o.ancestor=this,o.extend=this.extend,o.forEach=this.forEach,o.implement=this.implement,o.prototype=i,o.toString=this.toString,o.valueOf=function(t){return"object"==t?o:r.valueOf()},n.call(o,e),"function"==typeof o.init&&o.init(),o},Base.prototype={extend:function(t,e){if(1<arguments.length){var n=this[t];if(n&&"function"==typeof e&&(!n.valueOf||n.valueOf()!=e.valueOf())&&/\bbase\b/.test(e)){var i=e.valueOf();(e=function(){var t=this.base||Base.prototype.base;this.base=n;var e=i.apply(this,arguments);return this.base=t,e}).valueOf=function(t){return"object"==t?e:i},e.toString=Base.toString}this[t]=e}else if(t){var r=Base.prototype.extend;Base._prototyping||"function"==typeof this||(r=this.extend||r);for(var o={toSource:null},a=["constructor","toString","valueOf"],s=Base._prototyping?0:1;u=a[s++];)t[u]!=o[u]&&r.call(this,u,t[u]);for(var u in t)o[u]||r.call(this,u,t[u])}return this}},Base=Base.extend({constructor:function(t){this.extend(t)}},{ancestor:Object,version:"1.1",forEach:function(t,e,n){for(var i in t)void 0===this.prototype[i]&&e.call(n,t[i],i,t)},implement:function(){for(var t=0;t<arguments.length;t++)"function"==typeof arguments[t]?arguments[t](this.prototype):this.prototype.extend(arguments[t]);return this},toString:function(){return String(this.valueOf())}}),function(n){"use strict";(FlipClock=function(t,e,n){return e instanceof Object&&e instanceof Date==0&&(n=e,e=0),new FlipClock.Factory(t,e,n)}).Lang={},FlipClock.Base=Base.extend({buildDate:"2014-10-06",version:"0.7.5",constructor:function(t,e){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={}),this.setOptions(n.extend(!0,{},t,e))},callback:function(t){if("function"==typeof t){for(var e=[],n=1;n<=arguments.length;n++)arguments[n]&&e.push(arguments[n]);t.apply(this,e)}},log:function(t){window.console&&console.log&&console.log(t)},getOption:function(t){return!!this[t]&&this[t]},getOptions:function(){return this},setOption:function(t,e){this[t]=e},setOptions:function(t){for(var e in t)"undefined"!=typeof t[e]&&this.setOption(e,t[e])}})}(jQuery),function(a){"use strict";FlipClock.Face=FlipClock.Base.extend({autoStart:!0,dividers:[],factory:!1,lists:[],constructor:function(t,e){this.dividers=[],this.lists=[],this.base(e),this.factory=t},build:function(){this.autoStart&&this.start()},createDivider:function(t,e,n){"boolean"!=typeof e&&e||(n=e,e=t);var i=['<span class="'+this.factory.classes.dot+' top"></span>','<span class="'+this.factory.classes.dot+' bottom"></span>'].join("");n&&(i=""),t=this.factory.localize(t);var r=['<span class="'+this.factory.classes.divider+" "+(e||"").toLowerCase()+'">','<span class="'+this.factory.classes.label+'">'+(t||"")+"</span>",i,"</span>"],o=a(r.join(""));return this.dividers.push(o),o},createList:function(t,e){"object"==typeof t&&(e=t,t=0);var n=new FlipClock.List(this.factory,t,e);return this.lists.push(n),n},reset:function(){this.factory.time=new FlipClock.Time(this.factor,this.factory.original?Math.round(this.factory.original):0,{minimumDigits:this.factory.minimumDigits}),this.flip(this.factory.original,!1)},appendDigitToClock:function(t){t.$el.append(!1)},addDigit:function(t){var e=this.createList(t,{classes:{active:this.factory.classes.active,before:this.factory.classes.before,flip:this.factory.classes.flip}});this.appendDigitToClock(e)},start:function(){},stop:function(){},autoIncrement:function(){this.factory.countdown?this.decrement():this.increment()},increment:function(){this.factory.time.addSecond()},decrement:function(){0==this.factory.time.getTimeSeconds()?this.factory.stop():this.factory.time.subSecond()},flip:function(t,i){var r=this;a.each(t,function(t,e){var n=r.lists[t];n?(i||e==n.digit||n.play(),n.select(e)):r.addDigit(e)})}})}(jQuery),function(i){"use strict";FlipClock.Factory=FlipClock.Base.extend({animationRate:1e3,autoStart:!0,callbacks:{destroy:!1,create:!1,init:!1,interval:!1,start:!1,stop:!1,reset:!1},classes:{active:"flip-clock-active",before:"flip-clock-before",divider:"flip-clock-divider",dot:"flip-clock-dot",label:"flip-clock-label",flip:"flip",play:"play",wrapper:"flip-clock-wrapper"},clockFace:"HourlyCounter",countdown:!1,defaultClockFace:"HourlyCounter",defaultLanguage:"english",$el:!1,face:!0,lang:!1,language:"english",minimumDigits:0,original:!1,running:!1,time:!1,timer:!1,$wrapper:!1,constructor:function(t,e,n){n||(n={}),this.lists=[],this.running=!1,this.base(n),this.$el=i(t).addClass(this.classes.wrapper),this.$wrapper=this.$el,this.original=e instanceof Date?e:e?Math.round(e):0,this.time=new FlipClock.Time(this,this.original,{minimumDigits:this.minimumDigits,animationRate:this.animationRate}),this.timer=new FlipClock.Timer(this,n),this.loadLanguage(this.language),this.loadClockFace(this.clockFace,n),this.autoStart&&this.start()},loadClockFace:function(t,e){var n,i="Face",r=!1;return t=t.ucfirst()+i,this.face.stop&&(this.stop(),r=!0),this.$el.html(""),this.time.minimumDigits=this.minimumDigits,(n=FlipClock[t]?new FlipClock[t](this,e):new FlipClock[this.defaultClockFace+i](this,e)).build(),this.face=n,r&&this.start(),this.face},loadLanguage:function(t){var e;return e=FlipClock.Lang[t.ucfirst()]?FlipClock.Lang[t.ucfirst()]:FlipClock.Lang[t]?FlipClock.Lang[t]:FlipClock.Lang[this.defaultLanguage],this.lang=e},localize:function(t,e){var n=this.lang;if(!t)return null;var i=t.toLowerCase();return"object"==typeof e&&(n=e),n&&n[i]?n[i]:t},start:function(t){var e=this;e.running||e.countdown&&!(e.countdown&&0<e.time.time)?e.log("Trying to start timer when countdown already at 0"):(e.face.start(e.time),e.timer.start(function(){e.flip(),"function"==typeof t&&t()}))},stop:function(t){for(var e in this.face.stop(),this.timer.stop(t),this.lists)this.lists.hasOwnProperty(e)&&this.lists[e].stop()},reset:function(t){this.timer.reset(t),this.face.reset()},setTime:function(t){this.time.time=t,this.flip(!0)},getTime:function(){return this.time},setCountdown:function(t){var e=this.running;this.countdown=!!t,e&&(this.stop(),this.start())},flip:function(t){this.face.flip(!1,t)}})}(jQuery),function(e){"use strict";FlipClock.List=FlipClock.Base.extend({digit:0,classes:{active:"flip-clock-active",before:"flip-clock-before",flip:"flip"},factory:!1,$el:!1,$obj:!1,items:[],lastDigit:0,constructor:function(t,e){this.factory=t,this.digit=e,this.lastDigit=e,this.$el=this.createList(),this.$obj=this.$el,0<e&&this.select(e),this.factory.$el.append(this.$el)},select:function(t){if(void 0===t?t=this.digit:this.digit=t,this.digit!=this.lastDigit){var e=this.$el.find("."+this.classes.before).removeClass(this.classes.before);this.$el.find("."+this.classes.active).removeClass(this.classes.active).addClass(this.classes.before),this.appendListItem(this.classes.active,this.digit),e.remove(),this.lastDigit=this.digit}},play:function(){this.$el.addClass(this.factory.classes.play)},stop:function(){var t=this;setTimeout(function(){t.$el.removeClass(t.factory.classes.play)},this.factory.timer.interval)},createListItem:function(t,e){return['<li class="'+(t||"")+'">','<a href="#">','<div class="up">','<div class="shadow"></div>','<div class="inn">'+(e||"")+"</div>","</div>",'<div class="down">','<div class="shadow"></div>','<div class="inn">'+(e||"")+"</div>","</div>","</a>","</li>"].join("")},appendListItem:function(t,e){var n=this.createListItem(t,e);this.$el.append(n)},createList:function(){var t=this.getPrevDigit()?this.getPrevDigit():this.digit;return e(['<ul class="'+this.classes.flip+" "+(this.factory.running?this.factory.classes.play:"")+'">',this.createListItem(this.classes.before,t),this.createListItem(this.classes.active,this.digit),"</ul>"].join(""))},getNextDigit:function(){return 9==this.digit?0:this.digit+1},getPrevDigit:function(){return 0==this.digit?9:this.digit-1}})}(jQuery),function(n){"use strict";String.prototype.ucfirst=function(){return this.substr(0,1).toUpperCase()+this.substr(1)},n.fn.FlipClock=function(t,e){return new FlipClock(n(this),t,e)},n.fn.flipClock=function(t,e){return n.fn.FlipClock(t,e)}}(jQuery),function(o){"use strict";FlipClock.Time=FlipClock.Base.extend({time:0,factory:!1,minimumDigits:0,constructor:function(t,e,n){"object"!=typeof n&&(n={}),n.minimumDigits||(n.minimumDigits=t.minimumDigits),this.base(n),this.factory=t,e&&(this.time=e)},convertDigitsToArray:function(t){var e=[];t=t.toString();for(var n=0;n<t.length;n++)t[n].match(/^\d*$/g)&&e.push(t[n]);return e},digit:function(t){var e=this.toString(),n=e.length;return!!e[n-t]&&e[n-t]},digitize:function(t){var i=[];if(o.each(t,function(t,e){1==(e=e.toString()).length&&(e="0"+e);for(var n=0;n<e.length;n++)i.push(e.charAt(n))}),i.length>this.minimumDigits&&(this.minimumDigits=i.length),this.minimumDigits>i.length)for(var e=i.length;e<this.minimumDigits;e++)i.unshift("0");return i},getDateObject:function(){return this.time instanceof Date?this.time:new Date((new Date).getTime()+1e3*this.getTimeSeconds())},getDayCounter:function(t){var e=[this.getDays(),this.getHours(!0),this.getMinutes(!0)];return t&&e.push(this.getSeconds(!0)),this.digitize(e)},getDays:function(t){var e=this.getTimeSeconds()/60/60/24;return t&&(e%=7),Math.floor(e)},getHourCounter:function(){return this.digitize([this.getHours(),this.getMinutes(!0),this.getSeconds(!0)])},getHourly:function(){return this.getHourCounter()},getHours:function(t){var e=this.getTimeSeconds()/60/60;return t&&(e%=24),Math.floor(e)},getMilitaryTime:function(t,e){void 0===e&&(e=!0),t||(t=this.getDateObject());var n=[t.getHours(),t.getMinutes()];return!0===e&&n.push(t.getSeconds()),this.digitize(n)},getMinutes:function(t){var e=this.getTimeSeconds()/60;return t&&(e%=60),Math.floor(e)},getMinuteCounter:function(){return this.digitize([this.getMinutes(),this.getSeconds(!0)])},getTimeSeconds:function(t){return t||(t=new Date),this.time instanceof Date?this.factory.countdown?Math.max(this.time.getTime()/1e3-t.getTime()/1e3,0):t.getTime()/1e3-this.time.getTime()/1e3:this.time},getTime:function(t,e){void 0===e&&(e=!0),t||(t=this.getDateObject()),console.log(t);var n=t.getHours(),i=[12<n?n-12:0===n?12:n,t.getMinutes()];return!0===e&&i.push(t.getSeconds()),this.digitize(i)},getSeconds:function(t){var e=this.getTimeSeconds();return t&&(60==e?e=0:e%=60),Math.ceil(e)},getWeeks:function(t){var e=this.getTimeSeconds()/60/60/24/7;return t&&(e%=52),Math.floor(e)},removeLeadingZeros:function(e,n){var i=0,r=[];return o.each(n,function(t){t<e?i+=parseInt(n[t],10):r.push(n[t])}),0===i?r:n},addSeconds:function(t){this.time instanceof Date?this.time.setSeconds(this.time.getSeconds()+t):this.time+=t},addSecond:function(){this.addSeconds(1)},subSeconds:function(t){this.time instanceof Date?this.time.setSeconds(this.time.getSeconds()-t):this.time-=t},subSecond:function(){this.subSeconds(1)},toString:function(){return this.getTimeSeconds().toString()}})}(jQuery),function(){"use strict";FlipClock.Timer=FlipClock.Base.extend({callbacks:{destroy:!1,create:!1,init:!1,interval:!1,start:!1,stop:!1,reset:!1},count:0,factory:!1,interval:1e3,animationRate:1e3,constructor:function(t,e){this.base(e),this.factory=t,this.callback(this.callbacks.init),this.callback(this.callbacks.create)},getElapsed:function(){return this.count*this.interval},getElapsedTime:function(){return new Date(this.time+this.getElapsed())},reset:function(t){clearInterval(this.timer),this.count=0,this._setInterval(t),this.callback(this.callbacks.reset)},start:function(t){this.factory.running=!0,this._createTimer(t),this.callback(this.callbacks.start)},stop:function(t){this.factory.running=!1,this._clearInterval(t),this.callback(this.callbacks.stop),this.callback(t)},_clearInterval:function(){clearInterval(this.timer)},_createTimer:function(t){this._setInterval(t)},_destroyTimer:function(t){this._clearInterval(),this.timer=!1,this.callback(t),this.callback(this.callbacks.destroy)},_interval:function(t){this.callback(this.callbacks.interval),this.callback(t),this.count++},_setInterval:function(t){var e=this;e._interval(t),e.timer=setInterval(function(){e._interval(t)},this.interval)}})}(jQuery),function(i){FlipClock.TwentyFourHourClockFace=FlipClock.Face.extend({constructor:function(t,e){this.base(t,e)},build:function(t){var n=this,e=this.factory.$el.find("ul");this.factory.time.time||(this.factory.original=new Date,this.factory.time=new FlipClock.Time(this.factory,this.factory.original)),(t=t||this.factory.time.getMilitaryTime(!1,this.showSeconds)).length>e.length&&i.each(t,function(t,e){n.createList(e)}),this.createDivider(),this.createDivider(),i(this.dividers[0]).insertBefore(this.lists[this.lists.length-2].$el),i(this.dividers[1]).insertBefore(this.lists[this.lists.length-4].$el),this.base()},flip:function(t,e){this.autoIncrement(),t=t||this.factory.time.getMilitaryTime(!1,this.showSeconds),this.base(t,e)}})}(jQuery),function(i){FlipClock.CounterFace=FlipClock.Face.extend({shouldAutoIncrement:!1,constructor:function(e,t){"object"!=typeof t&&(t={}),e.autoStart=!!t.autoStart,t.autoStart&&(this.shouldAutoIncrement=!0),e.increment=function(){e.countdown=!1,e.setTime(e.getTime().getTimeSeconds()+1)},e.decrement=function(){e.countdown=!0;var t=e.getTime().getTimeSeconds();0<t&&e.setTime(t-1)},e.setValue=function(t){e.setTime(t)},e.setCounter=function(t){e.setTime(t)},this.base(e,t)},build:function(){var n=this,t=this.factory.$el.find("ul"),e=this.factory.getTime().digitize([this.factory.getTime().time]);e.length>t.length&&i.each(e,function(t,e){n.createList(e).select(e)}),i.each(this.lists,function(t,e){e.play()}),this.base()},flip:function(t,e){this.shouldAutoIncrement&&this.autoIncrement(),t||(t=this.factory.getTime().digitize([this.factory.getTime().time])),this.base(t,e)},reset:function(){this.factory.time=new FlipClock.Time(this.factory,this.factory.original?Math.round(this.factory.original):0),this.flip()}})}(jQuery),function(r){FlipClock.DailyCounterFace=FlipClock.Face.extend({showSeconds:!0,constructor:function(t,e){this.base(t,e)},build:function(t){var n=this,e=this.factory.$el.find("ul"),i=0;(t=t||this.factory.time.getDayCounter(this.showSeconds)).length>e.length&&r.each(t,function(t,e){n.createList(e)}),this.showSeconds?r(this.createDivider("Seconds")).insertBefore(this.lists[this.lists.length-2].$el):i=2,r(this.createDivider("Minutes")).insertBefore(this.lists[this.lists.length-4+i].$el),r(this.createDivider("Hours")).insertBefore(this.lists[this.lists.length-6+i].$el),r(this.createDivider("Days",!0)).insertBefore(this.lists[0].$el),this.base()},flip:function(t,e){t||(t=this.factory.time.getDayCounter(this.showSeconds)),this.autoIncrement(),this.base(t,e)}})}(jQuery),function(r){FlipClock.HourlyCounterFace=FlipClock.Face.extend({constructor:function(t,e){this.base(t,e)},build:function(t,e){var n=this,i=this.factory.$el.find("ul")
;(e=e||this.factory.time.getHourCounter()).length>i.length&&r.each(e,function(t,e){n.createList(e)}),r(this.createDivider("Seconds")).insertBefore(this.lists[this.lists.length-2].$el),r(this.createDivider("Minutes")).insertBefore(this.lists[this.lists.length-4].$el),t||r(this.createDivider("Hours",!0)).insertBefore(this.lists[0].$el),this.base()},flip:function(t,e){t||(t=this.factory.time.getHourCounter()),this.autoIncrement(),this.base(t,e)},appendDigitToClock:function(t){this.base(t),this.dividers[0].insertAfter(this.dividers[0].next())}})}(jQuery),jQuery,FlipClock.MinuteCounterFace=FlipClock.HourlyCounterFace.extend({clearExcessDigits:!1,constructor:function(t,e){this.base(t,e)},build:function(){this.base(!0,this.factory.time.getMinuteCounter())},flip:function(t,e){t||(t=this.factory.time.getMinuteCounter()),this.base(t,e)}}),function(e){FlipClock.TwelveHourClockFace=FlipClock.TwentyFourHourClockFace.extend({meridium:!1,meridiumText:"AM",build:function(){var t=this.factory.time.getTime(!1,this.showSeconds);this.base(t),this.meridiumText=this.getMeridium(),this.meridium=e(['<ul class="flip-clock-meridium">',"<li>",'<a href="#">'+this.meridiumText+"</a>","</li>","</ul>"].join("")),this.meridium.insertAfter(this.lists[this.lists.length-1].$el)},flip:function(t,e){this.meridiumText!=this.getMeridium()&&(this.meridiumText=this.getMeridium(),this.meridium.find("a").html(this.meridiumText)),this.base(this.factory.time.getTime(!1,this.showSeconds),e)},getMeridium:function(){return 12<=(new Date).getHours()?"PM":"AM"},isPM:function(){return"PM"==this.getMeridium()},isAM:function(){return"AM"==this.getMeridium()}})}(jQuery),jQuery,FlipClock.Lang.Arabic={years:"\u0633\u0646\u0648\u0627\u062a",months:"\u0634\u0647\u0648\u0631",days:"\u0623\u064a\u0627\u0645",hours:"\u0633\u0627\u0639\u0627\u062a",minutes:"\u062f\u0642\u0627\u0626\u0642",seconds:"\u062b\u0648\u0627\u0646\u064a"},FlipClock.Lang.ar=FlipClock.Lang.Arabic,FlipClock.Lang["ar-ar"]=FlipClock.Lang.Arabic,FlipClock.Lang.arabic=FlipClock.Lang.Arabic,jQuery,FlipClock.Lang.Danish={years:"\xc5r",months:"M\xe5neder",days:"Dage",hours:"Timer",minutes:"Minutter",seconds:"Sekunder"},FlipClock.Lang.da=FlipClock.Lang.Danish,FlipClock.Lang["da-dk"]=FlipClock.Lang.Danish,FlipClock.Lang.danish=FlipClock.Lang.Danish,jQuery,FlipClock.Lang.German={years:"Jahre",months:"Monate",days:"Tage",hours:"Stunden",minutes:"Minuten",seconds:"Sekunden"},FlipClock.Lang.de=FlipClock.Lang.German,FlipClock.Lang["de-de"]=FlipClock.Lang.German,FlipClock.Lang.german=FlipClock.Lang.German,jQuery,FlipClock.Lang.English={years:"Years",months:"Months",days:"Days",hours:"Hours",minutes:"Minutes",seconds:"Seconds"},FlipClock.Lang.en=FlipClock.Lang.English,FlipClock.Lang["en-us"]=FlipClock.Lang.English,FlipClock.Lang.english=FlipClock.Lang.English,jQuery,FlipClock.Lang.Spanish={years:"A&#241;os",months:"Meses",days:"D&#205;as",hours:"Horas",minutes:"Minutos",seconds:"Segundo"},FlipClock.Lang.es=FlipClock.Lang.Spanish,FlipClock.Lang["es-es"]=FlipClock.Lang.Spanish,FlipClock.Lang.spanish=FlipClock.Lang.Spanish,jQuery,FlipClock.Lang.Finnish={years:"Vuotta",months:"Kuukautta",days:"P\xe4iv\xe4\xe4",hours:"Tuntia",minutes:"Minuuttia",seconds:"Sekuntia"},FlipClock.Lang.fi=FlipClock.Lang.Finnish,FlipClock.Lang["fi-fi"]=FlipClock.Lang.Finnish,FlipClock.Lang.finnish=FlipClock.Lang.Finnish,jQuery,FlipClock.Lang.French={years:"Ans",months:"Mois",days:"Jours",hours:"Heures",minutes:"Minutes",seconds:"Secondes"},FlipClock.Lang.fr=FlipClock.Lang.French,FlipClock.Lang["fr-ca"]=FlipClock.Lang.French,FlipClock.Lang.french=FlipClock.Lang.French,jQuery,FlipClock.Lang.Italian={years:"Anni",months:"Mesi",days:"Giorni",hours:"Ore",minutes:"Minuti",seconds:"Secondi"},FlipClock.Lang.it=FlipClock.Lang.Italian,FlipClock.Lang["it-it"]=FlipClock.Lang.Italian,FlipClock.Lang.italian=FlipClock.Lang.Italian,jQuery,FlipClock.Lang.Latvian={years:"Gadi",months:"M\u0113ne\u0161i",days:"Dienas",hours:"Stundas",minutes:"Min\u016btes",seconds:"Sekundes"},FlipClock.Lang.lv=FlipClock.Lang.Latvian,FlipClock.Lang["lv-lv"]=FlipClock.Lang.Latvian,FlipClock.Lang.latvian=FlipClock.Lang.Latvian,jQuery,FlipClock.Lang.Dutch={years:"Jaren",months:"Maanden",days:"Dagen",hours:"Uren",minutes:"Minuten",seconds:"Seconden"},FlipClock.Lang.nl=FlipClock.Lang.Dutch,FlipClock.Lang["nl-be"]=FlipClock.Lang.Dutch,FlipClock.Lang.dutch=FlipClock.Lang.Dutch,jQuery,FlipClock.Lang.Norwegian={years:"\xc5r",months:"M\xe5neder",days:"Dager",hours:"Timer",minutes:"Minutter",seconds:"Sekunder"},FlipClock.Lang.no=FlipClock.Lang.Norwegian,FlipClock.Lang.nb=FlipClock.Lang.Norwegian,FlipClock.Lang["no-nb"]=FlipClock.Lang.Norwegian,FlipClock.Lang.norwegian=FlipClock.Lang.Norwegian,jQuery,FlipClock.Lang.Portuguese={years:"Anos",months:"Meses",days:"Dias",hours:"Horas",minutes:"Minutos",seconds:"Segundos"},FlipClock.Lang.pt=FlipClock.Lang.Portuguese,FlipClock.Lang["pt-br"]=FlipClock.Lang.Portuguese,FlipClock.Lang.portuguese=FlipClock.Lang.Portuguese,jQuery,FlipClock.Lang.Russian={years:"\u043b\u0435\u0442",months:"\u043c\u0435\u0441\u044f\u0446\u0435\u0432",days:"\u0434\u043d\u0435\u0439",hours:"\u0447\u0430\u0441\u043e\u0432",minutes:"\u043c\u0438\u043d\u0443\u0442",seconds:"\u0441\u0435\u043a\u0443\u043d\u0434"},FlipClock.Lang.ru=FlipClock.Lang.Russian,FlipClock.Lang["ru-ru"]=FlipClock.Lang.Russian,FlipClock.Lang.russian=FlipClock.Lang.Russian,jQuery,FlipClock.Lang.Swedish={years:"\xc5r",months:"M\xe5nader",days:"Dagar",hours:"Timmar",minutes:"Minuter",seconds:"Sekunder"},FlipClock.Lang.sv=FlipClock.Lang.Swedish,FlipClock.Lang["sv-se"]=FlipClock.Lang.Swedish,FlipClock.Lang.swedish=FlipClock.Lang.Swedish,function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(c){"use strict";var s=window.Slick||{};(s=function(){function t(t,e){var n,i=this;i.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:c(t),appendDots:c(t),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,e){return c('<button type="button" />').text(e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},i.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},c.extend(i,i.initials),i.activeBreakpoint=null,i.animType=null,i.animProp=null,i.breakpoints=[],i.breakpointSettings=[],i.cssTransitions=!1,i.focussed=!1,i.interrupted=!1,i.hidden="hidden",i.paused=!0,i.positionProp=null,i.respondTo=null,i.rowCount=1,i.shouldClick=!0,i.$slider=c(t),i.$slidesCache=null,i.transformType=null,i.transitionType=null,i.visibilityChange="visibilitychange",i.windowWidth=0,i.windowTimer=null,n=c(t).data("slick")||{},i.options=c.extend({},i.defaults,e,n),i.currentSlide=i.options.initialSlide,i.originalSettings=i.options,"undefined"!=typeof document.mozHidden?(i.hidden="mozHidden",i.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(i.hidden="webkitHidden",i.visibilityChange="webkitvisibilitychange"),i.autoPlay=c.proxy(i.autoPlay,i),i.autoPlayClear=c.proxy(i.autoPlayClear,i),i.autoPlayIterator=c.proxy(i.autoPlayIterator,i),i.changeSlide=c.proxy(i.changeSlide,i),i.clickHandler=c.proxy(i.clickHandler,i),i.selectHandler=c.proxy(i.selectHandler,i),i.setPosition=c.proxy(i.setPosition,i),i.swipeHandler=c.proxy(i.swipeHandler,i),i.dragHandler=c.proxy(i.dragHandler,i),i.keyHandler=c.proxy(i.keyHandler,i),i.instanceUid=r++,i.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,i.registerBreakpoints(),i.init(!0)}var r=0;return t}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},s.prototype.addSlide=s.prototype.slickAdd=function(t,e,n){var i=this;if("boolean"==typeof e)n=e,e=null;else if(e<0||e>=i.slideCount)return!1;i.unload(),"number"==typeof e?0===e&&0===i.$slides.length?c(t).appendTo(i.$slideTrack):n?c(t).insertBefore(i.$slides.eq(e)):c(t).insertAfter(i.$slides.eq(e)):!0===n?c(t).prependTo(i.$slideTrack):c(t).appendTo(i.$slideTrack),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slides.each(function(t,e){c(e).attr("data-slick-index",t)}),i.$slidesCache=i.$slides,i.reinit()},s.prototype.animateHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.animate({height:e},t.options.speed)}},s.prototype.animateSlide=function(t,e){var n={},i=this;i.animateHeight(),!0===i.options.rtl&&!1===i.options.vertical&&(t=-t),!1===i.transformsEnabled?!1===i.options.vertical?i.$slideTrack.animate({left:t},i.options.speed,i.options.easing,e):i.$slideTrack.animate({top:t},i.options.speed,i.options.easing,e):!1===i.cssTransitions?(!0===i.options.rtl&&(i.currentLeft=-i.currentLeft),c({animStart:i.currentLeft}).animate({animStart:t},{duration:i.options.speed,easing:i.options.easing,step:function(t){t=Math.ceil(t),!1===i.options.vertical?n[i.animType]="translate("+t+"px, 0px)":n[i.animType]="translate(0px,"+t+"px)",i.$slideTrack.css(n)},complete:function(){e&&e.call()}})):(i.applyTransition(),t=Math.ceil(t),!1===i.options.vertical?n[i.animType]="translate3d("+t+"px, 0px, 0px)":n[i.animType]="translate3d(0px,"+t+"px, 0px)",i.$slideTrack.css(n),e&&setTimeout(function(){i.disableTransition(),e.call()},i.options.speed))},s.prototype.getNavTarget=function(){var t=this,e=t.options.asNavFor;return e&&null!==e&&(e=c(e).not(t.$slider)),e},s.prototype.asNavFor=function(e){var t=this.getNavTarget();null!==t&&"object"==typeof t&&t.each(function(){var t=c(this).slick("getSlick");t.unslicked||t.slideHandler(e,!0)})},s.prototype.applyTransition=function(t){var e=this,n={};!1===e.options.fade?n[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:n[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(n):e.$slides.eq(t).css(n)},s.prototype.autoPlay=function(){var t=this;t.autoPlayClear(),t.slideCount>t.options.slidesToShow&&(t.autoPlayTimer=setInterval(t.autoPlayIterator,t.options.autoplaySpeed))},s.prototype.autoPlayClear=function(){var t=this;t.autoPlayTimer&&clearInterval(t.autoPlayTimer)},s.prototype.autoPlayIterator=function(){var t=this,e=t.currentSlide+t.options.slidesToScroll;t.paused||t.interrupted||t.focussed||(!1===t.options.infinite&&(1===t.direction&&t.currentSlide+1===t.slideCount-1?t.direction=0:0===t.direction&&(e=t.currentSlide-t.options.slidesToScroll,t.currentSlide-1==0&&(t.direction=1))),t.slideHandler(e))},s.prototype.buildArrows=function(){var t=this;!0===t.options.arrows&&(t.$prevArrow=c(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=c(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),!0!==t.options.infinite&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},s.prototype.buildDots=function(){var t,e,n=this;if(!0===n.options.dots&&n.slideCount>n.options.slidesToShow){for(n.$slider.addClass("slick-dotted"),e=c("<ul />").addClass(n.options.dotsClass),t=0;t<=n.getDotCount();t+=1)e.append(c("<li />").append(n.options.customPaging.call(this,n,t)));n.$dots=e.appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active")}},s.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,e){c(e).attr("data-slick-index",t).data("originalStyling",c(e).attr("style")||"")}),t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?c('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),!0!==t.options.centerMode&&!0!==t.options.swipeToSlide||(t.options.slidesToScroll=1),c("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),!0===t.options.draggable&&t.$list.addClass("draggable")},s.prototype.buildRows=function(){var t,e,n,i,r,o,a,s=this;if(i=document.createDocumentFragment(),o=s.$slider.children(),0<s.options.rows){for(a=s.options.slidesPerRow*s.options.rows,r=Math.ceil(o.length/a),t=0;t<r;t++){var u=document.createElement("div");for(e=0;e<s.options.rows;e++){var l=document.createElement("div");for(n=0;n<s.options.slidesPerRow;n++){var c=t*a+(e*s.options.slidesPerRow+n);o.get(c)&&l.appendChild(o.get(c))}u.appendChild(l)}i.appendChild(u)}s.$slider.empty().append(i),s.$slider.children().children().children().css({width:100/s.options.slidesPerRow+"%",display:"inline-block"})}},s.prototype.checkResponsive=function(t,e){var n,i,r,o=this,a=!1,s=o.$slider.width(),u=window.innerWidth||c(window).width();if("window"===o.respondTo?r=u:"slider"===o.respondTo?r=s:"min"===o.respondTo&&(r=Math.min(u,s)),o.options.responsive&&o.options.responsive.length&&null!==o.options.responsive){for(n in i=null,o.breakpoints)o.breakpoints.hasOwnProperty(n)&&(!1===o.originalSettings.mobileFirst?r<o.breakpoints[n]&&(i=o.breakpoints[n]):r>o.breakpoints[n]&&(i=o.breakpoints[n]));null!==i?null!==o.activeBreakpoint?(i!==o.activeBreakpoint||e)&&(o.activeBreakpoint=i,"unslick"===o.breakpointSettings[i]?o.unslick(i):(o.options=c.extend({},o.originalSettings,o.breakpointSettings[i]),!0===t&&(o.currentSlide=o.options.initialSlide),o.refresh(t)),a=i):(o.activeBreakpoint=i,"unslick"===o.breakpointSettings[i]?o.unslick(i):(o.options=c.extend({},o.originalSettings,o.breakpointSettings[i]),!0===t&&(o.currentSlide=o.options.initialSlide),o.refresh(t)),a=i):null!==o.activeBreakpoint&&(o.activeBreakpoint=null,o.options=o.originalSettings,!0===t&&(o.currentSlide=o.options.initialSlide),o.refresh(t),a=i),t||!1===a||o.$slider.trigger("breakpoint",[o,a])}},s.prototype.changeSlide=function(t,e){var n,i,r=this,o=c(t.currentTarget);switch(o.is("a")&&t.preventDefault(),o.is("li")||(o=o.closest("li")),n=r.slideCount%r.options.slidesToScroll!=0?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,t.data.message){case"previous":i=0===n?r.options.slidesToScroll:r.options.slidesToShow-n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-i,!1,e);break;case"next":i=0===n?r.options.slidesToScroll:n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+i,!1,e);break;case"index":var a=0===t.data.index?0:t.data.index||o.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(a),!1,e),o.children().trigger("focus");break;default:return}},s.prototype.checkNavigable=function(t){var e,n;if(n=0,t>(e=this.getNavigableIndexes())[e.length-1])t=e[e.length-1];else for(var i in e){if(t<e[i]){t=n;break}n=e[i]}return t},s.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&(c("li",t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",c.proxy(t.interrupt,t,!0)).off("mouseleave.slick",c.proxy(t.interrupt,t,!1)),!0===t.options.accessibility&&t.$dots.off("keydown.slick",t.keyHandler)),t.$slider.off("focus.slick blur.slick"),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow&&t.$prevArrow.off("keydown.slick",t.keyHandler),t.$nextArrow&&t.$nextArrow.off("keydown.slick",t.keyHandler))),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),c(document).off(t.visibilityChange,t.visibility),t.cleanUpSlideEvents(),!0===t.options.accessibility&&t.$list.off("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&c(t.$slideTrack).children().off("click.slick",t.selectHandler),c(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),c(window).off("resize.slick.slick-"+t.instanceUid,t.resize),c("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),c(window).off("load.slick.slick-"+t.instanceUid,t.setPosition)},s.prototype.cleanUpSlideEvents=function(){var t=this;t.$list.off("mouseenter.slick",c.proxy(t.interrupt,t,!0)),t.$list.off("mouseleave.slick",c.proxy(t.interrupt,t,!1))},s.prototype.cleanUpRows=function(){var t,e=this;0<e.options.rows&&((t=e.$slides.children().children()).removeAttr("style"),e.$slider.empty().append(t))},s.prototype.clickHandler=function(t){!1===this.shouldClick&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},s.prototype.destroy=function(t){var e=this;e.autoPlayClear(),e.touchObject={},e.cleanUpEvents(),c(".slick-cloned",e.$slider).detach(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.$prevArrow.length&&(e.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove()),e.$nextArrow&&e.$nextArrow.length&&(e.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove()),e.$slides&&(e.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){c(this).attr("style",c(this).data("originalStyling"))}),e.$slideTrack.children(this.options.slide).detach(),e.$slideTrack.detach(),e.$list.detach(),e.$slider.append(e.$slides)),e.cleanUpRows(),e.$slider.removeClass("slick-slider"),e.$slider.removeClass("slick-initialized"),e.$slider.removeClass("slick-dotted"),e.unslicked=!0,t||e.$slider.trigger("destroy",[e])},s.prototype.disableTransition=function(t){var e=this,n={};n[e.transitionType]="",!1===e.options.fade?e.$slideTrack.css(n):e.$slides.eq(t).css(n)},s.prototype.fadeSlide=function(t,e){var n=this;!1===n.cssTransitions?(n.$slides.eq(t).css({zIndex:n.options.zIndex}),n.$slides.eq(t).animate({opacity:1},n.options.speed,n.options.easing,e)):(n.applyTransition(t),n.$slides.eq(t).css({opacity:1,zIndex:n.options.zIndex}),e&&setTimeout(function(){n.disableTransition(t),e.call()},n.options.speed))},s.prototype.fadeSlideOut=function(t){var e=this;!1===e.cssTransitions?e.$slides.eq(t).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(t),e.$slides.eq(t).css({opacity:0,zIndex:e.options.zIndex-2}))},s.prototype.filterSlides=s.prototype.slickFilter=function(t){var e=this;null!==t&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(t).appendTo(e.$slideTrack),e.reinit())},s.prototype.focusHandler=function(){var e=this;e.$slider.off("focus.slick blur.slick").on("focus.slick","*",function(){var t=c(this);setTimeout(function(){e.options.pauseOnFocus&&t.is(":focus")&&(e.focussed=!0,e.autoPlay())},0)}).on("blur.slick","*",function(){c(this),e.options.pauseOnFocus&&(e.focussed=!1,e.autoPlay())})},s.prototype.getCurrent=s.prototype.slickCurrentSlide=function(){return this.currentSlide},s.prototype.getDotCount=function(){var t=this,e=0,n=0,i=0;if(!0===t.options.infinite)if(t.slideCount<=t.options.slidesToShow)++i;else for(;e<t.slideCount;)++i,e=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else if(!0===t.options.centerMode)i=t.slideCount;else if(t.options.asNavFor)for(;e<t.slideCount;)++i,e=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else i=1+Math.ceil((t.slideCount-t.options.slidesToShow)/t.options.slidesToScroll);return i-1},s.prototype.getLeft=function(t){var e,n,i,r,o=this,a=0;return o.slideOffset=0,n=o.$slides.first().outerHeight(!0),!0===o.options.infinite?(o.slideCount>o.options.slidesToShow&&(o.slideOffset=o.slideWidth*o.options.slidesToShow*-1,r=-1,!0===o.options.vertical&&!0===o.options.centerMode&&(2===o.options.slidesToShow?r=-1.5:1===o.options.slidesToShow&&(r=-2)),a=n*o.options.slidesToShow*r),o.slideCount%o.options.slidesToScroll!=0&&t+o.options.slidesToScroll>o.slideCount&&o.slideCount>o.options.slidesToShow&&(t>o.slideCount?(o.slideOffset=(o.options.slidesToShow-(t-o.slideCount))*o.slideWidth*-1,a=(o.options.slidesToShow-(t-o.slideCount))*n*-1):(o.slideOffset=o.slideCount%o.options.slidesToScroll*o.slideWidth*-1,a=o.slideCount%o.options.slidesToScroll*n*-1))):t+o.options.slidesToShow>o.slideCount&&(o.slideOffset=(t+o.options.slidesToShow-o.slideCount)*o.slideWidth,a=(t+o.options.slidesToShow-o.slideCount)*n),o.slideCount<=o.options.slidesToShow&&(a=o.slideOffset=0),!0===o.options.centerMode&&o.slideCount<=o.options.slidesToShow?o.slideOffset=o.slideWidth*Math.floor(o.options.slidesToShow)/2-o.slideWidth*o.slideCount/2:!0===o.options.centerMode&&!0===o.options.infinite?o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)-o.slideWidth:!0===o.options.centerMode&&(o.slideOffset=0,o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)),e=!1===o.options.vertical?t*o.slideWidth*-1+o.slideOffset:t*n*-1+a,!0===o.options.variableWidth&&(i=o.slideCount<=o.options.slidesToShow||!1===o.options.infinite?o.$slideTrack.children(".slick-slide").eq(t):o.$slideTrack.children(".slick-slide").eq(t+o.options.slidesToShow),e=!0===o.options.rtl?i[0]?-1*(o.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,!0===o.options.centerMode&&(i=o.slideCount<=o.options.slidesToShow||!1===o.options.infinite?o.$slideTrack.children(".slick-slide").eq(t):o.$slideTrack.children(".slick-slide").eq(t+o.options.slidesToShow+1),e=!0===o.options.rtl?i[0]?-1*(o.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,e+=(o.$list.width()-i.outerWidth())/2)),e},s.prototype.getOption=s.prototype.slickGetOption=function(t){return this.options[t]},s.prototype.getNavigableIndexes=function(){var t,e=this,n=0,i=0,r=[];for(!1===e.options.infinite?t=e.slideCount:(n=-1*e.options.slidesToScroll,i=-1*e.options.slidesToScroll,t=2*e.slideCount);n<t;)r.push(n),n=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return r},s.prototype.getSlick=function(){return this},s.prototype.getSlideCount=function(){var r,o,t,a=this;return t=!0===a.options.centerMode?Math.floor(a.$list.width()/2):0,o=-1*a.swipeLeft+t,!0===a.options.swipeToSlide?(a.$slideTrack.find(".slick-slide").each(function(t,e){var n,i;if(n=c(e).outerWidth(),i=e.offsetLeft,!0!==a.options.centerMode&&(i+=n/2),o<i+n)return r=e,!1}),Math.abs(c(r).attr("data-slick-index")-a.currentSlide)||1):a.options.slidesToScroll},s.prototype.goTo=s.prototype.slickGoTo=function(t,e){this.changeSlide({data:{message:"index",index:parseInt(t)}},e)},s.prototype.init=function(t){var e=this;c(e.$slider).hasClass("slick-initialized")||(c(e.$slider).addClass("slick-initialized"),e.buildRows(),e.buildOut(),e.setProps(),e.startLoad(),e.loadSlider(),e.initializeEvents(),e.updateArrows(),e.updateDots(),e.checkResponsive(!0),e.focusHandler()),t&&e.$slider.trigger("init",[e]),!0===e.options.accessibility&&e.initADA(),e.options.autoplay&&(e.paused=!1,e.autoPlay())},s.prototype.initADA=function(){var i=this,n=Math.ceil(i.slideCount/i.options.slidesToShow),r=i.getNavigableIndexes().filter(function(t){return 0<=t&&t<i.slideCount});i.$slides.add(i.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==i.$dots&&(i.$slides.not(i.$slideTrack.find(".slick-cloned")).each(function(t){var e=r.indexOf(t);if(c(this).attr({role:"tabpanel",id:"slick-slide"+i.instanceUid+t,tabindex:-1}),-1!==e){var n="slick-slide-control"+i.instanceUid+e;c("#"+n).length&&c(this).attr({"aria-describedby":n})}}),i.$dots.attr("role","tablist").find("li").each(function(t){var e=r[t];c(this).attr({role:"presentation"}),c(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+i.instanceUid+t,"aria-controls":"slick-slide"+i.instanceUid+e,"aria-label":t+1+" of "+n,"aria-selected":null,tabindex:"-1"})}).eq(i.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var t=i.currentSlide,e=t+i.options.slidesToShow;t<e;t++)i.options.focusOnChange?i.$slides.eq(t).attr({tabindex:"0"}):i.$slides.eq(t).removeAttr("tabindex");i.activateADA()},s.prototype.initArrowEvents=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.off("click.slick").on("click.slick",{message:"next"},t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow.on("keydown.slick",t.keyHandler),t.$nextArrow.on("keydown.slick",t.keyHandler)))},s.prototype.initDotEvents=function(){var t=this;!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&(c("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),!0===t.options.accessibility&&t.$dots.on("keydown.slick",t.keyHandler)),!0===t.options.dots&&!0===t.options.pauseOnDotsHover&&t.slideCount>t.options.slidesToShow&&c("li",t.$dots).on("mouseenter.slick",c.proxy(t.interrupt,t,!0)).on("mouseleave.slick",c.proxy(t.interrupt,t,!1))},s.prototype.initSlideEvents=function(){var t=this;t.options.pauseOnHover&&(t.$list.on("mouseenter.slick",c.proxy(t.interrupt,t,!0)),t.$list.on("mouseleave.slick",c.proxy(t.interrupt,t,!1)))},s.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.initSlideEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),c(document).on(t.visibilityChange,c.proxy(t.visibility,t)),!0===t.options.accessibility&&t.$list.on("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&c(t.$slideTrack).children().on("click.slick",t.selectHandler),c(window).on("orientationchange.slick.slick-"+t.instanceUid,c.proxy(t.orientationChange,t)),c(window).on("resize.slick.slick-"+t.instanceUid,c.proxy(t.resize,t)),c("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),c(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),c(t.setPosition)},s.prototype.initUI=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.show(),t.$nextArrow.show()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.show()},s.prototype.keyHandler=function(t){var e=this;t.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===t.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:!0===e.options.rtl?"next":"previous"}}):39===t.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:!0===e.options.rtl?"previous":"next"}}))},s.prototype.lazyLoad=function(){function t(t){c("img[data-lazy]",t).each(function(){var t=c(this),e=c(this).attr("data-lazy"),n=c(this).attr("data-srcset"),i=c(this).attr("data-sizes")||o.$slider.attr("data-sizes"),r=document.createElement("img");r.onload=function(){t.animate({opacity:0},100,function(){n&&(t.attr("srcset",n),i&&t.attr("sizes",i)),t.attr("src",e).animate({opacity:1},200,function(){t.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),o.$slider.trigger("lazyLoaded",[o,t,e])})},r.onerror=function(){t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),o.$slider.trigger("lazyLoadError",[o,t,e])},r.src=e})}var e,n,i,o=this;if(!0===o.options.centerMode?!0===o.options.infinite?i=(n=o.currentSlide+(o.options.slidesToShow/2+1))+o.options.slidesToShow+2:(n=Math.max(0,o.currentSlide-(o.options.slidesToShow/2+1)),i=o.options.slidesToShow/2+1+2+o.currentSlide):(n=o.options.infinite?o.options.slidesToShow+o.currentSlide:o.currentSlide,i=Math.ceil(n+o.options.slidesToShow),!0===o.options.fade&&(0<n&&n--,i<=o.slideCount&&i++)),e=o.$slider.find(".slick-slide").slice(n,i),"anticipated"===o.options.lazyLoad)for(var r=n-1,a=i,s=o.$slider.find(".slick-slide"),u=0;u<o.options.slidesToScroll;u++)r<0&&(r=o.slideCount-1),e=(e=e.add(s.eq(r))).add(s.eq(a)),r--,a++;t(e),o.slideCount<=o.options.slidesToShow?t(o.$slider.find(".slick-slide")):o.currentSlide>=o.slideCount-o.options.slidesToShow?t(o.$slider.find(".slick-cloned").slice(0,o.options.slidesToShow)):0===o.currentSlide&&t(o.$slider.find(".slick-cloned").slice(-1*o.options.slidesToShow))},s.prototype.loadSlider=function(){var t=this;t.setPosition(),t.$slideTrack.css({opacity:1}),t.$slider.removeClass("slick-loading"),t.initUI(),"progressive"===t.options.lazyLoad&&t.progressiveLazyLoad()},s.prototype.next=s.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},s.prototype.orientationChange=function(){var t=this;t.checkResponsive(),t.setPosition()},s.prototype.pause=s.prototype.slickPause=function(){var t=this;t.autoPlayClear(),t.paused=!0},s.prototype.play=s.prototype.slickPlay=function(){var t=this;t.autoPlay(),t.options.autoplay=!0,t.paused=!1,t.focussed=!1,t.interrupted=!1},s.prototype.postSlide=function(t){var e=this;!e.unslicked&&(e.$slider.trigger("afterChange",[e,t]),e.animating=!1,e.slideCount>e.options.slidesToShow&&e.setPosition(),e.swipeLeft=null,e.options.autoplay&&e.autoPlay(),!0===e.options.accessibility&&(e.initADA(),e.options.focusOnChange))&&c(e.$slides.get(e.currentSlide)).attr("tabindex",0).focus()},s.prototype.prev=s.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},s.prototype.preventDefault=function(t){t.preventDefault()},s.prototype.progressiveLazyLoad=function(t){t=t||1;var e,n,i,r,o,a=this,s=c("img[data-lazy]",a.$slider);s.length?(e=s.first(),n=e.attr("data-lazy"),i=e.attr("data-srcset"),r=e.attr("data-sizes")||a.$slider.attr("data-sizes"),(o=document.createElement("img")).onload=function(){i&&(e.attr("srcset",i),r&&e.attr("sizes",r)),e.attr("src",n).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===a.options.adaptiveHeight&&a.setPosition(),a.$slider.trigger("lazyLoaded",[a,e,n]),a.progressiveLazyLoad()},o.onerror=function(){t<3?setTimeout(function(){a.progressiveLazyLoad(t+1)},500):(e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),a.$slider.trigger("lazyLoadError",[a,e,n]),a.progressiveLazyLoad())},o.src=n):a.$slider.trigger("allImagesLoaded",[a])},s.prototype.refresh=function(t){var e,n,i=this;n=i.slideCount-i.options.slidesToShow,!i.options.infinite&&i.currentSlide>n&&(i.currentSlide=n),i.slideCount<=i.options.slidesToShow&&(i.currentSlide=0),e=i.currentSlide,i.destroy(!0),c.extend(i,i.initials,{currentSlide:e}),i.init(),t||i.changeSlide({data:{message:"index",index:e}},!1)},s.prototype.registerBreakpoints=function(){var t,e,n,i=this,r=i.options.responsive||null;if("array"===c.type(r)&&r.length){for(t in i.respondTo=i.options.respondTo||"window",
r)if(n=i.breakpoints.length-1,r.hasOwnProperty(t)){for(e=r[t].breakpoint;0<=n;)i.breakpoints[n]&&i.breakpoints[n]===e&&i.breakpoints.splice(n,1),n--;i.breakpoints.push(e),i.breakpointSettings[e]=r[t].settings}i.breakpoints.sort(function(t,e){return i.options.mobileFirst?t-e:e-t})}},s.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.cleanUpSlideEvents(),t.initSlideEvents(),t.checkResponsive(!1,!0),!0===t.options.focusOnSelect&&c(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.setPosition(),t.focusHandler(),t.paused=!t.options.autoplay,t.autoPlay(),t.$slider.trigger("reInit",[t])},s.prototype.resize=function(){var t=this;c(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=c(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},s.prototype.removeSlide=s.prototype.slickRemove=function(t,e,n){var i=this;return"boolean"==typeof t?t=!0===(e=t)?0:i.slideCount-1:t=!0===e?--t:t,!(i.slideCount<1||t<0||t>i.slideCount-1)&&(i.unload(),!0===n?i.$slideTrack.children().remove():i.$slideTrack.children(this.options.slide).eq(t).remove(),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slidesCache=i.$slides,void i.reinit())},s.prototype.setCSS=function(t){var e,n,i=this,r={};!0===i.options.rtl&&(t=-t),e="left"==i.positionProp?Math.ceil(t)+"px":"0px",n="top"==i.positionProp?Math.ceil(t)+"px":"0px",r[i.positionProp]=t,!1===i.transformsEnabled||(!(r={})===i.cssTransitions?r[i.animType]="translate("+e+", "+n+")":r[i.animType]="translate3d("+e+", "+n+", 0px)"),i.$slideTrack.css(r)},s.prototype.setDimensions=function(){var t=this;!1===t.options.vertical?!0===t.options.centerMode&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),!0===t.options.centerMode&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),!1===t.options.vertical&&!1===t.options.variableWidth?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):!0===t.options.variableWidth?t.$slideTrack.width(5e3*t.slideCount):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var e=t.$slides.first().outerWidth(!0)-t.$slides.first().width();!1===t.options.variableWidth&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},s.prototype.setFade=function(){var n,i=this;i.$slides.each(function(t,e){n=i.slideWidth*t*-1,!0===i.options.rtl?c(e).css({position:"relative",right:n,top:0,zIndex:i.options.zIndex-2,opacity:0}):c(e).css({position:"relative",left:n,top:0,zIndex:i.options.zIndex-2,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},s.prototype.setHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.css("height",e)}},s.prototype.setOption=s.prototype.slickSetOption=function(t,e,n){var i,r,o,a,s,u=this,l=!1;if("object"===c.type(t)?(o=t,l=e,s="multiple"):"string"===c.type(t)&&(a=e,l=n,"responsive"===(o=t)&&"array"===c.type(e)?s="responsive":void 0!==e&&(s="single")),"single"===s)u.options[o]=a;else if("multiple"===s)c.each(o,function(t,e){u.options[t]=e});else if("responsive"===s)for(r in a)if("array"!==c.type(u.options.responsive))u.options.responsive=[a[r]];else{for(i=u.options.responsive.length-1;0<=i;)u.options.responsive[i].breakpoint===a[r].breakpoint&&u.options.responsive.splice(i,1),i--;u.options.responsive.push(a[r])}l&&(u.unload(),u.reinit())},s.prototype.setPosition=function(){var t=this;t.setDimensions(),t.setHeight(),!1===t.options.fade?t.setCSS(t.getLeft(t.currentSlide)):t.setFade(),t.$slider.trigger("setPosition",[t])},s.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=!0===t.options.vertical?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===t.options.useCSS&&(t.cssTransitions=!0),t.options.fade&&("number"==typeof t.options.zIndex?t.options.zIndex<3&&(t.options.zIndex=3):t.options.zIndex=t.defaults.zIndex),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&!1!==t.animType&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=t.options.useTransform&&null!==t.animType&&!1!==t.animType},s.prototype.setSlideClasses=function(t){var e,n,i,r,o=this;if(n=o.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),o.$slides.eq(t).addClass("slick-current"),!0===o.options.centerMode){var a=o.options.slidesToShow%2==0?1:0;e=Math.floor(o.options.slidesToShow/2),!0===o.options.infinite&&(e<=t&&t<=o.slideCount-1-e?o.$slides.slice(t-e+a,t+e+1).addClass("slick-active").attr("aria-hidden","false"):(i=o.options.slidesToShow+t,n.slice(i-e+1+a,i+e+2).addClass("slick-active").attr("aria-hidden","false")),0===t?n.eq(n.length-1-o.options.slidesToShow).addClass("slick-center"):t===o.slideCount-1&&n.eq(o.options.slidesToShow).addClass("slick-center")),o.$slides.eq(t).addClass("slick-center")}else 0<=t&&t<=o.slideCount-o.options.slidesToShow?o.$slides.slice(t,t+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):n.length<=o.options.slidesToShow?n.addClass("slick-active").attr("aria-hidden","false"):(r=o.slideCount%o.options.slidesToShow,i=!0===o.options.infinite?o.options.slidesToShow+t:t,o.options.slidesToShow==o.options.slidesToScroll&&o.slideCount-t<o.options.slidesToShow?n.slice(i-(o.options.slidesToShow-r),i+r).addClass("slick-active").attr("aria-hidden","false"):n.slice(i,i+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==o.options.lazyLoad&&"anticipated"!==o.options.lazyLoad||o.lazyLoad()},s.prototype.setupInfinite=function(){var t,e,n,i=this;if(!0===i.options.fade&&(i.options.centerMode=!1),!0===i.options.infinite&&!1===i.options.fade&&(e=null,i.slideCount>i.options.slidesToShow)){for(n=!0===i.options.centerMode?i.options.slidesToShow+1:i.options.slidesToShow,t=i.slideCount;t>i.slideCount-n;t-=1)e=t-1,c(i.$slides[e]).clone(!0).attr("id","").attr("data-slick-index",e-i.slideCount).prependTo(i.$slideTrack).addClass("slick-cloned");for(t=0;t<n+i.slideCount;t+=1)e=t,c(i.$slides[e]).clone(!0).attr("id","").attr("data-slick-index",e+i.slideCount).appendTo(i.$slideTrack).addClass("slick-cloned");i.$slideTrack.find(".slick-cloned").find("[id]").each(function(){c(this).attr("id","")})}},s.prototype.interrupt=function(t){var e=this;t||e.autoPlay(),e.interrupted=t},s.prototype.selectHandler=function(t){var e=this,n=c(t.target).is(".slick-slide")?c(t.target):c(t.target).parents(".slick-slide"),i=parseInt(n.attr("data-slick-index"));return i||(i=0),e.slideCount<=e.options.slidesToShow?void e.slideHandler(i,!1,!0):void e.slideHandler(i)},s.prototype.slideHandler=function(t,e,n){var i,r,o,a,s,u=null,l=this;if(e=e||!1,!(!0===l.animating&&!0===l.options.waitForAnimate||!0===l.options.fade&&l.currentSlide===t))return!1===e&&l.asNavFor(t),i=t,u=l.getLeft(i),a=l.getLeft(l.currentSlide),l.currentLeft=null===l.swipeLeft?a:l.swipeLeft,!1===l.options.infinite&&!1===l.options.centerMode&&(t<0||t>l.getDotCount()*l.options.slidesToScroll)?void(!1===l.options.fade&&(i=l.currentSlide,!0!==n&&l.slideCount>l.options.slidesToShow?l.animateSlide(a,function(){l.postSlide(i)}):l.postSlide(i))):!1===l.options.infinite&&!0===l.options.centerMode&&(t<0||t>l.slideCount-l.options.slidesToScroll)?void(!1===l.options.fade&&(i=l.currentSlide,!0!==n&&l.slideCount>l.options.slidesToShow?l.animateSlide(a,function(){l.postSlide(i)}):l.postSlide(i))):(l.options.autoplay&&clearInterval(l.autoPlayTimer),r=i<0?l.slideCount%l.options.slidesToScroll!=0?l.slideCount-l.slideCount%l.options.slidesToScroll:l.slideCount+i:i>=l.slideCount?l.slideCount%l.options.slidesToScroll!=0?0:i-l.slideCount:i,l.animating=!0,l.$slider.trigger("beforeChange",[l,l.currentSlide,r]),o=l.currentSlide,l.currentSlide=r,l.setSlideClasses(l.currentSlide),l.options.asNavFor&&((s=(s=l.getNavTarget()).slick("getSlick")).slideCount<=s.options.slidesToShow&&s.setSlideClasses(l.currentSlide)),l.updateDots(),l.updateArrows(),!0===l.options.fade?(!0!==n?(l.fadeSlideOut(o),l.fadeSlide(r,function(){l.postSlide(r)})):l.postSlide(r),void l.animateHeight()):void(!0!==n&&l.slideCount>l.options.slidesToShow?l.animateSlide(u,function(){l.postSlide(r)}):l.postSlide(r)))},s.prototype.startLoad=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},s.prototype.swipeDirection=function(){var t,e,n,i,r=this;return t=r.touchObject.startX-r.touchObject.curX,e=r.touchObject.startY-r.touchObject.curY,n=Math.atan2(e,t),(i=Math.round(180*n/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&0<=i?!1===r.options.rtl?"left":"right":i<=360&&315<=i?!1===r.options.rtl?"left":"right":135<=i&&i<=225?!1===r.options.rtl?"right":"left":!0===r.options.verticalSwiping?35<=i&&i<=135?"down":"up":"vertical"},s.prototype.swipeEnd=function(){var t,e,n=this;if(n.dragging=!1,n.swiping=!1,n.scrolling)return n.scrolling=!1;if(n.interrupted=!1,n.shouldClick=!(10<n.touchObject.swipeLength),void 0===n.touchObject.curX)return!1;if(!0===n.touchObject.edgeHit&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe){switch(e=n.swipeDirection()){case"left":case"down":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount(),n.currentDirection=0;break;case"right":case"up":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount(),n.currentDirection=1}"vertical"!=e&&(n.slideHandler(t),n.touchObject={},n.$slider.trigger("swipe",[n,e]))}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})},s.prototype.swipeHandler=function(t){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},s.prototype.swipeMove=function(t){var e,n,i,r,o,a,s=this;return o=void 0!==t.originalEvent?t.originalEvent.touches:null,!(!s.dragging||s.scrolling||o&&1!==o.length)&&(e=s.getLeft(s.currentSlide),s.touchObject.curX=void 0!==o?o[0].pageX:t.clientX,s.touchObject.curY=void 0!==o?o[0].pageY:t.clientY,s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curX-s.touchObject.startX,2))),a=Math.round(Math.sqrt(Math.pow(s.touchObject.curY-s.touchObject.startY,2))),!s.options.verticalSwiping&&!s.swiping&&4<a?!(s.scrolling=!0):(!0===s.options.verticalSwiping&&(s.touchObject.swipeLength=a),n=s.swipeDirection(),void 0!==t.originalEvent&&4<s.touchObject.swipeLength&&(s.swiping=!0,t.preventDefault()),r=(!1===s.options.rtl?1:-1)*(s.touchObject.curX>s.touchObject.startX?1:-1),!0===s.options.verticalSwiping&&(r=s.touchObject.curY>s.touchObject.startY?1:-1),i=s.touchObject.swipeLength,(s.touchObject.edgeHit=!1)===s.options.infinite&&(0===s.currentSlide&&"right"===n||s.currentSlide>=s.getDotCount()&&"left"===n)&&(i=s.touchObject.swipeLength*s.options.edgeFriction,s.touchObject.edgeHit=!0),!1===s.options.vertical?s.swipeLeft=e+i*r:s.swipeLeft=e+i*(s.$list.height()/s.listWidth)*r,!0===s.options.verticalSwiping&&(s.swipeLeft=e+i*r),!0!==s.options.fade&&!1!==s.options.touchMove&&(!0===s.animating?(s.swipeLeft=null,!1):void s.setCSS(s.swipeLeft))))},s.prototype.swipeStart=function(t){var e,n=this;return n.interrupted=!0,1!==n.touchObject.fingerCount||n.slideCount<=n.options.slidesToShow?!(n.touchObject={}):(void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),n.touchObject.startX=n.touchObject.curX=void 0!==e?e.pageX:t.clientX,n.touchObject.startY=n.touchObject.curY=void 0!==e?e.pageY:t.clientY,void(n.dragging=!0))},s.prototype.unfilterSlides=s.prototype.slickUnfilter=function(){var t=this;null!==t.$slidesCache&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.appendTo(t.$slideTrack),t.reinit())},s.prototype.unload=function(){var t=this;c(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},s.prototype.unslick=function(t){var e=this;e.$slider.trigger("unslick",[e,t]),e.destroy()},s.prototype.updateArrows=function(){var t=this;Math.floor(t.options.slidesToShow/2),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&!1===t.options.centerMode?(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-1&&!0===t.options.centerMode&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},s.prototype.updateDots=function(){var t=this;null!==t.$dots&&(t.$dots.find("li").removeClass("slick-active").end(),t.$dots.find("li").eq(Math.floor(t.currentSlide/t.options.slidesToScroll)).addClass("slick-active"))},s.prototype.visibility=function(){var t=this;t.options.autoplay&&(document[t.hidden]?t.interrupted=!0:t.interrupted=!1)},c.fn.slick=function(t){var e,n,i=this,r=t,o=Array.prototype.slice.call(arguments,1),a=i.length;for(e=0;e<a;e++)if("object"==typeof r||void 0===r?i[e].slick=new s(i[e],r):n=i[e].slick[r].apply(i[e].slick,o),void 0!==n)return n;return i}}),function(){var t=this;(function(){(function(){this.Rails={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:{selector:"button[data-remote]:not([form]), button[data-confirm]:not([form])",exclude:"form button"},inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",formDisableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",formEnableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]"}}).call(this)}).call(t);var m=t.Rails;(function(){(function(){var i,n;n=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector,m.matches=function(t,e){return null!=e.exclude?n.call(t,e.selector)&&!n.call(t,e.exclude):n.call(t,e)},i="_ujsData",m.getData=function(t,e){var n;return null!=(n=t[i])?n[e]:void 0},m.setData=function(t,e,n){return null==t[i]&&(t[i]={}),t[i][e]=n},m.$=function(t){return Array.prototype.slice.call(document.querySelectorAll(t))}}).call(this),function(){var n,i,r;n=m.$,r=m.csrfToken=function(){var t;return(t=document.querySelector("meta[name=csrf-token]"))&&t.content},i=m.csrfParam=function(){var t;return(t=document.querySelector("meta[name=csrf-param]"))&&t.content},m.CSRFProtection=function(t){var e;if(null!=(e=r()))return t.setRequestHeader("X-CSRF-Token",e)},m.refreshCSRFTokens=function(){var t,e;if(e=r(),t=i(),null!=e&&null!=t)return n('form input[name="'+t+'"]').forEach(function(t){return t.value=e})}}.call(this),function(){var r,e,o;o=m.matches,"function"!=typeof(r=window.CustomEvent)&&((r=function(t,e){var n;return(n=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}).prototype=window.Event.prototype),e=m.fire=function(t,e,n){var i;return i=new r(e,{bubbles:!0,cancelable:!0,detail:n}),t.dispatchEvent(i),!i.defaultPrevented},m.stopEverything=function(t){return e(t.target,"ujs:everythingStopped"),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()},m.delegate=function(t,n,e,i){return t.addEventListener(e,function(t){var e;for(e=t.target;e instanceof Element&&!o(e,n);)e=e.parentNode;if(e instanceof Element&&!1===i.call(e,t))return t.preventDefault(),t.stopPropagation()})}}.call(this),function(){var e,i,t,r,o;i=m.CSRFProtection,m.fire,e={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},m.ajax=function(e){var n;return e=r(e),n=t(e,function(){var t;return t=o(n.response,n.getResponseHeader("Content-Type")),2===Math.floor(n.status/100)?"function"==typeof e.success&&e.success(t,n.statusText,n):"function"==typeof e.error&&e.error(t,n.statusText,n),"function"==typeof e.complete?e.complete(n,n.statusText):void 0}),!("function"!=typeof e.beforeSend||!e.beforeSend(n,e))&&(n.readyState===XMLHttpRequest.OPENED?n.send(e.data):void 0)},r=function(t){return t.url=t.url||location.href,t.type=t.type.toUpperCase(),"GET"===t.type&&t.data&&(t.url.indexOf("?")<0?t.url+="?"+t.data:t.url+="&"+t.data),null==e[t.dataType]&&(t.dataType="*"),t.accept=e[t.dataType],"*"!==t.dataType&&(t.accept+=", */*; q=0.01"),t},t=function(t,e){var n;return(n=new XMLHttpRequest).open(t.type,t.url,!0),n.setRequestHeader("Accept",t.accept),"string"==typeof t.data&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.crossDomain||n.setRequestHeader("X-Requested-With","XMLHttpRequest"),i(n),n.withCredentials=!!t.withCredentials,n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE)return e(n)},n},o=function(t,e){var n,i;if("string"==typeof t&&"string"==typeof e)if(e.match(/\bjson\b/))try{t=JSON.parse(t)}catch(r){}else if(e.match(/\b(?:java|ecma)script\b/))(i=document.createElement("script")).text=t,document.head.appendChild(i).parentNode.removeChild(i);else if(e.match(/\b(xml|html|svg)\b/)){n=new DOMParser,e=e.replace(/;.+/,"");try{t=n.parseFromString(t,e)}catch(r){}}return t},m.href=function(t){return t.href},m.isCrossDomain=function(t){var e,n;(e=document.createElement("a")).href=location.href,n=document.createElement("a");try{return n.href=t,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return i,!0}}}.call(this),function(){var r,o;r=m.matches,o=function(t){return Array.prototype.slice.call(t)},m.serializeElement=function(t,e){var n,i;return n=[t],r(t,"form")&&(n=o(t.elements)),i=[],n.forEach(function(e){if(e.name&&!e.disabled)return r(e,"select")?o(e.options).forEach(function(t){if(t.selected)return i.push({name:e.name,value:t.value})}):e.checked||-1===["radio","checkbox","submit"].indexOf(e.type)?i.push({name:e.name,value:e.value}):void 0}),e&&i.push(e),i.map(function(t){return null!=t.name?encodeURIComponent(t.name)+"="+encodeURIComponent(t.value):t}).join("&")},m.formElements=function(t,e){return r(t,"form")?o(t.elements).filter(function(t){return r(t,e)}):o(t.querySelectorAll(e))}}.call(this),function(){var e,o,n;o=m.fire,n=m.stopEverything,m.handleConfirm=function(t){if(!e(this))return n(t)},e=function(t){var e,n,i;if(!(i=t.getAttribute("data-confirm")))return!0;if(e=!1,o(t,"confirm")){try{e=confirm(i)}catch(r){}n=o(t,"confirm:complete",[e])}return e&&n}}.call(this),function(){var n,i,r,o,a,s,e,u,l,c,h;l=m.matches,u=m.getData,c=m.setData,h=m.stopEverything,e=m.formElements,m.handleDisabledElement=function(t){if(this.disabled)return h(t)},m.enableElement=function(t){var e;return e=t instanceof Event?t.target:t,l(e,m.linkDisableSelector)?s(e):l(e,m.buttonDisableSelector)||l(e,m.formEnableSelector)?o(e):l(e,m.formSubmitSelector)?a(e):void 0},m.disableElement=function(t){var e;return e=t instanceof Event?t.target:t,l(e,m.linkDisableSelector)?r(e):l(e,m.buttonDisableSelector)||l(e,m.formDisableSelector)?n(e):l(e,m.formSubmitSelector)?i(e):void 0},r=function(t){var e;return null!=(e=t.getAttribute("data-disable-with"))&&(c(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e),t.addEventListener("click",h),c(t,"ujs:disabled",!0)},s=function(t){var e;return null!=(e=u(t,"ujs:enable-with"))&&(t.innerHTML=e,c(t,"ujs:enable-with",null)),t.removeEventListener("click",h),c(t,"ujs:disabled",null)},i=function(t){return e(t,m.formDisableSelector).forEach(n)},n=function(t){var e;return null!=(e=t.getAttribute("data-disable-with"))&&(l(t,"button")?(c(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e):(c(t,"ujs:enable-with",t.value),t.value=e)),t.disabled=!0,c(t,"ujs:disabled",!0)},a=function(t){return e(t,m.formEnableSelector).forEach(o)},o=function(t){var e;return null!=(e=u(t,"ujs:enable-with"))&&(l(t,"button")?t.innerHTML=e:t.value=e,c(t,"ujs:enable-with",null)),t.disabled=!1,c(t,"ujs:disabled",null)}}.call(this),function(){var u;u=m.stopEverything,m.handleMethod=function(t){var e,n,i,r,o,a,s;if(s=(a=this).getAttribute("data-method"))return o=m.href(a),n=m.csrfToken(),e=m.csrfParam(),i=document.createElement("form"),r="<input name='_method' value='"+s+"' type='hidden' />",null==e||null==n||m.isCrossDomain(o)||(r+="<input name='"+e+"' value='"+n+"' type='hidden' />"),r+='<input type="submit" />',i.method="post",i.action=o,i.target=a.target,i.innerHTML=r,i.style.display="none",document.body.appendChild(i),i.querySelector('[type="submit"]').click(),u(t)}}.call(this),function(){var u,l,c,h,f,d,p,g,v,y=[].slice;d=m.matches,c=m.getData,g=m.setData,l=m.fire,v=m.stopEverything,u=m.ajax,h=m.isCrossDomain,p=m.serializeElement,f=function(t){var e;return null!=(e=t.getAttribute("data-remote"))&&"false"!==e},m.handleRemote=function(t){var e,n,i,r,o,a,s;return!f(r=this)||(l(r,"ajax:before")?(s=r.getAttribute("data-with-credentials"),i=r.getAttribute("data-type")||"script",d(r,m.formSubmitSelector)?(e=c(r,"ujs:submit-button"),o=c(r,"ujs:submit-button-formmethod")||r.method,a=c(r,"ujs:submit-button-formaction")||r.getAttribute("action")||location.href,"GET"===o.toUpperCase()&&(a=a.replace(/\?.*$/,"")),"multipart/form-data"===r.enctype?(n=new FormData(r),null!=e&&n.append(e.name,e.value)):n=p(r,e),g(r,"ujs:submit-button",null),g(r,"ujs:submit-button-formmethod",null),g(r,"ujs:submit-button-formaction",null)):d(r,m.buttonClickSelector)||d(r,m.inputChangeSelector)?(o=r.getAttribute("data-method"),a=r.getAttribute("data-url"),n=p(r,r.getAttribute("data-params"))):(o=r.getAttribute("data-method"),a=m.href(r),n=r.getAttribute("data-params")),u({type:o||"GET",url:a,data:n,dataType:i,beforeSend:function(t,e){return l(r,"ajax:beforeSend",[t,e])?l(r,"ajax:send",[t]):(l(r,"ajax:stopped"),!1)},success:function(){var t;return t=1<=arguments.length?y.call(arguments,0):[],l(r,"ajax:success",t)},error:function(){var t;return t=1<=arguments.length?y.call(arguments,0):[],l(r,"ajax:error",t)},complete:function(){var t;return t=1<=arguments.length?y.call(arguments,0):[],l(r,"ajax:complete",t)},crossDomain:h(a),withCredentials:null!=s&&"false"!==s}),v(t)):(l(r,"ajax:stopped"),!1))},m.formSubmitButtonClick=function(){var t,e;if(e=(t=this).form)return t.name&&g(e,"ujs:submit-button",{name:t.name,value:t.value}),g(e,"ujs:formnovalidate-button",t.formNoValidate),g(e,"ujs:submit-button-formaction",t.getAttribute("formaction")),g(e,"ujs:submit-button-formmethod",t.getAttribute("formmethod"))},m.handleMetaClick=function(t){var e,n,i;if(i=((n=this).getAttribute("data-method")||"GET").toUpperCase(),e=n.getAttribute("data-params"),(t.metaKey||t.ctrlKey)&&"GET"===i&&!e)return t.stopImmediatePropagation()}}.call(this),function(){var t,i,e,n,r,o,a,s,u,l,c,h,f,d;o=m.fire,e=m.delegate,s=m.getData,t=m.$,d=m.refreshCSRFTokens,i=m.CSRFProtection,r=m.enableElement,n=m.disableElement,l=m.handleDisabledElement,u=m.handleConfirm,f=m.handleRemote,a=m.formSubmitButtonClick,c=m.handleMetaClick,h=m.handleMethod,"undefined"==typeof jQuery||null===jQuery||null==jQuery.ajax||jQuery.rails||(jQuery.rails=m,jQuery.ajaxPrefilter(function(t,e,n){if(!t.crossDomain)return i(n)})),m.start=function(){if(window._rails_loaded)throw new Error("rails-ujs has already been loaded!");return window.addEventListener("pageshow",function(){return t(m.formEnableSelector).forEach(function(t){if(s(t,"ujs:disabled"))return r(t)}),t(m.linkDisableSelector).forEach(function(t){if(s(t,"ujs:disabled"))return r(t)})}),e(document,m.linkDisableSelector,"ajax:complete",r),e(document,m.linkDisableSelector,"ajax:stopped",r),e(document,m.buttonDisableSelector,"ajax:complete",r),e(document,m.buttonDisableSelector,"ajax:stopped",r),e(document,m.linkClickSelector,"click",l),e(document,m.linkClickSelector,"click",u),e(document,m.linkClickSelector,"click",c),e(document,m.linkClickSelector,"click",n),e(document,m.linkClickSelector,"click",f),e(document,m.linkClickSelector,"click",h),e(document,m.buttonClickSelector,"click",l),e(document,m.buttonClickSelector,"click",u),e(document,m.buttonClickSelector,"click",n),e(document,m.buttonClickSelector,"click",f),e(document,m.inputChangeSelector,"change",l),e(document,m.inputChangeSelector,"change",u),e(document,m.inputChangeSelector,"change",f),e(document,m.formSubmitSelector,"submit",l),e(document,m.formSubmitSelector,"submit",u),e(document,m.formSubmitSelector,"submit",f),e(document,m.formSubmitSelector,"submit",function(t){return setTimeout(function(){return n(t)},13)}),e(document,m.formSubmitSelector,"ajax:send",n),e(document,m.formSubmitSelector,"ajax:complete",r),e(document,m.formInputClickSelector,"click",l),e(document,m.formInputClickSelector,"click",u),e(document,m.formInputClickSelector,"click",a),document.addEventListener("DOMContentLoaded",d),window._rails_loaded=!0},window.Rails===m&&o(document,"rails:attachBindings")&&m.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=m:"function"==typeof define&&define.amd&&define(m)}.call(this),function(){this.Turbolinks={supported:null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener,visit:function(t,e){return Turbolinks.controller.visit(t,e)},clearCache:function(){return Turbolinks.controller.clearCache()},setProgressBarDelay:function(t){return Turbolinks.controller.setProgressBarDelay(t)}}}.call(this),function(){var n,i,u,t,e,r,o,a,s,l=[].slice;Turbolinks.copyObject=function(t){var e,n,i;for(e in n={},t)i=t[e],n[e]=i;return n},Turbolinks.closest=function(t,e){return n.call(t,e)},n=null!=(s=document.documentElement.closest)?s:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&i.call(e,t))return e;e=e.parentNode}},Turbolinks.defer=function(t){return setTimeout(t,1)},Turbolinks.throttle=function(n){var i;return i=null,function(){var t,e;return t=1<=arguments.length?l.call(arguments,0):[],null!=i?i:i=requestAnimationFrame((e=this,function(){return i=null,n.apply(e,t)}))}},Turbolinks.dispatch=function(t,e){var n,i,r,o,a,s;return s=(a=null!=e?e:{}).target,n=a.cancelable,i=a.data,(r=document.createEvent("Events")).initEvent(t,!0,!0===n),r.data=null!=i?i:{},r.cancelable&&!u&&(o=r.preventDefault,r.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),o.call(this)}),(null!=s?s:document).dispatchEvent(r),r},(a=document.createEvent("Events")).initEvent("test",!0,!0),a.preventDefault(),u=a.defaultPrevented,Turbolinks.match=function(t,e){return i.call(t,e)},i=null!=(e=null!=(r=null!=(o=(t=document.documentElement).matchesSelector)?o:t.webkitMatchesSelector)?r:t.msMatchesSelector)?e:t.mozMatchesSelector,Turbolinks.uuid=function(){var t,e,n;for(n="",t=e=1;e<=36;t=++e)n+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}.call(this),function(){Turbolinks.Location=function(){function t(t){var e,n;null==t&&(t=""),(n=document.createElement("a")).href=t.toString(),this.absoluteURL=n.href,(e=n.hash.length)<2?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=n.hash.slice(1))}var e,n,i,r;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=n(t),this.isEqualTo(t)||r(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},n=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return i(t,"/")?t:t+"/"},r=function(t,e){return t.slice(0,e.length)===e},i=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var i=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.HttpRequest=function(){function t(t,e,n){this.delegate=t,this.requestCanceled=i(this.requestCanceled,this),this.requestTimedOut=i(this.requestTimedOut,this),this.requestFailed=i(this.requestFailed,this),this.requestLoaded=i(this.requestLoaded,this),this.requestProgressed=i(this.requestProgressed,this),this.url=Turbolinks.Location.wrap(e).requestURL,this.referrer=Turbolinks.Location.wrap(n).absoluteURL,this.createXHR()}return t.NETWORK_FAILURE=0,t.TIMEOUT_FAILURE=-1,t.timeout=60,
t.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},t.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},t.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},t.prototype.requestLoaded=function(){return this.endRequest((e=this,function(){var t;return 200<=(t=e.xhr.status)&&t<300?e.delegate.requestCompletedWithResponse(e.xhr.responseText,e.xhr.getResponseHeader("Turbolinks-Location")):(e.failed=!0,e.delegate.requestFailedWithStatusCode(e.xhr.status,e.xhr.responseText))}));var e},t.prototype.requestFailed=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}));var t},t.prototype.requestTimedOut=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}));var t},t.prototype.requestCanceled=function(){return this.endRequest()},t.prototype.notifyApplicationBeforeRequestStart=function(){return Turbolinks.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},t.prototype.notifyApplicationAfterRequestEnd=function(){return Turbolinks.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},t.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},t.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},t.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},t.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},t}()}.call(this),function(){var n=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.ProgressBar=function(){function t(){this.trickle=n(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var e;return e=300,t.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+e+"ms ease-out, opacity "+e/2+"ms "+e/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",t.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement((t=this,function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}))):void 0;var t},t.prototype.setValue=function(t){return this.value=t,this.refresh()},t.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*e)},t.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},t.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,e)},t.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},t.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},t.prototype.refresh=function(){return requestAnimationFrame((t=this,function(){return t.progressElement.style.width=10+90*t.value+"%"}));var t},t.prototype.createStylesheetElement=function(){var t;return(t=document.createElement("style")).type="text/css",t.textContent=this.constructor.defaultCSS,t},t.prototype.createProgressElement=function(){var t;return(t=document.createElement("div")).className="turbolinks-progress-bar",t},t}()}.call(this),function(){var r=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.BrowserAdapter=function(){function t(t){this.controller=t,this.showProgressBar=r(this.showProgressBar,this),this.progressBar=new Turbolinks.ProgressBar}var n,i,e;return e=Turbolinks.HttpRequest,n=e.NETWORK_FAILURE,i=e.TIMEOUT_FAILURE,t.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},t.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},t.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},t.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},t.prototype.visitRequestCompleted=function(t){return t.loadResponse()},t.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case n:case i:return this.reload();default:return t.loadResponse()}},t.prototype.visitRequestFinished=function(){return this.hideProgressBar()},t.prototype.visitCompleted=function(t){return t.followRedirect()},t.prototype.pageInvalidated=function(){return this.reload()},t.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},t.prototype.showProgressBar=function(){return this.progressBar.show()},t.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},t.prototype.reload=function(){return window.location.reload()},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.History=function(){function t(t){this.delegate=t,this.onPageLoad=e(this.onPageLoad,this),this.onPopState=e(this.onPopState,this)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},t.prototype.push=function(t,e){return t=Turbolinks.Location.wrap(t),this.update("push",t,e)},t.prototype.replace=function(t,e){return t=Turbolinks.Location.wrap(t),this.update("replace",t,e)},t.prototype.onPopState=function(t){var e,n,i,r;return this.shouldHandlePopState()&&(r=null!=(n=t.state)?n.turbolinks:void 0)?(e=Turbolinks.Location.wrap(window.location),i=r.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(e,i)):void 0},t.prototype.onPageLoad=function(){return Turbolinks.defer((t=this,function(){return t.pageLoaded=!0}));var t},t.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},t.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},t.prototype.update=function(t,e,n){var i;return i={turbolinks:{restorationIdentifier:n}},history[t+"State"](i,null,e)},t}()}.call(this),function(){Turbolinks.Snapshot=function(){function t(t){var e,n;n=t.head,e=t.body,this.head=null!=n?n:document.createElement("head"),this.body=null!=e?e:document.createElement("body")}return t.wrap=function(t){return t instanceof this?t:this.fromHTML(t)},t.fromHTML=function(t){var e;return(e=document.createElement("html")).innerHTML=t,this.fromElement(e)},t.fromElement=function(t){return new this({head:t.querySelector("head"),body:t.querySelector("body")})},t.prototype.clone=function(){return new t({head:this.head.cloneNode(!0),body:this.body.cloneNode(!0)})},t.prototype.getRootLocation=function(){var t,e;return e=null!=(t=this.getSetting("root"))?t:"/",new Turbolinks.Location(e)},t.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},t.prototype.getElementForAnchor=function(t){try{return this.body.querySelector("[id='"+t+"'], a[name='"+t+"']")}catch(e){}},t.prototype.hasAnchor=function(t){return null!=this.getElementForAnchor(t)},t.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},t.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},t.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},t.prototype.getSetting=function(t){var e,n;return null!=(e=(n=this.head.querySelectorAll("meta[name='turbolinks-"+t+"']"))[n.length-1])?e.getAttribute("content"):void 0},t}()}.call(this),function(){var o=[].slice;Turbolinks.Renderer=function(){function t(){}var n;return t.render=function(t,e){var n,i,r;return i=t,n=e,(r=function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(this,3<=arguments.length?o.call(arguments,2):[],function(){})).delegate=i,r.render(n),r},t.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:((e=document.createElement("script")).textContent=t.textContent,e.async=!1,n(e,t),e)},n=function(t,e){var n,i,r,o,a,s,u;for(s=[],n=0,i=(o=e.attributes).length;n<i;n++)r=(a=o[n]).name,u=a.value,s.push(t.setAttribute(r,u));return s},t}()}.call(this),function(){Turbolinks.HeadDetails=function(){function t(t){var e,n,i,r,o,a;for(this.element=t,this.elements={},i=0,o=(a=this.element.childNodes).length;i<o;i++)(n=a[i]).nodeType===Node.ELEMENT_NODE&&(r=n.outerHTML,(null!=(e=this.elements)[r]?e[r]:e[r]={type:u(n),tracked:s(n),elements:[]}).elements.push(n))}var e,n,s,u;return t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var n;return function(){var t,e;for(n in e=[],t=this.elements)t[n].tracked&&e.push(n);return e}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var n,i,r,o,a,s;for(i in a=[],r=this.elements)s=(o=r[i]).type,n=o.elements,s!==t||e.hasElementWithKey(i)||a.push(n[0]);return a},t.prototype.getProvisionalElements=function(){var t,e,n,i,r,o,a;for(e in n=[],i=this.elements)a=(r=i[e]).type,o=r.tracked,t=r.elements,null!=a||o?1<t.length&&n.push.apply(n,t.slice(1)):n.push.apply(n,t);return n},u=function(t){return e(t)?"script":n(t)?"stylesheet":void 0},s=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},e=function(t){return"script"===t.tagName.toLowerCase()},n=function(t){var e;return"style"===(e=t.tagName.toLowerCase())||"link"===e&&"stylesheet"===t.getAttribute("rel")},t}()}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;Turbolinks.SnapshotRenderer=function(t){function e(t,e,n){this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=n,this.currentHeadDetails=new Turbolinks.HeadDetails(this.currentSnapshot.head),this.newHeadDetails=new Turbolinks.HeadDetails(this.newSnapshot.head),this.newBody=this.newSnapshot.body}return n(e,t),e.prototype.render=function(t){return this.shouldRender()?(this.mergeHead(),this.renderView((e=this,function(){return e.replaceBody(),e.isPreview||e.focusFirstAutofocusableElement(),t()}))):this.invalidateView();var e},e.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},e.prototype.replaceBody=function(){return this.activateBodyScriptElements(),this.importBodyPermanentElements(),this.assignNewBody()},e.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},e.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},e.prototype.copyNewHeadStylesheetElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadStylesheetElements()).length;e<n;e++)t=i[e],r.push(document.head.appendChild(t));return r},e.prototype.copyNewHeadScriptElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadScriptElements()).length;e<n;e++)t=i[e],r.push(document.head.appendChild(this.createScriptElement(t)));return r},e.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getCurrentHeadProvisionalElements()).length;e<n;e++)t=i[e],r.push(document.head.removeChild(t));return r},e.prototype.copyNewHeadProvisionalElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadProvisionalElements()).length;e<n;e++)t=i[e],r.push(document.head.appendChild(t));return r},e.prototype.importBodyPermanentElements=function(){var t,e,n,i,r,o;for(o=[],e=0,n=(i=this.getNewBodyPermanentElements()).length;e<n;e++)r=i[e],(t=this.findCurrentBodyPermanentElement(r))?o.push(r.parentNode.replaceChild(t,r)):o.push(void 0);return o},e.prototype.activateBodyScriptElements=function(){var t,e,n,i,r,o;for(o=[],e=0,n=(i=this.getNewBodyScriptElements()).length;e<n;e++)r=i[e],t=this.createScriptElement(r),o.push(r.parentNode.replaceChild(t,r));return o},e.prototype.assignNewBody=function(){return document.body=this.newBody},e.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.findFirstAutofocusableElement())?t.focus():void 0},e.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},e.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},e.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},e.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},e.prototype.getNewBodyPermanentElements=function(){return this.newBody.querySelectorAll("[id][data-turbolinks-permanent]")},e.prototype.findCurrentBodyPermanentElement=function(t){return document.body.querySelector("#"+t.id+"[data-turbolinks-permanent]")},e.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},e.prototype.findFirstAutofocusableElement=function(){return document.body.querySelector("[autofocus]")},e}(Turbolinks.Renderer)}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;Turbolinks.ErrorRenderer=function(t){function e(t){this.html=t}return n(e,t),e.prototype.render=function(t){return this.renderView((e=this,function(){return e.replaceDocumentHTML(),e.activateBodyScriptElements(),t()}));var e},e.prototype.replaceDocumentHTML=function(){return document.documentElement.innerHTML=this.html},e.prototype.activateBodyScriptElements=function(){var t,e,n,i,r,o;for(o=[],e=0,n=(i=this.getScriptElements()).length;e<n;e++)r=i[e],t=this.createScriptElement(r),o.push(r.parentNode.replaceChild(t,r));return o},e.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},e}(Turbolinks.Renderer)}.call(this),function(){Turbolinks.View=function(){function t(t){this.delegate=t,this.element=document.documentElement}return t.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},t.prototype.getElementForAnchor=function(t){return this.getSnapshot().getElementForAnchor(t)},t.prototype.getSnapshot=function(){return Turbolinks.Snapshot.fromElement(this.element)},t.prototype.render=function(t,e){var n,i,r;return r=t.snapshot,n=t.error,i=t.isPreview,this.markAsPreview(i),null!=r?this.renderSnapshot(r,i,e):this.renderError(n,e)},t.prototype.markAsPreview=function(t){return t?this.element.setAttribute("data-turbolinks-preview",""):this.element.removeAttribute("data-turbolinks-preview")},t.prototype.renderSnapshot=function(t,e,n){return Turbolinks.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),Turbolinks.Snapshot.wrap(t),e)},t.prototype.renderError=function(t,e){return Turbolinks.ErrorRenderer.render(this.delegate,e,t)},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.ScrollManager=function(){function t(t){this.delegate=t,this.onScroll=e(this.onScroll,this),this.onScroll=Turbolinks.throttle(this.onScroll)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},t.prototype.scrollToElement=function(t){return t.scrollIntoView()},t.prototype.scrollToPosition=function(t){var e,n;return e=t.x,n=t.y,window.scrollTo(e,n)},t.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},t.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},t}()}.call(this),function(){Turbolinks.SnapshotCache=function(){function t(t){this.size=t,this.keys=[],this.snapshots={}}var i;return t.prototype.has=function(t){return i(t)in this.snapshots},t.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},t.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},t.prototype.read=function(t){var e;return e=i(t),this.snapshots[e]},t.prototype.write=function(t,e){var n;return n=i(t),this.snapshots[n]=e},t.prototype.touch=function(t){var e,n;return n=i(t),-1<(e=this.keys.indexOf(n))&&this.keys.splice(e,1),this.keys.unshift(n),this.trim()},t.prototype.trim=function(){var t,e,n,i,r;for(r=[],t=0,n=(i=this.keys.splice(this.size)).length;t<n;t++)e=i[t],r.push(delete this.snapshots[e]);return r},i=function(t){return Turbolinks.Location.wrap(t).toCacheKey()},t}()}.call(this),function(){var i=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.Visit=function(){function t(t,e,n){this.controller=t,this.action=n,this.performScroll=i(this.performScroll,this),this.identifier=Turbolinks.uuid(),this.location=Turbolinks.Location.wrap(e),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var n;return t.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},t.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},t.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},t.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},t.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,e=n(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},t.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new Turbolinks.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},t.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},t.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},t.prototype.loadCachedSnapshot=function(){var e,n;return(n=this.getCachedSnapshot())?(e=this.shouldIssueRequest(),this.render(function(){var t;return this.cacheSnapshot(),this.controller.render({snapshot:n,isPreview:e},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),e?void 0:this.complete()})):void 0},t.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},t.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},t.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},t.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},t.prototype.requestCompletedWithResponse=function(t,e){return this.response=t,null!=e&&(this.redirectedToLocation=Turbolinks.Location.wrap(e)),this.adapter.visitRequestCompleted(this)},t.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},t.prototype.requestFinished=function(){var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},t.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},t.prototype.scrollToRestoredPosition=function(){var t,e;return null!=(t=null!=(e=this.restorationData)?e.scrollPosition:void 0)?(this.controller.scrollToPosition(t),!0):void 0},t.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},t.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},t.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},t.prototype.getTimingMetrics=function(){return Turbolinks.copyObject(this.timingMetrics)},n=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},t.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},t.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},t.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame((e=this,function(){return e.frame=null,t.call(e)}));var e},t.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.Controller=function(){function t(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new Turbolinks.History(this),this.view=new Turbolinks.View(this),this.scrollManager=new Turbolinks.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return t.prototype.start=function(){return Turbolinks.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},t.prototype.clearCache=function(){return this.cache=new Turbolinks.SnapshotCache(10)},t.prototype.visit=function(t,e){var n,i;return null==e&&(e={}),t=Turbolinks.Location.wrap(t),this.applicationAllowsVisitingLocation(t)?this.locationIsVisitable(t)?(n=null!=(i=e.action)?i:"advance",this.adapter.visitProposedToLocationWithAction(t,n)):window.location=t:void 0},t.prototype.startVisitToLocationWithAction=function(t,e,n){var i;return Turbolinks.supported?(i=this.getRestorationDataForIdentifier(n),this.startVisit(t,e,{restorationData:i})):window.location=t},t.prototype.setProgressBarDelay=function(t){return this.progressBarDelay=t},t.prototype.startHistory=function(){return this.location=Turbolinks.Location.wrap(window.location),this.restorationIdentifier=Turbolinks.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.stopHistory=function(){return this.history.stop()},t.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=Turbolinks.Location.wrap(t),this.history.push(this.location,this.restorationIdentifier)},t.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=Turbolinks.Location.wrap(t),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.historyPoppedToLocationWithRestorationIdentifier=function(t,e){var n;return this.restorationIdentifier=e,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(t,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=Turbolinks.Location.wrap(t)):this.adapter.pageInvalidated()},t.prototype.getCachedSnapshotForLocation=function(t){var e;return(e=this.cache.get(t))?e.clone():void 0},t.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},t.prototype.cacheSnapshot=function(){var t;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),t=this.view.getSnapshot(),this.cache.put(this.lastRenderedLocation,t.clone())):void 0},t.prototype.scrollToAnchor=function(t){var e;return(e=this.view.getElementForAnchor(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},t.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},t.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},t.prototype.scrollPositionChanged=function(t){return this.getCurrentRestorationData().scrollPosition=t},t.prototype.render=function(t,e){return this.view.render(t,e)},t.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},t.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},t.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},t.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},t.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},t.prototype.clickBubbled=function(t){var e,n,i;return this.enabled&&this.clickEventIsSignificant(t)&&(n=this.getVisitableLinkForNode(t.target))&&(i=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,i)?(t.preventDefault(),e=this.getActionForLink(n),this.visit(i,{action:e})):void 0},t.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){return!this.notifyApplicationAfterClickingLinkToLocation(t,e).defaultPrevented},t.prototype.applicationAllowsVisitingLocation=function(t){return!this.notifyApplicationBeforeVisitingLocation(t).defaultPrevented},t.prototype.notifyApplicationAfterClickingLinkToLocation=function(t,e){return Turbolinks.dispatch("turbolinks:click",{target:t,data:{url:e.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationBeforeVisitingLocation=function(t){return Turbolinks.dispatch("turbolinks:before-visit",{data:{url:t.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationAfterVisitingLocation=function(t){return Turbolinks.dispatch("turbolinks:visit",{data:{url:t.absoluteURL}})},t.prototype.notifyApplicationBeforeCachingSnapshot=function(){return Turbolinks.dispatch("turbolinks:before-cache")},t.prototype.notifyApplicationBeforeRender=function(t){return Turbolinks.dispatch("turbolinks:before-render",{data:{newBody:t}})},t.prototype.notifyApplicationAfterRender=function(){return Turbolinks.dispatch("turbolinks:render")},t.prototype.notifyApplicationAfterPageLoad=function(t){return null==t&&(t={}),Turbolinks.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:t}})},t.prototype.startVisit=function(t,e,n){var i;return null!=(i=this.currentVisit)&&i.cancel(),this.currentVisit=this.createVisit(t,e,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},t.prototype.createVisit=function(t,e,n){var i,r,o,a,s;return a=(r=null!=n?n:{}).restorationIdentifier,o=r.restorationData,i=r.historyChanged,(s=new Turbolinks.Visit(this,t,e)).restorationIdentifier=null!=a?a:Turbolinks.uuid(),s.restorationData=Turbolinks.copyObject(o),s.historyChanged=i,s.referrer=this.location,s},t.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},t.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||1<t.which||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},t.prototype.getVisitableLinkForNode=function(t){return this.nodeIsVisitable(t)?Turbolinks.closest(t,"a[href]:not([target]):not([download])"):void 0},t.prototype.getVisitableLocationForLink=function(t){var e;return e=new Turbolinks.Location(t.getAttribute("href")),this.locationIsVisitable(e)?e:void 0},t.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},t.prototype.nodeIsVisitable=function(t){var e;return!(e=Turbolinks.closest(t,"[data-turbolinks]"))||"false"!==e.getAttribute("data-turbolinks")},t.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},t.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},t.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},t}()}.call(this),function(){!function(){var t,e;if((t=e=document.currentScript)&&!e.hasAttribute("data-turbolinks-suppress-warning"))for(;t=t.parentNode;)if(t===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\u2014\u2014\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",e.outerHTML)}()}.call(this),function(){var t,e,n;Turbolinks.start=function(){return e()?(null==Turbolinks.controller&&(Turbolinks.controller=t()),
Turbolinks.controller.start()):void 0},e=function(){return null==window.Turbolinks&&(window.Turbolinks=Turbolinks),n()},t=function(){var t;return(t=new Turbolinks.Controller).adapter=new Turbolinks.BrowserAdapter(t),t},(n=function(){return window.Turbolinks===Turbolinks})()&&Turbolinks.start()}.call(this),(Base=function(){}).extend=function(t,e){"use strict";var n=Base.prototype.extend;Base._prototyping=!0;var i=new this;n.call(i,t),i.base=function(){},delete Base._prototyping;var r=i.constructor,o=i.constructor=function(t){if(!Base._prototyping)if(this._constructing||this.constructor==o)this._constructing=!0,r.apply(this,arguments),delete this._constructing;else if(null!==t)return(t.extend||n).call(t,i)};return o.ancestor=this,o.extend=this.extend,o.forEach=this.forEach,o.implement=this.implement,o.prototype=i,o.toString=this.toString,o.valueOf=function(t){return"object"==t?o:r.valueOf()},n.call(o,e),"function"==typeof o.init&&o.init(),o},Base.prototype={extend:function(t,e){if(1<arguments.length){var n=this[t];if(n&&"function"==typeof e&&(!n.valueOf||n.valueOf()!=e.valueOf())&&/\bbase\b/.test(e)){var i=e.valueOf();(e=function(){var t=this.base||Base.prototype.base;this.base=n;var e=i.apply(this,arguments);return this.base=t,e}).valueOf=function(t){return"object"==t?e:i},e.toString=Base.toString}this[t]=e}else if(t){var r=Base.prototype.extend;Base._prototyping||"function"==typeof this||(r=this.extend||r);for(var o={toSource:null},a=["constructor","toString","valueOf"],s=Base._prototyping?0:1;u=a[s++];)t[u]!=o[u]&&r.call(this,u,t[u]);for(var u in t)o[u]||r.call(this,u,t[u])}return this}},Base=Base.extend({constructor:function(t){this.extend(t)}},{ancestor:Object,version:"1.1",forEach:function(t,e,n){for(var i in t)this.prototype[i]===undefined&&e.call(n,t[i],i,t)},implement:function(){for(var t=0;t<arguments.length;t++)"function"==typeof arguments[t]?arguments[t](this.prototype):this.prototype.extend(arguments[t]);return this},toString:function(){return String(this.valueOf())}}),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){var t=this;(function(){(function(){var n=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},WebSocket:window.WebSocket,logger:window.console,createConsumer:function(t){var e;return null==t&&(t=null!=(e=this.getConfig("url"))?e:this.INTERNAL.default_mount_path),new u.Consumer(this.createWebSocketURL(t))},getConfig:function(t){var e;return null!=(e=document.head.querySelector("meta[name='action-cable-"+t+"']"))?e.getAttribute("content"):void 0},createWebSocketURL:function(t){var e;return t&&!/^wss?:/i.test(t)?((e=document.createElement("a")).href=t,e.href=e.href,e.protocol=e.protocol.replace("http","ws"),e.href):t},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var t,e;if(t=1<=arguments.length?n.call(arguments,0):[],this.debugging)return t.push(Date.now()),(e=this.logger).log.apply(e,["[ActionCable]"].concat(n.call(t)))}}}).call(this)}).call(t);var u=t.ActionCable;(function(){(function(){var i=function(t,e){return function(){return t.apply(e,arguments)}};u.ConnectionMonitor=function(){function t(t){this.connection=t,this.visibilityDidChange=i(this.visibilityDidChange,this),this.reconnectAttempts=0}var r,e,n;return t.pollInterval={min:3,max:30},t.staleThreshold=6,t.prototype.start=function(){if(!this.isRunning())return this.startedAt=e(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),u.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms")},t.prototype.stop=function(){if(this.isRunning())return this.stoppedAt=e(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),u.log("ConnectionMonitor stopped")},t.prototype.isRunning=function(){return null!=this.startedAt&&null==this.stoppedAt},t.prototype.recordPing=function(){return this.pingedAt=e()},t.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,u.log("ConnectionMonitor recorded connect")},t.prototype.recordDisconnect=function(){return this.disconnectedAt=e(),u.log("ConnectionMonitor recorded disconnect")},t.prototype.startPolling=function(){return this.stopPolling(),this.poll()},t.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},t.prototype.poll=function(){return this.pollTimeout=setTimeout((t=this,function(){return t.reconnectIfStale(),t.poll()}),this.getPollInterval());var t},t.prototype.getPollInterval=function(){var t,e,n,i;return n=(i=this.constructor.pollInterval).min,e=i.max,t=5*Math.log(this.reconnectAttempts+1),Math.round(1e3*r(t,n,e))},t.prototype.reconnectIfStale=function(){if(this.connectionIsStale())return u.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+n(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?u.log("ConnectionMonitor skipping reopening recent disconnect"):(u.log("ConnectionMonitor reopening"),this.connection.reopen())},t.prototype.connectionIsStale=function(){var t;return n(null!=(t=this.pingedAt)?t:this.startedAt)>this.constructor.staleThreshold},t.prototype.disconnectedRecently=function(){return this.disconnectedAt&&n(this.disconnectedAt)<this.constructor.staleThreshold},t.prototype.visibilityDidChange=function(){if("visible"===document.visibilityState)return setTimeout((t=this,function(){if(t.connectionIsStale()||!t.connection.isOpen())return u.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),t.connection.reopen()}),200);var t},e=function(){return(new Date).getTime()},n=function(t){return(e()-t)/1e3},r=function(t,e,n){return Math.max(e,Math.min(n,t))},t}()}).call(this),function(){var t,r,e,n,i,o=[].slice,a=function(t,e){return function(){return t.apply(e,arguments)}},s=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};n=u.INTERNAL,r=n.message_types,e=n.protocols,i=2<=e.length?o.call(e,0,t=e.length-1):(t=0,[]),e[t++],u.Connection=function(){function t(t){this.consumer=t,this.open=a(this.open,this),this.subscriptions=this.consumer.subscriptions,this.monitor=new u.ConnectionMonitor(this),this.disconnected=!0}return t.reopenDelay=500,t.prototype.send=function(t){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(t)),!0)},t.prototype.open=function(){return this.isActive()?(u.log("Attempted to open WebSocket, but existing socket is "+this.getState()),!1):(u.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+e),null!=this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new u.WebSocket(this.consumer.url,e),this.installEventHandlers(),this.monitor.start(),!0)},t.prototype.close=function(t){var e;if((null!=t?t:{allowReconnect:!0}).allowReconnect||this.monitor.stop(),this.isActive())return null!=(e=this.webSocket)?e.close():void 0},t.prototype.reopen=function(){var t;if(u.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(e){return t=e,u.log("Failed to reopen WebSocket",t)}finally{u.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},t.prototype.getProtocol=function(){var t;return null!=(t=this.webSocket)?t.protocol:void 0},t.prototype.isOpen=function(){return this.isState("open")},t.prototype.isActive=function(){return this.isState("open","connecting")},t.prototype.isProtocolSupported=function(){var t;return t=this.getProtocol(),0<=s.call(i,t)},t.prototype.isState=function(){var t,e;return e=1<=arguments.length?o.call(arguments,0):[],t=this.getState(),0<=s.call(e,t)},t.prototype.getState=function(){var t,e;for(e in WebSocket)if(WebSocket[e]===(null!=(t=this.webSocket)?t.readyState:void 0))return e.toLowerCase();return null},t.prototype.installEventHandlers=function(){var t,e;for(t in this.events)e=this.events[t].bind(this),this.webSocket["on"+t]=e},t.prototype.uninstallEventHandlers=function(){var t;for(t in this.events)this.webSocket["on"+t]=function(){}},t.prototype.events={message:function(t){var e,n,i;if(this.isProtocolSupported())switch(e=(i=JSON.parse(t.data)).identifier,n=i.message,i.type){case r.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case r.ping:return this.monitor.recordPing();case r.confirmation:return this.subscriptions.notify(e,"connected");case r.rejection:return this.subscriptions.reject(e);default:return this.subscriptions.notify(e,"received",n)}},open:function(){if(u.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return u.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(){if(u.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){return u.log("WebSocket onerror event")}},t}()}.call(this),function(){var l=[].slice;u.Subscriptions=function(){function t(t){this.consumer=t,this.subscriptions=[]}return t.prototype.create=function(t,e){var n,i,r;return i="object"==typeof(n=t)?n:{channel:n},r=new u.Subscription(this.consumer,i,e),this.add(r)},t.prototype.add=function(t){return this.subscriptions.push(t),this.consumer.ensureActiveConnection(),this.notify(t,"initialized"),this.sendCommand(t,"subscribe"),t},t.prototype.remove=function(t){return this.forget(t),this.findAll(t.identifier).length||this.sendCommand(t,"unsubscribe"),t},t.prototype.reject=function(t){var e,n,i,r,o;for(r=[],e=0,n=(i=this.findAll(t)).length;e<n;e++)o=i[e],this.forget(o),this.notify(o,"rejected"),r.push(o);return r},t.prototype.forget=function(r){var o;return this.subscriptions=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.subscriptions).length;t<e;t++)(o=n[t])!==r&&i.push(o);return i}.call(this),r},t.prototype.findAll=function(t){var e,n,i,r,o;for(r=[],e=0,n=(i=this.subscriptions).length;e<n;e++)(o=i[e]).identifier===t&&r.push(o);return r},t.prototype.reload=function(){var t,e,n,i,r;for(i=[],t=0,e=(n=this.subscriptions).length;t<e;t++)r=n[t],i.push(this.sendCommand(r,"subscribe"));return i},t.prototype.notifyAll=function(t){var e,n,i,r,o,a,s;for(n=t,e=2<=arguments.length?l.call(arguments,1):[],a=[],i=0,r=(o=this.subscriptions).length;i<r;i++)s=o[i],a.push(this.notify.apply(this,[s,n].concat(l.call(e))));return a},t.prototype.notify=function(t,e){var n,i,r,o,a,s,u;for(s=t,i=e,n=3<=arguments.length?l.call(arguments,2):[],a=[],r=0,o=(u="string"==typeof s?this.findAll(s):[s]).length;r<o;r++)s=u[r],a.push("function"==typeof s[i]?s[i].apply(s,n):void 0);return a},t.prototype.sendCommand=function(t,e){var n;return n=t.identifier,this.consumer.send({command:e,identifier:n})},t}()}.call(this),function(){u.Subscription=function(){function t(t,e,n){this.consumer=t,null==e&&(e={}),this.identifier=JSON.stringify(e),i(this,n)}var i;return t.prototype.perform=function(t,e){return null==e&&(e={}),e.action=t,this.send(e)},t.prototype.send=function(t){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(t)})},t.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},i=function(t,e){var n,i;if(null!=e)for(n in e)i=e[n],t[n]=i;return t},t}()}.call(this),function(){u.Consumer=function(){function t(t){this.url=t,this.subscriptions=new u.Subscriptions(this),this.connection=new u.Connection(this)}return t.prototype.send=function(t){return this.connection.send(t)},t.prototype.connect=function(){return this.connection.open()},t.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},t.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},t}()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=u:"function"==typeof define&&define.amd&&define(u)}.call(this),function(){this.App||(this.App={}),App.cable=ActionCable.createConsumer()}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){function s(t){return t&&(t.ownerDocument||t.document||t).documentElement}function R(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function a(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function l(t){return null===t?NaN:+t}function c(t){return!isNaN(t)}function t(o){return{left:function(t,e,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=t.length);n<i;){var r=n+i>>>1;o(t[r],e)<0?n=r+1:i=r}return n},right:function(t,e,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=t.length);n<i;){var r=n+i>>>1;0<o(t[r],e)?i=r:n=r+1}return n}}}function u(t){return t.length}function h(t){for(var e=1;t*e%1;)e*=10;return e}function e(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function m(){this._=Object.create(null)}function n(t){return(t+="")===xa||t[0]===ba?ba+t:t}function i(t){return(t+="")[0]===ba?t.slice(1):t}function r(t){return n(t)in this._}function o(t){return(t=n(t))in this._&&delete this._[t]}function f(){var t=[];for(var e in this._)t.push(i(e));return t}function d(){var t=0;for(var e in this._)++t;return t}function p(){for(var t in this._)return!1;return!0}function g(){this._=Object.create(null)}function O(t){return t}function v(e,n,i){return function(){var t=i.apply(n,arguments);return t===n?e:t}}function y(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=_a.length;n<i;++n){var r=_a[n]+e;if(r in t)return r}}function b(){}function x(){}function _(r){function t(){for(var t,e=o,n=-1,i=e.length;++n<i;)(t=e[n].on)&&t.apply(this,arguments);return r}var o=[],a=new m;return t.on=function(t,e){var n,i=a.get(t);return arguments.length<2?i&&i.on:(i&&(i.on=null,o=o.slice(0,n=o.indexOf(i)).concat(o.slice(n+1)),a.remove(t)),e&&o.push(a.set(t,{on:e})),r)},t}function I(){ua.event.preventDefault()}function w(){for(var t,e=ua.event;t=e.sourceEvent;)e=t;return e}function F(r){for(var o=new x,t=0,e=arguments.length;++t<e;)o[arguments[t]]=_(o);return o.of=function(n,i){return function(t){try{var e=t.sourceEvent=ua.event;t.target=r,ua.event=t,o[t.type].apply(n,i)}finally{ua.event=e}}},o}function S(t){return Sa(t,Ma),t}function T(t){return"function"==typeof t?t:function(){return Ta(t,this)}}function C(t){return"function"==typeof t?t:function(){return Ca(t,this)}}function k(e,n){function t(){this.removeAttribute(e)}function i(){this.removeAttributeNS(e.space,e.local)}function r(){this.setAttribute(e,n)}function o(){this.setAttributeNS(e.space,e.local,n)}function a(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}function s(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}return e=ua.ns.qualify(e),null==n?e.local?i:t:"function"==typeof n?e.local?s:a:e.local?o:r}function M(t){return t.trim().replace(/\s+/g," ")}function A(t){return new RegExp("(?:^|\\s+)"+ua.requote(t)+"(?:\\s+|$)","g")}function E(t){return(t+"").trim().split(/^|\s+/)}function L(n,i){function t(){for(var t=-1;++t<r;)n[t](this,i)}function e(){for(var t=-1,e=i.apply(this,arguments);++t<r;)n[t](this,e)}var r=(n=E(n).map(P)).length;return"function"==typeof i?e:t}function P(i){var r=A(i);return function(t,e){if(n=t.classList)return e?n.add(i):n.remove(i);var n=t.getAttribute("class")||"";e?(r.lastIndex=0,r.test(n)||t.setAttribute("class",M(n+" "+i))):t.setAttribute("class",M(n.replace(r," ")))}}function N(e,n,i){function t(){this.style.removeProperty(e)}function r(){this.style.setProperty(e,n,i)}function o(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,i)}return null==n?t:"function"==typeof n?o:r}function D(e,n){function t(){delete this[e]}function i(){this[e]=n}function r(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}return null==n?t:"function"==typeof n?r:i}function z(n){function t(){var t=this.ownerDocument,e=this.namespaceURI;return e===Aa&&t.documentElement.namespaceURI===Aa?t.createElement(n):t.createElementNS(e,n)}function e(){return this.ownerDocument.createElementNS(n.space,n.local)}return"function"==typeof n?n:(n=ua.ns.qualify(n)).local?e:t}function V(){var t=this.parentNode;t&&t.removeChild(this)}function j(t){return{__data__:t}}function G(t){return function(){return ka(this,t)}}function H(n){return arguments.length||(n=a),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function $(t,e){for(var n=0,i=t.length;n<i;n++)for(var r,o=t[n],a=0,s=o.length;a<s;a++)(r=o[a])&&e(r,a,n);return t}function q(t){return Sa(t,La),t}function B(a){var s,u;return function(t,e,n){var i,r=a[n].update,o=r.length;for(n!=u&&(u=n,s=0),s<=e&&(s=e+1);!(i=r[s])&&++s<o;);return i}}function U(r,e,n){function i(){var t=this[a];t&&(this.removeEventListener(r,t,t.$),delete this[a])}function t(){var t=u(e,ca(arguments));i.call(this),this.addEventListener(r,this[a]=t,t.$=n),t._=e}function o(){var t,e=new RegExp("^__on([^.]+)"+ua.requote(r)+"$");for(var n in this)if(t=n.match(e)){var i=this[n];this.removeEventListener(t[1],i,i.$),delete this[n]}}var a="__on"+r,s=r.indexOf("."),u=X;0<s&&(r=r.slice(0,s));var l=Pa.get(r);return l&&(r=l,u=Y),s?e?t:i:e?b:o}function X(n,i){return function(t){var e=ua.event;ua.event=t,i[0]=this.__data__;try{n.apply(this,i)}finally{ua.event=e}}}function Y(t,e){var i=X(t,e);return function(t){var e=this,n=t.relatedTarget;n&&(n===e||8&n.compareDocumentPosition(e))||i.call(e,t)}}function W(t){var n=".dragsuppress-"+ ++Da,i="click"+n,r=ua.select(R(t)).on("touchmove"+n,I).on("dragstart"+n,I).on("selectstart"+n,I);if(null==Na&&(Na=!("onselectstart"in t)&&y(t.style,"userSelect")),Na){var o=s(t).style,a=o[Na];o[Na]="none"}return function(t){if(r.on(n,null),Na&&(o[Na]=a),t){var e=function(){r.on(i,null)};r.on(i,function(){I(),e()},!0),setTimeout(e,0)}}}function Q(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();if(Ra<0){var r=R(t);if(r.scrollX||r.scrollY){var o=(n=ua.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Ra=!(o.f||o.e),n.remove()}}return Ra?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function Z(){return ua.event.changedTouches[0].identifier}function K(t){return 0<t?1:t<0?-1:0}function J(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return 1<t?0:t<-1?Fa:Math.acos(t)}function et(t){return 1<t?ja:t<-1?-ja:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function it(t){return((t=Math.exp(t))+1/t)/2}function rt(t){return((t=Math.exp(2*t))-1)/(t+1)}function ot(t){return(t=Math.sin(t/2))*t}function at(){}function st(t,e,n){return this instanceof st?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof st?new st(t.h,t.s,t.l):_t(""+t,wt,st):new st(t,e,n)}function ut(t,e,n){function i(t){return 360<t?t-=360:t<0&&(t+=360),t<60?o+(a-o)*t/60:t<180?a:t<240?o+(a-o)*(240-t)/60:o}function r(t){return Math.round(255*i(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:1<e?1:e,o=2*(n=n<0?0:1<n?1:n)-(a=n<=.5?n*(1+e):n+e-n*e),new yt(r(t+120),r(t),r(t-120))}function lt(t,e,n){return this instanceof lt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof lt?new lt(t.h,t.c,t.l):dt(t instanceof ht?t.l:(t=St((t=ua.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new lt(t,e,n)}function ct(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ht(n,Math.cos(t*=Ga)*e,Math.sin(t)*e)}function ht(t,e,n){return this instanceof ht?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ht?new ht(t.l,t.a,t.b):t instanceof lt?ct(t.h,t.c,t.l):St((t=yt(t)).r,t.g,t.b):new ht(t,e,n)}function ft(t,e,n){var i=(t+16)/116,r=i+e/500,o=i-n/200;return new yt(vt(3.2404542*(r=pt(r)*Ka)-1.5371385*(i=pt(i)*Ja)-.4985314*(o=pt(o)*ts)),vt(-.969266*r+1.8760108*i+.041556*o),vt(.0556434*r-.2040259*i+1.0572252*o))}function dt(t,e,n){return 0<t?new lt(Math.atan2(n,e)*Ha,Math.sqrt(e*e+n*n),t):new lt(NaN,NaN,t)}function pt(t){return.206893034<t?t*t*t:(t-4/29)/7.787037}function gt(t){return.008856<t?Math.pow(t,1/3):7.787037*t+4/29}function vt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function yt(t,e,n){return this instanceof yt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof yt?new yt(t.r,t.g,t.b):_t(""+t,yt,ut):new yt(t,e,n)}function mt(t){return new yt(t>>16,t>>8&255,255&t)}function xt(t){return mt(t)+""}function bt(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function _t(t,e,n){var i,r,o,a=0,s=0,u=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(Ct(r[0]),Ct(r[1]),Ct(r[2]))}return(o=is.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,u=15&o,u|=u<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),e(a,s,u))}function wt(t,e,n){var i,r,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(r=u<.5?s/(a+o):s/(2-a-o),i=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,i*=60):(i=NaN,r=0<u&&u<1?0:i),new st(i,r,u)}function St(t,e,n){var i=gt((.4124564*(t=Tt(t))+.3575761*(e=Tt(e))+.1804375*(n=Tt(n)))/Ka),r=gt((.2126729*t+.7151522*e+.072175*n)/Ja);return ht(116*r-16,500*(i-r),200*(r-gt((.0193339*t+.119192*e+.9503041*n)/ts)))}function Tt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ct(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function kt(t){return"function"==typeof t?t:function(){return t}}function Mt(i){return function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=null),At(t,e,i,n)}}function At(r,o,n,i){function t(){var t,e=l.status;if(!e&&Lt(l)||200<=e&&e<300||304===e){try{t=n.call(a,l)}catch(i){return void s.error.call(a,i)}s.load.call(a,t)}else s.error.call(a,l)}var a={},s=ua.dispatch("beforesend","progress","load","error"),u={},l=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(r)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=t:l.onreadystatechange=function(){3<l.readyState&&t()},l.onprogress=function(t){var e=ua.event;ua.event=t;try{s.progress.call(a,l)}finally{ua.event=e}},a.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u[t]:(null==e?delete u[t]:u[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(o=null==t?null:t+"",a):o},a.responseType=function(t){return arguments.length?(c=t,a):c},a.response=function(t){return n=t,a},["get","post"].forEach(function(t){a[t]=function(){return a.send.apply(a,[t].concat(ca(arguments)))}}),a.send=function(t,e,n){if(2===arguments.length&&"function"==typeof e&&(n=e,e=null),l.open(t,r,!0),null==o||"accept"in u||(u.accept=o+",*/*"),l.setRequestHeader)for(var i in u)l.setRequestHeader(i,u[i]);return null!=o&&l.overrideMimeType&&l.overrideMimeType(o),null!=c&&(l.responseType=c),null!=n&&a.on("error",n).on("load",function(t){n(null,t)}),s.beforesend.call(a,l),l.send(null==e?null:e),a},a.abort=function(){return l.abort(),a},ua.rebind(a,s,"on"),null==i?a:a.get(Et(i))}function Et(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function Lt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Pt(t,e,n){var i=arguments.length;i<2&&(e=0),i<3&&(n=Date.now());var r={c:t,t:n+e,n:null};return os?os.n=r:rs=r,os=r,as||(ss=clearTimeout(ss),as=1,us(Nt)),r}function Nt(){var t=Dt(),e=Rt()-t;24<e?(isFinite(e)&&(clearTimeout(ss),ss=setTimeout(Nt,e)),as=0):(as=1,us(Nt))}function Dt(){for(var t=Date.now(),e=rs;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Rt(){for(var t,e=rs,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:rs=e.n;return os=t,n}function Ot(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function It(t,e){var n=Math.pow(10,3*ma(8-e));return{scale:8<e?function(t){return t/n}:function(t){return t*n},symbol:t}}function Ft(t){var T=t.decimal,s=t.thousands,u=t.grouping,i=t.currency,C=u&&s?function(t,e){for(var n=t.length,i=[],r=0,o=u[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),i.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=u[r=(r+1)%u.length];return i.reverse().join(s)}:O;return function(t){var e=cs.exec(t),c=e[1]||" ",h=e[2]||">",f=e[3]||"-",n=e[4]||"",d=e[5],p=+e[6],g=e[7],v=e[8],y=e[9],m=1,x="",b="",_=!1,w=!0;switch(v&&(v=+v.substring(1)),(d||"0"===c&&"="===h)&&(d=c="0",h="="),y){case"n":g=!0,y="g";break;case"%":m=100,b="%",y="f";break;case"p":m=100,b="%",y="r";break;case"b":case"o":case"x":case"X":"#"===n&&(x="0"+y.toLowerCase());case"c":w=!1;case"d":_=!0,v=0;break;case"s":m=-1,y="r"}"$"===n&&(x=i[0],b=i[1]),"r"!=y||v||(y="g"),null!=v&&("g"==y?v=Math.max(1,Math.min(21,v)):"e"!=y&&"f"!=y||(v=Math.max(0,Math.min(20,v)))),y=hs.get(y)||zt;var S=d&&g;return function(t){var e=b;if(_&&t%1)return"";var n=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===f?"":f;if(m<0){var i=ua.formatPrefix(t,v);t=i.scale(t),e=i.symbol+b}else t*=m;var r,o,a=(t=y(t,v)).lastIndexOf(".");if(a<0){var s=w?t.lastIndexOf("e"):-1;s<0?(r=t,o=""):(r=t.substring(0,s),o=t.substring(s))}else r=t.substring(0,a),o=T+t.substring(a+1);!d&&g&&(r=C(r,1/0));var u=x.length+r.length+o.length+(S?0:n.length),l=u<p?new Array(u=p-u+1).join(c):"";return S&&(r=C(l+r,l.length?p-o.length:1/0)),n+=x,t=r+o,("<"===h?n+t+l:">"===h?l+n+t:"^"===h?l.substring(0,u>>=1)+n+t+l.substring(u):n+(S?t:l+t))+e}}}function zt(t){return t+""}function Vt(t){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):t)}function jt(i,o,a){function t(t){var e=i(t),n=r(e,1);return t-e<n-t?e:n}function s(t){return o(t=i(new ds(t-1)),1),t}function r(t,e){return o(t=new ds(+t),e),t}function u(t,e,n){var i=s(t),r=[];if(1<n)for(;i<e;)a(i)%n||r.push(new Date(+i)),o(i,1);else for(;i<e;)r.push(new Date(+i)),o(i,1);return r}function e(t,e,n){try{var i=new(ds=Vt);return i._=t,u(i,e,n)}finally{ds=Date}}(i.floor=i).round=t,i.ceil=s,i.offset=r,i.range=u;var n=i.utc=Gt(i);return(n.floor=n).round=Gt(t),n.ceil=Gt(s),n.offset=Gt(r),n.range=e,i}function Gt(i){return function(t,e){try{var n=new(ds=Vt);return n._=t,i(n,e)._}finally{ds=Date}}}function Ht(t){function i(s){function t(t){for(var e,n,i,r=[],o=-1,a=0;++o<u;)37===s.charCodeAt(o)&&(r.push(s.slice(a,o)),null!=(n=gs[e=s.charAt(++o)])&&(e=s.charAt(++o)),(i=A[e])&&(e=i(t,null==n?"e"===e?" ":"0":n)),r.push(e),a=o+1);return r.push(s.slice(a,o)),r.join("")}var u=s.length;return t.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(r(e,s,t,0)!=t.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var n=null!=e.Z&&ds!==Vt,i=new(n?Vt:ds);return"j"in e?i.setFullYear(e.y,0,e.j):"W"in e||"U"in e?("w"in e||(e.w="W"in e?1:0),i.setFullYear(e.y,0,1),i.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(i.getDay()+5)%7:e.w+7*e.U-(i.getDay()+6)%7)):i.setFullYear(e.y,e.m,e.d),i.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L),n?i._:i},t.toString=function(){return s},t}function r(t,e,n,i){for(var r,o,a,s=0,u=e.length,l=n.length;s<u;){if(l<=i)return-1;if(37===(r=e.charCodeAt(s++))){if(a=e.charAt(s++),!(o=E[a in gs?e.charAt(s++):a])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function e(t,e,n){w.lastIndex=0;var i=w.exec(e.slice(n));return i?(t.w=S.get(i[0].toLowerCase()),n+i[0].length):-1}function n(t,e,n){b.lastIndex=0;var i=b.exec(e.slice(n));return i?(t.w=_.get(i[0].toLowerCase()),n+i[0].length):-1}function o(t,e,n){k.lastIndex=0;var i=k.exec(e.slice(n));return i?(t.m=M.get(i[0].toLowerCase()),n+i[0].length):-1}function a(t,e,n){T.lastIndex=0;var i=T.exec(e.slice(n));return i?(t.m=C.get(i[0].toLowerCase()),n+i[0].length):-1}function s(t,e,n){return r(t,A.c.toString(),e,n)}function u(t,e,n){return r(t,A.x.toString(),e,n)}function l(t,e,n){return r(t,A.X.toString(),e,n)}function c(t,e,n){var i=x.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}var h=t.dateTime,f=t.date,d=t.time,p=t.periods,g=t.days,v=t.shortDays,y=t.months,m=t.shortMonths;i.utc=function(t){function e(t){try{var e=new(ds=Vt);return e._=t,n(e)}finally{ds=Date}}var n=i(t);return e.parse=function(t){try{ds=Vt;var e=n.parse(t);return e&&e._}finally{ds=Date}},e.toString=n.toString,e},i.multi=i.utc.multi=ue;var x=ua.map(),b=qt(g),_=Bt(g),w=qt(v),S=Bt(v),T=qt(y),C=Bt(y),k=qt(m),M=Bt(m);p.forEach(function(t,e){x.set(t.toLowerCase(),e)});var A={a:function(t){return v[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return m[t.getMonth()]},B:function(t){return y[t.getMonth()]},c:i(h),d:function(t,e){return $t(t.getDate(),e,2)},e:function(t,e){return $t(t.getDate(),e,2)},H:function(t,e){return $t(t.getHours(),e,2)},I:function(t,e){return $t(t.getHours()%12||12,e,2)},j:function(t,e){return $t(1+fs.dayOfYear(t),e,3)},L:function(t,e){return $t(t.getMilliseconds(),e,3)},m:function(t,e){return $t(t.getMonth()+1,e,2)},M:function(t,e){return $t(t.getMinutes(),e,2)},p:function(t){return p[+(12<=t.getHours())]},S:function(t,e){return $t(t.getSeconds(),e,2)},U:function(t,e){return $t(fs.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return $t(fs.mondayOfYear(t),e,2)},x:i(f),X:i(d),y:function(t,e){return $t(t.getFullYear()%100,e,2)},Y:function(t,e){return $t(t.getFullYear()%1e4,e,4)},Z:ae,"%":function(){return"%"}},E={a:e,A:n,b:o,B:a,c:s,d:te,e:te,H:ne,I:ne,j:ee,L:oe,m:Jt,M:ie,p:c,S:re,U:Xt,w:Ut,W:Yt,x:u,X:l,y:Qt,Y:Wt,Z:Zt,"%":se};return i}function $t(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function qt(t){return new RegExp("^(?:"+t.map(ua.requote).join("|")+")","i")}function Bt(t){for(var e=new m,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Ut(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Xt(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Yt(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Wt(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Qt(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+2));return i?(t.y=Kt(+i[0]),n+i[0].length):-1}function Zt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Kt(t){return t+(68<t?1900:2e3)}function Jt(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function te(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function ee(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function ne(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function ie(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function re(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function oe(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function ae(t){var e=t.getTimezoneOffset(),n=0<e?"-":"+",i=ma(e)/60|0,r=ma(e)%60;return n+$t(i,"0",2)+$t(r,"0",2)}function se(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function ue(i){for(var t=i.length,e=-1;++e<t;)i[e][0]=this(i[e][0]);return function(t){for(var e=0,n=i[e];!n[1](t);)n=i[++e];return n[0](t)}}function le(){}function ce(t,e,n){var i=n.s=t+e,r=i-t,o=i-r;n.t=t-o+(e-r)}function he(t,e){t&&_s.hasOwnProperty(t.type)&&_s[t.type](t,e)}function fe(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function de(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)fe(t[n],e,1);e.polygonEnd()}function pe(){function n(t,e){e=e*Ga/2+Fa/4
;var n=(t*=Ga)-c,i=0<=n?1:-1,r=i*n,o=Math.cos(e),a=Math.sin(e),s=f*a,u=h*o+s*Math.cos(r),l=s*i*Math.sin(r);Ss.add(Math.atan2(l,u)),c=t,h=o,f=a}var i,r,c,h,f;Ts.point=function(t,e){Ts.point=n,c=(i=t)*Ga,h=Math.cos(e=(r=e)*Ga/2+Fa/4),f=Math.sin(e)},Ts.lineEnd=function(){n(i,r)}}function ge(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function ve(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ye(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function me(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function xe(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function be(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function _e(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function we(t,e){return ma(t[0]-e[0])<Oa&&ma(t[1]-e[1])<Oa}function Se(t,e){t*=Ga;var n=Math.cos(e*=Ga);Te(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Te(t,e,n){Ms+=(t-Ms)/++Cs,As+=(e-As)/Cs,Es+=(n-Es)/Cs}function Ce(){function i(t,e){t*=Ga;var n=Math.cos(e*=Ga),i=n*Math.cos(t),r=n*Math.sin(t),o=Math.sin(e),a=Math.atan2(Math.sqrt((a=u*o-l*r)*a+(a=l*i-s*o)*a+(a=s*r-u*i)*a),s*i+u*r+l*o);ks+=a,Ls+=a*(s+(s=i)),Ps+=a*(u+(u=r)),Ns+=a*(l+(l=o)),Te(s,u,l)}var s,u,l;Is.point=function(t,e){t*=Ga;var n=Math.cos(e*=Ga);s=n*Math.cos(t),u=n*Math.sin(t),l=Math.sin(e),Is.point=i,Te(s,u,l)}}function ke(){Is.point=Se}function Me(){function i(t,e){t*=Ga;var n=Math.cos(e*=Ga),i=n*Math.cos(t),r=n*Math.sin(t),o=Math.sin(e),a=p*o-g*r,s=g*i-d*o,u=d*r-p*i,l=Math.sqrt(a*a+s*s+u*u),c=d*i+p*r+g*o,h=l&&-tt(c)/l,f=Math.atan2(l,c);Ds+=h*a,Rs+=h*s,Os+=h*u,ks+=f,Ls+=f*(d+(d=i)),Ps+=f*(p+(p=r)),Ns+=f*(g+(g=o)),Te(d,p,g)}var r,o,d,p,g;Is.point=function(t,e){r=t,o=e,Is.point=i,t*=Ga;var n=Math.cos(e*=Ga);d=n*Math.cos(t),p=n*Math.sin(t),g=Math.sin(e),Te(d,p,g)},Is.lineEnd=function(){i(r,o),Is.lineEnd=ke,Is.point=Se}}function Ae(n,i){function t(t,e){return t=n(t,e),i(t[0],t[1])}return n.invert&&i.invert&&(t.invert=function(t,e){return(t=i.invert(t,e))&&n.invert(t[0],t[1])}),t}function Ee(){return!0}function Le(t,e,n,i,s){var u=[],l=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(we(n,i)){s.lineStart();for(var r=0;r<e;++r)s.point((n=t[r])[0],n[1]);return void s.lineEnd()}var o=new Ne(n,t,null,!0),a=new Ne(n,null,o,!1);o.o=a,u.push(o),l.push(a),a=new Ne(i,null,o=new Ne(i,t,null,!1),!0),o.o=a,u.push(o),l.push(a)}}),l.sort(e),Pe(u),Pe(l),u.length){for(var r=0,o=n,a=l.length;r<a;++r)l[r].e=o=!o;for(var c,h,f=u[0];;){for(var d=f,p=!0;d.v;)if((d=d.n)===f)return;c=d.z,s.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(r=0,a=c.length;r<a;++r)s.point((h=c[r])[0],h[1]);else i(d.x,d.n.x,1,s);d=d.n}else{if(p)for(r=(c=d.p.z).length-1;0<=r;--r)s.point((h=c[r])[0],h[1]);else i(d.x,d.p.x,-1,s);d=d.p}c=(d=d.o).z,p=!p}while(!d.v);s.lineEnd()}}}function Pe(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function Ne(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function De(m,x,b,_){return function(i,a){function e(t,e){var n=i(t,e);m(t=n[0],e=n[1])&&a.point(t,e)}function t(t,e){var n=i(t,e);f.point(n[0],n[1])}function n(){p.point=t,f.lineStart()}function r(){p.point=e,f.lineEnd()}function s(t,e){h.push([t,e]);var n=i(t,e);v.point(n[0],n[1])}function o(){v.lineStart(),h=[]}function u(){s(h[0][0],h[0][1]),v.lineEnd();var t,e=v.clean(),n=g.buffer(),i=n.length;if(h.pop(),c.push(h),h=null,i)if(1&e){var r,o=-1;if(0<(i=(t=n[0]).length-1)){for(y||(a.polygonStart(),y=!0),a.lineStart();++o<i;)a.point((r=t[o])[0],r[1]);a.lineEnd()}}else 1<i&&2&e&&n.push(n.pop().concat(n.shift())),l.push(n.filter(Re))}var l,c,h,f=x(a),d=i.invert(_[0],_[1]),p={point:e,lineStart:n,lineEnd:r,polygonStart:function(){p.point=s,p.lineStart=o,p.lineEnd=u,l=[],c=[]},polygonEnd:function(){p.point=e,p.lineStart=n,p.lineEnd=r,l=ua.merge(l);var t=je(d,c);l.length?(y||(a.polygonStart(),y=!0),Le(l,Ie,t,b,a)):t&&(y||(a.polygonStart(),y=!0),a.lineStart(),b(null,null,1,a),a.lineEnd()),y&&(a.polygonEnd(),y=!1),l=c=null},sphere:function(){a.polygonStart(),a.lineStart(),b(null,null,1,a),a.lineEnd(),a.polygonEnd()}},g=Oe(),v=x(g),y=!1;return p}}function Re(t){return 1<t.length}function Oe(){var n,e=[];return{lineStart:function(){e.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:b,buffer:function(){var t=e;return e=[],n=null,t},rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))}}}function Ie(t,e){return((t=t.x)[0]<0?t[1]-ja-Oa:ja-t[1])-((e=e.x)[0]<0?e[1]-ja-Oa:ja-e[1])}function Fe(r){var o,a=NaN,s=NaN,u=NaN;return{lineStart:function(){r.lineStart(),o=1},point:function(t,e){var n=0<t?Fa:-Fa,i=ma(t-a);ma(i-Fa)<Oa?(r.point(a,s=0<(s+e)/2?ja:-ja),r.point(u,s),r.lineEnd(),r.lineStart(),r.point(n,s),r.point(t,s),o=0):u!==n&&Fa<=i&&(ma(a-u)<Oa&&(a-=u*Oa),ma(t-n)<Oa&&(t-=n*Oa),s=ze(a,s,t,e),r.point(u,s),r.lineEnd(),r.lineStart(),r.point(n,s),o=0),r.point(a=t,s=e),u=n},lineEnd:function(){r.lineEnd(),a=s=NaN},clean:function(){return 2-o}}}function ze(t,e,n,i){var r,o,a=Math.sin(t-n);return ma(a)>Oa?Math.atan((Math.sin(e)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*o*a)):(e+i)/2}function Ve(t,e,n,i){var r;if(null==t)r=n*ja,i.point(-Fa,r),i.point(0,r),i.point(Fa,r),i.point(Fa,0),i.point(Fa,-r),i.point(0,-r),i.point(-Fa,-r),i.point(-Fa,0),i.point(-Fa,r);else if(ma(t[0]-e[0])>Oa){var o=t[0]<e[0]?Fa:-Fa;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}function je(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Ss.reset();for(var s=0,u=e.length;s<u;++s){var l=e[s],c=l.length;if(c)for(var h=l[0],f=h[0],d=h[1]/2+Fa/4,p=Math.sin(d),g=Math.cos(d),v=1;;){v===c&&(v=0);var y=(t=l[v])[0],m=t[1]/2+Fa/4,x=Math.sin(m),b=Math.cos(m),_=y-f,w=0<=_?1:-1,S=w*_,T=Fa<S,C=p*x;if(Ss.add(Math.atan2(C*w*Math.sin(S),g*b+C*Math.cos(S))),o+=T?_+w*za:_,T^n<=f^n<=y){var k=ye(ge(h),ge(t));be(k);var M=ye(r,k);be(M);var A=(T^0<=_?-1:1)*et(M[2]);(A<i||i===A&&(k[0]||k[1]))&&(a+=T^0<=_?1:-1)}if(!v++)break;f=y,p=x,g=b,h=t}}return(o<-Oa||o<Oa&&Ss<-Oa)^1&a}function Ge(r){function d(t,e){return Math.cos(t)*Math.cos(e)>k}function t(s){var u,l,c,h,f;return{lineStart:function(){h=c=!1,f=1},point:function(t,e){var n,i=[t,e],r=d(t,e),o=v?r?0:g(t,e):r?g(t+(t<0?Fa:-Fa),e):0;if(!u&&(h=c=r)&&s.lineStart(),r!==c&&(n=p(u,i),(we(u,n)||we(i,n))&&(i[0]+=Oa,i[1]+=Oa,r=d(i[0],i[1]))),r!==c)f=0,r?(s.lineStart(),n=p(i,u),s.point(n[0],n[1])):(n=p(u,i),s.point(n[0],n[1]),s.lineEnd()),u=n;else if(y&&u&&v^r){var a;o&l||!(a=p(i,u,!0))||(f=0,v?(s.lineStart(),s.point(a[0][0],a[0][1]),s.point(a[1][0],a[1][1]),s.lineEnd()):(s.point(a[1][0],a[1][1]),s.lineEnd(),s.lineStart(),s.point(a[0][0],a[0][1])))}!r||u&&we(u,i)||s.point(i[0],i[1]),u=i,c=r,l=o},lineEnd:function(){c&&s.lineEnd(),u=null},clean:function(){return f|(h&&c)<<1}}}function p(t,e,n){var i=[1,0,0],r=ye(ge(t),ge(e)),o=ve(r,r),a=r[0],s=o-a*a;if(!s)return!n&&t;var u=k*o/s,l=-k*a/s,c=ye(i,r),h=xe(i,u);me(h,xe(r,l));var f=c,d=ve(h,f),p=ve(f,f),g=d*d-p*(ve(h,h)-1);if(!(g<0)){var v=Math.sqrt(g),y=xe(f,(-d-v)/p);if(me(y,h),y=_e(y),!n)return y;var m,x=t[0],b=e[0],_=t[1],w=e[1];b<x&&(m=x,x=b,b=m);var S=b-x,T=ma(S-Fa)<Oa;if(!T&&w<_&&(m=_,_=w,w=m),T||S<Oa?T?0<_+w^y[1]<(ma(y[0]-x)<Oa?_:w):_<=y[1]&&y[1]<=w:Fa<S^(x<=y[0]&&y[0]<=b)){var C=xe(f,(-d+v)/p);return me(C,h),[y,_e(C)]}}}function g(t,e){var n=v?r:Fa-r,i=0;return t<-n?i|=1:n<t&&(i|=2),e<-n?i|=4:n<e&&(i|=8),i}var k=Math.cos(r),v=0<k,y=ma(k)>Oa;return De(d,t,gn(r,6*Ga),v?[0,-r]:[-Fa,r-Fa])}function He(c,h,f,d){return function(t){var e,n=t.a,i=t.b,r=n.x,o=n.y,a=0,s=1,u=i.x-r,l=i.y-o;if(e=c-r,u||!(0<e)){if(e/=u,u<0){if(e<a)return;e<s&&(s=e)}else if(0<u){if(s<e)return;a<e&&(a=e)}if(e=f-r,u||!(e<0)){if(e/=u,u<0){if(s<e)return;a<e&&(a=e)}else if(0<u){if(e<a)return;e<s&&(s=e)}if(e=h-o,l||!(0<e)){if(e/=l,l<0){if(e<a)return;e<s&&(s=e)}else if(0<l){if(s<e)return;a<e&&(a=e)}if(e=d-o,l||!(e<0)){if(e/=l,l<0){if(s<e)return;a<e&&(a=e)}else if(0<l){if(e<a)return;e<s&&(s=e)}return 0<a&&(t.a={x:r+a*u,y:o+a*l}),s<1&&(t.b={x:r+s*u,y:o+s*l}),t}}}}}}function $e(S,T,C,k){function M(t,e){return ma(t[0]-S)<Oa?0<e?0:3:ma(t[0]-C)<Oa?0<e?2:1:ma(t[1]-T)<Oa?0<e?1:0:0<e?3:2}function A(t,e){return E(t.x,e.x)}function E(t,e){var n=M(t,1),i=M(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(r){function i(t){for(var e=0,n=c.length,i=t[1],r=0;r<n;++r)for(var o,a=1,s=c[r],u=s.length,l=s[0];a<u;++a)o=s[a],l[1]<=i?o[1]>i&&0<J(l,o,t)&&++e:o[1]<=i&&J(l,o,t)<0&&--e,l=o;return 0!==e}function o(t,e,n,i){var r=0,o=0;if(null==t||(r=M(t,n))!==(o=M(e,n))||E(t,e)<0^0<n)for(;i.point(0===r||3===r?S:C,1<r?k:T),(r=(r+n+4)%4)!==o;);else i.point(e[0],e[1])}function a(t,e){return S<=t&&t<=C&&T<=e&&e<=k}function t(t,e){a(t,e)&&r.point(t,e)}function e(){w.point=s,c&&c.push(l=[]),v=!(y=!0),p=g=NaN}function n(){u&&(s(h,f),d&&v&&b.rejoin(),u.push(b.buffer())),w.point=t,v&&r.lineEnd()}function s(t,e){var n=a(t=Math.max(-zs,Math.min(zs,t)),e=Math.max(-zs,Math.min(zs,e)));if(c&&l.push([t,e]),y)h=t,f=e,y=!1,(d=n)&&(r.lineStart(),r.point(t,e));else if(n&&v)r.point(t,e);else{var i={a:{x:p,y:g},b:{x:t,y:e}};_(i)?(v||(r.lineStart(),r.point(i.a.x,i.a.y)),r.point(i.b.x,i.b.y),n||r.lineEnd(),m=!1):n&&(r.lineStart(),r.point(t,e),m=!1)}p=t,g=e,v=n}var u,c,l,h,f,d,p,g,v,y,m,x=r,b=Oe(),_=He(S,T,C,k),w={point:t,lineStart:e,lineEnd:n,polygonStart:function(){r=b,u=[],c=[],m=!0},polygonEnd:function(){r=x,u=ua.merge(u);var t=i([S,k]),e=m&&t,n=u.length;(e||n)&&(r.polygonStart(),e&&(r.lineStart(),o(null,null,1,r),r.lineEnd()),n&&Le(u,A,t,o,r),r.polygonEnd()),u=c=l=null}};return w}}function qe(t){var e=0,n=Fa/3,i=sn(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Fa/180,n=t[1]*Fa/180):[e/Fa*180,n/Fa*180]},r}function Be(t,e){function n(t,e){var n=Math.sqrt(o-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),a-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,o=1+i*(2*r-i),a=Math.sqrt(o)/r;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,et((o-(t*t+n*n)*r*r)/(2*r))]},n}function Ue(){function n(t,e){js+=a*t-o*e,o=t,a=e}var i,r,o,a;Bs.point=function(t,e){Bs.point=n,i=o=t,r=a=e},Bs.lineEnd=function(){n(i,r)}}function Xe(t,e){t<Gs&&(Gs=t),$s<t&&($s=t),e<Hs&&(Hs=e),qs<e&&(qs=e)}function Ye(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function i(){s.point=t}function r(){a.push("Z")}var o=We(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return o=We(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function We(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Qe(t,e){Ms+=t,As+=e,++Es}function Ze(){function n(t,e){var n=t-o,i=e-a,r=Math.sqrt(n*n+i*i);Ls+=r*(o+t)/2,Ps+=r*(a+e)/2,Ns+=r,Qe(o=t,a=e)}var o,a;Xs.point=function(t,e){Xs.point=n,Qe(o=t,a=e)}}function Ke(){Xs.point=Qe}function Je(){function n(t,e){var n=t-o,i=e-a,r=Math.sqrt(n*n+i*i);Ls+=r*(o+t)/2,Ps+=r*(a+e)/2,Ns+=r,Ds+=(r=a*t-o*e)*(o+t),Rs+=r*(a+e),Os+=3*r,Qe(o=t,a=e)}var i,r,o,a;Xs.point=function(t,e){Xs.point=n,Qe(i=o=t,r=a=e)},Xs.lineEnd=function(){n(i,r)}}function tn(n){function t(t,e){n.moveTo(t+a,e),n.arc(t,e,a,0,za)}function e(t,e){n.moveTo(t,e),s.point=i}function i(t,e){n.lineTo(t,e)}function r(){s.point=t}function o(){n.closePath()}var a=4.5,s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return a=t,s},result:b};return s}function en(E){function e(t){return(_?i:n)(t)}function n(n){return on(n,function(t,e){t=E(t,e),n.point(t[0],t[1])})}function i(r){function t(t,e){t=E(t,e),r.point(t[0],t[1])}function e(){g=NaN,b.point=n,r.lineStart()}function n(t,e){var n=ge([t,e]),i=E(t,e);L(g,v,p,y,m,x,g=i[0],v=i[1],p=t,y=n[0],m=n[1],x=n[2],_,r),r.point(g,v)}function i(){b.point=t,r.lineEnd()}function o(){e(),b.point=a,b.lineEnd=s}function a(t,e){n(u=t,e),l=g,c=v,h=y,f=m,d=x,b.point=n}function s(){L(g,v,p,y,m,x,l,c,u,h,f,d,_,r),(b.lineEnd=i)()}var u,l,c,h,f,d,p,g,v,y,m,x,b={point:t,lineStart:e,lineEnd:i,polygonStart:function(){r.polygonStart(),b.lineStart=o},polygonEnd:function(){r.polygonEnd(),b.lineStart=e}};return b}function L(t,e,n,i,r,o,a,s,u,l,c,h,f,d){var p=a-t,g=s-e,v=p*p+g*g;if(4*P<v&&f--){var y=i+l,m=r+c,x=o+h,b=Math.sqrt(y*y+m*m+x*x),_=Math.asin(x/=b),w=ma(ma(x)-1)<Oa||ma(n-u)<Oa?(n+u)/2:Math.atan2(m,y),S=E(w,_),T=S[0],C=S[1],k=T-t,M=C-e,A=g*k-p*M;(P<A*A/v||.3<ma((p*k+g*M)/v-.5)||i*l+r*c+o*h<N)&&(L(t,e,n,i,r,o,T,C,w,y/=b,m/=b,x,f,d),d.point(T,C),L(T,C,w,y,m,x,a,s,u,l,c,h,f,d))}}var P=.5,N=Math.cos(30*Ga),_=16;return e.precision=function(t){return arguments.length?(_=0<(P=t*t)&&16,e):Math.sqrt(P)},e}function nn(n){var e=en(function(t,e){return n([t*Ha,e*Ha])});return function(t){return un(e(t))}}function rn(t){this.stream=t}function on(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function an(t){return sn(function(){return t})()}function sn(t){function e(t){return[(t=s(t[0]*Ga,t[1]*Ga))[0]*f+u,l-t[1]*f]}function n(t){return(t=s.invert((t[0]-u)/f,(l-t[1])/f))&&[t[0]*Ha,t[1]*Ha]}function i(){s=Ae(a=hn(y,m,x),o);var t=o(g,v);return u=d-t[0]*f,l=p+t[1]*f,r()}function r(){return c&&(c.valid=!1,c=null),e}var o,a,s,u,l,c,h=en(function(t,e){return[(t=o(t,e))[0]*f+u,l-t[1]*f]}),f=150,d=480,p=250,g=0,v=0,y=0,m=0,x=0,b=Fs,_=O,w=null,S=null;return e.stream=function(t){return c&&(c.valid=!1),(c=un(b(a,h(_(t))))).valid=!0,c},e.clipAngle=function(t){return arguments.length?(b=null==t?(w=t,Fs):Ge((w=+t)*Ga),r()):w},e.clipExtent=function(t){return arguments.length?(_=(S=t)?$e(t[0][0],t[0][1],t[1][0],t[1][1]):O,r()):S},e.scale=function(t){return arguments.length?(f=+t,i()):f},e.translate=function(t){return arguments.length?(d=+t[0],p=+t[1],i()):[d,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Ga,v=t[1]%360*Ga,i()):[g*Ha,v*Ha]},e.rotate=function(t){return arguments.length?(y=t[0]%360*Ga,m=t[1]%360*Ga,x=2<t.length?t[2]%360*Ga:0,i()):[y*Ha,m*Ha,x*Ha]},ua.rebind(e,h,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,i()}}function un(n){return on(n,function(t,e){n.point(t*Ga,e*Ga)})}function ln(t,e){return[t,e]}function cn(t,e){return[Fa<t?t-za:t<-Fa?t+za:t,e]}function hn(t,e,n){return t?e||n?Ae(dn(t),pn(e,n)):dn(t):e||n?pn(e,n):cn}function fn(n){return function(t,e){return[Fa<(t+=n)?t-za:t<-Fa?t+za:t,e]}}function dn(t){var e=fn(t);return e.invert=fn(-t),e}function pn(t,e){function n(t,e){var n=Math.cos(e),i=Math.cos(t)*n,r=Math.sin(t)*n,o=Math.sin(e),a=o*s+i*u;return[Math.atan2(r*l-a*c,i*s-o*u),et(a*l+r*c)]}var s=Math.cos(t),u=Math.sin(t),l=Math.cos(e),c=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),i=Math.cos(t)*n,r=Math.sin(t)*n,o=Math.sin(e),a=o*l-r*c;return[Math.atan2(r*l+o*c,i*s+a*u),et(a*s-i*u)]},n}function gn(s,u){var l=Math.cos(s),c=Math.sin(s);return function(t,e,n,i){var r=n*u;null!=t?(t=vn(l,t),e=vn(l,e),(0<n?t<e:e<t)&&(t+=n*za)):(t=s+n*za,e=s-.5*r);for(var o,a=t;0<n?e<a:a<e;a-=r)i.point((o=_e([l,-c*Math.cos(a),-c*Math.sin(a)]))[0],o[1])}}function vn(t,e){var n=ge(e);n[0]-=t,be(n);var i=tt(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Oa)%(2*Math.PI)}function yn(t,e,n){var i=ua.range(t,e-Oa,n).concat(e);return function(e){return i.map(function(t){return[e,t]})}}function mn(t,e,n){var i=ua.range(t,e-Oa,n).concat(e);return function(e){return i.map(function(t){return[t,e]})}}function xn(t){return t.source}function bn(t){return t.target}function _n(t,e,n,i){var r=Math.cos(e),a=Math.sin(e),o=Math.cos(i),s=Math.sin(i),u=r*Math.cos(t),l=r*Math.sin(t),c=o*Math.cos(n),h=o*Math.sin(n),f=2*Math.asin(Math.sqrt(ot(i-e)+r*o*ot(n-t))),d=1/Math.sin(f),p=f?function(t){var e=Math.sin(t*=f)*d,n=Math.sin(f-t)*d,i=n*u+e*c,r=n*l+e*h,o=n*a+e*s;return[Math.atan2(r,i)*Ha,Math.atan2(o,Math.sqrt(i*i+r*r))*Ha]}:function(){return[t*Ha,e*Ha]};return p.distance=f,p}function wn(){function n(t,e){var n=Math.sin(e*=Ga),i=Math.cos(e),r=ma((t*=Ga)-a),o=Math.cos(r);Ys+=Math.atan2(Math.sqrt((r=i*Math.sin(r))*r+(r=u*n-s*i*o)*r),s*n+u*i*o),a=t,s=n,u=i}var a,s,u;Ws.point=function(t,e){a=t*Ga,s=Math.sin(e*=Ga),u=Math.cos(e),Ws.point=n},Ws.lineEnd=function(){Ws.point=Ws.lineEnd=b}}function Sn(o,a){function t(t,e){var n=Math.cos(t),i=Math.cos(e),r=o(n*i);return[r*i*Math.sin(t),r*Math.sin(e)]}return t.invert=function(t,e){var n=Math.sqrt(t*t+e*e),i=a(n),r=Math.sin(i),o=Math.cos(i);return[Math.atan2(t*r,n*o),Math.asin(n&&e*r/n)]},t}function Tn(t,e){function n(t,e){0<a?e<-ja+Oa&&(e=-ja+Oa):ja-Oa<e&&(e=ja-Oa);var n=a/Math.pow(r(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var i=Math.cos(t),r=function(t){return Math.tan(Fa/4+t/2)},o=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),a=i*Math.pow(r(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,i=K(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/i,1/o))-ja]},n):kn}function Cn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),o=i/r+t;return ma(r)<Oa?ln:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,o-K(r)*Math.sqrt(t*t+n*n)]},n)}function kn(t,e){return[t,Math.log(Math.tan(Fa/4+e/2))]}function Mn(t){var r,o=an(t),a=o.scale,s=o.translate,u=o.clipExtent;return o.scale=function(){var t=a.apply(o,arguments);return t===o?r?o.clipExtent(null):o:t},o.translate=function(){var t=s.apply(o,arguments);return t===o?r?o.clipExtent(null):o:t},o.clipExtent=function(t){var e=u.apply(o,arguments);if(e===o){if(r=null==t){var n=Fa*a(),i=s();u([[i[0]-n,i[1]-n],[i[0]+n,i[1]+n]])}}else r&&(e=null);return e},o.clipExtent(null)}function An(t,e){return[Math.log(Math.tan(Fa/4+e/2)),-t]}function En(t){return t[0]}function Ln(t){return t[1]}function Pn(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;r++){for(;1<i&&J(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function Nn(t,e){return t[0]-e[0]||t[1]-e[1]}function Dn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Rn(t,e,n,i){var r=t[0],o=n[0],a=e[0]-r,s=i[0]-o,u=t[1],l=n[1],c=e[1]-u,h=i[1]-l,f=(s*(u-l)-h*(r-o))/(h*a-s*c);return[r+f*a,u+f*c]}function On(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function In(){ii(this),this.edge=this.site=this.circle=null}function Fn(t){var e=su.pop()||new In;return e.site=t,e}function zn(t){Yn(t),ru.remove(t),su.push(t),ii(t)}function Vn(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},o=t.P,a=t.N,s=[t];zn(t);for(var u=o;u.circle&&ma(n-u.circle.x)<Oa&&ma(i-u.circle.cy)<Oa;)o=u.P,s.unshift(u),zn(u),u=o;s.unshift(u),Yn(u);for(var l=a;l.circle&&ma(n-l.circle.x)<Oa&&ma(i-l.circle.cy)<Oa;)a=l.N,s.push(l),zn(l),l=a;s.push(l),Yn(l);var c,h=s.length;for(c=1;c<h;++c)l=s[c],u=s[c-1],ti(l.edge,u.site,l.site,r);u=s[0],(l=s[h-1]).edge=Kn(u.site,l.site,null,r),Xn(u),Xn(l)}function jn(t){for(var e,n,i,r,o=t.x,a=t.y,s=ru._;s;)if(i=Gn(s,a)-o,Oa<i)s=s.L;else{if(r=o-Hn(s,a),!(Oa<r)){-Oa<i?(e=s.P,n=s):-Oa<r?n=(e=s).N:e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=Fn(t);if(ru.insert(e,u),e||n){if(e===n)return Yn(e),n=Fn(e.site),ru.insert(u,n),u.edge=n.edge=Kn(e.site,u.site),Xn(e),void Xn(n);if(!n)return void(u.edge=Kn(e.site,u.site));Yn(e),Yn(n);var l=e.site,c=l.x,h=l.y,f=t.x-c,d=t.y-h,p=n.site,g=p.x-c,v=p.y-h,y=2*(f*v-d*g),m=f*f+d*d,x=g*g+v*v,b={x:(v*m-d*x)/y+c,y:(f*x-g*m)/y+h};ti(n.edge,l,p,b),u.edge=Kn(l,t,null,b),n.edge=Kn(t,p,null,b),Xn(e),Xn(n)}}function Gn(t,e){var n=t.site,i=n.x,r=n.y,o=r-e;if(!o)return i;var a=t.P;if(!a)return-1/0;var s=(n=a.site).x,u=n.y,l=u-e;if(!l)return s;var c=s-i,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+r-o/2)))/h+i:(i+s)/2}function Hn(t,e){var n=t.N;if(n)return Gn(n,e);var i=t.site;return i.y===e?i.x:1/0}function $n(t){this.site=t,this.edges=[]}function qn(t){for(var e,n,i,r,o,a,s,u,l,c,h=t[0][0],f=t[1][0],d=t[0][1],p=t[1][1],g=iu,v=g.length;v--;)if((o=g[v])&&o.prepare())for(u=(s=o.edges).length,a=0;a<u;)i=(c=s[a].end()).x,r=c.y,e=(l=s[++a%u].start()).x,n=l.y,(ma(i-e)>Oa||ma(r-n)>Oa)&&(s.splice(a,0,new ei(Jn(o.site,c,ma(i-h)<Oa&&Oa<p-r?{x:h,y:ma(e-h)<Oa?n:p}:ma(r-p)<Oa&&Oa<f-i?{x:ma(n-p)<Oa?e:f,y:p}:ma(i-f)<Oa&&Oa<r-d?{x:f,y:ma(e-f)<Oa?n:d}:ma(r-d)<Oa&&Oa<i-h?{x:ma(n-d)<Oa?e:h,y:d}:null),o.site,null)),++u)}function Bn(t,e){return e.angle-t.angle}function Un(){ii(this),this.x=this.y=this.arc=this.site=this.cy=null}function Xn(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r.x,s=r.y,u=i.x-a,l=i.y-s,c=o.x-a,h=2*(u*(v=o.y-s)-l*c);if(!(-Ia<=h)){var f=u*u+l*l,d=c*c+v*v,p=(v*f-l*d)/h,g=(u*d-c*f)/h,v=g+s,y=uu.pop()||new Un;y.arc=t,y.site=r,y.x=p+a,y.y=v+Math.sqrt(p*p+g*g),y.cy=v,t.circle=y;for(var m=null,x=au._;x;)if(y.y<x.y||y.y===x.y&&y.x<=x.x){if(!x.L){m=x.P;break}x=x.L}else{if(!x.R){m=x;break}x=x.R}au.insert(m,y),m||(ou=y)}}}}function Yn(t){var e=t.circle;e&&(e.P||(ou=e.N),au.remove(e),uu.push(e),ii(e),t.circle=null)}function Wn(t){for(var e,n=nu,i=He(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)(!Qn(e=n[r],t)||!i(e)||ma(e.a.x-e.b.x)<Oa&&ma(e.a.y-e.b.y)<Oa)&&(e.a=e.b=null,n.splice(r,1))}function Qn(t,e){var n=t.b;if(n)return!0;var i,r,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],l=e[1][1],c=t.l,h=t.r,f=c.x,d=c.y,p=h.x,g=h.y,v=(f+p)/2,y=(d+g)/2;if(g===d){if(v<a||s<=v)return;if(p<f){if(o){if(o.y>=l)return}else o={x:v,y:u};n={x:v,y:l}}else{if(o){if(o.y<u)return}else o={x:v,y:l};n={x:v,y:u}}}else if(r=y-(i=(f-p)/(g-d))*v,i<-1||1<i)if(p<f){if(o){if(o.y>=l)return}else o={x:(u-r)/i,y:u};n={x:(l-r)/i,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-r)/i,y:l};n={x:(u-r)/i,y:u}}else if(d<g){if(o){if(o.x>=s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}else{if(o){if(o.x<a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}return t.a=o,t.b=n,!0}function Zn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Kn(t,e,n,i){var r=new Zn(t,e);return nu.push(r),n&&ti(r,t,e,n),i&&ti(r,e,t,i),iu[t.i].edges.push(new ei(r,t,e)),iu[e.i].edges.push(new ei(r,e,t)),r}function Jn(t,e,n){var i=new Zn(t,null);return i.a=e,i.b=n,nu.push(i),i}function ti(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function ei(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function ni(){this._=null}function ii(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ri(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function oi(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function ai(t){for(;t.L;)t=t.L;return t}function si(t,e){var n,i,r,o=t.sort(ui).pop();for(nu=[],iu=new Array(t.length),ru=new ni,au=new ni;;)if(r=ou,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))o.x===n&&o.y===i||(iu[o.i]=new $n(o),jn(o),n=o.x,i=o.y),o=t.pop();else{if(!r)break;Vn(r.arc)}e&&(Wn(e),qn(e));var a={cells:iu,edges:nu};return ru=au=nu=iu=null,a}function ui(t,e){return e.y-t.y||e.x-t.x}function li(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function ci(t){return t.x}function hi(t){return t.y}function fi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function di(t,e,n,i,r,o){if(!t(e,n,i,r,o)){var a=.5*(n+r),s=.5*(i+o),u=e.nodes;u[0]&&di(t,u[0],n,i,a,s),u[1]&&di(t,u[1],a,i,r,s),u[2]&&di(t,u[2],n,s,a,o),u[3]&&di(t,u[3],a,s,r,o)}}function pi(e,v,y,m,x,b,_){var w,S=1/0;return function t(e,n,i,r,o){if(!(b<n||_<i||r<m||o<x)){if(a=e.point){var a,s=v-e.x,u=y-e.y,l=s*s+u*u;if(l<S){var c=Math.sqrt(S=l);m=v-c,x=y-c,b=v+c,_=y+c,w=a}}for(var h=e.nodes,f=.5*(n+r),d=.5*(i+o),p=(d<=y)<<1|f<=v,g=p+4;p<g;++p)if(e=h[3&p])switch(3&p){case 0:t(e,n,i,f,d);break;case 1:t(e,f,i,r,d);break;case 2:t(e,n,d,f,o);break;case 3:t(e,f,d,r,o)}}}(e,m,x,b,_),w}function gi(t,e){t=ua.rgb(t),e=ua.rgb(e);var n=t.r,i=t.g,r=t.b,o=e.r-n,a=e.g-i,s=e.b-r;return function(t){return"#"+bt(Math.round(n+o*t))+bt(Math.round(i+a*t))+bt(Math.round(r+s*t))}}function vi(t,e){var n,i={},r={};for(n in t)n in e?i[n]=xi(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function yi(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function mi(t,i){var e,n,r,o=cu.lastIndex=hu.lastIndex=0,a=-1,s=[],u=[];for(t+="",i+="";(e=cu.exec(t))&&(n=hu.exec(i));)(r=n.index)>o&&(r=i.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(e=e[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,u.push({i:a,x:yi(e,n)})),o=hu.lastIndex;return o<i.length&&(r=i.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?u[0]?(i=u[0].x,function(t){return i(t)+""}):function(){return i}:(i=u.length,function(t){for(var e,n=0;n<i;++n)s[(e=u[n]).i]=e.x(t);return s.join("")})}function xi(t,e){for(var n,i=ua.interpolators.length;0<=--i&&!(n=ua.interpolators[i](t,e)););return n}function bi(t,e){var n,i=[],r=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)i.push(xi(t[n],e[n]));for(;n<o;++n)r[n]=t[n];for(;n<a;++n)r[n]=e[n];return function(t){for(n=0;n<s;++n)r[n]=i[n](t);return r}}function _i(e){return function(t){return t<=0?0:1<=t?1:e(t)}}function wi(e){return function(t){return 1-e(1-t)}}function Si(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Ti(t){return t*t}function Ci(t){return t*t*t}function ki(t){if(t<=0)return 0;if(1<=t)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Mi(e){return function(t){return Math.pow(t,e)}}function Ai(t){return 1-Math.cos(t*ja)}function Ei(t){return Math.pow(2,10*(t-1))}function Li(t){return 1-Math.sqrt(1-t*t)}function Pi(e,n){var i;return arguments.length<2&&(n=.45),arguments.length?i=n/za*Math.asin(1/e):(e=1,i=n/4),function(t){return 1+e*Math.pow(2,-10*t)*Math.sin((t-i)*za/n)}}function Ni(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Di(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Ri(t,e){t=ua.hcl(t),e=ua.hcl(e);var n=t.h,i=t.c,r=t.l,o=e.h-n,a=e.c-i,s=e.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?e.c:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360),function(t){return ct(n+o*t,i+a*t,r+s*t)+""}}function Oi(t,e){t=ua.hsl(t),e=ua.hsl(e);var n=t.h,i=t.s,r=t.l,o=e.h-n,a=e.s-i,s=e.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?e.s:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360),function(t){return ut(n+o*t,i+a*t,r+s*t)+""}}function Ii(t,e){t=ua.lab(t),e=ua.lab(e);var n=t.l,i=t.a,r=t.b,o=e.l-n,a=e.a-i,s=e.b-r;return function(t){return ft(n+o*t,i+a*t,r+s*t)+""}}function Fi(e,n){return n-=e,function(t){return Math.round(e+n*t)}}function zi(t){var e=[t.a,t.b],n=[t.c,t.d],i=ji(e),r=Vi(e,n),o=ji(Gi(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ha,this.translate=[t.e,t.f],this.scale=[i,o],this.skew=o?Math.atan2(r,o)*Ha:0}function Vi(t,e){return t[0]*e[0]+t[1]*e[1]}function ji(t){var e=Math.sqrt(Vi(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Gi(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Hi(t){return t.length?t.pop()+",":""}function $i(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:yi(t[0],e[0])},{i:r-2,x:yi(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function qi(t,e,n,i){t!==e?(180<t-e?e+=360:180<e-t&&(t+=360),i.push({i:n.push(Hi(n)+"rotate(",null,")")-2,x:yi(t,e)})):e&&n.push(Hi(n)+"rotate("+e+")")}function Bi(t,e,n,i){t!==e?i.push({i:n.push(Hi(n)+"skewX(",null,")")-2,x:yi(t,e)}):e&&n.push(Hi(n)+"skewX("+e+")")}function Ui(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push(Hi(n)+"scale(",null,",",null,")");i.push({i:r-4,x:yi(t[0],e[0])},{i:r-2,x:yi(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Hi(n)+"scale("+e+")")}function Xi(t,e){var r=[],o=[];return t=ua.transform(t),e=ua.transform(e),$i(t.translate,e.translate,r,o),qi(t.rotate,e.rotate,r,o),Bi(t.skew,e.skew,r,o),Ui(t.scale,e.scale,r,o),t=e=null,function(t){for(var e,n=-1,i=o.length;++n<i;)r[(e=o[n]).i]=e.x(t);return r.join("")}}function Yi(e,n){return n=(n-=e=+e)||1/n,function(t){return(t-e)/n}}function Wi(e,n){return n=(n-=e=+e)||1/n,function(t){return Math.max(0,Math.min(1,(t-e)/n))}}function Qi(t){for(var e=t.source,n=t.target,i=Ki(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function Zi(t){for(var e=[],n=t.parent;null!=n;)e.push(t),n=(t=n).parent;return e.push(t),e}function Ki(t,e){if(t===e)return t;for(var n=Zi(t),i=Zi(e),r=n.pop(),o=i.pop(),a=null;r===o;)a=r,r=n.pop(),o=i.pop();return a}function Ji(t){t.fixed|=2}function tr(t){t.fixed&=-7}function er(t){t.fixed|=4,t.px=t.x,t.py=t.y}function nr(t){t.fixed&=-5}function ir(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,u=-1;++u<s;)null!=(o=a[u])&&(ir(o,e,n),t.charge+=o.charge,i+=o.charge*o.cx,r+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=e*n[t.point.index];t.charge+=t.pointCharge=l,i+=l*t.point.x,r+=l*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function rr(t,e){return ua.rebind(t,e,"sort","children","value"),(t.nodes=t).links=cr,t}function or(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;0<=--i;)n.push(r[i])}function ar(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(o=t.children)&&(r=o.length))for(var r,o,a=-1;++a<r;)n.push(o[a]);for(;null!=(t=i.pop());)e(t)}function sr(t){return t.children}function ur(t){return t.value}function lr(t,e){return e.value-t.value}function cr(t){return ua.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function hr(t){return t.x}function fr(t){return t.y}function dr(t,e,n){t.y0=e,t.y=n}function pr(t){return ua.range(t.length)}function gr(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function vr(t){for(var e,n=1,i=0,r=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function yr(t){return t.reduce(mr,0)}function mr(t,e){return t+e[1]}function xr(t,e){return br(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function br(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,o=[];++n<=e;)o[n]=r*n+i;return o}function _r(t){return[ua.min(t),ua.max(t)]}function wr(t,e){return t.value-e.value}function Sr(t,e){var n=t._pack_next;(t._pack_next=e)._pack_prev=t,(e._pack_next=n)._pack_prev=e}function Tr(t,e){(t._pack_next=e)._pack_prev=t}function Cr(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return n*n+i*i<.999*r*r}function kr(t){function e(t){c=Math.min(t.x-t.r,c),h=Math.max(t.x+t.r,h),f=Math.min(t.y-t.r,f),d=Math.max(t.y+t.r,d)}if((n=t.children)&&(l=n.length)){var n,i,r,o,a,s,u,l,c=1/0,h=-1/0,f=1/0,d=-1/0;if(n.forEach(Mr),(i=n[0]).x=-i.r,i.y=0,e(i),1<l&&((r=n[1]).x=r.r,r.y=0,e(r),2<l))for(Lr(i,r,o=n[2]),e(o),Sr(i,o),Sr(i._pack_prev=o,r),r=i._pack_next,a=3;a<l;a++){Lr(i,r,o=n[a]);var p=0,g=1,v=1;for(s=r._pack_next;s!==r;s=s._pack_next,g++)if(Cr(s,o)){p=1;break}if(1==p)for(u=i._pack_prev;u!==s._pack_prev&&!Cr(u,o);u=u._pack_prev,v++);p?(g<v||g==v&&r.r<i.r?Tr(i,r=s):Tr(i=u,r),a--):(Sr(i,o),e(r=o))}var y=(c+h)/2,m=(f+d)/2,x=0;for(a=0;a<l;a++)(o=n[a]).x-=y,o.y-=m,x=Math.max(x,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=x,n.forEach(Ar)}}function Mr(t){t._pack_next=t._pack_prev=t}function Ar(t){delete t._pack_next,delete t._pack_prev}function Er(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var o=-1,a=r.length;++o<a;)Er(r[o],e,n,i)}function Lr(t,e,n){var i=t.r+n.r,r=e.x-t.x,o=e.y-t.y;if(i&&(r||o)){var a=e.r+n.r,s=r*r+o*o,u=.5+((i*=i)-(a*=a))/(2*s),l=Math.sqrt(Math.max(0,2*a*(i+s)-(i-=s)*i-a*a))/(2*s);n.x=t.x+u*r+l*o,n.y=t.y+u*o-l*r}else n.x=t.x+i,n.y=t.y}function Pr(t,e){return t.parent==e.parent?1:2}function Nr(t){var e=t.children;return e.length?e[0]:t.t}function Dr(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Rr(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Or(t){for(var e,n=0,i=0,r=t.children,o=r.length;0<=--o;)(e=r[o]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}function Ir(t,e,n){return t.a.parent===e.parent?t.a:n}function Fr(t){return 1+ua.max(t,function(t){return t.y})}function zr(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Vr(t){var e=t.children;return e&&e.length?Vr(e[0]):t}function jr(t){var e,n=t.children;return n&&(e=n.length)?jr(n[e-1]):t}function Gr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Hr(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return r<0&&(n+=r/2,r=0),o<0&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function $r(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function qr(t){return t.rangeExtent?t.rangeExtent():$r(t.range())}function Br(t,e,n,i){var r=n(t[0],t[1]),o=i(e[0],e[1]);return function(t){return o(r(t))}}function Ur(t,e){
var n,i=0,r=t.length-1,o=t[i],a=t[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t}function Xr(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:wu}function Yr(n,t,e,i){var r=[],o=[],a=0,s=Math.min(n.length,t.length)-1;for(n[s]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<=s;)r.push(e(n[a-1],n[a])),o.push(i(t[a-1],t[a]));return function(t){var e=ua.bisect(n,t,1,s)-1;return o[e](r[e](t))}}function Wr(n,i,r,o){function e(){var t=2<Math.min(n.length,i.length)?Yr:Br,e=o?Wi:Yi;return s=t(n,i,e,r),u=t(i,n,e,xi),a}function a(t){return s(t)}var s,u;return a.invert=function(t){return u(t)},a.domain=function(t){return arguments.length?(n=t.map(Number),e()):n},a.range=function(t){return arguments.length?(i=t,e()):i},a.rangeRound=function(t){return a.range(t).interpolate(Fi)},a.clamp=function(t){return arguments.length?(o=t,e()):o},a.interpolate=function(t){return arguments.length?(r=t,e()):r},a.ticks=function(t){return Jr(n,t)},a.tickFormat=function(t,e){return to(n,t,e)},a.nice=function(t){return Zr(n,t),e()},a.copy=function(){return Wr(n,i,r,o)},e()}function Qr(t,e){return ua.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Zr(t,e){return Ur(t,Xr(Kr(t,e)[2])),Ur(t,Xr(Kr(t,e)[2])),t}function Kr(t,e){null==e&&(e=10);var n=$r(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),o=e/i*r;return o<=.15?r*=10:o<=.35?r*=5:o<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function Jr(t,e){return ua.range.apply(ua,Kr(t,e))}function to(t,e,n){var i=Kr(t,e);if(n){var r=cs.exec(n);if(r.shift(),"s"===r[8]){var o=ua.formatPrefix(Math.max(ma(i[0]),ma(i[1])));return r[7]||(r[7]="."+eo(o.scale(i[2]))),r[8]="f",n=ua.format(r.join("")),function(t){return n(o.scale(t))+o.symbol}}r[7]||(r[7]="."+no(r[8],i)),n=r.join("")}else n=",."+eo(i[2])+"f";return ua.format(n)}function eo(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function no(t,e){var n=eo(e[2]);return t in Su?Math.abs(n-eo(Math.max(ma(e[0]),ma(e[1]))))+ +("e"!==t):n-2*("%"===t)}function io(e,u,l,c){function h(t){return(l?Math.log(t<0?0:t):-Math.log(0<t?0:-t))/Math.log(u)}function f(t){return l?Math.pow(u,t):-Math.pow(u,-t)}function r(t){return e(h(t))}return r.invert=function(t){return f(e.invert(t))},r.domain=function(t){return arguments.length?(l=0<=t[0],e.domain((c=t.map(Number)).map(h)),r):c},r.base=function(t){return arguments.length?(u=+t,e.domain(c.map(h)),r):u},r.nice=function(){var t=Ur(c.map(h),l?Math:Cu);return e.domain(t),c=t.map(f),r},r.ticks=function(){var t=$r(c),e=[],n=t[0],i=t[1],r=Math.floor(h(n)),o=Math.ceil(h(i)),a=u%1?2:u;if(isFinite(o-r)){if(l){for(;r<o;r++)for(var s=1;s<a;s++)e.push(f(r)*s);e.push(f(r))}else for(e.push(f(r));r++<o;)for(s=a-1;0<s;s--)e.push(f(r)*s);for(r=0;e[r]<n;r++);for(o=e.length;e[o-1]>i;o--);e=e.slice(r,o)}return e},r.tickFormat=function(t,n){if(!arguments.length)return Tu;arguments.length<2?n=Tu:"function"!=typeof n&&(n=ua.format(n));var i=Math.max(1,u*t/r.ticks().length);return function(t){var e=t/f(Math.round(h(t)));return e*u<u-.5&&(e*=u),e<=i?n(t):""}},r.copy=function(){return io(e.copy(),u,l,c)},Qr(r,e)}function ro(e,n,i){function r(t){return e(o(t))}var o=oo(n),a=oo(1/n);return r.invert=function(t){return a(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((i=t.map(Number)).map(o)),r):i},r.ticks=function(t){return Jr(i,t)},r.tickFormat=function(t,e){return to(i,t,e)},r.nice=function(t){return r.domain(Zr(i,t))},r.exponent=function(t){return arguments.length?(o=oo(n=t),a=oo(1/n),e.domain(i.map(o)),r):n},r.copy=function(){return ro(e.copy(),n,i)},Qr(r,e)}function oo(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ao(s,u){function l(t){return h[((r.get(t)||("range"===u.t?r.set(t,s.push(t)):NaN))-1)%h.length]}function c(e,n){return ua.range(s.length).map(function(t){return e+n*t})}var r,h,f;return l.domain=function(t){if(!arguments.length)return s;s=[],r=new m;for(var e,n=-1,i=t.length;++n<i;)r.has(e=t[n])||r.set(e,s.push(e));return l[u.t].apply(l,u.a)},l.range=function(t){return arguments.length?(h=t,f=0,u={t:"range",a:arguments},l):h},l.rangePoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],i=t[1],r=s.length<2?(n=(n+i)/2,0):(i-n)/(s.length-1+e);return h=c(n+r*e/2,r),f=0,u={t:"rangePoints",a:arguments},l},l.rangeRoundPoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],i=t[1],r=s.length<2?(n=i=Math.round((n+i)/2),0):(i-n)/(s.length-1+e)|0;return h=c(n+Math.round(r*e/2+(i-n-(s.length-1+e)*r)/2),r),f=0,u={t:"rangeRoundPoints",a:arguments},l},l.rangeBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var i=t[1]<t[0],r=t[i-0],o=(t[1-i]-r)/(s.length-e+2*n);return h=c(r+o*n,o),i&&h.reverse(),f=o*(1-e),u={t:"rangeBands",a:arguments},l},l.rangeRoundBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var i=t[1]<t[0],r=t[i-0],o=t[1-i],a=Math.floor((o-r)/(s.length-e+2*n));return h=c(r+Math.round((o-r-(s.length-e)*a)/2),a),i&&h.reverse(),f=Math.round(a*(1-e)),u={t:"rangeRoundBands",a:arguments},l},l.rangeBand=function(){return f},l.rangeExtent=function(){return $r(u.a[0])},l.copy=function(){return ao(s,u)},l.domain(s)}function so(n,i){function e(){var t=0,e=i.length;for(o=[];++t<e;)o[t-1]=ua.quantile(n,t/e);return r}function r(t){return isNaN(t=+t)?void 0:i[ua.bisect(o,t)]}var o;return r.domain=function(t){return arguments.length?(n=t.map(l).filter(c).sort(a),e()):n},r.range=function(t){return arguments.length?(i=t,e()):i},r.quantiles=function(){return o},r.invertExtent=function(t){return(t=i.indexOf(t))<0?[NaN,NaN]:[0<t?o[t-1]:n[0],t<o.length?o[t]:n[n.length-1]]},r.copy=function(){return so(n,i)},e()}function uo(e,n,i){function t(t){return i[Math.max(0,Math.min(a,Math.floor(o*(t-e))))]}function r(){return o=i.length/(n-e),a=i.length-1,t}var o,a;return t.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],r()):[e,n]},t.range=function(t){return arguments.length?(i=t,r()):i},t.invertExtent=function(t){return[t=(t=i.indexOf(t))<0?NaN:t/o+e,t+1/o]},t.copy=function(){return uo(e,n,i)},r()}function lo(e,n){function i(t){return t<=t?n[ua.bisect(e,t)]:void 0}return i.domain=function(t){return arguments.length?(e=t,i):e},i.range=function(t){return arguments.length?(n=t,i):n},i.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},i.copy=function(){return lo(e,n)},i}function co(n){function e(t){return+t}return(e.invert=e).domain=e.range=function(t){return arguments.length?(n=t.map(e),e):n},e.ticks=function(t){return Jr(n,t)},e.tickFormat=function(t,e){return to(n,t,e)},e.copy=function(){return co(n)},e}function ho(){return 0}function fo(t){return t.innerRadius}function po(t){return t.outerRadius}function go(t){return t.startAngle}function vo(t){return t.endAngle}function yo(t){return t&&t.padAngle}function mo(t,e,n,i){return 0<(t-n)*e-(e-i)*t?0:1}function xo(t,e,n,i,r){var o=t[0]-e[0],a=t[1]-e[1],s=(r?i:-i)/Math.sqrt(o*o+a*a),u=s*a,l=-s*o,c=t[0]+u,h=t[1]+l,f=e[0]+u,d=e[1]+l,p=(c+f)/2,g=(h+d)/2,v=f-c,y=d-h,m=v*v+y*y,x=n-i,b=c*d-f*h,_=(y<0?-1:1)*Math.sqrt(Math.max(0,x*x*m-b*b)),w=(b*y-v*_)/m,S=(-b*v-y*_)/m,T=(b*y+v*_)/m,C=(-b*v+y*_)/m,k=w-p,M=S-g,A=T-p,E=C-g;return A*A+E*E<k*k+M*M&&(w=T,S=C),[[w-u,S-l],[w*n/x,S*n/x]]}function bo(l){function e(t){function e(){i.push("M",d(l(r),p))}for(var n,i=[],r=[],o=-1,a=t.length,s=kt(c),u=kt(h);++o<a;)f.call(this,n=t[o],o)?r.push([+s.call(this,n,o),+u.call(this,n,o)]):r.length&&(e(),r=[]);return r.length&&e(),i.length?i.join(""):null}var c=En,h=Ln,f=Ee,d=_o,n=d.key,p=.7;return e.x=function(t){return arguments.length?(c=t,e):c},e.y=function(t){return arguments.length?(h=t,e):h},e.defined=function(t){return arguments.length?(f=t,e):f},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?d=t:(d=Pu.get(t)||_o).key,e):n},e.tension=function(t){return arguments.length?(p=t,e):p},e}function _o(t){return 1<t.length?t.join("L"):t+"Z"}function wo(t){return t.join("L")+"Z"}function So(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return 1<n&&r.push("H",i[0]),r.join("")}function To(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function Co(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function ko(t,e){return t.length<4?_o(t):t[1]+Eo(t.slice(1,-1),Lo(t,e))}function Mo(t,e){return t.length<3?wo(t):t[0]+Eo((t.push(t[0]),t),Lo([t[t.length-2]].concat(t,[t[1]]),e))}function Ao(t,e){return t.length<3?_o(t):t[0]+Eo(t,Lo(t,e))}function Eo(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return _o(t);var n=t.length!=e.length,i="",r=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(i+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],r=t[1],u=2),1<e.length){s=e[1],o=t[u],u++,i+="C"+(r[0]+a[0])+","+(r[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,u++)o=t[u],s=e[l],i+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[u];i+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return i}function Lo(t,e){for(var n,i=[],r=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],i.push([r*(a[0]-n[0]),r*(a[1]-n[1])]);return i}function Po(t){if(t.length<3)return _o(t);var e=1,n=t.length,i=t[0],r=i[0],o=i[1],a=[r,r,r,(i=t[1])[0]],s=[o,o,o,i[1]],u=[r,",",o,"L",Oo(Ru,a),",",Oo(Ru,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),Io(u,a,s);return t.pop(),u.push("L",i),u.join("")}function No(t){if(t.length<4)return _o(t);for(var e,n=[],i=-1,r=t.length,o=[0],a=[0];++i<3;)e=t[i],o.push(e[0]),a.push(e[1]);for(n.push(Oo(Ru,o)+","+Oo(Ru,a)),--i;++i<r;)e=t[i],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Io(n,o,a);return n.join("")}function Do(t){for(var e,n,i=-1,r=t.length,o=r+4,a=[],s=[];++i<4;)n=t[i%r],a.push(n[0]),s.push(n[1]);for(e=[Oo(Ru,a),",",Oo(Ru,s)],--i;++i<o;)n=t[i%r],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Io(e,a,s);return e.join("")}function Ro(t,e){var n=t.length-1;if(n)for(var i,r,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,l=-1;++l<=n;)r=l/n,(i=t[l])[0]=e*i[0]+(1-e)*(o+r*s),i[1]=e*i[1]+(1-e)*(a+r*u);return Po(t)}function Oo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Io(t,e,n){t.push("C",Oo(Nu,e),",",Oo(Nu,n),",",Oo(Du,e),",",Oo(Du,n),",",Oo(Ru,e),",",Oo(Ru,n))}function Fo(t,e){return(e[1]-t[1])/(e[0]-t[0])}function zo(t){for(var e=0,n=t.length-1,i=[],r=t[0],o=t[1],a=i[0]=Fo(r,o);++e<n;)i[e]=(a+(a=Fo(r=o,o=t[e+1])))/2;return i[e]=a,i}function Vo(t){for(var e,n,i,r,o=[],a=zo(t),s=-1,u=t.length-1;++s<u;)e=Fo(t[s],t[s+1]),ma(e)<Oa?a[s]=a[s+1]=0:9<(r=(n=a[s]/e)*n+(i=a[s+1]/e)*i)&&(r=3*e/Math.sqrt(r),a[s]=r*n,a[s+1]=r*i);for(s=-1;++s<=u;)r=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([r||0,a[s]*r||0]);return o}function jo(t){return t.length<3?_o(t):t[0]+Eo(t,Vo(t))}function Go(t){for(var e,n,i,r=-1,o=t.length;++r<o;)n=(e=t[r])[0],i=e[1]-ja,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Ho(p){function e(t){function e(){o.push("M",b(p(s),S),w,_(p(a.reverse()),S),"Z")}for(var n,i,r,o=[],a=[],s=[],u=-1,l=t.length,c=kt(g),h=kt(y),f=g===v?function(){return i}:kt(v),d=y===m?function(){return r}:kt(m);++u<l;)x.call(this,n=t[u],u)?(a.push([i=+c.call(this,n,u),r=+h.call(this,n,u)]),s.push([+f.call(this,n,u),+d.call(this,n,u)])):a.length&&(e(),a=[],s=[]);return a.length&&e(),o.length?o.join(""):null}var g=En,v=En,y=0,m=Ln,x=Ee,b=_o,n=b.key,_=b,w="L",S=.7;return e.x=function(t){return arguments.length?(g=v=t,e):v},e.x0=function(t){return arguments.length?(g=t,e):g},e.x1=function(t){return arguments.length?(v=t,e):v},e.y=function(t){return arguments.length?(y=m=t,e):m},e.y0=function(t){return arguments.length?(y=t,e):y},e.y1=function(t){return arguments.length?(m=t,e):m},e.defined=function(t){return arguments.length?(x=t,e):x},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?b=t:(b=Pu.get(t)||_o).key,_=b.reverse||b,w=b.closed?"M":"L",e):n},e.tension=function(t){return arguments.length?(S=t,e):S},e}function $o(t){return t.radius}function qo(t){return[t.x,t.y]}function Bo(i){return function(){var t=i.apply(this,arguments),e=t[0],n=t[1]-ja;return[e*Math.cos(n),e*Math.sin(n)]}}function Uo(){return 64}function Xo(){return"circle"}function Yo(t){var e=Math.sqrt(t/Fa);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Wo(i){return function(){var t,e,n;(t=this[i])&&(n=t[e=t.active])&&(n.timer.c=null,n.timer.t=NaN,--t.count?delete t[e]:delete this[i],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Qo(t,e,n){return Sa(t,Gu),t.namespace=e,t.id=n,t}function Zo(t,i,r,o){var a=t.id,s=t.namespace;return $(t,"function"==typeof r?function(t,e,n){t[s][a].tween.set(i,o(r.call(t,t.__data__,e,n)))}:(r=o(r),function(t){t[s][a].tween.set(i,r)}))}function Ko(t){return null==t&&(t=""),function(){this.textContent=t}}function Jo(t){return null==t?"__transition__":"__transition_"+t+"__"}function ta(o,a,r,s,t){function e(t){var e=g.delay;return c.t=e+l,e<=t?n(t-e):void(c.c=n)}function n(t){var e=p.active,n=p[e];for(var i in n&&(n.timer.c=null,n.timer.t=NaN,--p.count,delete p[e],n.event&&n.event.interrupt.call(o,o.__data__,n.index)),p)if(+i<s){var r=p[i];r.timer.c=null,r.timer.t=NaN,--p.count,delete p[i]}c.c=u,Pt(function(){return c.c&&u(t||1)&&(c.c=null,c.t=NaN),1},0,l),p.active=s,g.event&&g.event.start.call(o,o.__data__,a),d=[],g.tween.forEach(function(t,e){(e=e.call(o,o.__data__,a))&&d.push(e)}),f=g.ease,h=g.duration}function u(t){for(var e=t/h,n=f(e),i=d.length;0<i;)d[--i].call(o,n);return 1<=e?(g.event&&g.event.end.call(o,o.__data__,a),--p.count?delete p[s]:delete o[r],1):void 0}var l,c,h,f,d,p=o[r]||(o[r]={active:0,count:0}),g=p[s];g||(l=t.time,c=Pt(e,0,l),g=p[s]={tween:new m,time:l,timer:c,delay:t.delay,duration:t.duration,ease:t.ease,index:a},t=null,++p.count)}function ea(t,n,i){t.attr("transform",function(t){var e=n(t);return"translate("+(isFinite(e)?e:i(t))+",0)"})}function na(t,n,i){t.attr("transform",function(t){var e=n(t);return"translate(0,"+(isFinite(e)?e:i(t))+")"})}function ia(t){return t.toISOString()}function ra(e,r,t){function a(t){return e(t)}function s(t,e){var n=(t[1]-t[0])/e,i=ua.bisect(Qu,n);return i==Qu.length?[r.year,Kr(t.map(function(t){return t/31536e6}),e)[2]]:i?r[n/Qu[i-1]<Qu[i]/n?i-1:i]:[Ju,Kr(t,e)[2]]}return a.invert=function(t){return oa(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain(t),a):e.domain().map(oa)},a.nice=function(e,n){function i(t){return!isNaN(t)&&!e.range(t,oa(+t+1),n).length}var t=a.domain(),r=$r(t),o=null==e?s(r,10):"number"==typeof e&&s(r,e);return o&&(e=o[0],n=o[1]),a.domain(Ur(t,1<n?{floor:function(t){for(;i(t=e.floor(t));)t=oa(t-1);return t},ceil:function(t){for(;i(t=e.ceil(t));)t=oa(+t+1);return t}}:e))},a.ticks=function(t,e){var n=$r(a.domain()),i=null==t?s(n,10):"number"==typeof t?s(n,t):!t.range&&[{range:t},e];return i&&(t=i[0],e=i[1]),t.range(n[0],oa(+n[1]+1),e<1?1:e)},a.tickFormat=function(){return t},a.copy=function(){return ra(e.copy(),r,t)},Qr(a,e)}function oa(t){return new Date(t)}function aa(t){return JSON.parse(t.responseText)}function sa(t){var e=ha.createRange();return e.selectNode(ha.body),e.createContextualFragment(t.responseText)}var ua={version:"3.5.17"},la=[].slice,ca=function(t){return la.call(t)},ha=this.document;if(ha)try{ca(ha.documentElement.childNodes)[0].nodeType}catch(nl){ca=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),ha)try{ha.createElement("DIV").style.setProperty("opacity",0,"")}catch(il){var fa=this.Element.prototype,da=fa.setAttribute,pa=fa.setAttributeNS,ga=this.CSSStyleDeclaration.prototype,va=ga.setProperty;fa.setAttribute=function(t,e){da.call(this,t,e+"")},fa.setAttributeNS=function(t,e,n){pa.call(this,t,e,n+"")},ga.setProperty=function(t,e,n){va.call(this,t,e+"",n)}}ua.ascending=a,ua.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},ua.min=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i<=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&i<n&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i<=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&i<n&&(n=i)}return n},ua.max=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i<=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&n<i&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i<=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&n<i&&(n=i)}return n},ua.extent=function(t,e){var n,i,r,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(i=t[o])&&i<=i){n=r=i;break}for(;++o<a;)null!=(i=t[o])&&(i<n&&(n=i),r<i&&(r=i))}else{for(;++o<a;)if(null!=(i=e.call(t,t[o],o))&&i<=i){n=r=i;break}for(;++o<a;)null!=(i=e.call(t,t[o],o))&&(i<n&&(n=i),r<i&&(r=i))}return[n,r]},ua.sum=function(t,e){var n,i=0,r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)c(n=+t[o])&&(i+=n);else for(;++o<r;)c(n=+e.call(t,t[o],o))&&(i+=n);return i},ua.mean=function(t,e){var n,i=0,r=t.length,o=-1,a=r;if(1===arguments.length)for(;++o<r;)c(n=l(t[o]))?i+=n:--a;else for(;++o<r;)c(n=l(e.call(t,t[o],o)))?i+=n:--a;return a?i/a:void 0},ua.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r},ua.median=function(t,e){var n,i=[],r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)c(n=l(t[o]))&&i.push(n);else for(;++o<r;)c(n=l(e.call(t,t[o],o)))&&i.push(n);return i.length?ua.quantile(i.sort(a),.5):void 0},ua.variance=function(t,e){var n,i,r=t.length,o=0,a=0,s=-1,u=0;if(1===arguments.length)for(;++s<r;)c(n=l(t[s]))&&(a+=(i=n-o)*(n-(o+=i/++u)));else for(;++s<r;)c(n=l(e.call(t,t[s],s)))&&(a+=(i=n-o)*(n-(o+=i/++u)));return 1<u?a/(u-1):void 0},ua.deviation=function(){var t=ua.variance.apply(this,arguments);return t?Math.sqrt(t):t};var ya=t(a);ua.bisectLeft=ya.left,ua.bisect=ua.bisectRight=ya.right,ua.bisector=function(n){return t(1===n.length?function(t,e){return a(n(t),e)}:n)},ua.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var i,r,o=n-e;o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},ua.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},ua.pairs=function(t){for(var e=0,n=t.length-1,i=t[0],r=new Array(n<0?0:n);e<n;)r[e]=[i,i=t[++e]];return r},ua.transpose=function(t){if(!(r=t.length))return[];for(var e=-1,n=ua.min(t,u),i=new Array(n);++e<n;)for(var r,o=-1,a=i[e]=new Array(r);++o<r;)a[o]=t[o][e];return i},ua.zip=function(){return ua.transpose(arguments)},ua.keys=function(t){var e=[];for(var n in t)e.push(n);return e},ua.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ua.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ua.merge=function(t){for(var e,n,i,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(n=new Array(a);0<=--r;)for(e=(i=t[r]).length;0<=--e;)n[--a]=i[e];return n};var ma=Math.abs;ua.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var i,r=[],o=h(ma(n)),a=-1;if(t*=o,e*=o,(n*=o)<0)for(;(i=t+n*++a)>e;)r.push(i/o);else for(;(i=t+n*++a)<e;)r.push(i/o);return r},ua.map=function(t,e){var n=new m;if(t instanceof m)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(1===arguments.length)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e.call(t,i=t[r],r),i)}else for(var a in t)n.set(a,t[a]);return n};var xa="__proto__",ba="\0";e(m,{has:r,get:function(t){return this._[n(t)]},set:function(t,e){return this._[n(t)]=e},remove:o,keys:f,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:i(e),value:this._[e]});return t},size:d,empty:p,forEach:function(t){for(var e in this._)t.call(this,i(e),this._[e])}}),ua.nest=function(){function h(n,t,i){if(i>=g.length)return d?d.call(p,t):f?t.sort(f):t;for(var e,r,o,a,s=-1,u=t.length,l=g[i++],c=new m;++s<u;)(a=c.get(e=l(r=t[s])))?a.push(r):c.set(e,[r]);return n?(r=n(),o=function(t,e){r.set(t,h(n,e,i))}):(r={},o=function(t,e){r[t]=h(n,e,i)}),c.forEach(o),r}function o(t,n){if(n>=g.length)return t;var i=[],r=e[n++];return t.forEach(function(t,e){i.push({key:t,values:o(e,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var f,d,p={},g=[],e=[];return p.map=function(t,e){return h(e,t,0)},p.entries=function(t){return o(h(ua.map,t,0),0)},p.key=function(t){return g.push(t),p},p.sortKeys=function(t){return e[g.length-1]=t,p},p.sortValues=function(t){return f=t,p},p.rollup=function(t){return d=t,p},p},ua.set=function(t){var e=new g;if(t)for(var n=0,i=t.length;n<i;++n)e.add(t[n]);return e},e(g,{has:r,add:function(t){return this._[n(t+="")]=!0,t},remove:o,values:f,size:d,empty:p,forEach:function(t){for(var e in this._)t.call(this,i(e))}}),ua.behavior={},ua.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=v(t,e,e[n]);return t};var _a=["webkit","ms","moz","Moz","o","O"];ua.dispatch=function(){for(var t=new x,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=_(t);return t},x.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(0<=n&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},ua.event=null,ua.requote=function(t){return t.replace(wa,"\\$&")};var wa=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Sa={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Ta=function(t,e){return e.querySelector(t)},Ca=function(t,e){return e.querySelectorAll(t)},ka=function(t,e){var n=t.matches||t[y(t,"matchesSelector")];return(ka=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Ta=function(t,e){return Sizzle(t,e)[0]||null},Ca=Sizzle,ka=Sizzle.matchesSelector),ua.selection=function(){return ua.select(ha.documentElement)};var Ma=ua.selection.prototype=[];Ma.select=function(t){var e,n,i,r,o=[];t=T(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(i=this[a]).parentNode;for(var u=-1,l=i.length;++u<l;)(r=i[u])?(e.push(n=t.call(r,r.__data__,u,a)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return S(o)},Ma.selectAll=function(t){var e,n,i=[];t=C(t);for(var r=-1,o=this.length;++r<o;)for(var a=this[r],s=-1,u=a.length;++s<u;)(n=a[s])&&(i.push(e=ca(t.call(n,n.__data__,s,r))),e.parentNode=n);return S(i)};var Aa="http://www.w3.org/1999/xhtml",Ea={svg:"http://www.w3.org/2000/svg",xhtml:Aa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ua.ns={prefix:Ea,qualify:function(t){var e=t.indexOf(":"),n=t;return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Ea.hasOwnProperty(n)?{space:Ea[n],local:t}:t}},Ma.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=ua.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(k(e,t[e]));return this}return this.each(k(t,e))},Ma.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=E(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!A(t[r]).test(e))return!1;return!0}for(e in t)this.each(L(e,t[e]));return this}return this.each(L(t,e))},Ma.style=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=""),t)this.each(N(n,t[n],e));return this}if(i<2){var r=this.node();return R(r).getComputedStyle(r,null).getPropertyValue(t)}n=""}return this.each(N(t,e,n))},Ma.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(D(e,t[e]));return this}return this.each(D(t,e))},Ma.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Ma.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Ma.append=function(t){return t=z(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Ma.insert=function(t,e){return t=z(t),e=T(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Ma.remove=function(){return this.each(V)},Ma.data=function(t,p){function e(t,e){var n,i,r,o=t.length,a=e.length,s=Math.min(o,a),u=new Array(a),l=new Array(a),c=new Array(o);if(p){var h,f=new m,d=new Array(o);for(n=-1;++n<o;)(i=t[n])&&(f.has(h=p.call(i,i.__data__,n))?c[n]=i:f.set(h,i),d[n]=h);for(n=-1;++n<a;)(i=f.get(h=p.call(e,r=e[n],n)))?!0!==i&&((u[n]=i).__data__=r):l[n]=j(r),f.set(h,!0);for(n=-1;++n<o;)n in d&&!0!==f.get(d[n])&&(c[n]=t[n])}else{for(n=-1;++n<s;)i=t[n],r=e[n],i?(i.__data__=r,u[n]=i):l[n]=j(r);for(;n<a;++n)l[n]=j(e[n]);for(;n<o;++n)c[n]=t[n]}l.update=u,l.parentNode=u.parentNode=c.parentNode=t.parentNode,g.push(l),v.push(u),y.push(c)}var n,i,r=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(n=this[0]).length);++r<o;)(i=n[r])&&(t[r]=i.__data__);return t}var g=q([]),v=S([]),y=S([]);if("function"==typeof t)for(;++r<o;)e(n=this[r],t.call(n,n.parentNode.__data__,r));else for(;++r<o;)e(n=this[r],t);return v.enter=function(){return g},v.exit=function(){return y},v},Ma.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Ma.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=G(t));for(var o=0,a=this.length;o<a;o++){r.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;s<u;s++)(i=n[s])&&t.call(i,i.__data__,s,o)&&e.push(i)}return S(r)},Ma.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,o=i[r];0<=--r;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Ma.sort=function(t){t=H.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Ma.each=function(i){return $(this,function(t,e,n){i.call(t,t.__data__,e,n)})},Ma.call=function(t){var e=ca(arguments);return t.apply(e[0]=this,e),this},Ma.empty=function(){return!this.node()},Ma.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],i=0,r=n.length;i<r;i++){var o=n[i];if(o)return o}return null},Ma.size=function(){var t=0;return $(this,function(){++t}),t};var La=[];ua.selection.enter=q,(ua.selection.enter.prototype=La).append=Ma.append,La.empty=Ma.empty,La.node=Ma.node,La.call=Ma.call,La.size=Ma.size,La.select=function(t){for(var e,n,i,r,o,a=[],s=-1,u=this.length;++s<u;){i=(r=this[s]).update,a.push(e=[]),e.parentNode=r.parentNode;for(var l=-1,c=r.length;++l<c;)(o=r[l])?(e.push(i[l]=n=t.call(r.parentNode,o.__data__,l,s)),n.__data__=o.__data__):e.push(null)}return S(a)},La.insert=function(t,e){return arguments.length<2&&(e=B(this)),Ma.insert.call(this,t,e)},ua.select=function(t){var e;return"string"==typeof t?(e=[Ta(t,ha)]).parentNode=ha.documentElement:(e=[t]).parentNode=s(t),S([e])},ua.selectAll=function(t){var e;return"string"==typeof t?(e=ca(Ca(t,ha))).parentNode=ha.documentElement:(e=ca(t)).parentNode=null,S([e])},Ma.on=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=!1),t)this.each(U(n,t[n],e));return this}if(i<2)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(U(t,e,n))};var Pa=ua.map({mouseenter:"mouseover",mouseleave:"mouseout"});ha&&Pa.forEach(function(t){"on"+t in ha&&Pa.remove(t)});var Na,Da=0;ua.mouse=function(t){return Q(t,w())};var Ra=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ua.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=w().changedTouches),e)for(var i,r=0,o=e.length;r<o;++r)if((i=e[r]).identifier===n)return Q(t,i)},ua.behavior.drag=function(){function e(){this.on("mousedown.drag",n).on("touchstart.drag",i)}function t(d,p,g,v,y){return function(){function t(){var t,e,n=p(o,u);n&&(t=n[0]-f[0],e=n[1]-f[1],s|=t|e,a({type:"drag",x:(f=n)[0]+i[0],y:n[1]+i[1],dx:t,dy:e}))}function e(){p(o,u)&&(c.on(v+l,null).on(y+l,null),h(s),a({type:"dragend"}))}var i,n=this,r=ua.event.target.correspondingElement||ua.event.target,o=n.parentNode,a=m.of(n,arguments),s=0,u=d(),l=".drag"+(null==u?"":"-"+u),c=ua.select(g(r)).on(v+l,t).on(y+l,e),h=W(r),f=p(o,u);x?i=[(i=x.apply(n,arguments)).x-f[0],i.y-f[1]]:i=[0,0],a({type:"dragstart"})}}var m=F(e,"drag","dragstart","dragend"),x=null,n=t(b,ua.mouse,R,"mousemove","mouseup"),i=t(Z,ua.touch,O,"touchmove","touchend");return e.origin=function(t){return arguments.length?(x=t,e):x},ua.rebind(e,m,"on")},ua.touches=function(n,t){return arguments.length<2&&(t=w().touches),t?ca(t).map(function(t){var e=Q(n,t);return e.identifier=t.identifier,e}):[]};var Oa=1e-6,Ia=Oa*Oa,Fa=Math.PI,za=2*Fa,Va=za-Oa,ja=Fa/2,Ga=Fa/180,Ha=180/Fa,$a=Math.SQRT2,qa=2,Ba=4;ua.interpolateZoom=function(t,e){var n,r,o=t[0],a=t[1],s=t[2],i=e[0],u=e[1],l=e[2],c=i-o,h=u-a,f=c*c+h*h;if(f<Ia)r=Math.log(l/s)/$a,n=function(t){return[o+t*c,a+t*h,s*Math.exp($a*t*r)]};else{var d=Math.sqrt(f),p=(l*l-s*s+Ba*f)/(2*s*qa*d),g=(l*l-s*s-Ba*f)/(2*l*qa*d),v=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(g*g+1)-g);r=(y-v)/$a,n=function(t){var e=t*r,n=it(v),i=s/(qa*d)*(n*rt($a*e+v)-nt(v));return[o+i*c,a+i*h,s*n/it($a*e+v)]}}return n.duration=1e3*r,n},ua.behavior.zoom=function(){function r(t){t.on(E,s).on(Xa+".zoom",i).on("dblclick.zoom",o).on(N,k)}function u(t){return[(t[0]-A.x)/A.k,(t[1]-A.y)/A.k]}function n(t){return[t[0]*A.k+A.x,t[1]*A.k+A.y]}function b(t){A.k=Math.max(y[0],Math.min(y[1],t))}function _(t,e){e=n(e),A.x+=t[0]-e[0],A.y+=t[1]-e[1]}function w(t,e,n,i){t.__chart__={x:A.x,y:A.y,k:A.k},b(Math.pow(2,i)),_(l=e,n),t=ua.select(t),0<m&&(t=t.transition().duration(m)),t.call(r.event)}function e(){d&&d.domain(f.range().map(function(t){return(t-A.x)/A.k}).map(f.invert)),g&&g.domain(p.range().map(function(t){return(t-A.y)/A.k}).map(p.invert))}function S(t){x++||t({type:"zoomstart"})}function T(t){e(),t({type:"zoom",scale:A.k,translate:[A.x,A.y]})}function C(t){--x||(t({type:"zoomend"}),l=null)}function s(){function t(){r=1,_(ua.mouse(n),a),T(i)}function e(){o.on(L,null).on(P,null),s(r),C(i)}var n=this,i=D.of(n,arguments),r=0,o=ua.select(R(n)).on(L,t).on(P,e),a=u(ua.mouse(n)),s=W(n);ju.call(n),S(i)}function k(){function c(){var t=ua.touches(d);return l=A.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=u(t))}),t}function t(){var t=ua.event.target;ua.select(t).on(y,h).on(m,f),x.push(t);for(var e=ua.event.changedTouches,n=0,i=e.length;n<i;++n)g[e[n].identifier]=null;var r=c(),o=Date.now();if(1===r.length){if(o-M<500){var a=r[0];w(d,a,g[a.identifier],Math.floor(Math.log(A.k)/Math.LN2)+1),I()}M=o}else if(1<r.length){a=r[0];var s=r[1],u=a[0]-s[0],l=a[1]-s[1];v=u*u+l*l}}function h(){var t,e,n,i,r=ua.touches(d);ju.call(d);for(var o=0,a=r.length;o<a;++o,i=null)if(n=r[o],i=g[n.identifier]){if(e)break;t=n,e=i}if(i){var s=(s=n[0]-t[0])*s+(s=n[1]-t[1])*s,u=v&&Math.sqrt(s/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],b(u*l)}M=null,_(t,e),T(p)}function f(){if(ua.event.touches.length){for(var t=ua.event.changedTouches,e=0,n=t.length;e<n;++e)delete g[t[e].identifier];for(var i in g)return void c()}ua.selectAll(x).on(r,null),o.on(E,s).on(N,k),a(),C(p)}var l,d=this,p=D.of(d,arguments),g={},v=0,r=".zoom-"+ua.event.changedTouches[0].identifier,y="touchmove"+r,m="touchend"+r,x=[],o=ua.select(d),a=W(d);t(),S(p),o.on(E,null).on(N,t)}function i(){var t=D.of(this,arguments);h?clearTimeout(h):(ju.call(this),a=u(l=c||ua.mouse(this)),S(t)),h=setTimeout(function(){h=null,C(t)},50),I(),b(Math.pow(2,.002*Ua())*A.k),_(l,a),T(t)}function o(){var t=ua.mouse(this),e=Math.log(A.k)/Math.LN2;w(this,t,u(t),ua.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var a,l,c,h,M,f,d,p,g,A={x:0,y:0,k:1},v=[960,500],y=Ya,m=250,x=0,E="mousedown.zoom",L="mousemove.zoom",P="mouseup.zoom",N="touchstart.zoom",D=F(r,"zoomstart","zoom","zoomend");return Xa||(Xa="onwheel"in ha?(Ua=function(){return-ua.event.deltaY*(ua.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ha?(Ua=function(){return ua.event.wheelDelta},"mousewheel"):(Ua=function(){return-ua.event.detail},"MozMousePixelScroll")),r.event=function(t){t.each(function(){var s=D.of(this,arguments),e=A;zu?ua.select(this).transition().each("start.zoom",function(){A=this.__chart__||{x:0,y:0,k:1},S(s)}).tween("zoom:zoom",function(){var i=v[0],t=v[1],r=l?l[0]:i/2,o=l?l[1]:t/2,a=ua.interpolateZoom([(r-A.x)/A.k,(o-A.y)/A.k,i/A.k],[(r-e.x)/e.k,(o-e.y)/e.k,i/e.k])
;return function(t){var e=a(t),n=i/e[2];this.__chart__=A={x:r-e[0]*n,y:o-e[1]*n,k:n},T(s)}}).each("interrupt.zoom",function(){C(s)}).each("end.zoom",function(){C(s)}):(this.__chart__=A,S(s),T(s),C(s))})},r.translate=function(t){return arguments.length?(A={x:+t[0],y:+t[1],k:A.k},e(),r):[A.x,A.y]},r.scale=function(t){return arguments.length?(A={x:A.x,y:A.y,k:null},b(+t),e(),r):A.k},r.scaleExtent=function(t){return arguments.length?(y=null==t?Ya:[+t[0],+t[1]],r):y},r.center=function(t){return arguments.length?(c=t&&[+t[0],+t[1]],r):c},r.size=function(t){return arguments.length?(v=t&&[+t[0],+t[1]],r):v},r.duration=function(t){return arguments.length?(m=+t,r):m},r.x=function(t){return arguments.length?(f=(d=t).copy(),A={x:0,y:0,k:1},r):d},r.y=function(t){return arguments.length?(p=(g=t).copy(),A={x:0,y:0,k:1},r):g},ua.rebind(r,D,"on")};var Ua,Xa,Ya=[0,1/0];(ua.color=at).prototype.toString=function(){return this.rgb()+""};var Wa=(ua.hsl=st).prototype=new at;Wa.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,this.l/t)},Wa.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,t*this.l)},Wa.rgb=function(){return ut(this.h,this.s,this.l)};var Qa=(ua.hcl=lt).prototype=new at;Qa.brighter=function(t){return new lt(this.h,this.c,Math.min(100,this.l+Za*(arguments.length?t:1)))},Qa.darker=function(t){return new lt(this.h,this.c,Math.max(0,this.l-Za*(arguments.length?t:1)))},Qa.rgb=function(){return ct(this.h,this.c,this.l).rgb()},ua.lab=ht;var Za=18,Ka=.95047,Ja=1,ts=1.08883,es=ht.prototype=new at;es.brighter=function(t){return new ht(Math.min(100,this.l+Za*(arguments.length?t:1)),this.a,this.b)},es.darker=function(t){return new ht(Math.max(0,this.l-Za*(arguments.length?t:1)),this.a,this.b)},es.rgb=function(){return ft(this.l,this.a,this.b)};var ns=(ua.rgb=yt).prototype=new at;ns.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&e<r&&(e=r),n&&n<r&&(n=r),i&&i<r&&(i=r),new yt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new yt(r,r,r)},ns.darker=function(t){return new yt((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},ns.hsl=function(){return wt(this.r,this.g,this.b)},ns.toString=function(){return"#"+bt(this.r)+bt(this.g)+bt(this.b)};var is=ua.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});is.forEach(function(t,e){is.set(t,mt(e))}),ua.functor=kt,ua.xhr=Mt(O),ua.dsv=function(r,o){function a(t,e,n){arguments.length<3&&(n=e,e=null);var i=At(t,o,null==e?s:u(e),n);return i.row=function(t){return arguments.length?i.response(null==(e=t)?s:u(t)):e},i}function s(t){return a.parse(t.responseText)}function u(e){return function(t){return a.parse(t.responseText,e)}}function e(t){return t.map(l).join(r)}function l(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var n=new RegExp('["'+r+"\n]"),f=r.charCodeAt(0);return a.parse=function(t,i){var r;return a.parseRows(t,function(t,e){if(r)return r(t,e-1);var n=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=i?function(t,e){return i(n(t),e)}:n})},a.parseRows=function(r,t){function e(){if(u<=l)return s;if(o)return o=!1,a;var t=l;if(34===r.charCodeAt(t)){for(var e=t;e++<u;)if(34===r.charCodeAt(e)){if(34!==r.charCodeAt(e+1))break;++e}return l=e+2,13===(n=r.charCodeAt(e+1))?(o=!0,10===r.charCodeAt(e+2)&&++l):10===n&&(o=!0),r.slice(t+1,e).replace(/""/g,'"')}for(;l<u;){var n,i=1;if(10===(n=r.charCodeAt(l++)))o=!0;else if(13===n)o=!0,10===r.charCodeAt(l)&&(++l,++i);else if(n!==f)continue;return r.slice(t,l-i)}return r.slice(t)}for(var n,o,a={},s={},i=[],u=r.length,l=0,c=0;(n=e())!==s;){for(var h=[];n!==a&&n!==s;)h.push(n),n=e();t&&null==(h=t(h,c++))||i.push(h)}return i},a.format=function(t){if(Array.isArray(t[0]))return a.formatRows(t);var n=new g,i=[];return t.forEach(function(t){for(var e in t)n.has(e)||i.push(n.add(e))}),[i.map(l).join(r)].concat(t.map(function(e){return i.map(function(t){return l(e[t])}).join(r)})).join("\n")},a.formatRows=function(t){return t.map(e).join("\n")},a},ua.csv=ua.dsv(",","text/csv"),ua.tsv=ua.dsv("\t","text/tab-separated-values");var rs,os,as,ss,us=this[y(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};ua.timer=function(){Pt.apply(this,arguments)},ua.timer.flush=function(){Dt(),Rt()},ua.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ls=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(It);ua.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=ua.round(t,Ot(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ls[8+n/3]};var cs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,hs=ua.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=ua.round(t,Ot(t,e))).toFixed(Math.max(0,Math.min(20,Ot(t*(1+1e-15),e))))}}),fs=ua.time={},ds=Date;Vt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ps.setUTCDate.apply(this._,arguments)},setDay:function(){ps.setUTCDay.apply(this._,arguments)},setFullYear:function(){ps.setUTCFullYear.apply(this._,arguments)},setHours:function(){ps.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ps.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ps.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ps.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ps.setUTCSeconds.apply(this._,arguments)},setTime:function(){ps.setTime.apply(this._,arguments)}};var ps=Date.prototype;fs.year=jt(function(t){return(t=fs.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),fs.years=fs.year.range,fs.years.utc=fs.year.utc.range,fs.day=jt(function(t){var e=new ds(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),fs.days=fs.day.range,fs.days.utc=fs.day.utc.range,fs.dayOfYear=function(t){var e=fs.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,n){n=7-n;var e=fs[t]=jt(function(t){return(t=fs.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var e=fs.year(t).getDay();return Math.floor((fs.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});fs[t+"s"]=e.range,fs[t+"s"].utc=e.utc.range,fs[t+"OfYear"]=function(t){var e=fs.year(t).getDay();return Math.floor((fs.dayOfYear(t)+(e+n)%7)/7)}}),fs.week=fs.sunday,fs.weeks=fs.sunday.range,fs.weeks.utc=fs.sunday.utc.range,fs.weekOfYear=fs.sundayOfYear;var gs={"-":"",_:" ",0:"0"},vs=/^\s*\d+/,ys=/^%/;ua.locale=function(t){return{numberFormat:Ft(t),timeFormat:Ht(t)}};var ms=ua.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ua.format=ms.numberFormat,ua.geo={},le.prototype={s:0,t:0,add:function(t){ce(t,this.t,xs),ce(xs.s,this.s,this),this.s?this.t+=xs.t:this.s=xs.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var xs=new le;ua.geo.stream=function(t,e){t&&bs.hasOwnProperty(t.type)?bs[t.type](t,e):he(t,e)};var bs={Feature:function(t,e){he(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)he(n[i].geometry,e)}},_s={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){fe(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)fe(n[i],e,0)},Polygon:function(t,e){de(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)de(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)he(n[i],e)}};ua.geo.area=function(t){return ws=0,ua.geo.stream(t,Ts),ws};var ws,Ss=new le,Ts={sphere:function(){ws+=4*Fa},point:b,lineStart:b,lineEnd:b,polygonStart:function(){Ss.reset(),Ts.lineStart=pe},polygonEnd:function(){var t=2*Ss;ws+=t<0?4*Fa+t:t,Ts.lineStart=Ts.lineEnd=Ts.point=b}};ua.geo.bounds=function(){function c(t,e){x.push(b=[f=t,p=t]),e<d&&(d=e),g<e&&(g=e)}function i(t,e){var n=ge([t*Ga,e*Ga]);if(y){var i=ye(y,n),r=ye([i[1],-i[0],0],i);be(r),r=_e(r);var o=t-v,a=0<o?1:-1,s=r[0]*Ha*a,u=180<ma(o);if(u^(a*v<s&&s<a*t)){var l=r[1]*Ha;g<l&&(g=l)}else if(u^(a*v<(s=(s+360)%360-180)&&s<a*t)){(l=-r[1]*Ha)<d&&(d=l)}else e<d&&(d=e),g<e&&(g=e);u?t<v?h(f,t)>h(f,p)&&(p=t):h(t,p)>h(f,p)&&(f=t):f<=p?(t<f&&(f=t),p<t&&(p=t)):v<t?h(f,t)>h(f,p)&&(p=t):h(t,p)>h(f,p)&&(f=t)}else c(t,e);y=n,v=t}function t(){_.point=i}function e(){b[0]=f,b[1]=p,_.point=c,y=null}function n(t,e){if(y){var n=t-v;m+=180<ma(n)?n+(0<n?360:-360):n}else a=t,s=e;Ts.point(t,e),i(t,e)}function r(){Ts.lineStart()}function o(){n(a,s),Ts.lineEnd(),ma(m)>Oa&&(f=-(p=180)),b[0]=f,b[1]=p,y=null}function h(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function l(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var f,d,p,g,v,a,s,y,m,x,b,_={point:c,lineStart:t,lineEnd:e,polygonStart:function(){_.point=n,_.lineStart=r,_.lineEnd=o,m=0,Ts.polygonStart()},polygonEnd:function(){Ts.polygonEnd(),_.point=c,_.lineStart=t,_.lineEnd=e,Ss<0?(f=-(p=180),d=-(g=90)):Oa<m?g=90:m<-Oa&&(d=-90),b[0]=f,b[1]=p}};return function(t){if(g=p=-(f=d=1/0),x=[],ua.geo.stream(t,_),o=x.length){x.sort(u);for(var e=1,n=[s=x[0]];e<o;++e)l((r=x[e])[0],s)||l(r[1],s)?(h(s[0],r[1])>h(s[0],s[1])&&(s[1]=r[1]),h(r[0],s[1])>h(s[0],s[1])&&(s[0]=r[0])):n.push(s=r);for(var i,r,o,a=-1/0,s=(e=0,n[o=n.length-1]);e<=o;s=r,++e)r=n[e],(i=h(s[1],r[0]))>a&&(a=i,f=r[0],p=s[1])}return x=b=null,f===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[f,d],[p,g]]}}(),ua.geo.centroid=function(t){Cs=ks=Ms=As=Es=Ls=Ps=Ns=Ds=Rs=Os=0,ua.geo.stream(t,Is);var e=Ds,n=Rs,i=Os,r=e*e+n*n+i*i;return r<Ia&&(e=Ls,n=Ps,i=Ns,ks<Oa&&(e=Ms,n=As,i=Es),(r=e*e+n*n+i*i)<Ia)?[NaN,NaN]:[Math.atan2(n,e)*Ha,et(i/Math.sqrt(r))*Ha]};var Cs,ks,Ms,As,Es,Ls,Ps,Ns,Ds,Rs,Os,Is={sphere:b,point:Se,lineStart:Ce,lineEnd:ke,polygonStart:function(){Is.lineStart=Me},polygonEnd:function(){Is.lineStart=Ce}},Fs=De(Ee,Fe,Ve,[-Fa,-Fa/2]),zs=1e9;ua.geo.clipExtent=function(){var e,n,i,r,o,a,s={stream:function(t){return o&&(o.valid=!1),(o=a(t)).valid=!0,o},extent:function(t){return arguments.length?(a=$e(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),o&&(o.valid=!1,o=null),s):[[e,n],[i,r]]}};return s.extent([[0,0],[960,500]])},(ua.geo.conicEqualArea=function(){return qe(Be)}).raw=Be,ua.geo.albers=function(){return ua.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ua.geo.albersUsa=function(){function r(t){var e=t[0],n=t[1];return i=null,o(e,n),i||(a(e,n),i)||s(e,n),i}var i,o,a,s,u=ua.geo.albers(),l=ua.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=ua.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(t,e){i=[t,e]}};return r.invert=function(t){var e=u.scale(),n=u.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(.12<=r&&r<.234&&-.425<=i&&i<-.214?l:.166<=r&&r<.234&&-.214<=i&&i<-.115?c:u).invert(t)},r.stream=function(t){var n=u.stream(t),i=l.stream(t),r=c.stream(t);return{point:function(t,e){n.point(t,e),i.point(t,e),r.point(t,e)},sphere:function(){n.sphere(),i.sphere(),r.sphere()},lineStart:function(){n.lineStart(),i.lineStart(),r.lineStart()},lineEnd:function(){n.lineEnd(),i.lineEnd(),r.lineEnd()},polygonStart:function(){n.polygonStart(),i.polygonStart(),r.polygonStart()},polygonEnd:function(){n.polygonEnd(),i.polygonEnd(),r.polygonEnd()}}},r.precision=function(t){return arguments.length?(u.precision(t),l.precision(t),c.precision(t),r):u.precision()},r.scale=function(t){return arguments.length?(u.scale(t),l.scale(.35*t),c.scale(t),r.translate(u.translate())):u.scale()},r.translate=function(t){if(!arguments.length)return u.translate();var e=u.scale(),n=+t[0],i=+t[1];return o=u.translate(t).clipExtent([[n-.455*e,i-.238*e],[n+.455*e,i+.238*e]]).stream(h).point,a=l.translate([n-.307*e,i+.201*e]).clipExtent([[n-.425*e+Oa,i+.12*e+Oa],[n-.214*e-Oa,i+.234*e-Oa]]).stream(h).point,s=c.translate([n-.205*e,i+.212*e]).clipExtent([[n-.214*e+Oa,i+.166*e+Oa],[n-.115*e-Oa,i+.234*e-Oa]]).stream(h).point,r},r.scale(1070)};var Vs,js,Gs,Hs,$s,qs,Bs={point:b,lineStart:b,lineEnd:b,polygonStart:function(){js=0,Bs.lineStart=Ue},polygonEnd:function(){Bs.lineStart=Bs.lineEnd=Bs.point=b,Vs+=ma(js/2)}},Us={point:Xe,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},Xs={point:Qe,lineStart:Ze,lineEnd:Ke,polygonStart:function(){Xs.lineStart=Je},polygonEnd:function(){Xs.point=Qe,Xs.lineStart=Ze,Xs.lineEnd=Ke}};ua.geo.path=function(){function e(t){return t&&("function"==typeof u&&a.pointRadius(+u.apply(this,arguments)),s&&s.valid||(s=o(a)),ua.geo.stream(t,s)),a.result()}function n(){return s=null,e}var i,r,o,a,s,u=4.5;return e.area=function(t){return Vs=0,ua.geo.stream(t,o(Bs)),Vs},e.centroid=function(t){return Ms=As=Es=Ls=Ps=Ns=Ds=Rs=Os=0,ua.geo.stream(t,o(Xs)),Os?[Ds/Os,Rs/Os]:Ns?[Ls/Ns,Ps/Ns]:Es?[Ms/Es,As/Es]:[NaN,NaN]},e.bounds=function(t){return $s=qs=-(Gs=Hs=1/0),ua.geo.stream(t,o(Us)),[[Gs,Hs],[$s,qs]]},e.projection=function(t){return arguments.length?(o=(i=t)?t.stream||nn(t):O,n()):i},e.context=function(t){return arguments.length?(a=null==(r=t)?new Ye:new tn(t),"function"!=typeof u&&a.pointRadius(u),n()):r},e.pointRadius=function(t){return arguments.length?(u="function"==typeof t?t:(a.pointRadius(+t),+t),e):u},e.projection(ua.geo.albersUsa()).context(null)},ua.geo.transform=function(i){return{stream:function(t){var e=new rn(t);for(var n in i)e[n]=i[n];return e}}},rn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ua.geo.projection=an,ua.geo.projectionMutator=sn,(ua.geo.equirectangular=function(){return an(ln)}).raw=ln.invert=ln,ua.geo.rotation=function(e){function t(t){return(t=e(t[0]*Ga,t[1]*Ga))[0]*=Ha,t[1]*=Ha,t}return e=hn(e[0]%360*Ga,e[1]*Ga,2<e.length?e[2]*Ga:0),t.invert=function(t){return(t=e.invert(t[0]*Ga,t[1]*Ga))[0]*=Ha,t[1]*=Ha,t},t},cn.invert=ln,ua.geo.circle=function(){function e(){var t="function"==typeof o?o.apply(this,arguments):o,n=hn(-t[0]*Ga,-t[1]*Ga,0).invert,i=[];return r(null,null,1,{point:function(t,e){i.push(t=n(t,e)),t[0]*=Ha,t[1]*=Ha}}),{type:"Polygon",coordinates:[i]}}var n,r,o=[0,0],i=6;return e.origin=function(t){return arguments.length?(o=t,e):o},e.angle=function(t){return arguments.length?(r=gn((n=+t)*Ga,i*Ga),e):n},e.precision=function(t){return arguments.length?(r=gn(n*Ga,(i=+t)*Ga),e):i},e.angle(90)},ua.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Ga,r=t[1]*Ga,o=e[1]*Ga,a=Math.sin(i),s=Math.cos(i),u=Math.sin(r),l=Math.cos(r),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*a)*n+(n=l*c-u*h*s)*n),u*c+l*h*s)},ua.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return ua.range(Math.ceil(o/v)*v,r,v).map(f).concat(ua.range(Math.ceil(l/y)*y,u,y).map(d)).concat(ua.range(Math.ceil(i/p)*p,n,p).filter(function(t){return ma(t%v)>Oa}).map(c)).concat(ua.range(Math.ceil(s/g)*g,a,g).filter(function(t){return ma(t%y)>Oa}).map(h))}var n,i,r,o,a,s,u,l,c,h,f,d,p=10,g=p,v=90,y=360,m=2.5;return e.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},e.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(d(u).slice(1),f(r).reverse().slice(1),d(l).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(o=+t[0][0],r=+t[1][0],l=+t[0][1],u=+t[1][1],r<o&&(t=o,o=r,r=t),u<l&&(t=l,l=u,u=t),e.precision(m)):[[o,l],[r,u]]},e.minorExtent=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],n<i&&(t=i,i=n,n=t),a<s&&(t=s,s=a,a=t),e.precision(m)):[[i,s],[n,a]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(v=+t[0],y=+t[1],e):[v,y]},e.minorStep=function(t){return arguments.length?(p=+t[0],g=+t[1],e):[p,g]},e.precision=function(t){return arguments.length?(m=+t,c=yn(s,a,90),h=mn(i,n,m),f=yn(l,u,90),d=mn(o,r,m),e):m},e.majorExtent([[-180,-90+Oa],[180,90-Oa]]).minorExtent([[-180,-80-Oa],[180,80+Oa]])},ua.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[n||r.apply(this,arguments),i||o.apply(this,arguments)]}}var n,i,r=xn,o=bn;return e.distance=function(){return ua.geo.distance(n||r.apply(this,arguments),i||o.apply(this,arguments))},e.source=function(t){return arguments.length?(n="function"==typeof(r=t)?null:t,e):r},e.target=function(t){return arguments.length?(i="function"==typeof(o=t)?null:t,e):o},e.precision=function(){return arguments.length?e:0},e},ua.geo.interpolate=function(t,e){return _n(t[0]*Ga,t[1]*Ga,e[0]*Ga,e[1]*Ga)},ua.geo.length=function(t){return Ys=0,ua.geo.stream(t,Ws),Ys};var Ys,Ws={sphere:b,point:b,lineStart:wn,lineEnd:b,polygonStart:b,polygonEnd:b},Qs=Sn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ua.geo.azimuthalEqualArea=function(){return an(Qs)}).raw=Qs;var Zs=Sn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},O);(ua.geo.azimuthalEquidistant=function(){return an(Zs)}).raw=Zs,(ua.geo.conicConformal=function(){return qe(Tn)}).raw=Tn,(ua.geo.conicEquidistant=function(){return qe(Cn)}).raw=Cn;var Ks=Sn(function(t){return 1/t},Math.atan);(ua.geo.gnomonic=function(){return an(Ks)}).raw=Ks,kn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-ja]},(ua.geo.mercator=function(){return Mn(kn)}).raw=kn;var Js=Sn(function(){return 1},Math.asin);(ua.geo.orthographic=function(){return an(Js)}).raw=Js;var tu=Sn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ua.geo.stereographic=function(){return an(tu)}).raw=tu,An.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-ja]},(ua.geo.transverseMercator=function(){var t=Mn(An),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=An,ua.geom={},ua.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,n=kt(f),i=kt(d),r=t.length,o=[],a=[];for(e=0;e<r;e++)o.push([+n.call(this,t[e],e),+i.call(this,t[e],e),e]);for(o.sort(Nn),e=0;e<r;e++)a.push([o[e][0],-o[e][1]]);var s=Pn(o),u=Pn(a),l=u[0]===s[0],c=u[u.length-1]===s[s.length-1],h=[];for(e=s.length-1;0<=e;--e)h.push(t[o[s[e]][2]]);for(e=+l;e<u.length-c;++e)h.push(t[o[u[e]][2]]);return h}var f=En,d=Ln;return arguments.length?e(t):(e.x=function(t){return arguments.length?(f=t,e):f},e.y=function(t){return arguments.length?(d=t,e):d},e)},ua.geom.polygon=function(t){return Sa(t,eu),t};var eu=ua.geom.polygon.prototype=[];eu.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},eu.centroid=function(t){var e,n,i=-1,r=this.length,o=0,a=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},eu.clip=function(t){for(var e,n,i,r,o,a,s=On(t),u=-1,l=this.length-On(this),c=this[l-1];++u<l;){for(e=t.slice(),t.length=0,r=this[u],o=e[(i=e.length-s)-1],n=-1;++n<i;)Dn(a=e[n],c,r)?(Dn(o,c,r)||t.push(Rn(o,a,c,r)),t.push(a)):Dn(o,c,r)&&t.push(Rn(o,a,c,r)),o=a;s&&t.push(t[0]),c=r}return t};var nu,iu,ru,ou,au,su=[],uu=[];$n.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Bn),e.length},ei.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ni.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ai(this._),e.P=null,(e.N=t).P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(ri(this,n),n=(t=n).U),n.C=!1,i.C=!0,oi(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(oi(this,n),n=(t=n).U),n.C=!1,i.C=!0,ri(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?ai(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,((n.L=o).U=n)!==a?(r=n.U,n.U=t.U,t=n.R,r.L=t,(n.R=a).U=n):(n.U=r,t=(r=n).R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,ri(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,oi(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,ri(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,oi(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ri(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,oi(this,r),t=this._;break}e.C=!0,r=(t=r).U}while(!t.C);t&&(t.C=!1)}}},ua.geom.voronoi=function(t){function e(r){var o=new Array(r.length),a=c[0][0],s=c[0][1],u=c[1][0],l=c[1][1];return si(n(r),c).cells.forEach(function(t,e){var n=t.edges,i=t.site;(o[e]=n.length?n.map(function(t){var e=t.start();return[e.x,e.y]}):i.x>=a&&i.x<=u&&i.y>=s&&i.y<=l?[[a,l],[u,l],[u,s],[a,s]]:[]).point=r[e]}),o}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Oa)*Oa,y:Math.round(a(t,e)/Oa)*Oa,i:e}})}var i=En,r=Ln,o=i,a=r,c=lu;return t?e(t):(e.links=function(e){return si(n(e)).edges.filter(function(t){return t.l&&t.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},e.triangles=function(l){var c=[];return si(n(l)).cells.forEach(function(t,e){for(var n,i=t.site,r=t.edges.sort(Bn),o=-1,a=r.length,s=r[a-1].edge,u=s.l===i?s.r:s.l;++o<a;)s,n=u,u=(s=r[o].edge).l===i?s.r:s.l,e<n.i&&e<u.i&&li(i,n,u)<0&&c.push([l[e],l[n.i],l[u.i]])}),c},e.x=function(t){return arguments.length?(o=kt(i=t),e):i},e.y=function(t){return arguments.length?(a=kt(r=t),e):r},e.clipExtent=function(t){return arguments.length?(c=null==t?lu:t,e):c===lu?null:c},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):c===lu?null:c&&c[1]},e)};var lu=[[-1e6,-1e6],[1e6,1e6]];ua.geom.delaunay=function(t){return ua.geom.voronoi().triangles(t)},ua.geom.quadtree=function(t,x,b,_,w){function e(t){function d(t,e,n,i,r,o,a,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var u=t.x,l=t.y;if(null!=u)if(ma(u-n)+ma(l-i)<.01)h(t,e,n,i,r,o,a,s);else{var c=t.point;t.x=t.y=t.point=null,h(t,c,u,l,r,o,a,s),h(t,e,n,i,r,o,a,s)}else t.x=n,t.y=i,t.point=e}else h(t,e,n,i,r,o,a,s)}function h(t,e,n,i,r,o,a,s){var u=.5*(r+a),l=.5*(o+s),c=u<=n,h=l<=i,f=h<<1|c;t.leaf=!1,c?r=u:a=u,h?o=l:s=l,d(t=t.nodes[f]||(t.nodes[f]=fi()),e,n,i,r,o,a,s)}var e,n,i,r,o,a,s,u,l,c=kt(T),f=kt(C);if(null!=x)a=x,s=b,u=_,l=w;else if(u=l=-(a=s=1/0),n=[],i=[],o=t.length,S)for(r=0;r<o;++r)(e=t[r]).x<a&&(a=e.x),e.y<s&&(s=e.y),e.x>u&&(u=e.x),e.y>l&&(l=e.y),n.push(e.x),i.push(e.y);else for(r=0;r<o;++r){var p=+c(e=t[r],r),g=+f(e,r);p<a&&(a=p),g<s&&(s=g),u<p&&(u=p),l<g&&(l=g),n.push(p),i.push(g)}var v=u-a,y=l-s;y<v?l=s+v:u=a+y;var m=fi();if(m.add=function(t){d(m,t,+c(t,++r),+f(t,r),a,s,u,l)},m.visit=function(t){di(t,m,a,s,u,l)},m.find=function(t){return pi(m,t[0],t[1],a,s,u,l)},r=-1,null==x){for(;++r<o;)d(m,t[r],n[r],i[r],a,s,u,l);--r}else t.forEach(m.add);return n=i=t=e=null,m}var S,T=En,C=Ln;return(S=arguments.length)?(T=ci,C=hi,3===S&&(w=b,_=x,b=x=0),e(t)):(e.x=function(t){return arguments.length?(T=t,e):T},e.y=function(t){return arguments.length?(C=t,e):C},e.extent=function(t){return arguments.length?(null==t?x=b=_=w=null:(x=+t[0][0],b=+t[0][1],_=+t[1][0],w=+t[1][1]),e):null==x?null:[[x,b],[_,w]]},e.size=function(t){return arguments.length?(null==t?x=b=_=w=null:(x=b=0,_=+t[0],w=+t[1]),e):null==x?null:[_-x,w-b]},e)},ua.interpolateRgb=gi,ua.interpolateObject=vi,ua.interpolateNumber=yi,ua.interpolateString=mi;var cu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hu=new RegExp(cu.source,"g");ua.interpolate=xi,ua.interpolators=[function(t,e){var n=typeof e;return("string"===n?is.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?gi:mi:e instanceof at?gi:Array.isArray(e)?bi:"object"===n&&isNaN(e)?vi:yi)(t,e)}],ua.interpolateArray=bi;var fu=function(){return O},du=ua.map({linear:fu,poly:Mi,quad:function(){return Ti},cubic:function(){return Ci},sin:function(){return Ai},exp:function(){return Ei},circle:function(){return Li},elastic:Pi,back:Ni,bounce:function(){return Di}}),pu=ua.map({"in":O,out:wi,"in-out":Si,"out-in":function(t){return Si(wi(t))}});ua.ease=function(t){var e=t.indexOf("-"),n=0<=e?t.slice(0,e):t,i=0<=e?t.slice(e+1):"in";return n=du.get(n)||fu,_i((i=pu.get(i)||O)(n.apply(null,la.call(arguments,1))))},ua.interpolateHcl=Ri,ua.interpolateHsl=Oi,ua.interpolateLab=Ii,ua.interpolateRound=Fi,ua.transform=function(t){var n=ha.createElementNS(ua.ns.prefix.svg,"g");return(ua.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new zi(e?e.matrix:gu)})(t)},zi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var gu={a:1,b:0,c:0,d:1,e:0,f:0};ua.interpolateTransform=Xi,ua.layout={},ua.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(Qi(t[n]));return e}},ua.layout.chord=function(){function t(){var t,e,n,i,r,o={},a=[],s=ua.range(b),u=[];for(y=[],m=[],t=0,i=-1;++i<b;){for(e=0,r=-1;++r<b;)e+=x[i][r];a.push(e),u.push(ua.range(b)),t+=e}for(_&&s.sort(function(t,e){return _(a[t],a[e])}),w&&u.forEach(function(t,n){t.sort(function(t,e){return w(x[n][t],x[n][e])})}),t=(za-T*b)/t,e=0,i=-1;++i<b;){for(n=e,r=-1;++r<b;){var l=s[i],c=u[l][r],h=x[l][c],f=e,d=e+=h*t;o[l+"-"+c]={index:l,subindex:c,startAngle:f,endAngle:d,value:h}}m[l]={index:l,startAngle:n,endAngle:e,value:a[l]},e+=T}for(i=-1;++i<b;)for(r=i-1;++r<b;){var p=o[i+"-"+r],g=o[r+"-"+i];(p.value||g.value)&&y.push(p.value<g.value?{source:g,target:p}:{source:p,target:g})}S&&v()}function v(){y.sort(function(t,e){return S((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var y,m,x,b,_,w,S,e={},T=0;return e.matrix=function(t){return arguments.length?(b=(x=t)&&x.length,y=m=null,e):x},e.padding=function(t){return arguments.length?(T=t,y=m=null,e):T},e.sortGroups=function(t){return arguments.length?(_=t,y=m=null,e):_},e.sortSubgroups=function(t){return arguments.length?(w=t,y=null,e):w},e.sortChords=function(t){return arguments.length?(S=t,y&&v(),e):S},e.chords=function(){return y||t(),y},e.groups=function(){return m||t(),m},e},ua.layout.force=function(){function h(l){return function(t,e,n,i){if(t.point!==l){var r=t.cx-l.x,o=t.cy-l.y,a=i-e,s=r*r+o*o;if(a*a/w<s){if(s<c){var u=t.charge/s;l.px-=r*u,l.py-=o*u}return!0}if(t.point&&s&&s<c){u=t.pointCharge/s;l.px-=r*u,l.py-=o*u}}return!t.charge}}function t(t){t.px=ua.event.x,t.py=ua.event.y,r.resume()}var f,e,d,p,g,v,r={},y=ua.dispatch("start","tick","end"),m=[1,1],x=.9,o=vu,a=yu,b=-30,c=mu,_=.1,w=.64,S=[],T=[];return r.tick=function(){if((d*=.99)<.005)return f=null,y.end({type:"end",alpha:d=0}),!0;var t,e,n,i,r,o,a,s,u,l=S.length,c=T.length;for(e=0;e<c;++e)i=(n=T[e]).source,(o=(s=(r=n.target).x-i.x)*s+(u=r.y-i.y)*u)&&(s*=o=d*g[e]*((o=Math.sqrt(o))-p[e])/o,u*=o,r.x-=s*(a=i.weight+r.weight?i.weight/(i.weight+r.weight):.5),r.y-=u*a,i.x+=s*(a=1-a),i.y+=u*a);if((a=d*_)&&(s=m[0]/2,u=m[1]/2,e=-1,a))for(;++e<l;)(n=S[e]).x+=(s-n.x)*a,n.y+=(u-n.y)*a;if(b)for(ir(t=ua.geom.quadtree(S),d,v),e=-1;++e<l;)(n=S[e]).fixed||t.visit(h(n));for(e=-1;++e<l;)(n=S[e]).fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*x,n.y-=(n.py-(n.py=n.y))*x);y.tick({type:"tick",alpha:d})},r.nodes=function(t){return arguments.length?(S=t,r):S},r.links=function(t){return arguments.length?(T=t,r):T},r.size=function(t){return arguments.length?(m=t,r):m},r.linkDistance=function(t){return arguments.length?(o="function"==typeof t?t:+t,r):o},r.distance=r.linkDistance,r.linkStrength=function(t){return arguments.length?(a="function"==typeof t?t:+t,r):a},r.friction=function(t){return arguments.length?(x=+t,r):x},r.charge=function(t){return arguments.length?(b="function"==typeof t?t:+t,r):b},r.chargeDistance=function(t){return arguments.length?(c=t*t,r):Math.sqrt(c)},r.gravity=function(t){return arguments.length?(_=+t,r):_},r.theta=function(t){return arguments.length?(w=t*t,r):Math.sqrt(w)},r.alpha=function(t){return arguments.length?(t=+t,d?0<t?d=t:(f.c=null,f.t=NaN,f=null,y.end({type:"end",alpha:d=0})):0<t&&(y.start({type:"start",alpha:d=t}),f=Pt(r.tick)),r):d},r.start=function(){function t(t,e){if(!u){for(u=new Array(l),o=0;o<l;++o)u[o]=[];for(o=0;o<c;++o){var n=T[o]
;u[n.source.index].push(n.target),u[n.target.index].push(n.source)}}for(var i,r=u[s],o=-1,a=r.length;++o<a;)if(!isNaN(i=r[o][t]))return i;return Math.random()*e}var s,u,e,l=S.length,c=T.length,n=m[0],i=m[1];for(s=0;s<l;++s)(e=S[s]).index=s,e.weight=0;for(s=0;s<c;++s)"number"==typeof(e=T[s]).source&&(e.source=S[e.source]),"number"==typeof e.target&&(e.target=S[e.target]),++e.source.weight,++e.target.weight;for(s=0;s<l;++s)e=S[s],isNaN(e.x)&&(e.x=t("x",n)),isNaN(e.y)&&(e.y=t("y",i)),isNaN(e.px)&&(e.px=e.x),isNaN(e.py)&&(e.py=e.y);if(p=[],"function"==typeof o)for(s=0;s<c;++s)p[s]=+o.call(this,T[s],s);else for(s=0;s<c;++s)p[s]=o;if(g=[],"function"==typeof a)for(s=0;s<c;++s)g[s]=+a.call(this,T[s],s);else for(s=0;s<c;++s)g[s]=a;if(v=[],"function"==typeof b)for(s=0;s<l;++s)v[s]=+b.call(this,S[s],s);else for(s=0;s<l;++s)v[s]=b;return r.resume()},r.resume=function(){return r.alpha(.1)},r.stop=function(){return r.alpha(0)},r.drag=function(){return e||(e=ua.behavior.drag().origin(O).on("dragstart.force",Ji).on("drag.force",t).on("dragend.force",tr)),arguments.length?void this.on("mouseover.force",er).on("mouseout.force",nr).call(e):e},ua.rebind(r,y,"on")};var vu=20,yu=1,mu=1/0;ua.layout.hierarchy=function(){function s(t){var e,n=[t],i=[];for(t.depth=0;null!=(e=n.pop());)if(i.push(e),(o=l.call(s,e,e.depth))&&(r=o.length)){for(var r,o,a;0<=--r;)n.push(a=o[r]),a.parent=e,a.depth=e.depth+1;c&&(e.value=0),e.children=o}else c&&(e.value=+c.call(s,e,e.depth)||0),delete e.children;return ar(t,function(t){var e,n;u&&(e=t.children)&&e.sort(u),c&&(n=t.parent)&&(n.value+=t.value)}),i}var u=lr,l=sr,c=ur;return s.sort=function(t){return arguments.length?(u=t,s):u},s.children=function(t){return arguments.length?(l=t,s):l},s.value=function(t){return arguments.length?(c=t,s):c},s.revalue=function(t){return c&&(or(t,function(t){t.children&&(t.value=0)}),ar(t,function(t){var e;t.children||(t.value=+c.call(s,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},s},ua.layout.partition=function(){function l(t,e,n,i){var r=t.children;if(t.x=e,t.y=t.depth*i,t.dx=n,t.dy=i,r&&(o=r.length)){var o,a,s,u=-1;for(n=t.value?n/t.value:0;++u<o;)l(a=r[u],e,s=a.value*n,i),e+=s}}function o(t){var e=t.children,n=0;if(e&&(i=e.length))for(var i,r=-1;++r<i;)n=Math.max(n,o(e[r]));return 1+n}function e(t,e){var n=i.call(this,t,e);return l(n[0],0,r[0],r[1]/o(n[0])),n}var i=ua.layout.hierarchy(),r=[1,1];return e.size=function(t){return arguments.length?(r=t,e):r},rr(e,i)},ua.layout.pie=function(){function f(n){var e,t=n.length,i=n.map(function(t,e){return+d.call(f,t,e)}),r=+("function"==typeof g?g.apply(this,arguments):g),o=("function"==typeof v?v.apply(this,arguments):v)-r,a=Math.min(Math.abs(o)/t,+("function"==typeof y?y.apply(this,arguments):y)),s=a*(o<0?-1:1),u=ua.sum(i),l=u?(o-t*s)/u:0,c=ua.range(t),h=[];return null!=p&&c.sort(p===xu?function(t,e){return i[e]-i[t]}:function(t,e){return p(n[t],n[e])}),c.forEach(function(t){h[t]={data:n[t],value:e=i[t],startAngle:r,endAngle:r+=e*l+s,padAngle:a}}),h}var d=Number,p=xu,g=0,v=za,y=0;return f.value=function(t){return arguments.length?(d=t,f):d},f.sort=function(t){return arguments.length?(p=t,f):p},f.startAngle=function(t){return arguments.length?(g=t,f):g},f.endAngle=function(t){return arguments.length?(v=t,f):v},f.padAngle=function(t){return arguments.length?(y=t,f):y},f};var xu={};ua.layout.stack=function(){function h(t,e){if(!(o=t.length))return t;var n=t.map(function(t,e){return f.call(h,t,e)}),i=n.map(function(t){return t.map(function(t,e){return[v.call(h,t,e),y.call(h,t,e)]})}),r=d.call(h,i,e);n=ua.permute(n,r),i=ua.permute(i,r);var o,a,s,u,l=p.call(h,i,e),c=n[0].length;for(s=0;s<c;++s)for(g.call(h,n[0][s],u=l[s],i[0][s][1]),a=1;a<o;++a)g.call(h,n[a][s],u+=i[a-1][s][1],i[a][s][1]);return t}var f=O,d=pr,p=gr,g=dr,v=hr,y=fr;return h.values=function(t){return arguments.length?(f=t,h):f},h.order=function(t){return arguments.length?(d="function"==typeof t?t:bu.get(t)||pr,h):d},h.offset=function(t){return arguments.length?(p="function"==typeof t?t:_u.get(t)||gr,h):p},h.x=function(t){return arguments.length?(v=t,h):v},h.y=function(t){return arguments.length?(y=t,h):y},h.out=function(t){return arguments.length?(g=t,h):g},h};var bu=ua.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(vr),o=t.map(yr),a=ua.range(i).sort(function(t,e){return r[t]-r[e]}),s=0,u=0,l=[],c=[];for(e=0;e<i;++e)n=a[e],s<u?(s+=o[n],l.push(n)):(u+=o[n],c.push(n));return c.reverse().concat(l)},reverse:function(t){return ua.range(t.length).reverse()},"default":pr}),_u=ua.map({silhouette:function(t){var e,n,i,r=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;n<o;++n){for(i=e=0;e<r;e++)i+=t[e][n][1];s<i&&(s=i),a.push(i)}for(n=0;n<o;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,i,r,o,a,s,u,l,c=t.length,h=t[0],f=h.length,d=[];for(d[0]=u=l=0,n=1;n<f;++n){for(r=e=0;e<c;++e)r+=t[e][n][1];for(o=e=0,s=h[n][0]-h[n-1][0];e<c;++e){for(i=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);i<e;++i)a+=(t[i][n][1]-t[i][n-1][1])/s;o+=a*t[e][n][1]}d[n]=u-=r?o/r*s:0,u<l&&(l=u)}for(n=0;n<f;++n)d[n]-=l;return d},expand:function(t){var e,n,i,r=t.length,o=t[0].length,a=1/r,s=[];for(n=0;n<o;++n){for(i=e=0;e<r;e++)i+=t[e][n][1];if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:gr});ua.layout.histogram=function(){function n(t,e){for(var n,i,r=[],o=t.map(f,this),a=d.call(this,o,e),s=p.call(this,a,o,e),u=(e=-1,o.length),l=s.length-1,c=h?1:1/u;++e<l;)(n=r[e]=[]).dx=s[e+1]-(n.x=s[e]),n.y=0;if(0<l)for(e=-1;++e<u;)(i=o[e])>=a[0]&&i<=a[1]&&((n=r[ua.bisect(s,i,1,l)-1]).y+=c,n.push(t[e]));return r}var h=!0,f=Number,d=_r,p=xr;return n.value=function(t){return arguments.length?(f=t,n):f},n.range=function(t){return arguments.length?(d=kt(t),n):d},n.bins=function(e){return arguments.length?(p="number"==typeof e?function(t){return br(t,e)}:kt(e),n):p},n.frequency=function(t){return arguments.length?(h=!!t,n):h},n},ua.layout.pack=function(){function e(t,e){var n=l.call(this,t,e),i=n[0],r=h[0],o=h[1],a=null==u?Math.sqrt:"function"==typeof u?u:function(){return u};if(i.x=i.y=0,ar(i,function(t){t.r=+a(t.value)}),ar(i,kr),c){var s=c*(u?1:Math.max(2*i.r/r,2*i.r/o))/2;ar(i,function(t){t.r+=s}),ar(i,kr),ar(i,function(t){t.r-=s})}return Er(i,r/2,o/2,u?1:1/Math.max(2*i.r/r,2*i.r/o)),n}var u,l=ua.layout.hierarchy().sort(wr),c=0,h=[1,1];return e.size=function(t){return arguments.length?(h=t,e):h},e.radius=function(t){return arguments.length?(u=null==t||"function"==typeof t?t:+t,e):u},e.padding=function(t){return arguments.length?(c=+t,e):c},rr(e,l)},ua.layout.tree=function(){function e(t,e){var n=g.call(this,t,e),i=n[0],r=h(i);if(ar(r,f),r.parent.m=-r.z,or(r,d),m)or(i,p);else{var o=i,a=i,s=i;or(i,function(t){t.x<o.x&&(o=t),t.x>a.x&&(a=t),t.depth>s.depth&&(s=t)});var u=v(o,a)/2-o.x,l=y[0]/(a.x+v(a,o)/2+u),c=y[1]/(s.depth||1);or(i,function(t){t.x=(t.x+u)*l,t.y=t.depth*c})}return n}function h(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var r,o=e.children,a=0,s=o.length;a<s;++a)i.push((o[a]=r={_:o[a],parent:e,children:(r=o[a].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=r);return n.children[0]}function f(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){Or(t);var r=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+v(t._,i._),t.m=t.z-r):t.z=r}else i&&(t.z=i.z+v(t._,i._));t.parent.A=o(t,i,t.parent.A||n[0])}function d(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function o(t,e,n){if(e){for(var i,r=t,o=t,a=e,s=r.parent.children[0],u=r.m,l=o.m,c=a.m,h=s.m;a=Dr(a),r=Nr(r),a&&r;)s=Nr(s),(o=Dr(o)).a=t,0<(i=a.z+c-r.z-u+v(a._,r._))&&(Rr(Ir(a,t,n),t,i),u+=i,l+=i),c+=a.m,u+=r.m,h+=s.m,l+=o.m;a&&!Dr(o)&&(o.t=a,o.m+=c-l),r&&!Nr(s)&&(s.t=r,s.m+=u-h,n=t)}return n}function p(t){t.x*=y[0],t.y=t.depth*y[1]}var g=ua.layout.hierarchy().sort(null).value(null),v=Pr,y=[1,1],m=null;return e.separation=function(t){return arguments.length?(v=t,e):v},e.size=function(t){return arguments.length?(m=null==(y=t)?p:null,e):m?null:y},e.nodeSize=function(t){return arguments.length?(m=null==(y=t)?null:p,e):m?y:null},rr(e,g)},ua.layout.cluster=function(){function e(t,e){var n,i=c.call(this,t,e),r=i[0],o=0;ar(r,function(t){var e=t.children;e&&e.length?(t.x=zr(e),t.y=Fr(e)):(t.x=n?o+=h(t,n):0,t.y=0,n=t)});var a=Vr(r),s=jr(r),u=a.x-h(a,s)/2,l=s.x+h(s,a)/2;return ar(r,d?function(t){t.x=(t.x-r.x)*f[0],t.y=(r.y-t.y)*f[1]}:function(t){t.x=(t.x-u)/(l-u)*f[0],t.y=(1-(r.y?t.y/r.y:1))*f[1]}),i}var c=ua.layout.hierarchy().sort(null).value(null),h=Pr,f=[1,1],d=!1;return e.separation=function(t){return arguments.length?(h=t,e):h},e.size=function(t){return arguments.length?(d=null==(f=t),e):d?null:f},e.nodeSize=function(t){return arguments.length?(d=null!=(f=t),e):d?f:null},rr(e,c)},ua.layout.treemap=function(){function c(t,e){for(var n,i,r=-1,o=t.length;++r<o;)i=(n=t[r]).value*(e<0?0:e),n.area=isNaN(i)||i<=0?0:i}function h(t){var e=t.children;if(e&&e.length){var n,i,r,o=g(t),a=[],s=e.slice(),u=1/0,l="slice"===v?o.dx:"dice"===v?o.dy:"slice-dice"===v?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(c(s,o.dx*o.dy/t.value),a.area=0;0<(r=s.length);)a.push(n=s[r-1]),a.area+=n.area,"squarify"!==v||(i=f(a,l))<=u?(s.pop(),u=i):(a.area-=a.pop().area,d(a,l,o,!1),l=Math.min(o.dx,o.dy),a.length=a.area=0,u=1/0);a.length&&(d(a,l,o,!0),a.length=a.area=0),e.forEach(h)}}function a(t){var e=t.children;if(e&&e.length){var n,i=g(t),r=e.slice(),o=[];for(c(r,i.dx*i.dy/t.value),o.area=0;n=r.pop();)o.push(n),o.area+=n.area,null!=n.z&&(d(o,n.z?i.dx:i.dy,i,!r.length),o.length=o.area=0);e.forEach(a)}}function f(t,e){for(var n,i=t.area,r=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),r<n&&(r=n));return e*=e,(i*=i)?Math.max(e*r*y/i,i/(e*o*y)):1/0}function d(t,e,n,i){var r,o=-1,a=t.length,s=n.x,u=n.y,l=e?p(t.area/e):0;if(e==n.dx){for((i||l>n.dy)&&(l=n.dy);++o<a;)(r=t[o]).x=s,r.y=u,r.dy=l,s+=r.dx=Math.min(n.x+n.dx-s,l?p(r.area/l):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=l,n.dy-=l}else{for((i||l>n.dx)&&(l=n.dx);++o<a;)(r=t[o]).x=s,r.y=u,r.dx=l,u+=r.dy=Math.min(n.y+n.dy-u,l?p(r.area/l):0);r.z=!1,r.dy+=n.y+n.dy-u,n.x+=l,n.dx-=l}}function r(t){var e=i||o(t),n=e[0];return n.x=n.y=0,n.value?(n.dx=s[0],n.dy=s[1]):n.dx=n.dy=0,i&&o.revalue(n),c([n],n.dx*n.dy/n.value),(i?a:h)(n),l&&(i=e),e}var i,o=ua.layout.hierarchy(),p=Math.round,s=[1,1],u=null,g=Gr,l=!1,v="squarify",y=.5*(1+Math.sqrt(5));return r.size=function(t){return arguments.length?(s=t,r):s},r.padding=function(n){function t(t){var e=n.call(r,t,t.depth);return null==e?Gr(t):Hr(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Hr(t,n)}return arguments.length?(g=null==(u=n)?Gr:"function"==(i=typeof n)?t:("number"===i&&(n=[n,n,n,n]),e),r):u;var i},r.round=function(t){return arguments.length?(p=t?Math.round:Number,r):p!=Number},r.sticky=function(t){return arguments.length?(l=t,i=null,r):l},r.ratio=function(t){return arguments.length?(y=t,r):y},r.mode=function(t){return arguments.length?(v=t+"",r):v},rr(r,o)},ua.random={normal:function(i,r){var t=arguments.length;return t<2&&(r=1),t<1&&(i=0),function(){for(var t,e,n;!(n=(t=2*Math.random()-1)*t+(e=2*Math.random()-1)*e)||1<n;);return i+r*t*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var t=ua.random.normal.apply(ua,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=ua.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}},ua.scale={};var wu={floor:O,ceil:O};ua.scale.linear=function(){return Wr([0,1],[0,1],xi,!1)};var Su={s:1,g:1,p:1,r:1,e:1};ua.scale.log=function(){return io(ua.scale.linear().domain([0,1]),10,!0,[1,10])};var Tu=ua.format(".0e"),Cu={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};ua.scale.pow=function(){return ro(ua.scale.linear(),1,[0,1])},ua.scale.sqrt=function(){return ua.scale.pow().exponent(.5)},ua.scale.ordinal=function(){return ao([],{t:"range",a:[[]]})},ua.scale.category10=function(){return ua.scale.ordinal().range(ku)},ua.scale.category20=function(){return ua.scale.ordinal().range(Mu)},ua.scale.category20b=function(){return ua.scale.ordinal().range(Au)},ua.scale.category20c=function(){return ua.scale.ordinal().range(Eu)};var ku=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(xt),Mu=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(xt),Au=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(xt),Eu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(xt);ua.scale.quantile=function(){return so([],[])},ua.scale.quantize=function(){return uo(0,1,[0,1])},ua.scale.threshold=function(){return lo([.5],[0,1])},ua.scale.identity=function(){return co([0,1])},ua.svg={},ua.svg.arc=function(){function e(){var t=Math.max(0,+V.apply(this,arguments)),e=Math.max(0,+j.apply(this,arguments)),n=$.apply(this,arguments)-ja,i=q.apply(this,arguments)-ja,r=Math.abs(i-n),o=i<n?0:1;if(e<t&&(a=e,e=t,t=a),Va<=r)return z(e,o)+(t?z(t,1-o):"")+"Z";var a,s,u,l,c,h,f,d,p,g,v,y,m=0,x=0,b=[];if((l=(+B.apply(this,arguments)||0)/2)&&(u=H===Lu?Math.sqrt(t*t+e*e):+H.apply(this,arguments),o||(x*=-1),e&&(x=et(u/e*Math.sin(l))),t&&(m=et(u/t*Math.sin(l)))),e){c=e*Math.cos(n+x),h=e*Math.sin(n+x),f=e*Math.cos(i-x),d=e*Math.sin(i-x);var _=Math.abs(i-n-2*x)<=Fa?0:1;if(x&&mo(c,h,f,d)===o^_){var w=(n+i)/2;c=e*Math.cos(w),h=e*Math.sin(w),f=d=null}}else c=h=0;if(t){p=t*Math.cos(i-m),g=t*Math.sin(i-m),v=t*Math.cos(n+m),y=t*Math.sin(n+m);var S=Math.abs(n-i+2*m)<=Fa?0:1;if(m&&mo(p,g,v,y)===1-o^S){var T=(n+i)/2;p=t*Math.cos(T),g=t*Math.sin(T),v=y=null}}else p=g=0;if(Oa<r&&.001<(a=Math.min(Math.abs(e-t)/2,+G.apply(this,arguments)))){s=t<e^o?0:1;var C=a,k=a;if(r<Fa){var M=null==v?[p,g]:null==f?[c,h]:Rn([c,h],[v,y],[f,d],[p,g]),A=c-M[0],E=h-M[1],L=f-M[0],P=d-M[1],N=1/Math.sin(Math.acos((A*L+E*P)/(Math.sqrt(A*A+E*E)*Math.sqrt(L*L+P*P)))/2),D=Math.sqrt(M[0]*M[0]+M[1]*M[1]);k=Math.min(a,(t-D)/(N-1)),C=Math.min(a,(e-D)/(N+1))}if(null!=f){var R=xo(null==v?[p,g]:[v,y],[c,h],e,C,o),O=xo([f,d],[p,g],e,C,o);a===C?b.push("M",R[0],"A",C,",",C," 0 0,",s," ",R[1],"A",e,",",e," 0 ",1-o^mo(R[1][0],R[1][1],O[1][0],O[1][1]),",",o," ",O[1],"A",C,",",C," 0 0,",s," ",O[0]):b.push("M",R[0],"A",C,",",C," 0 1,",s," ",O[0])}else b.push("M",c,",",h);if(null!=v){var I=xo([c,h],[v,y],t,-k,o),F=xo([p,g],null==f?[c,h]:[f,d],t,-k,o);a===k?b.push("L",F[0],"A",k,",",k," 0 0,",s," ",F[1],"A",t,",",t," 0 ",o^mo(F[1][0],F[1][1],I[1][0],I[1][1]),",",1-o," ",I[1],"A",k,",",k," 0 0,",s," ",I[0]):b.push("L",F[0],"A",k,",",k," 0 0,",s," ",I[0])}else b.push("L",p,",",g)}else b.push("M",c,",",h),null!=f&&b.push("A",e,",",e," 0 ",_,",",o," ",f,",",d),b.push("L",p,",",g),null!=v&&b.push("A",t,",",t," 0 ",S,",",1-o," ",v,",",y);return b.push("Z"),b.join("")}function z(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var V=fo,j=po,G=ho,H=Lu,$=go,q=vo,B=yo;return e.innerRadius=function(t){return arguments.length?(V=kt(t),e):V},e.outerRadius=function(t){return arguments.length?(j=kt(t),e):j},e.cornerRadius=function(t){return arguments.length?(G=kt(t),e):G},e.padRadius=function(t){return arguments.length?(H=t==Lu?Lu:kt(t),e):H},e.startAngle=function(t){return arguments.length?($=kt(t),e):$},e.endAngle=function(t){return arguments.length?(q=kt(t),e):q},e.padAngle=function(t){return arguments.length?(B=kt(t),e):B},e.centroid=function(){var t=(+V.apply(this,arguments)+ +j.apply(this,arguments))/2,e=(+$.apply(this,arguments)+ +q.apply(this,arguments))/2-ja;return[Math.cos(e)*t,Math.sin(e)*t]},e};var Lu="auto";ua.svg.line=function(){return bo(O)};var Pu=ua.map({linear:_o,"linear-closed":wo,step:So,"step-before":To,"step-after":Co,basis:Po,"basis-open":No,"basis-closed":Do,bundle:Ro,cardinal:Ao,"cardinal-open":ko,"cardinal-closed":Mo,monotone:jo});Pu.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Nu=[0,2/3,1/3,0],Du=[0,1/3,2/3,0],Ru=[0,1/6,2/3,1/6];ua.svg.line.radial=function(){var t=bo(Go);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},(To.reverse=Co).reverse=To,ua.svg.area=function(){return Ho(O)},ua.svg.area.radial=function(){var t=Ho(Go);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ua.svg.chord=function(){function e(t,e){var n=r(this,u,t,e),i=r(this,l,t,e);return"M"+n.p0+a(n.r,n.p1,n.a1-n.a0)+(o(n,i)?s(n.r,n.p1,n.r,n.p0):s(n.r,n.p1,i.r,i.p0)+a(i.r,i.p1,i.a1-i.a0)+s(i.r,i.p1,n.r,n.p0))+"Z"}function r(t,e,n,i){var r=e.call(t,n,i),o=c.call(t,r,i),a=h.call(t,r,i)-ja,s=f.call(t,r,i)-ja;return{r:o,a0:a,a1:s,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(s),o*Math.sin(s)]}}function o(t,e){return t.a0==e.a0&&t.a1==e.a1}function a(t,e,n){return"A"+t+","+t+" 0 "+ +(Fa<n)+",1 "+e}function s(t,e,n,i){return"Q 0,0 "+i}var u=xn,l=bn,c=$o,h=go,f=vo;return e.radius=function(t){return arguments.length?(c=kt(t),e):c},e.source=function(t){return arguments.length?(u=kt(t),e):u},e.target=function(t){return arguments.length?(l=kt(t),e):l},e.startAngle=function(t){return arguments.length?(h=kt(t),e):h},e.endAngle=function(t){return arguments.length?(f=kt(t),e):f},e},ua.svg.diagonal=function(){function e(t,e){var n=a.call(this,t,e),i=s.call(this,t,e),r=(n.y+i.y)/2,o=[n,{x:n.x,y:r},{x:i.x,y:r},i];return"M"+(o=o.map(u))[0]+"C"+o[1]+" "+o[2]+" "+o[3]}var a=xn,s=bn,u=qo;return e.source=function(t){return arguments.length?(a=kt(t),e):a},e.target=function(t){return arguments.length?(s=kt(t),e):s},e.projection=function(t){return arguments.length?(u=t,e):u},e},ua.svg.diagonal.radial=function(){var t=ua.svg.diagonal(),e=qo,n=t.projection;return t.projection=function(t){return arguments.length?n(Bo(e=t)):e},t},ua.svg.symbol=function(){function e(t,e){return(Ou.get(n.call(this,t,e))||Yo)(i.call(this,t,e))}var n=Xo,i=Uo;return e.type=function(t){return arguments.length?(n=kt(t),e):n},e.size=function(t){return arguments.length?(i=kt(t),e):i},e};var Ou=ua.map({circle:Yo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Fu)),n=e*Fu;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Iu),n=e*Iu/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Iu),n=e*Iu/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});ua.svg.symbolTypes=Ou.keys();var Iu=Math.sqrt(3),Fu=Math.tan(30*Ga);Ma.transition=function(t){for(var e,n,i=zu||++Hu,r=Jo(t),o=[],a=Vu||{time:Date.now(),ease:ki,delay:0,duration:250},s=-1,u=this.length;++s<u;){o.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(n=l[c])&&ta(n,c,r,i,a),e.push(n)}return Qo(o,r,i)},Ma.interrupt=function(t){return this.each(null==t?ju:Wo(Jo(t)))};var zu,Vu,ju=Wo(Jo()),Gu=[],Hu=0;Gu.call=Ma.call,Gu.empty=Ma.empty,Gu.node=Ma.node,Gu.size=Ma.size,ua.transition=function(t,e){return t&&t.transition?zu?t.transition(e):t:ua.selection().transition(t)},(ua.transition.prototype=Gu).select=function(t){var e,n,i,r=this.id,o=this.namespace,a=[];t=T(t);for(var s=-1,u=this.length;++s<u;){a.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(i=l[c])&&(n=t.call(i,i.__data__,c,s))?("__data__"in i&&(n.__data__=i.__data__),ta(n,c,o,r,i[o][r]),e.push(n)):e.push(null)}return Qo(a,o,r)},Gu.selectAll=function(t){var e,n,i,r,o,a=this.id,s=this.namespace,u=[];t=C(t);for(var l=-1,c=this.length;++l<c;)for(var h=this[l],f=-1,d=h.length;++f<d;)if(i=h[f]){o=i[s][a],n=t.call(i,i.__data__,f,l),u.push(e=[]);for(var p=-1,g=n.length;++p<g;)(r=n[p])&&ta(r,p,s,a,o),e.push(r)}return Qo(u,s,a)},Gu.filter=function(t){var e,n,i=[];"function"!=typeof t&&(t=G(t));for(var r=0,o=this.length;r<o;r++){i.push(e=[]);for(var a,s=0,u=(a=this[r]).length;s<u;s++)(n=a[s])&&t.call(n,n.__data__,s,r)&&e.push(n)}return Qo(i,this.namespace,this.id)},Gu.tween=function(e,n){var i=this.id,r=this.namespace;return arguments.length<2?this.node()[r][i].tween.get(e):$(this,null==n?function(t){t[r][i].tween.remove(e)}:function(t){t[r][i].tween.set(e,n)})},Gu.attr=function(t,e){function i(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function n(n){return null==n?i:(n+="",function(){var e,t=this.getAttribute(s);return t!==n&&(e=a(t,n),function(t){this.setAttribute(s,e(t))})})}function o(n){return null==n?r:(n+="",function(){var e,t=this.getAttributeNS(s.space,s.local);return t!==n&&(e=a(t,n),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?Xi:xi,s=ua.ns.qualify(t);return Zo(this,"attr."+t,e,s.local?o:n)},Gu.attrTween=function(t,i){function e(t,e){var n=i.call(this,t,e,this.getAttribute(r));return n&&function(t){this.setAttribute(r,n(t))}}function n(t,e){var n=i.call(this,t,e,this.getAttributeNS(r.space,r.local));return n&&function(t){this.setAttributeNS(r.space,r.local,n(t))}}var r=ua.ns.qualify(t);return this.tween("attr."+t,r.local?n:e)},Gu.style=function(i,t,r){function e(){this.style.removeProperty(i)}function n(n){return null==n?e:(n+="",function(){var e,t=R(this).getComputedStyle(this,null).getPropertyValue(i);return t!==n&&(e=xi(t,n),function(t){this.style.setProperty(i,e(t),r)})})}var o=arguments.length;if(o<3){if("string"!=typeof i){for(r in o<2&&(t=""),i)this.style(r,i[r],t);return this}r=""}return Zo(this,"style."+i,t,n)},Gu.styleTween=function(i,r,o){function t(t,e){var n=r.call(this,t,e,R(this).getComputedStyle(this,null).getPropertyValue(i));return n&&function(t){this.style.setProperty(i,n(t),o)}}return arguments.length<3&&(o=""),this.tween("style."+i,t)},Gu.text=function(t){return Zo(this,"text",t,Ko)},Gu.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Gu.ease=function(e){var n=this.id,i=this.namespace;return arguments.length<1?this.node()[i][n].ease:("function"!=typeof e&&(e=ua.ease.apply(ua,arguments)),$(this,function(t){t[i][n].ease=e}))},Gu.delay=function(i){var r=this.id,o=this.namespace;return arguments.length<1?this.node()[o][r].delay:$(this,"function"==typeof i?function(t,e,n){t[o][r].delay=+i.call(t,t.__data__,e,n)}:(i=+i,function(t){t[o][r].delay=i}))},Gu.duration=function(i){var r=this.id,o=this.namespace;return arguments.length<1?this.node()[o][r].duration:$(this,"function"==typeof i?function(t,e,n){t[o][r].duration=Math.max(1,i.call(t,t.__data__,e,n))}:(i=Math.max(1,i),function(t){t[o][r].duration=i}))},Gu.each=function(i,n){var r=this.id,o=this.namespace;if(arguments.length<2){var t=Vu,e=zu;try{zu=r,$(this,function(t,e,n){Vu=t[o][r],i.call(t,t.__data__,e,n)})}finally{Vu=t,zu=e}}else $(this,function(t){var e=t[o][r];(e.event||(e.event=ua.dispatch("start","end","interrupt"))).on(i,n)});return this},Gu.transition=function(){for(var t,e,n,i=this.id,r=++Hu,o=this.namespace,a=[],s=0,u=this.length;s<u;s++){a.push(t=[]);for(var l,c=0,h=(l=this[s]).length;c<h;c++)(e=l[c])&&ta(e,c,o,r,{time:(n=e[o][i]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return Qo(a,o,r)},ua.svg.axis=function(){function n(t){t.each(function(){var t,e=ua.select(this),n=this.__chart__||M,i=this.__chart__=M.copy(),r=null==D?i.ticks?i.ticks.apply(i,N):i.domain():D,o=null==k?i.tickFormat?i.tickFormat.apply(i,N):O:k,a=e.selectAll(".tick").data(r,i),s=a.enter().insert("g",".domain").attr("class","tick").style("opacity",Oa),u=ua.transition(a.exit()).style("opacity",Oa).remove(),l=ua.transition(a.order()).style("opacity",1),c=Math.max(E,0)+P,h=qr(i),f=e.selectAll(".domain").data([0]),d=(f.enter().append("path").attr("class","domain"),ua.transition(f));s.append("line"),s.append("text");var p,g,v,y,m=s.select("line"),x=l.select("line"),b=a.select("text").text(o),_=s.select("text"),w=l.select("text"),S="top"===A||"left"===A?-1:1;if("bottom"===A||"top"===A?(t=ea,p="x",v="y",g="x2",y="y2",b.attr("dy",S<0?"0em":".71em").style("text-anchor","middle"),d.attr("d","M"+h[0]+","+S*L+"V0H"+h[1]+"V"+S*L)):(t=na,p="y",v="x",g="y2",y="x2",b.attr("dy",".32em").style("text-anchor",S<0?"end":"start"),d.attr("d","M"+S*L+","+h[0]+"H0V"+h[1]+"H"+S*L)),m.attr(y,S*E),_.attr(v,S*c),x.attr(g,0).attr(y,S*E),w.attr(p,0).attr(v,S*c),i.rangeBand){var T=i,C=T.rangeBand()/2;n=i=function(t){return T(t)+C}}else n.rangeBand?n=i:u.call(t,i,n);s.call(t,n,i),l.call(t,i,i)})}var k,M=ua.scale.linear(),A=$u,E=6,L=6,P=3,N=[10],D=null;return n.scale=function(t){return arguments.length?(M=t,n):M},n.orient=function(t){return arguments.length?(A=t in qu?t+"":$u,n):A},n.ticks=function(){return arguments.length?(N=ca(arguments),n):N},n.tickValues=function(t){return arguments.length?(D=t,n):D},n.tickFormat=function(t){return arguments.length?(k=t,n):k},n.tickSize=function(t){var e=arguments.length;return e?(E=+t,L=+arguments[e-1],n):E},n.innerTickSize=function(t){return arguments.length?(E=+t,n):E},n.outerTickSize=function(t){return arguments.length?(L=+t,n):L},n.tickPadding=function(t){return arguments.length?(P=+t,n):P},n.tickSubdivide=function(){return arguments.length&&n},n};var $u="bottom",qu={top:1,right:1,bottom:1,left:1};ua.svg.brush=function(){function b(t){t.each(function(){var t=ua.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",a).on("touchstart.brush",a),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(s,O);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Bu[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",b.empty()?"none":null);var i,r=ua.transition(t),o=ua.transition(e);M&&(i=qr(M),o.attr("x",i[0]).attr("width",i[1]-i[0]),w(r)),A&&(i=qr(A),o.attr("y",i[0]).attr("height",i[1]-i[0]),S(r)),_(r)})}function _(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+E[+/e$/.test(t)]+","+L[+/^s/.test(t)]+")"})}function w(t){t.select(".extent").attr("x",E[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",E[1]-E[0])}function S(t){t.select(".extent").attr("y",L[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",L[1]-L[0])}function a(){function t(){32==ua.event.keyCode&&(p||(h=null,v[0]-=E[1],v[1]-=L[1],p=2),I())}function e(){32==ua.event.keyCode&&2==p&&(v[0]+=E[1],v[1]+=L[1],p=0,I())}function n(){var t=ua.mouse(a),e=!1;o&&(t[0]+=o[0],t[1]+=o[1]),p||(ua.event.altKey?(h||(h=[(E[0]+E[1])/2,(L[0]+L[1])/2]),v[0]=E[+(t[0]<h[0])],v[1]=L[+(t[1]<h[1])]):h=null),f&&i(t,M,0)&&(w(l),e=!0),d&&i(t,A,1)&&(S(l),e=!0),e&&(_(l),u({type:"brush",mode:p?"move":"resize"}))}function i(t,e,n){var i,r,o=qr(e),a=o[0],s=o[1],u=v[n],l=n?L:E,c=l[1]-l[0];return p&&(a-=u,s-=c+u),i=(n?N:P)?Math.max(a,Math.min(s,t[n])):t[n],p?r=(i+=u)+c:(h&&(u=Math.max(a,Math.min(s,2*h[n]-i))),u<i?(r=i,i=u):r=u),l[0]!=i||l[1]!=r?(n?C=null:T=null,l[0]=i,l[1]=r,!0):void 0}function r(){n(),l.style("pointer-events","all").selectAll(".resize").style("display",b.empty()?"none":null),ua.select("body").style("cursor",null),y.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),g(),u({type:"brushend"})}var h,o,a=this,s=ua.select(ua.event.target),u=k.of(a,arguments),l=ua.select(a),c=s.datum(),f=!/^(n|s)$/.test(c)&&M,d=!/^(e|w)$/.test(c)&&A,p=s.classed("extent"),g=W(a),v=ua.mouse(a),y=ua.select(R(a)).on("keydown.brush",t).on("keyup.brush",e);if(ua.event.changedTouches?y.on("touchmove.brush",n).on("touchend.brush",r):y.on("mousemove.brush",n).on("mouseup.brush",r),l.interrupt().selectAll("*").interrupt(),p)v[0]=E[0]-v[0],v[1]=L[0]-v[1];else if(c){var m=+/w$/.test(c),x=+/^n/.test(c);o=[E[1-m]-v[0],L[1-x]-v[1]],v[0]=E[m],v[1]=L[x]}else ua.event.altKey&&(h=v.slice());l.style("pointer-events","none").selectAll(".resize").style("display",null),ua.select("body").style("cursor",s.style("cursor")),u({type:"brushstart"}),n()}var T,C,k=F(b,"brushstart","brush","brushend"),M=null,A=null,E=[0,0],L=[0,0],P=!0,N=!0,s=Uu[0];return b.event=function(t){t.each(function(){var i=k.of(this,arguments),r={x:E,y:L,i:T,j:C},t=this.__chart__||r;this.__chart__=r,zu?ua.select(this).transition().each("start.brush",function(){T=t.i,C=t.j,E=t.x,L=t.y,i({type:"brushstart"})}).tween("brush:brush",function(){var e=bi(E,r.x),n=bi(L,r.y);return T=C=null,function(t){E=r.x=e(t),L=r.y=n(t),i({type:"brush",mode:"resize"})}}).each("end.brush",function(){T=r.i,C=r.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})}):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))})},b.x=function(t){return arguments.length?(s=Uu[!(M=t)<<1|!A],b):M},b.y=function(t){return arguments.length?(s=Uu[!M<<1|!(A=t)],b):A},b.clamp=function(t){return arguments.length?(M&&A?(P=!!t[0],N=!!t[1]):M?P=!!t:A&&(N=!!t),b):M&&A?[P,N]:M?P:A?N:null},b.extent=function(t){var e,n,i,r,o;return arguments.length?(M&&(e=t[0],n=t[1],A&&(e=e[0],n=n[0]),T=[e,n],M.invert&&(e=M(e),n=M(n)),n<e&&(o=e,e=n,n=o),e==E[0]&&n==E[1]||(E=[e,n])),A&&(i=t[0],r=t[1],M&&(i=i[1],r=r[1]),C=[i,r],A.invert&&(i=A(i),r=A(r)),r<i&&(o=i,i=r,r=o),i==L[0]&&r==L[1]||(L=[i,r])),b):(M&&(T?(e=T[0],n=T[1]):(e=E[0],n=E[1],M.invert&&(e=M.invert(e),n=M.invert(n)),n<e&&(o=e,e=n,n=o))),A&&(C?(i=C[0],r=C[1]):(i=L[0],r=L[1],A.invert&&(i=A.invert(i),r=A.invert(r)),r<i&&(o=i,i=r,r=o))),M&&A?[[e,i],[n,r]]:M?[e,n]:A&&[i,r])},b.clear=function(){return b.empty()||(E=[0,0],L=[0,0],T=C=null),b},b.empty=function(){return!!M&&E[0]==E[1]||!!A&&L[0]==L[1]},ua.rebind(b,k,"on")};var Bu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Uu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Xu=fs.format=ms.timeFormat,Yu=Xu.utc,Wu=Yu("%Y-%m-%dT%H:%M:%S.%LZ");Xu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ia:Wu,ia.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},ia.toString=Wu.toString,fs.second=jt(function(t){return new ds(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),fs.seconds=fs.second.range,fs.seconds.utc=fs.second.utc.range,fs.minute=jt(function(t){return new ds(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),fs.minutes=fs.minute.range,fs.minutes.utc=fs.minute.utc.range,fs.hour=jt(function(t){var e=t.getTimezoneOffset()/60;return new ds(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),fs.hours=fs.hour.range,fs.hours.utc=fs.hour.utc.range,fs.month=jt(function(t){return(t=fs.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),fs.months=fs.month.range,fs.months.utc=fs.month.utc.range;var Qu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Zu=[[fs.second,1],[fs.second,5],[fs.second,15],[fs.second,30],[fs.minute,1],[fs.minute,5],[fs.minute,15],[fs.minute,30],[fs.hour,1],[fs.hour,3],[fs.hour,6],[fs.hour,12],[fs.day,1],[fs.day,2],[fs.week,1],[fs.month,1],[fs.month,3],[fs.year,1]],Ku=Xu.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Ee]]),Ju={range:function(t,e,n){return ua.range(Math.ceil(t/n)*n,+e,n).map(oa)},floor:O,ceil:O};Zu.year=fs.year,fs.scale=function(){return ra(ua.scale.linear(),Zu,Ku)};var tl=Zu.map(function(t){return[t[0].utc,t[1]]}),el=Yu.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()
}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Ee]]);tl.year=fs.year.utc,fs.scale.utc=function(){return ra(ua.scale.linear(),tl,el)},ua.text=Mt(function(t){return t.responseText}),ua.json=function(t,e){return At(t,"application/json",aa,e)},ua.html=function(t,e){return At(t,"text/html",sa,e)},ua.xml=Mt(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=ua,define(ua)):"object"==typeof module&&module.exports?module.exports=ua:this.d3=ua}(),function(){"use strict";var r="d3pie",o="0.1.3",a=0,s={header:{title:{text:"",color:"#333333",fontSize:18,font:"arial"},subtitle:{text:"",color:"#666666",fontSize:14,font:"arial"},location:"top-center",titleSubtitlePadding:8},footer:{text:"",color:"#666666",fontSize:14,font:"arial",location:"left"},size:{canvasHeight:500,canvasWidth:500,pieInnerRadius:"0%",pieOuterRadius:null},data:{sortOrder:"none",smallSegmentGrouping:{enabled:!1,value:1,valueType:"percentage",label:"Other",color:"#cccccc"},content:[]},labels:{outer:{format:"label",hideWhenLessThanPercentage:null,pieDistance:30},inner:{format:"percentage",hideWhenLessThanPercentage:null},mainLabel:{color:"#333333",font:"arial",fontSize:10},percentage:{color:"#dddddd",font:"arial",fontSize:10,decimalPlaces:0},value:{color:"#cccc44",font:"arial",fontSize:10},lines:{enabled:!0,style:"curved",color:"segment"},truncation:{enabled:!1,length:30}},effects:{load:{effect:"default",speed:1e3},pullOutSegmentOnClick:{effect:"bounce",speed:300,size:10},highlightSegmentOnMouseover:!0,highlightLuminosity:-.2},misc:{colors:{background:null,segments:["#2484c1","#65a620","#7b6888","#a05d56","#961a1a","#d8d23a","#e98125","#d0743c","#635222","#6ada6a","#0c6197","#7d9058","#207f33","#44b9b0","#bca44a","#e4a14b","#a3acb2","#8cc3e9","#69a6f9","#5b388f","#546e91","#8bde95","#d2ab58","#273c71","#98bf6e","#4daa4b","#98abc5","#cc1010","#31383b","#006391","#c2643f","#b0a474","#a5a39c","#a9c2bc","#22af8c","#7fcecf","#987ac6","#3d3b87","#b77b1c","#c9c2b6","#807ece","#8db27c","#be66a2","#9ed3c6","#00644b","#005064","#77979f","#77e079","#9c73ab","#1f79a7"],segmentStroke:"#ffffff"},gradient:{enabled:!1,percentage:95,color:"#000000"},canvasPadding:{top:5,right:5,bottom:5,left:5},pieCenterOffset:{x:0,y:0},cssPrefix:null},callbacks:{onload:null,onMouseoverSegment:null,onMouseoutSegment:null,onClickSegment:null}},u={initialCheck:function(t){var e=t.cssPrefix,n=t.element,i=t.options;if(!window.d3||!window.d3.hasOwnProperty("version"))return console.error("d3pie error: d3 is not available"),!1;if(!(n instanceof HTMLElement))return console.error("d3pie error: the first d3pie() param must be a valid DOM element (not jQuery) or a ID string."),!1;if(!/[a-zA-Z][a-zA-Z0-9_-]*$/.test(e))return console.error("d3pie error: invalid options.misc.cssPrefix"),!1;if(!f.isArray(i.data.content))return console.error("d3pie error: invalid config structure: missing data.content property."),!1;if(0===i.data.content.length)return console.error("d3pie error: no data supplied."),!1;for(var r=[],o=0;o<i.data.content.length;o++)"number"!=typeof i.data.content[o].value||isNaN(i.data.content[o].value)?console.log("not valid: ",i.data.content[o]):i.data.content[o].value<=0?console.log("not valid - should have positive value: ",i.data.content[o]):r.push(i.data.content[o]);return t.options.data.content=r,!0}},f={addSVGSpace:function(t){var e=t.element,n=t.options.size.canvasWidth,i=t.options.size.canvasHeight,r=t.options.misc.colors.background,o=d3.select(e).append("svg:svg").attr("width",n).attr("height",i);return"transparent"!==r&&o.style("background-color",function(){return r}),o},whenIdExists:function(t,e){var n=1,i=1e3,r=setInterval(function(){document.getElementById(t)&&(clearInterval(r),e()),i<n&&clearInterval(r),n++},1)},whenElementsExist:function(n,i){var r=1,o=1e3,a=setInterval(function(){for(var t=!0,e=0;e<n.length;e++)if(!document.getElementById(n[e])){t=!1;break}t&&(clearInterval(a),i()),o<r&&clearInterval(a),r++},1)},shuffleArray:function(t){for(var e,n,i=t.length;0!==i;)n=Math.floor(Math.random()*i),e=t[i-=1],t[i]=t[n],t[n]=e;return t},processObj:function(t,e,n){return"string"==typeof e?f.processObj(t,e.split("."),n):1==e.length&&void 0!==n?t[e[0]]=n:0==e.length?t:f.processObj(t[e[0]],e.slice(1),n)},getDimensions:function(t){var e=document.getElementById(t),n=0,i=0;if(e){var r=e.getBBox();n=r.width,i=r.height}else console.log("error: getDimensions() "+t+" not found.");return{w:n,h:i}},rectIntersect:function(t,e){return!(e.x>t.x+t.w||e.x+e.w<t.x||e.y+e.h<t.y||e.y>t.y+t.h)},getColorShade:function(t,e){(t=String(t).replace(/[^0-9a-f]/gi,"")).length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||0;for(var n="#",i=0;i<3;i++){var r=parseInt(t.substr(2*i,2),16);n+=("00"+(r=Math.round(Math.min(Math.max(0,r+r*e),255)).toString(16))).substr(r.length)}return n},initSegmentColors:function(t){for(var e=t.options.data.content,n=t.options.misc.colors.segments,i=[],r=0;r<e.length;r++)i.push(e[r].hasOwnProperty("color")?e[r].color:n[r]);return i},applySmallSegmentGrouping:function(t,e){var n;"percentage"===e.valueType&&(n=p.getTotalPieSize(t));for(var i=[],r=[],o=0,a=0;a<t.length;a++)if("percentage"===e.valueType){if(t[a].value/n*100<=e.value){r.push(t[a]),o+=t[a].value;continue}t[a].isGrouped=!1,i.push(t[a])}else{if(t[a].value<=e.value){r.push(t[a]),o+=t[a].value;continue}t[a].isGrouped=!1,i.push(t[a])}return r.length&&i.push({color:e.color,label:e.label,value:o,isGrouped:!0,groupedData:r}),i},showPoint:function(t,e,n){t.append("circle").attr("cx",e).attr("cy",n).attr("r",2).style("fill","black")},isFunction:function(t){return t&&"[object Function]"==={}.toString.call(t)},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)}},v=function(t,e){var n,i,r,o,a,s,u=t||{},l=1,c=arguments.length,h=!1,f=Object.prototype.toString,d=Object.prototype.hasOwnProperty,p={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},g={isFunction:function(t){return"function"===g.type(t)},isArray:Array.isArray||function(t){return"array"===g.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):p[f.call(t)]||"object"},isPlainObject:function(t){if(!t||"object"!==g.type(t)||t.nodeType)return!1;try{if(t.constructor&&!d.call(t,"constructor")&&!d.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}var e;for(e in t);return void 0===e||d.call(t,e)}};for("boolean"==typeof u&&(h=u,u=e||{},l=2),"object"==typeof u||g.isFunction(u)||(u={}),c===l&&(u=this,--l);l<c;l++)if(null!=(n=arguments[l]))for(i in n)r=u[i],u!==(o=n[i])&&(h&&o&&(g.isPlainObject(o)||(a=g.isArray(o)))?(a?(a=!1,s=r&&g.isArray(r)?r:[]):s=r&&g.isPlainObject(r)?r:{},u[i]=v(h,s,o)):void 0!==o&&(u[i]=o));return u},p={toRadians:function(t){return t*(Math.PI/180)},toDegrees:function(t){return t*(180/Math.PI)},computePieRadius:function(t){var e=t.options.size,n=t.options.misc.canvasPadding,i=e.canvasWidth-n.left-n.right,r=e.canvasHeight-n.top-n.bottom;r-=t.textComponents.headerHeight,t.textComponents.footer.exists&&(r-=t.textComponents.footer.h);var o,a,s=(i<(r=r<0?0:r)?i:r)/3;if(null!==e.pieOuterRadius)if(/%/.test(e.pieOuterRadius)){a=(a=99<(a=parseInt(e.pieOuterRadius.replace(/[\D]/,""),10))?99:a)<0?0:a;var u=i<r?i:r;if("none"!==t.options.labels.outer.format){var l=2*parseInt(t.options.labels.outer.pieDistance,10);0<u-l&&(u-=l)}s=Math.floor(u/100*a)/2}else s=parseInt(e.pieOuterRadius,10);/%/.test(e.pieInnerRadius)?(a=(a=99<(a=parseInt(e.pieInnerRadius.replace(/[\D]/,""),10))?99:a)<0?0:a,o=Math.floor(s/100*a)):o=parseInt(e.pieInnerRadius,10),t.innerRadius=o,t.outerRadius=s},getTotalPieSize:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].value;return e},sortPieData:function(t){var e=t.options.data.content;switch(t.options.data.sortOrder){case"none":break;case"random":e=f.shuffleArray(e);break;case"value-asc":e.sort(function(t,e){return t.value<e.value?-1:1});break;case"value-desc":e.sort(function(t,e){return t.value<e.value?1:-1});break;case"label-asc":e.sort(function(t,e){return t.label.toLowerCase()>e.label.toLowerCase()?1:-1});break;case"label-desc":e.sort(function(t,e){return t.label.toLowerCase()<e.label.toLowerCase()?1:-1})}return e},getPieTranslateCenter:function(t){return"translate("+t.x+","+t.y+")"},calculatePieCenter:function(t){var e=t.options.misc.pieCenterOffset,n=t.textComponents.title.exists&&"pie-center"!==t.options.header.location,i=t.textComponents.subtitle.exists&&"pie-center"!==t.options.header.location,r=t.options.misc.canvasPadding.top;n&&i?r+=t.textComponents.title.h+t.options.header.titleSubtitlePadding+t.textComponents.subtitle.h:n?r+=t.textComponents.title.h:i&&(r+=t.textComponents.subtitle.h);var o=0;t.textComponents.footer.exists&&(o=t.textComponents.footer.h+t.options.misc.canvasPadding.bottom);var a=(t.options.size.canvasWidth-t.options.misc.canvasPadding.left-t.options.misc.canvasPadding.right)/2+t.options.misc.canvasPadding.left,s=(t.options.size.canvasHeight-o-r)/2+r;a+=e.x,s+=e.y,t.pieCenter={x:a,y:s}},rotate:function(t,e,n,i,r){var o=Math.cos,a=Math.sin;return{x:(t-n)*o(r=r*Math.PI/180)-(e-i)*a(r)+n,y:(t-n)*a(r)+(e-i)*o(r)+i}},translate:function(t,e,n,i){var r=p.toRadians(i);return{x:t+n*Math.sin(r),y:e-n*Math.cos(r)}},pointIsInArc:function(t,e,n){var i=n.innerRadius()(e),r=n.outerRadius()(e),o=n.startAngle()(e),a=n.endAngle()(e),s=t.x*t.x+t.y*t.y,u=Math.atan2(t.x,-t.y);return u=u<0?u+2*Math.PI:u,i*i<=s&&s<=r*r&&o<=u&&u<=a}},h={add:function(n,i,t){var e=h.getIncludes(t),r=n.options.labels,o=n.svg.insert("g","."+n.cssPrefix+"labels-"+i).attr("class",n.cssPrefix+"labels-"+i).selectAll("."+n.cssPrefix+"labelGroup-"+i).data(n.options.data.content).enter().append("g").attr("id",function(t,e){return n.cssPrefix+"labelGroup"+e+"-"+i}).attr("data-index",function(t,e){return e}).attr("class",n.cssPrefix+"labelGroup-"+i).style("opacity",0);e.mainLabel&&o.append("text").attr("id",function(t,e){return n.cssPrefix+"segmentMainLabel"+e+"-"+i}).attr("class",n.cssPrefix+"segmentMainLabel-"+i).text(function(t){var e=t.label;return r.truncation.enabled&&t.label.length>r.truncation.length&&(e=t.label.substring(0,r.truncation.length)+"..."),e}).style("font-size",r.mainLabel.fontSize+"px").style("font-family",r.mainLabel.font).style("fill",r.mainLabel.color),e.percentage&&o.append("text").attr("id",function(t,e){return n.cssPrefix+"segmentPercentage"+e+"-"+i}).attr("class",n.cssPrefix+"segmentPercentage-"+i).text(function(t){return(t.value/n.totalSize*100).toFixed(n.options.labels.percentage.decimalPlaces)+"%"}).style("font-size",r.percentage.fontSize+"px").style("font-family",r.percentage.font).style("fill",r.percentage.color),e.value&&o.append("text").attr("id",function(t,e){return n.cssPrefix+"segmentValue"+e+"-"+i}).attr("class",n.cssPrefix+"segmentValue-"+i).text(function(t){return t.value}).style("font-size",r.value.fontSize+"px").style("font-family",r.value.font).style("fill",r.value.color)},positionLabelElements:function(i,r,t){h["dimensions-"+r]=[],d3.selectAll("."+i.cssPrefix+"labelGroup-"+r).each(function(){var t=d3.select(this).selectAll("."+i.cssPrefix+"segmentMainLabel-"+r),e=d3.select(this).selectAll("."+i.cssPrefix+"segmentPercentage-"+r),n=d3.select(this).selectAll("."+i.cssPrefix+"segmentValue-"+r);h["dimensions-"+r].push({mainLabel:null!==t.node()?t.node().getBBox():null,percentage:null!==e.node()?e.node().getBBox():null,value:null!==n.node()?n.node().getBBox():null})});var n=5,o=h["dimensions-"+r];switch(t){case"label-value1":d3.selectAll("."+i.cssPrefix+"segmentValue-"+r).attr("dx",function(t,e){return o[e].mainLabel.width+n});break;case"label-value2":d3.selectAll("."+i.cssPrefix+"segmentValue-"+r).attr("dy",function(t,e){return o[e].mainLabel.height});break;case"label-percentage1":d3.selectAll("."+i.cssPrefix+"segmentPercentage-"+r).attr("dx",function(t,e){return o[e].mainLabel.width+n});break;case"label-percentage2":d3.selectAll("."+i.cssPrefix+"segmentPercentage-"+r).attr("dx",function(t,e){return o[e].mainLabel.width/2-o[e].percentage.width/2}).attr("dy",function(t,e){return o[e].mainLabel.height})}},computeLabelLinePositions:function(n){n.lineCoordGroups=[],d3.selectAll("."+n.cssPrefix+"labelGroup-outer").each(function(t,e){return h.computeLinePosition(n,e)})},computeLinePosition:function(t,e){var n,i,r,o,a=g.getSegmentAngle(e,t.options.data.content,t.totalSize,{midpoint:!0}),s=p.rotate(t.pieCenter.x,t.pieCenter.y-t.outerRadius,t.pieCenter.x,t.pieCenter.y,a),u=t.outerLabelGroupData[e].h/5,l=6,c=Math.floor(a/90),h=4;switch(2===c&&180===a&&(c=1),c){case 0:n=t.outerLabelGroupData[e].x-l-(t.outerLabelGroupData[e].x-l-s.x)/2,i=t.outerLabelGroupData[e].y+(s.y-t.outerLabelGroupData[e].y)/h,r=t.outerLabelGroupData[e].x-l,o=t.outerLabelGroupData[e].y-u;break;case 1:n=s.x+(t.outerLabelGroupData[e].x-s.x)/h,i=s.y+(t.outerLabelGroupData[e].y-s.y)/h,r=t.outerLabelGroupData[e].x-l,o=t.outerLabelGroupData[e].y-u;break;case 2:var f=t.outerLabelGroupData[e].x+t.outerLabelGroupData[e].w+l;n=s.x-(s.x-f)/h,i=s.y+(t.outerLabelGroupData[e].y-s.y)/h,r=t.outerLabelGroupData[e].x+t.outerLabelGroupData[e].w+l,o=t.outerLabelGroupData[e].y-u;break;case 3:var d=t.outerLabelGroupData[e].x+t.outerLabelGroupData[e].w+l;n=d+(s.x-d)/h,i=t.outerLabelGroupData[e].y+(s.y-t.outerLabelGroupData[e].y)/h,r=t.outerLabelGroupData[e].x+t.outerLabelGroupData[e].w+l,o=t.outerLabelGroupData[e].y-u}t.lineCoordGroups[e]="straight"===t.options.labels.lines.style?[{x:s.x,y:s.y},{x:r,y:o}]:[{x:s.x,y:s.y},{x:n,y:i},{x:r,y:o}]},addLabelLines:function(r){var t=r.svg.insert("g","."+r.cssPrefix+"pieChart").attr("class",r.cssPrefix+"lineGroups").style("opacity",0).selectAll("."+r.cssPrefix+"lineGroup").data(r.lineCoordGroups).enter().append("g").attr("class",r.cssPrefix+"lineGroup"),e=d3.svg.line().interpolate("basis").x(function(t){return t.x}).y(function(t){return t.y});t.append("path").attr("d",e).attr("stroke",function(t,e){return"segment"===r.options.labels.lines.color?r.options.colors[e]:r.options.labels.lines.color}).attr("stroke-width",1).attr("fill","none").style("opacity",function(t,e){var n=r.options.labels.outer.hideWhenLessThanPercentage,i=g.getPercentage(r,e);return null!==n&&i<n||""===r.options.data.content[e].label?0:1})},positionLabelGroups:function(c,h){d3.selectAll("."+c.cssPrefix+"labelGroup-"+h).style("opacity",0).attr("transform",function(t,e){var n,i;if("outer"===h)n=c.outerLabelGroupData[e].x,i=c.outerLabelGroupData[e].y;else{var r=v(!0,{},c.pieCenter);if(0<c.innerRadius){var o=g.getSegmentAngle(e,c.options.data.content,c.totalSize,{midpoint:!0}),a=p.translate(c.pieCenter.x,c.pieCenter.y,c.innerRadius,o);r.x=a.x,r.y=a.y}var s=f.getDimensions(c.cssPrefix+"labelGroup"+e+"-inner"),u=s.w/2,l=s.h/4;n=r.x+(c.lineCoordGroups[e][0].x-r.x)/1.8,i=r.y+(c.lineCoordGroups[e][0].y-r.y)/1.8,n-=u,i+=l}return"translate("+n+","+i+")"})},fadeInLabelsAndLines:function(r){var t="default"===r.options.effects.load.effect?r.options.effects.load.speed:1;setTimeout(function(){var t="default"===r.options.effects.load.effect?400:1;d3.selectAll("."+r.cssPrefix+"labelGroup-outer").transition().duration(t).style("opacity",function(t,e){var n=r.options.labels.outer.hideWhenLessThanPercentage,i=g.getPercentage(r,e);return null!==n&&i<n?0:1}),d3.selectAll("."+r.cssPrefix+"labelGroup-inner").transition().duration(t).style("opacity",function(t,e){var n=r.options.labels.inner.hideWhenLessThanPercentage,i=g.getPercentage(r,e);return null!==n&&i<n?0:1}),d3.selectAll("g."+r.cssPrefix+"lineGroups").transition().duration(t).style("opacity",1),f.isFunction(r.options.callbacks.onload)&&setTimeout(function(){try{r.options.callbacks.onload()}catch(t){}},t)},t)},getIncludes:function(t){var e=!1,n=!1,i=!1;switch(t){case"label":e=!0;break;case"value":n=!0;break;case"percentage":i=!0;break;case"label-value1":case"label-value2":n=e=!0;break;case"label-percentage1":case"label-percentage2":i=e=!0}return{mainLabel:e,value:n,percentage:i}},computeOuterLabelCoords:function(n){n.svg.selectAll("."+n.cssPrefix+"labelGroup-outer").each(function(t,e){return h.getIdealOuterLabelPositions(n,e)}),h.resolveOuterLabelCollisions(n)},resolveOuterLabelCollisions:function(t){var e=t.options.data.content.length;h.checkConflict(t,0,"clockwise",e),h.checkConflict(t,e-1,"anticlockwise",e)},checkConflict:function(t,e,n,i){if(!(i<=1)){var r=t.outerLabelGroupData[e].hs;if(!("clockwise"===n&&"right"!=r||"anticlockwise"===n&&"left"!=r)){var o="clockwise"===n?e+1:e-1,a=t.outerLabelGroupData[e],s=t.outerLabelGroupData[o],u={labelHeights:t.outerLabelGroupData[0].h,center:t.pieCenter,lineLength:t.outerRadius+t.options.labels.outer.pieDistance,heightChange:t.outerLabelGroupData[0].h+1};if("clockwise"===n)for(var l=0;l<=e;l++){var c=t.outerLabelGroupData[l];if(f.rectIntersect(c,s)){h.adjustLabelPos(t,o,a,u);break}}else for(l=i-1;e<=l;l--){c=t.outerLabelGroupData[l];if(f.rectIntersect(c,s)){h.adjustLabelPos(t,o,a,u);break}}h.checkConflict(t,o,n,i)}}},adjustLabelPos:function(t,e,n,i){var r,o,a,s;s=n.y+i.heightChange,o=i.center.y-s,r=Math.sqrt(Math.abs(i.lineLength)>Math.abs(o)?i.lineLength*i.lineLength-o*o:o*o-i.lineLength*i.lineLength),(a="right"===n.hs?i.center.x+r:i.center.x-r-t.outerLabelGroupData[e].w)||console.log(n.hs,r),t.outerLabelGroupData[e].x=a,t.outerLabelGroupData[e].y=s},getIdealOuterLabelPositions:function(t,e){var n=d3.select("#"+t.cssPrefix+"labelGroup"+e+"-outer").node().getBBox(),i=g.getSegmentAngle(e,t.options.data.content,t.totalSize,{midpoint:!0}),r=t.pieCenter.x,o=t.pieCenter.y-(t.outerRadius+t.options.labels.outer.pieDistance),a=p.rotate(r,o,t.pieCenter.x,t.pieCenter.y,i),s="right";180<i?(a.x-=n.width+8,s="left"):a.x+=8,t.outerLabelGroupData[e]={x:a.x,y:a.y,w:n.width,h:n.height,hs:s}}},g={create:function(i){var t=i.pieCenter,r=i.options.colors,e=i.options.effects.load,n=i.options.misc.colors.segmentStroke,o=i.svg.insert("g","#"+i.cssPrefix+"title").attr("transform",function(){return p.getPieTranslateCenter(t)}).attr("class",i.cssPrefix+"pieChart"),a=d3.svg.arc().innerRadius(i.innerRadius).outerRadius(i.outerRadius).startAngle(0).endAngle(function(t){return t.value/i.totalSize*2*Math.PI}),s=o.selectAll("."+i.cssPrefix+"arc").data(i.options.data.content).enter().append("g").attr("class",i.cssPrefix+"arc"),u=e.speed;"none"===e.effect&&(u=0),s.append("path").attr("id",function(t,e){return i.cssPrefix+"segment"+e}).attr("fill",function(t,e){var n=r[e];return i.options.misc.gradient.enabled&&(n="url(#"+i.cssPrefix+"grad"+e+")"),n}).style("stroke",n).style("stroke-width",1).transition().ease("cubic-in-out").duration(u).attr("data-index",function(t,e){return e}).attrTween("d",function(t){var e=d3.interpolate({value:0},t);return function(t){return i.arc(e(t))}}),i.svg.selectAll("g."+i.cssPrefix+"arc").attr("transform",function(t,e){var n=0;return 0<e&&(n=g.getSegmentAngle(e-1,i.options.data.content,i.totalSize)),"rotate("+n+")"}),i.arc=a},addGradients:function(n){var t=n.svg.append("defs").selectAll("radialGradient").data(n.options.data.content).enter().append("radialGradient").attr("gradientUnits","userSpaceOnUse").attr("cx",0).attr("cy",0).attr("r","120%").attr("id",function(t,e){return n.cssPrefix+"grad"+e});t.append("stop").attr("offset","0%").style("stop-color",function(t,e){return n.options.colors[e]}),t.append("stop").attr("offset",n.options.misc.gradient.percentage+"%").style("stop-color",n.options.misc.gradient.color)},addSegmentEventHandlers:function(o){var t=d3.selectAll("."+o.cssPrefix+"arc,."+o.cssPrefix+"labelGroup-inner,."+o.cssPrefix+"labelGroup-outer");t.on("click",function(){var t,e=d3.select(this);if(e.attr("class")===o.cssPrefix+"arc")t=e.select("path");else{var n=e.attr("data-index");t=d3.select("#"+o.cssPrefix+"segment"+n)}var i=t.attr("class")===o.cssPrefix+"expanded";g.onSegmentEvent(o,o.options.callbacks.onClickSegment,t,i),"none"!==o.options.effects.pullOutSegmentOnClick.effect&&(i?g.closeSegment(o,t.node()):g.openSegment(o,t.node()))}),t.on("mouseover",function(){var t,e,n=d3.select(this);if(n.attr("class")===o.cssPrefix+"arc"?t=n.select("path"):(e=n.attr("data-index"),t=d3.select("#"+o.cssPrefix+"segment"+e)),o.options.effects.highlightSegmentOnMouseover){e=t.attr("data-index");var i=o.options.colors[e];t.style("fill",f.getColorShade(i,o.options.effects.highlightLuminosity))}var r=t.attr("class")===o.cssPrefix+"expanded";g.onSegmentEvent(o,o.options.callbacks.onMouseoverSegment,t,r)}),t.on("mouseout",function(){var t,e,n=d3.select(this);if(n.attr("class")===o.cssPrefix+"arc"?t=n.select("path"):(e=n.attr("data-index"),t=d3.select("#"+o.cssPrefix+"segment"+e)),o.options.effects.highlightSegmentOnMouseover){e=t.attr("data-index");var i=o.options.colors[e];o.options.misc.gradient.enabled&&(i="url(#"+o.cssPrefix+"grad"+e+")"),t.style("fill",i)}var r=t.attr("class")===o.cssPrefix+"expanded";g.onSegmentEvent(o,o.options.callbacks.onMouseoutSegment,t,r)})},onSegmentEvent:function(t,e,n,i){if(f.isFunction(e)){var r=parseInt(n.attr("data-index"),10);e({segment:n.node(),index:r,expanded:i,data:t.options.data.content[r]})}},openSegment:function(a,t){a.isOpeningSegment||(a.isOpeningSegment=!0,0<d3.selectAll("."+a.cssPrefix+"expanded").length&&g.closeSegment(a,d3.select("."+a.cssPrefix+"expanded").node()),d3.select(t).transition().ease(a.options.effects.pullOutSegmentOnClick.effect).duration(a.options.effects.pullOutSegmentOnClick.speed).attr("transform",function(t){var e=a.arc.centroid(t),n=e[0],i=e[1],r=Math.sqrt(n*n+i*i),o=parseInt(a.options.effects.pullOutSegmentOnClick.size,10);return"translate("+n/r*o+","+i/r*o+")"}).each("end",function(){a.currentlyOpenSegment=t,a.isOpeningSegment=!1,d3.select(this).attr("class",a.cssPrefix+"expanded")}))},closeSegment:function(t,e){d3.select(e).transition().duration(400).attr("transform","translate(0,0)").each("end",function(){d3.select(this).attr("class",""),t.currentlyOpenSegment=null})},getCentroid:function(t){var e=t.getBBox();return{x:e.x+e.width/2,y:e.y+e.height/2}},getSegmentAngle:function(t,e,n,i){var r,o=v({compounded:!0,midpoint:!1},i),a=e[t].value;if(o.compounded)for(var s=r=0;s<=t;s++)r+=e[s].value;void 0===r&&(r=a);var u=r/n*360;o.midpoint&&(u-=a/n*360/2);return u},getPercentage:function(t,e){return Math.floor(t.options.data.content[e].value/t.totalSize*100)}},l={offscreenCoord:-1e4,addTitle:function(t){t.svg.selectAll("."+t.cssPrefix+"title").data([t.options.header.title]).enter().append("text").text(function(t){return t.text}).attr("id",t.cssPrefix+"title").attr("class",t.cssPrefix+"title").attr("x",l.offscreenCoord).attr("y",l.offscreenCoord).attr("text-anchor",function(){return"top-center"===t.options.header.location||"pie-center"===t.options.header.location?"middle":"left"}).attr("fill",function(t){return t.color}).style("font-size",function(t){return t.fontSize+"px"}).style("font-family",function(t){return t.font})},positionTitle:function(t){var e,n=t.textComponents,i=t.options.header.location,r=t.options.misc.canvasPadding,o=t.options.size.canvasWidth,a=t.options.header.titleSubtitlePadding;e="top-left"===i?r.left:(o-r.right)/2+r.left;var s=r.top+n.title.h;if("pie-center"===i)if(s=t.pieCenter.y,n.subtitle.exists){s=s-(n.title.h+a+n.subtitle.h)/2+n.title.h}else s+=n.title.h/4;t.svg.select("#"+t.cssPrefix+"title").attr("x",e).attr("y",s)},addSubtitle:function(t){var e=t.options.header.location;t.svg.selectAll("."+t.cssPrefix+"subtitle").data([t.options.header.subtitle]).enter().append("text").text(function(t){return t.text}).attr("x",l.offscreenCoord).attr("y",l.offscreenCoord).attr("id",t.cssPrefix+"subtitle").attr("class",t.cssPrefix+"subtitle").attr("text-anchor",function(){return"top-center"===e||"pie-center"===e?"middle":"left"}).attr("fill",function(t){return t.color}).style("font-size",function(t){return t.fontSize+"px"}).style("font-family",function(t){return t.font})},positionSubtitle:function(t){var e,n=t.options.misc.canvasPadding,i=t.options.size.canvasWidth;e="top-left"===t.options.header.location?n.left:(i-n.right)/2+n.left;var r=l.getHeaderHeight(t);t.svg.select("#"+t.cssPrefix+"subtitle").attr("x",e).attr("y",r)},addFooter:function(e){e.svg.selectAll("."+e.cssPrefix+"footer").data([e.options.footer]).enter().append("text").text(function(t){return t.text}).attr("x",l.offscreenCoord).attr("y",l.offscreenCoord).attr("id",e.cssPrefix+"footer").attr("class",e.cssPrefix+"footer").attr("text-anchor",function(){var t="left";return"bottom-center"===e.options.footer.location?t="middle":"bottom-right"===e.options.footer.location&&(t="left"),t}).attr("fill",function(t){return t.color}).style("font-size",function(t){return t.fontSize+"px"}).style("font-family",function(t){return t.font})},positionFooter:function(t){var e,n=t.options.footer.location,i=t.textComponents.footer.w,r=t.options.size.canvasWidth,o=t.options.size.canvasHeight,a=t.options.misc.canvasPadding;e="bottom-left"===n?a.left:"bottom-right"===n?r-i-a.right:r/2,t.svg.select("#"+t.cssPrefix+"footer").attr("x",e).attr("y",o-a.bottom)},getHeaderHeight:function(t){var e;if(t.textComponents.title.exists){var n=t.textComponents.title.h+t.options.header.titleSubtitlePadding+t.textComponents.subtitle.h;e="pie-center"===t.options.header.location?t.pieCenter.y-n/2+n:n+t.options.misc.canvasPadding.top}else if("pie-center"===t.options.header.location){var i=t.options.misc.canvasPadding.bottom+t.textComponents.footer.h;e=(t.options.size.canvasHeight-i)/2+t.options.misc.canvasPadding.top+t.textComponents.subtitle.h/2}else e=t.options.misc.canvasPadding.top+t.textComponents.subtitle.h;return e}},t=function(t,e){if("string"==typeof(this.element=t)){var n=t.replace(/^#/,"");this.element=document.getElementById(n)}var i={};v(!0,i,s,e),this.options=i,null!==this.options.misc.cssPrefix?this.cssPrefix=this.options.misc.cssPrefix:(this.cssPrefix="p"+a+"_",a++),u.initialCheck(this)&&(d3.select(this.element).attr(r,o),this.options.data.content=p.sortPieData(this),this.options.data.smallSegmentGrouping.enabled&&(this.options.data.content=f.applySmallSegmentGrouping(this.options.data.content,this.options.data.smallSegmentGrouping)),this.options.colors=f.initSegmentColors(this),this.totalSize=p.getTotalPieSize(this.options.data.content),c.call(this))};t.prototype.redraw=function(){this.element.innerHTML="",c.call(this)},t.prototype.destroy=function(){this.element.innerHTML="",d3.select(this.element).attr(r,null)},t.prototype.getOpenSegment=function(){var t=this.currentlyOpenSegment;if(null!=t){var e=parseInt(d3.select(t).attr("data-index"),10);return{element:t,index:e,data:this.options.data.content[e]}}return null},t.prototype.openSegment=function(t){(t=parseInt(t,10))<0||t>this.options.data.content.length-1||g.openSegment(this,d3.select("#"+this.cssPrefix+"segment"+t).node())},t.prototype.closeSegment=function(){var t=this.currentlyOpenSegment;t&&g.closeSegment(this,t)},t.prototype.updateProp=function(t,e){switch(t){case"header.title.text":var n=f.processObj(this.options,t);f.processObj(this.options,t,e),d3.select("#"+this.cssPrefix+"title").html(e),(""===n&&""!==e||""!==n&&""===e)&&this.redraw();break;case"header.subtitle.text":var i=f.processObj(this.options,t);f.processObj(this.options,t,e),d3.select("#"+this.cssPrefix+"subtitle").html(e),(""===i&&""!==e||""!==i&&""===e)&&this.redraw();break;case"callbacks.onload":case"callbacks.onMouseoverSegment":case"callbacks.onMouseoutSegment":case"callbacks.onClickSegment":case"effects.pullOutSegmentOnClick.effect":case"effects.pullOutSegmentOnClick.speed":case"effects.pullOutSegmentOnClick.size":case"effects.highlightSegmentOnMouseover":case"effects.highlightLuminosity":f.processObj(this.options,t,e)}};var c=function(){this.svg=f.addSVGSpace(this),this.textComponents={headerHeight:0,title:{exists:""!==this.options.header.title.text,h:0,w:0},subtitle:{exists:""!==this.options.header.subtitle.text,h:0,w:0},footer:{exists:""!==this.options.footer.text,h:0,w:0}},this.outerLabelGroupData=[],this.textComponents.title.exists&&l.addTitle(this),this.textComponents.subtitle.exists&&l.addSubtitle(this),l.addFooter(this);var i=this;f.whenIdExists(this.cssPrefix+"footer",function(){l.positionFooter(i);var t=f.getDimensions(i.cssPrefix+"footer");i.textComponents.footer.h=t.h,i.textComponents.footer.w=t.w});var t=[];this.textComponents.title.exists&&t.push(this.cssPrefix+"title"),this.textComponents.subtitle.exists&&t.push(this.cssPrefix+"subtitle"),this.textComponents.footer.exists&&t.push(this.cssPrefix+"footer"),f.whenElementsExist(t,function(){if(i.textComponents.title.exists){var t=f.getDimensions(i.cssPrefix+"title");i.textComponents.title.h=t.h,i.textComponents.title.w=t.w}if(i.textComponents.subtitle.exists){var e=f.getDimensions(i.cssPrefix+"subtitle");i.textComponents.subtitle.h=e.h,i.textComponents.subtitle.w=e.w}if(i.textComponents.title.exists||i.textComponents.subtitle.exists){var n=0;i.textComponents.title.exists&&(n+=i.textComponents.title.h,i.textComponents.subtitle.exists&&(n+=i.options.header.titleSubtitlePadding)),i.textComponents.subtitle.exists&&(n+=i.textComponents.subtitle.h),i.textComponents.headerHeight=n}p.computePieRadius(i),p.calculatePieCenter(i),l.positionTitle(i),l.positionSubtitle(i),i.options.misc.gradient.enabled&&g.addGradients(i),g.create(i),h.add(i,"inner",i.options.labels.inner.format),h.add(i,"outer",i.options.labels.outer.format),h.positionLabelElements(i,"inner",i.options.labels.inner.format),h.positionLabelElements(i,"outer",i.options.labels.outer.format),h.computeOuterLabelCoords(i),h.positionLabelGroups(i,"outer"),h.computeLabelLinePositions(i),i.options.labels.lines.enabled&&"none"!==i.options.labels.outer.format&&h.addLabelLines(i),h.positionLabelGroups(i,"inner"),h.fadeInLabelsAndLines(i),g.addSegmentEventHandlers(i)})};window.d3pie=t}();