var FlipClock,Base;!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(S,t){function s(t){var e=!!t&&"length"in t&&t.length,n=dt.type(t);return"function"!==n&&!dt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}function e(t,n,r){if(dt.isFunction(n))return dt.grep(t,function(t,e){return!!n.call(t,e,t)!==r});if(n.nodeType)return dt.grep(t,function(t){return t===n!==r});if("string"==typeof n){if(St.test(n))return dt.filter(n,t,r);n=dt.filter(n,t)}return dt.grep(t,function(t){return-1<dt.inArray(t,n)!==r})}function n(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function l(t){var n={};return dt.each(t.match(Lt)||[],function(t,e){n[e]=!0}),n}function i(){rt.addEventListener?(rt.removeEventListener("DOMContentLoaded",o),S.removeEventListener("load",o)):(rt.detachEvent("onreadystatechange",o),S.detachEvent("onload",o))}function o(){(rt.addEventListener||"load"===S.event.type||"complete"===rt.readyState)&&(i(),dt.ready())}function u(t,e,n){if(n===undefined&&1===t.nodeType){var r="data-"+e.replace(Rt,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Dt.test(n)?dt.parseJSON(n):n)}catch(i){}dt.data(t,e,n)}else n=undefined}return n}function c(t){var e;for(e in t)if(("data"!==e||!dt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function r(t,e,n,r){if(Nt(t)){var i,o,a=dt.expando,s=t.nodeType,u=s?dt.cache:t,c=s?t[a]:t[a]&&a;if(c&&u[c]&&(r||u[c].data)||n!==undefined||"string"!=typeof e)return c||(c=s?t[a]=nt.pop()||dt.guid++:a),u[c]||(u[c]=s?{}:{toJSON:dt.noop}),"object"!=typeof e&&"function"!=typeof e||(r?u[c]=dt.extend(u[c],e):u[c].data=dt.extend(u[c].data,e)),o=u[c],r||(o.data||(o.data={}),o=o.data),n!==undefined&&(o[dt.camelCase(e)]=n),"string"==typeof e?null==(i=o[e])&&(i=o[dt.camelCase(e)]):i=o,i}}function a(t,e,n){if(Nt(t)){var r,i,o=t.nodeType,a=o?dt.cache:t,s=o?t[dt.expando]:dt.expando;if(a[s]){if(e&&(r=n?a[s]:a[s].data)){i=(e=dt.isArray(e)?e.concat(dt.map(e,dt.camelCase)):e in r?[e]:(e=dt.camelCase(e))in r?[e]:e.split(" ")).length;for(;i--;)delete r[e[i]];if(n?!c(r):!dt.isEmptyObject(r))return}(n||(delete a[s].data,c(a[s])))&&(o?dt.cleanData([t],!0):ft.deleteExpando||a!=a.window?delete a[s]:a[s]=undefined)}}}function f(t,e,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return dt.css(t,e,"")},u=s(),c=n&&n[3]||(dt.cssNumber[e]?"":"px"),l=(dt.cssNumber[e]||"px"!==c&&+u)&&Gt.exec(dt.css(t,e));if(l&&l[3]!==c)for(c=c||l[3],n=n||[],l=+u||1;l/=o=o||".5",dt.style(t,e,l+c),o!==(o=s()/u)&&1!==o&&--a;);return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}function v(t){var e=$t.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function y(t,e){var n,r,i=0,o="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):undefined;if(!o)for(o=[],n=t.childNodes||t;null!=(r=n[i]);i++)!e||dt.nodeName(r,e)?o.push(r):dt.merge(o,y(r,e));return e===undefined||e&&dt.nodeName(t,e)?dt.merge([t],o):o}function m(t,e){for(var n,r=0;null!=(n=t[r]);r++)dt._data(n,"globalEval",!e||dt._data(e[r],"globalEval"))}function x(t){qt.test(t.type)&&(t.defaultChecked=t.checked)}function g(t,e,n,r,i){for(var o,a,s,u,c,l,f,h=t.length,d=v(e),p=[],g=0;g<h;g++)if((a=t[g])||0===a)if("object"===dt.type(a))dt.merge(p,a.nodeType?[a]:a);else if(Wt.test(a)){for(u=u||d.appendChild(e.createElement("div")),c=(Bt.exec(a)||["",""])[1].toLowerCase(),f=Yt[c]||Yt._default,u.innerHTML=f[1]+dt.htmlPrefilter(a)+f[2],o=f[0];o--;)u=u.lastChild;if(!ft.leadingWhitespace&&Xt.test(a)&&p.push(e.createTextNode(Xt.exec(a)[0])),!ft.tbody)for(o=(a="table"!==c||Qt.test(a)?"<table>"!==f[1]||Qt.test(a)?0:u:u.firstChild)&&a.childNodes.length;o--;)dt.nodeName(l=a.childNodes[o],"tbody")&&!l.childNodes.length&&a.removeChild(l);for(dt.merge(p,u.childNodes),u.textContent="";u.firstChild;)u.removeChild(u.firstChild);u=d.lastChild}else p.push(e.createTextNode(a));for(u&&d.removeChild(u),ft.appendChecked||dt.grep(y(p,"input"),x),g=0;a=p[g++];)if(r&&-1<dt.inArray(a,r))i&&i.push(a);else if(s=dt.contains(a.ownerDocument,a),u=y(d.appendChild(a),"script"),s&&m(u),n)for(o=0;a=u[o++];)Ut.test(a.type||"")&&n.push(a);return u=null,d}function h(){return!0}function d(){return!1}function p(){try{return rt.activeElement}catch(t){}}function _(t,e,n,r,i,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(r=r||n,n=undefined),e)_(t,s,n,r,e[s],o);return t}if(null==r&&null==i?(i=n,r=n=undefined):null==i&&("string"==typeof n?(i=r,r=undefined):(i=r,r=n,n=undefined)),!1===i)i=d;else if(!i)return t;return 1===o&&(a=i,(i=function(t){return dt().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=dt.guid++)),t.each(function(){dt.event.add(this,e,i,r,n)})}function b(t,e){return dt.nodeName(t,"table")&&dt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function w(t){return t.type=(null!==dt.find.attr(t,"type"))+"/"+t.type,t}function T(t){var e=se.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function M(t,e){if(1===e.nodeType&&dt.hasData(t)){var n,r,i,o=dt._data(t),a=dt._data(e,o),s=o.events;if(s)for(n in delete a.handle,a.events={},s)for(r=0,i=s[n].length;r<i;r++)dt.event.add(e,n,s[n][r]);a.data&&(a.data=dt.extend({},a.data))}}function C(t,e){var n,r,i;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!ft.noCloneEvent&&e[dt.expando]){for(r in(i=dt._data(e)).events)dt.removeEvent(e,r,i.handle);e.removeAttribute(dt.expando)}"script"===n&&e.text!==t.text?(w(e).text=t.text,T(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),ft.html5Clone&&t.innerHTML&&!dt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&qt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function A(n,r,i,o){r=ot.apply([],r);var t,e,a,s,u,c,l=0,f=n.length,h=f-1,d=r[0],p=dt.isFunction(d);if(p||1<f&&"string"==typeof d&&!ft.checkClone&&ae.test(d))return n.each(function(t){var e=n.eq(t);p&&(r[0]=d.call(this,t,e.html())),A(e,r,i,o)});if(f&&(t=(c=g(r,n[0].ownerDocument,!1,n,o)).firstChild,1===c.childNodes.length&&(c=t),t||o)){for(a=(s=dt.map(y(c,"script"),w)).length;l<f;l++)e=c,l!==h&&(e=dt.clone(e,!0,!0),a&&dt.merge(s,y(e,"script"))),i.call(n[l],e,l);if(a)for(u=s[s.length-1].ownerDocument,dt.map(s,T),l=0;l<a;l++)e=s[l],Ut.test(e.type||"")&&!dt._data(e,"globalEval")&&dt.contains(u,e)&&(e.src?dt._evalUrl&&dt._evalUrl(e.src):dt.globalEval((e.text||e.textContent||e.innerHTML||"").replace(ue,"")));c=t=null}return n}function k(t,e,n){for(var r,i=e?dt.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||dt.cleanData(y(r)),r.parentNode&&(n&&dt.contains(r.ownerDocument,r)&&m(y(r,"script")),r.parentNode.removeChild(r));return t}function E(t,e){var n=dt(e.createElement(t)).appendTo(e.body),r=dt.css(n[0],"display");return n.detach(),r}function L(t){var e=rt,n=fe[t];return n||("none"!==(n=E(t,e))&&n||((e=((le=(le||dt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||le[0].contentDocument).document).write(),e.close(),n=E(t,e),le.detach()),fe[t]=n),n}function P(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function N(t){if(t in Ce)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=Me.length;n--;)if((t=Me[n]+e)in Ce)return t}function D(t,e){for(var n,r,i,o=[],a=0,s=t.length;a<s;a++)(r=t[a]).style&&(o[a]=dt._data(r,"olddisplay"),n=r.style.display,e?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&jt(r)&&(o[a]=dt._data(r,"olddisplay",L(r.nodeName)))):(i=jt(r),(n&&"none"!==n||!i)&&dt._data(r,"olddisplay",i?n:dt.css(r,"display"))));for(a=0;a<s;a++)(r=t[a]).style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[a]||"":"none"));return t}function R(t,e,n){var r=we.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function I(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=dt.css(t,n+zt[o],!0,i)),r?("content"===n&&(a-=dt.css(t,"padding"+zt[o],!0,i)),"margin"!==n&&(a-=dt.css(t,"border"+zt[o]+"Width",!0,i))):(a+=dt.css(t,"padding"+zt[o],!0,i),"padding"!==n&&(a+=dt.css(t,"border"+zt[o]+"Width",!0,i)));return a}function O(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=ve(t),a=ft.boxSizing&&"border-box"===dt.css(t,"boxSizing",!1,o);if(i<=0||null==i){if(((i=ye(t,e,o))<0||null==i)&&(i=t.style[e]),de.test(i))return i;r=a&&(ft.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+I(t,e,n||(a?"border":"content"),r,o)+"px"}function F(t,e,n,r,i){return new F.prototype.init(t,e,n,r,i)}function V(){return S.setTimeout(function(){Ae=undefined}),Ae=dt.now()}function G(t,e){var n,r={height:t},i=0;for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=zt[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function z(t,e,n){for(var r,i=(q.tweeners[e]||[]).concat(q.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,e,t))return r}function j(e,t,n){var r,i,o,a,s,u,c,l=this,f={},h=e.style,d=e.nodeType&&jt(e),p=dt._data(e,"fxshow");for(r in n.queue||(null==(s=dt._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,l.always(function(){l.always(function(){s.unqueued--,dt.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(c=dt.css(e,"display"))?dt._data(e,"olddisplay")||L(e.nodeName):c)&&"none"===dt.css(e,"float")&&(ft.inlineBlockNeedsLayout&&"inline"!==L(e.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",ft.shrinkWrapBlocks()||l.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),t)if(i=t[r],Re.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(d?"hide":"show")){if("show"!==i||!p||p[r]===undefined)continue;d=!0}f[r]=p&&p[r]||dt.style(e,r)}else c=undefined;if(dt.isEmptyObject(f))"inline"===("none"===c?L(e.nodeName):c)&&(h.display=c);else for(r in p?"hidden"in p&&(d=p.hidden):p=dt._data(e,"fxshow",{}),o&&(p.hidden=!d),d?dt(e).show():l.done(function(){dt(e).hide()}),l.done(function(){var t;for(t in dt._removeData(e,"fxshow"),f)dt.style(e,t,f[t])}),f)a=z(d?p[r]:0,r,l),r in p||(p[r]=a.start,d&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}function H(t,e){var n,r,i,o,a;for(n in t)if(i=e[r=dt.camelCase(n)],o=t[n],dt.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(a=dt.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}function q(o,t,e){var n,a,r=0,i=q.prefilters.length,s=dt.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var t=Ae||V(),e=Math.max(0,c.startTime+c.duration-t),n=1-(e/c.duration||0),r=0,i=c.tweens.length;r<i;r++)c.tweens[r].run(n);return s.notifyWith(o,[c,n,e]),n<1&&i?e:(s.resolveWith(o,[c]),!1)},c=s.promise({elem:o,props:dt.extend({},t),opts:dt.extend(!0,{specialEasing:{},easing:dt.easing._default},e),originalProperties:t,originalOptions:e,startTime:Ae||V(),duration:e.duration,tweens:[],createTween:function(t,e){var n=dt.Tween(o,c.opts,t,e,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var e=0,n=t?c.tweens.length:0;if(a)return this;for(a=!0;e<n;e++)c.tweens[e].run(1);return t?(s.notifyWith(o,[c,1,0]),s.resolveWith(o,[c,t])):s.rejectWith(o,[c,t]),this}}),l=c.props;for(H(l,c.opts.specialEasing);r<i;r++)if(n=q.prefilters[r].call(c,o,l,c.opts))return dt.isFunction(n.stop)&&(dt._queueHooks(c.elem,c.opts.queue).stop=dt.proxy(n.stop,n)),n;return dt.map(l,z,c),dt.isFunction(c.opts.start)&&c.opts.start.call(o,c),dt.fx.timer(dt.extend(u,{elem:o,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function B(t){return dt.attr(t,"class")||""}function U(o){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,r=0,i=t.toLowerCase().match(Lt)||[];if(dt.isFunction(e))for(;n=i[r++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(e)):(o[n]=o[n]||[]).push(e)}}function X(e,i,o,a){function s(t){var r;return u[t]=!0,dt.each(e[t]||[],function(t,e){var n=e(i,o,a);return"string"!=typeof n||c||u[n]?c?!(r=n):void 0:(i.dataTypes.unshift(n),s(n),!1)}),r}var u={},c=e===an;return s(i.dataTypes[0])||!u["*"]&&s("*")}function $(t,e){var n,r,i=dt.ajaxSettings.flatOptions||{};for(r in e)e[r]!==undefined&&((i[r]?t:n||(n={}))[r]=e[r]);return n&&dt.extend(!0,t,n),t}function Y(t,e,n){for(var r,i,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),i===undefined&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||t.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}if(o)return o!==u[0]&&u.unshift(o),n[o]}function W(t,e,n,r){var i,o,a,s,u,c={},l=t.dataTypes.slice();if(l[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=c[u+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(f){return{state:"parsererror",error:a?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function Q(t){return t.style&&t.style.display||dt.css(t,"display")}function Z(t){if(!dt.contains(t.ownerDocument||rt,t))return!0;for(;t&&1===t.nodeType;){if("none"===Q(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function K(n,t,r,i){var e;if(dt.isArray(t))dt.each(t,function(t,e){r||fn.test(n)?i(n,e):K(n+"["+("object"==typeof e&&null!=e?t:"")+"]",e,r,i)});else if(r||"object"!==dt.type(t))i(n,t);else for(e in t)K(n+"["+e+"]",t[e],r,i)}function J(){try{return new S.XMLHttpRequest}catch(t){}}function tt(){try{return new S.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function et(t){return dt.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var nt=[],rt=S.document,it=nt.slice,ot=nt.concat,at=nt.push,st=nt.indexOf,ut={},ct=ut.toString,lt=ut.hasOwnProperty,ft={},ht="1.12.4",dt=function(t,e){return new dt.fn.init(t,e)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gt=/^-ms-/,vt=/-([\da-z])/gi,yt=function(t,e){return e.toUpperCase()};dt.fn=dt.prototype={jquery:ht,constructor:dt,selector:"",length:0,toArray:function(){return it.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:it.call(this)},pushStack:function(t){var e=dt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return dt.each(this,t)},map:function(n){return this.pushStack(dt.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(it.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:at,sort:nt.sort,splice:nt.splice},dt.extend=dt.fn.extend=function(t){var e,n,r,i,o,a,s=t||{},u=1,c=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[u]||{},u++),"object"==typeof s||dt.isFunction(s)||(s={}),u===c&&(s=this,u--);u<c;u++)if(null!=(o=arguments[u]))for(i in o)e=s[i],s!==(r=o[i])&&(l&&r&&(dt.isPlainObject(r)||(n=dt.isArray(r)))?(n?(n=!1,a=e&&dt.isArray(e)?e:[]):a=e&&dt.isPlainObject(e)?e:{},s[i]=dt.extend(l,a,r)):r!==undefined&&(s[i]=r));return s},dt.extend({expando:"jQuery"+(ht+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===dt.type(t)},isArray:Array.isArray||function(t){return"array"===dt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!dt.isArray(t)&&0<=e-parseFloat(e)+1},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==dt.type(t)||t.nodeType||dt.isWindow(t))return!1;try{if(t.constructor&&!lt.call(t,"constructor")&&!lt.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!ft.ownFirst)for(e in t)return lt.call(t,e);for(e in t);return e===undefined||lt.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ut[ct.call(t)]||"object":typeof t},globalEval:function(t){t&&dt.trim(t)&&(S.execScript||function(t){S.eval.call(S,t)})(t)},camelCase:function(t){return t.replace(gt,"ms-").replace(vt,yt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,r=0;if(s(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(pt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(s(Object(t))?dt.merge(n,"string"==typeof t?[t]:t):at.call(n,t)),n},inArray:function(t,e,n){var r;if(e){if(st)return st.call(e,t,n);for(r=e.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;)t[i++]=e[r++];if(n!=n)for(;e[r]!==undefined;)t[i++]=e[r++];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,a=!n;i<o;i++)!e(t[i],i)!==a&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,a=[];if(s(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&a.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&a.push(i);return ot.apply([],a)},guid:1,proxy:function(t,e){var n,r,i;return"string"==typeof e&&(i=t[e],e=t,t=i),dt.isFunction(t)?(n=it.call(arguments,2),(r=function(){return t.apply(e||this,n.concat(it.call(arguments)))}).guid=t.guid=t.guid||dt.guid++,r):undefined},now:function(){return+new Date},support:ft}),"function"==typeof Symbol&&(dt.fn[Symbol.iterator]=nt[Symbol.iterator]),dt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ut["[object "+e+"]"]=e.toLowerCase()});var mt=function(n){function _(t,e,n,r){var i,o,a,s,u,c,l,f,h=e&&e.ownerDocument,d=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return n;if(!r&&((e?e.ownerDocument||e:z)!==N&&P(e),e=e||N,R)){if(11!==d&&(c=yt.exec(t)))if(i=c[1]){if(9===d){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(h&&(a=h.getElementById(i))&&V(e,a)&&a.id===i)return n.push(a),n}else{if(c[2])return K.apply(n,e.getElementsByTagName(t)),n;if((i=c[3])&&y.getElementsByClassName&&e.getElementsByClassName)return K.apply(n,e.getElementsByClassName(i)),n}if(y.qsa&&!U[t+" "]&&(!I||!I.test(t))){if(1!==d)h=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(xt,"\\$&"):e.setAttribute("id",s=G),o=(l=M(t)).length,u=ht.test(s)?"#"+s:"[id='"+s+"']";o--;)l[o]=u+" "+v(l[o]);f=l.join(","),h=mt.test(t)&&g(e.parentNode)||e}if(f)try{return K.apply(n,h.querySelectorAll(f)),n}catch(p){}finally{s===G&&e.removeAttribute("id")}}}return A(t.replace(st,"$1"),e,n,r)}function t(){function n(t,e){return r.push(t+" ")>w.cacheLength&&delete n[r.shift()],n[t+" "]=e}var r=[];return n}function u(t){return t[G]=!0,t}function i(t){var e=N.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function e(t,e){for(var n=t.split("|"),r=n.length;r--;)w.attrHandle[n[r]]=e}function c(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||$)-(~t.sourceIndex||$);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function r(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function o(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function a(a){return u(function(o){return o=+o,u(function(t,e){for(var n,r=a([],t.length,o),i=r.length;i--;)t[n=r[i]]&&(t[n]=!(e[n]=t[n]))})})}function g(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function s(){}function v(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function f(s,t,e){var u=t.dir,c=e&&"parentNode"===u,l=H++;return t.first?function(t,e,n){for(;t=t[u];)if(1===t.nodeType||c)return s(t,e,n)}:function(t,e,n){var r,i,o,a=[j,l];if(n){for(;t=t[u];)if((1===t.nodeType||c)&&s(t,e,n))return!0}else for(;t=t[u];)if(1===t.nodeType||c){if((r=(i=(o=t[G]||(t[G]={}))[t.uniqueID]||(o[t.uniqueID]={}))[u])&&r[0]===j&&r[1]===l)return a[2]=r[2];if((i[u]=a)[2]=s(t,e,n))return!0}}}function h(i){return 1<i.length?function(t,e,n){for(var r=i.length;r--;)if(!i[r](t,e,n))return!1;return!0}:i[0]}function m(t,e,n){for(var r=0,i=e.length;r<i;r++)_(t,e[r],n);return n}function b(t,e,n,r,i){for(var o,a=[],s=0,u=t.length,c=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,r,i)||(a.push(o),c&&e.push(s)));return a}function x(d,p,g,v,y,t){return v&&!v[G]&&(v=x(v)),y&&!y[G]&&(y=x(y,t)),u(function(t,e,n,r){var i,o,a,s=[],u=[],c=e.length,l=t||m(p||"*",n.nodeType?[n]:n,[]),f=!d||!t&&p?l:b(l,s,d,n,r),h=g?y||(t?d:c||v)?[]:e:f;if(g&&g(f,h,n,r),v)for(i=b(h,u),v(i,[],n,r),o=i.length;o--;)(a=i[o])&&(h[u[o]]=!(f[u[o]]=a));if(t){if(y||d){if(y){for(i=[],o=h.length;o--;)(a=h[o])&&i.push(f[o]=a);y(null,h=[],i,r)}for(o=h.length;o--;)(a=h[o])&&-1<(i=y?tt(t,a):s[o])&&(t[i]=!(e[i]=a))}}else h=b(h===e?h.splice(c,h.length):h),y?y(null,e,h,r):K.apply(e,h)})}function d(t){for(var i,e,n,r=t.length,o=w.relative[t[0].type],a=o||w.relative[" "],s=o?1:0,u=f(function(t){return t===i},a,!0),c=f(function(t){return-1<tt(i,t)},a,!0),l=[function(t,e,n){var r=!o&&(n||e!==k)||((i=e).nodeType?u(t,e,n):c(t,e,n));return i=null,r}];s<r;s++)if(e=w.relative[t[s].type])l=[f(h(l),e)];else{if((e=w.filter[t[s].type].apply(null,t[s].matches))[G]){for(n=++s;n<r&&!w.relative[t[n].type];n++);return x(1<s&&h(l),1<s&&v(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),e,s<n&&d(t.slice(s,n)),n<r&&d(t=t.slice(n)),n<r&&v(t))}l.push(e)}return h(l)}function l(v,y){var m=0<y.length,x=0<v.length,t=function(t,e,n,r,i){var o,a,s,u=0,c="0",l=t&&[],f=[],h=k,d=t||x&&w.find.TAG("*",i),p=j+=null==h?1:Math.random()||.1,g=d.length;for(i&&(k=e===N||e||i);c!==g&&null!=(o=d[c]);c++){if(x&&o){for(a=0,e||o.ownerDocument===N||(P(o),n=!R);s=v[a++];)if(s(o,e||N,n)){r.push(o);break}i&&(j=p)}m&&((o=!s&&o)&&u--,t&&l.push(o))}if(u+=c,m&&c!==u){for(a=0;s=y[a++];)s(l,f,e,n);if(t){if(0<u)for(;c--;)l[c]||f[c]||(f[c]=Q.call(r));f=b(f)}K.apply(r,f),i&&!t&&0<f.length&&1<u+y.length&&_.uniqueSort(r)}return i&&(j=p,k=h),l};return m?u(t):t}var p,y,w,S,T,M,C,A,k,E,L,P,N,D,R,I,O,F,V,G="sizzle"+1*new Date,z=n.document,j=0,H=0,q=t(),B=t(),U=t(),X=function(t,e){return t===e&&(L=!0),0},$=1<<31,Y={}.hasOwnProperty,W=[],Q=W.pop,Z=W.push,K=W.push,J=W.slice,tt=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",ot=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),lt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ft=new RegExp(ot),ht=new RegExp("^"+rt+"$"),dt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mt=/[+~]/,xt=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),bt=function(t,e,n){var r="0x"+e-65536;return r!=r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},wt=function(){P()};try{K.apply(W=J.call(z.childNodes),z.childNodes),W[z.childNodes.length].nodeType}catch(St){K={apply:W.length?function(t,e){Z.apply(t,J.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}for(p in y=_.support={},T=_.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},P=_.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:z;return r!==N&&9===r.nodeType&&r.documentElement&&(D=(N=r).documentElement,R=!T(N),(n=N.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",wt,!1):n.attachEvent&&n.attachEvent("onunload",wt)),y.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),y.getElementsByTagName=i(function(t){return t.appendChild(N.createComment("")),!t.getElementsByTagName("*").length}),y.getElementsByClassName=vt.test(N.getElementsByClassName),y.getById=i(function(t){return D.appendChild(t).id=G,!N.getElementsByName||!N.getElementsByName(G).length}),y.getById?(w.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&R){var n=e.getElementById(t);return n?[n]:[]}},w.filter.ID=function(t){var e=t.replace(_t,bt);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var n=t.replace(_t,bt);return function(t){var e="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}}),w.find.TAG=y.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):y.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},w.find.CLASS=y.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&R)return e.getElementsByClassName(t)},O=[],I=[],(y.qsa=vt.test(N.querySelectorAll))&&(i(function(t){D.appendChild(t).innerHTML="<a id='"+G+"'></a><select id='"+G+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||I.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+G+"-]").length||I.push("~="),t.querySelectorAll(":checked").length||I.push(":checked"),t.querySelectorAll("a#"+G+"+*").length||I.push(".#.+[+~]")}),i(function(t){var e=N.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&I.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),I.push(",.*:")})),(y.matchesSelector=vt.test(F=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&i(function(t){y.disconnectedMatch=F.call(t,"div"),F.call(t,"[s!='']:x"),O.push("!=",ot)}),I=I.length&&new RegExp(I.join("|")),O=O.length&&new RegExp(O.join("|")),e=vt.test(D.compareDocumentPosition),V=e||vt.test(D.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},X=e?function(t,e){if(t===e)return L=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!y.sortDetached&&e.compareDocumentPosition(t)===n?t===N||t.ownerDocument===z&&V(z,t)?-1:e===N||e.ownerDocument===z&&V(z,e)?1:E?tt(E,t)-tt(E,e):0:4&n?-1:1)}:function(t,e){if(t===e)return L=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!i||!o)return t===N?-1:e===N?1:i?-1:o?1:E?tt(E,t)-tt(E,e):0;if(i===o)return c(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?c(a[r],s[r]):a[r]===z?-1:s[r]===z?1:0}),N},_.matches=function(t,e){return _(t,null,null,e)},_.matchesSelector=function(t,e){if((t.ownerDocument||t)!==N&&P(t),e=e.replace(lt,"='$1']"),y.matchesSelector&&R&&!U[e+" "]&&(!O||!O.test(e))&&(!I||!I.test(e)))try{var n=F.call(t,e);if(n||y.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(St){}return 0<_(e,N,null,[t]).length},_.contains=function(t,e){return(t.ownerDocument||t)!==N&&P(t),V(t,e)},_.attr=function(t,e){(t.ownerDocument||t)!==N&&P(t);var n=w.attrHandle[e.toLowerCase()],r=n&&Y.call(w.attrHandle,e.toLowerCase())?n(t,e,!R):undefined;return r!==undefined?r:y.attributes||!R?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},_.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},_.uniqueSort=function(t){var e,n=[],r=0,i=0;if(L=!y.detectDuplicates,E=!y.sortStable&&t.slice(0),t.sort(X),L){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return E=null,t},S=_.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=S(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=S(e);return n},(w=_.selectors={cacheLength:50,createPseudo:u,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||_.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&_.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ft.test(n)&&(e=M(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=q[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&q(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(t){var e=_.attr(t,n);return null==e?"!="===r:!r||(e+="","="===r?e===i:"!="===r?e!==i:"^="===r?i&&0===e.indexOf(i):"*="===r?i&&-1<e.indexOf(i):"$="===r?i&&e.slice(-i.length)===i:"~="===r?-1<(" "+e.replace(at," ")+" ").indexOf(i):"|="===r&&(e===i||e.slice(0,i.length+1)===i+"-"))}},CHILD:function(p,t,e,g,v){var y="nth"!==p.slice(0,3),m="last"!==p.slice(-4),x="of-type"===t;return 1===g&&0===v?function(t){return!!t.parentNode}:function(t,e,n){var r,i,o,a,s,u,c=y!==m?"nextSibling":"previousSibling",l=t.parentNode,f=x&&t.nodeName.toLowerCase(),h=!n&&!x,d=!1;if(l){if(y){for(;c;){for(a=t;a=a[c];)if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=c="only"===p&&!u&&"nextSibling"}return!0}if(u=[m?l.firstChild:l.lastChild],m&&h){for(d=(s=(r=(i=(o=(a=l)[G]||(a[G]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]||[])[0]===j&&r[1])&&r[2],a=s&&l.childNodes[s];a=++s&&a&&a[c]||(d=s=0)||u.pop();)if(1===a.nodeType&&++d&&a===t){i[p]=[j,s,d];break}}else if(h&&(d=s=(r=(i=(o=(a=t)[G]||(a[G]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]||[])[0]===j&&r[1]),!1===d)for(;(a=++s&&a&&a[c]||(d=s=0)||u.pop())&&((x?a.nodeName.toLowerCase()!==f:1!==a.nodeType)||!++d||(h&&((i=(o=a[G]||(a[G]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]=[j,d]),a!==t)););return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(t,o){var e,a=w.pseudos[t]||w.setFilters[t.toLowerCase()]||_.error("unsupported pseudo: "+t);return a[G]?a(o):1<a.length?(e=[t,t,"",o],w.setFilters.hasOwnProperty(t.toLowerCase())?u(function(t,e){for(var n,r=a(t,o),i=r.length;i--;)t[n=tt(t,r[i])]=!(e[n]=r[i])}):function(t){
return a(t,0,e)}):a}},pseudos:{not:u(function(t){var r=[],i=[],s=C(t.replace(st,"$1"));return s[G]?u(function(t,e,n,r){for(var i,o=s(t,null,r,[]),a=t.length;a--;)(i=o[a])&&(t[a]=!(e[a]=i))}):function(t,e,n){return r[0]=t,s(r,null,n,i),r[0]=null,!i.pop()}}),has:u(function(e){return function(t){return 0<_(e,t).length}}),contains:u(function(e){return e=e.replace(_t,bt),function(t){return-1<(t.textContent||t.innerText||S(t)).indexOf(e)}}),lang:u(function(n){return ht.test(n||"")||_.error("unsupported lang: "+n),n=n.replace(_t,bt).toLowerCase(),function(t){var e;do{if(e=R?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===D},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:a(function(){return[0]}),last:a(function(t,e){return[e-1]}),eq:a(function(t,e,n){return[n<0?n+e:n]}),even:a(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:a(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:a(function(t,e,n){for(var r=n<0?n+e:n;0<=--r;)t.push(r);return t}),gt:a(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[p]=r(p);for(p in{submit:!0,reset:!0})w.pseudos[p]=o(p);return s.prototype=w.filters=w.pseudos,w.setFilters=new s,M=_.tokenize=function(t,e){var n,r,i,o,a,s,u,c=B[t+" "];if(c)return e?0:c.slice(0);for(a=t,s=[],u=w.preFilter;a;){for(o in n&&!(r=ut.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=ct.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(st," ")}),a=a.slice(n.length)),w.filter)!(r=dt[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?_.error(t):B(t,s).slice(0)},C=_.compile=function(t,e){var n,r=[],i=[],o=U[t+" "];if(!o){for(e||(e=M(t)),n=e.length;n--;)(o=d(e[n]))[G]?r.push(o):i.push(o);(o=U(t,l(i,r))).selector=t}return o},A=_.select=function(t,e,n,r){var i,o,a,s,u,c="function"==typeof t&&t,l=!r&&M(t=c.selector||t);if(n=n||[],1===l.length){if(2<(o=l[0]=l[0].slice(0)).length&&"ID"===(a=o[0]).type&&y.getById&&9===e.nodeType&&R&&w.relative[o[1].type]){if(!(e=(w.find.ID(a.matches[0].replace(_t,bt),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=dt.needsContext.test(t)?0:o.length;i--&&(a=o[i],!w.relative[s=a.type]);)if((u=w.find[s])&&(r=u(a.matches[0].replace(_t,bt),mt.test(o[0].type)&&g(e.parentNode)||e))){if(o.splice(i,1),!(t=r.length&&v(o)))return K.apply(n,r),n;break}}return(c||C(t,l))(r,e,!R,n,!e||mt.test(t)&&g(e.parentNode)||e),n},y.sortStable=G.split("").sort(X).join("")===G,y.detectDuplicates=!!L,P(),y.sortDetached=i(function(t){return 1&t.compareDocumentPosition(N.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||e("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),y.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||e("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||e(et,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),_}(S);dt.find=mt,dt.expr=mt.selectors,dt.expr[":"]=dt.expr.pseudos,dt.uniqueSort=dt.unique=mt.uniqueSort,dt.text=mt.getText,dt.isXMLDoc=mt.isXML,dt.contains=mt.contains;var xt=function(t,e,n){for(var r=[],i=n!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&dt(t).is(n))break;r.push(t)}return r},_t=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},bt=dt.expr.match.needsContext,wt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,St=/^.[^:#\[\.,]*$/;dt.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?dt.find.matchesSelector(r,t)?[r]:[]:dt.find.matches(t,dt.grep(e,function(t){return 1===t.nodeType}))},dt.fn.extend({find:function(t){var e,n=[],r=this,i=r.length;if("string"!=typeof t)return this.pushStack(dt(t).filter(function(){for(e=0;e<i;e++)if(dt.contains(r[e],this))return!0}));for(e=0;e<i;e++)dt.find(t,r[e],n);return(n=this.pushStack(1<i?dt.unique(n):n)).selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(e(this,t||[],!1))},not:function(t){return this.pushStack(e(this,t||[],!0))},is:function(t){return!!e(this,"string"==typeof t&&bt.test(t)?dt(t):t||[],!1).length}});var Tt,Mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(dt.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||Tt,"string"==typeof t){if(!(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&3<=t.length?[null,t,null]:Mt.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof dt?e[0]:e,dt.merge(this,dt.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:rt,!0)),wt.test(r[1])&&dt.isPlainObject(e))for(r in e)dt.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}if((i=rt.getElementById(r[2]))&&i.parentNode){if(i.id!==r[2])return Tt.find(t);this.length=1,this[0]=i}return this.context=rt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):dt.isFunction(t)?"undefined"!=typeof n.ready?n.ready(t):t(dt):(t.selector!==undefined&&(this.selector=t.selector,this.context=t.context),dt.makeArray(t,this))}).prototype=dt.fn,Tt=dt(rt);var Ct=/^(?:parents|prev(?:Until|All))/,At={children:!0,contents:!0,next:!0,prev:!0};dt.fn.extend({has:function(t){var e,n=dt(t,this),r=n.length;return this.filter(function(){for(e=0;e<r;e++)if(dt.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,o=[],a=bt.test(t)||"string"!=typeof t?dt(t,e||this.context):0;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&dt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(1<o.length?dt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?dt.inArray(this[0],dt(t)):dt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(dt.uniqueSort(dt.merge(this.get(),dt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),dt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return xt(t,"parentNode")},parentsUntil:function(t,e,n){return xt(t,"parentNode",n)},next:function(t){return n(t,"nextSibling")},prev:function(t){return n(t,"previousSibling")},nextAll:function(t){return xt(t,"nextSibling")},prevAll:function(t){return xt(t,"previousSibling")},nextUntil:function(t,e,n){return xt(t,"nextSibling",n)},prevUntil:function(t,e,n){return xt(t,"previousSibling",n)},siblings:function(t){return _t((t.parentNode||{}).firstChild,t)},children:function(t){return _t(t.firstChild)},contents:function(t){return dt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:dt.merge([],t.childNodes)}},function(r,i){dt.fn[r]=function(t,e){var n=dt.map(this,i,t);return"Until"!==r.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=dt.filter(e,n)),1<this.length&&(At[r]||(n=dt.uniqueSort(n)),Ct.test(r)&&(n=n.reverse())),this.pushStack(n)}});var kt,Et,Lt=/\S+/g;for(Et in dt.Callbacks=function(r){r="string"==typeof r?l(r):dt.extend({},r);var i,t,e,n,o=[],a=[],s=-1,u=function(){for(n=r.once,e=i=!0;a.length;s=-1)for(t=a.shift();++s<o.length;)!1===o[s].apply(t[0],t[1])&&r.stopOnFalse&&(s=o.length,t=!1);r.memory||(t=!1),i=!1,n&&(o=t?[]:"")},c={add:function(){return o&&(t&&!i&&(s=o.length-1,a.push(t)),function n(t){dt.each(t,function(t,e){dt.isFunction(e)?r.unique&&c.has(e)||o.push(e):e&&e.length&&"string"!==dt.type(e)&&n(e)})}(arguments),t&&!i&&u()),this},remove:function(){return dt.each(arguments,function(t,e){for(var n;-1<(n=dt.inArray(e,o,n));)o.splice(n,1),n<=s&&s--}),this},has:function(t){return t?-1<dt.inArray(t,o):0<o.length},empty:function(){return o&&(o=[]),this},disable:function(){return n=a=[],o=t="",this},disabled:function(){return!o},lock:function(){return n=!0,t||c.disable(),this},locked:function(){return!!n},fireWith:function(t,e){return n||(e=[t,(e=e||[]).slice?e.slice():e],a.push(e),i||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!e}};return c},dt.extend({Deferred:function(t){var o=[["resolve","done",dt.Callbacks("once memory"),"resolved"],["reject","fail",dt.Callbacks("once memory"),"rejected"],["notify","progress",dt.Callbacks("memory")]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var i=arguments;return dt.Deferred(function(r){dt.each(o,function(t,e){var n=dt.isFunction(i[t])&&i[t];s[e[1]](function(){var t=n&&n.apply(this,arguments);t&&dt.isFunction(t.promise)?t.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[e[0]+"With"](this===a?r.promise():this,n?[t]:arguments)})}),i=null}).promise()},promise:function(t){return null!=t?dt.extend(t,a):a}},s={};return a.pipe=a.then,dt.each(o,function(t,e){var n=e[2],r=e[3];a[e[1]]=n.add,r&&n.add(function(){i=r},o[1^t][2].disable,o[2][2].lock),s[e[0]]=function(){return s[e[0]+"With"](this===s?a:this,arguments),this},s[e[0]+"With"]=n.fireWith}),a.promise(s),t&&t.call(s,s),s},when:function(t){var i,e,n,r=0,o=it.call(arguments),a=o.length,s=1!==a||t&&dt.isFunction(t.promise)?a:0,u=1===s?t:dt.Deferred(),c=function(e,n,r){return function(t){n[e]=this,r[e]=1<arguments.length?it.call(arguments):t,r===i?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(1<a)for(i=new Array(a),e=new Array(a),n=new Array(a);r<a;r++)o[r]&&dt.isFunction(o[r].promise)?o[r].promise().progress(c(r,e,i)).done(c(r,n,o)).fail(u.reject):--s;return s||u.resolveWith(n,o),u.promise()}}),dt.fn.ready=function(t){return dt.ready.promise().done(t),this},dt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?dt.readyWait++:dt.ready(!0)},ready:function(t){(!0===t?--dt.readyWait:dt.isReady)||(dt.isReady=!0)!==t&&0<--dt.readyWait||(kt.resolveWith(rt,[dt]),dt.fn.triggerHandler&&(dt(rt).triggerHandler("ready"),dt(rt).off("ready")))}}),dt.ready.promise=function(e){if(!kt)if(kt=dt.Deferred(),"complete"===rt.readyState||"loading"!==rt.readyState&&!rt.documentElement.doScroll)S.setTimeout(dt.ready);else if(rt.addEventListener)rt.addEventListener("DOMContentLoaded",o),S.addEventListener("load",o);else{rt.attachEvent("onreadystatechange",o),S.attachEvent("onload",o);var n=!1;try{n=null==S.frameElement&&rt.documentElement}catch(r){}n&&n.doScroll&&function t(){if(!dt.isReady){try{n.doScroll("left")}catch(r){return S.setTimeout(t,50)}i(),dt.ready()}}()}return kt.promise(e)},dt.ready.promise(),dt(ft))break;ft.ownFirst="0"===Et,ft.inlineBlockNeedsLayout=!1,dt(function(){var t,e,n,r;(n=rt.getElementsByTagName("body")[0])&&n.style&&(e=rt.createElement("div"),(r=rt.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ft.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(r))}),function(){var t=rt.createElement("div");ft.deleteExpando=!0;try{delete t.test}catch(e){ft.deleteExpando=!1}t=null}();var Pt,Nt=function(t){var e=dt.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)},Dt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Rt=/([A-Z])/g;dt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?dt.cache[t[dt.expando]]:t[dt.expando])&&!c(t)},data:function(t,e,n){return r(t,e,n)},removeData:function(t,e){return a(t,e)},_data:function(t,e,n){return r(t,e,n,!0)},_removeData:function(t,e){return a(t,e,!0)}}),dt.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(t===undefined){if(this.length&&(i=dt.data(o),1===o.nodeType&&!dt._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&u(o,r=dt.camelCase(r.slice(5)),i[r]);dt._data(o,"parsedAttrs",!0)}return i}return"object"==typeof t?this.each(function(){dt.data(this,t)}):1<arguments.length?this.each(function(){dt.data(this,t,e)}):o?u(o,t,dt.data(o,t)):undefined},removeData:function(t){return this.each(function(){dt.removeData(this,t)})}}),dt.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=dt._data(t,e),n&&(!r||dt.isArray(n)?r=dt._data(t,e,dt.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=dt.queue(t,e),r=n.length,i=n.shift(),o=dt._queueHooks(t,e),a=function(){dt.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return dt._data(t,n)||dt._data(t,n,{empty:dt.Callbacks("once memory").add(function(){dt._removeData(t,e+"queue"),dt._removeData(t,n)})})}}),dt.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?dt.queue(this[0],e):n===undefined?this:this.each(function(){var t=dt.queue(this,e,n);dt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&dt.dequeue(this,e)})},dequeue:function(t){return this.each(function(){dt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=dt.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";a--;)(n=dt._data(o[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}}),ft.shrinkWrapBlocks=function(){return null!=Pt?Pt:(Pt=!1,(e=rt.getElementsByTagName("body")[0])&&e.style?(t=rt.createElement("div"),(n=rt.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(n).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(rt.createElement("div")).style.width="5px",Pt=3!==t.offsetWidth),e.removeChild(n),Pt):void 0);var t,e,n};var It,Ot,Ft,Vt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Gt=new RegExp("^(?:([+-])=|)("+Vt+")([a-z%]*)$","i"),zt=["Top","Right","Bottom","Left"],jt=function(t,e){return t=e||t,"none"===dt.css(t,"display")||!dt.contains(t.ownerDocument,t)},Ht=function(t,e,n,r,i,o,a){var s=0,u=t.length,c=null==n;if("object"===dt.type(n))for(s in i=!0,n)Ht(t,e,s,n[s],!0,o,a);else if(r!==undefined&&(i=!0,dt.isFunction(r)||(a=!0),c&&(a?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(dt(t),n)})),e))for(;s<u;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:c?e.call(t):u?e(t[0],n):o},qt=/^(?:checkbox|radio)$/i,Bt=/<([\w:-]+)/,Ut=/^$|\/(?:java|ecma)script/i,Xt=/^\s+/,$t="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";It=rt.createElement("div"),Ot=rt.createDocumentFragment(),Ft=rt.createElement("input"),It.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ft.leadingWhitespace=3===It.firstChild.nodeType,ft.tbody=!It.getElementsByTagName("tbody").length,ft.htmlSerialize=!!It.getElementsByTagName("link").length,ft.html5Clone="<:nav></:nav>"!==rt.createElement("nav").cloneNode(!0).outerHTML,Ft.type="checkbox",Ft.checked=!0,Ot.appendChild(Ft),ft.appendChecked=Ft.checked,It.innerHTML="<textarea>x</textarea>",ft.noCloneChecked=!!It.cloneNode(!0).lastChild.defaultValue,Ot.appendChild(It),(Ft=rt.createElement("input")).setAttribute("type","radio"),Ft.setAttribute("checked","checked"),Ft.setAttribute("name","t"),It.appendChild(Ft),ft.checkClone=It.cloneNode(!0).cloneNode(!0).lastChild.checked,ft.noCloneEvent=!!It.addEventListener,It[dt.expando]=1,ft.attributes=!It.getAttribute(dt.expando);var Yt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ft.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Yt.optgroup=Yt.option,Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td;var Wt=/<|&#?\w+;/,Qt=/<tbody/i;!function(){var t,e,n=rt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})e="on"+t,(ft[t]=e in S)||(n.setAttribute(e,"t"),ft[t]=!1===n.attributes[e].expando);n=null}();var Zt=/^(?:input|select|textarea)$/i,Kt=/^key/,Jt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,te=/^(?:focusinfocus|focusoutblur)$/,ee=/^([^.]*)(?:\.(.+)|)/;dt.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,c,l,f,h,d,p,g,v=dt._data(t);if(v){for(n.handler&&(n=(u=n).handler,i=u.selector),n.guid||(n.guid=dt.guid++),(a=v.events)||(a=v.events={}),(l=v.handle)||((l=v.handle=function(t){return void 0===dt||t&&dt.event.triggered===t.type?undefined:dt.event.dispatch.apply(l.elem,arguments)}).elem=t),s=(e=(e||"").match(Lt)||[""]).length;s--;)d=g=(o=ee.exec(e[s])||[])[1],p=(o[2]||"").split(".").sort(),d&&(c=dt.event.special[d]||{},d=(i?c.delegateType:c.bindType)||d,c=dt.event.special[d]||{},f=dt.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&dt.expr.match.needsContext.test(i),namespace:p.join(".")},u),(h=a[d])||((h=a[d]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,r,p,l)||(t.addEventListener?t.addEventListener(d,l,!1):t.attachEvent&&t.attachEvent("on"+d,l))),c.add&&(c.add.call(t,f),f.handler.guid||(f.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,f):h.push(f),dt.event.global[d]=!0);t=null}},remove:function(t,e,n,r,i){var o,a,s,u,c,l,f,h,d,p,g,v=dt.hasData(t)&&dt._data(t);if(v&&(l=v.events)){for(c=(e=(e||"").match(Lt)||[""]).length;c--;)if(d=g=(s=ee.exec(e[c])||[])[1],p=(s[2]||"").split(".").sort(),d){for(f=dt.event.special[d]||{},h=l[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=h.length;o--;)a=h[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(h.splice(o,1),a.selector&&h.delegateCount--,f.remove&&f.remove.call(t,a));u&&!h.length&&(f.teardown&&!1!==f.teardown.call(t,p,v.handle)||dt.removeEvent(t,d,v.handle),delete l[d])}else for(d in l)dt.event.remove(t,d+e[c],n,r,!0);dt.isEmptyObject(l)&&(delete v.handle,dt._removeData(t,"events"))}},trigger:function(t,e,n,r){var i,o,a,s,u,c,l,f=[n||rt],h=lt.call(t,"type")?t.type:t,d=lt.call(t,"namespace")?t.namespace.split("."):[];if(a=c=n=n||rt,3!==n.nodeType&&8!==n.nodeType&&!te.test(h+dt.event.triggered)&&(-1<h.indexOf(".")&&(h=(d=h.split(".")).shift(),d.sort()),o=h.indexOf(":")<0&&"on"+h,(t=t[dt.expando]?t:new dt.Event(h,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=d.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=n),e=null==e?[t]:dt.makeArray(e,[t]),u=dt.event.special[h]||{},r||!u.trigger||!1!==u.trigger.apply(n,e))){if(!r&&!u.noBubble&&!dt.isWindow(n)){for(s=u.delegateType||h,te.test(s+h)||(a=a.parentNode);a;a=a.parentNode)f.push(a),c=a;c===(n.ownerDocument||rt)&&f.push(c.defaultView||c.parentWindow||S)}for(l=0;(a=f[l++])&&!t.isPropagationStopped();)t.type=1<l?s:u.bindType||h,(i=(dt._data(a,"events")||{})[t.type]&&dt._data(a,"handle"))&&i.apply(a,e),(i=o&&a[o])&&i.apply&&Nt(a)&&(t.result=i.apply(a,e),!1===t.result&&t.preventDefault());if(t.type=h,!r&&!t.isDefaultPrevented()&&(!u._default||!1===u._default.apply(f.pop(),e))&&Nt(n)&&o&&n[h]&&!dt.isWindow(n)){(c=n[o])&&(n[o]=null),dt.event.triggered=h;try{n[h]()}catch(p){}dt.event.triggered=undefined,c&&(n[o]=c)}return t.result}},dispatch:function(t){t=dt.event.fix(t);var e,n,r,i,o,a=[],s=it.call(arguments),u=(dt._data(this,"events")||{})[t.type]||[],c=dt.event.special[t.type]||{};if((s[0]=t).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(a=dt.event.handlers.call(this,t,u),e=0;(i=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,(r=((dt.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))!==undefined&&!1===(t.result=r)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,o,a=[],s=e.delegateCount,u=t.target;if(s&&u.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==t.type)){for(r=[],n=0;n<s;n++)r[i=(o=e[n]).selector+" "]===undefined&&(r[i]=o.needsContext?-1<dt(i,this).index(u):dt.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},fix:function(t){if(t[dt.expando])return t;var e,n,r,i=t.type,o=t,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Jt.test(i)?this.mouseHooks:Kt.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,t=new dt.Event(o),e=r.length;e--;)t[n=r[e]]=o[n];return t.target||(t.target=o.srcElement||rt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,o=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(i=(r=t.target.ownerDocument||rt).documentElement,n=r.body,t.pageX=e.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||o===undefined||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===p()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(dt.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return dt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var r=dt.extend(new dt.Event,n,{type:t,isSimulated:!0});dt.event.trigger(r,null,e),r.isDefaultPrevented()&&n.preventDefault()}},dt.removeEvent=rt.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var r="on"+e;t.detachEvent&&("undefined"==typeof t[r]&&(t[r]=null),t.detachEvent(r,n))},dt.Event=function(t,e){if(!(this instanceof dt.Event))return new dt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?h:d):this.type=t,e&&dt.extend(this,e),this.timeStamp=t&&t.timeStamp||dt.now(),this[dt.expando]=!0},dt.Event.prototype={constructor:dt.Event,isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=h,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=h,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=h,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},dt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,o){dt.event.special[t]={delegateType:o,bindType:o,handle:function(t){var e,n=this,r=t.relatedTarget,i=t.handleObj;return r&&(r===n||dt.contains(n,r))||(t.type=i.origType,e=i.handler.apply(this,arguments),t.type=o),e}}}),ft.submit||(dt.event.special.submit={setup:function(){if(dt.nodeName(this,"form"))return!1;dt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=dt.nodeName(e,"input")||dt.nodeName(e,"button")?dt.prop(e,"form"):undefined;n&&!dt._data(n,"submit")&&(dt.event.add(n,"submit._submit",function(t){t._submitBubble=!0}),dt._data(n,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&dt.event.simulate("submit",this.parentNode,t))},teardown:function(){if(dt.nodeName(this,"form"))return!1;dt.event.remove(this,"._submit")}}),ft.change||(dt.event.special.change={setup:function(){if(Zt.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(dt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),dt.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),dt.event.simulate("change",this,t)})),!1;dt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Zt.test(e.nodeName)&&!dt._data(e,"change")&&(dt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||dt.event.simulate("change",this.parentNode,t)}),dt._data(e,"change",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return dt.event.remove(this,"._change"),!Zt.test(this.nodeName)}}),ft.focusin||dt.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(t){dt.event.simulate(r,t.target,dt.event.fix(t))};dt.event.special[r]={setup:function(){var t=this.ownerDocument||this,e=dt._data(t,r);e||t.addEventListener(n,i,!0),dt._data(t,r,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=dt._data(t,r)-1;e?dt._data(t,r,e):(t.removeEventListener(n,i,!0),dt._removeData(t,r))}}}),dt.fn.extend({on:function(t,e,n,r){return _(this,t,e,n,r)},one:function(t,e,n,r){return _(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,dt(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=d),this.each(function(){dt.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){dt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return dt.event.trigger(t,e,n,!0)}});var ne=/ jQuery\d+="(?:null|\d+)"/g,re=new RegExp("<(?:"+$t+")[\\s/>]","i"),ie=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,oe=/<script|<style|<link/i,ae=/checked\s*(?:[^=]|=\s*.checked.)/i,se=/^true\/(.*)/,ue=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ce=v(rt).appendChild(rt.createElement("div"));dt.extend({htmlPrefilter:function(t){return t.replace(ie,"<$1></$2>")},clone:function(t,e,n){var r,i,o,a,s,u=dt.contains(t.ownerDocument,t);if(ft.html5Clone||dt.isXMLDoc(t)||!re.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(ce.innerHTML=t.outerHTML,ce.removeChild(o=ce.firstChild)),!(ft.noCloneEvent&&ft.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||dt.isXMLDoc(t)))for(r=y(o),s=y(t),a=0;null!=(i=s[a]);++a)r[a]&&C(i,r[a]);if(e)if(n)for(s=s||y(t),r=r||y(o),a=0;null!=(i=s[a]);a++)M(i,r[a]);else M(t,o);return 0<(r=y(o,"script")).length&&m(r,!u&&y(t,"script")),r=s=i=null,o},cleanData:function(t,e){for(var n,r,i,o,a=0,s=dt.expando,u=dt.cache,c=ft.attributes,l=dt.event.special;null!=(n=t[a]);a++)if((e||Nt(n))&&(o=(i=n[s])&&u[i])){if(o.events)for(r in o.events)l[r]?dt.event.remove(n,r):dt.removeEvent(n,r,o.handle);u[i]&&(delete u[i],c||"undefined"==typeof n.removeAttribute?n[s]=undefined:n.removeAttribute(s),nt.push(i))}}}),dt.fn.extend({domManip:A,detach:function(t){return k(this,t,!0)},remove:function(t){return k(this,t)},text:function(t){return Ht(this,function(t){return t===undefined?dt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||rt).createTextNode(t))},null,t,arguments.length)},append:function(){return A(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||b(this,t).appendChild(t)})},prepend:function(){return A(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=b(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return A(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return A(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&dt.cleanData(y(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&dt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return dt.clone(this,t,e)})},html:function(t){return Ht(this,function(t){var e=this[0]||{},n=0,r=this.length;if(t===undefined)return 1===e.nodeType?e.innerHTML.replace(ne,""):undefined;if("string"==typeof t&&!oe.test(t)&&(ft.htmlSerialize||!re.test(t))&&(ft.leadingWhitespace||!Xt.test(t))&&!Yt[(Bt.exec(t)||["",""])[1].toLowerCase()]){t=dt.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(dt.cleanData(y(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return A(this,arguments,function(t){var e=this.parentNode;dt.inArray(this,n)<0&&(dt.cleanData(y(this)),e&&e.replaceChild(t,this))},n)}}),dt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,a){dt.fn[t]=function(t){for(var e,n=0,r=[],i=dt(t),o=i.length-1;n<=o;n++)e=n===o?this:this.clone(!0),dt(i[n])[a](e),at.apply(r,e.get());return this.pushStack(r)}});var le,fe={HTML:"block",BODY:"block"},he=/^margin/,de=new RegExp("^("+Vt+")(?!px)[a-z%]+$","i"),pe=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in i=n.apply(t,r||[]),e)t.style[o]=a[o];return i},ge=rt.documentElement;!function(){function t(){var t,e,n=rt.documentElement;n.appendChild(c),l.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",r=o=u=!1,i=s=!0,S.getComputedStyle&&(e=S.getComputedStyle(l),r="1%"!==(e||{}).top,u="2px"===(e||{}).marginLeft,o="4px"===(e||{width:"4px"}).width,l.style.marginRight="50%",i="4px"===(e||{marginRight:"4px"}).marginRight,(t=l.appendChild(rt.createElement("div"))).style.cssText=l.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",l.style.width="1px",s=!parseFloat((S.getComputedStyle(t)||{}).marginRight),l.removeChild(t)),l.style.display="none",(a=0===l.getClientRects().length)&&(l.style.display="",l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",
l.childNodes[0].style.borderCollapse="separate",(t=l.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(a=0===t[0].offsetHeight)&&(t[0].style.display="",t[1].style.display="none",a=0===t[0].offsetHeight)),n.removeChild(c)}var r,i,o,a,s,u,c=rt.createElement("div"),l=rt.createElement("div");l.style&&(l.style.cssText="float:left;opacity:.5",ft.opacity="0.5"===l.style.opacity,ft.cssFloat=!!l.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",ft.clearCloneStyle="content-box"===l.style.backgroundClip,(c=rt.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",l.innerHTML="",c.appendChild(l),ft.boxSizing=""===l.style.boxSizing||""===l.style.MozBoxSizing||""===l.style.WebkitBoxSizing,dt.extend(ft,{reliableHiddenOffsets:function(){return null==r&&t(),a},boxSizingReliable:function(){return null==r&&t(),o},pixelMarginRight:function(){return null==r&&t(),i},pixelPosition:function(){return null==r&&t(),r},reliableMarginRight:function(){return null==r&&t(),s},reliableMarginLeft:function(){return null==r&&t(),u}}))}();var ve,ye,me=/^(top|right|bottom|left)$/;S.getComputedStyle?(ve=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=S),e.getComputedStyle(t)},ye=function(t,e,n){var r,i,o,a,s=t.style;return""!==(a=(n=n||ve(t))?n.getPropertyValue(e)||n[e]:undefined)&&a!==undefined||dt.contains(t.ownerDocument,t)||(a=dt.style(t,e)),n&&!ft.pixelMarginRight()&&de.test(a)&&he.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o),a===undefined?a:a+""}):ge.currentStyle&&(ve=function(t){return t.currentStyle},ye=function(t,e,n){var r,i,o,a,s=t.style;return null==(a=(n=n||ve(t))?n[e]:undefined)&&s&&s[e]&&(a=s[e]),de.test(a)&&!me.test(e)&&(r=s.left,(o=(i=t.runtimeStyle)&&i.left)&&(i.left=t.currentStyle.left),s.left="fontSize"===e?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),a===undefined?a:a+""||"auto"});var xe=/alpha\([^)]*\)/i,_e=/opacity\s*=\s*([^)]*)/i,be=/^(none|table(?!-c[ea]).+)/,we=new RegExp("^("+Vt+")(.*)$","i"),Se={position:"absolute",visibility:"hidden",display:"block"},Te={letterSpacing:"0",fontWeight:"400"},Me=["Webkit","O","Moz","ms"],Ce=rt.createElement("div").style;dt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=ye(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ft.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=dt.camelCase(e),u=t.style;if(e=dt.cssProps[s]||(dt.cssProps[s]=N(s)||s),a=dt.cssHooks[e]||dt.cssHooks[s],n===undefined)return a&&"get"in a&&(i=a.get(t,!1,r))!==undefined?i:u[e];if("string"===(o=typeof n)&&(i=Gt.exec(n))&&i[1]&&(n=f(t,e,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(dt.cssNumber[s]?"":"px")),ft.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),!(a&&"set"in a&&(n=a.set(t,n,r))===undefined)))try{u[e]=n}catch(c){}}},css:function(t,e,n,r){var i,o,a,s=dt.camelCase(e);return e=dt.cssProps[s]||(dt.cssProps[s]=N(s)||s),(a=dt.cssHooks[e]||dt.cssHooks[s])&&"get"in a&&(o=a.get(t,!0,n)),o===undefined&&(o=ye(t,e,r)),"normal"===o&&e in Te&&(o=Te[e]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),dt.each(["height","width"],function(t,i){dt.cssHooks[i]={get:function(t,e,n){if(e)return be.test(dt.css(t,"display"))&&0===t.offsetWidth?pe(t,Se,function(){return O(t,i,n)}):O(t,i,n)},set:function(t,e,n){var r=n&&ve(t);return R(t,e,n?I(t,i,n,ft.boxSizing&&"border-box"===dt.css(t,"boxSizing",!1,r),r):0)}}}),ft.opacity||(dt.cssHooks.opacity={get:function(t,e){return _e.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,r=t.currentStyle,i=dt.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=r&&r.filter||n.filter||"";((n.zoom=1)<=e||""===e)&&""===dt.trim(o.replace(xe,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||r&&!r.filter)||(n.filter=xe.test(o)?o.replace(xe,i):o+" "+i)}}),dt.cssHooks.marginRight=P(ft.reliableMarginRight,function(t,e){if(e)return pe(t,{display:"inline-block"},ye,[t,"marginRight"])}),dt.cssHooks.marginLeft=P(ft.reliableMarginLeft,function(t,e){if(e)return(parseFloat(ye(t,"marginLeft"))||(dt.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-pe(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px"}),dt.each({margin:"",padding:"",border:"Width"},function(i,o){dt.cssHooks[i+o]={expand:function(t){for(var e=0,n={},r="string"==typeof t?t.split(" "):[t];e<4;e++)n[i+zt[e]+o]=r[e]||r[e-2]||r[0];return n}},he.test(i)||(dt.cssHooks[i+o].set=R)}),dt.fn.extend({css:function(t,e){return Ht(this,function(t,e,n){var r,i,o={},a=0;if(dt.isArray(e)){for(r=ve(t),i=e.length;a<i;a++)o[e[a]]=dt.css(t,e[a],!1,r);return o}return n!==undefined?dt.style(t,e,n):dt.css(t,e)},t,e,1<arguments.length)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){jt(this)?dt(this).show():dt(this).hide()})}}),(dt.Tween=F).prototype={constructor:F,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||dt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(dt.cssNumber[n]?"":"px")},cur:function(){var t=F.propHooks[this.prop];return t&&t.get?t.get(this):F.propHooks._default.get(this)},run:function(t){var e,n=F.propHooks[this.prop];return this.options.duration?this.pos=e=dt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=dt.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){dt.fx.step[t.prop]?dt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[dt.cssProps[t.prop]]&&!dt.cssHooks[t.prop]?t.elem[t.prop]=t.now:dt.style(t.elem,t.prop,t.now+t.unit)}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},dt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},dt.fx=F.prototype.init,dt.fx.step={};var Ae,ke,Ee,Le,Pe,Ne,De,Re=/^(?:toggle|show|hide)$/,Ie=/queueHooks$/;dt.Animation=dt.extend(q,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return f(n.elem,t,Gt.exec(e),n),n}]},tweener:function(t,e){dt.isFunction(t)?(e=t,t=["*"]):t=t.match(Lt);for(var n,r=0,i=t.length;r<i;r++)n=t[r],q.tweeners[n]=q.tweeners[n]||[],q.tweeners[n].unshift(e)},prefilters:[j],prefilter:function(t,e){e?q.prefilters.unshift(t):q.prefilters.push(t)}}),dt.speed=function(t,e,n){var r=t&&"object"==typeof t?dt.extend({},t):{complete:n||!n&&e||dt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!dt.isFunction(e)&&e};return r.duration=dt.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in dt.fx.speeds?dt.fx.speeds[r.duration]:dt.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){dt.isFunction(r.old)&&r.old.call(this),r.queue&&dt.dequeue(this,r.queue)},r},dt.fn.extend({fadeTo:function(t,e,n,r){return this.filter(jt).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(e,t,n,r){var i=dt.isEmptyObject(e),o=dt.speed(t,n,r),a=function(){var t=q(this,dt.extend({},e),o);(i||dt._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,t,o){var a=function(t){var e=t.stop;delete t.stop,e(o)};return"string"!=typeof i&&(o=t,t=i,i=undefined),t&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var t=!0,e=null!=i&&i+"queueHooks",n=dt.timers,r=dt._data(this);if(e)r[e]&&r[e].stop&&a(r[e]);else for(e in r)r[e]&&r[e].stop&&Ie.test(e)&&a(r[e]);for(e=n.length;e--;)n[e].elem!==this||null!=i&&n[e].queue!==i||(n[e].anim.stop(o),t=!1,n.splice(e,1));!t&&o||dt.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var t,e=dt._data(this),n=e[a+"queue"],r=e[a+"queueHooks"],i=dt.timers,o=n?n.length:0;for(e.finish=!0,dt.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===a&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),dt.each(["toggle","show","hide"],function(t,r){var i=dt.fn[r];dt.fn[r]=function(t,e,n){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(G(r,!0),t,e,n)}}),dt.each({slideDown:G("show"),slideUp:G("hide"),slideToggle:G("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,r){dt.fn[t]=function(t,e,n){return this.animate(r,t,e,n)}}),dt.timers=[],dt.fx.tick=function(){var t,e=dt.timers,n=0;for(Ae=dt.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||dt.fx.stop(),Ae=undefined},dt.fx.timer=function(t){dt.timers.push(t),t()?dt.fx.start():dt.timers.pop()},dt.fx.interval=13,dt.fx.start=function(){ke||(ke=S.setInterval(dt.fx.tick,dt.fx.interval))},dt.fx.stop=function(){S.clearInterval(ke),ke=null},dt.fx.speeds={slow:600,fast:200,_default:400},dt.fn.delay=function(r,t){return r=dt.fx&&dt.fx.speeds[r]||r,t=t||"fx",this.queue(t,function(t,e){var n=S.setTimeout(t,r);e.stop=function(){S.clearTimeout(n)}})},Le=rt.createElement("input"),Pe=rt.createElement("div"),Ne=rt.createElement("select"),De=Ne.appendChild(rt.createElement("option")),(Pe=rt.createElement("div")).setAttribute("className","t"),Pe.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",Ee=Pe.getElementsByTagName("a")[0],Le.setAttribute("type","checkbox"),Pe.appendChild(Le),(Ee=Pe.getElementsByTagName("a")[0]).style.cssText="top:1px",ft.getSetAttribute="t"!==Pe.className,ft.style=/top/.test(Ee.getAttribute("style")),ft.hrefNormalized="/a"===Ee.getAttribute("href"),ft.checkOn=!!Le.value,ft.optSelected=De.selected,ft.enctype=!!rt.createElement("form").enctype,Ne.disabled=!0,ft.optDisabled=!De.disabled,(Le=rt.createElement("input")).setAttribute("value",""),ft.input=""===Le.getAttribute("value"),Le.value="t",Le.setAttribute("type","radio"),ft.radioValue="t"===Le.value;var Oe=/\r/g,Fe=/[\x20\t\r\n\f]+/g;dt.fn.extend({val:function(n){var r,t,i,e=this[0];return arguments.length?(i=dt.isFunction(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=i?n.call(this,t,dt(this).val()):n)?e="":"number"==typeof e?e+="":dt.isArray(e)&&(e=dt.map(e,function(t){return null==t?"":t+""})),(r=dt.valHooks[this.type]||dt.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&r.set(this,e,"value")!==undefined||(this.value=e))})):e?(r=dt.valHooks[e.type]||dt.valHooks[e.nodeName.toLowerCase()])&&"get"in r&&(t=r.get(e,"value"))!==undefined?t:"string"==typeof(t=e.value)?t.replace(Oe,""):null==t?"":t:void 0}}),dt.extend({valHooks:{option:{get:function(t){var e=dt.find.attr(t,"value");return null!=e?e:dt.trim(dt.text(t)).replace(Fe," ")}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||i<0,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(((n=r[u]).selected||u===i)&&(ft.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!dt.nodeName(n.parentNode,"optgroup"))){if(e=dt(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,o=dt.makeArray(e),a=i.length;a--;)if(r=i[a],-1<dt.inArray(dt.valHooks.option.get(r),o))try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(t.selectedIndex=-1),i}}}}),dt.each(["radio","checkbox"],function(){dt.valHooks[this]={set:function(t,e){if(dt.isArray(e))return t.checked=-1<dt.inArray(dt(t).val(),e)}},ft.checkOn||(dt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Ve,Ge,ze=dt.expr.attrHandle,je=/^(?:checked|selected)$/i,He=ft.getSetAttribute,qe=ft.input;dt.fn.extend({attr:function(t,e){return Ht(this,dt.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){dt.removeAttr(this,t)})}}),dt.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?dt.prop(t,e,n):(1===o&&dt.isXMLDoc(t)||(e=e.toLowerCase(),i=dt.attrHooks[e]||(dt.expr.match.bool.test(e)?Ge:Ve)),n!==undefined?null===n?void dt.removeAttr(t,e):i&&"set"in i&&(r=i.set(t,n,e))!==undefined?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=dt.find.attr(t,e))?undefined:r)},attrHooks:{type:{set:function(t,e){if(!ft.radioValue&&"radio"===e&&dt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(Lt);if(o&&1===t.nodeType)for(;n=o[i++];)r=dt.propFix[n]||n,dt.expr.match.bool.test(n)?qe&&He||!je.test(n)?t[r]=!1:t[dt.camelCase("default-"+n)]=t[r]=!1:dt.attr(t,n,""),t.removeAttribute(He?n:r)}}),Ge={set:function(t,e,n){return!1===e?dt.removeAttr(t,n):qe&&He||!je.test(n)?t.setAttribute(!He&&dt.propFix[n]||n,n):t[dt.camelCase("default-"+n)]=t[n]=!0,n}},dt.each(dt.expr.match.bool.source.match(/\w+/g),function(t,e){var o=ze[e]||dt.find.attr;qe&&He||!je.test(e)?ze[e]=function(t,e,n){var r,i;return n||(i=ze[e],ze[e]=r,r=null!=o(t,e,n)?e.toLowerCase():null,ze[e]=i),r}:ze[e]=function(t,e,n){if(!n)return t[dt.camelCase("default-"+e)]?e.toLowerCase():null}}),qe&&He||(dt.attrHooks.value={set:function(t,e,n){if(!dt.nodeName(t,"input"))return Ve&&Ve.set(t,e,n);t.defaultValue=e}}),He||(Ve={set:function(t,e,n){var r=t.getAttributeNode(n);if(r||t.setAttributeNode(r=t.ownerDocument.createAttribute(n)),r.value=e+="","value"===n||e===t.getAttribute(n))return e}},ze.id=ze.name=ze.coords=function(t,e,n){var r;if(!n)return(r=t.getAttributeNode(e))&&""!==r.value?r.value:null},dt.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:Ve.set},dt.attrHooks.contenteditable={set:function(t,e,n){Ve.set(t,""!==e&&e,n)}},dt.each(["width","height"],function(t,n){dt.attrHooks[n]={set:function(t,e){if(""===e)return t.setAttribute(n,"auto"),e}}})),ft.style||(dt.attrHooks.style={get:function(t){return t.style.cssText||undefined},set:function(t,e){return t.style.cssText=e+""}});var Be=/^(?:input|select|textarea|button|object)$/i,Ue=/^(?:a|area)$/i;dt.fn.extend({prop:function(t,e){return Ht(this,dt.prop,t,e,1<arguments.length)},removeProp:function(e){return e=dt.propFix[e]||e,this.each(function(){try{this[e]=undefined,delete this[e]}catch(t){}})}}),dt.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&dt.isXMLDoc(t)||(e=dt.propFix[e]||e,i=dt.propHooks[e]),n!==undefined?i&&"set"in i&&(r=i.set(t,n,e))!==undefined?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=dt.find.attr(t,"tabindex");return e?parseInt(e,10):Be.test(t.nodeName)||Ue.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ft.hrefNormalized||dt.each(["href","src"],function(t,e){dt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ft.optSelected||(dt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),dt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){dt.propFix[this.toLowerCase()]=this}),ft.enctype||(dt.propFix.enctype="encoding");var Xe=/[\t\r\n\f]/g;dt.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(dt.isFunction(e))return this.each(function(t){dt(this).addClass(e.call(this,t,B(this)))});if("string"==typeof e&&e)for(t=e.match(Lt)||[];n=this[u++];)if(i=B(n),r=1===n.nodeType&&(" "+i+" ").replace(Xe," ")){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=dt.trim(r))&&dt.attr(n,"class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(dt.isFunction(e))return this.each(function(t){dt(this).removeClass(e.call(this,t,B(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Lt)||[];n=this[u++];)if(i=B(n),r=1===n.nodeType&&(" "+i+" ").replace(Xe," ")){for(a=0;o=t[a++];)for(;-1<r.indexOf(" "+o+" ");)r=r.replace(" "+o+" "," ");i!==(s=dt.trim(r))&&dt.attr(n,"class",s)}return this},toggleClass:function(i,e){var o=typeof i;return"boolean"==typeof e&&"string"===o?e?this.addClass(i):this.removeClass(i):dt.isFunction(i)?this.each(function(t){dt(this).toggleClass(i.call(this,t,B(this),e),e)}):this.each(function(){var t,e,n,r;if("string"===o)for(e=0,n=dt(this),r=i.match(Lt)||[];t=r[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else i!==undefined&&"boolean"!==o||((t=B(this))&&dt._data(this,"__className__",t),dt.attr(this,"class",t||!1===i?"":dt._data(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&-1<(" "+B(n)+" ").replace(Xe," ").indexOf(e))return!0;return!1}}),dt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,n){dt.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),dt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var $e=S.location,Ye=dt.now(),We=/\?/,Qe=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;dt.parseJSON=function(t){if(S.JSON&&S.JSON.parse)return S.JSON.parse(t+"");var i,o=null,e=dt.trim(t+"");return e&&!dt.trim(e.replace(Qe,function(t,e,n,r){return i&&e&&(o=0),0===o?t:(i=n||e,o+=!r-!n,"")}))?Function("return "+e)():dt.error("Invalid JSON: "+t)},dt.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{S.DOMParser?e=(new S.DOMParser).parseFromString(t,"text/xml"):((e=new S.ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t))}catch(n){e=undefined}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||dt.error("Invalid XML: "+t),e};var Ze=/#.*$/,Ke=/([?&])_=[^&]*/,Je=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,tn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,en=/^(?:GET|HEAD)$/,nn=/^\/\//,rn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,on={},an={},sn="*/".concat("*"),un=$e.href,cn=rn.exec(un.toLowerCase())||[];dt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:un,type:"GET",isLocal:tn.test(cn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":sn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":dt.parseJSON,"text xml":dt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?$($(t,dt.ajaxSettings),e):$(dt.ajaxSettings,t)},ajaxPrefilter:U(on),ajaxTransport:U(an),ajax:function(t,e){function n(t,e,n,r){var i,o,a,s,u,c=e;2!==b&&(b=2,h&&S.clearTimeout(h),p=undefined,f=r||"",w.readyState=0<t?4:0,i=200<=t&&t<300||304===t,n&&(s=Y(g,w,n)),s=W(g,s,w,i),i?(g.ifModified&&((u=w.getResponseHeader("Last-Modified"))&&(dt.lastModified[l]=u),(u=w.getResponseHeader("etag"))&&(dt.etag[l]=u)),204===t||"HEAD"===g.type?c="nocontent":304===t?c="notmodified":(c=s.state,o=s.data,i=!(a=s.error))):(a=c,!t&&c||(c="error",t<0&&(t=0))),w.status=t,w.statusText=(e||c)+"",i?m.resolveWith(v,[o,c,w]):m.rejectWith(v,[w,c,a]),w.statusCode(_),_=undefined,d&&y.trigger(i?"ajaxSuccess":"ajaxError",[w,g,i?o:a]),x.fireWith(v,[w,c]),d&&(y.trigger("ajaxComplete",[w,g]),--dt.active||dt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=undefined),e=e||{};var r,i,l,f,h,d,p,o,g=dt.ajaxSetup({},e),v=g.context||g,y=g.context&&(v.nodeType||v.jquery)?dt(v):dt.event,m=dt.Deferred(),x=dt.Callbacks("once memory"),_=g.statusCode||{},a={},s={},b=0,u="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!o)for(o={};e=Je.exec(f);)o[e[1].toLowerCase()]=e[2];e=o[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?f:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=s[n]=s[n]||t,a[t]=e),this},overrideMimeType:function(t){return b||(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(b<2)for(e in t)_[e]=[_[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||u;return p&&p.abort(e),n(0,e),this}};if(m.promise(w).complete=x.add,w.success=w.done,w.error=w.fail,g.url=((t||g.url||un)+"").replace(Ze,"").replace(nn,cn[1]+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=dt.trim(g.dataType||"*").toLowerCase().match(Lt)||[""],null==g.crossDomain&&(r=rn.exec(g.url.toLowerCase()),g.crossDomain=!(!r||r[1]===cn[1]&&r[2]===cn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(cn[3]||("http:"===cn[1]?"80":"443")))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=dt.param(g.data,g.traditional)),X(on,g,e,w),2===b)return w;for(i in(d=dt.event&&g.global)&&0==dt.active++&&dt.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!en.test(g.type),l=g.url,g.hasContent||(g.data&&(l=g.url+=(We.test(l)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=Ke.test(l)?l.replace(Ke,"$1_="+Ye++):l+(We.test(l)?"&":"?")+"_="+Ye++)),g.ifModified&&(dt.lastModified[l]&&w.setRequestHeader("If-Modified-Since",dt.lastModified[l]),dt.etag[l]&&w.setRequestHeader("If-None-Match",dt.etag[l])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&w.setRequestHeader("Content-Type",g.contentType),w.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+sn+"; q=0.01":""):g.accepts["*"]),g.headers)w.setRequestHeader(i,g.headers[i]);if(g.beforeSend&&(!1===g.beforeSend.call(v,w,g)||2===b))return w.abort();for(i in u="abort",{success:1,error:1,complete:1})w[i](g[i]);if(p=X(an,g,e,w)){if(w.readyState=1,d&&y.trigger("ajaxSend",[w,g]),2===b)return w;g.async&&0<g.timeout&&(h=S.setTimeout(function(){w.abort("timeout")},g.timeout));try{b=1,p.send(a,n)}catch(c){if(!(b<2))throw c;n(-1,c)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return dt.get(t,e,n,"json")},getScript:function(t,e){return dt.get(t,undefined,e,"script")}}),dt.each(["get","post"],function(t,i){dt[i]=function(t,e,n,r){return dt.isFunction(e)&&(r=r||n,n=e,e=undefined),dt.ajax(dt.extend({url:t,type:i,dataType:r,data:e,success:n},dt.isPlainObject(t)&&t))}}),dt._evalUrl=function(t){return dt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},dt.fn.extend({wrapAll:function(e){if(dt.isFunction(e))return this.each(function(t){dt(this).wrapAll(e.call(this,t))});if(this[0]){var t=dt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(n){return dt.isFunction(n)?this.each(function(t){dt(this).wrapInner(n.call(this,t))}):this.each(function(){var t=dt(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=dt.isFunction(e);return this.each(function(t){dt(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){dt.nodeName(this,"body")||dt(this).replaceWith(this.childNodes)}).end()}}),dt.expr.filters.hidden=function(t){return ft.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:Z(t)},dt.expr.filters.visible=function(t){return!dt.expr.filters.hidden(t)};var ln=/%20/g,fn=/\[\]$/,hn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,pn=/^(?:input|select|textarea|keygen)/i;dt.param=function(t,e){var n,r=[],i=function(t,e){e=dt.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===undefined&&(e=dt.ajaxSettings&&dt.ajaxSettings.traditional),dt.isArray(t)||t.jquery&&!dt.isPlainObject(t))dt.each(t,function(){i(this.name,this.value)});else for(n in t)K(n,t[n],e,i);return r.join("&").replace(ln,"+")},dt.fn.extend({serialize:function(){return dt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=dt.prop(this,"elements");return t?dt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!dt(this).is(":disabled")&&pn.test(this.nodeName)&&!dn.test(t)&&(this.checked||!qt.test(t))}).map(function(t,e){var n=dt(this).val();return null==n?null:dt.isArray(n)?dt.map(n,function(t){return{name:e.name,value:t.replace(hn,"\r\n")}}):{name:e.name,value:n.replace(hn,"\r\n")}}).get()}}),dt.ajaxSettings.xhr=S.ActiveXObject!==undefined?function(){return this.isLocal?tt():8<rt.documentMode?J():/^(get|post|head|put|delete|options)$/i.test(this.type)&&J()||tt()}:J;var gn=0,vn={},yn=dt.ajaxSettings.xhr();S.attachEvent&&S.attachEvent("onunload",function(){for(var t in vn)vn[t](undefined,!0)}),ft.cors=!!yn&&"withCredentials"in yn,(yn=ft.ajax=!!yn)&&dt.ajaxTransport(function(c){var l;if(!c.crossDomain||ft.cors)return{send:function(t,a){var e,s=c.xhr(),u=++gn;if(s.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(e in c.xhrFields)s[e]=c.xhrFields[e];for(e in c.mimeType&&s.overrideMimeType&&s.overrideMimeType(c.mimeType),c.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)t[e]!==undefined&&s.setRequestHeader(e,t[e]+"");s.send(c.hasContent&&c.data||null),l=function(t,e){var n,r,i;if(l&&(e||4===s.readyState))if(delete vn[u],l=undefined,s.onreadystatechange=dt.noop,e)4!==s.readyState&&s.abort();else{i={},n=s.status,"string"==typeof s.responseText&&(i.text=s.responseText);try{r=s.statusText}catch(o){r=""}n||!c.isLocal||c.crossDomain?1223===n&&(n=204):n=i.text?200:404}i&&a(n,r,i,s.getAllResponseHeaders())},c.async?4===s.readyState?S.setTimeout(l):s.onreadystatechange=vn[u]=l:l()},abort:function(){l&&l(undefined,!0)}}}),dt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return dt.globalEval(t),t}}}),dt.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),dt.ajaxTransport("script",function(e){if(e.crossDomain){var r,i=rt.head||dt("head")[0]||rt.documentElement;return{send:function(t,n){(r=rt.createElement("script")).async=!0,e.scriptCharset&&(r.charset=e.scriptCharset),r.src=e.url,r.onload=r.onreadystatechange=function(t,e){(e||!r.readyState||/loaded|complete/.test(r.readyState))&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),r=null,e||n(200,"success"))},i.insertBefore(r,i.firstChild)},abort:function(){r&&r.onload(undefined,!0)}}}});var mn=[],xn=/(=)\?(?=&|$)|\?\?/;dt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=mn.pop()||dt.expando+"_"+Ye++;return this[t]=!0,t}}),dt.ajaxPrefilter("json jsonp",function(t,e,n){var r,i,o,a=!1!==t.jsonp&&(xn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&xn.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=dt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(xn,"$1"+r):!1!==t.jsonp&&(t.url+=(We.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||dt.error(r+" was not called"),o[0]},t.dataTypes[0]="json",i=S[r],S[r]=function(){o=arguments},n.always(function(){i===undefined?dt(S).removeProp(r):S[r]=i,t[r]&&(t.jsonpCallback=e.jsonpCallback,mn.push(r)),o&&dt.isFunction(i)&&i(o[0]),o=i=undefined}),"script"}),dt.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||rt;var r=wt.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=g([t],e,i),i&&i.length&&dt(i).remove(),dt.merge([],r.childNodes))};var _n=dt.fn.load;dt.fn.load=function(t,e,n){if("string"!=typeof t&&_n)return _n.apply(this,arguments);var r,i,o,a=this,s=t.indexOf(" ");return-1<s&&(r=dt.trim(t.slice(s,t.length)),t=t.slice(0,s)),dt.isFunction(e)?(n=e,e=undefined):e&&"object"==typeof e&&(i="POST"),0<a.length&&dt.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(r?dt("<div>").append(dt.parseHTML(t)).find(r):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},dt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){dt.fn[e]=function(t){return this.on(e,t)}}),dt.expr.filters.animated=function(e){return dt.grep(dt.timers,function(t){return e===t.elem}).length},dt.offset={setOffset:function(t,e,n){var r,i,o,a,s,u,c=dt.css(t,"position"),l=dt(t),f={};"static"===c&&(t.style.position="relative"),s=l.offset(),o=dt.css(t,"top"),u=dt.css(t,"left"),("absolute"===c||"fixed"===c)&&-1<dt.inArray("auto",[o,u])?(a=(r=l.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),dt.isFunction(e)&&(e=e.call(t,n,dt.extend({},s))),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+i),"using"in e?e.using.call(t,f):l.css(f)}},dt.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){dt.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;return o?(t=o.documentElement,dt.contains(t,i)?("undefined"!=typeof i.getBoundingClientRect&&(r=i.getBoundingClientRect()),n=et(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},r=this[0];return"fixed"===dt.css(r,"position")?e=r.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),dt.nodeName(t[0],"html")||(n=t.offset()),n.top+=dt.css(t[0],"borderTopWidth",!0),n.left+=dt.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-dt.css(r,"marginTop",!0),left:e.left-n.left-dt.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!dt.nodeName(t,"html")&&"static"===dt.css(t,"position");)t=t.offsetParent;return t||ge})}}),dt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var o=/Y/.test(i);dt.fn[e]=function(t){return Ht(this,function(t,e,n){var r=et(t);if(n===undefined)return r?i in r?r[i]:r.document.documentElement[e]:t[e];r?r.scrollTo(o?dt(r).scrollLeft():n,o?n:dt(r).scrollTop()):t[e]=n},e,t,arguments.length,null)}}),dt.each(["top","left"],function(t,n){dt.cssHooks[n]=P(ft.pixelPosition,function(t,e){if(e)return e=ye(t,n),de.test(e)?dt(t).position()[n]+"px":e})}),dt.each({Height:"height",Width:"width"},function(o,a){dt.each({padding:"inner"+o,content:a,"":"outer"+o},function(r,t){dt.fn[t]=function(t,e){var n=arguments.length&&(r||"boolean"!=typeof t),i=r||(!0===t||!0===e?"margin":"border");return Ht(this,function(t,e,n){var r;return dt.isWindow(t)?t.document.documentElement["client"+o]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+o],r["scroll"+o],t.body["offset"+o],r["offset"+o],r["client"+o])):n===undefined?dt.css(t,e,i):dt.style(t,e,n,i)},a,n?t:undefined,n,null)}})}),dt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),dt.fn.size=function(){return this.length},dt.fn.andSelf=dt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return dt});var bn=S.jQuery,wn=S.$;return dt.noConflict=function(t){return S.$===dt&&(S.$=wn),t&&S.jQuery===dt&&(S.jQuery=bn),dt},t||(S.jQuery=S.$=dt),dt}),function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Spinner=e()}(this,function(){"use strict";function h(t,e){var n,r=document.createElement(t||"div");for(n in e)r[n]=e[n];return r}function l(t){for(var e=1,n=arguments.length;e<n;e++)t.appendChild(arguments[e]);return t}function a(t,e,n,r){
var i=["opacity",e,~~(100*t),n,r].join("-"),o=.01+n/r*100,a=Math.max(1-(1-t)/e*(100-o),t),s=p.substring(0,p.indexOf("Animation")).toLowerCase(),u=s&&"-"+s+"-"||"";return c[i]||(g.insertRule("@"+u+"keyframes "+i+"{0%{opacity:"+a+"}"+o+"%{opacity:"+t+"}"+(o+.01)+"%{opacity:1}"+(o+e)%100+"%{opacity:"+t+"}100%{opacity:"+a+"}}",g.cssRules.length),c[i]=1),i}function r(t,e){var n,r,i=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<o.length;r++)if(i[n=o[r]+e]!==undefined)return n;if(i[e]!==undefined)return e}function d(t,e){for(var n in e)t.style[r(t,n)||n]=e[n];return t}function e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]===undefined&&(t[r]=n[r])}return t}function f(t,e){return"string"==typeof t?t:t[e%t.length]}function n(t){this.opts=e(t||{},n.defaults,s)}function t(){function c(t,e){return h("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}g.addRule(".spin-vml","behavior:url(#default#VML)"),n.prototype.lines=function(t,r){function i(){return d(c("group",{coordsize:a+" "+a,coordorigin:-o+" "+-o}),{width:a,height:a})}function e(t,e,n){l(u,l(d(i(),{rotation:360/r.lines*t+"deg",left:~~e}),l(d(c("roundrect",{arcsize:r.corners}),{width:o,height:r.width,left:r.radius,top:-r.width>>1,filter:n}),c("fill",{color:f(r.color,t),opacity:r.opacity}),c("stroke",{opacity:0}))))}var n,o=r.length+r.width,a=2*o,s=2*-(r.width+r.length)+"px",u=d(i(),{position:"absolute",top:s,left:s});if(r.shadow)for(n=1;n<=r.lines;n++)e(n,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(n=1;n<=r.lines;n++)e(n);return l(t,u)},n.prototype.opacity=function(t,e,n,r){var i=t.firstChild;r=r.shadow&&r.lines||0,i&&e+r<i.childNodes.length&&(i=(i=(i=i.childNodes[e+r])&&i.firstChild)&&i.firstChild)&&(i.opacity=n)}}var p,i,o=["webkit","Moz","ms","O"],c={},g=(i=h("style",{type:"text/css"}),l(document.getElementsByTagName("head")[0],i),i.sheet||i.styleSheet),s={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};n.defaults={},e(n.prototype,{spin:function(e){this.stop();var n=this,r=n.opts,i=n.el=d(h(0,{className:r.className}),{position:r.position,width:0,zIndex:r.zIndex});r.radius,r.length,r.width;if(d(i,{left:r.left,top:r.top}),e&&e.insertBefore(i,e.firstChild||null),i.setAttribute("role","progressbar"),n.lines(i,n.opts),!p){var o,a=0,s=(r.lines-1)*(1-r.direction)/2,u=r.fps,c=u/r.speed,l=(1-r.opacity)/(c*r.trail/100),f=c/r.lines;!function t(){a++;for(var e=0;e<r.lines;e++)o=Math.max(1-(a+(r.lines-e)*f)%c*l,r.opacity),n.opacity(i,e*r.direction+s,o,r);n.timeout=n.el&&setTimeout(t,~~(1e3/u))}()}return n},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=undefined),this},lines:function(t,n){function e(t,e){return d(h(),{position:"absolute",width:n.length+n.width+"px",height:n.width+"px",background:t,boxShadow:e,transformOrigin:"left",transform:"rotate("+~~(360/n.lines*i+n.rotate)+"deg) translate("+n.radius+"px,0)",borderRadius:(n.corners*n.width>>1)+"px"})}for(var r,i=0,o=(n.lines-1)*(1-n.direction)/2;i<n.lines;i++)r=d(h(),{position:"absolute",top:1+~(n.width/2)+"px",transform:n.hwaccel?"translate3d(0,0,0)":"",opacity:n.opacity,animation:p&&a(n.opacity,n.trail,o+i*n.direction,n.lines)+" "+1/n.speed+"s linear infinite"}),n.shadow&&l(r,d(e("#000","0 0 4px #000"),{top:"2px"})),l(t,l(r,e(f(n.color,i),"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}});var u=d(h("group"),{behavior:"url(#default#VML)"});return!r(u,"transform")&&u.adj?t():p=r(u,"animation"),n}),function(o){o.fn.spin=function(n,r){var i={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}};if(Spinner)return this.each(function(){var t=o(this),e=t.data();e.spinner&&(e.spinner.stop(),delete e.spinner),!1!==n&&("string"==typeof n&&(n=n in i?i[n]:{},r&&(n.color=r)),e.spinner=new Spinner(o.extend({color:t.css("color")},n)).spin(this))});throw"Spinner class not available."}}(jQuery),function(r){"use strict";function t(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(t.style[n]!==undefined)return{end:e[n]};return!1}r.fn.emulateTransitionEnd=function(t){var e=!1,n=this;return r(this).one("bsTransitionEnd",function(){e=!0}),setTimeout(function(){e||r(n).trigger(r.support.transition.end)},t),this},r(function(){r.support.transition=t(),r.support.transition&&(r.event.special.bsTransitionEnd={bindType:r.support.transition.end,delegateType:r.support.transition.end,handle:function(t){if(r(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(o){"use strict";function t(n){return this.each(function(){var t=o(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new a(this)),"string"==typeof n&&e[n].call(t)})}var e='[data-dismiss="alert"]',a=function(t){o(t).on("click",e,this.close)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.close=function(t){function e(){i.detach().trigger("closed.bs.alert").remove()}var n=o(this),r=n.attr("data-target");r||(r=(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,""));var i=o("#"===r?[]:r);t&&t.preventDefault(),i.length||(i=n.closest(".alert")),i.trigger(t=o.Event("close.bs.alert")),t.isDefaultPrevented()||(i.removeClass("in"),o.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(a.TRANSITION_DURATION):e())};var n=o.fn.alert;o.fn.alert=t,o.fn.alert.Constructor=a,o.fn.alert.noConflict=function(){return o.fn.alert=n,this},o(document).on("click.bs.alert.data-api",e,a.prototype.close)}(jQuery),function(o){"use strict";function n(r){return this.each(function(){var t=o(this),e=t.data("bs.button"),n="object"==typeof r&&r;e||t.data("bs.button",e=new i(this,n)),"toggle"==r?e.toggle():r&&e.setState(r)})}var i=function(t,e){this.$element=o(t),this.options=o.extend({},i.DEFAULTS,e),this.isLoading=!1};i.VERSION="3.3.7",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(t){var e="disabled",n=this.$element,r=n.is("input")?"val":"html",i=n.data();t+="Text",null==i.resetText&&n.data("resetText",n[r]()),setTimeout(o.proxy(function(){n[r](null==i[t]?this.options[t]:i[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(e).attr(e,e).prop(e,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(e).removeAttr(e).prop(e,!1))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var t=o.fn.button;o.fn.button=n,o.fn.button.Constructor=i,o.fn.button.noConflict=function(){return o.fn.button=t,this},o(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=o(t.target).closest(".btn");n.call(e,"toggle"),o(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),e.is("input,button")?e.trigger("focus"):e.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){o(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(f){"use strict";function a(i){return this.each(function(){var t=f(this),e=t.data("bs.carousel"),n=f.extend({},h.DEFAULTS,t.data(),"object"==typeof i&&i),r="string"==typeof i?i:n.slide;e||t.data("bs.carousel",e=new h(this,n)),"number"==typeof i?e.to(i):r?e[r]():n.interval&&e.pause().cycle()})}var h=function(t,e){this.$element=f(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",f.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",f.proxy(this.pause,this)).on("mouseleave.bs.carousel",f.proxy(this.cycle,this))};h.VERSION="3.3.7",h.TRANSITION_DURATION=600,h.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},h.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},h.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(f.proxy(this.next,this),this.options.interval)),this},h.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},h.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var r=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(r)},h.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",this.$items.eq(t))},h.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&f.support.transition&&(this.$element.trigger(f.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},h.prototype.next=function(){if(!this.sliding)return this.slide("next")},h.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},h.prototype.slide=function(t,e){var n=this.$element.find(".item.active"),r=e||this.getItemForDirection(t,n),i=this.interval,o="next"==t?"left":"right",a=this;if(r.hasClass("active"))return this.sliding=!1;var s=r[0],u=f.Event("slide.bs.carousel",{relatedTarget:s,direction:o});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,i&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=f(this.$indicators.children()[this.getItemIndex(r)]);c&&c.addClass("active")}var l=f.Event("slid.bs.carousel",{relatedTarget:s,direction:o});return f.support.transition&&this.$element.hasClass("slide")?(r.addClass(t),r[0].offsetWidth,n.addClass(o),r.addClass(o),n.one("bsTransitionEnd",function(){r.removeClass([t,o].join(" ")).addClass("active"),n.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(l)},0)}).emulateTransitionEnd(h.TRANSITION_DURATION)):(n.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(l)),i&&this.cycle(),this}};var t=f.fn.carousel;f.fn.carousel=a,f.fn.carousel.Constructor=h,f.fn.carousel.noConflict=function(){return f.fn.carousel=t,this};var e=function(t){var e,n=f(this),r=f(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var i=f.extend({},r.data(),n.data()),o=n.attr("data-slide-to");o&&(i.interval=!1),a.call(r,i),o&&r.data("bs.carousel").to(o),t.preventDefault()}};f(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),f(window).on("load",function(){f('[data-ride="carousel"]').each(function(){var t=f(this);a.call(t,t.data())})})}(jQuery),function(a){"use strict";function i(t){var e,n=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return a(n)}function s(r){return this.each(function(){var t=a(this),e=t.data("bs.collapse"),n=a.extend({},u.DEFAULTS,t.data(),"object"==typeof r&&r);!e&&n.toggle&&/show|hide/.test(r)&&(n.toggle=!1),e||t.data("bs.collapse",e=new u(this,n)),"string"==typeof r&&e[r]()})}var u=function(t,e){this.$element=a(t),this.options=a.extend({},u.DEFAULTS,e),this.$trigger=a('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};u.VERSION="3.3.7",u.TRANSITION_DURATION=350,u.DEFAULTS={toggle:!0},u.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},u.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(t=e.data("bs.collapse"))&&t.transitioning)){var n=a.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){e&&e.length&&(s.call(e,"hide"),t||e.data("bs.collapse",null));var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var i=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return i.call(this);var o=a.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",a.proxy(i,this)).emulateTransitionEnd(u.TRANSITION_DURATION)[r](this.$element[0][o])}}}},u.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=a.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!a.support.transition)return n.call(this);this.$element[e](0).one("bsTransitionEnd",a.proxy(n,this)).emulateTransitionEnd(u.TRANSITION_DURATION)}}},u.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},u.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(t,e){var n=a(e);this.addAriaAndCollapsedClass(i(n),n)},this)).end()},u.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var t=a.fn.collapse;a.fn.collapse=s,a.fn.collapse.Constructor=u,a.fn.collapse.noConflict=function(){return a.fn.collapse=t,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=a(this);e.attr("data-target")||t.preventDefault();var n=i(e),r=n.data("bs.collapse")?"toggle":e.data();s.call(n,r)})}(jQuery),function(s){"use strict";function u(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var n=e&&s(e);return n&&n.length?n:t.parent()}function o(r){r&&3===r.which||(s(e).remove(),s(c).each(function(){var t=s(this),e=u(t),n={relatedTarget:this};e.hasClass("open")&&(r&&"click"==r.type&&/input|textarea/i.test(r.target.tagName)&&s.contains(e[0],r.target)||(e.trigger(r=s.Event("hide.bs.dropdown",n)),r.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger(s.Event("hidden.bs.dropdown",n)))))}))}function t(n){return this.each(function(){var t=s(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new r(this)),"string"==typeof n&&e[n].call(t)})}var e=".dropdown-backdrop",c='[data-toggle="dropdown"]',r=function(t){s(t).on("click.bs.dropdown",this.toggle)};r.VERSION="3.3.7",r.prototype.toggle=function(t){var e=s(this);if(!e.is(".disabled, :disabled")){var n=u(e),r=n.hasClass("open");if(o(),!r){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&s(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(s(this)).on("click",o);var i={relatedTarget:this};if(n.trigger(t=s.Event("show.bs.dropdown",i)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger(s.Event("shown.bs.dropdown",i))}return!1}},r.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=s(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=u(e),r=n.hasClass("open");if(!r&&27!=t.which||r&&27==t.which)return 27==t.which&&n.find(c).trigger("focus"),e.trigger("click");var i=" li:not(.disabled):visible a",o=n.find(".dropdown-menu"+i);if(o.length){var a=o.index(t.target);38==t.which&&0<a&&a--,40==t.which&&a<o.length-1&&a++,~a||(a=0),o.eq(a).trigger("focus")}}}};var n=s.fn.dropdown;s.fn.dropdown=t,s.fn.dropdown.Constructor=r,s.fn.dropdown.noConflict=function(){return s.fn.dropdown=n,this},s(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",c,r.prototype.toggle).on("keydown.bs.dropdown.data-api",c,r.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",r.prototype.keydown)}(jQuery),function(o){"use strict";function a(r,i){return this.each(function(){var t=o(this),e=t.data("bs.modal"),n=o.extend({},s.DEFAULTS,t.data(),"object"==typeof r&&r);e||t.data("bs.modal",e=new s(this,n)),"string"==typeof r?e[r](i):n.show&&e.show(i)})}var s=function(t,e){this.options=e,this.$body=o(document.body),this.$element=o(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,o.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};s.VERSION="3.3.7",s.TRANSITION_DURATION=300,s.BACKDROP_TRANSITION_DURATION=150,s.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},s.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},s.prototype.show=function(n){var r=this,t=o.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',o.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){o(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=o.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),t&&r.$element[0].offsetWidth,r.$element.addClass("in"),r.enforceFocus();var e=o.Event("shown.bs.modal",{relatedTarget:n});t?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(s.TRANSITION_DURATION):r.$element.trigger("focus").trigger(e)}))},s.prototype.hide=function(t){t&&t.preventDefault(),t=o.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),o(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),o.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",o.proxy(this.hideModal,this)).emulateTransitionEnd(s.TRANSITION_DURATION):this.hideModal())},s.prototype.enforceFocus=function(){o(document).off("focusin.bs.modal").on("focusin.bs.modal",o.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},s.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",o.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},s.prototype.resize=function(){this.isShown?o(window).on("resize.bs.modal",o.proxy(this.handleUpdate,this)):o(window).off("resize.bs.modal")},s.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},s.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},s.prototype.backdrop=function(t){var e=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=o.support.transition&&n;if(this.$backdrop=o(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",o.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;r?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var i=function(){e.removeBackdrop(),t&&t()};o.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):i()}else t&&t()},s.prototype.handleUpdate=function(){this.adjustDialog()},s.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},s.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},s.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},s.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},s.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},s.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=o.fn.modal;o.fn.modal=a,o.fn.modal.Constructor=s,o.fn.modal.noConflict=function(){return o.fn.modal=t,this},o(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=o(this),n=e.attr("href"),r=o(e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),i=r.data("bs.modal")?"toggle":o.extend({remote:!/#/.test(n)&&n},r.data(),e.data());e.is("a")&&t.preventDefault(),r.one("show.bs.modal",function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),a.call(r,i,this)})}(jQuery),function(s){"use strict";function e(n){return this.each(function(){var t=s(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new a(this)),"string"==typeof n&&e[n]()})}var a=function(t){this.element=s(t)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=e.find(".active:last a"),i=s.Event("hide.bs.tab",{relatedTarget:t[0]}),o=s.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(i),t.trigger(o),!o.isDefaultPrevented()&&!i.isDefaultPrevented()){var a=s(n);this.activate(t.closest("li"),e),this.activate(a,a.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},a.prototype.activate=function(t,e,n){function r(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var i=e.find("> .active"),o=n&&s.support.transition&&(i.length&&i.hasClass("fade")||!!e.find("> .fade").length);i.length&&o?i.one("bsTransitionEnd",r).emulateTransitionEnd(a.TRANSITION_DURATION):r(),i.removeClass("in")};var t=s.fn.tab;s.fn.tab=e,s.fn.tab.Constructor=a,s.fn.tab.noConflict=function(){return s.fn.tab=t,this};var n=function(t){t.preventDefault(),e.call(s(this),"show")};s(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(u){"use strict";function n(r){return this.each(function(){var t=u(this),e=t.data("bs.affix"),n="object"==typeof r&&r;e||t.data("bs.affix",e=new c(this,n)),"string"==typeof r&&e[r]()})}var c=function(t,e){this.options=u.extend({},c.DEFAULTS,e),this.$target=u(this.options.target).on("scroll.bs.affix.data-api",u.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",u.proxy(this.checkPositionWithEventLoop,this)),this.$element=u(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(t,e,n,r){var i=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return i<n&&"top";if("bottom"==this.affixed)return null!=n?!(i+this.unpin<=o.top)&&"bottom":!(i+a<=t-r)&&"bottom";var s=null==this.affixed,u=s?i:o.top;return null!=n&&i<=n?"top":null!=r&&t-r<=u+(s?a:e)&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},c.prototype.checkPositionWithEventLoop=function(){setTimeout(u.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,n=e.top,r=e.bottom,i=Math.max(u(document).height(),u(document.body).height());"object"!=typeof e&&(r=n=e),"function"==typeof n&&(n=e.top(this.$element)),"function"==typeof r&&(r=e.bottom(this.$element));var o=this.getState(i,t,n,r);if(this.affixed!=o){null!=this.unpin&&this.$element.css("top","");var a="affix"+(o?"-"+o:""),s=u.Event(a+".bs.affix");if(this.$element.trigger(s),s.isDefaultPrevented())return;this.affixed=o,this.unpin="bottom"==o?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}"bottom"==o&&this.$element.offset({top:i-t-r})}};var t=u.fn.affix;u.fn.affix=n,u.fn.affix.Constructor=c,u.fn.affix.noConflict=function(){return u.fn.affix=t,this},u(window).on("load",function(){u('[data-spy="affix"]').each(function(){var t=u(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),n.call(t,e)})})}(jQuery),function(o){"use strict";function i(t,e){this.$body=o(document.body),this.$scrollElement=o(t).is(document.body)?o(window):o(t),this.options=o.extend({},i.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",o.proxy(this.process,this)),this.refresh(),this.process()}function e(r){return this.each(function(){var t=o(this),e=t.data("bs.scrollspy"),n="object"==typeof r&&r;e||t.data("bs.scrollspy",e=new i(this,n)),"string"==typeof r&&e[r]()})}i.VERSION="3.3.7",i.DEFAULTS={offset:10},i.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},i.prototype.refresh=function(){var t=this,r="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),o.isWindow(this.$scrollElement[0])||(r="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=o(this),e=t.data("target")||t.attr("href"),n=/^#./.test(e)&&o(e);return n&&n.length&&n.is(":visible")&&[[n[r]().top+i,e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},i.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),r<=e)return a!=(t=o[o.length-1])&&this.activate(t);if(a&&e<i[0])return this.activeTarget=null,this.clear();for(t=i.length;t--;)a!=o[t]&&e>=i[t]&&(i[t+1]===undefined||e<i[t+1])&&this.activate(o[t])},i.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=o(e).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},i.prototype.clear=function(){o(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=o.fn.scrollspy;o.fn.scrollspy=e,o.fn.scrollspy.Constructor=i,o.fn.scrollspy.noConflict=function(){return o.fn.scrollspy=t,this},o(window).on("load.bs.scrollspy.data-api",function(){o('[data-spy="scroll"]').each(function(){var t=o(this);e.call(t,t.data())})})}(jQuery),function(g){"use strict";function t(r){return this.each(function(){var t=g(this),e=t.data("bs.tooltip"),n="object"==typeof r&&r;!e&&/destroy|hide/.test(r)||(e||t.data("bs.tooltip",e=new v(this,n)),"string"==typeof r&&e[r]())})}var v=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};v.VERSION="3.3.7",v.TRANSITION_DURATION=150,v.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},v.prototype.init=function(t,e,n){if(this.enabled=!0,this.type=t,this.$element=g(e),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&g(g.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),i=r.length;i--;){var o=r[i];if("click"==o)this.$element.on("click."+this.type,this.options.selector,g.proxy(this.toggle,this));else if("manual"!=o){var a="hover"==o?"mouseenter":"focusin",s="hover"==o?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,g.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,g.proxy(this.leave,this))}}this.options.selector?this._options=g.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},v.prototype.getDefaults=function(){return v.DEFAULTS},v.prototype.getOptions=function(t){return(t=g.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},v.prototype.getDelegateOptions=function(){var n={},r=this.getDefaults();return this._options&&g.each(this._options,function(t,e){r[t]!=e&&(n[t]=e)}),n},v.prototype.enter=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState)e.hoverState="in";else{
if(clearTimeout(e.timeout),e.hoverState="in",!e.options.delay||!e.options.delay.show)return e.show();e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)}},v.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},v.prototype.leave=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),!e.isInStateTrue()){if(clearTimeout(e.timeout),e.hoverState="out",!e.options.delay||!e.options.delay.hide)return e.hide();e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)}},v.prototype.show=function(){var t=g.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=g.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var n=this,r=this.tip(),i=this.getUID(this.type);this.setContent(),r.attr("id",i),this.$element.attr("aria-describedby",i),this.options.animation&&r.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,s=a.test(o);s&&(o=o.replace(a,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),c=r[0].offsetWidth,l=r[0].offsetHeight;if(s){var f=o,h=this.getPosition(this.$viewport);o="bottom"==o&&u.bottom+l>h.bottom?"top":"top"==o&&u.top-l<h.top?"bottom":"right"==o&&u.right+c>h.width?"left":"left"==o&&u.left-c<h.left?"right":o,r.removeClass(f).addClass(o)}var d=this.getCalculatedOffset(o,u,c,l);this.applyPlacement(d,o);var p=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};g.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",p).emulateTransitionEnd(v.TRANSITION_DURATION):p()}},v.prototype.applyPlacement=function(t,e){var n=this.tip(),r=n[0].offsetWidth,i=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),t.top+=o,t.left+=a,g.offset.setOffset(n[0],g.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in");var s=n[0].offsetWidth,u=n[0].offsetHeight;"top"==e&&u!=i&&(t.top=t.top+i-u);var c=this.getViewportAdjustedDelta(e,t,s,u);c.left?t.left+=c.left:t.top+=c.top;var l=/top|bottom/.test(e),f=l?2*c.left-r+s:2*c.top-i+u,h=l?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(f,n[0][h],l)},v.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},v.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},v.prototype.hide=function(t){function e(){"in"!=n.hoverState&&r.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}var n=this,r=g(this.$tip),i=g.Event("hide.bs."+this.type);if(this.$element.trigger(i),!i.isDefaultPrevented())return r.removeClass("in"),g.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(v.TRANSITION_DURATION):e(),this.hoverState=null,this},v.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},v.prototype.hasContent=function(){return this.getTitle()},v.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],n="BODY"==e.tagName,r=e.getBoundingClientRect();null==r.width&&(r=g.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var i=window.SVGElement&&e instanceof window.SVGElement,o=n?{top:0,left:0}:i?null:t.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=n?{width:g(window).width(),height:g(window).height()}:null;return g.extend({},r,a,s,o)},v.prototype.getCalculatedOffset=function(t,e,n,r){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-r,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-r/2,left:e.left-n}:{top:e.top+e.height/2-r/2,left:e.left+e.width}},v.prototype.getViewportAdjustedDelta=function(t,e,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-o-a.scroll,u=e.top+o-a.scroll+r;s<a.top?i.top=a.top-s:u>a.top+a.height&&(i.top=a.top+a.height-u)}else{var c=e.left-o,l=e.left+o+n;c<a.left?i.left=a.left-c:l>a.right&&(i.left=a.left+a.width-l)}return i},v.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},v.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},v.prototype.tip=function(){if(!this.$tip&&(this.$tip=g(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},v.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},v.prototype.enable=function(){this.enabled=!0},v.prototype.disable=function(){this.enabled=!1},v.prototype.toggleEnabled=function(){this.enabled=!this.enabled},v.prototype.toggle=function(t){var e=this;t&&((e=g(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},v.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var e=g.fn.tooltip;g.fn.tooltip=t,g.fn.tooltip.Constructor=v,g.fn.tooltip.noConflict=function(){return g.fn.tooltip=e,this}}(jQuery),function(i){"use strict";function t(r){return this.each(function(){var t=i(this),e=t.data("bs.popover"),n="object"==typeof r&&r;!e&&/destroy|hide/.test(r)||(e||t.data("bs.popover",e=new o(this,n)),"string"==typeof r&&e[r]())})}var o=function(t,e){this.init("popover",t,e)};if(!i.fn.tooltip)throw new Error("Popover requires tooltip.js");o.VERSION="3.3.7",o.DEFAULTS=i.extend({},i.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),o.prototype=i.extend({},i.fn.tooltip.Constructor.prototype),(o.prototype.constructor=o).prototype.getDefaults=function(){return o.DEFAULTS},o.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},o.prototype.hasContent=function(){return this.getTitle()||this.getContent()},o.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},o.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var e=i.fn.popover;i.fn.popover=t,i.fn.popover.Constructor=o,i.fn.popover.noConflict=function(){return i.fn.popover=e,this}}(jQuery),function(l,u){"use strict";var c;l.rails!==u&&l.error("jquery-ujs has already been loaded!");var t=l(document);l.rails=c={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return l("meta[name=csrf-token]").attr("content")},csrfParam:function(){return l("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=c.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){l('form input[name="'+c.csrfParam()+'"]').val(c.csrfToken())},fire:function(t,e,n){var r=l.Event(e);return t.trigger(r,n),!1!==r.result},confirm:function(t){return confirm(t)},ajax:function(t){return l.ajax(t)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==u&&!1!==t.data("remote")},handleRemote:function(r){var t,e,n,i,o,a;if(c.fire(r,"ajax:before")){if(i=r.data("with-credentials")||null,o=r.data("type")||l.ajaxSettings&&l.ajaxSettings.dataType,r.is("form")){t=r.data("ujs:submit-button-formmethod")||r.attr("method"),e=r.data("ujs:submit-button-formaction")||r.attr("action"),n=l(r[0]).serializeArray();var s=r.data("ujs:submit-button");s&&(n.push(s),r.data("ujs:submit-button",null)),r.data("ujs:submit-button-formmethod",null),r.data("ujs:submit-button-formaction",null)}else r.is(c.inputChangeSelector)?(t=r.data("method"),e=r.data("url"),n=r.serialize(),r.data("params")&&(n=n+"&"+r.data("params"))):r.is(c.buttonClickSelector)?(t=r.data("method")||"get",e=r.data("url"),n=r.serialize(),r.data("params")&&(n=n+"&"+r.data("params"))):(t=r.data("method"),e=c.href(r),n=r.data("params")||null);return a={type:t||"GET",data:n,dataType:o,beforeSend:function(t,e){if(e.dataType===u&&t.setRequestHeader("accept","*/*;q=0.5, "+e.accepts.script),!c.fire(r,"ajax:beforeSend",[t,e]))return!1;r.trigger("ajax:send",t)},success:function(t,e,n){r.trigger("ajax:success",[t,e,n])},complete:function(t,e){r.trigger("ajax:complete",[t,e])},error:function(t,e,n){r.trigger("ajax:error",[t,e,n])},crossDomain:c.isCrossDomain(e)},i&&(a.xhrFields={withCredentials:i}),e&&(a.url=e),c.ajax(a)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(r){return!0}},handleMethod:function(t){var e=c.href(t),n=t.data("method"),r=t.attr("target"),i=c.csrfToken(),o=c.csrfParam(),a=l('<form method="post" action="'+e+'"></form>'),s='<input name="_method" value="'+n+'" type="hidden" />';o===u||i===u||c.isCrossDomain(e)||(s+='<input name="'+o+'" value="'+i+'" type="hidden" />'),r&&a.attr("target",r),a.hide().append(s).appendTo("body"),a.submit()},formElements:function(t,e){return t.is("form")?l(t[0].elements).filter(e):t.find(e)},disableFormElements:function(t){c.formElements(t,c.disableSelector).each(function(){c.disableFormElement(l(this))})},disableFormElement:function(t){var e,n;e=t.is("button")?"html":"val",(n=t.data("disable-with"))!==u&&(t.data("ujs:enable-with",t[e]()),t[e](n)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(t){c.formElements(t,c.enableSelector).each(function(){c.enableFormElement(l(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";t.data("ujs:enable-with")!==u&&(t[e](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,n=t.data("confirm"),r=!1;if(!n)return!0;if(c.fire(t,"confirm")){try{r=c.confirm(n)}catch(i){(console.error||console.log).call(console,i.stack||i)}e=c.fire(t,"confirm:complete",[r])}return r&&e},blankInputs:function(t,e,n){var r,i,o,a=l(),s=e||"input,textarea",u=t.find(s),c={};return u.each(function(){(r=l(this)).is("input[type=radio]")?(o=r.attr("name"),c[o]||(0===t.find('input[type=radio]:checked[name="'+o+'"]').length&&(i=t.find('input[type=radio][name="'+o+'"]'),a=a.add(i)),c[o]=o)):(r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):!!r.val())===n&&(a=a.add(r))}),!!a.length&&a},nonBlankInputs:function(t,e){return c.blankInputs(t,e,!0)},stopEverything:function(t){return l(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(t){var e=t.data("disable-with");e!==u&&(t.data("ujs:enable-with",t.html()),t.html(e)),t.bind("click.railsDisable",function(t){return c.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==u&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},c.fire(t,"rails:attachBindings")&&(l.ajaxPrefilter(function(t,e,n){t.crossDomain||c.CSRFProtection(n)}),l(window).on("pageshow.rails",function(){l(l.rails.enableSelector).each(function(){var t=l(this);t.data("ujs:disabled")&&l.rails.enableFormElement(t)}),l(l.rails.linkDisableSelector).each(function(){var t=l(this);t.data("ujs:disabled")&&l.rails.enableElement(t)})}),t.on("ajax:complete",c.linkDisableSelector,function(){c.enableElement(l(this))}),t.on("ajax:complete",c.buttonDisableSelector,function(){c.enableFormElement(l(this))}),t.on("click.rails",c.linkClickSelector,function(t){var e=l(this),n=e.data("method"),r=e.data("params"),i=t.metaKey||t.ctrlKey;if(!c.allowAction(e))return c.stopEverything(t);if(!i&&e.is(c.linkDisableSelector)&&c.disableElement(e),c.isRemote(e)){if(i&&(!n||"GET"===n)&&!r)return!0;var o=c.handleRemote(e);return!1===o?c.enableElement(e):o.fail(function(){c.enableElement(e)}),!1}return n?(c.handleMethod(e),!1):void 0}),t.on("click.rails",c.buttonClickSelector,function(t){var e=l(this);if(!c.allowAction(e)||!c.isRemote(e))return c.stopEverything(t);e.is(c.buttonDisableSelector)&&c.disableFormElement(e);var n=c.handleRemote(e);return!1===n?c.enableFormElement(e):n.fail(function(){c.enableFormElement(e)}),!1}),t.on("change.rails",c.inputChangeSelector,function(t){var e=l(this);return c.allowAction(e)&&c.isRemote(e)?(c.handleRemote(e),!1):c.stopEverything(t)}),t.on("submit.rails",c.formSubmitSelector,function(t){var e,n,r=l(this),i=c.isRemote(r);if(!c.allowAction(r))return c.stopEverything(t);if(r.attr("novalidate")===u)if(r.data("ujs:formnovalidate-button")===u){if((e=c.blankInputs(r,c.requiredInputSelector,!1))&&c.fire(r,"ajax:aborted:required",[e]))return c.stopEverything(t)}else r.data("ujs:formnovalidate-button",u);if(i){if(n=c.nonBlankInputs(r,c.fileInputSelector)){setTimeout(function(){c.disableFormElements(r)},13);var o=c.fire(r,"ajax:aborted:file",[n]);return o||setTimeout(function(){c.enableFormElements(r)},13),o}return c.handleRemote(r),!1}setTimeout(function(){c.disableFormElements(r)},13)}),t.on("click.rails",c.formInputClickSelector,function(t){var e=l(this);if(!c.allowAction(e))return c.stopEverything(t);var n=e.attr("name"),r=n?{name:n,value:e.val()}:null,i=e.closest("form");0===i.length&&(i=l("#"+e.attr("form"))),i.data("ujs:submit-button",r),i.data("ujs:formnovalidate-button",e.attr("formnovalidate")),i.data("ujs:submit-button-formaction",e.attr("formaction")),i.data("ujs:submit-button-formmethod",e.attr("formmethod"))}),t.on("ajax:send.rails",c.formSubmitSelector,function(t){this===t.target&&c.disableFormElements(l(this))}),t.on("ajax:complete.rails",c.formSubmitSelector,function(t){this===t.target&&c.enableFormElements(l(this))}),l(function(){c.refreshCSRFTokens()}))}(jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.c3=e()}(this,function(){"use strict";function i(t,e){var n=this;n.component=t,n.params=e||{},n.d3=t.d3,n.scale=n.d3.scale.linear(),n.range,n.orient="bottom",n.innerTickSize=6,n.outerTickSize=this.params.withOuterTick?6:0,n.tickPadding=3,n.tickValues=null,n.tickFormat,n.tickArguments,n.tickOffset=0,n.tickCulling=!0,n.tickCentered,n.tickTextCharSize,n.tickTextRotate=n.params.tickTextRotate,n.tickLength,n.axis=n.generateAxis()}function t(t,e,n){this.owner=t,S.chart.internal[e]=n}function e(t){var n=this.internal=new r(this);n.loadConfig(t),n.beforeInit(t),n.init(),n.afterInit(t),function e(n,r,i){Object.keys(n).forEach(function(t){r[t]=n[t].bind(i),0<Object.keys(n[t]).length&&e(n[t],r[t],i)})}(_,this,this)}function r(t){var e=this;e.d3=window.d3?window.d3:"undefined"!=typeof require?require("d3"):undefined,e.api=t,e.config=e.getDefaultConfig(),e.data={},e.cache={},e.axes={}}var o,a,j={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},n=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},C=function(t){return t||0===t},f=function(t){return"function"==typeof t},l=function(t){return Array.isArray(t)},h=function(t){return"string"==typeof t},w=function(t){return void 0===t},O=function(t){return void 0!==t},d=function(t){return 10*Math.ceil(t/10)},p=function(t){return Math.ceil(t)+.5},I=function(t){return t[1]-t[0]},g=function(t){return null==t||h(t)&&0===t.length||"object"===(void 0===t?"undefined":u(t))&&0===Object.keys(t).length},A=function(t){return!b.isEmpty(t)},H=function(t,e,n){return O(t[e])?t[e]:n},v=function(e,n){var r=!1;return Object.keys(e).forEach(function(t){e[t]===n&&(r=!0)}),r},y=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},m=function(t){var e=t.getBoundingClientRect(),n=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)];return{x:n[0].x,y:Math.min(n[0].y,n[1].y),width:e.width,height:e.height}};(a=i.prototype).axisX=function(t,e,n){t.attr("transform",function(t){return"translate("+Math.ceil(e(t)+n)+", 0)"})},a.axisY=function(t,e){t.attr("transform",function(t){return"translate(0,"+Math.ceil(e(t))+")"})},a.scaleExtent=function(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]},a.generateTicks=function(t){var e,n,r=this,i=[];if(t.ticks)return t.ticks.apply(t,r.tickArguments);for(n=t.domain(),e=Math.ceil(n[0]);e<n[1];e++)i.push(e);return 0<i.length&&0<i[0]&&i.unshift(i[0]-(i[1]-i[0])),i},a.copyScale=function(){var t,e=this,n=e.scale.copy();return e.params.isCategory&&(t=e.scale.domain(),n.domain([t[0],t[1]-1])),n},a.textFormatted=function(t){var e=this,n=e.tickFormat?e.tickFormat(t):t;return void 0!==n?n:""},a.updateRange=function(){var t=this;return t.range=t.scale.rangeExtent?t.scale.rangeExtent():t.scaleExtent(t.scale.range()),t.range},a.updateTickTextCharSize=function(t){var o=this;if(o.tickTextCharSize)return o.tickTextCharSize;var a={h:11.5,w:5.5};return t.select("text").text(function(t){return o.textFormatted(t)}).each(function(t){var e=this.getBoundingClientRect(),n=o.textFormatted(t),r=e.height,i=n?e.width/n.length:undefined;r&&i&&(a.h=r,a.w=i)}).text(""),o.tickTextCharSize=a},a.transitionise=function(t){return this.params.withoutTransition?t:this.d3.transition(t)},a.isVertical=function(){return"left"===this.orient||"right"===this.orient},a.tspanData=function(t,e,n,r){var i=this,o=i.params.tickMultiline?i.splitTickText(t,n,r):[].concat(i.textFormatted(t));return o.map(function(t){return{index:e,splitted:t,length:o.length}})},a.splitTickText=function(t,e,n){function r(t,e){o=undefined;for(var n=1;n<e.length;n++)if(" "===e.charAt(n)&&(o=n),i=e.substr(0,n+1),a=s.tickTextCharSize.w*i.length,c<a)return r(t.concat(e.substr(0,o||n)),e.slice(o?o+1:n));return t.concat(e)}var i,o,a,s=this,u=s.textFormatted(t),c=s.params.tickWidth,l=[];return"[object Array]"===Object.prototype.toString.call(u)?u:((!c||c<=0)&&(c=s.isVertical()?95:s.params.isCategory?Math.ceil(n(e[1])-n(e[0]))-12:110),r(l,u+""))},a.updateTickLength=function(){var t=this;t.tickLength=Math.max(t.innerTickSize,0)+t.tickPadding},a.lineY2=function(t){var e=this,n=e.scale(t)+(e.tickCentered?0:e.tickOffset);return e.range[0]<n&&n<e.range[1]?e.innerTickSize:0},a.textY=function(){var t=this,e=t.tickTextRotate;return e?11.5-e/15*2.5*(0<e?1:-1):t.tickLength},a.textTransform=function(){var t=this.tickTextRotate;return t?"rotate("+t+")":""},a.textTextAnchor=function(){var t=this.tickTextRotate;return t?0<t?"start":"end":"middle"},a.tspanDx=function(){var t=this.tickTextRotate;return t?8*Math.sin(Math.PI*(t/180)):0},a.tspanDy=function(t,e){var n=this,r=n.tickTextCharSize.h;return 0===e&&(r=n.isVertical()?-((t.length-1)*(n.tickTextCharSize.h/2)-3):".71em"),r},a.generateAxis=function(){function m(t){t.each(function(){var t,e,n,r=m.g=_.select(this),i=this.__chart__||x.scale,o=this.__chart__=x.copyScale(),a=x.tickValues?x.tickValues:x.generateTicks(o),s=r.selectAll(".tick").data(a,o),u=s.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),c=s.exit().remove(),l=x.transitionise(s).style("opacity",1);b.isCategory?(x.tickOffset=Math.ceil((o(1)-o(0))/2),e=x.tickCentered?0:x.tickOffset,n=x.tickCentered?x.tickOffset:0):x.tickOffset=e=0,u.append("line"),u.append("text"),x.updateRange(),x.updateTickLength(),x.updateTickTextCharSize(r.select(".tick"));var f=l.select("line"),h=l.select("text"),d=s.select("text").selectAll("tspan").data(function(t,e){return x.tspanData(t,e,a,o)});d.enter().append("tspan"),d.exit().remove(),d.text(function(t){return t.splitted});var p=r.selectAll(".domain").data([0]),g=(p.enter().append("path").attr("class","domain"),x.transitionise(p));switch(x.orient){case"bottom":t=x.axisX,f.attr("x1",e).attr("x2",e).attr("y2",function(t,e){return x.lineY2(t,e)}),h.attr("x",0).attr("y",function(t,e){return x.textY(t,e)}).attr("transform",function(t,e){return x.textTransform(t,e)}).style("text-anchor",function(t,e){return x.textTextAnchor(t,e)}),d.attr("x",0).attr("dy",function(t,e){return x.tspanDy(t,e)}).attr("dx",function(t,e){return x.tspanDx(t,e)}),g.attr("d","M"+x.range[0]+","+x.outerTickSize+"V0H"+x.range[1]+"V"+x.outerTickSize);break;case"top":t=x.axisX,f.attr("x2",0).attr("y2",-x.innerTickSize),h.attr("x",0).attr("y",-x.tickLength).style("text-anchor","middle"),d.attr("x",0).attr("dy","0em"),g.attr("d","M"+x.range[0]+","+-x.outerTickSize+"V0H"+x.range[1]+"V"+-x.outerTickSize);break;case"left":t=x.axisY,f.attr("x2",-x.innerTickSize).attr("y1",n).attr("y2",n),h.attr("x",-x.tickLength).attr("y",x.tickOffset).style("text-anchor","end"),d.attr("x",-x.tickLength).attr("dy",function(t,e){return x.tspanDy(t,e)}),g.attr("d","M"+-x.outerTickSize+","+x.range[0]+"H0V"+x.range[1]+"H"+-x.outerTickSize);break;case"right":t=x.axisY,f.attr("x2",x.innerTickSize).attr("y2",0),h.attr("x",x.tickLength).attr("y",0).style("text-anchor","start"),d.attr("x",x.tickLength).attr("dy",function(t,e){return x.tspanDy(t,e)}),g.attr("d","M"+x.outerTickSize+","+x.range[0]+"H0V"+x.range[1]+"H"+x.outerTickSize)}if(o.rangeBand){var v=o,y=v.rangeBand()/2;i=o=function(t){return v(t)+y}}else i.rangeBand?i=o:c.call(t,o,x.tickOffset);u.call(t,i,x.tickOffset),l.call(t,o,x.tickOffset)})}var x=this,_=x.d3,b=x.params;return m.scale=function(t){return arguments.length?(x.scale=t,m):x.scale},m.orient=function(t){return arguments.length?(x.orient=t in{top:1,right:1,bottom:1,left:1}?t+"":"bottom",m):x.orient},m.tickFormat=function(t){return arguments.length?(x.tickFormat=t,m):x.tickFormat},m.tickCentered=function(t){return arguments.length?(x.tickCentered=t,m):x.tickCentered},m.tickOffset=function(){return x.tickOffset},m.tickInterval=function(){var t;return(t=b.isCategory?2*x.tickOffset:(m.g.select("path.domain").node().getTotalLength()-2*x.outerTickSize)/m.g.selectAll("line").size())===Infinity?0:t},m.ticks=function(){return arguments.length?(x.tickArguments=arguments,m):x.tickArguments},m.tickCulling=function(t){return arguments.length?(x.tickCulling=t,m):x.tickCulling},m.tickValues=function(t){if("function"==typeof t)x.tickValues=function(){return t(x.scale.domain())};else{if(!arguments.length)return x.tickValues;x.tickValues=t}return m},m};var x=function(){function r(t){s(this,r);var e={fn:o,internal:{fn:a}},n=c(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t,"axis",e));return n.d3=t.d3,n.internal=i,n}return n(r,t),r}();(o=x.prototype).init=function(){var t=this.owner,e=t.config,n=t.main;t.axes.x=n.append("g").attr("class",j.axis+" "+j.axisX).attr("clip-path",t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",j.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=n.append("g").attr("class",j.axis+" "+j.axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",j.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=n.append("g").attr("class",j.axis+" "+j.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",j.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},o.getXAxis=function(t,e,n,r,i,o,a){var s=this.owner,u=s.config,c={isCategory:s.isCategorized(),withOuterTick:i,tickMultiline:u.axis_x_tick_multiline,tickWidth:u.axis_x_tick_width,tickTextRotate:a?0:u.axis_x_tick_rotate,withoutTransition:o},l=new this.internal(this,c).axis.scale(t).orient(e);return s.isTimeSeries()&&r&&"function"!=typeof r&&(r=r.map(function(t){return s.parseDate(t)})),l.tickFormat(n).tickValues(r),s.isCategorized()&&(l.tickCentered(u.axis_x_tick_centered),g(u.axis_x_tick_culling)&&(u.axis_x_tick_culling=!1)),l},o.updateXAxisTickValues=function(t,e){var n,r=this.owner,i=r.config;return(i.axis_x_tick_fit||i.axis_x_tick_count)&&(n=this.generateTickValues(r.mapTargetsToUniqueXs(t),i.axis_x_tick_count,r.isTimeSeries())),e?e.tickValues(n):(r.xAxis.tickValues(n),r.subXAxis.tickValues(n)),n},o.getYAxis=function(t,e,n,r,i,o,a){var s=this.owner,u=s.config,c={withOuterTick:i,withoutTransition:o,tickTextRotate:a?0:u.axis_y_tick_rotate},l=new this.internal(this,c).axis.scale(t).orient(e).tickFormat(n);return s.isTimeSeriesY()?l.ticks(s.d3.time[u.axis_y_tick_time_value],u.axis_y_tick_time_interval):l.tickValues(r),l},o.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},o.getXAxisTickFormat=function(){var e=this.owner,n=e.config,r=e.isTimeSeries()?e.defaultAxisTimeFormat:e.isCategorized()?e.categoryName:function(t){return t<0?t.toFixed(0):t};return n.axis_x_tick_format&&(f(n.axis_x_tick_format)?r=n.axis_x_tick_format:e.isTimeSeries()&&(r=function(t){return t?e.axisTimeFormat(n.axis_x_tick_format)(t):""})),f(r)?function(t){return r.call(e,t)}:r},o.getTickValues=function(t,e){return t||(e?e.tickValues():undefined)},o.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},o.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},o.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},o.getLabelOptionByAxisId=function(t){var e,n=this.owner.config;return"y"===t?e=n.axis_y_label:"y2"===t?e=n.axis_y2_label:"x"===t&&(e=n.axis_x_label),e},o.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return h(e)?e:e?e.text:null},o.setLabelText=function(t,e){var n=this.owner.config,r=this.getLabelOptionByAxisId(t);h(r)?"y"===t?n.axis_y_label=e:"y2"===t?n.axis_y2_label=e:"x"===t&&(n.axis_x_label=e):r&&(r.text=e)},o.getLabelPosition=function(t,e){var n=this.getLabelOptionByAxisId(t),r=n&&"object"===(void 0===n?"undefined":u(n))&&n.position?n.position:e;return{isInner:0<=r.indexOf("inner"),isOuter:0<=r.indexOf("outer"),isLeft:0<=r.indexOf("left"),isCenter:0<=r.indexOf("center"),isRight:0<=r.indexOf("right"),isTop:0<=r.indexOf("top"),isMiddle:0<=r.indexOf("middle"),isBottom:0<=r.indexOf("bottom")}},o.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},o.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},o.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},o.getLabelPositionById=function(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},o.textForXAxisLabel=function(){return this.getLabelText("x")},o.textForYAxisLabel=function(){return this.getLabelText("y")},o.textForY2AxisLabel=function(){return this.getLabelText("y2")},o.xForAxisLabel=function(t,e){var n=this.owner;return t?e.isLeft?0:e.isCenter?n.width/2:n.width:e.isBottom?-n.height:e.isMiddle?-n.height/2:0},o.dxForAxisLabel=function(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},o.textAnchorForAxisLabel=function(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},o.xForXAxisLabel=function(){
return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},o.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},o.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},o.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},o.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},o.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},o.dyForXAxisLabel=function(){var t=this.owner.config,e=this.getXAxisLabelPosition();return t.axis_rotated?e.isInner?"1.2em":-25-this.getMaxTickWidth("x"):e.isInner?"-0.5em":t.axis_x_height?t.axis_x_height-10:"3em"},o.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},o.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},o.textAnchorForXAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())},o.textAnchorForYAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())},o.textAnchorForY2AxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())},o.getMaxTickWidth=function(t,e){var n,r,i,o,a=this.owner,s=a.config,u=0;return e&&a.currentMaxTickWidths[t]||(a.svg&&(n=a.filterTargetsToShow(a.data.targets),"y"===t?(r=a.y.copy().domain(a.getYDomain(n,"y")),i=this.getYAxis(r,a.yOrient,s.axis_y_tick_format,a.yAxisTickValues,!1,!0,!0)):"y2"===t?(r=a.y2.copy().domain(a.getYDomain(n,"y2")),i=this.getYAxis(r,a.y2Orient,s.axis_y2_tick_format,a.y2AxisTickValues,!1,!0,!0)):(r=a.x.copy().domain(a.getXDomain(n)),i=this.getXAxis(r,a.xOrient,a.xAxisTickFormat,a.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(n,i)),(o=a.d3.select("body").append("div").classed("c3",!0)).append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0).append("g").call(i).each(function(){a.d3.select(this).selectAll("text").each(function(){var t=this.getBoundingClientRect();u<t.width&&(u=t.width)}),o.remove()})),a.currentMaxTickWidths[t]=u<=0?a.currentMaxTickWidths[t]:u),a.currentMaxTickWidths[t]},o.updateLabels=function(t){var e=this.owner,n=e.main.select("."+j.axisX+" ."+j.axisXLabel),r=e.main.select("."+j.axisY+" ."+j.axisYLabel),i=e.main.select("."+j.axisY2+" ."+j.axisY2Label);(t?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?r.transition():r).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?i.transition():i).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},o.getPadding=function(t,e,n,r){var i="number"==typeof t?t:t[e];return C(i)?"ratio"===t.unit?t[e]*r:this.convertPixelsToAxisPadding(i,r):n},o.convertPixelsToAxisPadding=function(t,e){var n=this.owner;return e*(t/(n.config.axis_rotated?n.width:n.height))},o.generateTickValues=function(t,e,n){var r,i,o,a,s,u,c,l=t;if(e)if(1===(r=f(e)?e():e))l=[t[0]];else if(2===r)l=[t[0],t[t.length-1]];else if(2<r){for(a=r-2,i=t[0],s=((o=t[t.length-1])-i)/(a+1),l=[i],u=0;u<a;u++)c=+i+s*(u+1),l.push(n?new Date(c):c);l.push(o)}return n||(l=l.sort(function(t,e){return t-e})),l},o.generateTransitions=function(t){var e=this.owner.axes;return{axisX:t?e.x.transition().duration(t):e.x,axisY:t?e.y.transition().duration(t):e.y,axisY2:t?e.y2.transition().duration(t):e.y2,axisSubX:t?e.subx.transition().duration(t):e.subx}},o.redraw=function(t,e){var n=this.owner;n.axes.x.style("opacity",e?0:1),n.axes.y.style("opacity",e?0:1),n.axes.y2.style("opacity",e?0:1),n.axes.subx.style("opacity",e?0:1),t.axisX.call(n.xAxis),t.axisY.call(n.yAxis),t.axisY2.call(n.y2Axis),t.axisSubX.call(n.subXAxis)};var _,b,S={version:"0.4.18"};return S.generate=function(t){return new e(t)},S.chart={fn:e.prototype,internal:{fn:r.prototype}},_=S.chart.fn,(b=S.chart.internal.fn).beforeInit=function(){},b.afterInit=function(){},b.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_headers,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},b.initParams=function(){var t=this,e=t.d3,n=t.config;t.clipId="c3-"+ +new Date+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=!1,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeFormat=n.data_xLocaltime?e.time.format:e.time.format.utc,t.axisTimeFormat=n.axis_x_localtime?e.time.format:e.time.format.utc,t.defaultAxisTimeFormat=t.axisTimeFormat.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%-m/%-d",function(t){return t.getDay()&&1!==t.getDate()}],["%-m/%-d",function(t){return 1!==t.getDate()}],["%-m/%-d",function(t){return t.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=n.axis_rotated?"left":"bottom",t.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",t.y2Orient=n.axis_rotated?n.axis_y2_inner?"bottom":"top":n.axis_y2_inner?"left":"right",t.subXOrient=n.axis_rotated?"left":"bottom",t.isLegendRight="right"===n.legend_position,t.isLegendInset="inset"===n.legend_position,t.isLegendTop="top-left"===n.legend_inset_anchor||"top-right"===n.legend_inset_anchor,t.isLegendLeft="top-left"===n.legend_inset_anchor||"bottom-left"===n.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=undefined,t.axes.subx=e.selectAll([])},b.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},b.initWithData=function(t){var e,n,r=this,i=r.d3,o=r.config,a=!0;r.axis=new x(r),r.initPie&&r.initPie(),r.initBrush&&r.initBrush(),r.initZoom&&r.initZoom(),o.bindto?"function"==typeof o.bindto.node?r.selectChart=o.bindto:r.selectChart=i.select(o.bindto):r.selectChart=i.selectAll([]),r.selectChart.empty()&&(r.selectChart=i.select(document.createElement("div")).style("opacity",0),r.observeInserted(r.selectChart),a=!1),r.selectChart.html("").classed("c3",!0),r.data.xs={},r.data.targets=r.convertDataToTargets(t),o.data_filter&&(r.data.targets=r.data.targets.filter(o.data_filter)),o.data_hide&&r.addHiddenTargetIds(!0===o.data_hide?r.mapToIds(r.data.targets):o.data_hide),o.legend_hide&&r.addHiddenLegendIds(!0===o.legend_hide?r.mapToIds(r.data.targets):o.legend_hide),r.hasType("gauge")&&(o.legend_show=!1),r.updateSizes(),r.updateScales(),r.x.domain(i.extent(r.getXDomain(r.data.targets))),r.y.domain(r.getYDomain(r.data.targets,"y")),r.y2.domain(r.getYDomain(r.data.targets,"y2")),r.subX.domain(r.x.domain()),r.subY.domain(r.y.domain()),r.subY2.domain(r.y2.domain()),r.orgXDomain=r.x.domain(),r.brush&&r.brush.scale(r.subX),o.zoom_enabled&&r.zoom.scale(r.x),r.svg=r.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return o.onmouseover.call(r)}).on("mouseleave",function(){return o.onmouseout.call(r)}),r.config.svg_classname&&r.svg.attr("class",r.config.svg_classname),e=r.svg.append("defs"),r.clipChart=r.appendClip(e,r.clipId),r.clipXAxis=r.appendClip(e,r.clipIdForXAxis),r.clipYAxis=r.appendClip(e,r.clipIdForYAxis),r.clipGrid=r.appendClip(e,r.clipIdForGrid),r.clipSubchart=r.appendClip(e,r.clipIdForSubchart),r.updateSvgSize(),n=r.main=r.svg.append("g").attr("transform",r.getTranslate("main")),r.initSubchart&&r.initSubchart(),r.initTooltip&&r.initTooltip(),r.initLegend&&r.initLegend(),r.initTitle&&r.initTitle(),n.append("text").attr("class",j.text+" "+j.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),r.initRegion(),r.initGrid(),n.append("g").attr("clip-path",r.clipPath).attr("class",j.chart),o.grid_lines_front&&r.initGridLines(),r.initEventRect(),r.initChartElements(),n.insert("rect",o.zoom_privileged?null:"g."+j.regions).attr("class",j.zoomRect).attr("width",r.width).attr("height",r.height).style("opacity",0).on("dblclick.zoom",null),o.axis_x_extent&&r.brush.extent(r.getDefaultExtent()),r.axis.init(),r.updateTargets(r.data.targets),a&&(r.updateDimension(),r.config.oninit.call(r),r.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),r.bindResize(),r.api.element=r.selectChart.node()},b.smoothLines=function(t,e){var o=this;"grid"===e&&t.each(function(){var t=o.d3.select(this),e=t.attr("x1"),n=t.attr("x2"),r=t.attr("y1"),i=t.attr("y2");t.attr({x1:Math.ceil(e),x2:Math.ceil(n),y1:Math.ceil(r),y2:Math.ceil(i)})})},b.updateSizes=function(){var t=this,e=t.config,n=t.legend?t.getLegendHeight():0,r=t.legend?t.getLegendWidth():0,i=t.isLegendRight||t.isLegendInset?0:n,o=t.hasArcType(),a=e.axis_rotated||o?0:t.getHorizontalAxisHeight("x"),s=e.subchart_show&&!o?e.subchart_size_height+a:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+i+t.getCurrentPaddingBottom(),left:s+(o?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:a+s+i+t.getCurrentPaddingBottom(),left:o?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:NaN,bottom:20+i,left:t.rotated_padding_left}:{top:t.currentHeight-s-i,right:NaN,bottom:a+i,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(n,r),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?r+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&!e.gauge_fullCircle&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&o&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},b.updateTargets=function(t){var e=this;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType()&&e.updateTargetsForArc&&e.updateTargetsForArc(t),e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},b.showTargets=function(){var e=this;e.svg.selectAll("."+j.target).filter(function(t){return e.isTargetToShow(t.id)}).transition().duration(e.config.transition_duration).style("opacity",1)},b.redraw=function(t,e){var n,r,i,o,a,s,u,c,l,f,h,d,p,g,v,y,m,x,_,b,w,S,T,M,C,A,k,E,L,P=this,N=P.main,D=P.d3,R=P.config,I=P.getShapeIndices(P.isAreaType),O=P.getShapeIndices(P.isBarType),F=P.getShapeIndices(P.isLineType),V=P.hasArcType(),G=P.filterTargetsToShow(P.data.targets),z=P.xv.bind(P);if(n=H(t=t||{},"withY",!0),r=H(t,"withSubchart",!0),i=H(t,"withTransition",!0),s=H(t,"withTransform",!1),u=H(t,"withUpdateXDomain",!1),c=H(t,"withUpdateOrgXDomain",!1),l=H(t,"withTrimXDomain",!0),p=H(t,"withUpdateXAxis",u),f=H(t,"withLegend",!1),h=H(t,"withEventRect",!0),d=H(t,"withDimension",!0),o=H(t,"withTransitionForExit",i),a=H(t,"withTransitionForAxis",i),_=i?R.transition_duration:0,b=o?_:0,w=a?_:0,e=e||P.axis.generateTransitions(w),f&&R.legend_show?P.updateLegend(P.mapToIds(P.data.targets),t,e):d&&P.updateDimension(!0),P.isCategorized()&&0===G.length&&P.x.domain([0,P.axes.x.selectAll(".tick").size()]),G.length?(P.updateXDomain(G,u,c,l),R.axis_x_tick_values||(M=P.axis.updateXAxisTickValues(G))):(P.xAxis.tickValues([]),P.subXAxis.tickValues([])),R.zoom_rescale&&!t.flow&&(k=P.x.orgDomain()),P.y.domain(P.getYDomain(G,"y",k)),P.y2.domain(P.getYDomain(G,"y2",k)),!R.axis_y_tick_values&&R.axis_y_tick_count&&P.yAxis.tickValues(P.axis.generateTickValues(P.y.domain(),R.axis_y_tick_count)),!R.axis_y2_tick_values&&R.axis_y2_tick_count&&P.y2Axis.tickValues(P.axis.generateTickValues(P.y2.domain(),R.axis_y2_tick_count)),P.axis.redraw(e,V),P.axis.updateLabels(i),(u||p)&&G.length)if(R.axis_x_tick_culling&&M){for(C=1;C<M.length;C++)if(M.length/C<R.axis_x_tick_culling_max){A=C;break}P.svg.selectAll("."+j.axisX+" .tick text").each(function(t){var e=M.indexOf(t);0<=e&&D.select(this).style("display",e%A?"none":"block")})}else P.svg.selectAll("."+j.axisX+" .tick text").style("display","block");g=P.generateDrawArea?P.generateDrawArea(I,!1):undefined,v=P.generateDrawBar?P.generateDrawBar(O):undefined,y=P.generateDrawLine?P.generateDrawLine(F,!1):undefined,m=P.generateXYForText(I,O,F,!0),x=P.generateXYForText(I,O,F,!1),n&&(P.subY.domain(P.getYDomain(G,"y")),P.subY2.domain(P.getYDomain(G,"y2"))),P.updateXgridFocus(),N.select("text."+j.text+"."+j.empty).attr("x",P.width/2).attr("y",P.height/2).text(R.data_empty_label_text).transition().style("opacity",G.length?0:1),P.updateGrid(_),P.updateRegion(_),P.updateBar(b),P.updateLine(b),P.updateArea(b),P.updateCircle(),P.hasDataLabel()&&P.updateText(b),P.redrawTitle&&P.redrawTitle(),P.redrawArc&&P.redrawArc(_,b,s),P.redrawSubchart&&P.redrawSubchart(r,e,_,b,I,O,F),N.selectAll("."+j.selectedCircles).filter(P.isBarType.bind(P)).selectAll("circle").remove(),R.interaction_enabled&&!t.flow&&h&&(P.redrawEventRect(),P.updateZoom&&P.updateZoom()),P.updateCircleY(),E=(P.config.axis_rotated?P.circleY:P.circleX).bind(P),L=(P.config.axis_rotated?P.circleX:P.circleY).bind(P),t.flow&&(T=P.generateFlow({targets:G,flow:t.flow,duration:t.flow.duration,drawBar:v,drawLine:y,drawArea:g,cx:E,cy:L,xv:z,xForText:m,yForText:x})),(_||T)&&P.isTabVisible()?D.transition().duration(_).each(function(){var e=[];[P.redrawBar(v,!0),P.redrawLine(y,!0),P.redrawArea(g,!0),P.redrawCircle(E,L,!0),P.redrawText(m,x,t.flow,!0),P.redrawRegion(!0),P.redrawGrid(!0)].forEach(function(t){t.forEach(function(t){e.push(t)})}),S=P.generateWait(),e.forEach(function(t){S.add(t)})}).call(S,function(){T&&T(),R.onrendered&&R.onrendered.call(P)}):(P.redrawBar(v),P.redrawLine(y),P.redrawArea(g),P.redrawCircle(E,L),P.redrawText(m,x,t.flow),P.redrawRegion(),P.redrawGrid(),R.onrendered&&R.onrendered.call(P)),P.mapToIds(P.data.targets).forEach(function(t){P.withoutFadeIn[t]=!0})},b.updateAndRedraw=function(t){var e,n=this,r=n.config;(t=t||{}).withTransition=H(t,"withTransition",!0),t.withTransform=H(t,"withTransform",!1),t.withLegend=H(t,"withLegend",!1),t.withUpdateXDomain=!0,t.withUpdateOrgXDomain=!0,t.withTransitionForExit=!1,t.withTransitionForTransform=H(t,"withTransitionForTransform",t.withTransition),n.updateSizes(),t.withLegend&&r.legend_show||(e=n.axis.generateTransitions(t.withTransitionForAxis?r.transition_duration:0),n.updateScales(),n.updateSvgSize(),n.transformAll(t.withTransitionForTransform,e)),n.redraw(t,e)},b.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},b.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},b.isCategorized=function(){return 0<=this.config.axis_x_type.indexOf("categor")},b.isCustomX=function(){var t=this,e=t.config;return!t.isTimeSeries()&&(e.data_x||A(e.data_xs))},b.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},b.getTranslate=function(t){var e,n,r=this,i=r.config;return"main"===t?(e=p(r.margin.left),n=p(r.margin.top)):"context"===t?(e=p(r.margin2.left),n=p(r.margin2.top)):"legend"===t?(e=r.margin3.left,n=r.margin3.top):"x"===t?(e=0,n=i.axis_rotated?0:r.height):"y"===t?(e=0,n=i.axis_rotated?r.height:0):"y2"===t?(e=i.axis_rotated?0:r.width,n=i.axis_rotated?1:0):"subx"===t?(e=0,n=i.axis_rotated?0:r.height2):"arc"===t&&(e=r.arcWidth/2,n=r.arcHeight/2),"translate("+e+","+n+")"},b.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},b.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},b.opacityForCircle=function(t){var e=(f(this.config.point_show)?this.config.point_show(t):this.config.point_show)?1:0;return C(t.value)?this.isScatterType(t)?.5:e:0},b.opacityForText=function(){return this.hasDataLabel()?1:0},b.xx=function(t){return t?this.x(t.x):null},b.xv=function(t){var e=this,n=t.value;return e.isTimeSeries()?n=e.parseDate(t.value):e.isCategorized()&&"string"==typeof t.value&&(n=e.config.axis_x_categories.indexOf(t.value)),Math.ceil(e.x(n))},b.yv=function(t){var e=this,n=t.axis&&"y2"===t.axis?e.y2:e.y;return Math.ceil(n(t.value))},b.subxx=function(t){return t?this.subX(t.x):null},b.transformMain=function(t,e){var n,r,i,o=this;e&&e.axisX?n=e.axisX:(n=o.main.select("."+j.axisX),t&&(n=n.transition())),e&&e.axisY?r=e.axisY:(r=o.main.select("."+j.axisY),t&&(r=r.transition())),e&&e.axisY2?i=e.axisY2:(i=o.main.select("."+j.axisY2),t&&(i=i.transition())),(t?o.main.transition():o.main).attr("transform",o.getTranslate("main")),n.attr("transform",o.getTranslate("x")),r.attr("transform",o.getTranslate("y")),i.attr("transform",o.getTranslate("y2")),o.main.select("."+j.chartArcs).attr("transform",o.getTranslate("arc"))},b.transformAll=function(t,e){var n=this;n.transformMain(t,e),n.config.subchart_show&&n.transformContext(t,e),n.legend&&n.transformLegend(t)},b.updateSvgSize=function(){var t=this,e=t.svg.select(".c3-brush .background");t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",e.size()?e.attr("height"):0),t.svg.select("."+j.zoomRect).attr("width",t.width).attr("height",t.height),t.selectChart.style("max-height",t.currentHeight+"px")},b.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(),e.updateSvgSize(),e.transformAll(!1)},b.observeInserted=function(e){var n,r=this;"undefined"!=typeof MutationObserver?(n=new MutationObserver(function(t){t.forEach(function(t){"childList"===t.type&&t.previousSibling&&(n.disconnect(),r.intervalForObserveInserted=window.setInterval(function(){e.node().parentNode&&(window.clearInterval(r.intervalForObserveInserted),r.updateDimension(),r.brush&&r.brush.update(),r.config.oninit.call(r),r.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),e.transition().style("opacity",1))},10))})})).observe(e.node(),{attributes:!0,childList:!0,characterData:!0}):window.console.error("MutationObserver not defined.")},b.bindResize=function(){var t=this,e=t.config;if(t.resizeFunction=t.generateResize(),t.resizeFunction.add(function(){e.onresize.call(t)}),e.resize_auto&&t.resizeFunction.add(function(){t.resizeTimeout!==undefined&&window.clearTimeout(t.resizeTimeout),t.resizeTimeout=window.setTimeout(function(){delete t.resizeTimeout,t.api.flush()},100)}),t.resizeFunction.add(function(){e.onresized.call(t)}),window.attachEvent)window.attachEvent("onresize",t.resizeFunction);else if(window.addEventListener)window.addEventListener("resize",t.resizeFunction,!1);else{var n=window.onresize;n?n.add&&n.remove||(n=t.generateResize()).add(window.onresize):n=t.generateResize(),n.add(t.resizeFunction),window.onresize=n}},b.generateResize=function(){function t(){n.forEach(function(t){t()})}var n=[];return t.add=function(t){n.push(t)},t.remove=function(t){for(var e=0;e<n.length;e++)if(n[e]===t){n.splice(e,1);break}},t},b.endall=function(t,e){var n=0;t.each(function(){++n}).each("end",function(){--n||e.apply(this,arguments)})},b.generateWait=function(){var i=[],t=function(t,e){var r=setInterval(function(){var n=0;i.forEach(function(t){if(t.empty())n+=1;else try{t.transition()}catch(e){n+=1}}),n===i.length&&(clearInterval(r),e&&e())},10)};return t.add=function(t){i.push(t)},t},b.parseDate=function(t){var e,n=this;return t instanceof Date?e=t:"string"==typeof t?e=n.dataTimeFormat(n.config.data_xFormat).parse(t):"object"===(void 0===t?"undefined":u(t))?e=new Date(+t):"number"!=typeof t||isNaN(t)||(e=new Date(+t)),e&&!isNaN(+e)||window.console.error("Failed to parse x '"+t+"' to Date object"),e},b.isTabVisible=function(){var t;return"undefined"!=typeof document.hidden?t="hidden":"undefined"!=typeof document.mozHidden?t="mozHidden":"undefined"!=typeof document.msHidden?t="msHidden":"undefined"!=typeof document.webkitHidden&&(t="webkitHidden"),!document[t]},b.isValue=C,b.isFunction=f,b.isString=h,b.isUndefined=w,b.isDefined=O,b.ceil10=d,b.asHalfPixel=p,b.diffDomain=I,b.isEmpty=g,b.notEmpty=A,b.notEmpty=A,b.getOption=H,b.hasValue=v,b.sanitise=y,b.getPathBox=m,b.CLASS=j,Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),"SVGPathSeg"in window||(window.SVGPathSeg=function(t,e,n){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=n},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(undefined)},window.SVGPathSegMovetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=n},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=n},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=n},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=n},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,e,n,r,i,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=n,this._x1=r,this._y1=i,this._x2=o,this._y2=a},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(undefined,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,e,n,r,i,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=n,this._x1=r,this._y1=i,this._x2=o,this._y2=a},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(undefined,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,e,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=n,this._x1=r,this._y1=i},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(undefined,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{
get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,e,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=n,this._x1=r,this._y1=i},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(undefined,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,e,n,r,i,o,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=n,this._r1=r,this._r2=i,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(undefined,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,e,n,r,i,o,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=n,this._r1=r,this._r2=i,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(undefined,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(undefined,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(undefined,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(undefined,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(undefined,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=n,this._x2=r,this._y2=i},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,e,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=n,this._x2=r,this._y2=i},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(undefined,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(undefined)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new window.SVGPathSegMovetoAbs(undefined,t,e)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new window.SVGPathSegMovetoRel(undefined,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new window.SVGPathSegLinetoAbs(undefined,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new window.SVGPathSegLinetoRel(undefined,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,n,r,i,o){return new window.SVGPathSegCurvetoCubicAbs(undefined,t,e,n,r,i,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,n,r,i,o){return new window.SVGPathSegCurvetoCubicRel(undefined,t,e,n,r,i,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,n,r){return new window.SVGPathSegCurvetoQuadraticAbs(undefined,t,e,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,n,r){return new window.SVGPathSegCurvetoQuadraticRel(undefined,t,e,n,r)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,n,r,i,o,a){return new window.SVGPathSegArcAbs(undefined,t,e,n,r,i,o,a)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,n,r,i,o,a){return new window.SVGPathSegArcRel(undefined,t,e,n,r,i,o,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new window.SVGPathSegLinetoHorizontalAbs(undefined,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new window.SVGPathSegLinetoHorizontalRel(undefined,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new window.SVGPathSegLinetoVerticalAbs(undefined,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new window.SVGPathSegLinetoVerticalRel(undefined,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,r){return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined,t,e,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,n,r){return new window.SVGPathSegCurvetoCubicSmoothRel(undefined,t,e,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined,t,e)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(t){if(t===undefined||!isFinite(t))throw"Invalid arguments.";var e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",this.getAttribute("d"));var n=e.pathSegList.numberOfItems-1;if(n<=0)return 0;do{if(e.pathSegList.removeItem(n),t>e.getTotalLength())break;n--}while(0<n);return n})),"SVGPathSegList"in window||(window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(this._pathElement){var e=!1;t.forEach(function(t){"d"==t.attributeName&&(e=!0)}),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(t){t._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],(t._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},window.SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),(t._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),((this._list[e]=t)._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);var e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},window.SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),(t._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList._pathSegArrayAsString=function(t){var e="",n=!0;return t.forEach(function(t){n?(n=!1,e+=t._asPathString()):e+=" "+t._asPathString()}),e},window.SVGPathSegList.prototype._parsePath=function(t){if(!t||0==t.length)return[];var r=this,e=function(){this.pathSegList=[]};e.prototype.appendSegment=function(t){this.pathSegList.push(t)};var n=function(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};n.prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return t<=" "&&(" "==t||"\n"==t||"\t"==t||"\r"==t||"\f"==t)},n.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},n.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},n.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},n.prototype.peekSegmentType=function(){var t=this._string[this._currentIndex];return this._pathSegTypeFromChar(t)},n.prototype._pathSegTypeFromChar=function(t){switch(t){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},n.prototype._nextCommandHelper=function(t,e){return("+"==t||"-"==t||"."==t||"0"<=t&&t<="9")&&e!=window.SVGPathSeg.PATHSEG_CLOSEPATH?e==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:e==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:e:window.SVGPathSeg.PATHSEG_UNKNOWN},n.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==window.SVGPathSeg.PATHSEG_MOVETO_ABS||t==window.SVGPathSeg.PATHSEG_MOVETO_REL},n.prototype._parseNumber=function(){var t=0,e=0,n=1,r=0,i=1,o=1,a=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,i=-1),this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))&&"."!=this._string.charAt(this._currentIndex))return undefined;for(var s=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=s)for(var u=this._currentIndex-1,c=1;s<=u;)e+=c*(this._string.charAt(u--)-"0"),c*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))return undefined;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)n*=10,r+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!=a&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,o=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))return undefined;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)t*=10,t+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var l=e+r;return l*=i,t&&(l*=Math.pow(10,o*t)),a==this._currentIndex?undefined:(this._skipOptionalSpacesOrDelimiter(),l)},n.prototype._parseArcFlag=function(){if(this._currentIndex>=this._endIndex)return undefined;var t=!1,e=this._string.charAt(this._currentIndex++);if("0"==e)t=!1;else{if("1"!=e)return undefined;t=!0}return this._skipOptionalSpacesOrDelimiter(),t},n.prototype.parseSegment=function(){var t=this._string[this._currentIndex],e=this._pathSegTypeFromChar(t);if(e==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;if((e=this._nextCommandHelper(t,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=e){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(r,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(r,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(r,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(r,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(r);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(r,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(r,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(r,n.x,n.y,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(r,n.x,n.y,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(r,n.x,n.y,n.x1,n.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(r,n.x,n.y,n.x1,n.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(r,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(r,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(r,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);default:throw"Unknown path seg type."}};var i=new e,o=new n(t);if(!o.initialCommandIsMoveTo())return[];for(;o.hasMoreData();){var a=o.parseSegment();if(!a)return[];i.appendSegment(a)}return i.pathSegList}),_.axis=function(){},_.axis.labels=function(e){var n=this.internal;arguments.length&&(Object.keys(e).forEach(function(t){n.axis.setLabelText(t,e[t])}),n.axis.updateLabels())},_.axis.max=function(t){var e=this.internal,n=e.config;if(!arguments.length)return{x:n.axis_x_max,y:n.axis_y_max,y2:n.axis_y2_max};"object"===(void 0===t?"undefined":u(t))?(C(t.x)&&(n.axis_x_max=t.x),C(t.y)&&(n.axis_y_max=t.y),C(t.y2)&&(n.axis_y2_max=t.y2)):n.axis_y_max=n.axis_y2_max=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},_.axis.min=function(t){var e=this.internal,n=e.config;if(!arguments.length)return{x:n.axis_x_min,y:n.axis_y_min,y2:n.axis_y2_min};"object"===(void 0===t?"undefined":u(t))?(C(t.x)&&(n.axis_x_min=t.x),C(t.y)&&(n.axis_y_min=t.y),C(t.y2)&&(n.axis_y2_min=t.y2)):n.axis_y_min=n.axis_y2_min=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},_.axis.range=function(t){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};O(t.max)&&this.axis.max(t.max),O(t.min)&&this.axis.min(t.min)},_.category=function(t,e){var n=this.internal,r=n.config;return 1<arguments.length&&(r.axis_x_categories[t]=e,n.redraw()),r.axis_x_categories[t]},_.categories=function(t){var e=this.internal,n=e.config;return arguments.length&&(n.axis_x_categories=t,e.redraw()),n.axis_x_categories},_.resize=function(t){var e=this.internal.config;e.size_width=t?t.width:null,e.size_height=t?t.height:null,this.flush()},_.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},_.destroy=function(){var e=this.internal;if(window.clearInterval(e.intervalForObserveInserted),e.resizeTimeout!==undefined&&window.clearTimeout(e.resizeTimeout),window.detachEvent)window.detachEvent("onresize",e.resizeFunction);else if(window.removeEventListener)window.removeEventListener("resize",e.resizeFunction);else{var t=window.onresize;t&&t.add&&t.remove&&t.remove(e.resizeFunction)}return e.selectChart.classed("c3",!1).html(""),Object.keys(e).forEach(function(t){e[t]=null}),null},_.color=function(t){return this.internal.color(t)},_.data=function(e){var t=this.internal.data.targets;return void 0===e?t:t.filter(function(t){return 0<=[].concat(e).indexOf(t.id)})},_.data.shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},_.data.values=function(t){var e,n=null;return t&&(n=(e=this.data(t))[0]?e[0].values.map(function(t){return t.value}):null),n},_.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},_.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)},_.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)},
_.flow=function(t){var i,e,n,r,o,a,s,u=this.internal,c=[],l=u.getMaxDataCount(),f=0,h=0;if(t.json)e=u.convertJsonToData(t.json,t.keys);else if(t.rows)e=u.convertRowsToData(t.rows);else{if(!t.columns)return;e=u.convertColumnsToData(t.columns)}i=u.convertDataToTargets(e,!0),u.data.targets.forEach(function(t){var e,n,r=!1;for(e=0;e<i.length;e++)if(t.id===i[e].id){for(r=!0,t.values[t.values.length-1]&&(h=t.values[t.values.length-1].index+1),f=i[e].values.length,n=0;n<f;n++)i[e].values[n].index=h+n,u.isTimeSeries()||(i[e].values[n].x=h+n);t.values=t.values.concat(i[e].values),i.splice(e,1);break}r||c.push(t.id)}),u.data.targets.forEach(function(t){var e,n;for(e=0;e<c.length;e++)if(t.id===c[e])for(h=t.values[t.values.length-1].index+1,n=0;n<f;n++)t.values.push({id:t.id,index:h+n,x:u.isTimeSeries()?u.getOtherTargetX(h+n):h+n,value:null})}),u.data.targets.length&&i.forEach(function(t){var e,n=[];for(e=u.data.targets[0].values[0].index;e<h;e++)n.push({id:t.id,index:e,x:u.isTimeSeries()?u.getOtherTargetX(e):e,value:null});t.values.forEach(function(t){t.index+=h,u.isTimeSeries()||(t.x+=h)}),t.values=n.concat(t.values)}),u.data.targets=u.data.targets.concat(i),u.getMaxDataCount(),o=(r=u.data.targets[0]).values[0],O(t.to)?(f=0,s=u.isTimeSeries()?u.parseDate(t.to):t.to,r.values.forEach(function(t){t.x<s&&f++})):O(t.length)&&(f=t.length),l?1===l&&u.isTimeSeries()&&(a=(r.values[r.values.length-1].x-o.x)/2,n=[new Date(+o.x-a),new Date(+o.x+a)],u.updateXDomain(null,!0,!0,!1,n)):(a=u.isTimeSeries()?1<r.values.length?r.values[r.values.length-1].x-o.x:o.x-u.getXDomain(u.data.targets)[0]:1,n=[o.x-a,o.x],u.updateXDomain(null,!0,!0,!1,n)),u.updateTargets(u.data.targets),u.redraw({flow:{index:o.index,length:f,duration:C(t.duration)?t.duration:u.config.transition_duration,done:t.done,orgDataCount:l},withLegend:!0,withTransition:1<l,withTrimXDomain:!1,withUpdateXAxis:!0})},b.generateFlow=function(P){var N=this,D=N.config,R=N.d3;return function(){var t,e,n,r=P.targets,i=P.flow,o=P.drawBar,a=P.drawLine,s=P.drawArea,u=P.cx,c=P.cy,l=P.xv,f=P.xForText,h=P.yForText,d=P.duration,p=1,g=i.index,v=i.length,y=N.getValueOnIndex(N.data.targets[0].values,g),m=N.getValueOnIndex(N.data.targets[0].values,g+v),x=N.x.domain(),_=i.duration||d,b=i.done||function(){},w=N.generateWait(),S=N.xgrid||R.selectAll([]),T=N.xgridLines||R.selectAll([]),M=N.mainRegion||R.selectAll([]),C=N.mainText||R.selectAll([]),A=N.mainBar||R.selectAll([]),k=N.mainLine||R.selectAll([]),E=N.mainArea||R.selectAll([]),L=N.mainCircle||R.selectAll([]);N.flowing=!0,N.data.targets.forEach(function(t){t.values.splice(0,v)}),n=N.updateXDomain(r,!0,!0),N.updateXGrid&&N.updateXGrid(!0),i.orgDataCount?t=1===i.orgDataCount||(y&&y.x)===(m&&m.x)?N.x(x[0])-N.x(n[0]):N.isTimeSeries()?N.x(x[0])-N.x(n[0]):N.x(y.x)-N.x(m.x):1!==N.data.targets[0].values.length?t=N.x(x[0])-N.x(n[0]):N.isTimeSeries()?(y=N.getValueOnIndex(N.data.targets[0].values,0),m=N.getValueOnIndex(N.data.targets[0].values,N.data.targets[0].values.length-1),t=N.x(y.x)-N.x(m.x)):t=I(n)/2,p=I(x)/I(n),e="translate("+t+",0) scale("+p+",1)",N.hideXGridFocus(),R.transition().ease("linear").duration(_).each(function(){w.add(N.axes.x.transition().call(N.xAxis)),w.add(A.transition().attr("transform",e)),w.add(k.transition().attr("transform",e)),w.add(E.transition().attr("transform",e)),w.add(L.transition().attr("transform",e)),w.add(C.transition().attr("transform",e)),w.add(M.filter(N.isRegionOnX).transition().attr("transform",e)),w.add(S.transition().attr("transform",e)),w.add(T.transition().attr("transform",e))}).call(w,function(){var t,e=[],n=[],r=[];if(v){for(t=0;t<v;t++)e.push("."+j.shape+"-"+(g+t)),n.push("."+j.text+"-"+(g+t)),r.push("."+j.eventRect+"-"+(g+t));N.svg.selectAll("."+j.shapes).selectAll(e).remove(),N.svg.selectAll("."+j.texts).selectAll(n).remove(),N.svg.selectAll("."+j.eventRects).selectAll(r).remove(),N.svg.select("."+j.xgrid).remove()}S.attr("transform",null).attr(N.xgridAttr),T.attr("transform",null),T.select("line").attr("x1",D.axis_rotated?0:l).attr("x2",D.axis_rotated?N.width:l),T.select("text").attr("x",D.axis_rotated?N.width:0).attr("y",l),A.attr("transform",null).attr("d",o),k.attr("transform",null).attr("d",a),E.attr("transform",null).attr("d",s),L.attr("transform",null).attr("cx",u).attr("cy",c),C.attr("transform",null).attr("x",f).attr("y",h).style("fill-opacity",N.opacityForText.bind(N)),M.attr("transform",null),M.select("rect").filter(N.isRegionOnX).attr("x",N.regionX.bind(N)).attr("width",N.regionWidth.bind(N)),D.interaction_enabled&&N.redrawEventRect(),b(),N.flowing=!1})}},_.focus=function(e){var t,n=this.internal;e=n.mapToTargetIds(e),t=n.svg.selectAll(n.selectorTargets(e.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),t.classed(j.focused,!0).classed(j.defocused,!1),n.hasArcType()&&n.expandArc(e),n.toggleFocusLegend(e,!0),n.focusedTargetIds=e,n.defocusedTargetIds=n.defocusedTargetIds.filter(function(t){return e.indexOf(t)<0})},_.defocus=function(e){var t=this.internal;e=t.mapToTargetIds(e),t.svg.selectAll(t.selectorTargets(e.filter(t.isTargetToShow,t))).classed(j.focused,!1).classed(j.defocused,!0),t.hasArcType()&&t.unexpandArc(e),t.toggleFocusLegend(e,!1),t.focusedTargetIds=t.focusedTargetIds.filter(function(t){return e.indexOf(t)<0}),t.defocusedTargetIds=e},_.revert=function(t){var e=this.internal;t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t)).classed(j.focused,!1).classed(j.defocused,!1),e.hasArcType()&&e.unexpandArc(t),e.config.legend_show&&(e.showLegend(t.filter(e.isLegendToShow.bind(e))),e.legend.selectAll(e.selectorLegends(t)).filter(function(){return e.d3.select(this).classed(j.legendItemFocused)}).classed(j.legendItemFocused,!1)),e.focusedTargetIds=[],e.defocusedTargetIds=[]},_.xgrids=function(t){var e=this.internal,n=e.config;return t&&(n.grid_x_lines=t,e.redrawWithoutRescale()),n.grid_x_lines},_.xgrids.add=function(t){var e=this.internal;return this.xgrids(e.config.grid_x_lines.concat(t||[]))},_.xgrids.remove=function(t){this.internal.removeGridLines(t,!0)},_.ygrids=function(t){var e=this.internal,n=e.config;return t&&(n.grid_y_lines=t,e.redrawWithoutRescale()),n.grid_y_lines},_.ygrids.add=function(t){var e=this.internal;return this.ygrids(e.config.grid_y_lines.concat(t||[]))},_.ygrids.remove=function(t){this.internal.removeGridLines(t,!1)},_.groups=function(t){var e=this.internal,n=e.config;return w(t)||(n.data_groups=t,e.redraw()),n.data_groups},_.legend=function(){},_.legend.show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},_.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},_.load=function(e){var t=this.internal,n=t.config;e.xs&&t.addXs(e.xs),"names"in e&&_.data.names.bind(this)(e.names),"classes"in e&&Object.keys(e.classes).forEach(function(t){n.data_classes[t]=e.classes[t]}),"categories"in e&&t.isCategorized()&&(n.axis_x_categories=e.categories),"axes"in e&&Object.keys(e.axes).forEach(function(t){n.data_axes[t]=e.axes[t]}),"colors"in e&&Object.keys(e.colors).forEach(function(t){n.data_colors[t]=e.colors[t]}),"cacheIds"in e&&t.hasCaches(e.cacheIds)?t.load(t.getCaches(e.cacheIds),e.done):"unload"in e?t.unload(t.mapToTargetIds("boolean"==typeof e.unload&&e.unload?null:e.unload),function(){t.loadFromArgs(e)}):t.loadFromArgs(e)},_.unload=function(t){var e=this.internal;(t=t||{})instanceof Array?t={ids:t}:"string"==typeof t&&(t={ids:[t]}),e.unload(e.mapToTargetIds(t.ids),function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()})},_.regions=function(t){var e=this.internal,n=e.config;return t&&(n.regions=t,e.redrawWithoutRescale()),n.regions},_.regions.add=function(t){var e=this.internal,n=e.config;return t&&(n.regions=n.regions.concat(t),e.redrawWithoutRescale()),n.regions},_.regions.remove=function(t){var e,n,r,i=this.internal,o=i.config;return t=t||{},e=i.getOption(t,"duration",o.transition_duration),n=i.getOption(t,"classes",[j.region]),r=i.main.select("."+j.regions).selectAll(n.map(function(t){return"."+t})),(e?r.transition().duration(e):r).style("opacity",0).remove(),o.regions=o.regions.filter(function(t){var e=!1;return!t["class"]||(t["class"].split(" ").forEach(function(t){0<=n.indexOf(t)&&(e=!0)}),!e)}),o.regions},_.selected=function(t){var e=this.internal,n=e.d3;return n.merge(e.main.selectAll("."+j.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+j.shape).filter(function(){return n.select(this).classed(j.SELECTED)}).map(function(t){return t.map(function(t){var e=t.__data__;return e.data?e.data:e})}))},_.select=function(u,c,l){var f=this.internal,h=f.d3,d=f.config;d.data_selection_enabled&&f.main.selectAll("."+j.shapes).selectAll("."+j.shape).each(function(t,e){var n=h.select(this),r=t.data?t.data.id:t.id,i=f.getToggle(this,t).bind(f),o=d.data_selection_grouped||!u||0<=u.indexOf(r),a=!c||0<=c.indexOf(e),s=n.classed(j.SELECTED);n.classed(j.line)||n.classed(j.area)||(o&&a?d.data_selection_isselectable(t)&&!s&&i(!0,n.classed(j.SELECTED,!0),t,e):O(l)&&l&&s&&i(!1,n.classed(j.SELECTED,!1),t,e))})},_.unselect=function(u,c){var l=this.internal,f=l.d3,h=l.config;h.data_selection_enabled&&l.main.selectAll("."+j.shapes).selectAll("."+j.shape).each(function(t,e){var n=f.select(this),r=t.data?t.data.id:t.id,i=l.getToggle(this,t).bind(l),o=h.data_selection_grouped||!u||0<=u.indexOf(r),a=!c||0<=c.indexOf(e),s=n.classed(j.SELECTED);n.classed(j.line)||n.classed(j.area)||o&&a&&h.data_selection_isselectable(t)&&s&&i(!1,n.classed(j.SELECTED,!1),t,e)})},_.show=function(t,e){var n,r=this.internal;t=r.mapToTargetIds(t),e=e||{},r.removeHiddenTargetIds(t),(n=r.svg.selectAll(r.selectorTargets(t))).transition().style("opacity",1,"important").call(r.endall,function(){n.style("opacity",null).style("opacity",1)}),e.withLegend&&r.showLegend(t),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},_.hide=function(t,e){var n,r=this.internal;t=r.mapToTargetIds(t),e=e||{},r.addHiddenTargetIds(t),(n=r.svg.selectAll(r.selectorTargets(t))).transition().style("opacity",0,"important").call(r.endall,function(){n.style("opacity",null).style("opacity",0)}),e.withLegend&&r.hideLegend(t),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},_.toggle=function(t,e){var n=this,r=this.internal;r.mapToTargetIds(t).forEach(function(t){r.isTargetToShow(t)?n.hide(t,e):n.show(t,e)})},_.tooltip=function(){},_.tooltip.show=function(t){var e,n,r=this.internal;t.mouse&&(n=t.mouse),t.data?r.isMultipleX()?(n=[r.x(t.data.x),r.getYScale(t.data.id)(t.data.value)],e=null):e=C(t.data.index)?t.data.index:r.getIndexByX(t.data.x):"undefined"!=typeof t.x?e=r.getIndexByX(t.x):"undefined"!=typeof t.index&&(e=t.index),r.dispatchEvent("mouseover",e,n),r.dispatchEvent("mousemove",e,n),r.config.tooltip_onshow.call(r,t.data)},_.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},_.transform=function(t,e){var n=this.internal,r=0<=["pie","donut"].indexOf(t)?{withTransform:!0}:null;n.transformTo(e,t,r)},b.transformTo=function(t,e,n){var r=this,i=!r.hasArcType(),o=n||{withTransitionForAxis:i};o.withTransitionForTransform=!1,r.transiting=!1,r.setTargetType(t,e),r.updateTargets(r.data.targets),r.updateAndRedraw(o)},_.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},_.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},_.zoom=function(t){var e=this.internal;return t&&(e.isTimeSeries()&&(t=t.map(function(t){return e.parseDate(t)})),e.brush.extent(t),e.redraw({withUpdateXDomain:!0,withY:e.config.zoom_rescale}),e.config.zoom_onzoom.call(this,e.x.orgDomain())),e.brush.extent()},_.zoom.enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},_.unzoom=function(){var t=this.internal;t.brush.clear().update(),t.redraw({withUpdateXDomain:!0})},_.zoom.max=function(t){var e=this.internal,n=e.config,r=e.d3;if(0!==t&&!t)return n.zoom_x_max;n.zoom_x_max=r.max([e.orgXDomain[1],t])},_.zoom.min=function(t){var e=this.internal,n=e.config,r=e.d3;if(0!==t&&!t)return n.zoom_x_min;n.zoom_x_min=r.min([e.orgXDomain[0],t])},_.zoom.range=function(t){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};O(t.max)&&this.domain.max(t.max),O(t.min)&&this.domain.min(t.min)},b.initPie=function(){var t=this,e=t.d3;t.pie=e.layout.pie().value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)}),t.pie.sort(t.getOrderFunction()||null)},b.updateRadius=function(){var t=this,e=t.config,n=e.gauge_width||e.donut_width;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2,t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=n?(t.radius-n)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0},b.updateArc=function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},b.updateAngle=function(e){var t,n,r,i,o=this,a=o.config,s=!1,u=0;return a?(o.pie(o.filterTargetsToShow(o.data.targets)).forEach(function(t){s||t.data.id!==e.data.id||(s=!0,(e=t).index=u),u++}),isNaN(e.startAngle)&&(e.startAngle=0),isNaN(e.endAngle)&&(e.endAngle=e.startAngle),o.isGaugeType(e.data)&&(t=a.gauge_min,n=a.gauge_max,r=Math.PI*(a.gauge_fullCircle?2:1)/(n-t),i=e.value<t?0:e.value<n?e.value-t:n-t,e.startAngle=a.gauge_startingAngle,e.endAngle=e.startAngle+r*i),s?e:null):null},b.getSvgArc=function(){var r=this,i=r.d3.svg.arc().outerRadius(r.radius).innerRadius(r.innerRadius),t=function(t,e){var n;return e?i(t):(n=r.updateAngle(t))?i(n):"M 0 0"};return t.centroid=i.centroid,t},b.getSvgArcExpanded=function(t){var n=this,r=n.d3.svg.arc().outerRadius(n.radiusExpanded*(t||1)).innerRadius(n.innerRadius);return function(t){var e=n.updateAngle(t);return e?r(e):"M 0 0"}},b.getArc=function(t,e,n){return n||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},b.transformForArcLabel=function(t){var e,n,r,i,o,a=this,s=a.config,u=a.updateAngle(t),c="";return u&&!a.hasType("gauge")&&(e=this.svgArc.centroid(u),n=isNaN(e[0])?0:e[0],r=isNaN(e[1])?0:e[1],i=Math.sqrt(n*n+r*r),c="translate("+n*(o=a.hasType("donut")&&s.donut_label_ratio?f(s.donut_label_ratio)?s.donut_label_ratio(t,a.radius,i):s.donut_label_ratio:a.hasType("pie")&&s.pie_label_ratio?f(s.pie_label_ratio)?s.pie_label_ratio(t,a.radius,i):s.pie_label_ratio:a.radius&&i?(.375<36/a.radius?1.175-36/a.radius:.8)*a.radius/i:0)+","+r*o+")"),c},b.getArcRatio=function(t){var e=this,n=e.config,r=Math.PI*(e.hasType("gauge")&&!n.gauge_fullCircle?1:2);return t?(t.endAngle-t.startAngle)/r:null},b.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getArcRatio(t),index:t.index})},b.textForArcLabel=function(t){var e,n,r,i,o,a=this;return a.shouldShowArcLabel()?(n=(e=a.updateAngle(t))?e.value:null,r=a.getArcRatio(e),i=t.data.id,a.hasType("gauge")||a.meetsArcLabelThreshold(r)?(o=a.getArcLabelFormat())?o(n,r,i):a.defaultArcValueFormat(n,r):""):""},b.textForGaugeMinMax=function(t,e){var n=this.getGaugeLabelExtents();return n?n(t,e):t},b.expandArc=function(t){var e,n=this;n.transiting?e=window.setInterval(function(){n.transiting||(window.clearInterval(e),0<n.legend.selectAll(".c3-legend-item-focused").size()&&n.expandArc(t))},10):(t=n.mapToTargetIds(t),n.svg.selectAll(n.selectorTargets(t,"."+j.chartArc)).each(function(t){n.shouldExpand(t.data.id)&&n.d3.select(this).selectAll("path").transition().duration(n.expandDuration(t.data.id)).attr("d",n.svgArcExpanded).transition().duration(2*n.expandDuration(t.data.id)).attr("d",n.svgArcExpandedSub).each(function(t){n.isDonutType(t.data)})}))},b.unexpandArc=function(t){var e=this;e.transiting||(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+j.chartArc)).selectAll("path").transition().duration(function(t){return e.expandDuration(t.data.id)}).attr("d",e.svgArc),e.svg.selectAll("."+j.arc))},b.expandDuration=function(t){var e=this,n=e.config;return e.isDonutType(t)?n.donut_expand_duration:e.isGaugeType(t)?n.gauge_expand_duration:e.isPieType(t)?n.pie_expand_duration:50},b.shouldExpand=function(t){var e=this,n=e.config;return e.isDonutType(t)&&n.donut_expand||e.isGaugeType(t)&&n.gauge_expand||e.isPieType(t)&&n.pie_expand},b.shouldShowArcLabel=function(){var t=this,e=t.config,n=!0;return t.hasType("donut")?n=e.donut_label_show:t.hasType("pie")&&(n=e.pie_label_show),n},b.meetsArcLabelThreshold=function(t){var e=this,n=e.config;return(e.hasType("donut")?n.donut_label_threshold:n.pie_label_threshold)<=t},b.getArcLabelFormat=function(){var t=this,e=t.config,n=e.pie_label_format;return t.hasType("gauge")?n=e.gauge_label_format:t.hasType("donut")&&(n=e.donut_label_format),n},b.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},b.getArcTitle=function(){var t=this;return t.hasType("donut")?t.config.donut_title:""},b.updateTargetsForArc=function(t){var e,n=this,r=n.main,i=n.classChartArc.bind(n),o=n.classArcs.bind(n),a=n.classFocus.bind(n);(e=r.select("."+j.chartArcs).selectAll("."+j.chartArc).data(n.pie(t)).attr("class",function(t){return i(t)+a(t.data)}).enter().append("g").attr("class",i)).append("g").attr("class",o),e.append("text").attr("dy",n.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},b.initArc=function(){var t=this;t.arcs=t.main.select("."+j.chart).append("g").attr("class",j.chartArcs).attr("transform",t.getTranslate("arc")),t.arcs.append("text").attr("class",j.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())},b.redrawArc=function(t,e,n){var r,i=this,o=i.d3,a=i.config,s=i.main;(r=s.selectAll("."+j.arcs).selectAll("."+j.arc).data(i.arcData.bind(i))).enter().append("path").attr("class",i.classArc.bind(i)).style("fill",function(t){return i.color(t.data)}).style("cursor",function(t){return a.interaction_enabled&&a.data_selection_isselectable(t)?"pointer":null}).each(function(t){i.isGaugeType(t.data)&&(t.startAngle=t.endAngle=a.gauge_startingAngle),this._current=t}),r.attr("transform",function(t){return!i.isGaugeType(t.data)&&n?"scale(0)":""}).on("mouseover",a.interaction_enabled?function(t){var e,n;i.transiting||(e=i.updateAngle(t))&&(n=i.convertToArcData(e),i.expandArc(e.data.id),i.api.focus(e.data.id),i.toggleFocusLegend(e.data.id,!0),i.config.data_onmouseover(n,this))}:null).on("mousemove",a.interaction_enabled?function(t){var e,n=i.updateAngle(t);n&&(e=[i.convertToArcData(n)],i.showTooltip(e,this))}:null).on("mouseout",a.interaction_enabled?function(t){var e,n;i.transiting||(e=i.updateAngle(t))&&(n=i.convertToArcData(e),i.unexpandArc(e.data.id),i.api.revert(),i.revertLegend(),i.hideTooltip(),i.config.data_onmouseout(n,this))}:null).on("click",a.interaction_enabled?function(t,e){var n,r=i.updateAngle(t);r&&(n=i.convertToArcData(r),i.toggleShape&&i.toggleShape(this,n,e),i.config.data_onclick.call(i.api,n,this))}:null).each(function(){i.transiting=!0}).transition().duration(t).attrTween("d",function(n){var r,t=i.updateAngle(n);return t?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),r=o.interpolate(this._current,t),this._current=r(0),function(t){var e=r(t);return e.data=n.data,i.getArc(e,!0)}):function(){return"M 0 0"}}).attr("transform",n?"scale(1)":"").style("fill",function(t){return i.levelColor?i.levelColor(t.data.values[0].value):i.color(t.data.id)}).call(i.endall,function(){i.transiting=!1}),r.exit().transition().duration(e).style("opacity",0).remove(),s.selectAll("."+j.chartArc).select("text").style("opacity",0).attr("class",function(t){return i.isGaugeType(t.data)?j.gaugeValue:""}).text(i.textForArcLabel.bind(i)).attr("transform",i.transformForArcLabel.bind(i)).style("font-size",function(t){return i.isGaugeType(t.data)?Math.round(i.radius/5)+"px":""}).transition().duration(t).style("opacity",function(t){return i.isTargetToShow(t.data.id)&&i.isArcType(t.data)?1:0}),s.select("."+j.chartArcsTitle).style("opacity",i.hasType("donut")||i.hasType("gauge")?1:0),i.hasType("gauge")&&(i.arcs.select("."+j.chartArcsBackground).attr("d",function(){var t={data:[{value:a.gauge_max}],startAngle:a.gauge_startingAngle,endAngle:-1*a.gauge_startingAngle};return i.getArc(t,!0,!0)}),i.arcs.select("."+j.chartArcsGaugeUnit).attr("dy",".75em").text(a.gauge_label_show?a.gauge_units:""),i.arcs.select("."+j.chartArcsGaugeMin).attr("dx",-1*(i.innerRadius+(i.radius-i.innerRadius)/(a.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(a.gauge_label_show?i.textForGaugeMinMax(a.gauge_min,!1):""),i.arcs.select("."+j.chartArcsGaugeMax).attr("dx",i.innerRadius+(i.radius-i.innerRadius)/(a.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(a.gauge_label_show?i.textForGaugeMinMax(a.gauge_max,!0):""))},b.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("path").attr("class",j.chartArcsBackground),t.append("text").attr("class",j.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",j.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",j.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},b.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},b.hasCaches=function(t){for(var e=0;e<t.length;e++)if(!(t[e]in this.cache))return!1;return!0},b.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},b.getCaches=function(t){var e,n=[];for(e=0;e<t.length;e++)t[e]in this.cache&&n.push(this.cloneTarget(this.cache[t[e]]));return n},b.categoryName=function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t},b.generateClass=function(t,e){return" "+t+" "+t+this.getTargetSelectorSuffix(e)},b.classText=function(t){return this.generateClass(j.text,t.index)},b.classTexts=function(t){return this.generateClass(j.texts,t.id)},b.classShape=function(t){return this.generateClass(j.shape,t.index)},b.classShapes=function(t){return this.generateClass(j.shapes,t.id)},b.classLine=function(t){return this.classShape(t)+this.generateClass(j.line,t.id)},b.classLines=function(t){return this.classShapes(t)+this.generateClass(j.lines,t.id)},b.classCircle=function(t){return this.classShape(t)+this.generateClass(j.circle,t.index)},b.classCircles=function(t){return this.classShapes(t)+this.generateClass(j.circles,t.id)},b.classBar=function(t){return this.classShape(t)+this.generateClass(j.bar,t.index)},b.classBars=function(t){return this.classShapes(t)+this.generateClass(j.bars,t.id)},b.classArc=function(t){return this.classShape(t.data)+this.generateClass(j.arc,t.data.id)},b.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(j.arcs,t.data.id)},b.classArea=function(t){return this.classShape(t)+this.generateClass(j.area,t.id)},b.classAreas=function(t){return this.classShapes(t)+this.generateClass(j.areas,t.id)},b.classRegion=function(t,e){return this.generateClass(j.region,e)+" "+("class"in t?t["class"]:"")},b.classEvent=function(t){return this.generateClass(j.eventRect,t.index)},b.classTarget=function(t){var e=this,n=e.config.data_classes[t],r="";return n&&(r=" "+j.target+"-"+n),e.generateClass(j.target,t)+r},b.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},b.classFocused=function(t){return" "+(0<=this.focusedTargetIds.indexOf(t.id)?j.focused:"")},b.classDefocused=function(t){return" "+(0<=this.defocusedTargetIds.indexOf(t.id)?j.defocused:"")},b.classChartText=function(t){return j.chartText+this.classTarget(t.id)},b.classChartLine=function(t){return j.chartLine+this.classTarget(t.id)},b.classChartBar=function(t){return j.chartBar+this.classTarget(t.id)},b.classChartArc=function(t){return j.chartArc+this.classTarget(t.data.id)},b.getTargetSelectorSuffix=function(t){return t||0===t?("-"+t).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},b.selectorTarget=function(t,e){return(e||"")+"."+j.target+this.getTargetSelectorSuffix(t)},b.selectorTargets=function(t,e){var n=this;return(t=t||[]).length?t.map(function(t){return n.selectorTarget(t,e)}):null},b.selectorLegend=function(t){return"."+j.legendItem+this.getTargetSelectorSuffix(t)},b.selectorLegends=function(t){var e=this;return t&&t.length?t.map(function(t){return e.selectorLegend(t)}):null},b.getClipPath=function(t){return"url("+(0<=window.navigator.appVersion.toLowerCase().indexOf("msie 9.")?"":document.URL.split("#")[0])+"#"+t+")"},b.appendClip=function(t,e){return t.append("clipPath").attr("id",e).append("rect")},b.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},b.getAxisClipY=function(t){return t?-20:-this.margin.top},b.getXAxisClipX=function(){var t=this;return t.getAxisClipX(!t.config.axis_rotated)},b.getXAxisClipY=function(){var t=this;return t.getAxisClipY(!t.config.axis_rotated)},b.getYAxisClipX=function(){var t=this;return t.config.axis_y_inner?-1:t.getAxisClipX(t.config.axis_rotated)},b.getYAxisClipY=function(){var t=this;return t.getAxisClipY(t.config.axis_rotated)},b.getAxisClipWidth=function(t){var e=this,n=Math.max(30,e.margin.left),r=Math.max(30,e.margin.right);return t?e.width+2+n+r:e.margin.left+20},b.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},b.getXAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(!t.config.axis_rotated)},b.getXAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(!t.config.axis_rotated)},b.getYAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(t.config.axis_rotated)+(t.config.axis_y_inner?20:0)},b.getYAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(t.config.axis_rotated)},b.generateColor=function(){var t=this,e=t.config,n=t.d3,r=e.data_colors,i=A(e.color_pattern)?e.color_pattern:n.scale.category10().range(),o=e.data_color,a=[];return function(t){var e,n=t.id||t.data&&t.data.id||t;return r[n]instanceof Function?e=r[n](t):r[n]?e=r[n]:(a.indexOf(n)<0&&a.push(n),e=i[a.indexOf(n)%i.length],r[n]=e),o instanceof Function?o(e,t):e}},b.generateLevelColor=function(){var t=this.config,r=t.color_pattern,e=t.color_threshold,i="value"===e.unit,o=e.values&&e.values.length?e.values:[],a=e.max||100;return A(t.color_threshold)?function(t){var e,n=r[r.length-1];for(e=0;e<o.length;e++)if((i?t:100*t/a)<o[e]){n=r[e];break}return n}:null},b.getDefaultConfig=function(){var e={bindto:"#chart",svg_classname:undefined,size_width:undefined,size_height:undefined,padding_left:undefined,padding_right:undefined,padding_top:undefined,padding_bottom:undefined,resize_auto:!0,zoom_enabled:!1,zoom_extent:undefined,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:undefined,zoom_x_max:undefined,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:undefined,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:undefined,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:undefined,data_colors:{},data_hide:!1,data_filter:undefined,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:undefined,data_headers:undefined,data_json:undefined,data_rows:undefined,data_columns:undefined,data_mimeType:undefined,data_keys:undefined,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:undefined,legend_item_onclick:undefined,legend_item_onmouseover:undefined,legend_item_onmouseout:undefined,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:undefined,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:undefined,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:undefined,axis_x_min:undefined,axis_x_padding:{},axis_x_height:undefined,axis_x_extent:undefined,axis_x_label:{},axis_y_show:!0,axis_y_type:undefined,axis_y_max:undefined,axis_y_min:undefined,axis_y_inverted:!1,axis_y_center:undefined,axis_y_inner:undefined,axis_y_label:{},axis_y_tick_format:undefined,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:undefined,axis_y_tick_time_value:undefined,axis_y_tick_time_interval:undefined,axis_y_padding:{},axis_y_default:undefined,axis_y2_show:!1,axis_y2_max:undefined,axis_y2_min:undefined,axis_y2_inverted:!1,axis_y2_center:undefined,axis_y2_inner:undefined,axis_y2_label:{},axis_y2_tick_format:undefined,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:undefined,axis_y2_padding:{},axis_y2_default:undefined,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:undefined,point_select_r:undefined,line_connectNull:!1,line_step_type:"step",bar_width:undefined,bar_width_ratio:.6,bar_width_max:undefined,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:undefined,pie_label_threshold:.05,pie_label_ratio:undefined,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:!1,gauge_label_show:!0,gauge_label_format:undefined,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:undefined,gauge_units:undefined,gauge_width:undefined,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:undefined,donut_label_threshold:.05,donut_label_ratio:undefined,donut_width:undefined,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:undefined,tooltip_format_title:undefined,tooltip_format_name:undefined,tooltip_format_value:undefined,tooltip_position:undefined,tooltip_contents:function(t,e,n,r){return this.getTooltipContent?this.getTooltipContent(t,e,n,r):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:undefined,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(t){e[t]=this.additionalConfig[t]},this),e},b.additionalConfig={},b.loadConfig=function(e){function n(){var t=i.shift();return t&&r&&"object"===(void 0===r?"undefined":u(r))&&t in r?(r=r[t],n()):t?undefined:r}var r,i,o,a=this.config;Object.keys(a).forEach(function(t){r=e,i=t.split("_"),o=n(),O(o)&&(a[t]=o)})},b.convertUrlToData=function(t,e,n,i,o){var a=this,s=e||"csv",r=a.d3.xhr(t);n&&Object.keys(n).forEach(function(t){r.header(t,n[t])}),r.get(function(t,e){var n,r=e.response||e.responseText;if(!e)throw new Error(t.responseURL+" "+t.status+" ("+t.statusText+")");n="json"===s?a.convertJsonToData(JSON.parse(r),i):"tsv"===s?a.convertTsvToData(r):a.convertCsvToData(r),o.call(a,n)})},b.convertXsvToData=function(t,e){var n,r=e.parseRows(t);return 1===r.length?(n=[{}],r[0].forEach(function(t){n[0][t]=null})):n=e.parse(t),n},b.convertCsvToData=function(t){return this.convertXsvToData(t,this.d3.csv)},b.convertTsvToData=function(t){return this.convertXsvToData(t,this.d3.tsv)},b.convertJsonToData=function(e,t){var i,n,o=this,a=[];return t?(t.x?(i=t.value.concat(t.x),o.config.data_x=t.x):i=t.value,a.push(i),e.forEach(function(n){var r=[];i.forEach(function(t){var e=o.findValueInJson(n,t);w(e)&&(e=null),r.push(e)}),a.push(r)}),n=o.convertRowsToData(a)):(Object.keys(e).forEach(function(t){a.push([t].concat(e[t]))}),n=o.convertColumnsToData(a)),n},b.findValueInJson=function(t,e){for(var n=(e=(e=e.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),r=0;r<n.length;++r){var i=n[r];if(!(i in t))return;t=t[i]}return t},b.convertRowsToData=function(t){
for(var e=[],n=t[0],r=1;r<t.length;r++){for(var i={},o=0;o<t[r].length;o++){if(w(t[r][o]))throw new Error("Source data is missing a component at ("+r+","+o+")!");i[n[o]]=t[r][o]}e.push(i)}return e},b.convertColumnsToData=function(t){for(var e=[],n=0;n<t.length;n++)for(var r=t[n][0],i=1;i<t[n].length;i++){if(w(e[i-1])&&(e[i-1]={}),w(t[n][i]))throw new Error("Source data is missing a component at ("+n+","+i+")!");e[i-1][r]=t[n][i]}return e},b.convertDataToTargets=function(t,r){var e,u=this,c=u.config,n=u.d3.keys(t[0]).filter(u.isNotX,u),i=u.d3.keys(t[0]).filter(u.isX,u);return n.forEach(function(n){var e=u.getXKey(n);u.isCustomX()||u.isTimeSeries()?0<=i.indexOf(e)?u.data.xs[n]=(r&&u.data.xs[n]?u.data.xs[n]:[]).concat(t.map(function(t){return t[e]}).filter(C).map(function(t,e){return u.generateTargetX(t,n,e)})):c.data_x?u.data.xs[n]=u.getOtherTargetXs():A(c.data_xs)&&(u.data.xs[n]=u.getXValuesOfXKey(e,u.data.targets)):u.data.xs[n]=t.map(function(t,e){return e})}),n.forEach(function(t){if(!u.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')}),(e=n.map(function(o,a){var s=c.data_idConverter(o);return{id:s,id_org:o,values:t.map(function(t,e){var n,r=t[u.getXKey(o)],i=null===t[o]||isNaN(t[o])?null:+t[o];return u.isCustomX()&&u.isCategorized()&&!w(r)?(0===a&&0===e&&(c.axis_x_categories=[]),-1===(n=c.axis_x_categories.indexOf(r))&&(n=c.axis_x_categories.length,c.axis_x_categories.push(r))):n=u.generateTargetX(r,o,e),(w(t[o])||u.data.xs[o].length<=e)&&(n=undefined),{x:n,value:i,id:s}}).filter(function(t){return O(t.x)})}})).forEach(function(t){var e;c.data_xSort&&(t.values=t.values.sort(function(t,e){return(t.x||0===t.x?t.x:Infinity)-(e.x||0===e.x?e.x:Infinity)})),e=0,t.values.forEach(function(t){t.index=e++}),u.data.xs[t.id].sort(function(t,e){return t-e})}),u.hasNegativeValue=u.hasNegativeValueInTargets(e),u.hasPositiveValue=u.hasPositiveValueInTargets(e),c.data_type&&u.setTargetType(u.mapToIds(e).filter(function(t){return!(t in c.data_types)}),c.data_type),e.forEach(function(t){u.addCache(t.id_org,t)}),e},b.isX=function(t){var e=this.config;return e.data_x&&t===e.data_x||A(e.data_xs)&&v(e.data_xs,t)},b.isNotX=function(t){return!this.isX(t)},b.getXKey=function(t){var e=this.config;return e.data_x?e.data_x:A(e.data_xs)?e.data_xs[t]:null},b.getXValuesOfXKey=function(e,t){var n,r=this;return(t&&A(t)?r.mapToIds(t):[]).forEach(function(t){r.getXKey(t)===e&&(n=r.data.xs[t])}),n},b.getIndexByX=function(t){var e=this,n=e.filterByX(e.data.targets,t);return n.length?n[0].index:null},b.getXValue=function(t,e){var n=this;return t in n.data.xs&&n.data.xs[t]&&C(n.data.xs[t][e])?n.data.xs[t][e]:e},b.getOtherTargetXs=function(){var t=this,e=Object.keys(t.data.xs);return e.length?t.data.xs[e[0]]:null},b.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},b.addXs=function(e){var n=this;Object.keys(e).forEach(function(t){n.config.data_xs[t]=e[t]})},b.hasMultipleX=function(e){return 1<this.d3.set(Object.keys(e).map(function(t){return e[t]})).size()},b.isMultipleX=function(){return A(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},b.addName=function(t){var e;return t&&(e=this.config.data_names[t.id],t.name=e!==undefined?e:t.id),t},b.getValueOnIndex=function(t,e){var n=t.filter(function(t){return t.index===e});return n.length?n[0]:null},b.updateTargetX=function(t,r){var i=this;t.forEach(function(n){n.values.forEach(function(t,e){t.x=i.generateTargetX(r[e],n.id,e)}),i.data.xs[n.id]=r})},b.updateTargetXs=function(t,e){var n=this;t.forEach(function(t){e[t.id]&&n.updateTargetX([t],e[t.id])})},b.generateTargetX=function(t,e,n){var r=this;return r.isTimeSeries()?t?r.parseDate(t):r.parseDate(r.getXValue(e,n)):r.isCustomX()&&!r.isCategorized()?C(t)?+t:r.getXValue(e,n):n},b.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},b.updateXs=function(){var e=this;e.data.targets.length&&(e.xs=[],e.data.targets[0].values.forEach(function(t){e.xs[t.index]=t.x}))},b.getPrevX=function(t){var e=this.xs[t-1];return void 0!==e?e:null},b.getNextX=function(t){var e=this.xs[t+1];return void 0!==e?e:null},b.getMaxDataCount=function(){var t=this;return t.d3.max(t.data.targets,function(t){return t.values.length})},b.getMaxDataCountTarget=function(t){var e,n=t.length,r=0;return 1<n?t.forEach(function(t){t.values.length>r&&(r=(e=t).values.length)}):e=n?t[0]:null,e},b.getEdgeX=function(t){var e=this;return t.length?[e.d3.min(t,function(t){return t.values[0].x}),e.d3.max(t,function(t){return t.values[t.values.length-1].x})]:[0,0]},b.mapToIds=function(t){return t.map(function(t){return t.id})},b.mapToTargetIds=function(t){var e=this;return t?[].concat(t):e.mapToIds(e.data.targets)},b.hasTarget=function(t,e){var n,r=this.mapToIds(t);for(n=0;n<r.length;n++)if(r[n]===e)return!0;return!1},b.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},b.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},b.filterTargetsToShow=function(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})},b.mapTargetsToUniqueXs=function(t){var e=this,n=e.d3.set(e.d3.merge(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();return(n=e.isTimeSeries()?n.map(function(t){return new Date(+t)}):n.map(function(t){return+t})).sort(function(t,e){return t<e?-1:e<t?1:e<=t?0:NaN})},b.addHiddenTargetIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenTargetIds.indexOf(t[e])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(t[e]))},b.removeHiddenTargetIds=function(e){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(t){return e.indexOf(t)<0})},b.addHiddenLegendIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenLegendIds.indexOf(t[e])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(t[e]))},b.removeHiddenLegendIds=function(e){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(t){return e.indexOf(t)<0})},b.getValuesAsIdKeyed=function(t){var n={};return t.forEach(function(e){n[e.id]=[],e.values.forEach(function(t){n[e.id].push(t.value)})}),n},b.checkValueInTargets=function(t,e){var n,r,i,o=Object.keys(t);for(n=0;n<o.length;n++)for(i=t[o[n]].values,r=0;r<i.length;r++)if(e(i[r].value))return!0;return!1},b.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t<0})},b.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return 0<t})},b.isOrderDesc=function(){var t=this.config;return"string"==typeof t.data_order&&"desc"===t.data_order.toLowerCase()},b.isOrderAsc=function(){var t=this.config;return"string"==typeof t.data_order&&"asc"===t.data_order.toLowerCase()},b.getOrderFunction=function(){var t=this,e=t.config,n=t.isOrderAsc(),o=t.isOrderDesc();if(n||o)return function(t,e){var n=function(t,e){return t+Math.abs(e.value)},r=t.values.reduce(n,0),i=e.values.reduce(n,0);return o?i-r:r-i};if(f(e.data_order))return e.data_order;if(l(e.data_order)){var r=e.data_order;return function(t,e){return r.indexOf(t.id)-r.indexOf(e.id)}}},b.orderTargets=function(t){var e=this.getOrderFunction();return e&&(t.sort(e),(this.isOrderAsc()||this.isOrderDesc())&&t.reverse()),t},b.filterByX=function(t,e){return this.d3.merge(t.map(function(t){return t.values})).filter(function(t){return t.x-e==0})},b.filterRemoveNull=function(t){return t.filter(function(t){return C(t.value)})},b.filterByXDomain=function(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})},b.hasDataLabel=function(){var t=this.config;return!("boolean"!=typeof t.data_labels||!t.data_labels)||!("object"!==u(t.data_labels)||!A(t.data_labels))},b.getDataLabelLength=function(t,e,n){var r=this,i=[0,0],o=1.3;return r.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return r.dataLabelFormat(t.id)(t)}).each(function(t,e){i[e]=this.getBoundingClientRect()[n]*o}).remove(),i},b.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},b.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},b.findSameXOfValues=function(t,e){var n,r=t[e].x,i=[];for(n=e-1;0<=n&&r===t[n].x;n--)i.push(t[n]);for(n=e;n<t.length&&r===t[n].x;n++)i.push(t[n]);return i},b.findClosestFromTargets=function(t,e){var n,r=this;return n=t.map(function(t){return r.findClosest(t.values,e)}),r.findClosest(n,e)},b.findClosest=function(t,n){var r,i=this,o=i.config.point_sensitivity;return t.filter(function(t){return t&&i.isBarType(t.id)}).forEach(function(t){var e=i.main.select("."+j.bars+i.getTargetSelectorSuffix(t.id)+" ."+j.bar+"-"+t.index).node();!r&&i.isWithinBar(e)&&(r=t)}),t.filter(function(t){return t&&!i.isBarType(t.id)}).forEach(function(t){var e=i.dist(t,n);e<o&&(o=e,r=t)}),r},b.dist=function(t,e){var n=this,r=n.config,i=r.axis_rotated?1:0,o=r.axis_rotated?0:1,a=n.circleY(t,t.index),s=n.x(t.x);return Math.sqrt(Math.pow(s-e[i],2)+Math.pow(a-e[o],2))},b.convertValuesToStep=function(t){var e,n=[].concat(t);if(!this.isCategorized())return t;for(e=t.length+1;0<e;e--)n[e]=n[e-1];return n[0]={x:n[0].x-1,value:n[0].value,id:n[0].id},n[t.length+1]={x:n[t.length].x+1,value:n[t.length].value,id:n[t.length].id},n},b.updateDataAttributes=function(t,e){var n=this,r=n.config["data_"+t];return void 0===e||(Object.keys(e).forEach(function(t){r[t]=e[t]}),n.redraw({withLegend:!0})),r},b.load=function(n,r){var i=this;n&&(r.filter&&(n=n.filter(r.filter)),(r.type||r.types)&&n.forEach(function(t){var e=r.types&&r.types[t.id]?r.types[t.id]:r.type;i.setTargetType(t.id,e)}),i.data.targets.forEach(function(t){for(var e=0;e<n.length;e++)if(t.id===n[e].id){t.values=n[e].values,n.splice(e,1);break}}),i.data.targets=i.data.targets.concat(n)),i.updateTargets(i.data.targets),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),r.done&&r.done()},b.loadFromArgs=function(e){var n=this;e.data?n.load(n.convertDataToTargets(e.data),e):e.url?n.convertUrlToData(e.url,e.mimeType,e.headers,e.keys,function(t){n.load(n.convertDataToTargets(t),e)}):e.json?n.load(n.convertDataToTargets(n.convertJsonToData(e.json,e.keys)),e):e.rows?n.load(n.convertDataToTargets(n.convertRowsToData(e.rows)),e):e.columns?n.load(n.convertDataToTargets(n.convertColumnsToData(e.columns)),e):n.load(null,e)},b.unload=function(t,e){var n=this;e||(e=function(){}),(t=t.filter(function(t){return n.hasTarget(n.data.targets,t)}))&&0!==t.length?(n.svg.selectAll(t.map(function(t){return n.selectorTarget(t)})).transition().style("opacity",0).remove().call(n.endall,e),t.forEach(function(e){n.withoutFadeIn[e]=!1,n.legend&&n.legend.selectAll("."+j.legendItem+n.getTargetSelectorSuffix(e)).remove(),n.data.targets=n.data.targets.filter(function(t){return t.id!==e})})):e()},b.getYDomainMin=function(t){var e,n,r,i,o,a,s=this,u=s.config,c=s.mapToIds(t),l=s.getValuesAsIdKeyed(t);if(0<u.data_groups.length)for(a=s.hasNegativeValueInTargets(t),e=0;e<u.data_groups.length;e++)if(0!==(i=u.data_groups[e].filter(function(t){return 0<=c.indexOf(t)})).length)for(r=i[0],a&&l[r]&&l[r].forEach(function(t,e){l[r][e]=t<0?t:0}),n=1;n<i.length;n++)o=i[n],l[o]&&l[o].forEach(function(t,e){s.axis.getId(o)!==s.axis.getId(r)||!l[r]||a&&0<+t||(l[r][e]+=+t)});return s.d3.min(Object.keys(l).map(function(t){return s.d3.min(l[t])}))},b.getYDomainMax=function(t){var e,n,r,i,o,a,s=this,u=s.config,c=s.mapToIds(t),l=s.getValuesAsIdKeyed(t);if(0<u.data_groups.length)for(a=s.hasPositiveValueInTargets(t),e=0;e<u.data_groups.length;e++)if(0!==(i=u.data_groups[e].filter(function(t){return 0<=c.indexOf(t)})).length)for(r=i[0],a&&l[r]&&l[r].forEach(function(t,e){l[r][e]=0<t?t:0}),n=1;n<i.length;n++)o=i[n],l[o]&&l[o].forEach(function(t,e){s.axis.getId(o)!==s.axis.getId(r)||!l[r]||a&&+t<0||(l[r][e]+=+t)});return s.d3.max(Object.keys(l).map(function(t){return s.d3.max(l[t])}))},b.getYDomain=function(t,e,n){var r,i,o,a,s,u,c,l,f,h,d=this,p=d.config,g=t.filter(function(t){return d.axis.getId(t.id)===e}),v=n?d.filterByXDomain(g,n):g,y="y2"===e?p.axis_y2_min:p.axis_y_min,m="y2"===e?p.axis_y2_max:p.axis_y_max,x=d.getYDomainMin(v),_=d.getYDomainMax(v),b="y2"===e?p.axis_y2_center:p.axis_y_center,w=d.hasType("bar",v)&&p.bar_zerobased||d.hasType("area",v)&&p.area_zerobased,S="y2"===e?p.axis_y2_inverted:p.axis_y_inverted,T=d.hasDataLabel()&&p.axis_rotated,M=d.hasDataLabel()&&!p.axis_rotated;return x=C(y)?y:C(m)?x<m?x:m-10:x,_=C(m)?m:C(y)?y<_?_:y+10:_,0===v.length?"y2"===e?d.y2.domain():d.y.domain():(isNaN(x)&&(x=0),isNaN(_)&&(_=x),x===_&&(x<0?_=0:x=0),f=0<=x&&0<=_,h=x<=0&&_<=0,(C(y)&&f||C(m)&&h)&&(w=!1),w&&(f&&(x=0),h&&(_=0)),o=a=.1*(i=Math.abs(_-x)),void 0!==b&&(_=b+(s=Math.max(Math.abs(x),Math.abs(_))),x=b-s),T?(u=d.getDataLabelLength(x,_,"width"),c=I(d.y.range()),o+=i*((l=[u[0]/c,u[1]/c])[1]/(1-l[0]-l[1])),a+=i*(l[0]/(1-l[0]-l[1]))):M&&(u=d.getDataLabelLength(x,_,"height"),o+=d.axis.convertPixelsToAxisPadding(u[1],i),a+=d.axis.convertPixelsToAxisPadding(u[0],i)),"y"===e&&A(p.axis_y_padding)&&(o=d.axis.getPadding(p.axis_y_padding,"top",o,i),a=d.axis.getPadding(p.axis_y_padding,"bottom",a,i)),"y2"===e&&A(p.axis_y2_padding)&&(o=d.axis.getPadding(p.axis_y2_padding,"top",o,i),a=d.axis.getPadding(p.axis_y2_padding,"bottom",a,i)),w&&(f&&(a=x),h&&(o=-_)),r=[x-a,_+o],S?r.reverse():r)},b.getXDomainMin=function(t){var e=this,n=e.config;return O(n.axis_x_min)?e.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:e.d3.min(t,function(t){return e.d3.min(t.values,function(t){return t.x})})},b.getXDomainMax=function(t){var e=this,n=e.config;return O(n.axis_x_max)?e.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:e.d3.max(t,function(t){return e.d3.max(t.values,function(t){return t.x})})},b.getXDomainPadding=function(t){var e,n,r,i,o=this,a=o.config,s=t[1]-t[0];return n=o.isCategorized()?0:o.hasType("bar")?1<(e=o.getMaxDataCount())?s/(e-1)/2:.5:.01*s,"object"===u(a.axis_x_padding)&&A(a.axis_x_padding)?(r=C(a.axis_x_padding.left)?a.axis_x_padding.left:n,i=C(a.axis_x_padding.right)?a.axis_x_padding.right:n):r=i="number"==typeof a.axis_x_padding?a.axis_x_padding:n,{left:r,right:i}},b.getXDomain=function(t){var e=this,n=[e.getXDomainMin(t),e.getXDomainMax(t)],r=n[0],i=n[1],o=e.getXDomainPadding(n),a=0,s=0;return r-i!=0||e.isCategorized()||(e.isTimeSeries()?(r=new Date(.5*r.getTime()),i=new Date(1.5*i.getTime())):(r=0===r?1:.5*r,i=0===i?-1:1.5*i)),(r||0===r)&&(a=e.isTimeSeries()?new Date(r.getTime()-o.left):r-o.left),(i||0===i)&&(s=e.isTimeSeries()?new Date(i.getTime()+o.right):i+o.right),[a,s]},b.updateXDomain=function(t,e,n,r,i){var o=this,a=o.config;return n&&(o.x.domain(i||o.d3.extent(o.getXDomain(t))),o.orgXDomain=o.x.domain(),a.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent(),o.subX.domain(o.x.domain()),o.brush&&o.brush.scale(o.subX)),e&&(o.x.domain(i||(!o.brush||o.brush.empty()?o.orgXDomain:o.brush.extent())),a.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent()),r&&o.x.domain(o.trimXDomain(o.x.orgDomain())),o.x.domain()},b.trimXDomain=function(t){var e=this.getZoomDomain(),n=e[0],r=e[1];return t[0]<=n&&(t[1]=+t[1]+(n-t[0]),t[0]=n),r<=t[1]&&(t[0]=+t[0]-(t[1]-r),t[1]=r),t},b.drag=function(t){var e,n,r,i,h,d,p,g,v=this,o=v.config,a=v.main,y=v.d3;v.hasArcType()||o.data_selection_enabled&&(o.zoom_enabled&&!v.zoom.altDomain||o.data_selection_multiple&&(e=v.dragStart[0],n=v.dragStart[1],r=t[0],i=t[1],h=Math.min(e,r),d=Math.max(e,r),p=o.data_selection_grouped?v.margin.top:Math.min(n,i),g=o.data_selection_grouped?v.height:Math.max(n,i),a.select("."+j.dragarea).attr("x",h).attr("y",p).attr("width",d-h).attr("height",g-p),a.selectAll("."+j.shapes).selectAll("."+j.shape).filter(function(t){return o.data_selection_isselectable(t)}).each(function(t,e){var n,r,i,o,a,s,u=y.select(this),c=u.classed(j.SELECTED),l=u.classed(j.INCLUDED),f=!1;if(u.classed(j.circle))n=1*u.attr("cx"),r=1*u.attr("cy"),a=v.togglePoint,f=h<n&&n<d&&p<r&&r<g;else{if(!u.classed(j.bar))return;n=(s=m(this)).x,r=s.y,i=s.width,o=s.height,a=v.togglePath,f=!(d<n||n+i<h||g<r||r+o<p)}f^l&&(u.classed(j.INCLUDED,!l),u.classed(j.SELECTED,!c),a.call(v,!c,u,t,e))})))},b.dragstart=function(t){var e=this,n=e.config;e.hasArcType()||n.data_selection_enabled&&(e.dragStart=t,e.main.select("."+j.chart).append("rect").attr("class",j.dragarea).style("opacity",.1),e.dragging=!0)},b.dragend=function(){var t=this,e=t.config;t.hasArcType()||e.data_selection_enabled&&(t.main.select("."+j.dragarea).transition().duration(100).style("opacity",0).remove(),t.main.selectAll("."+j.shape).classed(j.INCLUDED,!1),t.dragging=!1)},b.getYFormat=function(t){var r=this,i=t&&!r.hasType("gauge")?r.defaultArcValueFormat:r.yFormat,o=t&&!r.hasType("gauge")?r.defaultArcValueFormat:r.y2Format;return function(t,e,n){return("y2"===r.axis.getId(n)?o:i).call(r,t,e)}},b.yFormat=function(t){var e=this,n=e.config;return(n.axis_y_tick_format?n.axis_y_tick_format:e.defaultValueFormat)(t)},b.y2Format=function(t){var e=this,n=e.config;return(n.axis_y2_tick_format?n.axis_y2_tick_format:e.defaultValueFormat)(t)},b.defaultValueFormat=function(t){return C(t)?+t:""},b.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+"%"},b.dataLabelFormat=function(t){var e=this.config.data_labels,n=function(t){return C(t)?+t:""};return"function"==typeof e.format?e.format:"object"===u(e.format)?e.format[t]?!0===e.format[t]?n:e.format[t]:function(){return""}:n},b.initGrid=function(){var t=this,e=t.config,n=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",j.grid),e.grid_x_show&&t.grid.append("g").attr("class",j.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",j.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",j.xgridFocus).append("line").attr("class",j.xgridFocus),t.xgrid=n.selectAll([]),e.grid_lines_front||t.initGridLines()},b.initGridLines=function(){var t=this,e=t.d3;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",j.grid+" "+j.gridLines),t.gridLines.append("g").attr("class",j.xgridLines),t.gridLines.append("g").attr("class",j.ygridLines),t.xgridLines=e.selectAll([])},b.updateXGrid=function(t){var e=this,n=e.config,r=e.d3,i=e.generateGridData(n.grid_x_type,e.x),o=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=n.axis_rotated?{x1:0,x2:e.width,y1:function(t){return e.x(t)-o},y2:function(t){return e.x(t)-o}}:{x1:function(t){return e.x(t)+o},x2:function(t){return e.x(t)+o},y1:0,y2:e.height},e.xgrid=e.main.select("."+j.xgrids).selectAll("."+j.xgrid).data(i),e.xgrid.enter().append("line").attr("class",j.xgrid),t||e.xgrid.attr(e.xgridAttr).style("opacity",function(){return+r.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?e.height:0)?0:1}),e.xgrid.exit().remove()},b.updateYGrid=function(){var t=this,e=t.config,n=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks);t.ygrid=t.main.select("."+j.ygrids).selectAll("."+j.ygrid).data(n),t.ygrid.enter().append("line").attr("class",j.ygrid),t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y),t.ygrid.exit().remove(),t.smoothLines(t.ygrid,"grid")},b.gridTextAnchor=function(t){return t.position?t.position:"end"},b.gridTextDx=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},b.xGridTextX=function(t){return"start"===t.position?-this.height:"middle"===t.position?-this.height/2:0},b.yGridTextX=function(t){return"start"===t.position?0:"middle"===t.position?this.width/2:this.width},b.updateGrid=function(t){var e,n,r,i=this,o=i.main,a=i.config;i.grid.style("visibility",i.hasArcType()?"hidden":"visible"),o.select("line."+j.xgridFocus).style("visibility","hidden"),a.grid_x_show&&i.updateXGrid(),i.xgridLines=o.select("."+j.xgridLines).selectAll("."+j.xgridLine).data(a.grid_x_lines),(e=i.xgridLines.enter().append("g").attr("class",function(t){return j.xgridLine+(t["class"]?" "+t["class"]:"")})).append("line").style("opacity",0),e.append("text").attr("text-anchor",i.gridTextAnchor).attr("transform",a.axis_rotated?"":"rotate(-90)").attr("dx",i.gridTextDx).attr("dy",-5).style("opacity",0),i.xgridLines.exit().transition().duration(t).style("opacity",0).remove(),a.grid_y_show&&i.updateYGrid(),i.ygridLines=o.select("."+j.ygridLines).selectAll("."+j.ygridLine).data(a.grid_y_lines),(n=i.ygridLines.enter().append("g").attr("class",function(t){return j.ygridLine+(t["class"]?" "+t["class"]:"")})).append("line").style("opacity",0),n.append("text").attr("text-anchor",i.gridTextAnchor).attr("transform",a.axis_rotated?"rotate(-90)":"").attr("dx",i.gridTextDx).attr("dy",-5).style("opacity",0),r=i.yv.bind(i),i.ygridLines.select("line").transition().duration(t).attr("x1",a.axis_rotated?r:0).attr("x2",a.axis_rotated?r:i.width).attr("y1",a.axis_rotated?0:r).attr("y2",a.axis_rotated?i.height:r).style("opacity",1),i.ygridLines.select("text").transition().duration(t).attr("x",a.axis_rotated?i.xGridTextX.bind(i):i.yGridTextX.bind(i)).attr("y",r).text(function(t){return t.text}).style("opacity",1),i.ygridLines.exit().transition().duration(t).style("opacity",0).remove()},b.redrawGrid=function(t){var e=this,n=e.config,r=e.xv.bind(e),i=e.xgridLines.select("line"),o=e.xgridLines.select("text");return[(t?i.transition():i).attr("x1",n.axis_rotated?0:r).attr("x2",n.axis_rotated?e.width:r).attr("y1",n.axis_rotated?r:0).attr("y2",n.axis_rotated?r:e.height).style("opacity",1),(t?o.transition():o).attr("x",n.axis_rotated?e.yGridTextX.bind(e):e.xGridTextX.bind(e)).attr("y",r).text(function(t){return t.text}).style("opacity",1)]},b.showXGridFocus=function(t){var e=this,n=e.config,r=t.filter(function(t){return t&&C(t.value)}),i=e.main.selectAll("line."+j.xgridFocus),o=e.xx.bind(e);n.tooltip_show&&(e.hasType("scatter")||e.hasArcType()||(i.style("visibility","visible").data([r[0]]).attr(n.axis_rotated?"y1":"x1",o).attr(n.axis_rotated?"y2":"x2",o),e.smoothLines(i,"grid")))},b.hideXGridFocus=function(){this.main.select("line."+j.xgridFocus).style("visibility","hidden")},b.updateXgridFocus=function(){var t=this,e=t.config;t.main.select("line."+j.xgridFocus).attr("x1",e.axis_rotated?0:-10).attr("x2",e.axis_rotated?t.width:-10).attr("y1",e.axis_rotated?-10:0).attr("y2",e.axis_rotated?-10:t.height)},b.generateGridData=function(t,e){var n,r,i,o,a=this,s=[],u=a.main.select("."+j.axisX).selectAll(".tick").size();if("year"===t)for(r=(n=a.getXDomain())[0].getFullYear(),i=n[1].getFullYear(),o=r;o<=i;o++)s.push(new Date(o+"-01-01 00:00:00"));else(s=e.ticks(10)).length>u&&(s=s.filter(function(t){return(""+t).indexOf(".")<0}));return s},b.getGridFilterToRemove=function(t){return t?function(e){var n=!1;return[].concat(t).forEach(function(t){("value"in t&&e.value===t.value||"class"in t&&e["class"]===t["class"])&&(n=!0)}),n}:function(){return!0}},b.removeGridLines=function(t,e){var n=this,r=n.config,i=n.getGridFilterToRemove(t),o=function(t){return!i(t)},a=e?j.xgridLines:j.ygridLines,s=e?j.xgridLine:j.ygridLine;n.main.select("."+a).selectAll("."+s).filter(i).transition().duration(r.transition_duration).style("opacity",0).remove(),e?r.grid_x_lines=r.grid_x_lines.filter(o):r.grid_y_lines=r.grid_y_lines.filter(o)},b.initEventRect=function(){this.main.select("."+j.chart).append("g").attr("class",j.eventRects).style("fill-opacity",0)},b.redrawEventRect=function(){var t,e,n=this,r=n.config,i=n.isMultipleX(),o=n.main.select("."+j.eventRects).style("cursor",r.zoom_enabled?r.axis_rotated?"ns-resize":"ew-resize":null).classed(j.eventRectsMultiple,i).classed(j.eventRectsSingle,!i);o.selectAll("."+j.eventRect).remove(),n.eventRect=o.selectAll("."+j.eventRect),i?(t=n.eventRect.data([0]),n.generateEventRectsForMultipleXs(t.enter()),n.updateEventRect(t)):(e=n.getMaxDataCountTarget(n.data.targets),o.datum(e?e.values:[]),n.eventRect=o.selectAll("."+j.eventRect),t=n.eventRect.data(function(t){return t}),n.generateEventRectsForSingleX(t.enter()),n.updateEventRect(t),t.exit().remove())},b.updateEventRect=function(t){var e,n,r,i,o,a,s=this,u=s.config;t=t||s.eventRect.data(function(t){return t}),s.isMultipleX()?(n=e=0,r=s.width,i=s.height):(!s.isCustomX()&&!s.isTimeSeries()||s.isCategorized()?(o=s.getEventRectWidth(),a=function(t){return s.x(t.x)-o/2}):(s.updateXs(),o=function(t){var e=s.getPrevX(t.index),n=s.getNextX(t.index);return null===e&&null===n?u.axis_rotated?s.height:s.width:(null===e&&(e=s.x.domain()[0]),null===n&&(n=s.x.domain()[1]),Math.max(0,(s.x(n)-s.x(e))/2))},a=function(t){var e=s.getPrevX(t.index),n=s.getNextX(t.index),r=s.data.xs[t.id][t.index];return null===e&&null===n?0:(null===e&&(e=s.x.domain()[0]),(s.x(r)+s.x(e))/2)}),e=u.axis_rotated?0:a,n=u.axis_rotated?a:0,r=u.axis_rotated?s.width:o,i=u.axis_rotated?o:s.height),t.attr("class",s.classEvent.bind(s)).attr("x",e).attr("y",n).attr("width",r).attr("height",i)},b.generateEventRectsForSingleX=function(t){var i=this,o=i.d3,a=i.config;t.append("rect").attr("class",i.classEvent.bind(i)).style("cursor",a.data_selection_enabled&&a.data_selection_grouped?"pointer":null).on("mouseover",function(t){var e=t.index;i.dragging||i.flowing||i.hasArcType()||(a.point_focus_expand_enabled&&i.expandCircles(e,null,!0),i.expandBars(e,null,!0),i.main.selectAll("."+j.shape+"-"+e).each(function(t){a.data_onmouseover.call(i.api,t)}))}).on("mouseout",function(t){var e=t.index;i.config&&(i.hasArcType()||(i.hideXGridFocus(),i.hideTooltip(),i.unexpandCircles(),i.unexpandBars(),i.main.selectAll("."+j.shape+"-"+e).each(function(t){a.data_onmouseout.call(i.api,t)})))}).on("mousemove",function(t){var e,n=t.index,r=i.svg.select("."+j.eventRect+"-"+n);i.dragging||i.flowing||i.hasArcType()||(i.isStepType(t)&&"step-after"===i.config.line_step_type&&o.mouse(this)[0]<i.x(i.getXValue(t.id,n))&&(n-=1),e=i.filterTargetsToShow(i.data.targets).map(function(t){return i.addName(i.getValueOnIndex(t.values,n))}),a.tooltip_grouped&&(i.showTooltip(e,this),i.showXGridFocus(e)),(!a.tooltip_grouped||a.data_selection_enabled&&!a.data_selection_grouped)&&i.main.selectAll("."+j.shape+"-"+n).each(function(){o.select(this).classed(j.EXPANDED,!0),a.data_selection_enabled&&r.style("cursor",a.data_selection_grouped?"pointer":null),a.tooltip_grouped||(i.hideXGridFocus(),i.hideTooltip(),a.data_selection_grouped||(i.unexpandCircles(n),i.unexpandBars(n)))}).filter(function(t){return i.isWithinShape(this,t)}).each(function(t){a.data_selection_enabled&&(a.data_selection_grouped||a.data_selection_isselectable(t))&&r.style("cursor","pointer"),a.tooltip_grouped||(i.showTooltip([t],this),i.showXGridFocus([t]),a.point_focus_expand_enabled&&i.expandCircles(n,t.id,!0),i.expandBars(n,t.id,!0))}))}).on("click",function(t){var e=t.index;!i.hasArcType()&&i.toggleShape&&(i.cancelClick?i.cancelClick=!1:(i.isStepType(t)&&"step-after"===a.line_step_type&&o.mouse(this)[0]<i.x(i.getXValue(t.id,e))&&(e-=1),i.main.selectAll("."+j.shape+"-"+e).each(function(t){(a.data_selection_grouped||i.isWithinShape(this,t))&&(i.toggleShape(this,t,e),i.config.data_onclick.call(i.api,t,this))})))}).call(a.data_selection_draggable&&i.drag?o.behavior.drag().origin(Object).on("drag",function(){i.drag(o.mouse(this))}).on("dragstart",function(){i.dragstart(o.mouse(this))}).on("dragend",function(){i.dragend()}):function(){})},b.generateEventRectsForMultipleXs=function(t){function i(){o.svg.select("."+j.eventRect).style("cursor",null),o.hideXGridFocus(),o.hideTooltip(),o.unexpandCircles(),o.unexpandBars()}var o=this,a=o.d3,s=o.config;t.append("rect").attr("x",0).attr("y",0).attr("width",o.width).attr("height",o.height).attr("class",j.eventRect).on("mouseout",function(){o.config&&(o.hasArcType()||i())}).on("mousemove",function(){var t,e,n,r=o.filterTargetsToShow(o.data.targets);o.dragging||o.hasArcType(r)||(t=a.mouse(this),e=o.findClosestFromTargets(r,t),!o.mouseover||e&&e.id===o.mouseover.id||(s.data_onmouseout.call(o.api,o.mouseover),o.mouseover=undefined),e?(n=(o.isScatterType(e)||!s.tooltip_grouped?[e]:o.filterByX(r,e.x)).map(function(t){return o.addName(t)}),o.showTooltip(n,this),s.point_focus_expand_enabled&&o.expandCircles(e.index,e.id,!0),o.expandBars(e.index,e.id,!0),o.showXGridFocus(n),(o.isBarType(e.id)||o.dist(e,t)<s.point_sensitivity)&&(o.svg.select("."+j.eventRect).style("cursor","pointer"),o.mouseover||(s.data_onmouseover.call(o.api,e),o.mouseover=e))):i())}).on("click",function(){var t,e,n=o.filterTargetsToShow(o.data.targets);o.hasArcType(n)||(t=a.mouse(this),(e=o.findClosestFromTargets(n,t))&&(o.isBarType(e.id)||o.dist(e,t)<s.point_sensitivity)&&o.main.selectAll("."+j.shapes+o.getTargetSelectorSuffix(e.id)).selectAll("."+j.shape+"-"+e.index).each(function(){(s.data_selection_grouped||o.isWithinShape(this,e))&&(o.toggleShape(this,e,e.index),o.config.data_onclick.call(o.api,e,this))}))}).call(s.data_selection_draggable&&o.drag?a.behavior.drag().origin(Object).on("drag",function(){o.drag(a.mouse(this))}).on("dragstart",function(){o.dragstart(a.mouse(this))}).on("dragend",function(){o.dragend()}):function(){})},b.dispatchEvent=function(t,e,n){var r=this,i="."+j.eventRect+(r.isMultipleX()?"":"-"+e),o=r.main.select(i).node(),a=o.getBoundingClientRect(),s=a.left+(n?n[0]:0),u=a.top+(n?n[1]:0),c=document.createEvent("MouseEvents");c.initMouseEvent(t,!0,!0,window,0,s,u,s,u,!1,!1,!1,!1,0,null),o.dispatchEvent(c)},b.initLegend=function(){var t=this;if(t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),!t.config.legend_show)return t.legend.style("visibility","hidden"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets));t.updateLegendWithDefaults()},b.updateLegendWithDefaults=function(){var t=this;t.updateLegend(t.mapToIds(t.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},b.updateSizeForLegend=function(t,e){var n=this,r=n.config,i={top:n.isLegendTop?n.getCurrentPaddingTop()+r.legend_inset_y+5.5:n.currentHeight-t-n.getCurrentPaddingBottom()-r.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+r.legend_inset_x+.5:n.currentWidth-e-n.getCurrentPaddingRight()-r.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?i.top:n.currentHeight-t,right:NaN,bottom:0,left:n.isLegendRight?n.currentWidth-e:n.isLegendInset?i.left:0}},b.transformLegend=function(t){var e=this;(t?e.legend.transition():e.legend).attr("transform",e.getTranslate("legend"))},b.updateLegendStep=function(t){this.legendStep=t},b.updateLegendItemWidth=function(t){this.legendItemWidth=t},b.updateLegendItemHeight=function(t){this.legendItemHeight=t},b.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},b.getLegendHeight=function(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},b.opacityForLegend=function(t){return t.classed(j.legendItemHidden)?null:1},b.opacityForUnfocusedLegend=function(t){return t.classed(j.legendItemHidden)?null:.3},b.toggleFocusLegend=function(e,t){var n=this;e=n.mapToTargetIds(e),n.legend.selectAll("."+j.legendItem).filter(function(t){return 0<=e.indexOf(t)}).classed(j.legendItemFocused,t).transition().duration(100).style("opacity",function(){return(t?n.opacityForLegend:n.opacityForUnfocusedLegend).call(n,n.d3.select(this))})},b.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+j.legendItem).classed(j.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend(e.select(this))})},b.showLegend=function(t){var e=this,n=e.config;n.legend_show||(n.legend_show=!0,e.legend.style("visibility","visible"),e.legendHasRendered||e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return e.opacityForLegend(e.d3.select(this))})},b.hideLegend=function(t){var e=this,n=e.config;n.legend_show&&g(t)&&(n.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},b.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},b.updateLegend=function(d,t,e){function p(t,e){return b.legendItemTextBox[e]||(b.legendItemTextBox[e]=b.getTextRect(t.textContent,j.legendItem,t)),b.legendItemTextBox[e]}function n(t,e,n){function r(t,e){e||(i=(h-E-f)/2)<A&&(i=(h-f)/2,E=0,I++),R[t]=I,D[I]=b.isLegendInset?10:i,L[t]=E,E+=f}var i,o,a=0===n,s=n===d.length-1,u=p(t,e),c=u.width+k+(!s||b.isLegendRight||b.isLegendInset?T:0)+w.legend_padding,l=u.height+S,f=b.isLegendRight||b.isLegendInset?l:c,h=b.isLegendRight||b.isLegendInset?b.getLegendHeight():b.getLegendWidth();a&&(C=M=I=E=0),!w.legend_show||b.isLegendToShow(e)?(P[e]=c,N[e]=l,(!M||M<=c)&&(M=c),(!C||C<=l)&&(C=l),
o=b.isLegendRight||b.isLegendInset?C:M,w.legend_equally?(Object.keys(P).forEach(function(t){P[t]=M}),Object.keys(N).forEach(function(t){N[t]=C}),(i=(h-o*d.length)/2)<A?(I=E=0,d.forEach(function(t){r(t)})):r(e,!0)):r(e)):P[e]=N[e]=R[e]=L[e]=0}var r,i,o,a,s,u,c,l,f,h,g,v,y,m,x,_,b=this,w=b.config,S=4,T=10,M=0,C=0,A=10,k=w.legend_item_tile_width+5,E=0,L={},P={},N={},D=[0],R={},I=0;d=d.filter(function(t){return!O(w.data_names[t])||null!==w.data_names[t]}),g=H(t=t||{},"withTransition",!0),v=H(t,"withTransitionForTransform",!0),b.isLegendInset&&(I=w.legend_inset_step?w.legend_inset_step:d.length,b.updateLegendStep(I)),b.isLegendRight?(r=function(t){return M*R[t]},a=function(t){return D[R[t]]+L[t]}):b.isLegendInset?(r=function(t){return M*R[t]+10},a=function(t){return D[R[t]]+L[t]}):(r=function(t){return D[R[t]]+L[t]},a=function(t){return C*R[t]}),i=function(t,e){return r(t,e)+4+w.legend_item_tile_width},s=function(t,e){return a(t,e)+9},o=function(t,e){return r(t,e)},u=function(t,e){return a(t,e)-5},c=function(t,e){return r(t,e)-2},l=function(t,e){return r(t,e)-2+w.legend_item_tile_width},f=function(t,e){return a(t,e)+4},(h=b.legend.selectAll("."+j.legendItem).data(d).enter().append("g").attr("class",function(t){return b.generateClass(j.legendItem,t)}).style("visibility",function(t){return b.isLegendToShow(t)?"visible":"hidden"}).style("cursor","pointer").on("click",function(t){w.legend_item_onclick?w.legend_item_onclick.call(b,t):b.d3.event.altKey?(b.api.hide(),b.api.show(t)):(b.api.toggle(t),b.isTargetToShow(t)?b.api.focus(t):b.api.revert())}).on("mouseover",function(t){w.legend_item_onmouseover?w.legend_item_onmouseover.call(b,t):(b.d3.select(this).classed(j.legendItemFocused,!0),!b.transiting&&b.isTargetToShow(t)&&b.api.focus(t))}).on("mouseout",function(t){w.legend_item_onmouseout?w.legend_item_onmouseout.call(b,t):(b.d3.select(this).classed(j.legendItemFocused,!1),b.api.revert())})).append("text").text(function(t){return O(w.data_names[t])?w.data_names[t]:t}).each(function(t,e){n(this,t,e)}).style("pointer-events","none").attr("x",b.isLegendRight||b.isLegendInset?i:-200).attr("y",b.isLegendRight||b.isLegendInset?-200:s),h.append("rect").attr("class",j.legendItemEvent).style("fill-opacity",0).attr("x",b.isLegendRight||b.isLegendInset?o:-200).attr("y",b.isLegendRight||b.isLegendInset?-200:u),h.append("line").attr("class",j.legendItemTile).style("stroke",b.color).style("pointer-events","none").attr("x1",b.isLegendRight||b.isLegendInset?c:-200).attr("y1",b.isLegendRight||b.isLegendInset?-200:f).attr("x2",b.isLegendRight||b.isLegendInset?l:-200).attr("y2",b.isLegendRight||b.isLegendInset?-200:f).attr("stroke-width",w.legend_item_tile_height),_=b.legend.select("."+j.legendBackground+" rect"),b.isLegendInset&&0<M&&0===_.size()&&(_=b.legend.insert("g","."+j.legendItem).attr("class",j.legendBackground).append("rect")),y=b.legend.selectAll("text").data(d).text(function(t){return O(w.data_names[t])?w.data_names[t]:t}).each(function(t,e){n(this,t,e)}),(g?y.transition():y).attr("x",i).attr("y",s),m=b.legend.selectAll("rect."+j.legendItemEvent).data(d),(g?m.transition():m).attr("width",function(t){return P[t]}).attr("height",function(t){return N[t]}).attr("x",o).attr("y",u),x=b.legend.selectAll("line."+j.legendItemTile).data(d),(g?x.transition():x).style("stroke",b.color).attr("x1",c).attr("y1",f).attr("x2",l).attr("y2",f),_&&(g?_.transition():_).attr("height",b.getLegendHeight()-12).attr("width",M*(I+1)+10),b.legend.selectAll("."+j.legendItem).classed(j.legendItemHidden,function(t){return!b.isTargetToShow(t)}),b.updateLegendItemWidth(M),b.updateLegendItemHeight(C),b.updateLegendStep(I),b.updateSizes(),b.updateScales(),b.updateSvgSize(),b.transformAll(v,e),b.legendHasRendered=!0},b.initRegion=function(){var t=this;t.region=t.main.append("g").attr("clip-path",t.clipPath).attr("class",j.regions)},b.updateRegion=function(t){var e=this,n=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible"),e.mainRegion=e.main.select("."+j.regions).selectAll("."+j.region).data(n.regions),e.mainRegion.enter().append("g").append("rect").style("fill-opacity",0),e.mainRegion.attr("class",e.classRegion.bind(e)),e.mainRegion.exit().transition().duration(t).style("opacity",0).remove()},b.redrawRegion=function(t){var e=this,n=e.mainRegion.selectAll("rect").each(function(){var t=e.d3.select(this.parentNode).datum();e.d3.select(this).datum(t)}),r=e.regionX.bind(e),i=e.regionY.bind(e),o=e.regionWidth.bind(e),a=e.regionHeight.bind(e);return[(t?n.transition():n).attr("x",r).attr("y",i).attr("width",o).attr("height",a).style("fill-opacity",function(t){return C(t.opacity)?t.opacity:.1})]},b.regionX=function(t){var e=this,n=e.config,r="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?n.axis_rotated&&"start"in t?r(t.start):0:n.axis_rotated?0:"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},b.regionY=function(t){var e=this,n=e.config,r="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?n.axis_rotated?0:"end"in t?r(t.end):0:n.axis_rotated&&"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},b.regionWidth=function(t){var e,n=this,r=n.config,i=n.regionX(t),o="y"===t.axis?n.y:n.y2;return(e="y"===t.axis||"y2"===t.axis?r.axis_rotated&&"end"in t?o(t.end):n.width:r.axis_rotated?n.width:"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.width)<i?0:e-i},b.regionHeight=function(t){var e,n=this,r=n.config,i=this.regionY(t),o="y"===t.axis?n.y:n.y2;return(e="y"===t.axis||"y2"===t.axis?r.axis_rotated?n.height:"start"in t?o(t.start):n.height:r.axis_rotated&&"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.height)<i?0:e-i},b.isRegionOnX=function(t){return!t.axis||"x"===t.axis},b.getScale=function(t,e,n){return(n?this.d3.time.scale():this.d3.scale.linear()).range([t,e])},b.getX=function(t,e,n,r){var i,o=this,a=o.getScale(t,e,o.isTimeSeries()),s=n?a.domain(n):a;for(i in o.isCategorized()?(r=r||function(){return 0},a=function(t,e){var n=s(t)+r(t);return e?n:Math.ceil(n)}):a=function(t,e){var n=s(t);return e?n:Math.ceil(n)},s)a[i]=s[i];return a.orgDomain=function(){return s.domain()},o.isCategorized()&&(a.domain=function(t){return arguments.length?(s.domain(t),a):[(t=this.orgDomain())[0],t[1]+1]}),a},b.getY=function(t,e,n){var r=this.getScale(t,e,this.isTimeSeriesY());return n&&r.domain(n),r},b.getYScale=function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},b.getSubYScale=function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},b.updateScales=function(){var e=this,t=e.config,n=!e.x;e.xMin=t.axis_rotated?1:0,e.xMax=t.axis_rotated?e.height:e.width,e.yMin=t.axis_rotated?0:e.height,e.yMax=t.axis_rotated?e.width:1,e.subXMin=e.xMin,e.subXMax=e.xMax,e.subYMin=t.axis_rotated?0:e.height2,e.subYMax=t.axis_rotated?e.width2:1,e.x=e.getX(e.xMin,e.xMax,n?undefined:e.x.orgDomain(),function(){return e.xAxis.tickOffset()}),e.y=e.getY(e.yMin,e.yMax,n?t.axis_y_default:e.y.domain()),e.y2=e.getY(e.yMin,e.yMax,n?t.axis_y2_default:e.y2.domain()),e.subX=e.getX(e.xMin,e.xMax,e.orgXDomain,function(t){return t%1?0:e.subXAxis.tickOffset()}),e.subY=e.getY(e.subYMin,e.subYMax,n?t.axis_y_default:e.subY.domain()),e.subY2=e.getY(e.subYMin,e.subYMax,n?t.axis_y2_default:e.subY2.domain()),e.xAxisTickFormat=e.axis.getXAxisTickFormat(),e.xAxisTickValues=e.axis.getXAxisTickValues(),e.yAxisTickValues=e.axis.getYAxisTickValues(),e.y2AxisTickValues=e.axis.getY2AxisTickValues(),e.xAxis=e.axis.getXAxis(e.x,e.xOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.subXAxis=e.axis.getXAxis(e.subX,e.subXOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.yAxis=e.axis.getYAxis(e.y,e.yOrient,t.axis_y_tick_format,e.yAxisTickValues,t.axis_y_tick_outer),e.y2Axis=e.axis.getYAxis(e.y2,e.y2Orient,t.axis_y2_tick_format,e.y2AxisTickValues,t.axis_y2_tick_outer),n||(e.brush&&e.brush.scale(e.subX),t.zoom_enabled&&e.zoom.scale(e.x)),e.updateArc&&e.updateArc()},b.selectPoint=function(t,e,n){var r=this,i=r.config,o=(i.axis_rotated?r.circleY:r.circleX).bind(r),a=(i.axis_rotated?r.circleX:r.circleY).bind(r),s=r.pointSelectR.bind(r);i.data_onselected.call(r.api,e,t.node()),r.main.select("."+j.selectedCircles+r.getTargetSelectorSuffix(e.id)).selectAll("."+j.selectedCircle+"-"+n).data([e]).enter().append("circle").attr("class",function(){return r.generateClass(j.selectedCircle,n)}).attr("cx",o).attr("cy",a).attr("stroke",function(){return r.color(e)}).attr("r",function(t){return 1.4*r.pointSelectR(t)}).transition().duration(100).attr("r",s)},b.unselectPoint=function(t,e,n){var r=this;r.config.data_onunselected.call(r.api,e,t.node()),r.main.select("."+j.selectedCircles+r.getTargetSelectorSuffix(e.id)).selectAll("."+j.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()},b.togglePoint=function(t,e,n,r){t?this.selectPoint(e,n,r):this.unselectPoint(e,n,r)},b.selectPath=function(t,e){var n=this;n.config.data_onselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return n.d3.rgb(n.color(e)).brighter(.75)})},b.unselectPath=function(t,e){var n=this;n.config.data_onunselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return n.color(e)})},b.togglePath=function(t,e,n,r){t?this.selectPath(e,n,r):this.unselectPath(e,n,r)},b.getToggle=function(t,e){var n,r=this;return"circle"===t.nodeName?n=r.isStepType(e)?function(){}:r.togglePoint:"path"===t.nodeName&&(n=r.togglePath),n},b.toggleShape=function(t,e,n){var r=this,i=r.d3,o=r.config,a=i.select(t),s=a.classed(j.SELECTED),u=r.getToggle(t,e).bind(r);o.data_selection_enabled&&o.data_selection_isselectable(e)&&(o.data_selection_multiple||r.main.selectAll("."+j.shapes+(o.data_selection_grouped?r.getTargetSelectorSuffix(e.id):"")).selectAll("."+j.shape).each(function(t,e){var n=i.select(this);n.classed(j.SELECTED)&&u(!1,n.classed(j.SELECTED,!1),t,e)}),a.classed(j.SELECTED,!s),u(!s,a,e,n))},b.initBar=function(){this.main.select("."+j.chart).append("g").attr("class",j.chartBars)},b.updateTargetsForBar=function(t){var e=this,n=e.config,r=e.classChartBar.bind(e),i=e.classBars.bind(e),o=e.classFocus.bind(e);e.main.select("."+j.chartBars).selectAll("."+j.chartBar).data(t).attr("class",function(t){return r(t)+o(t)}).enter().append("g").attr("class",r).style("pointer-events","none").append("g").attr("class",i).style("cursor",function(t){return n.data_selection_isselectable(t)?"pointer":null})},b.updateBar=function(t){var e=this,n=e.barData.bind(e),r=e.classBar.bind(e),i=e.initialOpacity.bind(e),o=function(t){return e.color(t.id)};e.mainBar=e.main.selectAll("."+j.bars).selectAll("."+j.bar).data(n),e.mainBar.enter().append("path").attr("class",r).style("stroke",o).style("fill",o),e.mainBar.style("opacity",i),e.mainBar.exit().transition().duration(t).remove()},b.redrawBar=function(t,e){return[(e?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",t).style("stroke",this.color).style("fill",this.color).style("opacity",1)]},b.getBarW=function(t,e){var n=this.config,r="number"==typeof n.bar_width?n.bar_width:e?t.tickInterval()*n.bar_width_ratio/e:0;return n.bar_width_max&&r>n.bar_width_max?n.bar_width_max:r},b.getBars=function(t,e){var n=this;return(e?n.main.selectAll("."+j.bars+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+j.bar+(C(t)?"-"+t:""))},b.expandBars=function(t,e,n){var r=this;n&&r.unexpandBars(),r.getBars(t,e).classed(j.EXPANDED,!0)},b.unexpandBars=function(t){this.getBars(t).classed(j.EXPANDED,!1)},b.generateDrawBar=function(t,e){var n=this,o=n.config,a=n.generateGetBarPoints(t,e);return function(t,e){var n=a(t,e),r=o.axis_rotated?1:0,i=o.axis_rotated?0:1;return"M "+n[0][r]+","+n[0][i]+" L"+n[1][r]+","+n[1][i]+" L"+n[2][r]+","+n[2][i]+" L"+n[3][r]+","+n[3][i]+" z"}},b.generateGetBarPoints=function(t,e){var a=this,n=e?a.subXAxis:a.xAxis,r=t.__max__+1,s=a.getBarW(n,r),u=a.getShapeX(s,r,t,!!e),c=a.getShapeY(!!e),l=a.getShapeOffset(a.isBarType,t,!!e),f=s*(a.config.bar_space/2),h=e?a.getSubYScale:a.getYScale;return function(t,e){var n=h.call(a,t.id)(0),r=l(t,e)||n,i=u(t),o=c(t);return a.config.axis_rotated&&(0<t.value&&o<n||t.value<0&&n<o)&&(o=n),[[i+f,r],[i+f,o-(n-r)],[i+s-f,o-(n-r)],[i+s-f,r]]}},b.isWithinBar=function(t){var e=this.d3.mouse(t),n=t.getBoundingClientRect(),r=t.pathSegList.getItem(0),i=t.pathSegList.getItem(1),o=Math.min(r.x,i.x),a=Math.min(r.y,i.y),s=2,u=o+n.width+s,c=a+n.height+s,l=a-s;return o-s<e[0]&&e[0]<u&&l<e[1]&&e[1]<c},b.getShapeIndices=function(t){var e,n,r=this,i=r.config,o={},a=0;return r.filterTargetsToShow(r.data.targets.filter(t,r)).forEach(function(t){for(e=0;e<i.data_groups.length;e++)if(!(i.data_groups[e].indexOf(t.id)<0))for(n=0;n<i.data_groups[e].length;n++)if(i.data_groups[e][n]in o){o[t.id]=o[i.data_groups[e][n]];break}w(o[t.id])&&(o[t.id]=a++)}),o.__max__=a-1,o},b.getShapeX=function(n,r,i,t){var e=this,o=t?e.subX:e.x;return function(t){var e=t.id in i?i[t.id]:0;return t.x||0===t.x?o(t.x)-n*(r/2-e):0}},b.getShapeY=function(e){var n=this;return function(t){return(e?n.getSubYScale(t.id):n.getYScale(t.id))(t.value)}},b.getShapeOffset=function(t,s,e){var u=this,c=u.orderTargets(u.filterTargetsToShow(u.data.targets.filter(t,u))),l=c.map(function(t){return t.id});return function(n,r){var i=e?u.getSubYScale(n.id):u.getYScale(n.id),o=i(0),a=o;return c.forEach(function(t){var e=u.isStepType(n)?u.convertValuesToStep(t.values):t.values;t.id!==n.id&&s[t.id]===s[n.id]&&l.indexOf(t.id)<l.indexOf(n.id)&&("undefined"!=typeof e[r]&&+e[r].x==+n.x||(r=-1,e.forEach(function(t,e){t.x===n.x&&(r=e)})),r in e&&0<=e[r].value*n.value&&(a+=i(e[r].value)-o))}),a}},b.isWithinShape=function(t,e){var n,r=this,i=r.d3.select(t);return r.isTargetToShow(e.id)?"circle"===t.nodeName?n=r.isStepType(e)?r.isWithinStep(t,r.getYScale(e.id)(e.value)):r.isWithinCircle(t,1.5*r.pointSelectR(e)):"path"===t.nodeName&&(n=!i.classed(j.bar)||r.isWithinBar(t)):n=!1,n},b.getInterpolate=function(t){var e=this,n=e.isInterpolationType(e.config.spline_interpolation_type)?e.config.spline_interpolation_type:"cardinal";return e.isSplineType(t)?n:e.isStepType(t)?e.config.line_step_type:"linear"},b.initLine=function(){this.main.select("."+j.chart).append("g").attr("class",j.chartLines)},b.updateTargetsForLine=function(t){var e,n=this,r=n.config,i=n.classChartLine.bind(n),o=n.classLines.bind(n),a=n.classAreas.bind(n),s=n.classCircles.bind(n),u=n.classFocus.bind(n);(e=n.main.select("."+j.chartLines).selectAll("."+j.chartLine).data(t).attr("class",function(t){return i(t)+u(t)}).enter().append("g").attr("class",i).style("opacity",0).style("pointer-events","none")).append("g").attr("class",o),e.append("g").attr("class",a),e.append("g").attr("class",function(t){return n.generateClass(j.selectedCircles,t.id)}),e.append("g").attr("class",s).style("cursor",function(t){return r.data_selection_isselectable(t)?"pointer":null}),t.forEach(function(e){n.main.selectAll("."+j.selectedCircles+n.getTargetSelectorSuffix(e.id)).selectAll("."+j.selectedCircle).each(function(t){t.value=e.values[t.index].value})})},b.updateLine=function(t){var e=this;e.mainLine=e.main.selectAll("."+j.lines).selectAll("."+j.line).data(e.lineData.bind(e)),e.mainLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.mainLine.style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",function(t){return e.isStepType(t)?"crispEdges":""}).attr("transform",null),e.mainLine.exit().transition().duration(t).style("opacity",0).remove()},b.redrawLine=function(t,e){return[(e?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]},b.generateDrawLine=function(t,s){var u=this,c=u.config,l=u.d3.svg.line(),n=u.generateGetLinePoints(t,s),f=s?u.getSubYScale:u.getYScale,e=function(t){return(s?u.subxx:u.xx).call(u,t)},r=function(t,e){return 0<c.data_groups.length?n(t,e)[0][1]:f.call(u,t.id)(t.value)};return l=c.axis_rotated?l.x(r).y(e):l.x(e).y(r),c.line_connectNull||(l=l.defined(function(t){return null!=t.value})),function(t){var e,n=c.line_connectNull?u.filterRemoveNull(t.values):t.values,r=s?u.x:u.subX,i=f.call(u,t.id),o=0,a=0;return u.isLineType(t)?c.data_regions[t.id]?e=u.lineWithRegions(n,r,i,c.data_regions[t.id]):(u.isStepType(t)&&(n=u.convertValuesToStep(n)),e=l.interpolate(u.getInterpolate(t))(n)):(n[0]&&(o=r(n[0].x),a=i(n[0].value)),e=c.axis_rotated?"M "+a+" "+o:"M "+o+" "+a),e||"M 0 0"}},b.generateGetLinePoints=function(t,e){var a=this,s=a.config,n=t.__max__+1,u=a.getShapeX(0,n,t,!!e),c=a.getShapeY(!!e),l=a.getShapeOffset(a.isLineType,t,!!e),f=e?a.getSubYScale:a.getYScale;return function(t,e){var n=f.call(a,t.id)(0),r=l(t,e)||n,i=u(t),o=c(t);return s.axis_rotated&&(0<t.value&&o<n||t.value<0&&n<o)&&(o=n),[[i,o-(n-r)],[i,o-(n-r)],[i,o-(n-r)],[i,o-(n-r)]]}},b.lineWithRegions=function(t,u,c,e){function n(t,e){var n;for(n=0;n<e.length;n++)if(e[n].start<t&&t<=e[n].end)return!0;return!1}function l(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}var r,i,o,a,f,s,h,d,p,g,v,y=this,m=y.config,x="M",_=y.isCategorized()?.5:0,b=[];if(O(e))for(r=0;r<e.length;r++)b[r]={},w(e[r].start)?b[r].start=t[0].x:b[r].start=y.isTimeSeries()?y.parseDate(e[r].start):e[r].start,w(e[r].end)?b[r].end=t[t.length-1].x:b[r].end=y.isTimeSeries()?y.parseDate(e[r].end):e[r].end;for(g=m.axis_rotated?function(t){return c(t.value)}:function(t){return u(t.x)},v=m.axis_rotated?function(t){return u(t.x)}:function(t){return c(t.value)},o=y.isTimeSeries()?function(t,e,n,r){var i=t.x.getTime(),o=e.x-t.x,a=new Date(i+o*n),s=new Date(i+o*(n+r));return l(m.axis_rotated?[[c(f(n)),u(a)],[c(f(n+r)),u(s)]]:[[u(a),c(f(n))],[u(s),c(f(n+r))]])}:function(t,e,n,r){return l(m.axis_rotated?[[c(f(n),!0),u(a(n))],[c(f(n+r),!0),u(a(n+r))]]:[[u(a(n),!0),c(f(n))],[u(a(n+r),!0),c(f(n+r))]])},r=0;r<t.length;r++){if(w(b)||!n(t[r].x,b))x+=" "+g(t[r])+" "+v(t[r]);else for(a=y.getScale(t[r-1].x+_,t[r].x+_,y.isTimeSeries()),f=y.getScale(t[r-1].value,t[r].value),s=u(t[r].x)-u(t[r-1].x),h=c(t[r].value)-c(t[r-1].value),p=2*(d=2/Math.sqrt(Math.pow(s,2)+Math.pow(h,2))),i=d;i<=1;i+=p)x+=o(t[r-1],t[r],i,d);t[r].x}return x},b.updateArea=function(t){var e=this,n=e.d3;e.mainArea=e.main.selectAll("."+j.areas).selectAll("."+j.area).data(e.lineData.bind(e)),e.mainArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.mainArea.style("opacity",e.orgAreaOpacity),e.mainArea.exit().transition().duration(t).style("opacity",0).remove()},b.redrawArea=function(t,e){return[(e?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},b.generateDrawArea=function(t,e){var o=this,a=o.config,s=o.d3.svg.area(),n=o.generateGetAreaPoints(t,e),r=e?o.getSubYScale:o.getYScale,i=function(t){return(e?o.subxx:o.xx).call(o,t)},u=function(t,e){return 0<a.data_groups.length?n(t,e)[0][1]:r.call(o,t.id)(o.getAreaBaseValue(t.id))},c=function(t,e){return 0<a.data_groups.length?n(t,e)[1][1]:r.call(o,t.id)(t.value)};return s=a.axis_rotated?s.x0(u).x1(c).y(i):s.x(i).y0(a.area_above?0:u).y1(c),a.line_connectNull||(s=s.defined(function(t){return null!==t.value})),function(t){var e,n=a.line_connectNull?o.filterRemoveNull(t.values):t.values,r=0,i=0;return o.isAreaType(t)?(o.isStepType(t)&&(n=o.convertValuesToStep(n)),e=s.interpolate(o.getInterpolate(t))(n)):(n[0]&&(r=o.x(n[0].x),i=o.getYScale(t.id)(n[0].value)),e=a.axis_rotated?"M "+i+" "+r:"M "+r+" "+i),e||"M 0 0"}},b.getAreaBaseValue=function(){return 0},b.generateGetAreaPoints=function(t,e){var a=this,s=a.config,n=t.__max__+1,u=a.getShapeX(0,n,t,!!e),c=a.getShapeY(!!e),l=a.getShapeOffset(a.isAreaType,t,!!e),f=e?a.getSubYScale:a.getYScale;return function(t,e){var n=f.call(a,t.id)(0),r=l(t,e)||n,i=u(t),o=c(t);return s.axis_rotated&&(0<t.value&&o<n||t.value<0&&n<o)&&(o=n),[[i,r],[i,o-(n-r)],[i,o-(n-r)],[i,r]]}},b.updateCircle=function(){var t=this;t.mainCircle=t.main.selectAll("."+j.circles).selectAll("."+j.circle).data(t.lineOrScatterData.bind(t)),t.mainCircle.enter().append("circle").attr("class",t.classCircle.bind(t)).attr("r",t.pointR.bind(t)).style("fill",t.color),t.mainCircle.style("opacity",t.initialOpacityForCircle.bind(t)),t.mainCircle.exit().remove()},b.redrawCircle=function(t,e,n){var r=this.main.selectAll("."+j.selectedCircle);return[(n?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",t).attr("cy",e),(n?r.transition(Math.random().toString()):r).attr("cx",t).attr("cy",e)]},b.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},b.updateCircleY=function(){var t,n,e=this;0<e.config.data_groups.length?(t=e.getShapeIndices(e.isLineType),n=e.generateGetLinePoints(t),e.circleY=function(t,e){return n(t,e)[0][1]}):e.circleY=function(t){return e.getYScale(t.id)(t.value)}},b.getCircles=function(t,e){var n=this;return(e?n.main.selectAll("."+j.circles+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+j.circle+(C(t)?"-"+t:""))},b.expandCircles=function(t,e,n){var r=this,i=r.pointExpandedR.bind(r);n&&r.unexpandCircles(),r.getCircles(t,e).classed(j.EXPANDED,!0).attr("r",i)},b.unexpandCircles=function(t){var e=this,n=e.pointR.bind(e);e.getCircles(t).filter(function(){return e.d3.select(this).classed(j.EXPANDED)}).classed(j.EXPANDED,!1).attr("r",n)},b.pointR=function(t){var e=this,n=e.config;return e.isStepType(t)?0:f(n.point_r)?n.point_r(t):n.point_r},b.pointExpandedR=function(t){var e=this,n=e.config;return n.point_focus_expand_enabled?f(n.point_focus_expand_r)?n.point_focus_expand_r(t):n.point_focus_expand_r?n.point_focus_expand_r:1.75*e.pointR(t):e.pointR(t)},b.pointSelectR=function(t){var e=this,n=e.config;return f(n.point_select_r)?n.point_select_r(t):n.point_select_r?n.point_select_r:4*e.pointR(t)},b.isWithinCircle=function(t,e){var n=this.d3,r=n.mouse(t),i=n.select(t),o=+i.attr("cx"),a=+i.attr("cy");return Math.sqrt(Math.pow(o-r[0],2)+Math.pow(a-r[1],2))<e},b.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30},b.getCurrentWidth=function(){var t=this,e=t.config;return e.size_width?e.size_width:t.getParentWidth()},b.getCurrentHeight=function(){var t=this,e=t.config,n=e.size_height?e.size_height:t.getParentHeight();return 0<n?n:320/(t.hasType("gauge")&&!e.gauge_fullCircle?2:1)},b.getCurrentPaddingTop=function(){var t=this,e=t.config,n=C(e.padding_top)?e.padding_top:0;return t.title&&t.title.node()&&(n+=t.getTitlePadding()),n},b.getCurrentPaddingBottom=function(){var t=this.config;return C(t.padding_bottom)?t.padding_bottom:0},b.getCurrentPaddingLeft=function(t){var e=this,n=e.config;return C(n.padding_left)?n.padding_left:n.axis_rotated?n.axis_x_show?Math.max(d(e.getAxisWidthByAxisId("x",t)),40):1:!n.axis_y_show||n.axis_y_inner?e.axis.getYAxisLabelPosition().isOuter?30:1:d(e.getAxisWidthByAxisId("y",t))},b.getCurrentPaddingRight=function(){var t=this,e=t.config,n=10,r=t.isLegendRight?t.getLegendWidth()+20:0;return C(e.padding_right)?e.padding_right+1:e.axis_rotated?n+r:!e.axis_y2_show||e.axis_y2_inner?2+r+(t.axis.getY2AxisLabelPosition().isOuter?20:0):d(t.getAxisWidthByAxisId("y2"))+r},b.getParentRectValue=function(t){for(var e,n=this.selectChart.node();n&&"BODY"!==n.tagName;){try{e=n.getBoundingClientRect()[t]}catch(r){"width"===t&&(e=n.offsetWidth)}if(e)break;n=n.parentNode}return e},b.getParentWidth=function(){return this.getParentRectValue("width")},b.getParentHeight=function(){var t=this.selectChart.style("height");return 0<t.indexOf("px")?+t.replace("px",""):0},b.getSvgLeft=function(t){var e=this,n=e.config,r=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,i=n.axis_rotated?j.axisX:j.axisY,o=e.main.select("."+i).node(),a=o&&r?o.getBoundingClientRect():{right:0},s=e.selectChart.node().getBoundingClientRect(),u=e.hasArcType(),c=a.right-s.left-(u?0:e.getCurrentPaddingLeft(t));return 0<c?c:0},b.getAxisWidthByAxisId=function(t,e){var n=this,r=n.axis.getLabelPositionById(t);return n.axis.getMaxTickWidth(t,e)+(r.isInner?20:40)},b.getHorizontalAxisHeight=function(t){var e=this,n=e.config,r=30;return"x"!==t||n.axis_x_show?"x"===t&&n.axis_x_height?n.axis_x_height:"y"!==t||n.axis_y_show?"y2"!==t||n.axis_y2_show?("x"===t&&!n.axis_rotated&&n.axis_x_tick_rotate&&(r=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-n.axis_x_tick_rotate)/180)),"y"===t&&n.axis_rotated&&n.axis_y_tick_rotate&&(r=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-n.axis_y_tick_rotate)/180)),r+(e.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):e.rotated_padding_top:!n.legend_show||e.isLegendRight||e.isLegendInset?1:10:8},b.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},b.initBrush=function(){var e=this,t=e.d3;e.brush=t.svg.brush().on("brush",function(){e.redrawForBrush()}),e.brush.update=function(){return e.context&&e.context.select("."+j.brush).call(this),this},e.brush.scale=function(t){return e.config.axis_rotated?this.y(t):this.x(t)}},b.initSubchart=function(){var t=this,e=t.config,n=t.context=t.svg.append("g").attr("transform",t.getTranslate("context")),r=e.subchart_show?"visible":"hidden";n.style("visibility",r),n.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",j.chart),n.select("."+j.chart).append("g").attr("class",j.chartBars),n.select("."+j.chart).append("g").attr("class",j.chartLines),n.append("g").attr("clip-path",t.clipPath).attr("class",j.brush).call(t.brush),t.axes.subx=n.append("g").attr("class",j.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis).style("visibility",e.subchart_axis_x_show?r:"hidden")},b.updateTargetsForSubchart=function(t){var e,n=this,r=n.context,i=n.config,o=n.classChartBar.bind(n),a=n.classBars.bind(n),s=n.classChartLine.bind(n),u=n.classLines.bind(n),c=n.classAreas.bind(n);i.subchart_show&&(r.select("."+j.chartBars).selectAll("."+j.chartBar).data(t).attr("class",o).enter().append("g").style("opacity",0).attr("class",o).append("g").attr("class",a),(e=r.select("."+j.chartLines).selectAll("."+j.chartLine).data(t).attr("class",s).enter().append("g").style("opacity",0).attr("class",s)).append("g").attr("class",u),e.append("g").attr("class",c),r.selectAll("."+j.brush+" rect").attr(i.axis_rotated?"width":"height",i.axis_rotated?n.width2:n.height2))},b.updateBarForSubchart=function(t){var e=this;e.contextBar=e.context.selectAll("."+j.bars).selectAll("."+j.bar).data(e.barData.bind(e)),e.contextBar.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color),e.contextBar.style("opacity",e.initialOpacity.bind(e)),e.contextBar.exit().transition().duration(t).style("opacity",0).remove()},b.redrawBarForSubchart=function(t,e,n){(e?this.contextBar.transition(Math.random().toString()).duration(n):this.contextBar).attr("d",t).style("opacity",1)},b.updateLineForSubchart=function(t){var e=this;e.contextLine=e.context.selectAll("."+j.lines).selectAll("."+j.line).data(e.lineData.bind(e)),e.contextLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.contextLine.style("opacity",e.initialOpacity.bind(e)),e.contextLine.exit().transition().duration(t).style("opacity",0).remove()},b.redrawLineForSubchart=function(t,e,n){(e?this.contextLine.transition(Math.random().toString()).duration(n):this.contextLine).attr("d",t).style("opacity",1)},b.updateAreaForSubchart=function(t){var e=this,n=e.d3;e.contextArea=e.context.selectAll("."+j.areas).selectAll("."+j.area).data(e.lineData.bind(e)),e.contextArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.contextArea.style("opacity",0),e.contextArea.exit().transition().duration(t).style("opacity",0).remove()},b.redrawAreaForSubchart=function(t,e,n){(e?this.contextArea.transition(Math.random().toString()).duration(n):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},b.redrawSubchart=function(t,e,n,r,i,o,a){var s,u,c,l=this,f=l.d3,h=l.config;l.context.style("visibility",h.subchart_show?"visible":"hidden"),h.subchart_show&&(f.event&&"zoom"===f.event.type&&l.brush.extent(l.x.orgDomain()).update(),t&&(l.brush.empty()||l.brush.extent(l.x.orgDomain()).update(),s=l.generateDrawArea(i,!0),u=l.generateDrawBar(o,!0),c=l.generateDrawLine(a,!0),l.updateBarForSubchart(n),l.updateLineForSubchart(n),l.updateAreaForSubchart(n),l.redrawBarForSubchart(u,n,n),l.redrawLineForSubchart(c,n,n),l.redrawAreaForSubchart(s,n,n)))},b.redrawForBrush=function(){var t=this,e=t.x;t.redraw({withTransition:!1,withY:t.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),t.config.subchart_onbrush.call(t.api,e.orgDomain())},b.transformContext=function(t,e){var n,r=this;e&&e.axisSubX?n=e.axisSubX:(n=r.context.select("."+j.axisX),t&&(n=n.transition())),r.context.attr("transform",r.getTranslate("context")),n.attr("transform",r.getTranslate("subx"))},b.getDefaultExtent=function(){var t=this,e=t.config,n=f(e.axis_x_extent)?e.axis_x_extent(t.getXDomain(t.data.targets)):e.axis_x_extent;return t.isTimeSeries()&&(n=[t.parseDate(n[0]),t.parseDate(n[1])]),n},b.initText=function(){var t=this;t.main.select("."+j.chart).append("g").attr("class",j.chartTexts),t.mainText=t.d3.selectAll([])},b.updateTargetsForText=function(t){var e=this,n=e.classChartText.bind(e),r=e.classTexts.bind(e),i=e.classFocus.bind(e);e.main.select("."+j.chartTexts).selectAll("."+j.chartText).data(t).attr("class",function(t){return n(t)+i(t)}).enter().append("g").attr("class",n).style("opacity",0).style("pointer-events","none").append("g").attr("class",r)},b.updateText=function(t){var r=this,e=r.config,n=r.barOrLineData.bind(r),i=r.classText.bind(r);r.mainText=r.main.selectAll("."+j.texts).selectAll("."+j.text).data(n),r.mainText.enter().append("text").attr("class",i).attr("text-anchor",function(t){return e.axis_rotated?t.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(t){return r.color(t)}).style("fill-opacity",0),r.mainText.text(function(t,e,n){return r.dataLabelFormat(t.id)(t.value,t.id,e,n)}),r.mainText.exit().transition().duration(t).style("fill-opacity",0).remove()},b.redrawText=function(t,e,n,r){return[(r?this.mainText.transition():this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},b.getTextRect=function(t,e,n){var r,i=this.d3.select("body").append("div").classed("c3",!0),o=i.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),a=this.d3.select(n).style("font");return o.selectAll(".dummy").data([t]).enter().append("text").classed(e||"",!0).style("font",a).text(t).each(function(){r=this.getBoundingClientRect()}),i.remove(),r},b.generateXYForText=function(t,e,n,r){var i=this,o=i.generateGetAreaPoints(t,!1),a=i.generateGetBarPoints(e,!1),s=i.generateGetLinePoints(n,!1),u=r?i.getXForText:i.getYForText;return function(t,e){var n=i.isAreaType(t)?o:i.isBarType(t)?a:s;return u.call(i,n(t,e),t,this)}},b.getXForText=function(t,e,n){var r,i,o=this,a=n.getBoundingClientRect();return o.config.axis_rotated?(i=o.isBarType(e)?4:6,r=t[2][1]+i*(e.value<0?-1:1)):r=o.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(r>o.width?r=o.width-a.width:r<0&&(r=4)),r},b.getYForText=function(t,e,n){var r,i=this,o=n.getBoundingClientRect();return i.config.axis_rotated?r=(t[0][0]+t[2][0]+.6*o.height)/2:(r=t[2][1],e.value<0||0===e.value&&!i.hasPositiveValue?(r+=o.height,i.isBarType(e)&&i.isSafari()?r-=3:!i.isBarType(e)&&i.isChrome()&&(r+=3)):r+=i.isBarType(e)?-3:-6),null!==e.value||i.config.axis_rotated||(r<o.height?r=o.height:r>this.height&&(r=this.height-4)),r},b.initTitle=function(){var t=this;t.title=t.svg.append("text").text(t.config.title_text).attr("class",t.CLASS.title)},b.redrawTitle=function(){var t=this;t.title.attr("x",t.xForTitle.bind(t)).attr("y",t.yForTitle.bind(t))},b.xForTitle=function(){var t=this,e=t.config,n=e.title_position||"left";return 0<=n.indexOf("right")?t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width-e.title_padding.right:0<=n.indexOf("center")?(t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width)/2:e.title_padding.left},b.yForTitle=function(){var t=this;return t.config.title_padding.top+t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).height},b.getTitlePadding=function(){var t=this;return t.yForTitle()+t.config.title_padding.bottom},b.initTooltip=function(){var t,e=this,n=e.config
;if(e.tooltip=e.selectChart.style("position","relative").append("div").attr("class",j.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),n.tooltip_init_show){if(e.isTimeSeries()&&h(n.tooltip_init_x)){for(n.tooltip_init_x=e.parseDate(n.tooltip_init_x),t=0;t<e.data.targets[0].values.length&&e.data.targets[0].values[t].x-n.tooltip_init_x!=0;t++);n.tooltip_init_x=t}e.tooltip.html(n.tooltip_contents.call(e,e.data.targets.map(function(t){return e.addName(t.values[n.tooltip_init_x])}),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},b.getTooltipSortFunction=function(){var t=this,e=t.config;if(0!==e.data_groups.length&&e.tooltip_order===undefined){var n=t.orderTargets(t.data.targets).map(function(t){return t.id});return(t.isOrderAsc()||t.isOrderDesc())&&(n=n.reverse()),function(t,e){return n.indexOf(t.id)-n.indexOf(e.id)}}var r=e.tooltip_order;r===undefined&&(r=e.data_order);var i=function(t){return t?t.value:null};if(h(r)&&"asc"===r.toLowerCase())return function(t,e){return i(t)-i(e)};if(h(r)&&"desc"===r.toLowerCase())return function(t,e){return i(e)-i(t)};if(f(r)){var o=r;return e.tooltip_order===undefined&&(o=function(t,e){return r(t?{id:t.id,values:[t]}:null,e?{id:e.id,values:[e]}:null)}),o}return l(r)?function(t,e){return r.indexOf(t.id)-r.indexOf(e.id)}:void 0},b.getTooltipContent=function(t,e,n,r){var i,o,a,s,u,c,l=this,f=l.config,h=f.tooltip_format_title||e,d=f.tooltip_format_name||function(t){return t},p=f.tooltip_format_value||n,g=this.getTooltipSortFunction();for(g&&t.sort(g),o=0;o<t.length;o++)if(t[o]&&(t[o].value||0===t[o].value)&&(i||(a=y(h?h(t[o].x):t[o].x),i="<table class='"+l.CLASS.tooltip+"'>"+(a||0===a?"<tr><th colspan='2'>"+a+"</th></tr>":"")),(s=y(p(t[o].value,t[o].ratio,t[o].id,t[o].index,t)))!==undefined)){if(null===t[o].name)continue;u=y(d(t[o].name,t[o].ratio,t[o].id,t[o].index)),c=l.levelColor?l.levelColor(t[o].value):r(t[o].id),i+="<tr class='"+l.CLASS.tooltipName+"-"+l.getTargetSelectorSuffix(t[o].id)+"'>",i+="<td class='name'><span style='background-color:"+c+"'></span>"+u+"</td>",i+="<td class='value'>"+s+"</td>",i+="</tr>"}return i+"</table>"},b.tooltipPosition=function(t,e,n,r){var i,o,a,s,u,c=this,l=c.config,f=c.d3,h=c.hasArcType(),d=f.mouse(r);return h?(o=(c.width-(c.isLegendRight?c.getLegendWidth():0))/2+d[0],s=c.height/2+d[1]+20):(i=c.getSvgLeft(!0),l.axis_rotated?(a=(o=i+d[0]+100)+e,u=c.currentWidth-c.getCurrentPaddingRight(),s=c.x(t[0].x)+20):(a=(o=i+c.getCurrentPaddingLeft(!0)+c.x(t[0].x)+20)+e,u=i+c.currentWidth-c.getCurrentPaddingRight(),s=d[1]+15),u<a&&(o-=a-u+20),s+n>c.currentHeight&&(s-=n+30)),s<0&&(s=0),{top:s,left:o}},b.showTooltip=function(t,e){var n,r,i,o=this,a=o.config,s=o.hasArcType(),u=t.filter(function(t){return t&&C(t.value)}),c=a.tooltip_position||b.tooltipPosition;0!==u.length&&a.tooltip_show&&(o.tooltip.html(a.tooltip_contents.call(o,t,o.axis.getXAxisTickFormat(),o.getYFormat(s),o.color)).style("display","block"),n=o.tooltip.property("offsetWidth"),r=o.tooltip.property("offsetHeight"),i=c.call(this,u,n,r,e),o.tooltip.style("top",i.top+"px").style("left",i.left+"px"))},b.hideTooltip=function(){this.tooltip.style("display","none")},b.setTargetType=function(t,e){var n=this,r=n.config;n.mapToTargetIds(t).forEach(function(t){n.withoutFadeIn[t]=e===r.data_types[t],r.data_types[t]=e}),t||(r.data_type=e)},b.hasType=function(n,t){var e=this,r=e.config.data_types,i=!1;return(t=t||e.data.targets)&&t.length?t.forEach(function(t){var e=r[t.id];(e&&0<=e.indexOf(n)||!e&&"line"===n)&&(i=!0)}):Object.keys(r).length?Object.keys(r).forEach(function(t){r[t]===n&&(i=!0)}):i=e.config.data_type===n,i},b.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},b.isLineType=function(t){var e=this.config,n=h(t)?t:t.id;return!e.data_types[n]||0<=["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[n])},b.isStepType=function(t){var e=h(t)?t:t.id;return 0<=["step","area-step"].indexOf(this.config.data_types[e])},b.isSplineType=function(t){var e=h(t)?t:t.id;return 0<=["spline","area-spline"].indexOf(this.config.data_types[e])},b.isAreaType=function(t){var e=h(t)?t:t.id;return 0<=["area","area-spline","area-step"].indexOf(this.config.data_types[e])},b.isBarType=function(t){var e=h(t)?t:t.id;return"bar"===this.config.data_types[e]},b.isScatterType=function(t){var e=h(t)?t:t.id;return"scatter"===this.config.data_types[e]},b.isPieType=function(t){var e=h(t)?t:t.id;return"pie"===this.config.data_types[e]},b.isGaugeType=function(t){var e=h(t)?t:t.id;return"gauge"===this.config.data_types[e]},b.isDonutType=function(t){var e=h(t)?t:t.id;return"donut"===this.config.data_types[e]},b.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},b.lineData=function(t){return this.isLineType(t)?[t]:[]},b.arcData=function(t){return this.isArcType(t.data)?[t]:[]},b.barData=function(t){return this.isBarType(t)?t.values:[]},b.lineOrScatterData=function(t){return this.isLineType(t)||this.isScatterType(t)?t.values:[]},b.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},b.isInterpolationType=function(t){return 0<=["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(t)},b.isSafari=function(){var t=window.navigator.userAgent;return 0<=t.indexOf("Safari")&&t.indexOf("Chrome")<0},b.isChrome=function(){return 0<=window.navigator.userAgent.indexOf("Chrome")},b.initZoom=function(){var e,n=this,r=n.d3,i=n.config;n.zoom=r.behavior.zoom().on("zoomstart",function(){e=r.event.sourceEvent,n.zoom.altDomain=r.event.sourceEvent.altKey?n.x.orgDomain():null,i.zoom_onzoomstart.call(n.api,r.event.sourceEvent)}).on("zoom",function(){n.redrawForZoom.call(n)}).on("zoomend",function(){var t=r.event.sourceEvent;t&&e.clientX===t.clientX&&e.clientY===t.clientY||(n.redrawEventRect(),n.updateZoom(),i.zoom_onzoomend.call(n.api,n.x.orgDomain()))}),n.zoom.scale=function(t){return i.axis_rotated?this.y(t):this.x(t)},n.zoom.orgScaleExtent=function(){var t=i.zoom_extent?i.zoom_extent:[1,10];return[t[0],Math.max(n.getMaxDataCount()/t[1],t[1])]},n.zoom.updateScaleExtent=function(){var t=I(n.x.orgDomain())/I(n.getZoomDomain()),e=this.orgScaleExtent();return this.scaleExtent([e[0]*t,e[1]*t]),this}},b.getZoomDomain=function(){var t=this,e=t.config,n=t.d3;return[n.min([t.orgXDomain[0],e.zoom_x_min]),n.max([t.orgXDomain[1],e.zoom_x_max])]},b.updateZoom=function(){var t=this,e=t.config.zoom_enabled?t.zoom:function(){};t.main.select("."+j.zoomRect).call(e).on("dblclick.zoom",null),t.main.selectAll("."+j.eventRect).call(e).on("dblclick.zoom",null)},b.redrawForZoom=function(){var t=this,e=t.d3,n=t.config,r=t.zoom,i=t.x;if(n.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length){if("mousemove"===e.event.sourceEvent.type&&r.altDomain)return i.domain(r.altDomain),void r.scale(i).updateScaleExtent();t.isCategorized()&&i.orgDomain()[0]===t.orgXDomain[0]&&i.domain([t.orgXDomain[0]-1e-10,i.orgDomain()[1]]),t.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===e.event.sourceEvent.type&&(t.cancelClick=!0),n.zoom_onzoom.call(t.api,i.orgDomain())}},S}),function(){function s(t){return t&&(t.ownerDocument||t.document||t).documentElement}function R(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function a(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function c(t){return null===t?NaN:+t}function l(t){return!isNaN(t)}function t(o){return{left:function(t,e,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=t.length);n<r;){var i=n+r>>>1;o(t[i],e)<0?n=i+1:r=i}return n},right:function(t,e,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=t.length);n<r;){var i=n+r>>>1;0<o(t[i],e)?r=i:n=i+1}return n}}}function u(t){return t.length}function f(t){for(var e=1;t*e%1;)e*=10;return e}function e(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function m(){this._=Object.create(null)}function n(t){return(t+="")===xa||t[0]===_a?_a+t:t}function r(t){return(t+="")[0]===_a?t.slice(1):t}function i(t){return n(t)in this._}function o(t){return(t=n(t))in this._&&delete this._[t]}function h(){var t=[];for(var e in this._)t.push(r(e));return t}function d(){var t=0;for(var e in this._)++t;return t}function p(){for(var t in this._)return!1;return!0}function g(){this._=Object.create(null)}function I(t){return t}function v(e,n,r){return function(){var t=r.apply(n,arguments);return t===n?e:t}}function y(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=ba.length;n<r;++n){var i=ba[n]+e;if(i in t)return i}}function _(){}function x(){}function b(i){function t(){for(var t,e=o,n=-1,r=e.length;++n<r;)(t=e[n].on)&&t.apply(this,arguments);return i}var o=[],a=new m;return t.on=function(t,e){var n,r=a.get(t);return arguments.length<2?r&&r.on:(r&&(r.on=null,o=o.slice(0,n=o.indexOf(r)).concat(o.slice(n+1)),a.remove(t)),e&&o.push(a.set(t,{on:e})),i)},t}function O(){ua.event.preventDefault()}function w(){for(var t,e=ua.event;t=e.sourceEvent;)e=t;return e}function F(i){for(var o=new x,t=0,e=arguments.length;++t<e;)o[arguments[t]]=b(o);return o.of=function(n,r){return function(t){try{var e=t.sourceEvent=ua.event;t.target=i,ua.event=t,o[t.type].apply(n,r)}finally{ua.event=e}}},o}function S(t){return Sa(t,Aa),t}function T(t){return"function"==typeof t?t:function(){return Ta(t,this)}}function M(t){return"function"==typeof t?t:function(){return Ma(t,this)}}function C(e,n){function t(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,n)}function o(){this.setAttributeNS(e.space,e.local,n)}function a(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}function s(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}return e=ua.ns.qualify(e),null==n?e.local?r:t:"function"==typeof n?e.local?s:a:e.local?o:i}function A(t){return t.trim().replace(/\s+/g," ")}function k(t){return new RegExp("(?:^|\\s+)"+ua.requote(t)+"(?:\\s+|$)","g")}function E(t){return(t+"").trim().split(/^|\s+/)}function L(n,r){function t(){for(var t=-1;++t<i;)n[t](this,r)}function e(){for(var t=-1,e=r.apply(this,arguments);++t<i;)n[t](this,e)}var i=(n=E(n).map(P)).length;return"function"==typeof r?e:t}function P(r){var i=k(r);return function(t,e){if(n=t.classList)return e?n.add(r):n.remove(r);var n=t.getAttribute("class")||"";e?(i.lastIndex=0,i.test(n)||t.setAttribute("class",A(n+" "+r))):t.setAttribute("class",A(n.replace(i," ")))}}function N(e,n,r){function t(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,n,r)}function o(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}return null==n?t:"function"==typeof n?o:i}function D(e,n){function t(){delete this[e]}function r(){this[e]=n}function i(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}return null==n?t:"function"==typeof n?i:r}function V(n){function t(){var t=this.ownerDocument,e=this.namespaceURI;return e===ka&&t.documentElement.namespaceURI===ka?t.createElement(n):t.createElementNS(e,n)}function e(){return this.ownerDocument.createElementNS(n.space,n.local)}return"function"==typeof n?n:(n=ua.ns.qualify(n)).local?e:t}function G(){var t=this.parentNode;t&&t.removeChild(this)}function z(t){return{__data__:t}}function j(t){return function(){return Ca(this,t)}}function H(n){return arguments.length||(n=a),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function q(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,o=t[n],a=0,s=o.length;a<s;a++)(i=o[a])&&e(i,a,n);return t}function B(t){return Sa(t,La),t}function U(a){var s,u;return function(t,e,n){var r,i=a[n].update,o=i.length;for(n!=u&&(u=n,s=0),s<=e&&(s=e+1);!(r=i[s])&&++s<o;);return r}}function X(i,e,n){function r(){var t=this[a];t&&(this.removeEventListener(i,t,t.$),delete this[a])}function t(){var t=u(e,la(arguments));r.call(this),this.addEventListener(i,this[a]=t,t.$=n),t._=e}function o(){var t,e=new RegExp("^__on([^.]+)"+ua.requote(i)+"$");for(var n in this)if(t=n.match(e)){var r=this[n];this.removeEventListener(t[1],r,r.$),delete this[n]}}var a="__on"+i,s=i.indexOf("."),u=$;0<s&&(i=i.slice(0,s));var c=Pa.get(i);return c&&(i=c,u=Y),s?e?t:r:e?_:o}function $(n,r){return function(t){var e=ua.event;ua.event=t,r[0]=this.__data__;try{n.apply(this,r)}finally{ua.event=e}}}function Y(t,e){var r=$(t,e);return function(t){var e=this,n=t.relatedTarget;n&&(n===e||8&n.compareDocumentPosition(e))||r.call(e,t)}}function W(t){var n=".dragsuppress-"+ ++Da,r="click"+n,i=ua.select(R(t)).on("touchmove"+n,O).on("dragstart"+n,O).on("selectstart"+n,O);if(null==Na&&(Na=!("onselectstart"in t)&&y(t.style,"userSelect")),Na){var o=s(t).style,a=o[Na];o[Na]="none"}return function(t){if(i.on(n,null),Na&&(o[Na]=a),t){var e=function(){i.on(r,null)};i.on(r,function(){O(),e()},!0),setTimeout(e,0)}}}function Q(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(Ra<0){var i=R(t);if(i.scrollX||i.scrollY){var o=(n=ua.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Ra=!(o.f||o.e),n.remove()}}return Ra?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function Z(){return ua.event.changedTouches[0].identifier}function K(t){return 0<t?1:t<0?-1:0}function J(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return 1<t?0:t<-1?Fa:Math.acos(t)}function et(t){return 1<t?za:t<-1?-za:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function rt(t){return((t=Math.exp(t))+1/t)/2}function it(t){return((t=Math.exp(2*t))-1)/(t+1)}function ot(t){return(t=Math.sin(t/2))*t}function at(){}function st(t,e,n){return this instanceof st?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof st?new st(t.h,t.s,t.l):bt(""+t,wt,st):new st(t,e,n)}function ut(t,e,n){function r(t){return 360<t?t-=360:t<0&&(t+=360),t<60?o+(a-o)*t/60:t<180?a:t<240?o+(a-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:1<e?1:e,o=2*(n=n<0?0:1<n?1:n)-(a=n<=.5?n*(1+e):n+e-n*e),new yt(i(t+120),i(t),i(t-120))}function ct(t,e,n){return this instanceof ct?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ct?new ct(t.h,t.c,t.l):dt(t instanceof ft?t.l:(t=St((t=ua.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ct(t,e,n)}function lt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ft(n,Math.cos(t*=ja)*e,Math.sin(t)*e)}function ft(t,e,n){return this instanceof ft?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ft?new ft(t.l,t.a,t.b):t instanceof ct?lt(t.h,t.c,t.l):St((t=yt(t)).r,t.g,t.b):new ft(t,e,n)}function ht(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return new yt(vt(3.2404542*(i=pt(i)*Ka)-1.5371385*(r=pt(r)*Ja)-.4985314*(o=pt(o)*ts)),vt(-.969266*i+1.8760108*r+.041556*o),vt(.0556434*i-.2040259*r+1.0572252*o))}function dt(t,e,n){return 0<t?new ct(Math.atan2(n,e)*Ha,Math.sqrt(e*e+n*n),t):new ct(NaN,NaN,t)}function pt(t){return.206893034<t?t*t*t:(t-4/29)/7.787037}function gt(t){return.008856<t?Math.pow(t,1/3):7.787037*t+4/29}function vt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function yt(t,e,n){return this instanceof yt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof yt?new yt(t.r,t.g,t.b):bt(""+t,yt,ut):new yt(t,e,n)}function mt(t){return new yt(t>>16,t>>8&255,255&t)}function xt(t){return mt(t)+""}function _t(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function bt(t,e,n){var r,i,o,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(Mt(i[0]),Mt(i[1]),Mt(i[2]))}return(o=rs.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,u=15&o,u|=u<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),e(a,s,u))}function wt(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(i=u<.5?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=0<u&&u<1?0:r),new st(r,i,u)}function St(t,e,n){var r=gt((.4124564*(t=Tt(t))+.3575761*(e=Tt(e))+.1804375*(n=Tt(n)))/Ka),i=gt((.2126729*t+.7151522*e+.072175*n)/Ja);return ft(116*i-16,500*(r-i),200*(i-gt((.0193339*t+.119192*e+.9503041*n)/ts)))}function Tt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Mt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Ct(t){return"function"==typeof t?t:function(){return t}}function At(r){return function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=null),kt(t,e,r,n)}}function kt(i,o,n,r){function t(){var t,e=c.status;if(!e&&Lt(c)||200<=e&&e<300||304===e){try{t=n.call(a,c)}catch(r){return void s.error.call(a,r)}s.load.call(a,t)}else s.error.call(a,c)}var a={},s=ua.dispatch("beforesend","progress","load","error"),u={},c=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(i)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=t:c.onreadystatechange=function(){3<c.readyState&&t()},c.onprogress=function(t){var e=ua.event;ua.event=t;try{s.progress.call(a,c)}finally{ua.event=e}},a.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u[t]:(null==e?delete u[t]:u[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(o=null==t?null:t+"",a):o},a.responseType=function(t){return arguments.length?(l=t,a):l},a.response=function(t){return n=t,a},["get","post"].forEach(function(t){a[t]=function(){return a.send.apply(a,[t].concat(la(arguments)))}}),a.send=function(t,e,n){if(2===arguments.length&&"function"==typeof e&&(n=e,e=null),c.open(t,i,!0),null==o||"accept"in u||(u.accept=o+",*/*"),c.setRequestHeader)for(var r in u)c.setRequestHeader(r,u[r]);return null!=o&&c.overrideMimeType&&c.overrideMimeType(o),null!=l&&(c.responseType=l),null!=n&&a.on("error",n).on("load",function(t){n(null,t)}),s.beforesend.call(a,c),c.send(null==e?null:e),a},a.abort=function(){return c.abort(),a},ua.rebind(a,s,"on"),null==r?a:a.get(Et(r))}function Et(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function Lt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Pt(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i={c:t,t:n+e,n:null};return os?os.n=i:is=i,os=i,as||(ss=clearTimeout(ss),as=1,us(Nt)),i}function Nt(){var t=Dt(),e=Rt()-t;24<e?(isFinite(e)&&(clearTimeout(ss),ss=setTimeout(Nt,e)),as=0):(as=1,us(Nt))}function Dt(){for(var t=Date.now(),e=is;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Rt(){for(var t,e=is,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:is=e.n;return os=t,n}function It(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Ot(t,e){var n=Math.pow(10,3*ma(8-e));return{scale:8<e?function(t){return t/n}:function(t){return t*n},symbol:t}}function Ft(t){var T=t.decimal,s=t.thousands,u=t.grouping,r=t.currency,M=u&&s?function(t,e){for(var n=t.length,r=[],i=0,o=u[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),r.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=u[i=(i+1)%u.length];return r.reverse().join(s)}:I;return function(t){var e=ls.exec(t),l=e[1]||" ",f=e[2]||">",h=e[3]||"-",n=e[4]||"",d=e[5],p=+e[6],g=e[7],v=e[8],y=e[9],m=1,x="",_="",b=!1,w=!0;switch(v&&(v=+v.substring(1)),(d||"0"===l&&"="===f)&&(d=l="0",f="="),y){case"n":g=!0,y="g";break;case"%":m=100,_="%",y="f";break;case"p":m=100,_="%",y="r";break;case"b":case"o":case"x":case"X":"#"===n&&(x="0"+y.toLowerCase());case"c":w=!1;case"d":b=!0,v=0;break;case"s":m=-1,y="r"}"$"===n&&(x=r[0],_=r[1]),"r"!=y||v||(y="g"),null!=v&&("g"==y?v=Math.max(1,Math.min(21,v)):"e"!=y&&"f"!=y||(v=Math.max(0,Math.min(20,v)))),y=fs.get(y)||Vt;var S=d&&g;return function(t){var e=_;if(b&&t%1)return"";var n=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===h?"":h;if(m<0){var r=ua.formatPrefix(t,v);t=r.scale(t),e=r.symbol+_}else t*=m;var i,o,a=(t=y(t,v)).lastIndexOf(".");if(a<0){var s=w?t.lastIndexOf("e"):-1;s<0?(i=t,o=""):(i=t.substring(0,s),o=t.substring(s))}else i=t.substring(0,a),o=T+t.substring(a+1);!d&&g&&(i=M(i,1/0));var u=x.length+i.length+o.length+(S?0:n.length),c=u<p?new Array(u=p-u+1).join(l):"";return S&&(i=M(c+i,c.length?p-o.length:1/0)),n+=x,t=i+o,("<"===f?n+t+c:">"===f?c+n+t:"^"===f?c.substring(0,u>>=1)+n+t+c.substring(u):n+(S?t:c+t))+e}}}function Vt(t){return t+""}function Gt(t){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):t)}function zt(r,o,a){function t(t){var e=r(t),n=i(e,1);return t-e<n-t?e:n}function s(t){return o(t=r(new ds(t-1)),1),t}function i(t,e){return o(t=new ds(+t),e),t}function u(t,e,n){var r=s(t),i=[];if(1<n)for(;r<e;)a(r)%n||i.push(new Date(+r)),o(r,1);else for(;r<e;)i.push(new Date(+r)),o(r,1);return i}function e(t,e,n){try{var r=new(ds=Gt);return r._=t,u(r,e,n)}finally{ds=Date}}(r.floor=r).round=t,r.ceil=s,r.offset=i,r.range=u;var n=r.utc=jt(r);return(n.floor=n).round=jt(t),n.ceil=jt(s),n.offset=jt(i),n.range=e,r}function jt(r){return function(t,e){try{var n=new(ds=Gt);return n._=t,r(n,e)._}finally{ds=Date}}}function Ht(t){function r(s){function t(t){for(var e,n,r,i=[],o=-1,a=0;++o<u;)37===s.charCodeAt(o)&&(i.push(s.slice(a,o)),null!=(n=gs[e=s.charAt(++o)])&&(e=s.charAt(++o)),(r=k[e])&&(e=r(t,null==n?"e"===e?" ":"0":n)),i.push(e),a=o+1);return i.push(s.slice(a,o)),i.join("")}var u=s.length;return t.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(i(e,s,t,0)!=t.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var n=null!=e.Z&&ds!==Gt,r=new(n?Gt:ds);return"j"in e?r.setFullYear(e.y,0,e.j):"W"in e||"U"in e?("w"in e||(e.w="W"in e?1:0),r.setFullYear(e.y,0,1),r.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(r.getDay()+5)%7:e.w+7*e.U-(r.getDay()+6)%7)):r.setFullYear(e.y,e.m,e.d),r.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L),n?r._:r},t.toString=function(){return s},t}function i(t,e,n,r){for(var i,o,a,s=0,u=e.length,c=n.length;s<u;){if(c<=r)return-1;if(37===(i=e.charCodeAt(s++))){if(a=e.charAt(s++),!(o=E[a in gs?e.charAt(s++):a])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function e(t,e,n){w.lastIndex=0;var r=w.exec(e.slice(n));return r?(t.w=S.get(r[0].toLowerCase()),n+r[0].length):-1}function n(t,e,n){_.lastIndex=0;var r=_.exec(e.slice(n));return r?(t.w=b.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){C.lastIndex=0;var r=C.exec(e.slice(n));return r?(t.m=A.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){T.lastIndex=0;var r=T.exec(e.slice(n));return r?(t.m=M.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,n){return i(t,k.c.toString(),e,n)}function u(t,e,n){return i(t,k.x.toString(),e,n)}function c(t,e,n){return i(t,k.X.toString(),e,n)}function l(t,e,n){var r=x.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var f=t.dateTime,h=t.date,d=t.time,p=t.periods,g=t.days,v=t.shortDays,y=t.months,m=t.shortMonths;r.utc=function(t){function e(t){try{var e=new(ds=Gt);return e._=t,n(e)}finally{ds=Date}}var n=r(t);return e.parse=function(t){try{ds=Gt;var e=n.parse(t);return e&&e._}finally{ds=Date}},e.toString=n.toString,e},r.multi=r.utc.multi=ue;var x=ua.map(),_=Bt(g),b=Ut(g),w=Bt(v),S=Ut(v),T=Bt(y),M=Ut(y),C=Bt(m),A=Ut(m);p.forEach(function(t,e){x.set(t.toLowerCase(),e)});var k={a:function(t){return v[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return m[t.getMonth()]},B:function(t){return y[t.getMonth()]},c:r(f),d:function(t,e){return qt(t.getDate(),e,2)},e:function(t,e){return qt(t.getDate(),e,2)},H:function(t,e){return qt(t.getHours(),e,2)},I:function(t,e){return qt(t.getHours()%12||12,e,2)},j:function(t,e){return qt(1+hs.dayOfYear(t),e,3)},L:function(t,e){return qt(t.getMilliseconds(),e,3)},m:function(t,e){return qt(t.getMonth()+1,e,2)},M:function(t,e){return qt(t.getMinutes(),e,2)},p:function(t){return p[+(12<=t.getHours())]},S:function(t,e){return qt(t.getSeconds(),e,2)},U:function(t,e){return qt(hs.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return qt(hs.mondayOfYear(t),e,2)},x:r(h),X:r(d),y:function(t,e){return qt(t.getFullYear()%100,e,2)},Y:function(t,e){return qt(t.getFullYear()%1e4,e,4)},Z:ae,"%":function(){return"%"}},E={a:e,A:n,b:o,B:a,c:s,d:te,e:te,H:ne,I:ne,j:ee,L:oe,m:Jt,M:re,p:l,S:ie,U:$t,w:Xt,W:Yt,x:u,X:c,y:Qt,Y:Wt,Z:Zt,"%":se};return r}function qt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Bt(t){return new RegExp("^(?:"+t.map(ua.requote).join("|")+")","i")}function Ut(t){for(var e=new m,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Xt(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function $t(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Yt(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Wt(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Qt(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+2));return r?(t.y=Kt(+r[0]),n+r[0].length):-1}function Zt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Kt(t){return t+(68<t?1900:2e3)}function Jt(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function te(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ee(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function ne(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function re(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ie(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function oe(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ae(t){var e=t.getTimezoneOffset(),n=0<e?"-":"+",r=ma(e)/60|0,i=ma(e)%60;return n+qt(r,"0",2)+qt(i,"0",2)}function se(t,e,n){ys.lastIndex=0;var r=ys.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ue(r){for(var t=r.length,e=-1;++e<t;)r[e][0]=this(r[e][0]);return function(t){for(var e=0,n=r[e];!n[1](t);)n=r[++e];return n[0](t)}}function ce(){}function le(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function fe(t,e){t&&bs.hasOwnProperty(t.type)&&bs[t.type](t,e)}function he(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function de(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)he(t[n],e,1);e.polygonEnd()}function pe(){function n(t,e){e=e*ja/2+Fa/4;var n=(t*=ja)-l,r=0<=n?1:-1,i=r*n,o=Math.cos(e),a=Math.sin(e),s=h*a,u=f*o+s*Math.cos(i),c=s*r*Math.sin(i);Ss.add(Math.atan2(c,u)),l=t,f=o,h=a}var r,i,l,f,h;Ts.point=function(t,e){Ts.point=n,l=(r=t)*ja,f=Math.cos(e=(i=e)*ja/2+Fa/4),h=Math.sin(e)},Ts.lineEnd=function(){n(r,i)}}function ge(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function ve(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ye(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function me(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function xe(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function _e(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function be(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function we(t,e){return ma(t[0]-e[0])<Ia&&ma(t[1]-e[1])<Ia}function Se(t,e){t*=ja;var n=Math.cos(e*=ja);Te(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Te(t,e,n){As+=(t-As)/++Ms,ks+=(e-ks)/Ms,Es+=(n-Es)/Ms}function Me(){function r(t,e){t*=ja;var n=Math.cos(e*=ja),r=n*Math.cos(t),i=n*Math.sin(t),o=Math.sin(e),a=Math.atan2(Math.sqrt((a=u*o-c*i)*a+(a=c*r-s*o)*a+(a=s*i-u*r)*a),s*r+u*i+c*o);Cs+=a,Ls+=a*(s+(s=r)),Ps+=a*(u+(u=i)),Ns+=a*(c+(c=o)),Te(s,u,c)}var s,u,c;Os.point=function(t,e){t*=ja;var n=Math.cos(e*=ja);s=n*Math.cos(t),u=n*Math.sin(t),c=Math.sin(e),Os.point=r,Te(s,u,c)}}function Ce(){Os.point=Se}function Ae(){function r(t,e){t*=ja;var n=Math.cos(e*=ja),r=n*Math.cos(t),i=n*Math.sin(t),o=Math.sin(e),a=p*o-g*i,s=g*r-d*o,u=d*i-p*r,c=Math.sqrt(a*a+s*s+u*u),l=d*r+p*i+g*o,f=c&&-tt(l)/c,h=Math.atan2(c,l);Ds+=f*a,Rs+=f*s,Is+=f*u,Cs+=h,Ls+=h*(d+(d=r)),Ps+=h*(p+(p=i)),Ns+=h*(g+(g=o)),Te(d,p,g)}var i,o,d,p,g;Os.point=function(t,e){i=t,o=e,Os.point=r,t*=ja;var n=Math.cos(e*=ja);d=n*Math.cos(t),p=n*Math.sin(t),g=Math.sin(e),Te(d,p,g)},Os.lineEnd=function(){r(i,o),Os.lineEnd=Ce,Os.point=Se}}function ke(n,r){function t(t,e){return t=n(t,e),r(t[0],t[1])}return n.invert&&r.invert&&(t.invert=function(t,e){return(t=r.invert(t,e))&&n.invert(t[0],t[1])}),t}function Ee(){return!0}function Le(t,e,n,r,s){var u=[],c=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(we(n,r)){s.lineStart();for(var i=0;i<e;++i)s.point((n=t[i])[0],n[1]);return void s.lineEnd()}var o=new Ne(n,t,null,!0),a=new Ne(n,null,o,!1);o.o=a,u.push(o),c.push(a),a=new Ne(r,null,o=new Ne(r,t,null,!1),!0),o.o=a,u.push(o),c.push(a)}}),c.sort(e),Pe(u),Pe(c),u.length){for(var i=0,o=n,a=c.length;i<a;++i)c[i].e=o=!o;for(var l,f,h=u[0];;){for(var d=h,p=!0;d.v;)if((d=d.n)===h)return;l=d.z,s.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(i=0,a=l.length;i<a;++i)s.point((f=l[i])[0],f[1]);else r(d.x,d.n.x,1,s);d=d.n}else{if(p)for(i=(l=d.p.z).length-1;0<=i;--i)s.point((f=l[i])[0],f[1]);else r(d.x,d.p.x,-1,s);d=d.p}l=(d=d.o).z,p=!p}while(!d.v);s.lineEnd()}}}function Pe(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Ne(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function De(m,x,_,b){return function(r,a){function e(t,e){var n=r(t,e);m(t=n[0],e=n[1])&&a.point(t,e)}function t(t,e){var n=r(t,e);h.point(n[0],n[1])}function n(){p.point=t,h.lineStart()}function i(){p.point=e,h.lineEnd()}function s(t,e){f.push([t,e]);var n=r(t,e);v.point(n[0],n[1])}function o(){v.lineStart(),f=[]}function u(){s(f[0][0],f[0][1]),v.lineEnd();var t,e=v.clean(),n=g.buffer(),r=n.length;if(f.pop(),l.push(f),f=null,r)if(1&e){var i,o=-1;if(0<(r=(t=n[0]).length-1)){for(y||(a.polygonStart(),y=!0),a.lineStart();++o<r;)a.point((i=t[o])[0],i[1]);a.lineEnd()}}else 1<r&&2&e&&n.push(n.pop().concat(n.shift())),c.push(n.filter(Re))}var c,l,f,h=x(a),d=r.invert(b[0],b[1]),p={point:e,lineStart:n,lineEnd:i,polygonStart:function(){p.point=s,p.lineStart=o,p.lineEnd=u,c=[],l=[]},polygonEnd:function(){p.point=e,p.lineStart=n,p.lineEnd=i,c=ua.merge(c);var t=ze(d,l);c.length?(y||(a.polygonStart(),y=!0),Le(c,Oe,t,_,a)):t&&(y||(a.polygonStart(),y=!0),a.lineStart(),_(null,null,1,a),a.lineEnd()),y&&(a.polygonEnd(),y=!1),c=l=null},sphere:function(){a.polygonStart(),a.lineStart(),_(null,null,1,a),a.lineEnd(),a.polygonEnd()}},g=Ie(),v=x(g),y=!1;return p}}function Re(t){return 1<t.length}function Ie(){var n,e=[];return{lineStart:function(){e.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:_,buffer:function(){var t=e;return e=[],n=null,t},rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))}}}function Oe(t,e){return((t=t.x)[0]<0?t[1]-za-Ia:za-t[1])-((e=e.x)[0]<0?e[1]-za-Ia:za-e[1])}function Fe(i){var o,a=NaN,s=NaN,u=NaN;return{lineStart:function(){i.lineStart(),o=1},point:function(t,e){var n=0<t?Fa:-Fa,r=ma(t-a);ma(r-Fa)<Ia?(i.point(a,s=0<(s+e)/2?za:-za),i.point(u,s),i.lineEnd(),i.lineStart(),i.point(n,s),i.point(t,s),o=0):u!==n&&Fa<=r&&(ma(a-u)<Ia&&(a-=u*Ia),ma(t-n)<Ia&&(t-=n*Ia),s=Ve(a,s,t,e),i.point(u,s),i.lineEnd(),i.lineStart(),i.point(n,s),o=0),i.point(a=t,s=e),u=n},lineEnd:function(){i.lineEnd(),a=s=NaN},clean:function(){return 2-o}}}function Ve(t,e,n,r){var i,o,a=Math.sin(t-n);return ma(a)>Ia?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}function Ge(t,e,n,r){var i;if(null==t)i=n*za,r.point(-Fa,i),r.point(0,i),r.point(Fa,i),r.point(Fa,0),r.point(Fa,-i),r.point(0,-i),r.point(-Fa,-i),r.point(-Fa,0),r.point(-Fa,i);else if(ma(t[0]-e[0])>Ia){var o=t[0]<e[0]?Fa:-Fa;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)
}else r.point(e[0],e[1])}function ze(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Ss.reset();for(var s=0,u=e.length;s<u;++s){var c=e[s],l=c.length;if(l)for(var f=c[0],h=f[0],d=f[1]/2+Fa/4,p=Math.sin(d),g=Math.cos(d),v=1;;){v===l&&(v=0);var y=(t=c[v])[0],m=t[1]/2+Fa/4,x=Math.sin(m),_=Math.cos(m),b=y-h,w=0<=b?1:-1,S=w*b,T=Fa<S,M=p*x;if(Ss.add(Math.atan2(M*w*Math.sin(S),g*_+M*Math.cos(S))),o+=T?b+w*Va:b,T^n<=h^n<=y){var C=ye(ge(f),ge(t));_e(C);var A=ye(i,C);_e(A);var k=(T^0<=b?-1:1)*et(A[2]);(k<r||r===k&&(C[0]||C[1]))&&(a+=T^0<=b?1:-1)}if(!v++)break;h=y,p=x,g=_,f=t}}return(o<-Ia||o<Ia&&Ss<-Ia)^1&a}function je(i){function d(t,e){return Math.cos(t)*Math.cos(e)>C}function t(s){var u,c,l,f,h;return{lineStart:function(){f=l=!1,h=1},point:function(t,e){var n,r=[t,e],i=d(t,e),o=v?i?0:g(t,e):i?g(t+(t<0?Fa:-Fa),e):0;if(!u&&(f=l=i)&&s.lineStart(),i!==l&&(n=p(u,r),(we(u,n)||we(r,n))&&(r[0]+=Ia,r[1]+=Ia,i=d(r[0],r[1]))),i!==l)h=0,i?(s.lineStart(),n=p(r,u),s.point(n[0],n[1])):(n=p(u,r),s.point(n[0],n[1]),s.lineEnd()),u=n;else if(y&&u&&v^i){var a;o&c||!(a=p(r,u,!0))||(h=0,v?(s.lineStart(),s.point(a[0][0],a[0][1]),s.point(a[1][0],a[1][1]),s.lineEnd()):(s.point(a[1][0],a[1][1]),s.lineEnd(),s.lineStart(),s.point(a[0][0],a[0][1])))}!i||u&&we(u,r)||s.point(r[0],r[1]),u=r,l=i,c=o},lineEnd:function(){l&&s.lineEnd(),u=null},clean:function(){return h|(f&&l)<<1}}}function p(t,e,n){var r=[1,0,0],i=ye(ge(t),ge(e)),o=ve(i,i),a=i[0],s=o-a*a;if(!s)return!n&&t;var u=C*o/s,c=-C*a/s,l=ye(r,i),f=xe(r,u);me(f,xe(i,c));var h=l,d=ve(f,h),p=ve(h,h),g=d*d-p*(ve(f,f)-1);if(!(g<0)){var v=Math.sqrt(g),y=xe(h,(-d-v)/p);if(me(y,f),y=be(y),!n)return y;var m,x=t[0],_=e[0],b=t[1],w=e[1];_<x&&(m=x,x=_,_=m);var S=_-x,T=ma(S-Fa)<Ia;if(!T&&w<b&&(m=b,b=w,w=m),T||S<Ia?T?0<b+w^y[1]<(ma(y[0]-x)<Ia?b:w):b<=y[1]&&y[1]<=w:Fa<S^(x<=y[0]&&y[0]<=_)){var M=xe(h,(-d+v)/p);return me(M,f),[y,be(M)]}}}function g(t,e){var n=v?i:Fa-i,r=0;return t<-n?r|=1:n<t&&(r|=2),e<-n?r|=4:n<e&&(r|=8),r}var C=Math.cos(i),v=0<C,y=ma(C)>Ia;return De(d,t,gn(i,6*ja),v?[0,-i]:[-Fa,i-Fa])}function He(l,f,h,d){return function(t){var e,n=t.a,r=t.b,i=n.x,o=n.y,a=0,s=1,u=r.x-i,c=r.y-o;if(e=l-i,u||!(0<e)){if(e/=u,u<0){if(e<a)return;e<s&&(s=e)}else if(0<u){if(s<e)return;a<e&&(a=e)}if(e=h-i,u||!(e<0)){if(e/=u,u<0){if(s<e)return;a<e&&(a=e)}else if(0<u){if(e<a)return;e<s&&(s=e)}if(e=f-o,c||!(0<e)){if(e/=c,c<0){if(e<a)return;e<s&&(s=e)}else if(0<c){if(s<e)return;a<e&&(a=e)}if(e=d-o,c||!(e<0)){if(e/=c,c<0){if(s<e)return;a<e&&(a=e)}else if(0<c){if(e<a)return;e<s&&(s=e)}return 0<a&&(t.a={x:i+a*u,y:o+a*c}),s<1&&(t.b={x:i+s*u,y:o+s*c}),t}}}}}}function qe(S,T,M,C){function A(t,e){return ma(t[0]-S)<Ia?0<e?0:3:ma(t[0]-M)<Ia?0<e?2:1:ma(t[1]-T)<Ia?0<e?1:0:0<e?3:2}function k(t,e){return E(t.x,e.x)}function E(t,e){var n=A(t,1),r=A(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(i){function r(t){for(var e=0,n=l.length,r=t[1],i=0;i<n;++i)for(var o,a=1,s=l[i],u=s.length,c=s[0];a<u;++a)o=s[a],c[1]<=r?o[1]>r&&0<J(c,o,t)&&++e:o[1]<=r&&J(c,o,t)<0&&--e,c=o;return 0!==e}function o(t,e,n,r){var i=0,o=0;if(null==t||(i=A(t,n))!==(o=A(e,n))||E(t,e)<0^0<n)for(;r.point(0===i||3===i?S:M,1<i?C:T),(i=(i+n+4)%4)!==o;);else r.point(e[0],e[1])}function a(t,e){return S<=t&&t<=M&&T<=e&&e<=C}function t(t,e){a(t,e)&&i.point(t,e)}function e(){w.point=s,l&&l.push(c=[]),v=!(y=!0),p=g=NaN}function n(){u&&(s(f,h),d&&v&&_.rejoin(),u.push(_.buffer())),w.point=t,v&&i.lineEnd()}function s(t,e){var n=a(t=Math.max(-Vs,Math.min(Vs,t)),e=Math.max(-Vs,Math.min(Vs,e)));if(l&&c.push([t,e]),y)f=t,h=e,y=!1,(d=n)&&(i.lineStart(),i.point(t,e));else if(n&&v)i.point(t,e);else{var r={a:{x:p,y:g},b:{x:t,y:e}};b(r)?(v||(i.lineStart(),i.point(r.a.x,r.a.y)),i.point(r.b.x,r.b.y),n||i.lineEnd(),m=!1):n&&(i.lineStart(),i.point(t,e),m=!1)}p=t,g=e,v=n}var u,l,c,f,h,d,p,g,v,y,m,x=i,_=Ie(),b=He(S,T,M,C),w={point:t,lineStart:e,lineEnd:n,polygonStart:function(){i=_,u=[],l=[],m=!0},polygonEnd:function(){i=x,u=ua.merge(u);var t=r([S,C]),e=m&&t,n=u.length;(e||n)&&(i.polygonStart(),e&&(i.lineStart(),o(null,null,1,i),i.lineEnd()),n&&Le(u,k,t,o,i),i.polygonEnd()),u=l=c=null}};return w}}function Be(t){var e=0,n=Fa/3,r=sn(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Fa/180,n=t[1]*Fa/180):[e/Fa*180,n/Fa*180]},i}function Ue(t,e){function n(t,e){var n=Math.sqrt(o-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),a-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,et((o-(t*t+n*n)*i*i)/(2*i))]},n}function Xe(){function n(t,e){zs+=a*t-o*e,o=t,a=e}var r,i,o,a;Us.point=function(t,e){Us.point=n,r=o=t,i=a=e},Us.lineEnd=function(){n(r,i)}}function $e(t,e){t<js&&(js=t),qs<t&&(qs=t),e<Hs&&(Hs=e),Bs<e&&(Bs=e)}function Ye(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function i(){a.push("Z")}var o=We(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return o=We(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function We(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Qe(t,e){As+=t,ks+=e,++Es}function Ze(){function n(t,e){var n=t-o,r=e-a,i=Math.sqrt(n*n+r*r);Ls+=i*(o+t)/2,Ps+=i*(a+e)/2,Ns+=i,Qe(o=t,a=e)}var o,a;$s.point=function(t,e){$s.point=n,Qe(o=t,a=e)}}function Ke(){$s.point=Qe}function Je(){function n(t,e){var n=t-o,r=e-a,i=Math.sqrt(n*n+r*r);Ls+=i*(o+t)/2,Ps+=i*(a+e)/2,Ns+=i,Ds+=(i=a*t-o*e)*(o+t),Rs+=i*(a+e),Is+=3*i,Qe(o=t,a=e)}var r,i,o,a;$s.point=function(t,e){$s.point=n,Qe(r=o=t,i=a=e)},$s.lineEnd=function(){n(r,i)}}function tn(n){function t(t,e){n.moveTo(t+a,e),n.arc(t,e,a,0,Va)}function e(t,e){n.moveTo(t,e),s.point=r}function r(t,e){n.lineTo(t,e)}function i(){s.point=t}function o(){n.closePath()}var a=4.5,s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return a=t,s},result:_};return s}function en(E){function e(t){return(b?r:n)(t)}function n(n){return on(n,function(t,e){t=E(t,e),n.point(t[0],t[1])})}function r(i){function t(t,e){t=E(t,e),i.point(t[0],t[1])}function e(){g=NaN,_.point=n,i.lineStart()}function n(t,e){var n=ge([t,e]),r=E(t,e);L(g,v,p,y,m,x,g=r[0],v=r[1],p=t,y=n[0],m=n[1],x=n[2],b,i),i.point(g,v)}function r(){_.point=t,i.lineEnd()}function o(){e(),_.point=a,_.lineEnd=s}function a(t,e){n(u=t,e),c=g,l=v,f=y,h=m,d=x,_.point=n}function s(){L(g,v,p,y,m,x,c,l,u,f,h,d,b,i),(_.lineEnd=r)()}var u,c,l,f,h,d,p,g,v,y,m,x,_={point:t,lineStart:e,lineEnd:r,polygonStart:function(){i.polygonStart(),_.lineStart=o},polygonEnd:function(){i.polygonEnd(),_.lineStart=e}};return _}function L(t,e,n,r,i,o,a,s,u,c,l,f,h,d){var p=a-t,g=s-e,v=p*p+g*g;if(4*P<v&&h--){var y=r+c,m=i+l,x=o+f,_=Math.sqrt(y*y+m*m+x*x),b=Math.asin(x/=_),w=ma(ma(x)-1)<Ia||ma(n-u)<Ia?(n+u)/2:Math.atan2(m,y),S=E(w,b),T=S[0],M=S[1],C=T-t,A=M-e,k=g*C-p*A;(P<k*k/v||.3<ma((p*C+g*A)/v-.5)||r*c+i*l+o*f<N)&&(L(t,e,n,r,i,o,T,M,w,y/=_,m/=_,x,h,d),d.point(T,M),L(T,M,w,y,m,x,a,s,u,c,l,f,h,d))}}var P=.5,N=Math.cos(30*ja),b=16;return e.precision=function(t){return arguments.length?(b=0<(P=t*t)&&16,e):Math.sqrt(P)},e}function nn(n){var e=en(function(t,e){return n([t*Ha,e*Ha])});return function(t){return un(e(t))}}function rn(t){this.stream=t}function on(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function an(t){return sn(function(){return t})()}function sn(t){function e(t){return[(t=s(t[0]*ja,t[1]*ja))[0]*h+u,c-t[1]*h]}function n(t){return(t=s.invert((t[0]-u)/h,(c-t[1])/h))&&[t[0]*Ha,t[1]*Ha]}function r(){s=ke(a=fn(y,m,x),o);var t=o(g,v);return u=d-t[0]*h,c=p+t[1]*h,i()}function i(){return l&&(l.valid=!1,l=null),e}var o,a,s,u,c,l,f=en(function(t,e){return[(t=o(t,e))[0]*h+u,c-t[1]*h]}),h=150,d=480,p=250,g=0,v=0,y=0,m=0,x=0,_=Fs,b=I,w=null,S=null;return e.stream=function(t){return l&&(l.valid=!1),(l=un(_(a,f(b(t))))).valid=!0,l},e.clipAngle=function(t){return arguments.length?(_=null==t?(w=t,Fs):je((w=+t)*ja),i()):w},e.clipExtent=function(t){return arguments.length?(b=(S=t)?qe(t[0][0],t[0][1],t[1][0],t[1][1]):I,i()):S},e.scale=function(t){return arguments.length?(h=+t,r()):h},e.translate=function(t){return arguments.length?(d=+t[0],p=+t[1],r()):[d,p]},e.center=function(t){return arguments.length?(g=t[0]%360*ja,v=t[1]%360*ja,r()):[g*Ha,v*Ha]},e.rotate=function(t){return arguments.length?(y=t[0]%360*ja,m=t[1]%360*ja,x=2<t.length?t[2]%360*ja:0,r()):[y*Ha,m*Ha,x*Ha]},ua.rebind(e,f,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,r()}}function un(n){return on(n,function(t,e){n.point(t*ja,e*ja)})}function cn(t,e){return[t,e]}function ln(t,e){return[Fa<t?t-Va:t<-Fa?t+Va:t,e]}function fn(t,e,n){return t?e||n?ke(dn(t),pn(e,n)):dn(t):e||n?pn(e,n):ln}function hn(n){return function(t,e){return[Fa<(t+=n)?t-Va:t<-Fa?t+Va:t,e]}}function dn(t){var e=hn(t);return e.invert=hn(-t),e}function pn(t,e){function n(t,e){var n=Math.cos(e),r=Math.cos(t)*n,i=Math.sin(t)*n,o=Math.sin(e),a=o*s+r*u;return[Math.atan2(i*c-a*l,r*s-o*u),et(a*c+i*l)]}var s=Math.cos(t),u=Math.sin(t),c=Math.cos(e),l=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),r=Math.cos(t)*n,i=Math.sin(t)*n,o=Math.sin(e),a=o*c-i*l;return[Math.atan2(i*c+o*l,r*s+a*u),et(a*s-r*u)]},n}function gn(s,u){var c=Math.cos(s),l=Math.sin(s);return function(t,e,n,r){var i=n*u;null!=t?(t=vn(c,t),e=vn(c,e),(0<n?t<e:e<t)&&(t+=n*Va)):(t=s+n*Va,e=s-.5*i);for(var o,a=t;0<n?e<a:a<e;a-=i)r.point((o=be([c,-l*Math.cos(a),-l*Math.sin(a)]))[0],o[1])}}function vn(t,e){var n=ge(e);n[0]-=t,_e(n);var r=tt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ia)%(2*Math.PI)}function yn(t,e,n){var r=ua.range(t,e-Ia,n).concat(e);return function(e){return r.map(function(t){return[e,t]})}}function mn(t,e,n){var r=ua.range(t,e-Ia,n).concat(e);return function(e){return r.map(function(t){return[t,e]})}}function xn(t){return t.source}function _n(t){return t.target}function bn(t,e,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(r),s=Math.sin(r),u=i*Math.cos(t),c=i*Math.sin(t),l=o*Math.cos(n),f=o*Math.sin(n),h=2*Math.asin(Math.sqrt(ot(r-e)+i*o*ot(n-t))),d=1/Math.sin(h),p=h?function(t){var e=Math.sin(t*=h)*d,n=Math.sin(h-t)*d,r=n*u+e*l,i=n*c+e*f,o=n*a+e*s;return[Math.atan2(i,r)*Ha,Math.atan2(o,Math.sqrt(r*r+i*i))*Ha]}:function(){return[t*Ha,e*Ha]};return p.distance=h,p}function wn(){function n(t,e){var n=Math.sin(e*=ja),r=Math.cos(e),i=ma((t*=ja)-a),o=Math.cos(i);Ys+=Math.atan2(Math.sqrt((i=r*Math.sin(i))*i+(i=u*n-s*r*o)*i),s*n+u*r*o),a=t,s=n,u=r}var a,s,u;Ws.point=function(t,e){a=t*ja,s=Math.sin(e*=ja),u=Math.cos(e),Ws.point=n},Ws.lineEnd=function(){Ws.point=Ws.lineEnd=_}}function Sn(o,a){function t(t,e){var n=Math.cos(t),r=Math.cos(e),i=o(n*r);return[i*r*Math.sin(t),i*Math.sin(e)]}return t.invert=function(t,e){var n=Math.sqrt(t*t+e*e),r=a(n),i=Math.sin(r),o=Math.cos(r);return[Math.atan2(t*i,n*o),Math.asin(n&&e*i/n)]},t}function Tn(t,e){function n(t,e){0<a?e<-za+Ia&&(e=-za+Ia):za-Ia<e&&(e=za-Ia);var n=a/Math.pow(i(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(Fa/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),a=r*Math.pow(i(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,r=K(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/r,1/o))-za]},n):Cn}function Mn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/i+t;return ma(i)<Ia?cn:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,o-K(i)*Math.sqrt(t*t+n*n)]},n)}function Cn(t,e){return[t,Math.log(Math.tan(Fa/4+e/2))]}function An(t){var i,o=an(t),a=o.scale,s=o.translate,u=o.clipExtent;return o.scale=function(){var t=a.apply(o,arguments);return t===o?i?o.clipExtent(null):o:t},o.translate=function(){var t=s.apply(o,arguments);return t===o?i?o.clipExtent(null):o:t},o.clipExtent=function(t){var e=u.apply(o,arguments);if(e===o){if(i=null==t){var n=Fa*a(),r=s();u([[r[0]-n,r[1]-n],[r[0]+n,r[1]+n]])}}else i&&(e=null);return e},o.clipExtent(null)}function kn(t,e){return[Math.log(Math.tan(Fa/4+e/2)),-t]}function En(t){return t[0]}function Ln(t){return t[1]}function Pn(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;1<r&&J(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Nn(t,e){return t[0]-e[0]||t[1]-e[1]}function Dn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Rn(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,u=t[1],c=n[1],l=e[1]-u,f=r[1]-c,h=(s*(u-c)-f*(i-o))/(f*a-s*l);return[i+h*a,u+h*l]}function In(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function On(){rr(this),this.edge=this.site=this.circle=null}function Fn(t){var e=su.pop()||new On;return e.site=t,e}function Vn(t){Yn(t),iu.remove(t),su.push(t),rr(t)}function Gn(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];Vn(t);for(var u=o;u.circle&&ma(n-u.circle.x)<Ia&&ma(r-u.circle.cy)<Ia;)o=u.P,s.unshift(u),Vn(u),u=o;s.unshift(u),Yn(u);for(var c=a;c.circle&&ma(n-c.circle.x)<Ia&&ma(r-c.circle.cy)<Ia;)a=c.N,s.push(c),Vn(c),c=a;s.push(c),Yn(c);var l,f=s.length;for(l=1;l<f;++l)c=s[l],u=s[l-1],tr(c.edge,u.site,c.site,i);u=s[0],(c=s[f-1]).edge=Kn(u.site,c.site,null,i),$n(u),$n(c)}function zn(t){for(var e,n,r,i,o=t.x,a=t.y,s=iu._;s;)if(r=jn(s,a)-o,Ia<r)s=s.L;else{if(i=o-Hn(s,a),!(Ia<i)){-Ia<r?(e=s.P,n=s):-Ia<i?n=(e=s).N:e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=Fn(t);if(iu.insert(e,u),e||n){if(e===n)return Yn(e),n=Fn(e.site),iu.insert(u,n),u.edge=n.edge=Kn(e.site,u.site),$n(e),void $n(n);if(!n)return void(u.edge=Kn(e.site,u.site));Yn(e),Yn(n);var c=e.site,l=c.x,f=c.y,h=t.x-l,d=t.y-f,p=n.site,g=p.x-l,v=p.y-f,y=2*(h*v-d*g),m=h*h+d*d,x=g*g+v*v,_={x:(v*m-d*x)/y+l,y:(h*x-g*m)/y+f};tr(n.edge,c,p,_),u.edge=Kn(c,t,null,_),n.edge=Kn(t,p,null,_),$n(e),$n(n)}}function jn(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site).x,u=n.y,c=u-e;if(!c)return s;var l=s-r,f=1/o-1/c,h=l/c;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*c)-u+c/2+i-o/2)))/f+r:(r+s)/2}function Hn(t,e){var n=t.N;if(n)return jn(n,e);var r=t.site;return r.y===e?r.x:1/0}function qn(t){this.site=t,this.edges=[]}function Bn(t){for(var e,n,r,i,o,a,s,u,c,l,f=t[0][0],h=t[1][0],d=t[0][1],p=t[1][1],g=ru,v=g.length;v--;)if((o=g[v])&&o.prepare())for(u=(s=o.edges).length,a=0;a<u;)r=(l=s[a].end()).x,i=l.y,e=(c=s[++a%u].start()).x,n=c.y,(ma(r-e)>Ia||ma(i-n)>Ia)&&(s.splice(a,0,new er(Jn(o.site,l,ma(r-f)<Ia&&Ia<p-i?{x:f,y:ma(e-f)<Ia?n:p}:ma(i-p)<Ia&&Ia<h-r?{x:ma(n-p)<Ia?e:h,y:p}:ma(r-h)<Ia&&Ia<i-d?{x:h,y:ma(e-h)<Ia?n:d}:ma(i-d)<Ia&&Ia<r-f?{x:ma(n-d)<Ia?e:f,y:d}:null),o.site,null)),++u)}function Un(t,e){return e.angle-t.angle}function Xn(){rr(this),this.x=this.y=this.arc=this.site=this.cy=null}function $n(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,c=r.y-s,l=o.x-a,f=2*(u*(v=o.y-s)-c*l);if(!(-Oa<=f)){var h=u*u+c*c,d=l*l+v*v,p=(v*h-c*d)/f,g=(u*d-l*h)/f,v=g+s,y=uu.pop()||new Xn;y.arc=t,y.site=i,y.x=p+a,y.y=v+Math.sqrt(p*p+g*g),y.cy=v,t.circle=y;for(var m=null,x=au._;x;)if(y.y<x.y||y.y===x.y&&y.x<=x.x){if(!x.L){m=x.P;break}x=x.L}else{if(!x.R){m=x;break}x=x.R}au.insert(m,y),m||(ou=y)}}}}function Yn(t){var e=t.circle;e&&(e.P||(ou=e.N),au.remove(e),uu.push(e),rr(e),t.circle=null)}function Wn(t){for(var e,n=nu,r=He(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)(!Qn(e=n[i],t)||!r(e)||ma(e.a.x-e.b.x)<Ia&&ma(e.a.y-e.b.y)<Ia)&&(e.a=e.b=null,n.splice(i,1))}function Qn(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],c=e[1][1],l=t.l,f=t.r,h=l.x,d=l.y,p=f.x,g=f.y,v=(h+p)/2,y=(d+g)/2;if(g===d){if(v<a||s<=v)return;if(p<h){if(o){if(o.y>=c)return}else o={x:v,y:u};n={x:v,y:c}}else{if(o){if(o.y<u)return}else o={x:v,y:c};n={x:v,y:u}}}else if(i=y-(r=(h-p)/(g-d))*v,r<-1||1<r)if(p<h){if(o){if(o.y>=c)return}else o={x:(u-i)/r,y:u};n={x:(c-i)/r,y:c}}else{if(o){if(o.y<u)return}else o={x:(c-i)/r,y:c};n={x:(u-i)/r,y:u}}else if(d<g){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function Zn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Kn(t,e,n,r){var i=new Zn(t,e);return nu.push(i),n&&tr(i,t,e,n),r&&tr(i,e,t,r),ru[t.i].edges.push(new er(i,t,e)),ru[e.i].edges.push(new er(i,e,t)),i}function Jn(t,e,n){var r=new Zn(t,null);return r.a=e,r.b=n,nu.push(r),r}function tr(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function er(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function nr(){this._=null}function rr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ir(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function or(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ar(t){for(;t.L;)t=t.L;return t}function sr(t,e){var n,r,i,o=t.sort(ur).pop();for(nu=[],ru=new Array(t.length),iu=new nr,au=new nr;;)if(i=ou,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(ru[o.i]=new qn(o),zn(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;Gn(i.arc)}e&&(Wn(e),Bn(e));var a={cells:ru,edges:nu};return iu=au=nu=ru=null,a}function ur(t,e){return e.y-t.y||e.x-t.x}function cr(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function lr(t){return t.x}function fr(t){return t.y}function hr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function dr(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),u=e.nodes;u[0]&&dr(t,u[0],n,r,a,s),u[1]&&dr(t,u[1],a,r,i,s),u[2]&&dr(t,u[2],n,s,a,o),u[3]&&dr(t,u[3],a,s,i,o)}}function pr(e,v,y,m,x,_,b){var w,S=1/0;return function t(e,n,r,i,o){if(!(_<n||b<r||i<m||o<x)){if(a=e.point){var a,s=v-e.x,u=y-e.y,c=s*s+u*u;if(c<S){var l=Math.sqrt(S=c);m=v-l,x=y-l,_=v+l,b=y+l,w=a}}for(var f=e.nodes,h=.5*(n+i),d=.5*(r+o),p=(d<=y)<<1|h<=v,g=p+4;p<g;++p)if(e=f[3&p])switch(3&p){case 0:t(e,n,r,h,d);break;case 1:t(e,h,r,i,d);break;case 2:t(e,n,d,h,o);break;case 3:t(e,h,d,i,o)}}}(e,m,x,_,b),w}function gr(t,e){t=ua.rgb(t),e=ua.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,s=e.b-i;return function(t){return"#"+_t(Math.round(n+o*t))+_t(Math.round(r+a*t))+_t(Math.round(i+s*t))}}function vr(t,e){var n,r={},i={};for(n in t)n in e?r[n]=xr(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function yr(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function mr(t,r){var e,n,i,o=lu.lastIndex=fu.lastIndex=0,a=-1,s=[],u=[];for(t+="",r+="";(e=lu.exec(t))&&(n=fu.exec(r));)(i=n.index)>o&&(i=r.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(e=e[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,u.push({i:a,x:yr(e,n)})),o=fu.lastIndex;return o<r.length&&(i=r.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?(r=u[0].x,function(t){return r(t)+""}):function(){return r}:(r=u.length,function(t){for(var e,n=0;n<r;++n)s[(e=u[n]).i]=e.x(t);return s.join("")})}function xr(t,e){for(var n,r=ua.interpolators.length;0<=--r&&!(n=ua.interpolators[r](t,e)););return n}function _r(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(xr(t[n],e[n]));for(;n<o;++n)i[n]=t[n];for(;n<a;++n)i[n]=e[n];return function(t){for(n=0;n<s;++n)i[n]=r[n](t);return i}}function br(e){return function(t){return t<=0?0:1<=t?1:e(t)}}function wr(e){return function(t){return 1-e(1-t)}}function Sr(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Tr(t){return t*t}function Mr(t){return t*t*t}function Cr(t){if(t<=0)return 0;if(1<=t)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Ar(e){return function(t){return Math.pow(t,e)}}function kr(t){return 1-Math.cos(t*za)}function Er(t){return Math.pow(2,10*(t-1))}function Lr(t){return 1-Math.sqrt(1-t*t)}function Pr(e,n){var r;return arguments.length<2&&(n=.45),arguments.length?r=n/Va*Math.asin(1/e):(e=1,r=n/4),function(t){return 1+e*Math.pow(2,-10*t)*Math.sin((t-r)*Va/n)}}function Nr(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Dr(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Rr(t,e){t=ua.hcl(t),e=ua.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,a=e.c-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360),function(t){return lt(n+o*t,r+a*t,i+s*t)+""}}function Ir(t,e){t=ua.hsl(t),e=ua.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360),function(t){return ut(n+o*t,r+a*t,i+s*t)+""}}function Or(t,e){t=ua.lab(t),e=ua.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,a=e.a-r,s=e.b-i;return function(t){return ht(n+o*t,r+a*t,i+s*t)+""}}function Fr(e,n){return n-=e,function(t){return Math.round(e+n*t)}}function Vr(t){var e=[t.a,t.b],n=[t.c,t.d],r=zr(e),i=Gr(e,n),o=zr(jr(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ha,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Ha:0}function Gr(t,e){return t[0]*e[0]+t[1]*e[1]}function zr(t){var e=Math.sqrt(Gr(t,t));return e&&(t[0]/=e,t[1]/=e),e}function jr(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Hr(t){return t.length?t.pop()+",":""}function qr(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:yr(t[0],e[0])},{i:i-2,x:yr(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function Br(t,e,n,r){t!==e?(180<t-e?e+=360:180<e-t&&(t+=360),r.push({i:n.push(Hr(n)+"rotate(",null,")")-2,x:yr(t,e)})):e&&n.push(Hr(n)+"rotate("+e+")")}function Ur(t,e,n,r){t!==e?r.push({i:n.push(Hr(n)+"skewX(",null,")")-2,x:yr(t,e)}):e&&n.push(Hr(n)+"skewX("+e+")")}function Xr(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(Hr(n)+"scale(",null,",",null,")");r.push({i:i-4,x:yr(t[0],e[0])},{i:i-2,x:yr(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Hr(n)+"scale("+e+")")}function $r(t,e){var i=[],o=[];return t=ua.transform(t),e=ua.transform(e),qr(t.translate,e.translate,i,o),Br(t.rotate,e.rotate,i,o),Ur(t.skew,e.skew,i,o),Xr(t.scale,e.scale,i,o),t=e=null,function(t){for(var e,n=-1,r=o.length;++n<r;)i[(e=o[n]).i]=e.x(t);return i.join("")}}function Yr(e,n){return n=(n-=e=+e)||1/n,function(t){return(t-e)/n}}function Wr(e,n){return n=(n-=e=+e)||1/n,function(t){return Math.max(0,Math.min(1,(t-e)/n))}}function Qr(t){for(var e=t.source,n=t.target,r=Kr(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Zr(t){for(var e=[],n=t.parent;null!=n;)e.push(t),n=(t=n).parent;return e.push(t),e}function Kr(t,e){if(t===e)return t;for(var n=Zr(t),r=Zr(e),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function Jr(t){t.fixed|=2}function ti(t){t.fixed&=-7}function ei(t){t.fixed|=4,t.px=t.x,t.py=t.y}function ni(t){t.fixed&=-5}function ri(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,u=-1;++u<s;)null!=(o=a[u])&&(ri(o,e,n),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*n[t.point.index];t.charge+=t.pointCharge=c,r+=c*t.point.x,i+=c*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function ii(t,e){return ua.rebind(t,e,"sort","children","value"),(t.nodes=t).links=li,t}function oi(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;0<=--r;)n.push(i[r])}function ai(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function si(t){return t.children}function ui(t){return t.value}function ci(t,e){return e.value-t.value}function li(t){return ua.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function fi(t){return t.x}function hi(t){return t.y}function di(t,e,n){t.y0=e,t.y=n}function pi(t){return ua.range(t.length)}function gi(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function vi(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function yi(t){return t.reduce(mi,0)}function mi(t,e){return t+e[1]}function xi(t,e){return _i(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function _i(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function bi(t){return[ua.min(t),ua.max(t)]}function wi(t,e){return t.value-e.value}function Si(t,e){var n=t._pack_next;(t._pack_next=e)._pack_prev=t,(e._pack_next=n)._pack_prev=e}function Ti(t,e){(t._pack_next=e)._pack_prev=t}function Mi(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return n*n+r*r<.999*i*i}function Ci(t){function e(t){l=Math.min(t.x-t.r,l),f=Math.max(t.x+t.r,f),h=Math.min(t.y-t.r,h),d=Math.max(t.y+t.r,d)}if((n=t.children)&&(c=n.length)){var n,r,i,o,a,s,u,c,l=1/0,f=-1/0,h=1/0,d=-1/0;if(n.forEach(Ai),(r=n[0]).x=-r.r,r.y=0,e(r),1<c&&((i=n[1]).x=i.r,i.y=0,e(i),2<c))for(Li(r,i,o=n[2]),e(o),Si(r,o),Si(r._pack_prev=o,i),i=r._pack_next,a=3;a<c;a++){Li(r,i,o=n[a]);var p=0,g=1,v=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(Mi(s,o)){p=1;break}if(1==p)for(u=r._pack_prev;u!==s._pack_prev&&!Mi(u,o);u=u._pack_prev,v++);p?(g<v||g==v&&i.r<r.r?Ti(r,i=s):Ti(r=u,i),a--):(Si(r,o),e(i=o))}var y=(l+f)/2,m=(h+d)/2,x=0;for(a=0;a<c;a++)(o=n[a]).x-=y,o.y-=m,x=Math.max(x,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=x,n.forEach(ki)}}function Ai(t){t._pack_next=t._pack_prev=t}function ki(t){delete t._pack_next,delete t._pack_prev}function Ei(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var o=-1,a=i.length;++o<a;)Ei(i[o],e,n,r)}function Li(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o,u=.5+((r*=r)-(a*=a))/(2*s),c=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+u*i+c*o,n.y=t.y+u*o-c*i}else n.x=t.x+r,n.y=t.y}function Pi(t,e){return t.parent==e.parent?1:2}function Ni(t){var e=t.children;return e.length?e[0]:t.t}function Di(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Ri(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Ii(t){for(var e,n=0,r=0,i=t.children,o=i.length;0<=--o;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}function Oi(t,e,n){return t.a.parent===e.parent?t.a:n}function Fi(t){return 1+ua.max(t,function(t){return t.y})}function Vi(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Gi(t){var e=t.children;return e&&e.length?Gi(e[0]):t}function zi(t){var e,n=t.children;return n&&(e=n.length)?zi(n[e-1]):t}function ji(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Hi(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function qi(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Bi(t){return t.rangeExtent?t.rangeExtent():qi(t.range())}function Ui(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function Xi(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function $i(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:wu}function Yi(n,t,e,r){var i=[],o=[],a=0,s=Math.min(n.length,t.length)-1;for(n[s]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<=s;)i.push(e(n[a-1],n[a])),o.push(r(t[a-1],t[a]));return function(t){var e=ua.bisect(n,t,1,s)-1;return o[e](i[e](t))}}function Wi(n,r,i,o){function e(){var t=2<Math.min(n.length,r.length)?Yi:Ui,e=o?Wr:Yr;return s=t(n,r,e,i),u=t(r,n,e,xr),a}function a(t){return s(t)}var s,u;return a.invert=function(t){return u(t)},a.domain=function(t){return arguments.length?(n=t.map(Number),e()):n},a.range=function(t){return arguments.length?(r=t,e()):r},a.rangeRound=function(t){return a.range(t).interpolate(Fr)},a.clamp=function(t){return arguments.length?(o=t,e()):o},a.interpolate=function(t){return arguments.length?(i=t,e()):i},a.ticks=function(t){return Ji(n,t)},a.tickFormat=function(t,e){return to(n,t,e)},a.nice=function(t){return Zi(n,t),e()},a.copy=function(){return Wi(n,r,i,o)},e()}function Qi(t,e){return ua.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Zi(t,e){return Xi(t,$i(Ki(t,e)[2])),Xi(t,$i(Ki(t,e)[2])),t}function Ki(t,e){null==e&&(e=10);var n=qi(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Ji(t,e){return ua.range.apply(ua,Ki(t,e))}function to(t,e,n){var r=Ki(t,e);if(n){var i=ls.exec(n);if(i.shift(),"s"===i[8]){var o=ua.formatPrefix(Math.max(ma(r[0]),ma(r[1])));return i[7]||(i[7]="."+eo(o.scale(r[2]))),i[8]="f",n=ua.format(i.join("")),function(t){return n(o.scale(t))+o.symbol}}i[7]||(i[7]="."+no(i[8],r)),n=i.join("")}else n=",."+eo(r[2])+"f";return ua.format(n)}function eo(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function no(t,e){var n=eo(e[2]);return t in Su?Math.abs(n-eo(Math.max(ma(e[0]),ma(e[1]))))+ +("e"!==t):n-2*("%"===t)}function ro(e,u,c,l){function f(t){return(c?Math.log(t<0?0:t):-Math.log(0<t?0:-t))/Math.log(u)}function h(t){return c?Math.pow(u,t):-Math.pow(u,-t)}function i(t){return e(f(t))}return i.invert=function(t){return h(e.invert(t))},i.domain=function(t){return arguments.length?(c=0<=t[0],e.domain((l=t.map(Number)).map(f)),i):l},i.base=function(t){return arguments.length?(u=+t,e.domain(l.map(f)),i):u},i.nice=function(){var t=Xi(l.map(f),c?Math:Mu);return e.domain(t),l=t.map(h),i},i.ticks=function(){var t=qi(l),e=[],n=t[0],r=t[1],i=Math.floor(f(n)),o=Math.ceil(f(r)),a=u%1?2:u;if(isFinite(o-i)){if(c){for(;i<o;i++)for(var s=1;s<a;s++)e.push(h(i)*s);e.push(h(i))}else for(e.push(h(i));i++<o;)for(s=a-1;0<s;s--)e.push(h(i)*s);for(i=0;e[i]<n;i++);for(o=e.length;e[o-1]>r;o--);e=e.slice(i,o)}return e},i.tickFormat=function(t,n){if(!arguments.length)return Tu;arguments.length<2?n=Tu:"function"!=typeof n&&(n=ua.format(n));var r=Math.max(1,u*t/i.ticks().length);return function(t){var e=t/h(Math.round(f(t)));return e*u<u-.5&&(e*=u),e<=r?n(t):""}},i.copy=function(){return ro(e.copy(),u,c,l)},Qi(i,e)}function io(e,n,r){function i(t){return e(o(t))}var o=oo(n),a=oo(1/n);return i.invert=function(t){return a(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain((r=t.map(Number)).map(o)),i):r},i.ticks=function(t){return Ji(r,t)},i.tickFormat=function(t,e){return to(r,t,e)},i.nice=function(t){return i.domain(Zi(r,t))},i.exponent=function(t){return arguments.length?(o=oo(n=t),a=oo(1/n),e.domain(r.map(o)),i):n},i.copy=function(){return io(e.copy(),n,r)},Qi(i,e)}function oo(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ao(s,u){function c(t){return f[((i.get(t)||("range"===u.t?i.set(t,s.push(t)):NaN))-1)%f.length]}function l(e,n){return ua.range(s.length).map(function(t){return e+n*t})}var i,f,h;return c.domain=function(t){if(!arguments.length)return s;s=[],i=new m;for(var e,n=-1,r=t.length;++n<r;)i.has(e=t[n])||i.set(e,s.push(e));return c[u.t].apply(c,u.a)},c.range=function(t){return arguments.length?(f=t,h=0,u={t:"range",a:arguments},c):f},c.rangePoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],r=t[1],i=s.length<2?(n=(n+r)/2,0):(r-n)/(s.length-1+e);return f=l(n+i*e/2,i),h=0,u={t:"rangePoints",a:arguments},c},c.rangeRoundPoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],r=t[1],i=s.length<2?(n=r=Math.round((n+r)/2),0):(r-n)/(s.length-1+e)|0;return f=l(n+Math.round(i*e/2+(r-n-(s.length-1+e)*i)/2),i),h=0,u={t:"rangeRoundPoints",a:arguments},c},c.rangeBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var r=t[1]<t[0],i=t[r-0],o=(t[1-r]-i)/(s.length-e+2*n);return f=l(i+o*n,o),r&&f.reverse(),h=o*(1-e),u={t:"rangeBands",a:arguments},c},c.rangeRoundBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var r=t[1]<t[0],i=t[r-0],o=t[1-r],a=Math.floor((o-i)/(s.length-e+2*n));return f=l(i+Math.round((o-i-(s.length-e)*a)/2),a),r&&f.reverse(),h=Math.round(a*(1-e)),u={t:"rangeRoundBands",a:arguments},c},c.rangeBand=function(){return h},c.rangeExtent=function(){return qi(u.a[0])},c.copy=function(){return ao(s,u)},c.domain(s)}function so(n,r){function e(){var t=0,e=r.length;for(o=[];++t<e;)o[t-1]=ua.quantile(n,t/e);return i}function i(t){return isNaN(t=+t)?void 0:r[ua.bisect(o,t)]}var o;return i.domain=function(t){
return arguments.length?(n=t.map(c).filter(l).sort(a),e()):n},i.range=function(t){return arguments.length?(r=t,e()):r},i.quantiles=function(){return o},i.invertExtent=function(t){return(t=r.indexOf(t))<0?[NaN,NaN]:[0<t?o[t-1]:n[0],t<o.length?o[t]:n[n.length-1]]},i.copy=function(){return so(n,r)},e()}function uo(e,n,r){function t(t){return r[Math.max(0,Math.min(a,Math.floor(o*(t-e))))]}function i(){return o=r.length/(n-e),a=r.length-1,t}var o,a;return t.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],i()):[e,n]},t.range=function(t){return arguments.length?(r=t,i()):r},t.invertExtent=function(t){return[t=(t=r.indexOf(t))<0?NaN:t/o+e,t+1/o]},t.copy=function(){return uo(e,n,r)},i()}function co(e,n){function r(t){return t<=t?n[ua.bisect(e,t)]:void 0}return r.domain=function(t){return arguments.length?(e=t,r):e},r.range=function(t){return arguments.length?(n=t,r):n},r.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},r.copy=function(){return co(e,n)},r}function lo(n){function e(t){return+t}return(e.invert=e).domain=e.range=function(t){return arguments.length?(n=t.map(e),e):n},e.ticks=function(t){return Ji(n,t)},e.tickFormat=function(t,e){return to(n,t,e)},e.copy=function(){return lo(n)},e}function fo(){return 0}function ho(t){return t.innerRadius}function po(t){return t.outerRadius}function go(t){return t.startAngle}function vo(t){return t.endAngle}function yo(t){return t&&t.padAngle}function mo(t,e,n,r){return 0<(t-n)*e-(e-r)*t?0:1}function xo(t,e,n,r,i){var o=t[0]-e[0],a=t[1]-e[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),u=s*a,c=-s*o,l=t[0]+u,f=t[1]+c,h=e[0]+u,d=e[1]+c,p=(l+h)/2,g=(f+d)/2,v=h-l,y=d-f,m=v*v+y*y,x=n-r,_=l*d-h*f,b=(y<0?-1:1)*Math.sqrt(Math.max(0,x*x*m-_*_)),w=(_*y-v*b)/m,S=(-_*v-y*b)/m,T=(_*y+v*b)/m,M=(-_*v+y*b)/m,C=w-p,A=S-g,k=T-p,E=M-g;return k*k+E*E<C*C+A*A&&(w=T,S=M),[[w-u,S-c],[w*n/x,S*n/x]]}function _o(c){function e(t){function e(){r.push("M",d(c(i),p))}for(var n,r=[],i=[],o=-1,a=t.length,s=Ct(l),u=Ct(f);++o<a;)h.call(this,n=t[o],o)?i.push([+s.call(this,n,o),+u.call(this,n,o)]):i.length&&(e(),i=[]);return i.length&&e(),r.length?r.join(""):null}var l=En,f=Ln,h=Ee,d=bo,n=d.key,p=.7;return e.x=function(t){return arguments.length?(l=t,e):l},e.y=function(t){return arguments.length?(f=t,e):f},e.defined=function(t){return arguments.length?(h=t,e):h},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?d=t:(d=Pu.get(t)||bo).key,e):n},e.tension=function(t){return arguments.length?(p=t,e):p},e}function bo(t){return 1<t.length?t.join("L"):t+"Z"}function wo(t){return t.join("L")+"Z"}function So(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return 1<n&&i.push("H",r[0]),i.join("")}function To(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function Mo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function Co(t,e){return t.length<4?bo(t):t[1]+Eo(t.slice(1,-1),Lo(t,e))}function Ao(t,e){return t.length<3?wo(t):t[0]+Eo((t.push(t[0]),t),Lo([t[t.length-2]].concat(t,[t[1]]),e))}function ko(t,e){return t.length<3?bo(t):t[0]+Eo(t,Lo(t,e))}function Eo(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return bo(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],u=2),1<e.length){s=e[1],o=t[u],u++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var c=2;c<e.length;c++,u++)o=t[u],s=e[c],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var l=t[u];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+l[0]+","+l[1]}return r}function Lo(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function Po(t){if(t.length<3)return bo(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],u=[i,",",o,"L",Io(Ru,a),",",Io(Ru,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Oo(u,a,s);return t.pop(),u.push("L",r),u.join("")}function No(t){if(t.length<4)return bo(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);for(n.push(Io(Ru,o)+","+Io(Ru,a)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Oo(n,o,a);return n.join("")}function Do(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);for(e=[Io(Ru,a),",",Io(Ru,s)],--r;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Oo(e,a,s);return e.join("")}function Ro(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,c=-1;++c<=n;)i=c/n,(r=t[c])[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*u);return Po(t)}function Io(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Oo(t,e,n){t.push("C",Io(Nu,e),",",Io(Nu,n),",",Io(Du,e),",",Io(Du,n),",",Io(Ru,e),",",Io(Ru,n))}function Fo(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Vo(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=Fo(i,o);++e<n;)r[e]=(a+(a=Fo(i=o,o=t[e+1])))/2;return r[e]=a,r}function Go(t){for(var e,n,r,i,o=[],a=Vo(t),s=-1,u=t.length-1;++s<u;)e=Fo(t[s],t[s+1]),ma(e)<Ia?a[s]=a[s+1]=0:9<(i=(n=a[s]/e)*n+(r=a[s+1]/e)*r)&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r);for(s=-1;++s<=u;)i=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function zo(t){return t.length<3?bo(t):t[0]+Eo(t,Go(t))}function jo(t){for(var e,n,r,i=-1,o=t.length;++i<o;)n=(e=t[i])[0],r=e[1]-za,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Ho(p){function e(t){function e(){o.push("M",_(p(s),S),w,b(p(a.reverse()),S),"Z")}for(var n,r,i,o=[],a=[],s=[],u=-1,c=t.length,l=Ct(g),f=Ct(y),h=g===v?function(){return r}:Ct(v),d=y===m?function(){return i}:Ct(m);++u<c;)x.call(this,n=t[u],u)?(a.push([r=+l.call(this,n,u),i=+f.call(this,n,u)]),s.push([+h.call(this,n,u),+d.call(this,n,u)])):a.length&&(e(),a=[],s=[]);return a.length&&e(),o.length?o.join(""):null}var g=En,v=En,y=0,m=Ln,x=Ee,_=bo,n=_.key,b=_,w="L",S=.7;return e.x=function(t){return arguments.length?(g=v=t,e):v},e.x0=function(t){return arguments.length?(g=t,e):g},e.x1=function(t){return arguments.length?(v=t,e):v},e.y=function(t){return arguments.length?(y=m=t,e):m},e.y0=function(t){return arguments.length?(y=t,e):y},e.y1=function(t){return arguments.length?(m=t,e):m},e.defined=function(t){return arguments.length?(x=t,e):x},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?_=t:(_=Pu.get(t)||bo).key,b=_.reverse||_,w=_.closed?"M":"L",e):n},e.tension=function(t){return arguments.length?(S=t,e):S},e}function qo(t){return t.radius}function Bo(t){return[t.x,t.y]}function Uo(r){return function(){var t=r.apply(this,arguments),e=t[0],n=t[1]-za;return[e*Math.cos(n),e*Math.sin(n)]}}function Xo(){return 64}function $o(){return"circle"}function Yo(t){var e=Math.sqrt(t/Fa);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Wo(r){return function(){var t,e,n;(t=this[r])&&(n=t[e=t.active])&&(n.timer.c=null,n.timer.t=NaN,--t.count?delete t[e]:delete this[r],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Qo(t,e,n){return Sa(t,ju),t.namespace=e,t.id=n,t}function Zo(t,r,i,o){var a=t.id,s=t.namespace;return q(t,"function"==typeof i?function(t,e,n){t[s][a].tween.set(r,o(i.call(t,t.__data__,e,n)))}:(i=o(i),function(t){t[s][a].tween.set(r,i)}))}function Ko(t){return null==t&&(t=""),function(){this.textContent=t}}function Jo(t){return null==t?"__transition__":"__transition_"+t+"__"}function ta(o,a,i,s,t){function e(t){var e=g.delay;return l.t=e+c,e<=t?n(t-e):void(l.c=n)}function n(t){var e=p.active,n=p[e];for(var r in n&&(n.timer.c=null,n.timer.t=NaN,--p.count,delete p[e],n.event&&n.event.interrupt.call(o,o.__data__,n.index)),p)if(+r<s){var i=p[r];i.timer.c=null,i.timer.t=NaN,--p.count,delete p[r]}l.c=u,Pt(function(){return l.c&&u(t||1)&&(l.c=null,l.t=NaN),1},0,c),p.active=s,g.event&&g.event.start.call(o,o.__data__,a),d=[],g.tween.forEach(function(t,e){(e=e.call(o,o.__data__,a))&&d.push(e)}),h=g.ease,f=g.duration}function u(t){for(var e=t/f,n=h(e),r=d.length;0<r;)d[--r].call(o,n);return 1<=e?(g.event&&g.event.end.call(o,o.__data__,a),--p.count?delete p[s]:delete o[i],1):void 0}var c,l,f,h,d,p=o[i]||(o[i]={active:0,count:0}),g=p[s];g||(c=t.time,l=Pt(e,0,c),g=p[s]={tween:new m,time:c,timer:l,delay:t.delay,duration:t.duration,ease:t.ease,index:a},t=null,++p.count)}function ea(t,n,r){t.attr("transform",function(t){var e=n(t);return"translate("+(isFinite(e)?e:r(t))+",0)"})}function na(t,n,r){t.attr("transform",function(t){var e=n(t);return"translate(0,"+(isFinite(e)?e:r(t))+")"})}function ra(t){return t.toISOString()}function ia(e,i,t){function a(t){return e(t)}function s(t,e){var n=(t[1]-t[0])/e,r=ua.bisect(Qu,n);return r==Qu.length?[i.year,Ki(t.map(function(t){return t/31536e6}),e)[2]]:r?i[n/Qu[r-1]<Qu[r]/n?r-1:r]:[Ju,Ki(t,e)[2]]}return a.invert=function(t){return oa(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain(t),a):e.domain().map(oa)},a.nice=function(e,n){function r(t){return!isNaN(t)&&!e.range(t,oa(+t+1),n).length}var t=a.domain(),i=qi(t),o=null==e?s(i,10):"number"==typeof e&&s(i,e);return o&&(e=o[0],n=o[1]),a.domain(Xi(t,1<n?{floor:function(t){for(;r(t=e.floor(t));)t=oa(t-1);return t},ceil:function(t){for(;r(t=e.ceil(t));)t=oa(+t+1);return t}}:e))},a.ticks=function(t,e){var n=qi(a.domain()),r=null==t?s(n,10):"number"==typeof t?s(n,t):!t.range&&[{range:t},e];return r&&(t=r[0],e=r[1]),t.range(n[0],oa(+n[1]+1),e<1?1:e)},a.tickFormat=function(){return t},a.copy=function(){return ia(e.copy(),i,t)},Qi(a,e)}function oa(t){return new Date(t)}function aa(t){return JSON.parse(t.responseText)}function sa(t){var e=fa.createRange();return e.selectNode(fa.body),e.createContextualFragment(t.responseText)}var ua={version:"3.5.17"},ca=[].slice,la=function(t){return ca.call(t)},fa=this.document;if(fa)try{la(fa.documentElement.childNodes)[0].nodeType}catch(nc){la=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),fa)try{fa.createElement("DIV").style.setProperty("opacity",0,"")}catch(rc){var ha=this.Element.prototype,da=ha.setAttribute,pa=ha.setAttributeNS,ga=this.CSSStyleDeclaration.prototype,va=ga.setProperty;ha.setAttribute=function(t,e){da.call(this,t,e+"")},ha.setAttributeNS=function(t,e,n){pa.call(this,t,e,n+"")},ga.setProperty=function(t,e,n){va.call(this,t,e+"",n)}}ua.ascending=a,ua.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},ua.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r<=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r<n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r<=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r<n&&(n=r)}return n},ua.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r<=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n<r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r<=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n<r&&(n=r)}return n},ua.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r<=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(r<n&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r<=r){n=i=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(r<n&&(n=r),i<r&&(i=r))}return[n,i]},ua.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)l(n=+t[o])&&(r+=n);else for(;++o<i;)l(n=+e.call(t,t[o],o))&&(r+=n);return r},ua.mean=function(t,e){var n,r=0,i=t.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)l(n=c(t[o]))?r+=n:--a;else for(;++o<i;)l(n=c(e.call(t,t[o],o)))?r+=n:--a;return a?r/a:void 0},ua.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},ua.median=function(t,e){var n,r=[],i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)l(n=c(t[o]))&&r.push(n);else for(;++o<i;)l(n=c(e.call(t,t[o],o)))&&r.push(n);return r.length?ua.quantile(r.sort(a),.5):void 0},ua.variance=function(t,e){var n,r,i=t.length,o=0,a=0,s=-1,u=0;if(1===arguments.length)for(;++s<i;)l(n=c(t[s]))&&(a+=(r=n-o)*(n-(o+=r/++u)));else for(;++s<i;)l(n=c(e.call(t,t[s],s)))&&(a+=(r=n-o)*(n-(o+=r/++u)));return 1<u?a/(u-1):void 0},ua.deviation=function(){var t=ua.variance.apply(this,arguments);return t?Math.sqrt(t):t};var ya=t(a);ua.bisectLeft=ya.left,ua.bisect=ua.bisectRight=ya.right,ua.bisector=function(n){return t(1===n.length?function(t,e){return a(n(t),e)}:n)},ua.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},ua.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},ua.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},ua.transpose=function(t){if(!(i=t.length))return[];for(var e=-1,n=ua.min(t,u),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r},ua.zip=function(){return ua.transpose(arguments)},ua.keys=function(t){var e=[];for(var n in t)e.push(n);return e},ua.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ua.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ua.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);0<=--i;)for(e=(r=t[i]).length;0<=--e;)n[--a]=r[e];return n};var ma=Math.abs;ua.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r,i=[],o=f(ma(n)),a=-1;if(t*=o,e*=o,(n*=o)<0)for(;(r=t+n*++a)>e;)i.push(r/o);else for(;(r=t+n*++a)<e;)i.push(r/o);return i},ua.map=function(t,e){var n=new m;if(t instanceof m)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var a in t)n.set(a,t[a]);return n};var xa="__proto__",_a="\0";e(m,{has:i,get:function(t){return this._[n(t)]},set:function(t,e){return this._[n(t)]=e},remove:o,keys:h,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:r(e),value:this._[e]});return t},size:d,empty:p,forEach:function(t){for(var e in this._)t.call(this,r(e),this._[e])}}),ua.nest=function(){function f(n,t,r){if(r>=g.length)return d?d.call(p,t):h?t.sort(h):t;for(var e,i,o,a,s=-1,u=t.length,c=g[r++],l=new m;++s<u;)(a=l.get(e=c(i=t[s])))?a.push(i):l.set(e,[i]);return n?(i=n(),o=function(t,e){i.set(t,f(n,e,r))}):(i={},o=function(t,e){i[t]=f(n,e,r)}),l.forEach(o),i}function o(t,n){if(n>=g.length)return t;var r=[],i=e[n++];return t.forEach(function(t,e){r.push({key:t,values:o(e,n)})}),i?r.sort(function(t,e){return i(t.key,e.key)}):r}var h,d,p={},g=[],e=[];return p.map=function(t,e){return f(e,t,0)},p.entries=function(t){return o(f(ua.map,t,0),0)},p.key=function(t){return g.push(t),p},p.sortKeys=function(t){return e[g.length-1]=t,p},p.sortValues=function(t){return h=t,p},p.rollup=function(t){return d=t,p},p},ua.set=function(t){var e=new g;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},e(g,{has:i,add:function(t){return this._[n(t+="")]=!0,t},remove:o,values:h,size:d,empty:p,forEach:function(t){for(var e in this._)t.call(this,r(e))}}),ua.behavior={},ua.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=v(t,e,e[n]);return t};var ba=["webkit","ms","moz","Moz","o","O"];ua.dispatch=function(){for(var t=new x,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=b(t);return t},x.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(0<=n&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},ua.event=null,ua.requote=function(t){return t.replace(wa,"\\$&")};var wa=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Sa={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Ta=function(t,e){return e.querySelector(t)},Ma=function(t,e){return e.querySelectorAll(t)},Ca=function(t,e){var n=t.matches||t[y(t,"matchesSelector")];return(Ca=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Ta=function(t,e){return Sizzle(t,e)[0]||null},Ma=Sizzle,Ca=Sizzle.matchesSelector),ua.selection=function(){return ua.select(fa.documentElement)};var Aa=ua.selection.prototype=[];Aa.select=function(t){var e,n,r,i,o=[];t=T(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var u=-1,c=r.length;++u<c;)(i=r[u])?(e.push(n=t.call(i,i.__data__,u,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return S(o)},Aa.selectAll=function(t){var e,n,r=[];t=M(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(e=la(t.call(n,n.__data__,s,i))),e.parentNode=n);return S(r)};var ka="http://www.w3.org/1999/xhtml",Ea={svg:"http://www.w3.org/2000/svg",xhtml:ka,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ua.ns={prefix:Ea,qualify:function(t){var e=t.indexOf(":"),n=t;return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Ea.hasOwnProperty(n)?{space:Ea[n],local:t}:t}},Aa.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=ua.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(C(e,t[e]));return this}return this.each(C(t,e))},Aa.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=E(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!k(t[i]).test(e))return!1;return!0}for(e in t)this.each(L(e,t[e]));return this}return this.each(L(t,e))},Aa.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(N(n,t[n],e));return this}if(r<2){var i=this.node();return R(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(N(t,e,n))},Aa.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(D(e,t[e]));return this}return this.each(D(t,e))},Aa.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Aa.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Aa.append=function(t){return t=V(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Aa.insert=function(t,e){return t=V(t),e=T(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Aa.remove=function(){return this.each(G)},Aa.data=function(t,p){function e(t,e){var n,r,i,o=t.length,a=e.length,s=Math.min(o,a),u=new Array(a),c=new Array(a),l=new Array(o);if(p){var f,h=new m,d=new Array(o);for(n=-1;++n<o;)(r=t[n])&&(h.has(f=p.call(r,r.__data__,n))?l[n]=r:h.set(f,r),d[n]=f);for(n=-1;++n<a;)(r=h.get(f=p.call(e,i=e[n],n)))?!0!==r&&((u[n]=r).__data__=i):c[n]=z(i),h.set(f,!0);for(n=-1;++n<o;)n in d&&!0!==h.get(d[n])&&(l[n]=t[n])}else{for(n=-1;++n<s;)r=t[n],i=e[n],r?(r.__data__=i,u[n]=r):c[n]=z(i);for(;n<a;++n)c[n]=z(e[n]);for(;n<o;++n)l[n]=t[n]}c.update=u,c.parentNode=u.parentNode=l.parentNode=t.parentNode,g.push(c),v.push(u),y.push(l)}var n,r,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(n=this[0]).length);++i<o;)(r=n[i])&&(t[i]=r.__data__);return t}var g=B([]),v=S([]),y=S([]);if("function"==typeof t)for(;++i<o;)e(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<o;)e(n=this[i],t);return v.enter=function(){return g},v.exit=function(){return y},v},Aa.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Aa.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=j(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;s<u;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return S(i)},Aa.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];0<=--i;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Aa.sort=function(t){t=H.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Aa.each=function(r){return q(this,function(t,e,n){r.call(t,t.__data__,e,n)})},Aa.call=function(t){var e=la(arguments);return t.apply(e[0]=this,e),this},Aa.empty=function(){return!this.node()},Aa.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},Aa.size=function(){var t=0;return q(this,function(){++t}),t};var La=[];ua.selection.enter=B,(ua.selection.enter.prototype=La).append=Aa.append,La.empty=Aa.empty,La.node=Aa.node,La.call=Aa.call,La.size=Aa.size,La.select=function(t){for(var e,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var c=-1,l=i.length;++c<l;)(o=i[c])?(e.push(r[c]=n=t.call(i.parentNode,o.__data__,c,s)),n.__data__=o.__data__):e.push(null)}return S(a)},La.insert=function(t,e){return arguments.length<2&&(e=U(this)),Aa.insert.call(this,t,e)},ua.select=function(t){var e;return"string"==typeof t?(e=[Ta(t,fa)]).parentNode=fa.documentElement:(e=[t]).parentNode=s(t),S([e])},ua.selectAll=function(t){var e;return"string"==typeof t?(e=la(Ma(t,fa))).parentNode=fa.documentElement:(e=la(t)).parentNode=null,S([e])},Aa.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(X(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(X(t,e,n))};var Pa=ua.map({mouseenter:"mouseover",mouseleave:"mouseout"});fa&&Pa.forEach(function(t){"on"+t in fa&&Pa.remove(t)});var Na,Da=0;ua.mouse=function(t){return Q(t,w())};var Ra=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ua.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=w().changedTouches),e)for(var r,i=0,o=e.length;i<o;++i)if((r=e[i]).identifier===n)return Q(t,r)},ua.behavior.drag=function(){function e(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function t(d,p,g,v,y){return function(){function t(){var t,e,n=p(o,u);n&&(t=n[0]-h[0],e=n[1]-h[1],s|=t|e,a({type:"drag",x:(h=n)[0]+r[0],y:n[1]+r[1],dx:t,dy:e}))}function e(){p(o,u)&&(l.on(v+c,null).on(y+c,null),f(s),a({type:"dragend"}))}var r,n=this,i=ua.event.target.correspondingElement||ua.event.target,o=n.parentNode,a=m.of(n,arguments),s=0,u=d(),c=".drag"+(null==u?"":"-"+u),l=ua.select(g(i)).on(v+c,t).on(y+c,e),f=W(i),h=p(o,u);x?r=[(r=x.apply(n,arguments)).x-h[0],r.y-h[1]]:r=[0,0],a({type:"dragstart"})}}var m=F(e,"drag","dragstart","dragend"),x=null,n=t(_,ua.mouse,R,"mousemove","mouseup"),r=t(Z,ua.touch,I,"touchmove","touchend");return e.origin=function(t){return arguments.length?(x=t,e):x},ua.rebind(e,m,"on")},ua.touches=function(n,t){return arguments.length<2&&(t=w().touches),t?la(t).map(function(t){var e=Q(n,t);return e.identifier=t.identifier,e}):[]};var Ia=1e-6,Oa=Ia*Ia,Fa=Math.PI,Va=2*Fa,Ga=Va-Ia,za=Fa/2,ja=Fa/180,Ha=180/Fa,qa=Math.SQRT2,Ba=2,Ua=4;ua.interpolateZoom=function(t,e){var n,i,o=t[0],a=t[1],s=t[2],r=e[0],u=e[1],c=e[2],l=r-o,f=u-a,h=l*l+f*f;if(h<Oa)i=Math.log(c/s)/qa,n=function(t){return[o+t*l,a+t*f,s*Math.exp(qa*t*i)]};else{var d=Math.sqrt(h),p=(c*c-s*s+Ua*h)/(2*s*Ba*d),g=(c*c-s*s-Ua*h)/(2*c*Ba*d),v=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(g*g+1)-g);i=(y-v)/qa,n=function(t){var e=t*i,n=rt(v),r=s/(Ba*d)*(n*it(qa*e+v)-nt(v));return[o+r*l,a+r*f,s*n/rt(qa*e+v)]}}return n.duration=1e3*i,n},ua.behavior.zoom=function(){function i(t){t.on(E,s).on($a+".zoom",r).on("dblclick.zoom",o).on(N,C)}function u(t){return[(t[0]-k.x)/k.k,(t[1]-k.y)/k.k]}function n(t){return[t[0]*k.k+k.x,t[1]*k.k+k.y]}function _(t){k.k=Math.max(y[0],Math.min(y[1],t))}function b(t,e){e=n(e),k.x+=t[0]-e[0],k.y+=t[1]-e[1]}function w(t,e,n,r){t.__chart__={x:k.x,y:k.y,k:k.k},_(Math.pow(2,r)),b(c=e,n),t=ua.select(t),0<m&&(t=t.transition().duration(m)),t.call(i.event)}function e(){d&&d.domain(h.range().map(function(t){return(t-k.x)/k.k}).map(h.invert)),g&&g.domain(p.range().map(function(t){return(t-k.y)/k.k}).map(p.invert))}function S(t){x++||t({type:"zoomstart"})}function T(t){e(),t({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function M(t){--x||(t({type:"zoomend"}),c=null)}function s(){function t(){i=1,b(ua.mouse(n),a),T(r)}function e(){o.on(L,null).on(P,null),s(i),M(r)}var n=this,r=D.of(n,arguments),i=0,o=ua.select(R(n)).on(L,t).on(P,e),a=u(ua.mouse(n)),s=W(n);zu.call(n),S(r)}function C(){function l(){var t=ua.touches(d);return c=k.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=u(t))}),t}function t(){var t=ua.event.target;ua.select(t).on(y,f).on(m,h),x.push(t);for(var e=ua.event.changedTouches,n=0,r=e.length;n<r;++n)g[e[n].identifier]=null;var i=l(),o=Date.now();if(1===i.length){if(o-A<500){var a=i[0];w(d,a,g[a.identifier],Math.floor(Math.log(k.k)/Math.LN2)+1),O()}A=o}else if(1<i.length){a=i[0];var s=i[1],u=a[0]-s[0],c=a[1]-s[1];v=u*u+c*c}}function f(){var t,e,n,r,i=ua.touches(d);zu.call(d);for(var o=0,a=i.length;o<a;++o,r=null)if(n=i[o],r=g[n.identifier]){if(e)break;t=n,e=r}if(r){var s=(s=n[0]-t[0])*s+(s=n[1]-t[1])*s,u=v&&Math.sqrt(s/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+r[0])/2,(e[1]+r[1])/2],_(u*c)}A=null,b(t,e),T(p)}function h(){if(ua.event.touches.length){for(var t=ua.event.changedTouches,e=0,n=t.length;e<n;++e)delete g[t[e].identifier];for(var r in g)return void l()}ua.selectAll(x).on(i,null),o.on(E,s).on(N,C),a(),M(p)}var c,d=this,p=D.of(d,arguments),g={},v=0,i=".zoom-"+ua.event.changedTouches[0].identifier,y="touchmove"+i,m="touchend"+i,x=[],o=ua.select(d),a=W(d);t(),S(p),o.on(E,null).on(N,t)}function r(){var t=D.of(this,arguments);f?clearTimeout(f):(zu.call(this),a=u(c=l||ua.mouse(this)),S(t)),f=setTimeout(function(){f=null,M(t)},50),O(),_(Math.pow(2,.002*Xa())*k.k),b(c,a),T(t)}function o(){var t=ua.mouse(this),e=Math.log(k.k)/Math.LN2;w(this,t,u(t),ua.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var a,c,l,f,A,h,d,p,g,k={x:0,y:0,k:1},v=[960,500],y=Ya,m=250,x=0,E="mousedown.zoom",L="mousemove.zoom",P="mouseup.zoom",N="touchstart.zoom",D=F(i,"zoomstart","zoom","zoomend");return $a||($a="onwheel"in fa?(Xa=function(){return-ua.event.deltaY*(ua.event.deltaMode?120:1)},"wheel"):"onmousewheel"in fa?(Xa=function(){return ua.event.wheelDelta},"mousewheel"):(Xa=function(){return-ua.event.detail},"MozMousePixelScroll")),i.event=function(t){t.each(function(){var s=D.of(this,arguments),e=k;Vu?ua.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},S(s)}).tween("zoom:zoom",function(){var r=v[0],t=v[1],i=c?c[0]:r/2,o=c?c[1]:t/2,a=ua.interpolateZoom([(i-k.x)/k.k,(o-k.y)/k.k,r/k.k],[(i-e.x)/e.k,(o-e.y)/e.k,r/e.k]);return function(t){var e=a(t),n=r/e[2];this.__chart__=k={x:i-e[0]*n,y:o-e[1]*n,k:n},T(s)}}).each("interrupt.zoom",function(){M(s)}).each("end.zoom",function(){M(s)}):(this.__chart__=k,S(s),T(s),M(s))})},i.translate=function(t){return arguments.length?(k={x:+t[0],y:+t[1],k:k.k},e(),i):[k.x,k.y]},i.scale=function(t){return arguments.length?(k={x:k.x,y:k.y,k:null},_(+t),e(),i):k.k},i.scaleExtent=function(t){return arguments.length?(y=null==t?Ya:[+t[0],+t[1]],i):y},i.center=function(t){return arguments.length?(l=t&&[+t[0],+t[1]],i):l},i.size=function(t){return arguments.length?(v=t&&[+t[0],+t[1]],i):v},i.duration=function(t){return arguments.length?(m=+t,i):m},i.x=function(t){return arguments.length?(h=(d=t).copy(),k={x:0,y:0,k:1},i):d},i.y=function(t){return arguments.length?(p=(g=t).copy(),k={x:0,y:0,k:1},i):g},ua.rebind(i,D,"on")};var Xa,$a,Ya=[0,1/0];(ua.color=at).prototype.toString=function(){return this.rgb()+""};var Wa=(ua.hsl=st).prototype=new at;Wa.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,this.l/t)},Wa.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,t*this.l)},Wa.rgb=function(){return ut(this.h,this.s,this.l)};var Qa=(ua.hcl=ct).prototype=new at;Qa.brighter=function(t){return new ct(this.h,this.c,Math.min(100,this.l+Za*(arguments.length?t:1)))},Qa.darker=function(t){return new ct(this.h,this.c,Math.max(0,this.l-Za*(arguments.length?t:1)))},Qa.rgb=function(){return lt(this.h,this.c,this.l).rgb()},ua.lab=ft;var Za=18,Ka=.95047,Ja=1,ts=1.08883,es=ft.prototype=new at;es.brighter=function(t){return new ft(Math.min(100,this.l+Za*(arguments.length?t:1)),this.a,this.b)},es.darker=function(t){return new ft(Math.max(0,this.l-Za*(arguments.length?t:1)),this.a,this.b)},es.rgb=function(){return ht(this.l,this.a,this.b)};var ns=(ua.rgb=yt).prototype=new at;ns.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new yt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new yt(i,i,i)},ns.darker=function(t){return new yt((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},ns.hsl=function(){return wt(this.r,this.g,this.b)},ns.toString=function(){return"#"+_t(this.r)+_t(this.g)+_t(this.b)};var rs=ua.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});rs.forEach(function(t,e){rs.set(t,mt(e))}),ua.functor=Ct,ua.xhr=At(I),ua.dsv=function(i,o){function a(t,e,n){arguments.length<3&&(n=e,e=null);var r=kt(t,o,null==e?s:u(e),n);return r.row=function(t){return arguments.length?r.response(null==(e=t)?s:u(t)):e},r}function s(t){return a.parse(t.responseText)}function u(e){return function(t){return a.parse(t.responseText,e)}}function e(t){
return t.map(c).join(i)}function c(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var n=new RegExp('["'+i+"\n]"),h=i.charCodeAt(0);return a.parse=function(t,r){var i;return a.parseRows(t,function(t,e){if(i)return i(t,e-1);var n=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=r?function(t,e){return r(n(t),e)}:n})},a.parseRows=function(i,t){function e(){if(u<=c)return s;if(o)return o=!1,a;var t=c;if(34===i.charCodeAt(t)){for(var e=t;e++<u;)if(34===i.charCodeAt(e)){if(34!==i.charCodeAt(e+1))break;++e}return c=e+2,13===(n=i.charCodeAt(e+1))?(o=!0,10===i.charCodeAt(e+2)&&++c):10===n&&(o=!0),i.slice(t+1,e).replace(/""/g,'"')}for(;c<u;){var n,r=1;if(10===(n=i.charCodeAt(c++)))o=!0;else if(13===n)o=!0,10===i.charCodeAt(c)&&(++c,++r);else if(n!==h)continue;return i.slice(t,c-r)}return i.slice(t)}for(var n,o,a={},s={},r=[],u=i.length,c=0,l=0;(n=e())!==s;){for(var f=[];n!==a&&n!==s;)f.push(n),n=e();t&&null==(f=t(f,l++))||r.push(f)}return r},a.format=function(t){if(Array.isArray(t[0]))return a.formatRows(t);var n=new g,r=[];return t.forEach(function(t){for(var e in t)n.has(e)||r.push(n.add(e))}),[r.map(c).join(i)].concat(t.map(function(e){return r.map(function(t){return c(e[t])}).join(i)})).join("\n")},a.formatRows=function(t){return t.map(e).join("\n")},a},ua.csv=ua.dsv(",","text/csv"),ua.tsv=ua.dsv("\t","text/tab-separated-values");var is,os,as,ss,us=this[y(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};ua.timer=function(){Pt.apply(this,arguments)},ua.timer.flush=function(){Dt(),Rt()},ua.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var cs=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Ot);ua.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=ua.round(t,It(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),cs[8+n/3]};var ls=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,fs=ua.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=ua.round(t,It(t,e))).toFixed(Math.max(0,Math.min(20,It(t*(1+1e-15),e))))}}),hs=ua.time={},ds=Date;Gt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ps.setUTCDate.apply(this._,arguments)},setDay:function(){ps.setUTCDay.apply(this._,arguments)},setFullYear:function(){ps.setUTCFullYear.apply(this._,arguments)},setHours:function(){ps.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ps.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ps.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ps.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ps.setUTCSeconds.apply(this._,arguments)},setTime:function(){ps.setTime.apply(this._,arguments)}};var ps=Date.prototype;hs.year=zt(function(t){return(t=hs.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),hs.years=hs.year.range,hs.years.utc=hs.year.utc.range,hs.day=zt(function(t){var e=new ds(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),hs.days=hs.day.range,hs.days.utc=hs.day.utc.range,hs.dayOfYear=function(t){var e=hs.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,n){n=7-n;var e=hs[t]=zt(function(t){return(t=hs.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var e=hs.year(t).getDay();return Math.floor((hs.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});hs[t+"s"]=e.range,hs[t+"s"].utc=e.utc.range,hs[t+"OfYear"]=function(t){var e=hs.year(t).getDay();return Math.floor((hs.dayOfYear(t)+(e+n)%7)/7)}}),hs.week=hs.sunday,hs.weeks=hs.sunday.range,hs.weeks.utc=hs.sunday.utc.range,hs.weekOfYear=hs.sundayOfYear;var gs={"-":"",_:" ",0:"0"},vs=/^\s*\d+/,ys=/^%/;ua.locale=function(t){return{numberFormat:Ft(t),timeFormat:Ht(t)}};var ms=ua.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ua.format=ms.numberFormat,ua.geo={},ce.prototype={s:0,t:0,add:function(t){le(t,this.t,xs),le(xs.s,this.s,this),this.s?this.t+=xs.t:this.s=xs.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var xs=new ce;ua.geo.stream=function(t,e){t&&_s.hasOwnProperty(t.type)?_s[t.type](t,e):fe(t,e)};var _s={Feature:function(t,e){fe(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)fe(n[r].geometry,e)}},bs={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){he(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)he(n[r],e,0)},Polygon:function(t,e){de(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)de(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)fe(n[r],e)}};ua.geo.area=function(t){return ws=0,ua.geo.stream(t,Ts),ws};var ws,Ss=new ce,Ts={sphere:function(){ws+=4*Fa},point:_,lineStart:_,lineEnd:_,polygonStart:function(){Ss.reset(),Ts.lineStart=pe},polygonEnd:function(){var t=2*Ss;ws+=t<0?4*Fa+t:t,Ts.lineStart=Ts.lineEnd=Ts.point=_}};ua.geo.bounds=function(){function l(t,e){x.push(_=[h=t,p=t]),e<d&&(d=e),g<e&&(g=e)}function r(t,e){var n=ge([t*ja,e*ja]);if(y){var r=ye(y,n),i=ye([r[1],-r[0],0],r);_e(i),i=be(i);var o=t-v,a=0<o?1:-1,s=i[0]*Ha*a,u=180<ma(o);if(u^(a*v<s&&s<a*t)){var c=i[1]*Ha;g<c&&(g=c)}else if(u^(a*v<(s=(s+360)%360-180)&&s<a*t)){(c=-i[1]*Ha)<d&&(d=c)}else e<d&&(d=e),g<e&&(g=e);u?t<v?f(h,t)>f(h,p)&&(p=t):f(t,p)>f(h,p)&&(h=t):h<=p?(t<h&&(h=t),p<t&&(p=t)):v<t?f(h,t)>f(h,p)&&(p=t):f(t,p)>f(h,p)&&(h=t)}else l(t,e);y=n,v=t}function t(){b.point=r}function e(){_[0]=h,_[1]=p,b.point=l,y=null}function n(t,e){if(y){var n=t-v;m+=180<ma(n)?n+(0<n?360:-360):n}else a=t,s=e;Ts.point(t,e),r(t,e)}function i(){Ts.lineStart()}function o(){n(a,s),Ts.lineEnd(),ma(m)>Ia&&(h=-(p=180)),_[0]=h,_[1]=p,y=null}function f(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function c(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var h,d,p,g,v,a,s,y,m,x,_,b={point:l,lineStart:t,lineEnd:e,polygonStart:function(){b.point=n,b.lineStart=i,b.lineEnd=o,m=0,Ts.polygonStart()},polygonEnd:function(){Ts.polygonEnd(),b.point=l,b.lineStart=t,b.lineEnd=e,Ss<0?(h=-(p=180),d=-(g=90)):Ia<m?g=90:m<-Ia&&(d=-90),_[0]=h,_[1]=p}};return function(t){if(g=p=-(h=d=1/0),x=[],ua.geo.stream(t,b),o=x.length){x.sort(u);for(var e=1,n=[s=x[0]];e<o;++e)c((i=x[e])[0],s)||c(i[1],s)?(f(s[0],i[1])>f(s[0],s[1])&&(s[1]=i[1]),f(i[0],s[1])>f(s[0],s[1])&&(s[0]=i[0])):n.push(s=i);for(var r,i,o,a=-1/0,s=(e=0,n[o=n.length-1]);e<=o;s=i,++e)i=n[e],(r=f(s[1],i[0]))>a&&(a=r,h=i[0],p=s[1])}return x=_=null,h===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[h,d],[p,g]]}}(),ua.geo.centroid=function(t){Ms=Cs=As=ks=Es=Ls=Ps=Ns=Ds=Rs=Is=0,ua.geo.stream(t,Os);var e=Ds,n=Rs,r=Is,i=e*e+n*n+r*r;return i<Oa&&(e=Ls,n=Ps,r=Ns,Cs<Ia&&(e=As,n=ks,r=Es),(i=e*e+n*n+r*r)<Oa)?[NaN,NaN]:[Math.atan2(n,e)*Ha,et(r/Math.sqrt(i))*Ha]};var Ms,Cs,As,ks,Es,Ls,Ps,Ns,Ds,Rs,Is,Os={sphere:_,point:Se,lineStart:Me,lineEnd:Ce,polygonStart:function(){Os.lineStart=Ae},polygonEnd:function(){Os.lineStart=Me}},Fs=De(Ee,Fe,Ge,[-Fa,-Fa/2]),Vs=1e9;ua.geo.clipExtent=function(){var e,n,r,i,o,a,s={stream:function(t){return o&&(o.valid=!1),(o=a(t)).valid=!0,o},extent:function(t){return arguments.length?(a=qe(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),o&&(o.valid=!1,o=null),s):[[e,n],[r,i]]}};return s.extent([[0,0],[960,500]])},(ua.geo.conicEqualArea=function(){return Be(Ue)}).raw=Ue,ua.geo.albers=function(){return ua.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ua.geo.albersUsa=function(){function i(t){var e=t[0],n=t[1];return r=null,o(e,n),r||(a(e,n),r)||s(e,n),r}var r,o,a,s,u=ua.geo.albers(),c=ua.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=ua.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(t,e){r=[t,e]}};return i.invert=function(t){var e=u.scale(),n=u.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(.12<=i&&i<.234&&-.425<=r&&r<-.214?c:.166<=i&&i<.234&&-.214<=r&&r<-.115?l:u).invert(t)},i.stream=function(t){var n=u.stream(t),r=c.stream(t),i=l.stream(t);return{point:function(t,e){n.point(t,e),r.point(t,e),i.point(t,e)},sphere:function(){n.sphere(),r.sphere(),i.sphere()},lineStart:function(){n.lineStart(),r.lineStart(),i.lineStart()},lineEnd:function(){n.lineEnd(),r.lineEnd(),i.lineEnd()},polygonStart:function(){n.polygonStart(),r.polygonStart(),i.polygonStart()},polygonEnd:function(){n.polygonEnd(),r.polygonEnd(),i.polygonEnd()}}},i.precision=function(t){return arguments.length?(u.precision(t),c.precision(t),l.precision(t),i):u.precision()},i.scale=function(t){return arguments.length?(u.scale(t),c.scale(.35*t),l.scale(t),i.translate(u.translate())):u.scale()},i.translate=function(t){if(!arguments.length)return u.translate();var e=u.scale(),n=+t[0],r=+t[1];return o=u.translate(t).clipExtent([[n-.455*e,r-.238*e],[n+.455*e,r+.238*e]]).stream(f).point,a=c.translate([n-.307*e,r+.201*e]).clipExtent([[n-.425*e+Ia,r+.12*e+Ia],[n-.214*e-Ia,r+.234*e-Ia]]).stream(f).point,s=l.translate([n-.205*e,r+.212*e]).clipExtent([[n-.214*e+Ia,r+.166*e+Ia],[n-.115*e-Ia,r+.234*e-Ia]]).stream(f).point,i},i.scale(1070)};var Gs,zs,js,Hs,qs,Bs,Us={point:_,lineStart:_,lineEnd:_,polygonStart:function(){zs=0,Us.lineStart=Xe},polygonEnd:function(){Us.lineStart=Us.lineEnd=Us.point=_,Gs+=ma(zs/2)}},Xs={point:$e,lineStart:_,lineEnd:_,polygonStart:_,polygonEnd:_},$s={point:Qe,lineStart:Ze,lineEnd:Ke,polygonStart:function(){$s.lineStart=Je},polygonEnd:function(){$s.point=Qe,$s.lineStart=Ze,$s.lineEnd=Ke}};ua.geo.path=function(){function e(t){return t&&("function"==typeof u&&a.pointRadius(+u.apply(this,arguments)),s&&s.valid||(s=o(a)),ua.geo.stream(t,s)),a.result()}function n(){return s=null,e}var r,i,o,a,s,u=4.5;return e.area=function(t){return Gs=0,ua.geo.stream(t,o(Us)),Gs},e.centroid=function(t){return As=ks=Es=Ls=Ps=Ns=Ds=Rs=Is=0,ua.geo.stream(t,o($s)),Is?[Ds/Is,Rs/Is]:Ns?[Ls/Ns,Ps/Ns]:Es?[As/Es,ks/Es]:[NaN,NaN]},e.bounds=function(t){return qs=Bs=-(js=Hs=1/0),ua.geo.stream(t,o(Xs)),[[js,Hs],[qs,Bs]]},e.projection=function(t){return arguments.length?(o=(r=t)?t.stream||nn(t):I,n()):r},e.context=function(t){return arguments.length?(a=null==(i=t)?new Ye:new tn(t),"function"!=typeof u&&a.pointRadius(u),n()):i},e.pointRadius=function(t){return arguments.length?(u="function"==typeof t?t:(a.pointRadius(+t),+t),e):u},e.projection(ua.geo.albersUsa()).context(null)},ua.geo.transform=function(r){return{stream:function(t){var e=new rn(t);for(var n in r)e[n]=r[n];return e}}},rn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ua.geo.projection=an,ua.geo.projectionMutator=sn,(ua.geo.equirectangular=function(){return an(cn)}).raw=cn.invert=cn,ua.geo.rotation=function(e){function t(t){return(t=e(t[0]*ja,t[1]*ja))[0]*=Ha,t[1]*=Ha,t}return e=fn(e[0]%360*ja,e[1]*ja,2<e.length?e[2]*ja:0),t.invert=function(t){return(t=e.invert(t[0]*ja,t[1]*ja))[0]*=Ha,t[1]*=Ha,t},t},ln.invert=cn,ua.geo.circle=function(){function e(){var t="function"==typeof o?o.apply(this,arguments):o,n=fn(-t[0]*ja,-t[1]*ja,0).invert,r=[];return i(null,null,1,{point:function(t,e){r.push(t=n(t,e)),t[0]*=Ha,t[1]*=Ha}}),{type:"Polygon",coordinates:[r]}}var n,i,o=[0,0],r=6;return e.origin=function(t){return arguments.length?(o=t,e):o},e.angle=function(t){return arguments.length?(i=gn((n=+t)*ja,r*ja),e):n},e.precision=function(t){return arguments.length?(i=gn(n*ja,(r=+t)*ja),e):r},e.angle(90)},ua.geo.distance=function(t,e){var n,r=(e[0]-t[0])*ja,i=t[1]*ja,o=e[1]*ja,a=Math.sin(r),s=Math.cos(r),u=Math.sin(i),c=Math.cos(i),l=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((n=f*a)*n+(n=c*l-u*f*s)*n),u*l+c*f*s)},ua.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return ua.range(Math.ceil(o/v)*v,i,v).map(h).concat(ua.range(Math.ceil(c/y)*y,u,y).map(d)).concat(ua.range(Math.ceil(r/p)*p,n,p).filter(function(t){return ma(t%v)>Ia}).map(l)).concat(ua.range(Math.ceil(s/g)*g,a,g).filter(function(t){return ma(t%y)>Ia}).map(f))}var n,r,i,o,a,s,u,c,l,f,h,d,p=10,g=p,v=90,y=360,m=2.5;return e.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},e.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(d(u).slice(1),h(i).reverse().slice(1),d(c).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(o=+t[0][0],i=+t[1][0],c=+t[0][1],u=+t[1][1],i<o&&(t=o,o=i,i=t),u<c&&(t=c,c=u,u=t),e.precision(m)):[[o,c],[i,u]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],n<r&&(t=r,r=n,n=t),a<s&&(t=s,s=a,a=t),e.precision(m)):[[r,s],[n,a]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(v=+t[0],y=+t[1],e):[v,y]},e.minorStep=function(t){return arguments.length?(p=+t[0],g=+t[1],e):[p,g]},e.precision=function(t){return arguments.length?(m=+t,l=yn(s,a,90),f=mn(r,n,m),h=yn(c,u,90),d=mn(o,i,m),e):m},e.majorExtent([[-180,-90+Ia],[180,90-Ia]]).minorExtent([[-180,-80-Ia],[180,80+Ia]])},ua.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[n||i.apply(this,arguments),r||o.apply(this,arguments)]}}var n,r,i=xn,o=_n;return e.distance=function(){return ua.geo.distance(n||i.apply(this,arguments),r||o.apply(this,arguments))},e.source=function(t){return arguments.length?(n="function"==typeof(i=t)?null:t,e):i},e.target=function(t){return arguments.length?(r="function"==typeof(o=t)?null:t,e):o},e.precision=function(){return arguments.length?e:0},e},ua.geo.interpolate=function(t,e){return bn(t[0]*ja,t[1]*ja,e[0]*ja,e[1]*ja)},ua.geo.length=function(t){return Ys=0,ua.geo.stream(t,Ws),Ys};var Ys,Ws={sphere:_,point:_,lineStart:wn,lineEnd:_,polygonStart:_,polygonEnd:_},Qs=Sn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ua.geo.azimuthalEqualArea=function(){return an(Qs)}).raw=Qs;var Zs=Sn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},I);(ua.geo.azimuthalEquidistant=function(){return an(Zs)}).raw=Zs,(ua.geo.conicConformal=function(){return Be(Tn)}).raw=Tn,(ua.geo.conicEquidistant=function(){return Be(Mn)}).raw=Mn;var Ks=Sn(function(t){return 1/t},Math.atan);(ua.geo.gnomonic=function(){return an(Ks)}).raw=Ks,Cn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-za]},(ua.geo.mercator=function(){return An(Cn)}).raw=Cn;var Js=Sn(function(){return 1},Math.asin);(ua.geo.orthographic=function(){return an(Js)}).raw=Js;var tu=Sn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ua.geo.stereographic=function(){return an(tu)}).raw=tu,kn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-za]},(ua.geo.transverseMercator=function(){var t=An(kn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=kn,ua.geom={},ua.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,n=Ct(h),r=Ct(d),i=t.length,o=[],a=[];for(e=0;e<i;e++)o.push([+n.call(this,t[e],e),+r.call(this,t[e],e),e]);for(o.sort(Nn),e=0;e<i;e++)a.push([o[e][0],-o[e][1]]);var s=Pn(o),u=Pn(a),c=u[0]===s[0],l=u[u.length-1]===s[s.length-1],f=[];for(e=s.length-1;0<=e;--e)f.push(t[o[s[e]][2]]);for(e=+c;e<u.length-l;++e)f.push(t[o[u[e]][2]]);return f}var h=En,d=Ln;return arguments.length?e(t):(e.x=function(t){return arguments.length?(h=t,e):h},e.y=function(t){return arguments.length?(d=t,e):d},e)},ua.geom.polygon=function(t){return Sa(t,eu),t};var eu=ua.geom.polygon.prototype=[];eu.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},eu.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},eu.clip=function(t){for(var e,n,r,i,o,a,s=In(t),u=-1,c=this.length-In(this),l=this[c-1];++u<c;){for(e=t.slice(),t.length=0,i=this[u],o=e[(r=e.length-s)-1],n=-1;++n<r;)Dn(a=e[n],l,i)?(Dn(o,l,i)||t.push(Rn(o,a,l,i)),t.push(a)):Dn(o,l,i)&&t.push(Rn(o,a,l,i)),o=a;s&&t.push(t[0]),l=i}return t};var nu,ru,iu,ou,au,su=[],uu=[];qn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Un),e.length},er.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},nr.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ar(this._),e.P=null,(e.N=t).P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(ir(this,n),n=(t=n).U),n.C=!1,r.C=!0,or(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(or(this,n),n=(t=n).U),n.C=!1,r.C=!0,ir(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?ar(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,((n.L=o).U=n)!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,(n.R=a).U=n):(n.U=i,t=(i=n).R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,ir(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,or(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,ir(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,or(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ir(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,or(this,i),t=this._;break}e.C=!0,i=(t=i).U}while(!t.C);t&&(t.C=!1)}}},ua.geom.voronoi=function(t){function e(i){var o=new Array(i.length),a=l[0][0],s=l[0][1],u=l[1][0],c=l[1][1];return sr(n(i),l).cells.forEach(function(t,e){var n=t.edges,r=t.site;(o[e]=n.length?n.map(function(t){var e=t.start();return[e.x,e.y]}):r.x>=a&&r.x<=u&&r.y>=s&&r.y<=c?[[a,c],[u,c],[u,s],[a,s]]:[]).point=i[e]}),o}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Ia)*Ia,y:Math.round(a(t,e)/Ia)*Ia,i:e}})}var r=En,i=Ln,o=r,a=i,l=cu;return t?e(t):(e.links=function(e){return sr(n(e)).edges.filter(function(t){return t.l&&t.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},e.triangles=function(c){var l=[];return sr(n(c)).cells.forEach(function(t,e){for(var n,r=t.site,i=t.edges.sort(Un),o=-1,a=i.length,s=i[a-1].edge,u=s.l===r?s.r:s.l;++o<a;)s,n=u,u=(s=i[o].edge).l===r?s.r:s.l,e<n.i&&e<u.i&&cr(r,n,u)<0&&l.push([c[e],c[n.i],c[u.i]])}),l},e.x=function(t){return arguments.length?(o=Ct(r=t),e):r},e.y=function(t){return arguments.length?(a=Ct(i=t),e):i},e.clipExtent=function(t){return arguments.length?(l=null==t?cu:t,e):l===cu?null:l},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):l===cu?null:l&&l[1]},e)};var cu=[[-1e6,-1e6],[1e6,1e6]];ua.geom.delaunay=function(t){return ua.geom.voronoi().triangles(t)},ua.geom.quadtree=function(t,x,_,b,w){function e(t){function d(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,c=t.y;if(null!=u)if(ma(u-n)+ma(c-r)<.01)f(t,e,n,r,i,o,a,s);else{var l=t.point;t.x=t.y=t.point=null,f(t,l,u,c,i,o,a,s),f(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else f(t,e,n,r,i,o,a,s)}function f(t,e,n,r,i,o,a,s){var u=.5*(i+a),c=.5*(o+s),l=u<=n,f=c<=r,h=f<<1|l;t.leaf=!1,l?i=u:a=u,f?o=c:s=c,d(t=t.nodes[h]||(t.nodes[h]=hr()),e,n,r,i,o,a,s)}var e,n,r,i,o,a,s,u,c,l=Ct(T),h=Ct(M);if(null!=x)a=x,s=_,u=b,c=w;else if(u=c=-(a=s=1/0),n=[],r=[],o=t.length,S)for(i=0;i<o;++i)(e=t[i]).x<a&&(a=e.x),e.y<s&&(s=e.y),e.x>u&&(u=e.x),e.y>c&&(c=e.y),n.push(e.x),r.push(e.y);else for(i=0;i<o;++i){var p=+l(e=t[i],i),g=+h(e,i);p<a&&(a=p),g<s&&(s=g),u<p&&(u=p),c<g&&(c=g),n.push(p),r.push(g)}var v=u-a,y=c-s;y<v?c=s+v:u=a+y;var m=hr();if(m.add=function(t){d(m,t,+l(t,++i),+h(t,i),a,s,u,c)},m.visit=function(t){dr(t,m,a,s,u,c)},m.find=function(t){return pr(m,t[0],t[1],a,s,u,c)},i=-1,null==x){for(;++i<o;)d(m,t[i],n[i],r[i],a,s,u,c);--i}else t.forEach(m.add);return n=r=t=e=null,m}var S,T=En,M=Ln;return(S=arguments.length)?(T=lr,M=fr,3===S&&(w=_,b=x,_=x=0),e(t)):(e.x=function(t){return arguments.length?(T=t,e):T},e.y=function(t){return arguments.length?(M=t,e):M},e.extent=function(t){return arguments.length?(null==t?x=_=b=w=null:(x=+t[0][0],_=+t[0][1],b=+t[1][0],w=+t[1][1]),e):null==x?null:[[x,_],[b,w]]},e.size=function(t){return arguments.length?(null==t?x=_=b=w=null:(x=_=0,b=+t[0],w=+t[1]),e):null==x?null:[b-x,w-_]},e)},ua.interpolateRgb=gr,ua.interpolateObject=vr,ua.interpolateNumber=yr,ua.interpolateString=mr;var lu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fu=new RegExp(lu.source,"g");ua.interpolate=xr,ua.interpolators=[function(t,e){var n=typeof e;return("string"===n?rs.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?gr:mr:e instanceof at?gr:Array.isArray(e)?_r:"object"===n&&isNaN(e)?vr:yr)(t,e)}],ua.interpolateArray=_r;var hu=function(){return I},du=ua.map({linear:hu,poly:Ar,quad:function(){return Tr},cubic:function(){return Mr},sin:function(){return kr},exp:function(){return Er},circle:function(){return Lr},elastic:Pr,back:Nr,bounce:function(){return Dr}}),pu=ua.map({"in":I,out:wr,"in-out":Sr,"out-in":function(t){return Sr(wr(t))}});ua.ease=function(t){var e=t.indexOf("-"),n=0<=e?t.slice(0,e):t,r=0<=e?t.slice(e+1):"in";return n=du.get(n)||hu,br((r=pu.get(r)||I)(n.apply(null,ca.call(arguments,1))))},ua.interpolateHcl=Rr,ua.interpolateHsl=Ir,ua.interpolateLab=Or,ua.interpolateRound=Fr,ua.transform=function(t){var n=fa.createElementNS(ua.ns.prefix.svg,"g");return(ua.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new Vr(e?e.matrix:gu)})(t)},Vr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var gu={a:1,b:0,c:0,d:1,e:0,f:0};ua.interpolateTransform=$r,ua.layout={},ua.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Qr(t[n]));return e}},ua.layout.chord=function(){function t(){var t,e,n,r,i,o={},a=[],s=ua.range(_),u=[];for(y=[],m=[],t=0,r=-1;++r<_;){for(e=0,i=-1;++i<_;)e+=x[r][i];a.push(e),u.push(ua.range(_)),t+=e}for(b&&s.sort(function(t,e){return b(a[t],a[e])}),w&&u.forEach(function(t,n){t.sort(function(t,e){return w(x[n][t],x[n][e])})}),t=(Va-T*_)/t,e=0,r=-1;++r<_;){for(n=e,i=-1;++i<_;){var c=s[r],l=u[c][i],f=x[c][l],h=e,d=e+=f*t;o[c+"-"+l]={index:c,subindex:l,startAngle:h,endAngle:d,value:f}}m[c]={index:c,startAngle:n,endAngle:e,value:a[c]},e+=T}for(r=-1;++r<_;)for(i=r-1;++i<_;){var p=o[r+"-"+i],g=o[i+"-"+r];(p.value||g.value)&&y.push(p.value<g.value?{source:g,target:p}:{source:p,target:g})}S&&v()}function v(){y.sort(function(t,e){return S((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var y,m,x,_,b,w,S,e={},T=0;return e.matrix=function(t){return arguments.length?(_=(x=t)&&x.length,y=m=null,e):x},e.padding=function(t){return arguments.length?(T=t,y=m=null,e):T},e.sortGroups=function(t){return arguments.length?(b=t,y=m=null,e):b},e.sortSubgroups=function(t){return arguments.length?(w=t,y=null,e):w},e.sortChords=function(t){return arguments.length?(S=t,y&&v(),e):S},e.chords=function(){return y||t(),y},e.groups=function(){return m||t(),m},e},ua.layout.force=function(){function f(c){return function(t,e,n,r){if(t.point!==c){var i=t.cx-c.x,o=t.cy-c.y,a=r-e,s=i*i+o*o;if(a*a/w<s){if(s<l){var u=t.charge/s;c.px-=i*u,c.py-=o*u}return!0}if(t.point&&s&&s<l){u=t.pointCharge/s;c.px-=i*u,c.py-=o*u}}return!t.charge}}function t(t){t.px=ua.event.x,t.py=ua.event.y,i.resume()}var h,e,d,p,g,v,i={},y=ua.dispatch("start","tick","end"),m=[1,1],x=.9,o=vu,a=yu,_=-30,l=mu,b=.1,w=.64,S=[],T=[];return i.tick=function(){if((d*=.99)<.005)return h=null,y.end({type:"end",alpha:d=0}),!0;var t,e,n,r,i,o,a,s,u,c=S.length,l=T.length;for(e=0;e<l;++e)r=(n=T[e]).source,(o=(s=(i=n.target).x-r.x)*s+(u=i.y-r.y)*u)&&(s*=o=d*g[e]*((o=Math.sqrt(o))-p[e])/o,u*=o,i.x-=s*(a=r.weight+i.weight?r.weight/(r.weight+i.weight):.5),i.y-=u*a,r.x+=s*(a=1-a),r.y+=u*a);if((a=d*b)&&(s=m[0]/2,u=m[1]/2,e=-1,a))for(;++e<c;)(n=S[e]).x+=(s-n.x)*a,n.y+=(u-n.y)*a;if(_)for(ri(t=ua.geom.quadtree(S),d,v),e=-1;++e<c;)(n=S[e]).fixed||t.visit(f(n));for(e=-1;++e<c;)(n=S[e]).fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*x,n.y-=(n.py-(n.py=n.y))*x);y.tick({type:"tick",alpha:d})},i.nodes=function(t){return arguments.length?(S=t,i):S},i.links=function(t){return arguments.length?(T=t,i):T},i.size=function(t){return arguments.length?(m=t,i):m},i.linkDistance=function(t){return arguments.length?(o="function"==typeof t?t:+t,i):o},i.distance=i.linkDistance,i.linkStrength=function(t){return arguments.length?(a="function"==typeof t?t:+t,i):a},i.friction=function(t){return arguments.length?(x=+t,i):x},i.charge=function(t){return arguments.length?(_="function"==typeof t?t:+t,i):_},i.chargeDistance=function(t){return arguments.length?(l=t*t,i):Math.sqrt(l)},i.gravity=function(t){return arguments.length?(b=+t,i):b},i.theta=function(t){return arguments.length?(w=t*t,i):Math.sqrt(w)},i.alpha=function(t){return arguments.length?(t=+t,d?0<t?d=t:(h.c=null,h.t=NaN,h=null,y.end({type:"end",alpha:d=0})):0<t&&(y.start({type:"start",alpha:d=t}),h=Pt(i.tick)),i):d},i.start=function(){function t(t,e){if(!u){for(u=new Array(c),o=0;o<c;++o)u[o]=[];for(o=0;o<l;++o){var n=T[o];u[n.source.index].push(n.target),u[n.target.index].push(n.source)}}for(var r,i=u[s],o=-1,a=i.length;++o<a;)if(!isNaN(r=i[o][t]))return r;return Math.random()*e}var s,u,e,c=S.length,l=T.length,n=m[0],r=m[1];for(s=0;s<c;++s)(e=S[s]).index=s,e.weight=0;for(s=0;s<l;++s)"number"==typeof(e=T[s]).source&&(e.source=S[e.source]),"number"==typeof e.target&&(e.target=S[e.target]),++e.source.weight,++e.target.weight;for(s=0;s<c;++s)e=S[s],isNaN(e.x)&&(e.x=t("x",n)),isNaN(e.y)&&(e.y=t("y",r)),isNaN(e.px)&&(e.px=e.x),isNaN(e.py)&&(e.py=e.y);if(p=[],"function"==typeof o)for(s=0;s<l;++s)p[s]=+o.call(this,T[s],s);else for(s=0;s<l;++s)p[s]=o;if(g=[],"function"==typeof a)for(s=0;s<l;++s)g[s]=+a.call(this,T[s],s);else for(s=0;s<l;++s)g[s]=a;if(v=[],"function"==typeof _)for(s=0;s<c;++s)v[s]=+_.call(this,S[s],s);else for(s=0;s<c;++s)v[s]=_;return i.resume()},i.resume=function(){return i.alpha(.1)},i.stop=function(){return i.alpha(0)},i.drag=function(){return e||(e=ua.behavior.drag().origin(I).on("dragstart.force",Jr).on("drag.force",t).on("dragend.force",ti)),arguments.length?void this.on("mouseover.force",ei).on("mouseout.force",ni).call(e):e},ua.rebind(i,y,"on")};var vu=20,yu=1,mu=1/0;ua.layout.hierarchy=function(){function s(t){var e,n=[t],r=[];for(t.depth=0;null!=(e=n.pop());)if(r.push(e),(o=c.call(s,e,e.depth))&&(i=o.length)){for(var i,o,a;0<=--i;)n.push(a=o[i]),a.parent=e,a.depth=e.depth+1;l&&(e.value=0),e.children=o}else l&&(e.value=+l.call(s,e,e.depth)||0),delete e.children;return ai(t,function(t){var e,n;u&&(e=t.children)&&e.sort(u),l&&(n=t.parent)&&(n.value+=t.value)}),r}var u=ci,c=si,l=ui;return s.sort=function(t){return arguments.length?(u=t,s):u},s.children=function(t){return arguments.length?(c=t,s):c},s.value=function(t){return arguments.length?(l=t,s):l},s.revalue=function(t){return l&&(oi(t,function(t){t.children&&(t.value=0)}),ai(t,function(t){var e;t.children||(t.value=+l.call(s,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},s},ua.layout.partition=function(){function c(t,e,n,r){var i=t.children;if(t.x=e,t.y=t.depth*r,t.dx=n,t.dy=r,i&&(o=i.length)){var o,a,s,u=-1;for(n=t.value?n/t.value:0;++u<o;)c(a=i[u],e,s=a.value*n,r),e+=s}}function o(t){var e=t.children,n=0;if(e&&(r=e.length))for(var r,i=-1;++i<r;)n=Math.max(n,o(e[i]));return 1+n}function e(t,e){var n=r.call(this,t,e);return c(n[0],0,i[0],i[1]/o(n[0])),n}var r=ua.layout.hierarchy(),i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},ii(e,r)},ua.layout.pie=function(){function h(n){var e,t=n.length,r=n.map(function(t,e){return+d.call(h,t,e)}),i=+("function"==typeof g?g.apply(this,arguments):g),o=("function"==typeof v?v.apply(this,arguments):v)-i,a=Math.min(Math.abs(o)/t,+("function"==typeof y?y.apply(this,arguments):y)),s=a*(o<0?-1:1),u=ua.sum(r),c=u?(o-t*s)/u:0,l=ua.range(t),f=[];return null!=p&&l.sort(p===xu?function(t,e){return r[e]-r[t]}:function(t,e){return p(n[t],n[e])}),l.forEach(function(t){f[t]={data:n[t],value:e=r[t],startAngle:i,endAngle:i+=e*c+s,padAngle:a}}),f}var d=Number,p=xu,g=0,v=Va,y=0;return h.value=function(t){return arguments.length?(d=t,h):d},h.sort=function(t){return arguments.length?(p=t,h):p},h.startAngle=function(t){return arguments.length?(g=t,h):g},h.endAngle=function(t){return arguments.length?(v=t,h):v},h.padAngle=function(t){return arguments.length?(y=t,h):y},h};var xu={};ua.layout.stack=function(){function f(t,e){if(!(o=t.length))return t;var n=t.map(function(t,e){return h.call(f,t,e)}),r=n.map(function(t){return t.map(function(t,e){return[v.call(f,t,e),y.call(f,t,e)]})}),i=d.call(f,r,e);n=ua.permute(n,i),r=ua.permute(r,i);var o,a,s,u,c=p.call(f,r,e),l=n[0].length;for(s=0;s<l;++s)for(g.call(f,n[0][s],u=c[s],r[0][s][1]),a=1;a<o;++a)g.call(f,n[a][s],u+=r[a-1][s][1],r[a][s][1]);return t}var h=I,d=pi,p=gi,g=di,v=fi,y=hi;return f.values=function(t){return arguments.length?(h=t,f):h},f.order=function(t){return arguments.length?(d="function"==typeof t?t:_u.get(t)||pi,f):d},f.offset=function(t){return arguments.length?(p="function"==typeof t?t:bu.get(t)||gi,f):p},f.x=function(t){return arguments.length?(v=t,f):v},f.y=function(t){return arguments.length?(y=t,f):y},f.out=function(t){return arguments.length?(g=t,f):g},f};var _u=ua.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(vi),o=t.map(yi),a=ua.range(r).sort(function(t,e){return i[t]-i[e]}),s=0,u=0,c=[],l=[];for(e=0;e<r;++e)n=a[e],s<u?(s+=o[n],c.push(n)):(u+=o[n],l.push(n));return l.reverse().concat(c)},reverse:function(t){return ua.range(t.length).reverse()},"default":pi}),bu=ua.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;n<o;++n){for(r=e=0;e<i;e++)r+=t[e][n][1];s<r&&(s=r),a.push(r)}for(n=0;n<o;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,r,i,o,a,s,u,c,l=t.length,f=t[0],h=f.length,d=[];for(d[0]=u=c=0,n=1;n<h;++n){for(i=e=0;e<l;++e)i+=t[e][n][1];for(o=e=0,s=f[n][0]-f[n-1][0];e<l;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}d[n]=u-=i?o/i*s:0,u<c&&(c=u)}for(n=0;n<h;++n)d[n]-=c;return d},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;n<o;++n){for(r=e=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:gi});ua.layout.histogram=function(){function n(t,e){for(var n,r,i=[],o=t.map(h,this),a=d.call(this,o,e),s=p.call(this,a,o,e),u=(e=-1,
o.length),c=s.length-1,l=f?1:1/u;++e<c;)(n=i[e]=[]).dx=s[e+1]-(n.x=s[e]),n.y=0;if(0<c)for(e=-1;++e<u;)(r=o[e])>=a[0]&&r<=a[1]&&((n=i[ua.bisect(s,r,1,c)-1]).y+=l,n.push(t[e]));return i}var f=!0,h=Number,d=bi,p=xi;return n.value=function(t){return arguments.length?(h=t,n):h},n.range=function(t){return arguments.length?(d=Ct(t),n):d},n.bins=function(e){return arguments.length?(p="number"==typeof e?function(t){return _i(t,e)}:Ct(e),n):p},n.frequency=function(t){return arguments.length?(f=!!t,n):f},n},ua.layout.pack=function(){function e(t,e){var n=c.call(this,t,e),r=n[0],i=f[0],o=f[1],a=null==u?Math.sqrt:"function"==typeof u?u:function(){return u};if(r.x=r.y=0,ai(r,function(t){t.r=+a(t.value)}),ai(r,Ci),l){var s=l*(u?1:Math.max(2*r.r/i,2*r.r/o))/2;ai(r,function(t){t.r+=s}),ai(r,Ci),ai(r,function(t){t.r-=s})}return Ei(r,i/2,o/2,u?1:1/Math.max(2*r.r/i,2*r.r/o)),n}var u,c=ua.layout.hierarchy().sort(wi),l=0,f=[1,1];return e.size=function(t){return arguments.length?(f=t,e):f},e.radius=function(t){return arguments.length?(u=null==t||"function"==typeof t?t:+t,e):u},e.padding=function(t){return arguments.length?(l=+t,e):l},ii(e,c)},ua.layout.tree=function(){function e(t,e){var n=g.call(this,t,e),r=n[0],i=f(r);if(ai(i,h),i.parent.m=-i.z,oi(i,d),m)oi(r,p);else{var o=r,a=r,s=r;oi(r,function(t){t.x<o.x&&(o=t),t.x>a.x&&(a=t),t.depth>s.depth&&(s=t)});var u=v(o,a)/2-o.x,c=y[0]/(a.x+v(a,o)/2+u),l=y[1]/(s.depth||1);oi(r,function(t){t.x=(t.x+u)*c,t.y=t.depth*l})}return n}function f(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,o=e.children,a=0,s=o.length;a<s;++a)r.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function h(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){Ii(t);var i=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+v(t._,r._),t.m=t.z-i):t.z=i}else r&&(t.z=r.z+v(t._,r._));t.parent.A=o(t,r,t.parent.A||n[0])}function d(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function o(t,e,n){if(e){for(var r,i=t,o=t,a=e,s=i.parent.children[0],u=i.m,c=o.m,l=a.m,f=s.m;a=Di(a),i=Ni(i),a&&i;)s=Ni(s),(o=Di(o)).a=t,0<(r=a.z+l-i.z-u+v(a._,i._))&&(Ri(Oi(a,t,n),t,r),u+=r,c+=r),l+=a.m,u+=i.m,f+=s.m,c+=o.m;a&&!Di(o)&&(o.t=a,o.m+=l-c),i&&!Ni(s)&&(s.t=i,s.m+=u-f,n=t)}return n}function p(t){t.x*=y[0],t.y=t.depth*y[1]}var g=ua.layout.hierarchy().sort(null).value(null),v=Pi,y=[1,1],m=null;return e.separation=function(t){return arguments.length?(v=t,e):v},e.size=function(t){return arguments.length?(m=null==(y=t)?p:null,e):m?null:y},e.nodeSize=function(t){return arguments.length?(m=null==(y=t)?null:p,e):m?y:null},ii(e,g)},ua.layout.cluster=function(){function e(t,e){var n,r=l.call(this,t,e),i=r[0],o=0;ai(i,function(t){var e=t.children;e&&e.length?(t.x=Vi(e),t.y=Fi(e)):(t.x=n?o+=f(t,n):0,t.y=0,n=t)});var a=Gi(i),s=zi(i),u=a.x-f(a,s)/2,c=s.x+f(s,a)/2;return ai(i,d?function(t){t.x=(t.x-i.x)*h[0],t.y=(i.y-t.y)*h[1]}:function(t){t.x=(t.x-u)/(c-u)*h[0],t.y=(1-(i.y?t.y/i.y:1))*h[1]}),r}var l=ua.layout.hierarchy().sort(null).value(null),f=Pi,h=[1,1],d=!1;return e.separation=function(t){return arguments.length?(f=t,e):f},e.size=function(t){return arguments.length?(d=null==(h=t),e):d?null:h},e.nodeSize=function(t){return arguments.length?(d=null!=(h=t),e):d?h:null},ii(e,l)},ua.layout.treemap=function(){function l(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function f(t){var e=t.children;if(e&&e.length){var n,r,i,o=g(t),a=[],s=e.slice(),u=1/0,c="slice"===v?o.dx:"dice"===v?o.dy:"slice-dice"===v?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(l(s,o.dx*o.dy/t.value),a.area=0;0<(i=s.length);)a.push(n=s[i-1]),a.area+=n.area,"squarify"!==v||(r=h(a,c))<=u?(s.pop(),u=r):(a.area-=a.pop().area,d(a,c,o,!1),c=Math.min(o.dx,o.dy),a.length=a.area=0,u=1/0);a.length&&(d(a,c,o,!0),a.length=a.area=0),e.forEach(f)}}function a(t){var e=t.children;if(e&&e.length){var n,r=g(t),i=e.slice(),o=[];for(l(i,r.dx*r.dy/t.value),o.area=0;n=i.pop();)o.push(n),o.area+=n.area,null!=n.z&&(d(o,n.z?r.dx:r.dy,r,!i.length),o.length=o.area=0);e.forEach(a)}}function h(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),i<n&&(i=n));return e*=e,(r*=r)?Math.max(e*i*y/r,r/(e*o*y)):1/0}function d(t,e,n,r){var i,o=-1,a=t.length,s=n.x,u=n.y,c=e?p(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<a;)(i=t[o]).x=s,i.y=u,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?p(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<a;)(i=t[o]).x=s,i.y=u,i.dx=c,u+=i.dy=Math.min(n.y+n.dy-u,c?p(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function i(t){var e=r||o(t),n=e[0];return n.x=n.y=0,n.value?(n.dx=s[0],n.dy=s[1]):n.dx=n.dy=0,r&&o.revalue(n),l([n],n.dx*n.dy/n.value),(r?a:f)(n),c&&(r=e),e}var r,o=ua.layout.hierarchy(),p=Math.round,s=[1,1],u=null,g=ji,c=!1,v="squarify",y=.5*(1+Math.sqrt(5));return i.size=function(t){return arguments.length?(s=t,i):s},i.padding=function(n){function t(t){var e=n.call(i,t,t.depth);return null==e?ji(t):Hi(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Hi(t,n)}return arguments.length?(g=null==(u=n)?ji:"function"==(r=typeof n)?t:("number"===r&&(n=[n,n,n,n]),e),i):u;var r},i.round=function(t){return arguments.length?(p=t?Math.round:Number,i):p!=Number},i.sticky=function(t){return arguments.length?(c=t,r=null,i):c},i.ratio=function(t){return arguments.length?(y=t,i):y},i.mode=function(t){return arguments.length?(v=t+"",i):v},ii(i,o)},ua.random={normal:function(r,i){var t=arguments.length;return t<2&&(i=1),t<1&&(r=0),function(){for(var t,e,n;!(n=(t=2*Math.random()-1)*t+(e=2*Math.random()-1)*e)||1<n;);return r+i*t*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var t=ua.random.normal.apply(ua,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=ua.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}},ua.scale={};var wu={floor:I,ceil:I};ua.scale.linear=function(){return Wi([0,1],[0,1],xr,!1)};var Su={s:1,g:1,p:1,r:1,e:1};ua.scale.log=function(){return ro(ua.scale.linear().domain([0,1]),10,!0,[1,10])};var Tu=ua.format(".0e"),Mu={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};ua.scale.pow=function(){return io(ua.scale.linear(),1,[0,1])},ua.scale.sqrt=function(){return ua.scale.pow().exponent(.5)},ua.scale.ordinal=function(){return ao([],{t:"range",a:[[]]})},ua.scale.category10=function(){return ua.scale.ordinal().range(Cu)},ua.scale.category20=function(){return ua.scale.ordinal().range(Au)},ua.scale.category20b=function(){return ua.scale.ordinal().range(ku)},ua.scale.category20c=function(){return ua.scale.ordinal().range(Eu)};var Cu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(xt),Au=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(xt),ku=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(xt),Eu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(xt);ua.scale.quantile=function(){return so([],[])},ua.scale.quantize=function(){return uo(0,1,[0,1])},ua.scale.threshold=function(){return co([.5],[0,1])},ua.scale.identity=function(){return lo([0,1])},ua.svg={},ua.svg.arc=function(){function e(){var t=Math.max(0,+G.apply(this,arguments)),e=Math.max(0,+z.apply(this,arguments)),n=q.apply(this,arguments)-za,r=B.apply(this,arguments)-za,i=Math.abs(r-n),o=r<n?0:1;if(e<t&&(a=e,e=t,t=a),Ga<=i)return V(e,o)+(t?V(t,1-o):"")+"Z";var a,s,u,c,l,f,h,d,p,g,v,y,m=0,x=0,_=[];if((c=(+U.apply(this,arguments)||0)/2)&&(u=H===Lu?Math.sqrt(t*t+e*e):+H.apply(this,arguments),o||(x*=-1),e&&(x=et(u/e*Math.sin(c))),t&&(m=et(u/t*Math.sin(c)))),e){l=e*Math.cos(n+x),f=e*Math.sin(n+x),h=e*Math.cos(r-x),d=e*Math.sin(r-x);var b=Math.abs(r-n-2*x)<=Fa?0:1;if(x&&mo(l,f,h,d)===o^b){var w=(n+r)/2;l=e*Math.cos(w),f=e*Math.sin(w),h=d=null}}else l=f=0;if(t){p=t*Math.cos(r-m),g=t*Math.sin(r-m),v=t*Math.cos(n+m),y=t*Math.sin(n+m);var S=Math.abs(n-r+2*m)<=Fa?0:1;if(m&&mo(p,g,v,y)===1-o^S){var T=(n+r)/2;p=t*Math.cos(T),g=t*Math.sin(T),v=y=null}}else p=g=0;if(Ia<i&&.001<(a=Math.min(Math.abs(e-t)/2,+j.apply(this,arguments)))){s=t<e^o?0:1;var M=a,C=a;if(i<Fa){var A=null==v?[p,g]:null==h?[l,f]:Rn([l,f],[v,y],[h,d],[p,g]),k=l-A[0],E=f-A[1],L=h-A[0],P=d-A[1],N=1/Math.sin(Math.acos((k*L+E*P)/(Math.sqrt(k*k+E*E)*Math.sqrt(L*L+P*P)))/2),D=Math.sqrt(A[0]*A[0]+A[1]*A[1]);C=Math.min(a,(t-D)/(N-1)),M=Math.min(a,(e-D)/(N+1))}if(null!=h){var R=xo(null==v?[p,g]:[v,y],[l,f],e,M,o),I=xo([h,d],[p,g],e,M,o);a===M?_.push("M",R[0],"A",M,",",M," 0 0,",s," ",R[1],"A",e,",",e," 0 ",1-o^mo(R[1][0],R[1][1],I[1][0],I[1][1]),",",o," ",I[1],"A",M,",",M," 0 0,",s," ",I[0]):_.push("M",R[0],"A",M,",",M," 0 1,",s," ",I[0])}else _.push("M",l,",",f);if(null!=v){var O=xo([l,f],[v,y],t,-C,o),F=xo([p,g],null==h?[l,f]:[h,d],t,-C,o);a===C?_.push("L",F[0],"A",C,",",C," 0 0,",s," ",F[1],"A",t,",",t," 0 ",o^mo(F[1][0],F[1][1],O[1][0],O[1][1]),",",1-o," ",O[1],"A",C,",",C," 0 0,",s," ",O[0]):_.push("L",F[0],"A",C,",",C," 0 0,",s," ",O[0])}else _.push("L",p,",",g)}else _.push("M",l,",",f),null!=h&&_.push("A",e,",",e," 0 ",b,",",o," ",h,",",d),_.push("L",p,",",g),null!=v&&_.push("A",t,",",t," 0 ",S,",",1-o," ",v,",",y);return _.push("Z"),_.join("")}function V(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var G=ho,z=po,j=fo,H=Lu,q=go,B=vo,U=yo;return e.innerRadius=function(t){return arguments.length?(G=Ct(t),e):G},e.outerRadius=function(t){return arguments.length?(z=Ct(t),e):z},e.cornerRadius=function(t){return arguments.length?(j=Ct(t),e):j},e.padRadius=function(t){return arguments.length?(H=t==Lu?Lu:Ct(t),e):H},e.startAngle=function(t){return arguments.length?(q=Ct(t),e):q},e.endAngle=function(t){return arguments.length?(B=Ct(t),e):B},e.padAngle=function(t){return arguments.length?(U=Ct(t),e):U},e.centroid=function(){var t=(+G.apply(this,arguments)+ +z.apply(this,arguments))/2,e=(+q.apply(this,arguments)+ +B.apply(this,arguments))/2-za;return[Math.cos(e)*t,Math.sin(e)*t]},e};var Lu="auto";ua.svg.line=function(){return _o(I)};var Pu=ua.map({linear:bo,"linear-closed":wo,step:So,"step-before":To,"step-after":Mo,basis:Po,"basis-open":No,"basis-closed":Do,bundle:Ro,cardinal:ko,"cardinal-open":Co,"cardinal-closed":Ao,monotone:zo});Pu.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Nu=[0,2/3,1/3,0],Du=[0,1/3,2/3,0],Ru=[0,1/6,2/3,1/6];ua.svg.line.radial=function(){var t=_o(jo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},(To.reverse=Mo).reverse=To,ua.svg.area=function(){return Ho(I)},ua.svg.area.radial=function(){var t=Ho(jo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ua.svg.chord=function(){function e(t,e){var n=i(this,u,t,e),r=i(this,c,t,e);return"M"+n.p0+a(n.r,n.p1,n.a1-n.a0)+(o(n,r)?s(n.r,n.p1,n.r,n.p0):s(n.r,n.p1,r.r,r.p0)+a(r.r,r.p1,r.a1-r.a0)+s(r.r,r.p1,n.r,n.p0))+"Z"}function i(t,e,n,r){var i=e.call(t,n,r),o=l.call(t,i,r),a=f.call(t,i,r)-za,s=h.call(t,i,r)-za;return{r:o,a0:a,a1:s,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(s),o*Math.sin(s)]}}function o(t,e){return t.a0==e.a0&&t.a1==e.a1}function a(t,e,n){return"A"+t+","+t+" 0 "+ +(Fa<n)+",1 "+e}function s(t,e,n,r){return"Q 0,0 "+r}var u=xn,c=_n,l=qo,f=go,h=vo;return e.radius=function(t){return arguments.length?(l=Ct(t),e):l},e.source=function(t){return arguments.length?(u=Ct(t),e):u},e.target=function(t){return arguments.length?(c=Ct(t),e):c},e.startAngle=function(t){return arguments.length?(f=Ct(t),e):f},e.endAngle=function(t){return arguments.length?(h=Ct(t),e):h},e},ua.svg.diagonal=function(){function e(t,e){var n=a.call(this,t,e),r=s.call(this,t,e),i=(n.y+r.y)/2,o=[n,{x:n.x,y:i},{x:r.x,y:i},r];return"M"+(o=o.map(u))[0]+"C"+o[1]+" "+o[2]+" "+o[3]}var a=xn,s=_n,u=Bo;return e.source=function(t){return arguments.length?(a=Ct(t),e):a},e.target=function(t){return arguments.length?(s=Ct(t),e):s},e.projection=function(t){return arguments.length?(u=t,e):u},e},ua.svg.diagonal.radial=function(){var t=ua.svg.diagonal(),e=Bo,n=t.projection;return t.projection=function(t){return arguments.length?n(Uo(e=t)):e},t},ua.svg.symbol=function(){function e(t,e){return(Iu.get(n.call(this,t,e))||Yo)(r.call(this,t,e))}var n=$o,r=Xo;return e.type=function(t){return arguments.length?(n=Ct(t),e):n},e.size=function(t){return arguments.length?(r=Ct(t),e):r},e};var Iu=ua.map({circle:Yo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Fu)),n=e*Fu;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Ou),n=e*Ou/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Ou),n=e*Ou/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});ua.svg.symbolTypes=Iu.keys();var Ou=Math.sqrt(3),Fu=Math.tan(30*ja);Aa.transition=function(t){for(var e,n,r=Vu||++Hu,i=Jo(t),o=[],a=Gu||{time:Date.now(),ease:Cr,delay:0,duration:250},s=-1,u=this.length;++s<u;){o.push(e=[]);for(var c=this[s],l=-1,f=c.length;++l<f;)(n=c[l])&&ta(n,l,i,r,a),e.push(n)}return Qo(o,i,r)},Aa.interrupt=function(t){return this.each(null==t?zu:Wo(Jo(t)))};var Vu,Gu,zu=Wo(Jo()),ju=[],Hu=0;ju.call=Aa.call,ju.empty=Aa.empty,ju.node=Aa.node,ju.size=Aa.size,ua.transition=function(t,e){return t&&t.transition?Vu?t.transition(e):t:ua.selection().transition(t)},(ua.transition.prototype=ju).select=function(t){var e,n,r,i=this.id,o=this.namespace,a=[];t=T(t);for(var s=-1,u=this.length;++s<u;){a.push(e=[]);for(var c=this[s],l=-1,f=c.length;++l<f;)(r=c[l])&&(n=t.call(r,r.__data__,l,s))?("__data__"in r&&(n.__data__=r.__data__),ta(n,l,o,i,r[o][i]),e.push(n)):e.push(null)}return Qo(a,o,i)},ju.selectAll=function(t){var e,n,r,i,o,a=this.id,s=this.namespace,u=[];t=M(t);for(var c=-1,l=this.length;++c<l;)for(var f=this[c],h=-1,d=f.length;++h<d;)if(r=f[h]){o=r[s][a],n=t.call(r,r.__data__,h,c),u.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&ta(i,p,s,a,o),e.push(i)}return Qo(u,s,a)},ju.filter=function(t){var e,n,r=[];"function"!=typeof t&&(t=j(t));for(var i=0,o=this.length;i<o;i++){r.push(e=[]);for(var a,s=0,u=(a=this[i]).length;s<u;s++)(n=a[s])&&t.call(n,n.__data__,s,i)&&e.push(n)}return Qo(r,this.namespace,this.id)},ju.tween=function(e,n){var r=this.id,i=this.namespace;return arguments.length<2?this.node()[i][r].tween.get(e):q(this,null==n?function(t){t[i][r].tween.remove(e)}:function(t){t[i][r].tween.set(e,n)})},ju.attr=function(t,e){function r(){this.removeAttribute(s)}function i(){this.removeAttributeNS(s.space,s.local)}function n(n){return null==n?r:(n+="",function(){var e,t=this.getAttribute(s);return t!==n&&(e=a(t,n),function(t){this.setAttribute(s,e(t))})})}function o(n){return null==n?i:(n+="",function(){var e,t=this.getAttributeNS(s.space,s.local);return t!==n&&(e=a(t,n),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?$r:xr,s=ua.ns.qualify(t);return Zo(this,"attr."+t,e,s.local?o:n)},ju.attrTween=function(t,r){function e(t,e){var n=r.call(this,t,e,this.getAttribute(i));return n&&function(t){this.setAttribute(i,n(t))}}function n(t,e){var n=r.call(this,t,e,this.getAttributeNS(i.space,i.local));return n&&function(t){this.setAttributeNS(i.space,i.local,n(t))}}var i=ua.ns.qualify(t);return this.tween("attr."+t,i.local?n:e)},ju.style=function(r,t,i){function e(){this.style.removeProperty(r)}function n(n){return null==n?e:(n+="",function(){var e,t=R(this).getComputedStyle(this,null).getPropertyValue(r);return t!==n&&(e=xr(t,n),function(t){this.style.setProperty(r,e(t),i)})})}var o=arguments.length;if(o<3){if("string"!=typeof r){for(i in o<2&&(t=""),r)this.style(i,r[i],t);return this}i=""}return Zo(this,"style."+r,t,n)},ju.styleTween=function(r,i,o){function t(t,e){var n=i.call(this,t,e,R(this).getComputedStyle(this,null).getPropertyValue(r));return n&&function(t){this.style.setProperty(r,n(t),o)}}return arguments.length<3&&(o=""),this.tween("style."+r,t)},ju.text=function(t){return Zo(this,"text",t,Ko)},ju.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},ju.ease=function(e){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:("function"!=typeof e&&(e=ua.ease.apply(ua,arguments)),q(this,function(t){t[r][n].ease=e}))},ju.delay=function(r){var i=this.id,o=this.namespace;return arguments.length<1?this.node()[o][i].delay:q(this,"function"==typeof r?function(t,e,n){t[o][i].delay=+r.call(t,t.__data__,e,n)}:(r=+r,function(t){t[o][i].delay=r}))},ju.duration=function(r){var i=this.id,o=this.namespace;return arguments.length<1?this.node()[o][i].duration:q(this,"function"==typeof r?function(t,e,n){t[o][i].duration=Math.max(1,r.call(t,t.__data__,e,n))}:(r=Math.max(1,r),function(t){t[o][i].duration=r}))},ju.each=function(r,n){var i=this.id,o=this.namespace;if(arguments.length<2){var t=Gu,e=Vu;try{Vu=i,q(this,function(t,e,n){Gu=t[o][i],r.call(t,t.__data__,e,n)})}finally{Gu=t,Vu=e}}else q(this,function(t){var e=t[o][i];(e.event||(e.event=ua.dispatch("start","end","interrupt"))).on(r,n)});return this},ju.transition=function(){for(var t,e,n,r=this.id,i=++Hu,o=this.namespace,a=[],s=0,u=this.length;s<u;s++){a.push(t=[]);for(var c,l=0,f=(c=this[s]).length;l<f;l++)(e=c[l])&&ta(e,l,o,i,{time:(n=e[o][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return Qo(a,o,i)},ua.svg.axis=function(){function n(t){t.each(function(){var t,e=ua.select(this),n=this.__chart__||A,r=this.__chart__=A.copy(),i=null==D?r.ticks?r.ticks.apply(r,N):r.domain():D,o=null==C?r.tickFormat?r.tickFormat.apply(r,N):I:C,a=e.selectAll(".tick").data(i,r),s=a.enter().insert("g",".domain").attr("class","tick").style("opacity",Ia),u=ua.transition(a.exit()).style("opacity",Ia).remove(),c=ua.transition(a.order()).style("opacity",1),l=Math.max(E,0)+P,f=Bi(r),h=e.selectAll(".domain").data([0]),d=(h.enter().append("path").attr("class","domain"),ua.transition(h));s.append("line"),s.append("text");var p,g,v,y,m=s.select("line"),x=c.select("line"),_=a.select("text").text(o),b=s.select("text"),w=c.select("text"),S="top"===k||"left"===k?-1:1;if("bottom"===k||"top"===k?(t=ea,p="x",v="y",g="x2",y="y2",_.attr("dy",S<0?"0em":".71em").style("text-anchor","middle"),d.attr("d","M"+f[0]+","+S*L+"V0H"+f[1]+"V"+S*L)):(t=na,p="y",v="x",g="y2",y="x2",_.attr("dy",".32em").style("text-anchor",S<0?"end":"start"),d.attr("d","M"+S*L+","+f[0]+"H0V"+f[1]+"H"+S*L)),m.attr(y,S*E),b.attr(v,S*l),x.attr(g,0).attr(y,S*E),w.attr(p,0).attr(v,S*l),r.rangeBand){var T=r,M=T.rangeBand()/2;n=r=function(t){return T(t)+M}}else n.rangeBand?n=r:u.call(t,r,n);s.call(t,n,r),c.call(t,r,r)})}var C,A=ua.scale.linear(),k=qu,E=6,L=6,P=3,N=[10],D=null;return n.scale=function(t){return arguments.length?(A=t,n):A},n.orient=function(t){return arguments.length?(k=t in Bu?t+"":qu,n):k},n.ticks=function(){return arguments.length?(N=la(arguments),n):N},n.tickValues=function(t){return arguments.length?(D=t,n):D},n.tickFormat=function(t){return arguments.length?(C=t,n):C},n.tickSize=function(t){var e=arguments.length;return e?(E=+t,L=+arguments[e-1],n):E},n.innerTickSize=function(t){return arguments.length?(E=+t,n):E},n.outerTickSize=function(t){return arguments.length?(L=+t,n):L},n.tickPadding=function(t){return arguments.length?(P=+t,n):P},n.tickSubdivide=function(){return arguments.length&&n},n};var qu="bottom",Bu={top:1,right:1,bottom:1,left:1};ua.svg.brush=function(){function _(t){t.each(function(){var t=ua.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",a).on("touchstart.brush",a),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(s,I);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Uu[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",_.empty()?"none":null);var r,i=ua.transition(t),o=ua.transition(e);A&&(r=Bi(A),o.attr("x",r[0]).attr("width",r[1]-r[0]),w(i)),k&&(r=Bi(k),o.attr("y",r[0]).attr("height",r[1]-r[0]),S(i)),b(i)})}function b(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+E[+/e$/.test(t)]+","+L[+/^s/.test(t)]+")"})}function w(t){t.select(".extent").attr("x",E[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",E[1]-E[0])}function S(t){t.select(".extent").attr("y",L[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",L[1]-L[0])}function a(){function t(){32==ua.event.keyCode&&(p||(f=null,v[0]-=E[1],v[1]-=L[1],p=2),O())}function e(){32==ua.event.keyCode&&2==p&&(v[0]+=E[1],v[1]+=L[1],p=0,O())}function n(){var t=ua.mouse(a),e=!1;o&&(t[0]+=o[0],t[1]+=o[1]),p||(ua.event.altKey?(f||(f=[(E[0]+E[1])/2,(L[0]+L[1])/2]),v[0]=E[+(t[0]<f[0])],v[1]=L[+(t[1]<f[1])]):f=null),h&&r(t,A,0)&&(w(c),e=!0),d&&r(t,k,1)&&(S(c),e=!0),e&&(b(c),u({type:"brush",mode:p?"move":"resize"}))}function r(t,e,n){var r,i,o=Bi(e),a=o[0],s=o[1],u=v[n],c=n?L:E,l=c[1]-c[0];return p&&(a-=u,s-=l+u),r=(n?N:P)?Math.max(a,Math.min(s,t[n])):t[n],p?i=(r+=u)+l:(f&&(u=Math.max(a,Math.min(s,2*f[n]-r))),u<r?(i=r,r=u):i=u),c[0]!=r||c[1]!=i?(n?M=null:T=null,c[0]=r,c[1]=i,!0):void 0}function i(){n(),c.style("pointer-events","all").selectAll(".resize").style("display",_.empty()?"none":null),ua.select("body").style("cursor",null),y.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),g(),u({type:"brushend"})}var f,o,a=this,s=ua.select(ua.event.target),u=C.of(a,arguments),c=ua.select(a),l=s.datum(),h=!/^(n|s)$/.test(l)&&A,d=!/^(e|w)$/.test(l)&&k,p=s.classed("extent"),g=W(a),v=ua.mouse(a),y=ua.select(R(a)).on("keydown.brush",t).on("keyup.brush",e);if(ua.event.changedTouches?y.on("touchmove.brush",n).on("touchend.brush",i):y.on("mousemove.brush",n).on("mouseup.brush",i),c.interrupt().selectAll("*").interrupt(),p)v[0]=E[0]-v[0],v[1]=L[0]-v[1];else if(l){var m=+/w$/.test(l),x=+/^n/.test(l);o=[E[1-m]-v[0],L[1-x]-v[1]],v[0]=E[m],v[1]=L[x]}else ua.event.altKey&&(f=v.slice());c.style("pointer-events","none").selectAll(".resize").style("display",null),ua.select("body").style("cursor",s.style("cursor")),u({type:"brushstart"}),n()}var T,M,C=F(_,"brushstart","brush","brushend"),A=null,k=null,E=[0,0],L=[0,0],P=!0,N=!0,s=Xu[0];return _.event=function(t){t.each(function(){var r=C.of(this,arguments),i={x:E,y:L,i:T,j:M},t=this.__chart__||i;this.__chart__=i,Vu?ua.select(this).transition().each("start.brush",function(){T=t.i,M=t.j,E=t.x,L=t.y,r({type:"brushstart"})}).tween("brush:brush",function(){var e=_r(E,i.x),n=_r(L,i.y);return T=M=null,function(t){E=i.x=e(t),L=i.y=n(t),r({type:"brush",mode:"resize"})}}).each("end.brush",function(){T=i.i,M=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})}):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))})},_.x=function(t){return arguments.length?(s=Xu[!(A=t)<<1|!k],_):A},_.y=function(t){return arguments.length?(s=Xu[!A<<1|!(k=t)],_):k},_.clamp=function(t){return arguments.length?(A&&k?(P=!!t[0],N=!!t[1]):A?P=!!t:k&&(N=!!t),_):A&&k?[P,N]:A?P:k?N:null},_.extent=function(t){var e,n,r,i,o;return arguments.length?(A&&(e=t[0],n=t[1],k&&(e=e[0],n=n[0]),T=[e,n],A.invert&&(e=A(e),n=A(n)),n<e&&(o=e,e=n,n=o),e==E[0]&&n==E[1]||(E=[e,n])),k&&(r=t[0],i=t[1],A&&(r=r[1],i=i[1]),M=[r,i],k.invert&&(r=k(r),i=k(i)),i<r&&(o=r,r=i,i=o),r==L[0]&&i==L[1]||(L=[r,i])),_):(A&&(T?(e=T[0],n=T[1]):(e=E[0],n=E[1],A.invert&&(e=A.invert(e),n=A.invert(n)),n<e&&(o=e,e=n,n=o))),k&&(M?(r=M[0],i=M[1]):(r=L[0],i=L[1],k.invert&&(r=k.invert(r),i=k.invert(i)),i<r&&(o=r,r=i,i=o))),A&&k?[[e,r],[n,i]]:A?[e,n]:k&&[r,i])},_.clear=function(){return _.empty()||(E=[0,0],L=[0,0],T=M=null),_},_.empty=function(){return!!A&&E[0]==E[1]||!!k&&L[0]==L[1]},ua.rebind(_,C,"on")};var Uu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Xu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],$u=hs.format=ms.timeFormat,Yu=$u.utc,Wu=Yu("%Y-%m-%dT%H:%M:%S.%LZ");$u.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ra:Wu,ra.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},ra.toString=Wu.toString,hs.second=zt(function(t){return new ds(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),hs.seconds=hs.second.range,hs.seconds.utc=hs.second.utc.range,hs.minute=zt(function(t){return new ds(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),hs.minutes=hs.minute.range,hs.minutes.utc=hs.minute.utc.range,hs.hour=zt(function(t){var e=t.getTimezoneOffset()/60;return new ds(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),hs.hours=hs.hour.range,hs.hours.utc=hs.hour.utc.range,hs.month=zt(function(t){return(t=hs.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),hs.months=hs.month.range,hs.months.utc=hs.month.utc.range;var Qu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Zu=[[hs.second,1],[hs.second,5],[hs.second,15],[hs.second,30],[hs.minute,1],[hs.minute,5],[hs.minute,15],[hs.minute,30],[hs.hour,1],[hs.hour,3],[hs.hour,6],[hs.hour,12],[hs.day,1],[hs.day,2],[hs.week,1],[hs.month,1],[hs.month,3],[hs.year,1]],Ku=$u.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Ee]]),Ju={range:function(t,e,n){return ua.range(Math.ceil(t/n)*n,+e,n).map(oa)},floor:I,ceil:I};Zu.year=hs.year,hs.scale=function(){return ia(ua.scale.linear(),Zu,Ku)};var tc=Zu.map(function(t){return[t[0].utc,t[1]]}),ec=Yu.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Ee]]);tc.year=hs.year.utc,hs.scale.utc=function(){return ia(ua.scale.linear(),tc,ec)},ua.text=At(function(t){return t.responseText}),ua.json=function(t,e){return kt(t,"application/json",aa,e)},ua.html=function(t,e){return kt(t,"text/html",sa,e)},ua.xml=At(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=ua,define(ua)):"object"==typeof module&&module.exports?module.exports=ua:this.d3=ua}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})}(this,function(H){"use strict";function n(n){return function(t,e){return Ic(n(t),e)}}function l(t,e){return[t,e]}function T(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return Jc<=o?i*=10:tl<=o?i*=5:el<=o&&(i*=2),e<t?-i:i}function s(t){return t.length}function r(t){return"translate("+t+",0)"}function i(t){return"translate(0,"+t+")"}function A(e){var n=e.bandwidth()/2;return e.round()&&(n=Math.round(n)),function(t){return e(t)+n}}function k(){return!this.__axis}function o(g,v){function e(t){var e=null==x?v.ticks?v.ticks.apply(v,m):v.domain():x,n=null==_?v.tickFormat?v.tickFormat.apply(v,m):_l:_,r=Math.max(b,0)+S,i=v.range(),o=i[0]+.5,a=i[i.length-1]+.5,s=(v.bandwidth?A:_l)(v.copy()),u=t.selection?t.selection():t,c=u.selectAll(".domain").data([null]),l=u.selectAll(".tick").data(e,v).order(),f=l.exit(),h=l.enter().append("g").attr("class","tick"),d=l.select("line"),p=l.select("text");c=c.merge(c.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),l=l.merge(h),d=d.merge(h.append("line").attr("stroke","#000").attr(y+"2",T*b).attr(M+"1",.5).attr(M+"2",.5)),p=p.merge(h.append("text").attr("fill","#000").attr(y,T*r).attr(M,.5).attr("dy",g===bl?"0em":g===Sl?"0.71em":"0.32em")),t!==u&&(c=c.transition(t),l=l.transition(t),d=d.transition(t),p=p.transition(t),f=f.transition(t).attr("opacity",Ml).attr("transform",function(t){return isFinite(t=s(t))?C(t):this.getAttribute("transform")}),h.attr("opacity",Ml).attr("transform",function(t){var e=this.parentNode.__axis;return C(e&&isFinite(e=e(t))?e:s(t))})),f.remove(),c.attr("d",g===Tl||g==wl?"M"+T*w+","+o+"H0.5V"+a+"H"+T*w:"M"+o+","+T*w+"V0.5H"+a+"V"+T*w),l.attr("opacity",1).attr("transform",function(t){return C(s(t))}),d.attr(y+"2",T*b),p.attr(y,T*r).text(n),u.filter(k).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",g===wl?"start":g===Tl?"end":"middle"),u.each(function(){this.__axis=s})}var y,m=[],x=null,_=null,b=6,w=6,S=3,T=g===bl||g===Tl?-1:1,M=g===Tl||g===wl?(y="x","y"):(y="y","x"),C=g===bl||g===Sl?r:i;return e.scale=function(t){return arguments.length?(v=t,e):v},e.ticks=function(){return m=xl.call(arguments),e},e.tickArguments=function(t){return arguments.length?(m=null==t?[]:xl.call(t),e):m.slice()},e.tickValues=function(t){return arguments.length?(x=null==t?null:xl.call(t),e):x&&x.slice()},e.tickFormat=function(t){return arguments.length?(_=t,e):_},e.tickSize=function(t){return arguments.length?(b=w=+t,e):b},e.tickSizeInner=function(t){return arguments.length?(b=+t,e):b},e.tickSizeOuter=function(t){return arguments.length?(w=+t,e):w},e.tickPadding=function(t){return arguments.length?(S=+t,e):S},e}function a(t){return o(bl,t)}function u(t){return o(wl,t)}function c(t){return o(Sl,t)}function f(t){return o(Tl,t)}function P(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new h(r)}function h(t){this._=t}function d(t,r){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}function p(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function g(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Cl,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}function v(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===Al&&t.documentElement.namespaceURI===Al?t.createElement(n):t.createElementNS(e,n)}}function y(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function m(){return new x}function x(){this._="@"+(++Pl).toString(36)}function _(n,t,e){return n=b(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function b(n,r,i){return function(t){var e=H.event;H.event=t;try{n.call(this,this.__data__,r,i)}finally{H.event=e}}}function w(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function S(o){return function(){var t=this.__on;if(t){for(var e,n=0,r=-1,i=t.length;n<i;++n)e=t[n],o.type&&e.type!==o.type||e.name!==o.name?t[++r]=e:this.removeEventListener(e.type,e.listener,e.capture);++r?t.length=r:delete this.__on}}}function M(u,c,l){var f=Ol.hasOwnProperty(u.type)?_:b;return function(t,e,n){var r,i=this.__on,o=f(c,e,n);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===u.type&&r.name===u.name)return this.removeEventListener(r.type,r.listener,r.capture),this.addEventListener(r.type,r.listener=o,r.capture=l),
void(r.value=c);this.addEventListener(u.type,o,l),r={type:u.type,name:u.name,value:c,listener:o,capture:l},i?i.push(r):this.__on=[r]}}function N(t,e,n,r){var i=H.event;t.sourceEvent=H.event,H.event=t;try{return e.apply(n,r)}finally{H.event=i}}function C(){}function E(){return[]}function L(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function D(t,e,n,r,i,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new L(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function R(t,e,n,r,i,o,a){var s,u,c,l={},f=e.length,h=o.length,d=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(d[s]=c=Wl+a.call(u,u.__data__,s,e),c in l?i[s]=u:l[c]=u);for(s=0;s<h;++s)(u=l[c=Wl+a.call(t,o[s],s,o)])?((r[s]=u).__data__=o[s],l[c]=null):n[s]=new L(t,o[s]);for(s=0;s<f;++s)(u=e[s])&&l[d[s]]===u&&(i[s]=u)}function I(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function O(t){return function(){this.removeAttribute(t)}}function F(t){return function(){this.removeAttributeNS(t.space,t.local)}}function V(t,e){return function(){this.setAttribute(t,e)}}function G(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function z(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}function j(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function q(t){return function(){this.style.removeProperty(t)}}function B(t,e,n){return function(){this.style.setProperty(t,e,n)}}function U(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}function X(t){return function(){delete this[t]}}function $(t,e){return function(){this[t]=e}}function Y(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}function W(t){return t.trim().split(/^|\s+/)}function Q(t){return t.classList||new Z(t)}function Z(t){this._node=t,this._names=W(t.getAttribute("class")||"")}function K(t,e){for(var n=Q(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function J(t,e){for(var n=Q(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function tt(t){return function(){K(this,t)}}function et(t){return function(){J(this,t)}}function nt(t,e){return function(){(e.apply(this,arguments)?K:J)(this,t)}}function rt(){this.textContent=""}function it(t){return function(){this.textContent=t}}function ot(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function at(){this.innerHTML=""}function st(t){return function(){this.innerHTML=t}}function ut(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function ct(){this.nextSibling&&this.parentNode.appendChild(this)}function lt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ft(){return null}function ht(){var t=this.parentNode;t&&t.removeChild(this)}function dt(t,e,n){var r=cf(t),i=r.CustomEvent;i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function pt(t,e){return function(){return dt(this,t,e)}}function gt(t,e){return function(){return dt(this,t,e.apply(this,arguments))}}function vt(t,e){this._groups=t,this._parents=e}function yt(){return new vt([[document.documentElement]],wf)}function mt(){H.event.stopImmediatePropagation()}function xt(t,e){var n=t.document.documentElement,r=Sf(t).on("dragstart.drag",null);e&&(r.on("click.drag",Af,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function _t(t,e,n,r,i,o,a,s,u,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=c}function bt(){return!H.event.button}function wt(){return this.parentNode}function St(t){return null==t?{x:H.event.x,y:H.event.y}:t}function Tt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Mt(){}function Ct(t){var e;return t=(t+"").trim().toLowerCase(),(e=If.exec(t))?new Pt((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=Of.exec(t))?At(parseInt(e[1],16)):(e=Ff.exec(t))?new Pt(e[1],e[2],e[3],1):(e=Vf.exec(t))?new Pt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Gf.exec(t))?kt(e[1],e[2],e[3],e[4]):(e=zf.exec(t))?kt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=jf.exec(t))?Nt(e[1],e[2]/100,e[3]/100,1):(e=Hf.exec(t))?Nt(e[1],e[2]/100,e[3]/100,e[4]):qf.hasOwnProperty(t)?At(qf[t]):"transparent"===t?new Pt(NaN,NaN,NaN,0):null}function At(t){return new Pt(t>>16&255,t>>8&255,255&t,1)}function kt(t,e,n,r){return r<=0&&(t=e=n=NaN),new Pt(t,e,n,r)}function Et(t){return t instanceof Mt||(t=Ct(t)),t?new Pt((t=t.rgb()).r,t.g,t.b,t.opacity):new Pt}function Lt(t,e,n,r){return 1===arguments.length?Et(t):new Pt(t,e,n,null==r?1:r)}function Pt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Nt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new It(t,e,n,r)}function Dt(t){if(t instanceof It)return new It(t.h,t.s,t.l,t.opacity);if(t instanceof Mt||(t=Ct(t)),!t)return new It;if(t instanceof It)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=0<u&&u<1?0:a,new It(a,s,u,t.opacity)}function Rt(t,e,n,r){return 1===arguments.length?Dt(t):new It(t,e,n,null==r?1:r)}function It(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ot(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Ft(t){if(t instanceof Gt)return new Gt(t.l,t.a,t.b,t.opacity);if(t instanceof Xt){var e=t.h*Bf;return new Gt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Pt||(t=Et(t));var n=qt(t.r),r=qt(t.g),i=qt(t.b),o=zt((.4124564*n+.3575761*r+.1804375*i)/Xf),a=zt((.2126729*n+.7151522*r+.072175*i)/$f);return new Gt(116*a-16,500*(o-a),200*(a-zt((.0193339*n+.119192*r+.9503041*i)/Yf)),t.opacity)}function Vt(t,e,n,r){return 1===arguments.length?Ft(t):new Gt(t,e,n,null==r?1:r)}function Gt(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function zt(t){return Kf<t?Math.pow(t,1/3):t/Zf+Wf}function jt(t){return Qf<t?t*t*t:Zf*(t-Wf)}function Ht(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function qt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Bt(t){if(t instanceof Xt)return new Xt(t.h,t.c,t.l,t.opacity);t instanceof Gt||(t=Ft(t));var e=Math.atan2(t.b,t.a)*Uf;return new Xt(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ut(t,e,n,r){return 1===arguments.length?Bt(t):new Xt(t,e,n,null==r?1:r)}function Xt(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function $t(t){if(t instanceof Wt)return new Wt(t.h,t.s,t.l,t.opacity);t instanceof Pt||(t=Et(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(ah*r+ih*e-oh*n)/(ah+ih-oh),o=r-i,a=(rh*(n-i)-eh*o)/nh,s=Math.sqrt(a*a+o*o)/(rh*i*(1-i)),u=s?Math.atan2(a,o)*Uf-120:NaN;return new Wt(u<0?u+360:u,s,i,t.opacity)}function Yt(t,e,n,r){return 1===arguments.length?$t(t):new Wt(t,e,n,null==r?1:r)}function Wt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Qt(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function Zt(e,n){return function(t){return e+t*n}}function Kt(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(t){return Math.pow(e+t*n,r)}}function Jt(t,e){var n=e-t;return n?Zt(t,180<n||n<-180?n-360*Math.round(n/360):n):gh(isNaN(t)?e:t)}function te(n){return 1==(n=+n)?ee:function(t,e){return e-t?Kt(t,e,n):gh(isNaN(t)?e:t)}}function ee(t,e){var n=e-t;return n?Zt(t,n):gh(isNaN(t)?e:t)}function ne(s){return function(t){var e,n,r=t.length,i=new Array(r),o=new Array(r),a=new Array(r);for(e=0;e<r;++e)n=Lt(t[e]),i[e]=n.r||0,o[e]=n.g||0,a[e]=n.b||0;return i=s(i),o=s(o),a=s(a),n.opacity=1,function(t){return n.r=i(t),n.g=o(t),n.b=a(t),n+""}}}function re(t){return function(){return t}}function ie(e){return function(t){return e(t)+""}}function oe(t){return"none"===t?Eh:(sh||(sh=document.createElement("DIV"),uh=document.documentElement,ch=document.defaultView),sh.style.transform=t,t=ch.getComputedStyle(uh.appendChild(sh),null).getPropertyValue("transform"),uh.removeChild(sh),t=t.slice(7,-1).split(","),Lh(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function ae(t){return null==t?Eh:(lh||(lh=document.createElementNS("http://www.w3.org/2000/svg","g")),lh.setAttribute("transform",t),(t=lh.transform.baseVal.consolidate())?(t=t.matrix,Lh(t.a,t.b,t.c,t.d,t.e,t.f)):Eh)}function se(n,s,u,i){function c(t){return t.length?t.pop()+" ":""}function r(t,e,n,r,i,o){if(t!==n||e!==r){var a=i.push("translate(",null,s,null,u);o.push({i:a-4,x:bh(t,n)},{i:a-2,x:bh(e,r)})}else(n||r)&&i.push("translate("+n+s+r+u)}function a(t,e,n,r){t!==e?(180<t-e?e+=360:180<e-t&&(t+=360),r.push({i:n.push(c(n)+"rotate(",null,i)-2,x:bh(t,e)})):e&&n.push(c(n)+"rotate("+e+i)}function l(t,e,n,r){t!==e?r.push({i:n.push(c(n)+"skewX(",null,i)-2,x:bh(t,e)}):e&&n.push(c(n)+"skewX("+e+i)}function f(t,e,n,r,i,o){if(t!==n||e!==r){var a=i.push(c(i)+"scale(",null,",",null,")");o.push({i:a-4,x:bh(t,n)},{i:a-2,x:bh(e,r)})}else 1===n&&1===r||i.push(c(i)+"scale("+n+","+r+")")}return function(t,e){var i=[],o=[];return t=n(t),e=n(e),r(t.translateX,t.translateY,e.translateX,e.translateY,i,o),a(t.rotate,e.rotate,i,o),l(t.skewX,e.skewX,i,o),f(t.scaleX,t.scaleY,e.scaleX,e.scaleY,i,o),t=e=null,function(t){for(var e,n=-1,r=o.length;++n<r;)i[(e=o[n]).i]=e.x(t);return i.join("")}}}function ue(t){return((t=Math.exp(t))+1/t)/2}function ce(t){return((t=Math.exp(t))-1/t)/2}function le(t){return((t=Math.exp(2*t))-1)/(t+1)}function fe(a){return function(e,t){var n=a((e=Rt(e)).h,(t=Rt(t)).h),r=ee(e.s,t.s),i=ee(e.l,t.l),o=ee(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(t),e.opacity=o(t),e+""}}}function he(e,t){var n=ee((e=Vt(e)).l,(t=Vt(t)).l),r=ee(e.a,t.a),i=ee(e.b,t.b),o=ee(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=o(t),e+""}}function de(a){return function(e,t){var n=a((e=Ut(e)).h,(t=Ut(t)).h),r=ee(e.c,t.c),i=ee(e.l,t.l),o=ee(e.opacity,t.opacity);return function(t){return e.h=n(t),e.c=r(t),e.l=i(t),e.opacity=o(t),e+""}}}function pe(s){return function t(a){function e(e,t){var n=s((e=Yt(e)).h,(t=Yt(t)).h),r=ee(e.s,t.s),i=ee(e.l,t.l),o=ee(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(Math.pow(t,a)),e.opacity=o(t),e+""}}return a=+a,e.gamma=t,e}(1)}function ge(){return $h||(Qh(ve),$h=Wh.now()+Yh)}function ve(){$h=0}function ye(){this._call=this._time=this._next=null}function me(t,e,n){var r=new ye;return r.restart(t,e,n),r}function xe(){ge(),++Hh;for(var t,e=fh;e;)0<=(t=$h-e._time)&&e._call.call(null,t),e=e._next;--Hh}function _e(){$h=(Xh=Wh.now())+Yh,Hh=qh=0;try{xe()}finally{Hh=0,we(),$h=0}}function be(){var t=Wh.now(),e=t-Xh;Uh<e&&(Yh-=e,Xh=t)}function we(){for(var t,e,n=fh,r=1/0;n;)n._call?(r>n._time&&(r=n._time),n=(t=n)._next):(e=n._next,n._next=null,n=t?t._next=e:fh=e);hh=t,Se(r)}function Se(t){if(!Hh){qh&&(qh=clearTimeout(qh));var e=t-$h;24<e?(t<1/0&&(qh=setTimeout(_e,e)),Bh&&(Bh=clearInterval(Bh))):(Bh||(Xh=$h,Bh=setInterval(be,Uh)),Hh=1,Qh(_e))}}function Te(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>ed)throw new Error("too late");return n}function Me(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>rd)throw new Error("too late");return n}function Ce(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function Ae(o,a,s){function t(t){s.state=nd,s.timer.restart(u,s.delay,s.time),s.delay<=t&&u(t-s.delay)}function u(t){var e,n,r,i;if(s.state!==nd)return l();for(e in h)if((i=h[e]).name===s.name){if(i.state===id)return Zh(u);i.state===od?(i.state=sd,i.timer.stop(),i.on.call("interrupt",o,o.__data__,i.index,i.group),delete h[e]):+e<a&&(i.state=sd,i.timer.stop(),delete h[e])}if(Zh(function(){s.state===id&&(s.state=od,s.timer.restart(c,s.delay,s.time),c(t))}),s.state=rd,s.on.call("start",o,o.__data__,s.index,s.group),s.state===rd){for(s.state=id,f=new Array(r=s.tween.length),e=0,n=-1;e<r;++e)(i=s.tween[e].value.call(o,o.__data__,s.index,s.group))&&(f[++n]=i);f.length=n+1}}function c(t){for(var e=t<s.duration?s.ease.call(null,t/s.duration):(s.timer.restart(l),s.state=ad,1),n=-1,r=f.length;++n<r;)f[n].call(null,e);s.state===ad&&(s.on.call("end",o,o.__data__,s.index,s.group),l())}function l(){for(var t in s.state=sd,s.timer.stop(),delete h[a],h)return;delete o.__transition}var f,h=o.__transition;(h[a]=s).timer=me(t,0,s.time)}function ke(i,o){var a,s;return function(){var t=Me(this,i),e=t.tween;if(e!==a)for(var n=0,r=(s=a=e).length;n<r;++n)if(s[n].name===o){(s=s.slice()).splice(n,1);break}t.tween=s}}function Ee(o,a,s){var u,c;if("function"!=typeof s)throw new Error;return function(){var t=Me(this,o),e=t.tween;if(e!==u){c=(u=e).slice();for(var n={name:a,value:s},r=0,i=c.length;r<i;++r)if(c[r].name===a){c[r]=n;break}r===i&&c.push(n)}t.tween=c}}function Le(t,e,n){var r=t._id;return t.each(function(){var t=Me(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Ce(t,r).value[e]}}function Pe(t){return function(){this.removeAttribute(t)}}function Ne(t){return function(){this.removeAttributeNS(t.space,t.local)}}function De(e,n,r){var i,o;return function(){var t=this.getAttribute(e);return t===r?null:t===i?o:o=n(i=t,r)}}function Re(e,n,r){var i,o;return function(){var t=this.getAttributeNS(e.space,e.local);return t===r?null:t===i?o:o=n(i=t,r)}}function Ie(n,r,i){var o,a,s;return function(){var t,e=i(this);return null==e?void this.removeAttribute(n):(t=this.getAttribute(n))===e?null:t===o&&e===a?s:s=r(o=t,a=e)}}function Oe(n,r,i){var o,a,s;return function(){var t,e=i(this);return null==e?void this.removeAttributeNS(n.space,n.local):(t=this.getAttributeNS(n.space,n.local))===e?null:t===o&&e===a?s:s=r(o=t,a=e)}}function Fe(r,t){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.setAttributeNS(r.space,r.local,n(t))}}return e._value=t,e}function Ve(r,t){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.setAttribute(r,n(t))}}return e._value=t,e}function Ge(t,e){return function(){Te(this,t).delay=+e.apply(this,arguments)}}function ze(t,e){return e=+e,function(){Te(this,t).delay=e}}function je(t,e){return function(){Me(this,t).duration=+e.apply(this,arguments)}}function He(t,e){return e=+e,function(){Me(this,t).duration=e}}function qe(t,e){if("function"!=typeof e)throw new Error;return function(){Me(this,t).ease=e}}function Be(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})}function Ue(n,r,i){var o,a,s=Be(r)?Te:Me;return function(){var t=s(this,n),e=t.on;e!==o&&(a=(o=e).copy()).on(r,i),t.on=a}}function Xe(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}function $e(r,i){var o,a,s;return function(){var t=cf(this).getComputedStyle(this,null),e=t.getPropertyValue(r),n=(this.style.removeProperty(r),t.getPropertyValue(r));return e===n?null:e===o&&n===a?s:s=i(o=e,a=n)}}function Ye(t){return function(){this.style.removeProperty(t)}}function We(e,n,r){var i,o;return function(){var t=cf(this).getComputedStyle(this,null).getPropertyValue(e);return t===r?null:t===i?o:o=n(i=t,r)}}function Qe(r,i,o){var a,s,u;return function(){var t=cf(this).getComputedStyle(this,null),e=t.getPropertyValue(r),n=o(this);return null==n&&(this.style.removeProperty(r),n=t.getPropertyValue(r)),e===n?null:e===a&&n===s?u:u=i(a=e,s=n)}}function Ze(r,t,i){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.style.setProperty(r,n(t),i)}}return e._value=t,e}function Ke(t){return function(){this.textContent=t}}function Je(e){return function(){var t=e(this);this.textContent=null==t?"":t}}function tn(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function en(t){return yt().transition(t)}function nn(){return++Ld}function rn(t){return+t}function on(t){return t*t}function an(t){return t*(2-t)}function sn(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function un(t){return t*t*t}function cn(t){return--t*t*t+1}function ln(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function fn(t){return 1-Math.cos(t*Od)}function hn(t){return Math.sin(t*Od)}function dn(t){return(1-Math.cos(Id*t))/2}function pn(t){return Math.pow(2,10*t-10)}function gn(t){return 1-Math.pow(2,-10*t)}function vn(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function yn(t){return 1-Math.sqrt(1-t*t)}function mn(t){return Math.sqrt(1- --t*t)}function xn(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function _n(t){return 1-bn(1-t)}function bn(t){return(t=+t)<Fd?Xd*t*t:t<Gd?Xd*(t-=Vd)*t+zd:t<Hd?Xd*(t-=jd)*t+qd:Xd*(t-=Bd)*t+Ud}function wn(t){return((t*=2)<=1?1-bn(1-t):bn(t-1)+1)/2}function Sn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return tp.time=ge(),tp;return n}function Tn(){H.event.stopImmediatePropagation()}function Mn(t){return{type:t}}function Cn(){return!H.event.button}function An(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function kn(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function En(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Ln(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Pn(){return Dn(fp)}function Nn(){return Dn(hp)}function Dn(F){function e(t){var e=t.property("__brush",i).selectAll(".overlay").data([Mn("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",pp.overlay).merge(e).each(function(){var t=kn(this).extent;Sf(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([Mn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",pp.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var n=t.selectAll(".handle").data(F.handles,function(t){return t.type});n.exit().remove(),n.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return pp[t.type]}),t.each(V).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",r)}function V(){var t=Sf(this),e=kn(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-s/2:e[0][0]-s/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-s/2:e[0][1]-s/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+s:s}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+s:s})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function G(t,e){return t.__brush.emitter||new n(t,e)}function n(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function r(){function t(){var t=zl(m);!L||v||y||(Math.abs(t[0]-N[0])>Math.abs(t[1]-N[1])?y=!0:v=!0),N=t,g=!0,ap(),e()}function e(){var t;switch(d=N[0]-P[0],p=N[1]-P[1],_){case up:case sp:b&&(d=Math.max(C-o,Math.min(k-c,d)),a=o+d,l=c+d),w&&(p=Math.max(A-s,Math.min(E-f,p)),u=s+p,h=f+p);break;case cp:b<0?(d=Math.max(C-o,Math.min(k-o,d)),a=o+d,l=c):0<b&&(d=Math.max(C-c,Math.min(k-c,d)),a=o,l=c+d),w<0?(p=Math.max(A-s,Math.min(E-s,p)),u=s+p,h=f):0<w&&(p=Math.max(A-f,Math.min(E-f,p)),u=s,h=f+p);break;case lp:b&&(a=Math.max(C,Math.min(k,o-d*b)),l=Math.max(C,Math.min(k,c+d*b))),w&&(u=Math.max(A,Math.min(E,s-p*w)),h=Math.max(A,Math.min(E,f+p*w)))}l<a&&(b*=-1,t=o,o=c,c=t,t=a,a=l,l=t,x in gp&&I.attr("cursor",pp[x=gp[x]])),h<u&&(w*=-1,t=s,s=f,f=t,t=u,u=h,h=t,x in vp&&I.attr("cursor",pp[x=vp[x]])),S.selection&&(M=S.selection),v&&(a=M[0][0],l=M[1][0]),y&&(u=M[0][1],h=M[1][1]),M[0][0]===a&&M[0][1]===u&&M[1][0]===l&&M[1][1]===h||(S.selection=[[a,u],[l,h]],V.call(m),D.brush())}function n(){if(Tn(),H.event.touches){if(H.event.touches.length)return;z&&clearTimeout(z),z=setTimeout(function(){z=null},500),R.on("touchmove.brush touchend.brush touchcancel.brush",null)}else xt(H.event.view,g),O.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);R.attr("pointer-events","all"),I.attr("cursor",pp.overlay),S.selection&&(M=S.selection),En(M)&&(S.selection=null,V.call(m)),D.end()}function r(){switch(H.event.keyCode){case 16:L=b&&w;break;case 18:_===cp&&(b&&(c=l-d*b,o=a+d*b),w&&(f=h-p*w,s=u+p*w),_=lp,e());break;case 32:_!==cp&&_!==lp||(b<0?c=l-d:0<b&&(o=a-d),w<0?f=h-p:0<w&&(s=u-p),_=up,I.attr("cursor",pp.selection),e());break;default:return}ap()}function i(){switch(H.event.keyCode){case 16:L&&(v=y=L=!1,e());break;case 18:_===lp&&(b<0?c=l:0<b&&(o=a),w<0?f=h:0<w&&(s=u),_=cp,e());break;case 32:_===up&&(H.event.altKey?(b&&(c=l-d*b,o=a+d*b),w&&(f=h-p*w,s=u+p*w),_=lp):(b<0?c=l:0<b&&(o=a),w<0?f=h:0<w&&(s=u),_=cp),I.attr("cursor",pp[x]),e());break;default:return}ap()}if(H.event.touches){if(H.event.changedTouches.length<H.event.touches.length)return ap()}else if(z)return;if(j.apply(this,arguments)){var o,a,s,u,c,l,f,h,d,p,g,v,y,m=this,x=H.event.target.__data__.type,_="selection"===(H.event.metaKey?x="overlay":x)?sp:H.event.altKey?lp:cp,b=F===hp?null:yp[x],w=F===fp?null:mp[x],S=kn(m),T=S.extent,M=S.selection,C=T[0][0],A=T[0][1],k=T[1][0],E=T[1][1],L=b&&w&&H.event.shiftKey,P=zl(m),N=P,D=G(m,arguments).beforestart();"overlay"===x?S.selection=M=[[o=F===hp?C:P[0],s=F===fp?A:P[1]],[c=F===hp?k:o,f=F===fp?E:s]]:(o=M[0][0],s=M[0][1],c=M[1][0],f=M[1][1]),a=o,u=s,l=c,h=f;var R=Sf(m).attr("pointer-events","none"),I=R.selectAll(".overlay").attr("cursor",pp[x]);if(H.event.touches)R.on("touchmove.brush",t,!0).on("touchend.brush touchcancel.brush",n,!0);else{var O=Sf(H.event.view).on("keydown.brush",r,!0).on("keyup.brush",i,!0).on("mousemove.brush",t,!0).on("mouseup.brush",n,!0);kf(H.event.view)}Tn(),cd(m),V.call(m),D.start()}}function i(){var t=this.__brush||{selection:null};return t.extent=o.apply(this,arguments),t.dim=F,t}var z,o=An,j=Cn,a=P(e,"start","brush","end"),s=6;return e.move=function(t,s){t.selection?t.on("start.brush",function(){G(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){G(this,arguments).end()}).tween("brush",function(){function t(t){n.selection=1===t&&En(o)?null:a(t),V.call(e),r.brush()}var e=this,n=e.__brush,r=G(e,arguments),i=n.selection,o=F.input("function"==typeof s?s.apply(this,arguments):s,n.extent),a=Ch(i,o);return i&&o?t:t(1)}):t.each(function(){var t=this,e=arguments,n=t.__brush,r=F.input("function"==typeof s?s.apply(t,e):s,n.extent),i=G(t,e).beforestart();cd(t),n.selection=null==r||En(r)?null:r,V.call(t),i.start().brush().end()})},n.prototype={beforestart:function(){return 1==++this.active&&((this.state.emitter=this).starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){N(new op(e,t,F.output(this.state.selection)),a.apply,a,[t,this.that,this.args])}},e.extent=function(t){return arguments.length?(o="function"==typeof t?t:ip([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):o},e.filter=function(t){return arguments.length?(j="function"==typeof t?t:ip(!!t),e):j},e.handleSize=function(t){return arguments.length?(s=+t,e):s},e.on=function(){var t=a.on.apply(a,arguments);return t===a?e:t},e}function Rn(n){return function(t,e){return n(t.source.value+t.target.value,e.source.value+e.target.value)}}function In(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function On(){return new In}function Fn(t){return t.source}function Vn(t){return t.target}function Gn(t){return t.radius}function zn(t){return t.startAngle}function jn(t){return t.endAngle}function Hn(){}function qn(t,e){var n=new Hn;if(t instanceof Hn)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function Bn(){return{}}function Un(t,e,n){t[e]=n}function Xn(){return qn()}function $n(t,e,n){t.set(e,n)}function Yn(){}function Wn(t,e){var n=new Yn;if(t instanceof Yn)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}function Qn(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function Zn(n,r){var i=Qn(n);return function(t,e){return r(i(t),e,n)}}function Kn(t){var n=Object.create(null),r=[];return t.forEach(function(t){for(var e in t)e in n||r.push(n[e]=e)}),r}function Jn(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,c,l,f,h,d=t._root,p={data:r},g=t._x0,v=t._y0,y=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(o=(g+y)/2))?g=o:y=o,(l=n>=(a=(v+m)/2))?v=a:m=a,!(d=(i=d)[f=l<<1|c]))return i[f]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,i?i[f]=p:t._root=p,t;for(;i=i?i[f]=new Array(4):t._root=new Array(4),(c=e>=(o=(g+y)/2))?g=o:y=o,(l=n>=(a=(v+m)/2))?v=a:m=a,(f=l<<1|c)==(h=(a<=u)<<1|o<=s););return i[h]=d,i[f]=p,t}function tr(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,c=1/0,l=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||((a[n]=r)<u&&(u=r),l<r&&(l=r),(s[n]=i)<c&&(c=i),f<i&&(f=i));for(l<u&&(u=this._x0,l=this._x1),f<c&&(c=this._y0,f=this._y1),this.cover(u,c).cover(l,f),n=0;n<o;++n)Jn(this,a[n],s[n],t[n]);return this}function er(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function nr(t){return t[0]}function rr(t){return t[1]}function ir(t,e,n){var r=new or(null==e?nr:e,null==n?rr:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function or(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function ar(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}function sr(t){return t.x+t.vx}function ur(t){return t.y+t.vy}function cr(t){return t.index}function lr(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function fr(t){return t.x}function hr(t){return t.y}function dr(t){return new pr(t)}function pr(t){if(!(e=Ag.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",o=e[4]||"",a=!!e[5],s=e[6]&&+e[6],u=!!e[7],c=e[8]&&+e[8].slice(1),l=e[9]||"";"n"===l?(u=!0,l="g"):Cg[l]||(l=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=s,this.comma=u,this.precision=c,this.type=l}function gr(t){return kg=Pg(t),H.format=kg.format,H.formatPrefix=kg.formatPrefix,kg}function vr(){this.reset()}function yr(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}function mr(t){return 1<t?0:t<-1?gv:Math.acos(t)}function xr(t){return 1<t?vv:t<-1?-vv:Math.asin(t)}function _r(t){return(t=Ev(t/2))*t}function br(){}function wr(t,e){t&&Rv.hasOwnProperty(t.type)&&Rv[t.type](t,e)}function Sr(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Tr(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Sr(t[n],e,1);e.polygonEnd()}function Mr(){Vv.point=Ar}function Cr(){kr(Og,Fg)}function Ar(t,e){Vv.point=kr,Og=t,Fg=e,Vg=t*=_v,Gg=Tv(e=(e*=_v)/2+yv),zg=Ev(e)}function kr(t,e){var n=(t*=_v)-Vg,r=0<=n?1:-1,i=r*n,o=Tv(e=(e*=_v)/2+yv),a=Ev(e),s=zg*a,u=Gg*o+s*Tv(i),c=s*r*Ev(i);Ov.add(Sv(c,u)),Vg=t,Gg=o,zg=a}function Er(t){return[Sv(t[1],t[0]),xr(t[2])]}function Lr(t){var e=t[0],n=t[1],r=Tv(n);return[r*Tv(e),r*Ev(e),Ev(n)]}function Pr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Nr(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Dr(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Rr(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ir(t){var e=Pv(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Or(t,e){Wg.push(Qg=[jg=t,qg=t]),e<Hg&&(Hg=e),Bg<e&&(Bg=e)}function Fr(t,e){var n=Lr([t*_v,e*_v]);if(Yg){var r=Nr(Yg,n),i=Nr([r[1],-r[0],0],r);Ir(i),i=Er(i);var o,a=t-Ug,s=0<a?1:-1,u=i[0]*xv*s,c=180<bv(a);c^(s*Ug<u&&u<s*t)?(o=i[1]*xv)>Bg&&(Bg=o):c^(s*Ug<(u=(u+360)%360-180)&&u<s*t)?(o=-i[1]*xv)<Hg&&(Hg=o):(e<Hg&&(Hg=e),Bg<e&&(Bg=e)),c?t<Ug?qr(jg,t)>qr(jg,qg)&&(qg=t):qr(t,qg)>qr(jg,qg)&&(jg=t):jg<=qg?(t<jg&&(jg=t),qg<t&&(qg=t)):Ug<t?qr(jg,t)>qr(jg,qg)&&(qg=t):qr(t,qg)>qr(jg,qg)&&(jg=t)}else Wg.push(Qg=[jg=t,qg=t]);e<Hg&&(Hg=e),Bg<e&&(Bg=e),Yg=n,Ug=t}function Vr(){jv.point=Fr}function Gr(){Qg[0]=jg,Qg[1]=qg,jv.point=Or,Yg=null}function zr(t,e){if(Yg){var n=t-Ug;zv.add(180<bv(n)?n+(0<n?360:-360):n)}else Xg=t,$g=e;Vv.point(t,e),Fr(t,e)}function jr(){Vv.lineStart()}function Hr(){zr(Xg,$g),Vv.lineEnd(),bv(zv)>pv&&(jg=-(qg=180)),Qg[0]=jg,Qg[1]=qg,Yg=null}function qr(t,e){return(e-=t)<0?e+360:e}function Br(t,e){return t[0]-e[0]}function Ur(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function Xr(t,e){t*=_v;var n=Tv(e*=_v);$r(n*Tv(t),n*Ev(t),Ev(e))}function $r(t,e,n){Jg+=(t-Jg)/++Zg,tv+=(e-tv)/Zg,ev+=(n-ev)/Zg}function Yr(){qv.point=Wr}function Wr(t,e){t*=_v;var n=Tv(e*=_v);lv=n*Tv(t),fv=n*Ev(t),hv=Ev(e),qv.point=Qr,$r(lv,fv,hv)}function Qr(t,e){t*=_v;var n=Tv(e*=_v),r=n*Tv(t),i=n*Ev(t),o=Ev(e),a=Sv(Pv((a=fv*o-hv*i)*a+(a=hv*r-lv*o)*a+(a=lv*i-fv*r)*a),lv*r+fv*i+hv*o);Kg+=a,nv+=a*(lv+(lv=r)),rv+=a*(fv+(fv=i)),iv+=a*(hv+(hv=o)),$r(lv,fv,hv)}function Zr(){qv.point=Xr}function Kr(){qv.point=ti}function Jr(){ei(uv,cv),qv.point=Xr}function ti(t,e){uv=t,cv=e,t*=_v,e*=_v,qv.point=ei;var n=Tv(e);lv=n*Tv(t),fv=n*Ev(t),hv=Ev(e),$r(lv,fv,hv)}function ei(t,e){t*=_v;var n=Tv(e*=_v),r=n*Tv(t),i=n*Ev(t),o=Ev(e),a=fv*o-hv*i,s=hv*r-lv*o,u=lv*i-fv*r,c=Pv(a*a+s*s+u*u),l=xr(c),f=c&&-l/c;ov+=f*a,av+=f*s,sv+=f*u,Kg+=l,nv+=l*(lv+(lv=r)),rv+=l*(fv+(fv=i)),iv+=l*(hv+(hv=o)),$r(lv,fv,hv)}function ni(t,e){return[gv<t?t-mv:t<-gv?t+mv:t,e]}function ri(t,e,n){return(t%=mv)?e||n?Xv(oi(t),ai(e,n)):oi(t):e||n?ai(e,n):ni}function ii(n){return function(t,e){return[gv<(t+=n)?t-mv:t<-gv?t+mv:t,e]}}function oi(t){var e=ii(t);return e.invert=ii(-t),e}function ai(t,e){function n(t,e){var n=Tv(e),r=Tv(t)*n,i=Ev(t)*n,o=Ev(e),a=o*s+r*u;return[Sv(i*c-a*l,r*s-o*u),xr(a*c+i*l)]}var s=Tv(t),u=Ev(t),c=Tv(e),l=Ev(e);return n.invert=function(t,e){var n=Tv(e),r=Tv(t)*n,i=Ev(t)*n,o=Ev(e),a=o*c-i*l;return[Sv(i*c+o*l,r*s+a*u),xr(a*s-r*u)]},n}function si(t,e,n,r,i,o){if(n){var a=Tv(e),s=Ev(e),u=r*n;null==i?(i=e+r*mv,o=e-u/2):(i=ui(a,i),o=ui(a,o),(0<r?i<o:o<i)&&(i+=r*mv));for(var c,l=i;0<r?o<l:l<o;l-=u)c=Er([a,-s*Tv(l),-s*Ev(l)]),t.point(c[0],c[1])}}function ui(t,e){(e=Lr(e))[0]-=t,Ir(e);var n=mr(-e[1]);return((-e[2]<0?-n:n)+mv-pv)%mv}function ci(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function li(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function fi(w,S,T,M){function C(t,e){return w<=t&&t<=T&&S<=e&&e<=M}function A(t,e,n,r){var i=0,o=0;if(null==t||(i=a(t,n))!==(o=a(e,n))||s(t,e)<0^0<n)for(;r.point(0===i||3===i?w:T,1<i?M:S),(i=(i+n+4)%4)!==o;);else r.point(e[0],e[1])}function a(t,e){return bv(t[0]-w)<pv?0<e?0:3:bv(t[0]-T)<pv?0<e?2:1:bv(t[1]-S)<pv?0<e?1:0:0<e?3:2}function k(t,e){return s(t.x,e.x)}function s(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(r){function t(t,e){C(t,e)&&x.point(t,e)}function i(){for(var t=0,e=0,n=f.length;e<n;++e)for(var r,i,o=f[e],a=1,s=o.length,u=o[0],c=u[0],l=u[1];a<s;++a)r=c,i=l,c=(u=o[a])[0],l=u[1],i<=M?M<l&&(l-i)*(w-r)<(c-r)*(M-i)&&++t:l<=M&&(c-r)*(M-i)<(l-i)*(w-r)&&--t;return t}function e(){x=_,u=[],f=[],m=!0}function n(){var t=i(),e=m&&t,n=(u=fl(u)).length;(e||n)&&(r.polygonStart(),e&&(r.lineStart(),A(null,null,1,r),r.lineEnd()),n&&cy(u,k,t,A,r),r.polygonEnd()),x=r,u=f=c=null}function o(){b.point=s,f&&f.push(c=[]),v=!(y=!0),p=g=NaN}function a(){u&&(s(l,h),d&&v&&_.rejoin(),u.push(_.result())),b.point=t,v&&x.lineEnd()}function s(t,e){var n=C(t,e);if(f&&c.push([t,e]),y)l=t,h=e,y=!1,(d=n)&&(x.lineStart(),x.point(t,e));else if(n&&v)x.point(t,e);else{var r=[p=Math.max(fy,Math.min(ly,p)),g=Math.max(fy,Math.min(ly,g))],i=[t=Math.max(fy,Math.min(ly,t)),e=Math.max(fy,Math.min(ly,e))];sy(r,i,w,S,T,M)?(v||(x.lineStart(),x.point(r[0],r[1])),x.point(i[0],i[1]),n||x.lineEnd(),m=!1):n&&(x.lineStart(),
x.point(t,e),m=!1)}p=t,g=e,v=n}var u,f,c,l,h,d,p,g,v,y,m,x=r,_=ay(),b={point:t,lineStart:o,lineEnd:a,polygonStart:e,polygonEnd:n};return b}}function hi(){vy.point=pi,vy.lineEnd=di}function di(){vy.point=vy.lineEnd=br}function pi(t,e){$v=t*=_v,Yv=Ev(e*=_v),Wv=Tv(e),vy.point=gi}function gi(t,e){t*=_v;var n=Ev(e*=_v),r=Tv(e),i=bv(t-$v),o=Tv(i),a=r*Ev(i),s=Wv*n-Yv*r*o,u=Yv*n+Wv*r*o;gy.add(Sv(Pv(a*a+s*s),u)),$v=t,Yv=n,Wv=r}function vi(t,e){return!(!t||!wy.hasOwnProperty(t.type))&&wy[t.type](t,e)}function yi(t,e){return 0===_y(t,e)}function mi(t,e){var n=_y(t[0],t[1]);return _y(t[0],e)+_y(e,t[1])<=n+pv}function xi(t,e){return!!py(t.map(_i),bi(e))}function _i(t){return(t=t.map(bi)).pop(),t}function bi(t){return[t[0]*_v,t[1]*_v]}function wi(t,e,n){var r=Kc(t,e-pv,n).concat(e);return function(e){return r.map(function(t){return[e,t]})}}function Si(t,e,n){var r=Kc(t,e-pv,n).concat(e);return function(e){return r.map(function(t){return[t,e]})}}function Ti(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return Kc(Mv(o/v)*v,i,v).map(h).concat(Kc(Mv(c/y)*y,u,y).map(d)).concat(Kc(Mv(r/p)*p,n,p).filter(function(t){return bv(t%v)>pv}).map(l)).concat(Kc(Mv(s/g)*g,a,g).filter(function(t){return bv(t%y)>pv}).map(f))}var n,r,i,o,a,s,u,c,l,f,h,d,p=10,g=p,v=90,y=360,m=2.5;return e.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},e.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(d(u).slice(1),h(i).reverse().slice(1),d(c).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.extentMajor(t).extentMinor(t):e.extentMinor()},e.extentMajor=function(t){return arguments.length?(o=+t[0][0],i=+t[1][0],c=+t[0][1],u=+t[1][1],i<o&&(t=o,o=i,i=t),u<c&&(t=c,c=u,u=t),e.precision(m)):[[o,c],[i,u]]},e.extentMinor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],n<r&&(t=r,r=n,n=t),a<s&&(t=s,s=a,a=t),e.precision(m)):[[r,s],[n,a]]},e.step=function(t){return arguments.length?e.stepMajor(t).stepMinor(t):e.stepMinor()},e.stepMajor=function(t){return arguments.length?(v=+t[0],y=+t[1],e):[v,y]},e.stepMinor=function(t){return arguments.length?(p=+t[0],g=+t[1],e):[p,g]},e.precision=function(t){return arguments.length?(m=+t,l=wi(s,a,90),f=Si(r,n,m),h=wi(c,u,90),d=Si(o,i,m),e):m},e.extentMajor([[-180,-90+pv],[180,90-pv]]).extentMinor([[-180,-80-pv],[180,80+pv]])}function Mi(){return Ti()()}function Ci(){ky.point=Ai}function Ai(t,e){ky.point=ki,Qv=Kv=t,Zv=Jv=e}function ki(t,e){Ay.add(Jv*t-Kv*e),Kv=t,Jv=e}function Ei(){ki(Qv,Zv)}function Li(t,e){t<Ey&&(Ey=t),Py<t&&(Py=t),e<Ly&&(Ly=e),Ny<e&&(Ny=e)}function Pi(t,e){Ry+=t,Iy+=e,++Oy}function Ni(){qy.point=Di}function Di(t,e){qy.point=Ri,Pi(ny=t,ry=e)}function Ri(t,e){var n=t-ny,r=e-ry,i=Pv(n*n+r*r);Fy+=i*(ny+t)/2,Vy+=i*(ry+e)/2,Gy+=i,Pi(ny=t,ry=e)}function Ii(){qy.point=Pi}function Oi(){qy.point=Vi}function Fi(){Gi(ty,ey)}function Vi(t,e){qy.point=Gi,Pi(ty=ny=t,ey=ry=e)}function Gi(t,e){var n=t-ny,r=e-ry,i=Pv(n*n+r*r);Fy+=i*(ny+t)/2,Vy+=i*(ry+e)/2,Gy+=i,zy+=(i=ry*t-ny*e)*(ny+t),jy+=i*(ry+e),Hy+=3*i,Pi(ny=t,ry=e)}function zi(t){this._context=t}function ji(t,e){Qy.point=Hi,Uy=$y=t,Xy=Yy=e}function Hi(t,e){$y-=t,Yy-=e,Wy.add(Pv($y*$y+Yy*Yy)),$y=t,Yy=e}function qi(){this._string=[]}function Bi(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ui(t){return 1<t.length}function Xi(t,e){return((t=t.x)[0]<0?t[1]-vv-pv:vv-t[1])-((e=e.x)[0]<0?e[1]-vv-pv:vv-e[1])}function $i(i){var o,a=NaN,s=NaN,u=NaN;return{lineStart:function(){i.lineStart(),o=1},point:function(t,e){var n=0<t?gv:-gv,r=bv(t-a);bv(r-gv)<pv?(i.point(a,s=0<(s+e)/2?vv:-vv),i.point(u,s),i.lineEnd(),i.lineStart(),i.point(n,s),i.point(t,s),o=0):u!==n&&gv<=r&&(bv(a-u)<pv&&(a-=u*pv),bv(t-n)<pv&&(t-=n*pv),s=Yi(a,s,t,e),i.point(u,s),i.lineEnd(),i.lineStart(),i.point(n,s),o=0),i.point(a=t,s=e),u=n},lineEnd:function(){i.lineEnd(),a=s=NaN},clean:function(){return 2-o}}}function Yi(t,e,n,r){var i,o,a=Ev(t-n);return bv(a)>pv?wv((Ev(e)*(o=Tv(r))*Ev(n)-Ev(r)*(i=Tv(e))*Ev(t))/(i*o*a)):(e+r)/2}function Wi(t,e,n,r){var i;if(null==t)i=n*vv,r.point(-gv,i),r.point(0,i),r.point(gv,i),r.point(gv,0),r.point(gv,-i),r.point(0,-i),r.point(-gv,-i),r.point(-gv,0),r.point(-gv,i);else if(bv(t[0]-e[0])>pv){var o=t[0]<e[0]?gv:-gv;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function Qi(r){return function(t){var e=new Zi;for(var n in r)e[n]=r[n];return e.stream=t,e}}function Zi(){}function Ki(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),Iv(n,t.stream(Dy));var a=Dy.result(),s=Math.min(r/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),u=+e[0][0]+(r-s*(a[1][0]+a[0][0]))/2,c=+e[0][1]+(i-s*(a[1][1]+a[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*s).translate([u,c])}function Ji(t,e,n){return Ki(t,[[0,0],e],n)}function to(n){return Qi({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}function eo(E,L){function P(t,e,n,r,i,o,a,s,u,c,l,f,h,d){var p=a-t,g=s-e,v=p*p+g*g;if(4*L<v&&h--){var y=r+c,m=i+l,x=o+f,_=Pv(y*y+m*m+x*x),b=xr(x/=_),w=bv(bv(x)-1)<pv||bv(n-u)<pv?(n+u)/2:Sv(m,y),S=E(w,b),T=S[0],M=S[1],C=T-t,A=M-e,k=g*C-p*A;(L<k*k/v||.3<bv((p*C+g*A)/v-.5)||r*c+i*l+o*f<rm)&&(P(t,e,n,r,i,o,T,M,w,y/=_,m/=_,x,h,d),d.point(T,M),P(T,M,w,y,m,x,a,s,u,c,l,f,h,d))}}return function(i){function t(t,e){t=E(t,e),i.point(t[0],t[1])}function e(){g=NaN,_.point=n,i.lineStart()}function n(t,e){var n=Lr([t,e]),r=E(t,e);P(g,v,p,y,m,x,g=r[0],v=r[1],p=t,y=n[0],m=n[1],x=n[2],nm,i),i.point(g,v)}function r(){_.point=t,i.lineEnd()}function o(){e(),_.point=a,_.lineEnd=s}function a(t,e){n(u=t,e),c=g,l=v,f=y,h=m,d=x,_.point=n}function s(){P(g,v,p,y,m,x,c,l,u,f,h,d,nm,i),(_.lineEnd=r)()}var u,c,l,f,h,d,p,g,v,y,m,x,_={point:t,lineStart:e,lineEnd:r,polygonStart:function(){i.polygonStart(),_.lineStart=o},polygonEnd:function(){i.polygonEnd(),_.lineStart=e}};return _}}function no(t){return ro(function(){return t})()}function ro(t){function n(t){return[(t=l(t[0]*_v,t[1]*_v))[0]*v+s,u-t[1]*v]}function e(t){return(t=l.invert((t[0]-s)/v,(u-t[1])/v))&&[t[0]*xv,t[1]*xv]}function r(t,e){return[(t=a(t,e))[0]*v+s,u-t[1]*v]}function i(){l=Xv(c=ri(b,w,S),a);var t=a(x,_);return s=y-t[0]*v,u=m+t[1]*v,o()}function o(){return p=g=null,n}var a,s,u,c,l,f,h,d,p,g,v=150,y=480,m=250,x=0,_=0,b=0,w=0,S=0,T=null,M=Jy,C=null,A=My,k=.5,E=im(r,k);return n.stream=function(t){return p&&g===t?p:p=om(M(c,E(A(g=t))))},n.clipAngle=function(t){return arguments.length?(M=+t?tm(T=t*_v,6*_v):(T=null,Jy),o()):T*xv},n.clipExtent=function(t){return arguments.length?(A=null==t?(C=f=h=d=null,My):fi(C=+t[0][0],f=+t[0][1],h=+t[1][0],d=+t[1][1]),o()):null==C?null:[[C,f],[h,d]]},n.scale=function(t){return arguments.length?(v=+t,i()):v},n.translate=function(t){return arguments.length?(y=+t[0],m=+t[1],i()):[y,m]},n.center=function(t){return arguments.length?(x=t[0]%360*_v,_=t[1]%360*_v,i()):[x*xv,_*xv]},n.rotate=function(t){return arguments.length?(b=t[0]%360*_v,w=t[1]%360*_v,S=2<t.length?t[2]%360*_v:0,i()):[b*xv,w*xv,S*xv]},n.precision=function(t){return arguments.length?(E=im(r,k=t*t),o()):Pv(k)},n.fitExtent=function(t,e){return Ki(n,t,e)},n.fitSize=function(t,e){return Ji(n,t,e)},function(){return a=t.apply(this,arguments),n.invert=a.invert&&e,i()}}function io(t){var e=0,n=gv/3,r=ro(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*_v,n=t[1]*_v):[e*xv,n*xv]},i}function oo(t){function e(t,e){return[t*n,Ev(e)/n]}var n=Tv(t);return e.invert=function(t,e){return[t/n,xr(e*n)]},e}function ao(t,e){function n(t,e){var n=Pv(o-2*i*Ev(e))/i;return[n*Ev(t*=i),a-n*Tv(t)]}var r=Ev(t),i=(r+Ev(e))/2;if(bv(i)<pv)return oo(t);var o=1+r*(2*i-r),a=Pv(o)/i;return n.invert=function(t,e){var n=a-e;return[Sv(t,bv(n))/i*Lv(n),xr((o-(t*t+n*n)*i*i)/(2*i))]},n}function so(r){var i=r.length;return{point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}}}function uo(o){return function(t,e){var n=Tv(t),r=Tv(e),i=o(n*r);return[i*r*Ev(t),i*Ev(e)]}}function co(o){return function(t,e){var n=Pv(t*t+e*e),r=o(n),i=Ev(r);return[Sv(t*i,n*Tv(r)),xr(n&&e*i/n)]}}function lo(t,e){return[t,Av(Nv((vv+e)/2))]}function fo(t){function e(){var t=gv*s(),e=o([0,0]);return c(null==l?[[e[0]-t,e[1]-t],[e[0]+t,e[1]+t]]:[[Math.max(e[0]-t,l),n],[Math.min(e[0]+t,r),i]])}var n,r,i,o=no(t),a=o.center,s=o.scale,u=o.translate,c=o.clipExtent,l=null;return o.center=function(t){return arguments.length?(a(t),e()):a()},o.scale=function(t){return arguments.length?(s(t),e()):s()},o.translate=function(t){return arguments.length?(u(t),e()):u()},o.clipExtent=function(t){return arguments.length?(null==t?l=n=r=i=null:(l=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),e()):null==l?null:[[l,n],[r,i]]},e()}function ho(t){return Nv((vv+t)/2)}function po(t,e){function n(t,e){0<o?e<-vv+pv&&(e=-vv+pv):vv-pv<e&&(e=vv-pv);var n=o/kv(ho(e),i);return[n*Ev(i*t),o-n*Tv(i*t)]}var r=Tv(t),i=t===e?Ev(t):Av(r/Tv(e))/Av(ho(e)/ho(t)),o=r*kv(ho(t),i)/i;return i?(n.invert=function(t,e){var n=o-e,r=Lv(i)*Pv(t*t+n*n);return[Sv(t,bv(n))/i*Lv(n),2*wv(kv(o/r,1/i))-vv]},n):lo}function go(t,e){return[t,e]}function vo(t,e){function n(t,e){var n=o-e,r=i*t;return[n*Ev(r),o-n*Tv(r)]}var r=Tv(t),i=t===e?Ev(t):(r-Tv(e))/(e-t),o=r/i+t;return bv(i)<pv?go:(n.invert=function(t,e){var n=o-e;return[Sv(t,bv(n))/i*Lv(n),o-Lv(i)*Pv(t*t+n*n)]},n)}function yo(t,e){var n=Tv(e),r=Tv(t)*n;return[n*Ev(t)/r,Ev(e)/r]}function mo(n,r,i,o){return 1===n&&1===r&&0===i&&0===o?My:Qi({point:function(t,e){this.stream.point(t*n+i,e*r+o)}})}function xo(t,e){return[Tv(e)*Ev(t),Ev(e)]}function _o(t,e){var n=Tv(e),r=1+Tv(t)*n;return[n*Ev(t)/r,Ev(e)/r]}function bo(t,e){return[Av(Nv((vv+e)/2)),-t]}function wo(t,e){return t.parent===e.parent?1:2}function So(t){return t.reduce(To,0)/t.length}function To(t,e){return t+e.x}function Mo(t){return 1+t.reduce(Co,0)}function Co(t,e){return Math.max(t,e.y)}function Ao(t){for(var e;e=t.children;)t=e[0];return t}function ko(t){for(var e;e=t.children;)t=e[e.length-1];return t}function Eo(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;0<=--r;)e+=n[r].value;else e=1;t.value=e}function Lo(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function Po(t,e){var n,r,i,o,a,s=new Oo(t),u=+t.value&&(s.value=t.value),c=[s];for(null==e&&(e=Do);n=c.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;0<=o;--o)c.push(r=n.children[o]=new Oo(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Io)}function No(){return Po(this).eachBefore(Ro)}function Do(t){return t.children}function Ro(t){t.data=t.data.data}function Io(t){for(var e=0;t.height=e,(t=t.parent)&&t.height<++e;);}function Oo(t){this.data=t,this.depth=this.height=0,this.parent=null}function Fo(t){this._=t,this.next=null}function Vo(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r-e.r;return n*n+r*r<i*i+1e-6}function Go(t,e){var n,r,i,o=null,a=t.head;switch(e.length){case 1:n=zo(e[0]);break;case 2:n=jo(e[0],e[1]);break;case 3:n=Ho(e[0],e[1],e[2])}for(;a;)i=a._,r=a.next,n&&Vo(n,i)?o=a:(o?(t.tail=o).next=null:t.head=t.tail=null,e.push(i),n=Go(t,e),e.pop(),t.head?(a.next=t.head,t.head=a):(a.next=null,t.head=t.tail=a),(o=t.tail).next=r),a=r;return t.tail=o,n}function zo(t){return{x:t.x,y:t.y,r:t.r}}function jo(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,u=o-n,c=a-r,l=s-i,f=Math.sqrt(u*u+c*c);return{x:(n+o+u/f*l)/2,y:(r+a+c/f*l)/2,r:(f+i+s)/2}}function Ho(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,u=e.r,c=n.x,l=n.y,f=n.r,h=2*(r-a),d=2*(i-s),p=2*(u-o),g=r*r+i*i-o*o-a*a-s*s+u*u,v=2*(r-c),y=2*(i-l),m=2*(f-o),x=r*r+i*i-o*o-c*c-l*l+f*f,_=v*d-h*y,b=(d*x-y*g)/_-r,w=(y*p-d*m)/_,S=(v*g-h*x)/_-i,T=(h*m-v*p)/_,M=w*w+T*T-1,C=2*(b*w+S*T+o),A=b*b+S*S-o*o,k=(-C-Math.sqrt(C*C-4*M*A))/(2*M);return{x:b+w*k+r,y:S+T*k+i,r:k}}function qo(t,e,n){var r=t.x,i=t.y,o=e.r+n.r,a=t.r+n.r,s=e.x-r,u=e.y-i,c=s*s+u*u;if(c){var l=.5+((a*=a)-(o*=o))/(2*c),f=Math.sqrt(Math.max(0,2*o*(a+c)-(a-=c)*a-o*o))/(2*c);n.x=r+l*s+f*u,n.y=i+l*u-f*s}else n.x=r+a,n.y=i}function Bo(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return n*n+r*r<i*i-1e-6}function Uo(t,e,n){var r=t._,i=t.next._,o=r.r+i.r,a=(r.x*i.r+i.x*r.r)/o-e,s=(r.y*i.r+i.y*r.r)/o-n;return a*a+s*s}function Xo(t){this._=t,this.next=null,this.previous=null}function $o(t){if(!(i=t.length))return 0;var e,n,r,i;if((e=t[0]).x=0,e.y=0,!(1<i))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(2<i))return e.r+n.r;qo(n,e,r=t[2]);var o,a,s,u,c,l,f,h=e.r*e.r,d=n.r*n.r,p=r.r*r.r,g=h+d+p,v=h*e.x+d*n.x+p*r.x,y=h*e.y+d*n.y+p*r.y;e=new Xo(e),n=new Xo(n),r=new Xo(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){qo(e._,n._,r=t[s]),r=new Xo(r),u=n.next,c=e.previous,l=n._.r,f=e._.r;do{if(l<=f){if(Bo(u._,r._)){n=u,(e.next=n).previous=e,--s;continue t}l+=u._.r,u=u.next}else{if(Bo(c._,r._)){((e=c).next=n).previous=e,--s;continue t}f+=c._.r,c=c.previous}}while(u!==c.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,g+=p=r._.r*r._.r,h=Uo(e,o=(v+=p*r._.x)/g,a=(y+=p*r._.y)/g);(r=r.next)!==n;)(p=Uo(r,o,a))<h&&(e=r,h=p);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=Im(e),s=0;s<i;++s)(e=t[s]).x-=r.x,e.y-=r.y;return r.r}function Yo(t){return null==t?null:Wo(t)}function Wo(t){if("function"!=typeof t)throw new Error;return t}function Qo(){return 0}function Zo(t){return Math.sqrt(t.value)}function Ko(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Jo(a,s){return function(t){if(e=t.children){var e,n,r,i=e.length,o=a(t)*s||0;if(o)for(n=0;n<i;++n)e[n].r+=o;if(r=$o(e),o)for(n=0;n<i;++n)e[n].r-=o;t.r=r+o}}}function ta(n){return function(t){var e=t.parent;t.r*=n,e&&(t.x=e.x+n*t.x,t.y=e.y+n*t.y)}}function ea(t){return t.id}function na(t){return t.parentId}function ra(t,e){return t.parent===e.parent?1:2}function ia(t){var e=t.children;return e?e[0]:t.t}function oa(t){var e=t.children;return e?e[e.length-1]:t.t}function aa(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function sa(t){for(var e,n=0,r=0,i=t.children,o=i.length;0<=--o;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}function ua(t,e,n){return t.a.parent===e.parent?t.a:n}function ca(t,e){this._=t,this.parent=null,this.children=null,this.A=null,(this.a=this).z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function la(t){for(var e,n,r,i,o,a=new ca(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;0<=i;--i)s.push(n=e.children[i]=new ca(r[i],i)),n.parent=e;return(a.parent=new ca(null,0)).children=[a],a}function fa(t,e,n,r,i,o){for(var a,s,u,c,l,f,h,d,p,g,v,y=[],m=e.children,x=0,_=0,b=m.length,w=e.value;x<b;){for(u=i-n,c=o-r;!(l=m[_++].value)&&_<b;);for(f=h=l,v=l*l*(g=Math.max(c/u,u/c)/(w*t)),p=Math.max(h/v,v/f);_<b;++_){if(l+=s=m[_].value,s<f&&(f=s),h<s&&(h=s),v=l*l*g,(d=Math.max(h/v,v/f))>p){l-=s;break}p=d}y.push(a={value:l,dice:u<c,children:m.slice(x,_)}),a.dice?zm(a,n,r,i,w?r+=c*l/w:o):$m(a,n,r,w?n+=u*l/w:i,o),w-=l,x=_}return y}function ha(t,e){return t[0]-e[0]||t[1]-e[1]}function da(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;++i){for(;1<r&&nx(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function pa(t){if(!(1<=t))throw new Error;this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function ga(t){if(!t._start)try{va(t)}catch(n){if(t._tasks[t._ended+t._active-1])ma(t,n);else if(!t._data)throw n}}function va(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],r=n.length-1,i=n[r];n[r]=ya(t,e),--t._waiting,++t._active,n=i.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||sx)}}function ya(n,r){return function(t,e){n._tasks[r]&&(--n._active,++n._ended,(n._tasks[r]=null)==n._error&&(null!=t?ma(n,t):(n._data[r]=e,n._waiting?ga(n):xa(n))))}}function ma(t,e){var n,r=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;0<=--r;)if((n=t._tasks[r])&&(t._tasks[r]=null,n.abort))try{n.abort()}catch(t){}t._active=NaN,xa(t)}function xa(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function _a(t){return new pa(arguments.length?+t:1/0)}function ba(n){return function(t,e){n(null==t?e:null)}}function wa(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Sa(e,n){return function(t){return e(t.responseText,n)}}function Ta(r){function o(t){var e=t+"",n=a.get(e);if(!n){if(i!==Cx)return i;a.set(e,n=s.push(t))}return r[(n-1)%r.length]}var a=qn(),s=[],i=Cx;return r=null==r?[]:Mx.call(r),o.domain=function(t){if(!arguments.length)return s.slice();s=[],a=qn();for(var e,n,r=-1,i=t.length;++r<i;)a.has(n=(e=t[r])+"")||a.set(n,s.push(e));return o},o.range=function(t){return arguments.length?(r=Mx.call(t),o):r.slice()},o.unknown=function(t){return arguments.length?(i=t,o):i},o.copy=function(){return Ta().domain(s).range(r).unknown(i)},o}function Ma(){function e(){var t=s().length,e=c[1]<c[0],n=c[e-0],r=c[1-e];o=(r-n)/Math.max(1,t-f+2*h),l&&(o=Math.floor(o)),n+=(r-n-o*(t-f))*d,a=o*(1-f),l&&(n=Math.round(n),a=Math.round(a));var i=Kc(t).map(function(t){return n+o*t});return u(e?i.reverse():i)}var o,a,t=Ta().unknown(void 0),s=t.domain,u=t.range,c=[0,1],l=!1,f=0,h=0,d=.5;return delete t.unknown,t.domain=function(t){return arguments.length?(s(t),e()):s()},t.range=function(t){return arguments.length?(c=[+t[0],+t[1]],e()):c.slice()},t.rangeRound=function(t){return c=[+t[0],+t[1]],l=!0,e()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(t){return arguments.length?(l=!!t,e()):l},t.padding=function(t){return arguments.length?(f=h=Math.max(0,Math.min(1,t)),e()):f},t.paddingInner=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),e()):f},t.paddingOuter=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),e()):h},t.align=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),e()):d},t.copy=function(){return Ma().domain(s()).range(c).round(l).paddingInner(f).paddingOuter(h).align(d)},e()}function Ca(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Ca(e())},t}function Aa(){return Ca(Ma().paddingInner(1))}function ka(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:Ax(n)}function Ea(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:n<=t?1:r(t)}}}function La(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:1<=t?n:r(t)}}}function Pa(t,e,n,r){var i=t[0],o=t[1],a=e[0],s=e[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(t){return a(i(t))}}function Na(n,t,e,r){var i=Math.min(n.length,t.length)-1,o=new Array(i),a=new Array(i),s=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++s<i;)o[s]=e(n[s],n[s+1]),a[s]=r(t[s],t[s+1]);return function(t){var e=Vc(n,t,1,i)-1;return a[e](o[e](t))}}function Da(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Ra(e,n){function r(){return i=2<Math.min(s.length,u.length)?Na:Pa,o=a=null,t}function t(t){return(o||(o=i(s,u,l?Ea(e):e,c)))(+t)}var i,o,a,s=Ex,u=Ex,c=Ch,l=!1;return t.invert=function(t){return(a||(a=i(u,s,ka,l?La(n):n)))(+t)},t.domain=function(t){return arguments.length?(s=Tx.call(t,kx),r()):s.slice()},t.range=function(t){return arguments.length?(u=Mx.call(t),r()):u.slice()},t.rangeRound=function(t){return u=Mx.call(t),c=Ah,r()},t.clamp=function(t){return arguments.length?(l=!!t,r()):l},t.interpolate=function(t){return arguments.length?(c=t,r()):c},r()}function Ia(s){var u=s.domain;return s.ticks=function(t){var e=u();return nl(e[0],e[e.length-1],null==t?10:t)},s.tickFormat=function(t,e){return Lx(u(),t,e)},s.nice=function(t){var e=u(),n=e.length-1,r=null==t?10:t,i=e[0],o=e[n],a=T(i,o,r);return a&&(a=T(Math.floor(i/a)*a,Math.ceil(o/a)*a,r),e[0]=Math.floor(i/a)*a,e[n]=Math.ceil(o/a)*a,u(e)),s},s}function Oa(){var t=Ra(ka,bh);return t.copy=function(){return Da(t,Oa())},Ia(t)}function Fa(){function e(t){return+t}var n=[0,1];return(e.invert=e).domain=e.range=function(t){return arguments.length?(n=Tx.call(t,kx),e):n.slice()},e.copy=function(){return Fa().domain(n)},Ia(e)}function Va(e,n){return(n=Math.log(n/e))?function(t){return Math.log(t/e)/n}:Ax(n)}function Ga(e,n){return e<0?function(t){return-Math.pow(-n,t)*Math.pow(-e,1-t)}:function(t){return Math.pow(n,t)*Math.pow(e,1-t)}}function za(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ja(e){return 10===e?za:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function Ha(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function qa(e){return function(t){return-e(-t)}}function Ba(){function e(){return p=Ha(d),g=ja(d),h()[0]<0&&(p=qa(p),g=qa(g)),i}var i=Ra(Va,Ga).domain([1,10]),h=i.domain,d=10,p=Ha(10),g=ja(10);return i.base=function(t){return arguments.length?(d=+t,e()):d},i.domain=function(t){return arguments.length?(h(t),e()):h()},i.ticks=function(t){var e,n=h(),r=n[0],i=n[n.length-1];(e=i<r)&&(u=r,r=i,i=u);var o,a,s,u=p(r),c=p(i),l=null==t?10:+t,f=[];if(!(d%1)&&c-u<l){if(u=Math.round(u)-1,c=Math.round(c)+1,0<r){for(;u<c;++u)for(a=1,o=g(u);a<d;++a)if(!((s=o*a)<r)){if(i<s)break;f.push(s)}}else for(;u<c;++u)for(a=d-1,o=g(u);1<=a;--a)if(!((s=o*a)<r)){if(i<s)break;f.push(s)}}else f=nl(u,c,Math.min(c-u,l)).map(g);return e?f.reverse():f},i.tickFormat=function(t,n){if(null==n&&(n=10===d?".0e":","),"function"!=typeof n&&(n=H.format(n)),t===1/0)return n;null==t&&(t=10);var r=Math.max(1,d*t/i.ticks().length);return function(t){var e=t/g(Math.round(p(t)));return e*d<d-.5&&(e*=d),e<=r?n(t):""}},i.nice=function(){return h(Px(h(),{floor:function(t){return g(Math.floor(p(t)))},ceil:function(t){return g(Math.ceil(p(t)))}}))},i.copy=function(){return Da(i,Ba().base(d))},i}function Ua(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function Xa(){function t(e,n){return(n=Ua(n,r)-(e=Ua(e,r)))?function(t){return(Ua(t,r)-e)/n}:Ax(n)}function e(e,n){return n=Ua(n,r)-(e=Ua(e,r)),function(t){return Ua(e+n*t,1/r)}}var r=1,n=Ra(t,e),i=n.domain;return n.exponent=function(t){return arguments.length?(r=+t,i(i())):r},n.copy=function(){return Da(n,Xa().exponent(r))},Ia(n)}function $a(){return Xa().exponent(.5)}function Ya(){function i(){var t=0,e=Math.max(1,r.length);for(a=new Array(e-1);++t<e;)a[t-1]=ol(o,t/e);return n}function n(t){if(!isNaN(t=+t))return r[Vc(a,t)]}var o=[],r=[],a=[];return n.invertExtent=function(t){var e=r.indexOf(t);return e<0?[NaN,NaN]:[0<e?a[e-1]:o[0],e<a.length?a[e]:o[o.length-1]]},n.domain=function(t){if(!arguments.length)return o.slice();o=[];for(var e,n=0,r=t.length;n<r;++n)null==(e=t[n])||isNaN(e=+e)||o.push(e);return o.sort(Ic),i()},n.range=function(t){return arguments.length?(r=Mx.call(t),i()):r.slice()},n.quantiles=function(){return a.slice()},n.copy=function(){return Ya().domain(o).range(r)},n}function Wa(){function e(t){if(t<=t)return s[Vc(a,t,0,o)]}function n(){var t=-1;for(a=new Array(o);++t<o;)a[t]=((t+1)*i-(t-o)*r)/(o+1);return e}var r=0,i=1,o=1,a=[.5],s=[0,1];return e.domain=function(t){return arguments.length?(r=+t[0],i=+t[1],n()):[r,i]},e.range=function(t){return arguments.length?(o=(s=Mx.call(t)).length-1,n()):s.slice()},e.invertExtent=function(t){var e=s.indexOf(t);return e<0?[NaN,NaN]:e<1?[r,a[0]]:o<=e?[a[o-1],i]:[a[e-1],a[e]]},e.copy=function(){return Wa().domain([r,i]).range(s)},Ia(e)}function Qa(){function e(t){if(t<=t)return r[Vc(n,t,0,i)]}var n=[.5],r=[0,1],i=1;return e.domain=function(t){return arguments.length?(n=Mx.call(t),i=Math.min(n.length,r.length-1),e):n.slice()},e.range=function(t){return arguments.length?(r=Mx.call(t),i=Math.min(n.length,r.length-1),e):r.slice()},e.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},e.copy=function(){return Qa().domain(n).range(r)},e}function Za(i,o,n,r){function a(t){return i(t=new Date(+t)),t}return(a.floor=a).ceil=function(t){return i(t=new Date(t-1)),o(t,1),i(t),t},a.round=function(t){var e=a(t),n=a.ceil(t);return t-e<n-t?e:n},a.offset=function(t,e){return o(t=new Date(+t),null==e?1:Math.floor(e)),t},a.range=function(t,e,n){var r=[];if(t=a.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return r;for(;r.push(new Date(+t)),o(t,n),i(t),t<e;);return r},a.filter=function(n){return Za(function(t){if(t<=t)for(;i(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)for(;0<=--e;)for(;o(t,1),!n(t););})},n&&(a.count=function(t,e){return Nx.setTime(+t),Dx.setTime(+e),i(Nx),i(Dx),Math.floor(n(Nx,Dx))},a.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?a.filter(r?function(t){return r(t)%e==0}:function(t){return a.count(0,t)%e==0}):a:null}),a}function Ka(e){return Za(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ox)/Fx})}function Ja(e){return Za(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Fx})}function ts(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function es(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ns(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function rs(t){function n(u,c){return function(t){var e,n,r,i=[],o=-1,a=0,s=u.length;for(t instanceof Date||(t=new Date(+t));++o<s;)37===u.charCodeAt(o)&&(i.push(u.slice(a,o)),null!=(n=I_[e=u.charAt(++o)])?e=u.charAt(++o):n="e"===e?" ":"0",(r=c[e])&&(e=r(t,n)),i.push(e),a=o+1);return i.push(u.slice(a,o)),i.join("")}}function r(r,i){return function(t){var e=ns(1900);if(o(e,r,t+="",0)!=t.length)return null;if("p"in e&&(e.H=e.H%12+12*e.p),"W"in e||"U"in e){"w"in e||(e.w="W"in e?1:0);var n="Z"in e?es(ns(e.y)).getUTCDay():i(ns(e.y)).getDay();e.m=0,e.d="W"in e?(e.w+6)%7+7*e.W-(n+5)%7:e.w+7*e.U-(n+6)%7}return"Z"in e?(e.H+=e.Z/100|0,e.M+=e.Z%100,es(e)):i(e)}}function o(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(u<=r)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=H[i in I_?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function e(t,e,n){var r=L.exec(e.slice(n));return r?(t.p=P[r[0].toLowerCase()],n+r[0].length):-1}function i(t,e,n){var r=R.exec(e.slice(n));return r?(t.w=I[r[0].toLowerCase()],n+r[0].length):-1}function a(t,e,n){var r=N.exec(e.slice(n));return r?(t.w=D[r[0].toLowerCase()],n+r[0].length):-1}function s(t,e,n){var r=V.exec(e.slice(n));return r?(t.m=G[r[0].toLowerCase()],n+r[0].length):-1}function u(t,e,n){var r=O.exec(e.slice(n));return r?(t.m=F[r[0].toLowerCase()],n+r[0].length):-1}function c(t,e,n){return o(t,w,e,n)}function l(t,e,n){return o(t,S,e,n)}function f(t,e,n){return o(t,T,e,n)}function h(t){return A[t.getDay()]}function d(t){return C[t.getDay()]}function p(t){return E[t.getMonth()]}function g(t){return k[t.getMonth()]}function v(t){return M[+(12<=t.getHours())]}function y(t){return A[t.getUTCDay()]}function m(t){return C[t.getUTCDay()]}function x(t){return E[t.getUTCMonth()]}function _(t){return k[t.getUTCMonth()]}function b(t){return M[+(12<=t.getUTCHours())]}var w=t.dateTime,S=t.date,T=t.time,M=t.periods,C=t.days,A=t.shortDays,k=t.months,E=t.shortMonths,L=as(M),P=ss(M),N=as(C),D=ss(C),R=as(A),I=ss(A),O=as(k),F=ss(k),V=as(E),G=ss(E),z={a:h,A:d,b:p,B:g,c:null,d:ws,e:ws,H:Ss,I:Ts,j:Ms,L:Cs,m:As,M:ks,p:v,S:Es,U:Ls,w:Ps,W:Ns,x:null,X:null,y:Ds,Y:Rs,Z:Is,"%":Qs},j={a:y,A:m,b:x,B:_,c:null,d:Os,e:Os,H:Fs,I:Vs,j:Gs,L:zs,m:js,M:Hs,p:b,S:qs,U:Bs,w:Us,W:Xs,x:null,X:null,y:$s,Y:Ys,Z:Ws,"%":Qs},H={a:i,A:a,b:s,B:u,c:c,d:gs,e:gs,H:ys,I:ys,j:vs,L:_s,m:ps,M:ms,p:e,S:xs,U:cs,w:us,W:ls,x:l,X:f,y:hs,Y:fs,Z:ds,"%":bs};return z.x=n(S,z),z.X=n(T,z),z.c=n(w,z),j.x=n(S,j),j.X=n(T,j),j.c=n(w,j),{format:function(t){var e=n(t+="",z);return e.toString=function(){return t},e},parse:function(t){var e=r(t+="",ts);return e.toString=function(){return t},e},utcFormat:function(t){var e=n(t+="",j);return e.toString=function(){return t},e},utcParse:function(t){var e=r(t,es);return e.toString=function(){return t},e}}}function is(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function os(t){return t.replace(V_,"\\$&")}function as(t){return new RegExp("^(?:"+t.map(os).join("|")+")","i")}function ss(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function us(t,e,n){var r=O_.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function cs(t,e,n){var r=O_.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function ls(t,e,n){var r=O_.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function fs(t,e,n){var r=O_.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function hs(t,e,n){var r=O_.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(68<+r[0]?1900:2e3),n+r[0].length):-1}function ds(t,e,n){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ps(t,e,n){var r=O_.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function gs(t,e,n){var r=O_.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function vs(t,e,n){var r=O_.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ys(t,e,n){var r=O_.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ms(t,e,n){var r=O_.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function xs(t,e,n){var r=O_.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function _s(t,e,n){var r=O_.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function bs(t,e,n){var r=F_.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ws(t,e){return is(t.getDate(),e,2)}function Ss(t,e){return is(t.getHours(),e,2)}function Ts(t,e){return is(t.getHours()%12||12,e,2)}function Ms(t,e){return is(1+Bx.count(u_(t),t),e,3)}function Cs(t,e){return is(t.getMilliseconds(),e,3)}function As(t,e){return is(t.getMonth()+1,e,2)}function ks(t,e){return is(t.getMinutes(),e,2)}function Es(t,e){return is(t.getSeconds(),e,2)}function Ls(t,e){return is(Xx.count(u_(t),t),e,2)}function Ps(t){return t.getDay()}function Ns(t,e){return is($x.count(u_(t),t),e,2)}function Ds(t,e){return is(t.getFullYear()%100,e,2)}function Rs(t,e){return is(t.getFullYear()%1e4,e,4)}function Is(t){var e=t.getTimezoneOffset();return(0<e?"-":(e*=-1,"+"))+is(e/60|0,"0",2)+is(e%60,"0",2)}function Os(t,e){return is(t.getUTCDate(),e,2)}function Fs(t,e){return is(t.getUTCHours(),e,2)}function Vs(t,e){return is(t.getUTCHours()%12||12,e,2)}function Gs(t,e){return is(1+p_.count(N_(t),t),e,3)}function zs(t,e){return is(t.getUTCMilliseconds(),e,3)}function js(t,e){return is(t.getUTCMonth()+1,e,2)}function Hs(t,e){return is(t.getUTCMinutes(),e,2)}function qs(t,e){return is(t.getUTCSeconds(),e,2)}function Bs(t,e){return is(v_.count(N_(t),t),e,2)}function Us(t){return t.getUTCDay()}function Xs(t,e){return is(y_.count(N_(t),t),e,2)}function $s(t,e){return is(t.getUTCFullYear()%100,e,2)}function Ys(t,e){return is(t.getUTCFullYear()%1e4,e,4)}function Ws(){return"+0000"}function Qs(){return"%"}function Zs(t){return D_=rs(t),H.timeFormat=D_.format,H.timeParse=D_.parse,H.utcFormat=D_.utcFormat,H.utcParse=D_.utcParse,D_}function Ks(t){return t.toISOString()}function Js(t){var e=new Date(t);return isNaN(e)?null:e}function tu(t){return new Date(t)}function eu(t){return t instanceof Date?+t:+new Date(+t)}function nu(a,e,n,r,i,o,s,u,c){function l(t){return(s(t)<t?g:o(t)<t?v:i(t)<t?y:r(t)<t?m:e(t)<t?n(t)<t?x:_:a(t)<t?b:w)(t)}function f(t,e,n,r){if(null==t&&(t=10),"number"==typeof t){var i=Math.abs(n-e)/t,o=Oc(function(t){return t[2]}).right(S,i);o===S.length?(r=T(e/$_,n/$_,t),t=a):o?(r=(o=S[i/S[o-1][2]<S[o][2]/i?o-1:o])[1],t=o[0]):(r=T(e,n,t),t=u)}return null==r?t:t.every(r)}var h=Ra(ka,bh),d=h.invert,p=h.domain,g=c(".%L"),v=c(":%S"),y=c("%I:%M"),m=c("%I %p"),x=c("%a %d"),_=c("%b %d"),b=c("%B"),w=c("%Y"),S=[[s,1,j_],[s,5,5*j_],[s,15,15*j_],[s,30,30*j_],[o,1,H_],[o,5,5*H_],[o,15,15*H_],[o,30,30*H_],[i,1,q_],[i,3,3*q_],[i,6,6*q_],[i,12,12*q_],[r,1,B_],[r,2,2*B_],[n,1,U_],[e,1,X_],[e,3,3*X_],[a,1,$_]];return h.invert=function(t){return new Date(d(t))},h.domain=function(t){return arguments.length?p(Tx.call(t,eu)):p().map(tu)},h.ticks=function(t,e){var n,r=p(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=f(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},h.tickFormat=function(t,e){
return null==e?l:c(e)},h.nice=function(t,e){var n=p();return(t=f(t,n[0],n[n.length-1],e))?p(Px(n,t)):h},h.copy=function(){return Da(h,nu(a,e,n,r,i,o,s,u,c))},h}function ru(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}function iu(n){function e(t){var e=(t-r)/(i-r);return n(o?Math.max(0,Math.min(1,e)):e)}var r=0,i=1,o=!1;return e.domain=function(t){return arguments.length?(r=+t[0],i=+t[1],e):[r,i]},e.clamp=function(t){return arguments.length?(o=!!t,e):o},e.interpolator=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return iu(n).domain([r,i]).clamp(o)},Ia(e)}function ou(t){return 1<t?0:t<-1?xb:Math.acos(t)}function au(t){return 1<=t?_b:t<=-1?-_b:Math.asin(t)}function su(t){return t.innerRadius}function uu(t){return t.outerRadius}function cu(t){return t.startAngle}function lu(t){return t.endAngle}function fu(t){return t&&t.padAngle}function hu(t,e,n,r,i,o,a,s){var u=n-t,c=r-e,l=a-i,f=s-o,h=(l*(e-o)-f*(t-i))/(f*u-l*c);return[t+h*u,e+h*c]}function du(t,e,n,r,i,o,a){var s=t-n,u=e-r,c=(a?o:-o)/yb(s*s+u*u),l=c*u,f=-c*s,h=t+l,d=e+f,p=n+l,g=r+f,v=(h+p)/2,y=(d+g)/2,m=p-h,x=g-d,_=m*m+x*x,b=i-o,w=h*g-p*d,S=(x<0?-1:1)*yb(pb(0,b*b*_-w*w)),T=(w*x-m*S)/_,M=(-w*m-x*S)/_,C=(w*x+m*S)/_,A=(-w*m+x*S)/_,k=T-v,E=M-y,L=C-v,P=A-y;return L*L+P*P<k*k+E*E&&(T=C,M=A),{cx:T,cy:M,x01:-l,y01:-f,x11:T*(i/b-1),y11:M*(i/b-1)}}function pu(t){this._context=t}function gu(t){return t[0]}function vu(t){return t[1]}function yu(t){this._curve=t}function mu(e){function t(t){return new yu(e(t))}return t._curve=e,t}function xu(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(mu(t)):e()._curve},t}function _u(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function bu(t){this._context=t}function wu(t){this._context=t}function Su(t){this._context=t}function Tu(t,e){this._basis=new bu(t),this._beta=e}function Mu(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Cu(t,e){this._context=t,this._k=(1-e)/6}function Au(t,e){this._context=t,this._k=(1-e)/6}function ku(t,e){this._context=t,this._k=(1-e)/6}function Eu(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>mb){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>mb){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Lu(t,e){this._context=t,this._alpha=e}function Pu(t,e){this._context=t,this._alpha=e}function Nu(t,e){this._context=t,this._alpha=e}function Du(t){this._context=t}function Ru(t){return t<0?-1:1}function Iu(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Ru(o)+Ru(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Ou(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Fu(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Vu(t){this._context=t}function Gu(t){this._context=new zu(t)}function zu(t){this._context=t}function ju(t){return new Vu(t)}function Hu(t){return new Gu(t)}function qu(t){this._context=t}function Bu(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(o[i[0]=0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;0<=e;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Uu(t,e){this._context=t,this._t=e}function Xu(t){return new Uu(t,0)}function $u(t){return new Uu(t,1)}function Yu(t,e){return t[e]}function Wu(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}function Qu(t){return t[0]}function Zu(t){return t[1]}function Ku(){this._=null}function Ju(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function tc(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ec(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function nc(t){for(;t.L;)t=t.L;return t}function rc(t,e,n,r){var i=[null,null],o=Aw.push(i)-1;return i.left=t,i.right=e,n&&oc(i,t,e,n),r&&oc(i,e,t,r),Mw[t.index].halfedges.push(o),Mw[e.index].halfedges.push(o),i}function ic(t,e,n){var r=[e,n];return r.left=t,r}function oc(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function ac(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],c=a[1],l=0,f=1,h=s[0]-u,d=s[1]-c;if(o=e-u,h||!(0<o)){if(o/=h,h<0){if(o<l)return;o<f&&(f=o)}else if(0<h){if(f<o)return;l<o&&(l=o)}if(o=r-u,h||!(o<0)){if(o/=h,h<0){if(f<o)return;l<o&&(l=o)}else if(0<h){if(o<l)return;o<f&&(f=o)}if(o=n-c,d||!(0<o)){if(o/=d,d<0){if(o<l)return;o<f&&(f=o)}else if(0<d){if(f<o)return;l<o&&(l=o)}if(o=i-c,d||!(o<0)){if(o/=d,d<0){if(f<o)return;l<o&&(l=o)}else if(0<d){if(o<l)return;o<f&&(f=o)}return!(0<l||f<1)||(0<l&&(t[0]=[u+l*h,c+l*d]),f<1&&(t[1]=[u+f*h,c+f*d]),!0)}}}}}function sc(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],c=t.left,l=t.right,f=c[0],h=c[1],d=l[0],p=l[1],g=(f+d)/2,v=(h+p)/2;if(p===h){if(g<e||r<=g)return;if(d<f){if(u){if(u[1]>=i)return}else u=[g,n];o=[g,i]}else{if(u){if(u[1]<n)return}else u=[g,i];o=[g,n]}}else if(s=v-(a=(f-d)/(p-h))*g,a<-1||1<a)if(d<f){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(h<p){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function uc(t,e,n,r){for(var i,o=Aw.length;o--;)sc(i=Aw[o],t,e,n,r)&&ac(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>Lw||Math.abs(i[0][1]-i[1][1])>Lw)||delete Aw[o]}function cc(t){return Mw[t.index]={site:t,halfedges:[]}}function lc(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function fc(t,e){return e[+(e.left!==t.site)]}function hc(t,e){return e[+(e.left===t.site)]}function dc(){for(var t,e,n,r,i=0,o=Mw.length;i<o;++i)if((t=Mw[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=lc(t,Aw[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}function pc(t,e,n,r){var i,o,a,s,u,c,l,f,h,d,p,g,v=Mw.length,y=!0;for(i=0;i<v;++i)if(o=Mw[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)Aw[u[s]]||u.splice(s,1);for(s=0,c=u.length;s<c;)p=(d=hc(o,Aw[u[s]]))[0],g=d[1],f=(l=fc(o,Aw[u[++s%c]]))[0],h=l[1],(Math.abs(p-f)>Lw||Math.abs(g-h)>Lw)&&(u.splice(s,0,Aw.push(ic(a,d,Math.abs(p-t)<Lw&&Lw<r-g?[t,Math.abs(f-t)<Lw?h:r]:Math.abs(g-r)<Lw&&Lw<n-p?[Math.abs(h-r)<Lw?f:n,r]:Math.abs(p-n)<Lw&&Lw<g-e?[n,Math.abs(f-n)<Lw?h:e]:Math.abs(g-e)<Lw&&Lw<p-t?[Math.abs(h-e)<Lw?f:t,e]:null))-1),++c);c&&(y=!1)}if(y){var m,x,_,b=1/0;for(i=0,y=null;i<v;++i)(o=Mw[i])&&((_=(m=(a=o.site)[0]-t)*m+(x=a[1]-e)*x)<b&&(b=_,y=o));if(y){var w=[t,e],S=[t,r],T=[n,r],M=[n,e];y.halfedges.push(Aw.push(ic(a=y.site,w,S))-1,Aw.push(ic(a,S,T))-1,Aw.push(ic(a,T,M))-1,Aw.push(ic(a,M,w))-1)}}for(i=0;i<v;++i)(o=Mw[i])&&(o.halfedges.length||delete Mw[i])}function gc(){Ju(this),this.x=this.y=this.arc=this.site=this.cy=null}function vc(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,c=r[1]-s,l=o[0]-a,f=o[1]-s,h=2*(u*f-c*l);if(!(-Pw<=h)){var d=u*u+c*c,p=l*l+f*f,g=(f*d-c*p)/h,v=(u*p-l*d)/h,y=kw.pop()||new gc;y.arc=t,y.site=i,y.x=g+a,y.y=(y.cy=v+s)+Math.sqrt(g*g+v*v),t.circle=y;for(var m=null,x=Cw._;x;)if(y.y<x.y||y.y===x.y&&y.x<=x.x){if(!x.L){m=x.P;break}x=x.L}else{if(!x.R){m=x;break}x=x.R}Cw.insert(m,y),m||(Sw=y)}}}}function yc(t){var e=t.circle;e&&(e.P||(Sw=e.N),Cw.remove(e),kw.push(e),Ju(e),t.circle=null)}function mc(){Ju(this),this.edge=this.site=this.circle=null}function xc(t){var e=Ew.pop()||new mc;return e.site=t,e}function _c(t){yc(t),Tw.remove(t),Ew.push(t),Ju(t)}function bc(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];_c(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<Lw&&Math.abs(r-u.circle.cy)<Lw;)o=u.P,s.unshift(u),_c(u),u=o;s.unshift(u),yc(u);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<Lw&&Math.abs(r-c.circle.cy)<Lw;)a=c.N,s.push(c),_c(c),c=a;s.push(c),yc(c);var l,f=s.length;for(l=1;l<f;++l)c=s[l],u=s[l-1],oc(c.edge,u.site,c.site,i);u=s[0],(c=s[f-1]).edge=rc(u.site,c.site,null,i),vc(u),vc(c)}function wc(t){for(var e,n,r,i,o=t[0],a=t[1],s=Tw._;s;)if((r=Sc(s,a)-o)>Lw)s=s.L;else{if(!((i=o-Tc(s,a))>Lw)){-Lw<r?(e=s.P,n=s):-Lw<i?n=(e=s).N:e=n=s;break}if(!s.R){e=s;break}s=s.R}cc(t);var u=xc(t);if(Tw.insert(e,u),e||n){if(e===n)return yc(e),n=xc(e.site),Tw.insert(u,n),u.edge=n.edge=rc(e.site,u.site),vc(e),void vc(n);if(!n)return void(u.edge=rc(e.site,u.site));yc(e),yc(n);var c=e.site,l=c[0],f=c[1],h=t[0]-l,d=t[1]-f,p=n.site,g=p[0]-l,v=p[1]-f,y=2*(h*v-d*g),m=h*h+d*d,x=g*g+v*v,_=[(v*m-d*x)/y+l,(h*x-g*m)/y+f];oc(n.edge,c,p,_),u.edge=rc(c,t,null,_),n.edge=rc(t,p,null,_),vc(e),vc(n)}}function Sc(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],c=u-e;if(!c)return s;var l=s-r,f=1/o-1/c,h=l/c;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*c)-u+c/2+i-o/2)))/f+r:(r+s)/2}function Tc(t,e){var n=t.N;if(n)return Sc(n,e);var r=t.site;return r[1]===e?r[0]:1/0}function Mc(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function Cc(t,e){return e[1]-t[1]||e[0]-t[0]}function Ac(t,e){var n,r,i,o=t.sort(Cc).pop();for(Aw=[],Mw=new Array(t.length),Tw=new Ku,Cw=new Ku;;)if(i=Sw,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(wc(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;bc(i.arc)}if(dc(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],c=+e[1][1];uc(a,s,u,c),pc(a,s,u,c)}this.edges=Aw,this.cells=Mw,Tw=Cw=Aw=Mw=null}function kc(t,e,n){this.target=t,this.type=e,this.transform=n}function Ec(t,e,n){this.k=t,this.x=e,this.y=n}function Lc(t){return t.__zoom||Rw}function Pc(){H.event.stopImmediatePropagation()}function Nc(){return!H.event.button}function Dc(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function Rc(){return this.__zoom||Rw}var Ic=function(t,e){return t<e?-1:e<t?1:e<=t?0:NaN},Oc=function(o){return 1===o.length&&(o=n(o)),{left:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;o(t[i],e)<0?n=i+1:r=i}return n},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;0<o(t[i],e)?r=i:n=i+1}return n}}},Fc=Oc(Ic),Vc=Fc.right,Gc=Fc.left,zc=function(t,e){null==e&&(e=l);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return o},jc=function(t,e,n){var r,i,o,a,s=t.length,u=e.length,c=new Array(s*u);for(null==n&&(n=l),r=o=0;r<s;++r)for(a=t[r],i=0;i<u;++i,++o)c[o]=n(a,e[i]);return c},Hc=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},qc=function(t){return null===t?NaN:+t},Bc=function(t,e){var n,r,i=t.length,o=0,a=0,s=-1,u=0;if(null==e)for(;++s<i;)isNaN(n=qc(t[s]))||(a+=(r=n-o)*(n-(o+=r/++u)));else for(;++s<i;)isNaN(n=qc(e(t[s],s,t)))||(a+=(r=n-o)*(n-(o+=r/++u)));if(1<u)return a/(u-1)},Uc=function(t,e){var n=Bc(t,e);return n?Math.sqrt(n):n},Xc=function(t,e){var n,r,i,o=-1,a=t.length;if(null==e){for(;++o<a;)if(null!=(r=t[o])&&r<=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(r<n&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=e(t[o],o,t))&&r<=r){n=i=r;break}for(;++o<a;)null!=(r=e(t[o],o,t))&&(r<n&&(n=r),i<r&&(i=r))}return[n,i]},$c=Array.prototype,Yc=$c.slice,Wc=$c.map,Qc=function(t){return function(){return t}},Zc=function(t){return t},Kc=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o},Jc=Math.sqrt(50),tl=Math.sqrt(10),el=Math.sqrt(2),nl=function(t,e,n){var r=T(t,e,n);return Kc(Math.ceil(t/r)*r,Math.floor(e/r)*r+r/2,r)},rl=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},il=function(){function e(t){var e,n,r=t.length,i=new Array(r);for(e=0;e<r;++e)i[e]=h(t[e],e,t);var o=d(i),a=o[0],s=o[1],u=p(i,a,s);Array.isArray(u)||(u=nl(a,s,u));for(var c=u.length;u[0]<=a;)u.shift(),--c;for(;u[c-1]>=s;)u.pop(),--c;var l,f=new Array(c+1);for(e=0;e<=c;++e)(l=f[e]=[]).x0=0<e?u[e-1]:a,l.x1=e<c?u[e]:s;for(e=0;e<r;++e)a<=(n=i[e])&&n<=s&&f[Vc(u,n,0,c)].push(t[e]);return f}var h=Zc,d=Xc,p=rl;return e.value=function(t){return arguments.length?(h="function"==typeof t?t:Qc(t),e):h},e.domain=function(t){return arguments.length?(d="function"==typeof t?t:Qc([t[0],t[1]]),e):d},e.thresholds=function(t){return arguments.length?(p="function"==typeof t?t:Qc(Array.isArray(t)?Yc.call(t):t),e):p},e},ol=function(t,e,n){if(null==n&&(n=qc),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(1<=e)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}},al=function(t,e,n){return t=Wc.call(t,qc).sort(Ic),Math.ceil((n-e)/(2*(ol(t,.75)-ol(t,.25))*Math.pow(t.length,-1/3)))},sl=function(t,e,n){return Math.ceil((n-e)/(3.5*Uc(t)*Math.pow(t.length,-1/3)))},ul=function(t,e){var n,r,i=-1,o=t.length;if(null==e){for(;++i<o;)if(null!=(r=t[i])&&r<=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n<r&&(n=r)}else{for(;++i<o;)if(null!=(r=e(t[i],i,t))&&r<=r){n=r;break}for(;++i<o;)null!=(r=e(t[i],i,t))&&n<r&&(n=r)}return n},cl=function(t,e){var n,r=0,i=t.length,o=-1,a=i;if(null==e)for(;++o<i;)isNaN(n=qc(t[o]))?--a:r+=n;else for(;++o<i;)isNaN(n=qc(e(t[o],o,t)))?--a:r+=n;if(a)return r/a},ll=function(t,e){var n,r=[],i=t.length,o=-1;if(null==e)for(;++o<i;)isNaN(n=qc(t[o]))||r.push(n);else for(;++o<i;)isNaN(n=qc(e(t[o],o,t)))||r.push(n);return ol(r.sort(Ic),.5)},fl=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);0<=--i;)for(e=(r=t[i]).length;0<=--e;)n[--a]=r[e];return n},hl=function(t,e){var n,r,i=-1,o=t.length;if(null==e){for(;++i<o;)if(null!=(r=t[i])&&r<=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r<n&&(n=r)}else{for(;++i<o;)if(null!=(r=e(t[i],i,t))&&r<=r){n=r;break}for(;++i<o;)null!=(r=e(t[i],i,t))&&r<n&&(n=r)}return n},dl=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},pl=function(t,e){if(n=t.length){var n,r,i=0,o=0,a=t[o];for(e||(e=Ic);++i<n;)(e(r=t[i],a)<0||0!==e(a,a))&&(a=r,o=i);return 0===e(a,a)?o:void 0}},gl=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},vl=function(t,e){var n,r=0,i=t.length,o=-1;if(null==e)for(;++o<i;)(n=+t[o])&&(r+=n);else for(;++o<i;)(n=+e(t[o],o,t))&&(r+=n);return r},yl=function(t){if(!(i=t.length))return[];for(var e=-1,n=hl(t,s),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r},ml=function(){return yl(arguments)},xl=Array.prototype.slice,_l=function(t){return t},bl=1,wl=2,Sl=3,Tl=4,Ml=1e-6,Cl={value:function(){}};h.prototype=P.prototype={constructor:h,on:function(t,e){var n,r=this._,i=d(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=g(r[n],t.name,e);else if(null==e)for(n in r)r[n]=g(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=p(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new h(t)},call:function(t,e){if(0<(n=arguments.length-2))for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var Al="http://www.w3.org/1999/xhtml",kl={svg:"http://www.w3.org/2000/svg",xhtml:Al,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},El=function(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),kl.hasOwnProperty(e)?{space:kl[e],local:t}:t},Ll=function(t){var e=El(t);return(e.local?y:v)(e)},Pl=0;x.prototype=m.prototype={constructor:x,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Nl=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Dl=document.documentElement;if(!Dl.matches){var Rl=Dl.webkitMatchesSelector||Dl.msMatchesSelector||Dl.mozMatchesSelector||Dl.oMatchesSelector;Nl=function(t){return function(){return Rl.call(this,t)}}}}var Il=Nl,Ol={};H.event=null,"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Ol={mouseenter:"mouseover",mouseleave:"mouseout"}));var Fl=function(t,e,n){var r,i,o=w(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?M:S,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},Vl=function(){for(var t,e=H.event;t=e.sourceEvent;)e=t;return e},Gl=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},zl=function(t){var e=Vl();return e.changedTouches&&(e=e.changedTouches[0]),Gl(t,e)},jl=function(t){return null==t?C:function(){return this.querySelector(t)}},Hl=function(t){"function"!=typeof t&&(t=jl(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,c=r[i]=new Array(u),l=0;l<u;++l)(o=s[l])&&(a=t.call(o,o.__data__,l,s))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new vt(r,this._parents)},ql=function(t){return null==t?E:function(){return this.querySelectorAll(t)}},Bl=function(t){"function"!=typeof t&&(t=ql(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new vt(r,i)},Ul=function(t){"function"!=typeof t&&(t=Il(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new vt(r,this._parents)},Xl=function(t){return new Array(t.length)},$l=function(){return new vt(this._enter||this._groups.map(Xl),this._parents)};L.prototype={constructor:L,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Yl=function(t){return function(){return t}},Wl="$",Ql=function(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each(function(t){d[++c]=t}),d;var n=e?R:D,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Yl(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],h=f.length,d=t.call(l,l&&l.__data__,c,r),p=d.length,g=s[c]=new Array(p),v=a[c]=new Array(p);n(l,f,g,v,u[c]=new Array(h),d,e);for(var y,m,x=0,_=0;x<p;++x)if(y=g[x]){for(_<=x&&(_=x+1);!(m=v[_])&&++_<p;);y._next=m||null}}return(a=new vt(a,r))._enter=s,a._exit=u,a},Zl=function(){return new vt(this._exit||this._groups.map(Xl),this._parents)},Kl=function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,h=a[s]=new Array(f),d=0;d<f;++d)(u=c[d]||l[d])&&(h[d]=u);for(;s<r;++s)a[s]=e[s];return new vt(a,this._parents)},Jl=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},tf=function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n||(n=I);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,s=e[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(t)}return new vt(i,this._parents).order()},ef=function(t){var e=t;return arguments[0]=this,e.apply(null,arguments),this},nf=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},rf=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},of=function(){var t=0;return this.each(function(){++t}),t},af=function(){return!this.node()},sf=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},uf=function(t,e){var n=El(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?F:O:"function"==typeof e?n.local?j:z:n.local?G:V)(n,e))},cf=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},lf=function(t,e,n){var r;return 1<arguments.length?this.each((null==e?q:"function"==typeof e?U:B)(t,e,null==n?"":n)):cf(r=this.node()).getComputedStyle(r,null).getPropertyValue(t)},ff=function(t,e){return 1<arguments.length?this.each((null==e?X:"function"==typeof e?Y:$)(t,e)):this.node()[t]};Z.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);0<=e&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var hf=function(t,e){var n=W(t+"");if(arguments.length<2){for(var r=Q(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?nt:e?tt:et)(n,e))},df=function(t){return arguments.length?this.each(null==t?rt:("function"==typeof t?ot:it)(t)):this.node().textContent},pf=function(t){return arguments.length?this.each(null==t?at:("function"==typeof t?ut:st)(t)):this.node().innerHTML},gf=function(){return this.each(ct)},vf=function(){return this.each(lt)},yf=function(t){var e="function"==typeof t?t:Ll(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},mf=function(t,e){var n="function"==typeof t?t:Ll(t),r=null==e?ft:"function"==typeof e?e:jl(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},xf=function(){return this.each(ht)},_f=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},bf=function(t,e){return this.each(("function"==typeof e?gt:pt)(t,e))},wf=[null];vt.prototype=yt.prototype={constructor:vt,select:Hl,selectAll:Bl,filter:Ul,data:Ql,enter:$l,exit:Zl,merge:Kl,order:Jl,sort:tf,call:ef,nodes:nf,node:rf,size:of,empty:af,each:sf,attr:uf,style:lf,property:ff,classed:hf,text:df,html:pf,raise:gf,lower:vf,append:yf,insert:mf,remove:xf,datum:_f,on:Fl,dispatch:bf};var Sf=function(t){return"string"==typeof t?new vt([[document.querySelector(t)]],[document.documentElement]):new vt([[t]],wf)},Tf=function(t){return"string"==typeof t?new vt([document.querySelectorAll(t)],[document.documentElement]):new vt([null==t?[]:t],wf)},Mf=function(t,e,n){arguments.length<3&&(n=e,e=Vl().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return Gl(t,r);return null},Cf=function(t,e){null==e&&(e=Vl().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=Gl(t,e[n]);return i},Af=function(){H.event.preventDefault(),H.event.stopImmediatePropagation()},kf=function(t){var e=t.document.documentElement,n=Sf(t).on("dragstart.drag",Af,!0);"onselectstart"in e?n.on("selectstart.drag",Af,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")},Ef=function(t){return function(){return t}};_t.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Lf=function(){function p(t){t.on("mousedown.drag",e).on("touchstart.drag",i).on("touchmove.drag",o).on("touchend.drag touchcancel.drag",a).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(){if(!c&&l.apply(this,arguments)){var t=s("mouse",f.apply(this,arguments),zl,this,arguments);t&&(Sf(H.event.view).on("mousemove.drag",n,!0).on("mouseup.drag",r,!0),kf(H.event.view),mt(),u=!1,t("start"))}}function n(){Af(),u=!0,v.mouse("drag")}function r(){Sf(H.event.view).on("mousemove.drag mouseup.drag",null),xt(H.event.view,u),Af(),v.mouse("end")}function i(){if(l.apply(this,arguments)){var t,e,n=H.event.changedTouches,r=f.apply(this,arguments),i=n.length;for(t=0;t<i;++t)(e=s(n[t].identifier,r,Mf,this,arguments))&&(mt(),e("start"))}}function o(){var t,e,n=H.event.changedTouches,r=n.length;for(t=0;t<r;++t)(e=v[n[t].identifier])&&(Af(),e("drag"))}function a(){var t,e,n=H.event.changedTouches,r=n.length;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),t=0;t<r;++t)(e=v[n[t].identifier])&&(mt(),e("end"))}function s(i,o,a,s,u){var c,l,f,h=a(o,i),d=y.copy();if(N(new _t(p,"beforestart",c,i,m,h[0],h[1],0,0,d),function(){return null!=(H.event.subject=c=g.apply(s,u))&&(l=c.x-h[0]||0,f=c.y-h[1]||0,!0)}))return function t(e){var n,r=h;switch(e){case"start":v[i]=t,n=m++;break;case"end":delete v[i],--m;case"drag":h=a(o,i),n=m}N(new _t(p,e,c,i,n,h[0]+l,h[1]+f,h[0]-r[0],h[1]-r[1],d),d.apply,d,[e,s,u])}}var u,c,l=bt,f=wt,g=St,v={},y=P("start","drag","end"),m=0;return p.filter=function(t){return arguments.length?(l="function"==typeof t?t:Ef(!!t),p):l},p.container=function(t){return arguments.length?(f="function"==typeof t?t:Ef(t),p):f},p.subject=function(t){return arguments.length?(g="function"==typeof t?t:Ef(t),p):g},p.on=function(){var t=y.on.apply(y,arguments);return t===y?p:t},p},Pf=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},Nf="\\s*([+-]?\\d+)\\s*",Df="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",If=/^#([0-9a-f]{3})$/,Of=/^#([0-9a-f]{6})$/,Ff=new RegExp("^rgb\\("+[Nf,Nf,Nf]+"\\)$"),Vf=new RegExp("^rgb\\("+[Rf,Rf,Rf]+"\\)$"),Gf=new RegExp("^rgba\\("+[Nf,Nf,Nf,Df]+"\\)$"),zf=new RegExp("^rgba\\("+[Rf,Rf,Rf,Df]+"\\)$"),jf=new RegExp("^hsl\\("+[Df,Rf,Rf]+"\\)$"),Hf=new RegExp("^hsla\\("+[Df,Rf,Rf,Df]+"\\)$"),qf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pf(Mt,Ct,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Pf(Pt,Lt,Tt(Mt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Pt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Pt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Pf(It,Rt,Tt(Mt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new It(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new It(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Pt(Ot(240<=t?t-240:t+120,i,r),Ot(t,i,r),Ot(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Bf=Math.PI/180,Uf=180/Math.PI,Xf=.95047,$f=1,Yf=1.08883,Wf=4/29,Qf=6/29,Zf=3*Qf*Qf,Kf=Qf*Qf*Qf;Pf(Gt,Vt,Tt(Mt,{brighter:function(t){return new Gt(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Gt(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=$f*jt(t),new Pt(Ht(3.2404542*(e=Xf*jt(e))-1.5371385*t-.4985314*(n=Yf*jt(n))),Ht(-.969266*e+1.8760108*t+.041556*n),Ht(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),Pf(Xt,Ut,Tt(Mt,{brighter:function(t){return new Xt(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Xt(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Ft(this).rgb()}}));var Jf=-.14861,th=1.78277,eh=-.29227,nh=-.90649,rh=1.97294,ih=rh*nh,oh=rh*th,ah=th*eh-nh*Jf;Pf(Wt,Yt,Tt(Mt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Wt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Wt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Bf,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Pt(255*(e+n*(Jf*r+th*i)),255*(e+n*(eh*r+nh*i)),255*(e+n*(rh*r)),this.opacity)}}));var sh,uh,ch,lh,fh,hh,dh=function(i){var o=i.length-1;return function(t){var e=t<=0?t=0:1<=t?o-(t=1):Math.floor(t*o),n=i[e],r=i[e+1];return Qt((t-e/o)*o,0<e?i[e-1]:2*n-r,n,r,e<o-1?i[e+2]:2*r-n)}},ph=function(n){var r=n.length;return function(t){var e=Math.floor(((t%=1)<0?++t:t)*r);return Qt((t-e/r)*r,n[(e+r-1)%r],n[e%r],n[(e+1)%r],n[(e+2)%r])}},gh=function(t){return function(){return t}},vh=function t(){function e(e,t){var n=a((e=Lt(e)).r,(t=Lt(t)).r),r=a(e.g,t.g),i=a(e.b,t.b),o=ee(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=i(t),e.opacity=o(t),
e+""}}var a=te(1);return e.gamma=t,e}(),yh=ne(dh),mh=ne(ph),xh=function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(r),a=new Array(r);for(n=0;n<i;++n)o[n]=Ch(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}},_h=function(e,n){var r=new Date;return n-=e=+e,function(t){return r.setTime(e+n*t),r}},bh=function(e,n){return n-=e=+e,function(t){return e+n*t}},wh=function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Ch(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},Sh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Th=new RegExp(Sh.source,"g"),Mh=function(t,r){var e,n,i,o=Sh.lastIndex=Th.lastIndex=0,a=-1,s=[],u=[];for(t+="",r+="";(e=Sh.exec(t))&&(n=Th.exec(r));)(i=n.index)>o&&(i=r.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(e=e[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,u.push({i:a,x:bh(e,n)})),o=Th.lastIndex;return o<r.length&&(i=r.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?ie(u[0].x):re(r):(r=u.length,function(t){for(var e,n=0;n<r;++n)s[(e=u[n]).i]=e.x(t);return s.join("")})},Ch=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?gh(e):("number"===r?bh:"string"===r?(n=Ct(e))?(e=n,vh):Mh:e instanceof Ct?vh:e instanceof Date?_h:Array.isArray(e)?xh:isNaN(e)?wh:bh)(t,e)},Ah=function(e,n){return n-=e=+e,function(t){return Math.round(e+n*t)}},kh=180/Math.PI,Eh={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Lh=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*kh,skewX:Math.atan(u)*kh,scaleX:a,scaleY:s}},Ph=se(oe,"px, ","px)","deg)"),Nh=se(ae,", ",")",")"),Dh=Math.SQRT2,Rh=function(t,e){var n,i,o=t[0],a=t[1],s=t[2],r=e[0],u=e[1],c=e[2],l=r-o,f=u-a,h=l*l+f*f;if(h<1e-12)i=Math.log(c/s)/Dh,n=function(t){return[o+t*l,a+t*f,s*Math.exp(Dh*t*i)]};else{var d=Math.sqrt(h),p=(c*c-s*s+4*h)/(2*s*2*d),g=(c*c-s*s-4*h)/(2*c*2*d),v=Math.log(Math.sqrt(p*p+1)-p);i=(Math.log(Math.sqrt(g*g+1)-g)-v)/Dh,n=function(t){var e=t*i,n=ue(v),r=s/(2*d)*(n*le(Dh*e+v)-ce(v));return[o+r*l,a+r*f,s*n/ue(Dh*e+v)]}}return n.duration=1e3*i,n},Ih=fe(Jt),Oh=fe(ee),Fh=de(Jt),Vh=de(ee),Gh=pe(Jt),zh=pe(ee),jh=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},Hh=0,qh=0,Bh=0,Uh=1e3,Xh=0,$h=0,Yh=0,Wh="object"==typeof performance&&performance.now?performance:Date,Qh="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,17)};ye.prototype=me.prototype={constructor:ye,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?ge():+n)+(null==e?0:+e),this._next||hh===this||(hh?hh._next=this:fh=this,hh=this),this._call=t,this._time=n,Se()},stop:function(){this._call&&(this._call=null,this._time=1/0,Se())}};var Zh=function(e,n,t){var r=new ye;return n=null==n?0:+n,r.restart(function(t){r.stop(),e(t+n)},n,t),r},Kh=function(n,r,i){var o=new ye,a=r;return null==r?o.restart(n,r,i):(r=+r,i=null==i?ge():+i,o.restart(function t(e){e+=a,o.restart(t,a+=r,i),n(e)},r,i)),o},Jh=P("start","end","interrupt"),td=[],ed=0,nd=1,rd=2,id=3,od=4,ad=5,sd=6,ud=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};Ae(t,n,{name:e,index:r,group:i,on:Jh,tween:td,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ed})},cd=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>rd&&n.state<ad,n.state=sd,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}},ld=function(t){return this.each(function(){cd(this,t)})},fd=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Ce(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?ke:Ee)(n,t,e))},hd=function(t,e){var n;return("number"==typeof e?bh:e instanceof Ct?vh:(n=Ct(e))?(e=n,vh):Mh)(t,e)},dd=function(t,e){var n=El(t),r="transform"===n?Nh:hd;return this.attrTween(t,"function"==typeof e?(n.local?Oe:Ie)(n,r,Le(this,"attr."+t,e)):null==e?(n.local?Ne:Pe)(n):(n.local?Re:De)(n,r,e+""))},pd=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=El(t);return this.tween(n,(r.local?Fe:Ve)(r,e))},gd=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ge:ze)(e,t)):Ce(this.node(),e).delay},vd=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?je:He)(e,t)):Ce(this.node(),e).duration},yd=function(t){var e=this._id;return arguments.length?this.each(qe(e,t)):Ce(this.node(),e).ease},md=function(t){"function"!=typeof t&&(t=Il(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new tn(r,this._parents,this._name,this._id)},xd=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,h=a[s]=new Array(f),d=0;d<f;++d)(u=c[d]||l[d])&&(h[d]=u);for(;s<r;++s)a[s]=e[s];return new tn(a,this._parents,this._name,this._id)},_d=function(t,e){var n=this._id;return arguments.length<2?Ce(this.node(),n).on.on(t):this.each(Ue(n,t,e))},bd=function(){return this.on("end.remove",Xe(this._id))},wd=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=jl(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,c=r[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(s=c[h])&&(u=t.call(s,s.__data__,h,c))&&("__data__"in s&&(u.__data__=s.__data__),f[h]=u,ud(f[h],e,n,h,f,Ce(s,n)));return new tn(o,this._parents,e,n)},Sd=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=ql(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,c=r[s],l=c.length,f=0;f<l;++f)if(u=c[f]){for(var h,d=t.call(u,u.__data__,f,c),p=Ce(u,n),g=0,v=d.length;g<v;++g)(h=d[g])&&ud(h,e,n,g,d,p);o.push(d),a.push(u)}return new tn(o,a,e,n)},Td=yt.prototype.constructor,Md=function(){return new Td(this._groups,this._parents)},Cd=function(t,e,n){var r="transform"==(t+="")?Ph:hd;return null==e?this.styleTween(t,$e(t,r)).on("end.style."+t,Ye(t)):this.styleTween(t,"function"==typeof e?Qe(t,r,Le(this,"style."+t,e)):We(t,r,e+""),n)},Ad=function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Ze(t,e,null==n?"":n))},kd=function(t){return this.tween("text","function"==typeof t?Je(Le(this,"text",t)):Ke(null==t?"":t+""))},Ed=function(){for(var t=this._name,e=this._id,n=nn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)if(a=s[c]){var l=Ce(a,e);ud(a,t,n,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new tn(r,this._parents,t,n)},Ld=0,Pd=yt.prototype;tn.prototype=en.prototype={constructor:tn,select:wd,selectAll:Sd,filter:md,merge:xd,selection:Md,transition:Ed,call:Pd.call,nodes:Pd.nodes,node:Pd.node,size:Pd.size,empty:Pd.empty,each:Pd.each,on:_d,attr:dd,attrTween:pd,style:Cd,styleTween:Ad,text:kd,remove:bd,tween:fd,delay:gd,duration:vd,ease:yd};var Nd=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Dd=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Rd=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Id=Math.PI,Od=Id/2,Fd=4/11,Vd=6/11,Gd=8/11,zd=.75,jd=9/11,Hd=10/11,qd=.9375,Bd=21/22,Ud=63/64,Xd=1/Fd/Fd,$d=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),Yd=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),Wd=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),Qd=2*Math.PI,Zd=function e(n,r){function t(t){return n*Math.pow(2,10*--t)*Math.sin((i-t)/r)}var i=Math.asin(1/(n=Math.max(1,n)))*(r/=Qd);return t.amplitude=function(t){return e(t,r*Qd)},t.period=function(t){return e(n,t)},t}(1,.3),Kd=function e(n,r){function t(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/r)}var i=Math.asin(1/(n=Math.max(1,n)))*(r/=Qd);return t.amplitude=function(t){return e(t,r*Qd)},t.period=function(t){return e(n,t)},t}(1,.3),Jd=function e(n,r){function t(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((i-t)/r):2-n*Math.pow(2,-10*t)*Math.sin((i+t)/r))/2}var i=Math.asin(1/(n=Math.max(1,n)))*(r/=Qd);return t.amplitude=function(t){return e(t,r*Qd)},t.period=function(t){return e(n,t)},t}(1,.3),tp={time:null,delay:0,duration:250,ease:ln},ep=function(t){var e,n;t instanceof tn?(e=t._id,t=t._name):(e=nn(),(n=tp).time=ge(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)(a=s[c])&&ud(a,t,e,c,s,n||Sn(a,e));return new tn(r,this._parents,t,e)};yt.prototype.interrupt=ld,yt.prototype.transition=ep;var np=[null],rp=function(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>nd&&n.name===e)return new tn([[t]],np,e,+r);return null},ip=function(t){return function(){return t}},op=function(t,e,n){this.target=t,this.type=e,this.selection=n},ap=function(){H.event.preventDefault(),H.event.stopImmediatePropagation()},sp={name:"drag"},up={name:"space"},cp={name:"handle"},lp={name:"center"},fp={name:"x",handles:["e","w"].map(Mn),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},hp={name:"y",handles:["n","s"].map(Mn),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},dp={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Mn),input:function(t){return t},output:function(t){return t}},pp={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},gp={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},vp={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},yp={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},mp={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},xp=function(){return Dn(dp)},_p=Math.cos,bp=Math.sin,wp=Math.PI,Sp=wp/2,Tp=2*wp,Mp=Math.max,Cp=function(){function e(r){var t,e,n,i,o,a,s=r.length,u=[],c=Kc(s),l=[],f=[],h=f.groups=new Array(s),d=new Array(s*s);for(t=0,o=-1;++o<s;){for(e=0,a=-1;++a<s;)e+=r[o][a];u.push(e),l.push(Kc(s)),t+=e}for(w&&c.sort(function(t,e){return w(u[t],u[e])}),S&&l.forEach(function(t,n){t.sort(function(t,e){return S(r[n][t],r[n][e])})}),i=(t=Mp(0,Tp-b*s)/t)?b:Tp/s,e=0,o=-1;++o<s;){for(n=e,a=-1;++a<s;){var p=c[o],g=l[p][a],v=r[p][g],y=e,m=e+=v*t;d[g*s+p]={index:p,subindex:g,startAngle:y,endAngle:m,value:v}}h[p]={index:p,startAngle:n,endAngle:e,value:u[p]},e+=i}for(o=-1;++o<s;)for(a=o-1;++a<s;){var x=d[a*s+o],_=d[o*s+a];(x.value||_.value)&&f.push(x.value<_.value?{source:_,target:x}:{source:x,target:_})}return T?f.sort(T):f}var b=0,w=null,S=null,T=null;return e.padAngle=function(t){return arguments.length?(b=Mp(0,t),e):b},e.sortGroups=function(t){return arguments.length?(w=t,e):w},e.sortSubgroups=function(t){return arguments.length?(S=t,e):S},e.sortChords=function(t){return arguments.length?(null==t?T=null:(T=Rn(t))._=t,e):T&&T._},e},Ap=Array.prototype.slice,kp=function(t){return function(){return t}},Ep=Math.PI,Lp=2*Ep,Pp=Lp-1e-6;In.prototype=On.prototype={constructor:In,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,c=o-t,l=a-e,f=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(1e-6<f)if(1e-6<Math.abs(l*s-u*c)&&i){var h=n-o,d=r-a,p=s*s+u*u,g=h*h+d*d,v=Math.sqrt(p),y=Math.sqrt(f),m=i*Math.tan((Ep-Math.acos((p+f-g)/(2*v*y)))/2),x=m/y,_=m/v;1e-6<Math.abs(x-1)&&(this._+="L"+(t+x*c)+","+(e+x*l)),this._+="A"+i+","+i+",0,0,"+ +(c*d<l*h)+","+(this._x1=t+_*s)+","+(this._y1=e+_*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,o){t=+t,e=+e;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+a,c=e+s,l=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(1e-6<Math.abs(this._x1-u)||1e-6<Math.abs(this._y1-c))&&(this._+="L"+u+","+c),n&&(f<0&&(f=f%Lp+Lp),Pp<f?this._+="A"+n+","+n+",0,1,"+l+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):1e-6<f&&(this._+="A"+n+","+n+",0,"+ +(Ep<=f)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Np=function(){function e(){var t,e=Ap.call(arguments),n=h.apply(this,e),r=d.apply(this,e),i=+p.apply(this,(e[0]=n,e)),o=g.apply(this,e)-Sp,a=v.apply(this,e)-Sp,s=i*_p(o),u=i*bp(o),c=+p.apply(this,(e[0]=r,e)),l=g.apply(this,e)-Sp,f=v.apply(this,e)-Sp;if(y||(y=t=On()),y.moveTo(s,u),y.arc(0,0,i,o,a),o===l&&a===f||(y.quadraticCurveTo(0,0,c*_p(l),c*bp(l)),y.arc(0,0,c,l,f)),y.quadraticCurveTo(0,0,s,u),y.closePath(),t)return y=null,t+""||null}var h=Fn,d=Vn,p=Gn,g=zn,v=jn,y=null;return e.radius=function(t){return arguments.length?(p="function"==typeof t?t:kp(+t),e):p},e.startAngle=function(t){return arguments.length?(g="function"==typeof t?t:kp(+t),e):g},e.endAngle=function(t){return arguments.length?(v="function"==typeof t?t:kp(+t),e):v},e.source=function(t){return arguments.length?(h=t,e):h},e.target=function(t){return arguments.length?(d=t,e):d},e.context=function(t){return arguments.length?(y=null==t?null:t,e):y},e};Hn.prototype=qn.prototype={constructor:Hn,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var Dp=function(){function h(t,n,r,i){if(n>=g.length)return null!=p?p(t):null!=d?t.sort(d):t;for(var e,o,a,s=-1,u=t.length,c=g[n++],l=qn(),f=r();++s<u;)(a=l.get(e=c(o=t[s])+""))?a.push(o):l.set(e,[o]);return l.each(function(t,e){i(f,e,h(t,n,r,i))}),f}function o(t,n){if(++n>g.length)return t;var r,i=a[n-1];return null!=p&&n>=g.length?r=t.entries():(r=[],t.each(function(t,e){r.push({key:e,values:o(t,n)})})),null!=i?r.sort(function(t,e){return i(t.key,e.key)}):r}var d,p,e,g=[],a=[];return e={object:function(t){return h(t,0,Bn,Un)},map:function(t){return h(t,0,Xn,$n)},entries:function(t){return o(h(t,0,Xn,$n),0)},key:function(t){return g.push(t),e},sortKeys:function(t){return a[g.length-1]=t,e},sortValues:function(t){return d=t,e},rollup:function(t){return p=t,e}}},Rp=qn.prototype;Yn.prototype=Wn.prototype={constructor:Yn,has:Rp.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Rp.remove,clear:Rp.clear,values:Rp.keys,size:Rp.size,empty:Rp.empty,each:Rp.each};var Ip=function(t){var e=[];for(var n in t)e.push(n);return e},Op=function(t){var e=[];for(var n in t)e.push(t[n]);return e},Fp=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Vp=function(r){function t(t,n){var r,i,e=o(t,function(t,e){if(r)return r(t,e-1);i=t,r=n?Zn(t,n):Qn(t)});return e.columns=i,e}function o(i,t){function e(){if(u<=c)return s;if(o)return o=!1,a;var t,e=c;if(34===i.charCodeAt(e)){for(var n=e;n++<u;)if(34===i.charCodeAt(n)){if(34!==i.charCodeAt(n+1))break;++n}return c=n+2,13===(t=i.charCodeAt(n+1))?(o=!0,10===i.charCodeAt(n+2)&&++c):10===t&&(o=!0),i.slice(e+1,n).replace(/""/g,'"')}for(;c<u;){var r=1;if(10===(t=i.charCodeAt(c++)))o=!0;else if(13===t)o=!0,10===i.charCodeAt(c)&&(++c,++r);else if(t!==h)continue;return i.slice(e,c-r)}return i.slice(e)}for(var n,o,a={},s={},r=[],u=i.length,c=0,l=0;(n=e())!==s;){for(var f=[];n!==a&&n!==s;)f.push(n),n=e();t&&null==(f=t(f,l++))||r.push(f)}return r}function e(t,n){return null==n&&(n=Kn(t)),[n.map(a).join(r)].concat(t.map(function(e){return n.map(function(t){return a(e[t])}).join(r)})).join("\n")}function n(t){return t.map(i).join("\n")}function i(t){return t.map(a).join(r)}function a(t){return null==t?"":s.test(t+="")?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+r+"\n\r]"),h=r.charCodeAt(0);return{parse:t,parseRows:o,format:e,formatRows:n}},Gp=Vp(","),zp=Gp.parse,jp=Gp.parseRows,Hp=Gp.format,qp=Gp.formatRows,Bp=Vp("\t"),Up=Bp.parse,Xp=Bp.parseRows,$p=Bp.format,Yp=Bp.formatRows,Wp=function(o,a){function e(){var t,e,n=s.length,r=0,i=0;for(t=0;t<n;++t)r+=(e=s[t]).x,i+=e.y;for(r=r/n-o,i=i/n-a,t=0;t<n;++t)(e=s[t]).x-=r,e.y-=i}var s;return null==o&&(o=0),null==a&&(a=0),e.initialize=function(t){s=t},e.x=function(t){return arguments.length?(o=+t,e):o},e.y=function(t){return arguments.length?(a=+t,e):a},e},Qp=function(t){return function(){return t}},Zp=function(){return 1e-6*(Math.random()-.5)},Kp=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Jn(this.cover(e,n),e,n,t)},Jp=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{if(!(t<n||i<t||e<r||o<e))return this;var a,s,u=i-n,c=this._root;switch(s=(e<(r+o)/2)<<1|t<(n+i)/2){case 0:for(;(a=new Array(4))[s]=c,c=a,o=r+(u*=2),(i=n+u)<t||o<e;);break;case 1:for(;(a=new Array(4))[s]=c,c=a,o=r+(u*=2),t<(n=i-u)||o<e;);break;case 2:for(;(a=new Array(4))[s]=c,c=a,r=o-(u*=2),(i=n+u)<t||e<r;);break;case 3:for(;(a=new Array(4))[s]=c,c=a,r=o-(u*=2),t<(n=i-u)||e<r;);}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},tg=function(){var e=[];return this.visit(function(t){if(!t.length)for(;e.push(t.data),t=t.next;);}),e},eg=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ng=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i},rg=function(t,e,n){var r,i,o,a,s,u,c,l=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new ng(g,l,f,h,d)),null==n?n=1/0:(l=t-n,f=e-n,h=t+n,d=e+n,n*=n);u=p.pop();)if(!(!(g=u.node)||(i=u.x0)>h||(o=u.y0)>d||(a=u.x1)<l||(s=u.y1)<f))if(g.length){var v=(i+a)/2,y=(o+s)/2;p.push(new ng(g[3],v,y,a,s),new ng(g[2],i,y,v,s),new ng(g[1],v,o,a,y),new ng(g[0],i,o,v,y)),(c=(y<=e)<<1|v<=t)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=u)}else{var m=t-+this._x.call(null,g.data),x=e-+this._y.call(null,g.data),_=m*m+x*x;if(_<n){var b=Math.sqrt(n=_);l=t-b,f=e-b,h=t+b,d=e+b,r=g.data}}return r},ig=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,c,l,f,h,d=this._root,p=this._x0,g=this._y0,v=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(s=(p+v)/2))?p=s:v=s,(l=a>=(u=(g+y)/2))?g=u:y=u,!(d=(e=d)[f=l<<1|c]))return this;if(!d.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}for(;d.data!==t;)if(!(d=(r=d).next))return this;return(i=d.next)&&delete d.next,r?i?r.next=i:delete r.next:e?(i?e[f]=i:delete e[f],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[h]=d:this._root=d)):this._root=i,this},og=function(){return this._root},ag=function(){var e=0;return this.visit(function(t){if(!t.length)for(;++e,t=t.next;);}),e},sg=function(t){var e,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new ng(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var c=(r+o)/2,l=(i+a)/2;(n=u[3])&&s.push(new ng(n,c,l,o,a)),(n=u[2])&&s.push(new ng(n,r,l,c,a)),(n=u[1])&&s.push(new ng(n,c,i,o,l)),(n=u[0])&&s.push(new ng(n,r,i,c,l))}return this},ug=function(t){var e,n=[],r=[];for(this._root&&n.push(new ng(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,c=e.y1,l=(a+u)/2,f=(s+c)/2;(o=i[0])&&n.push(new ng(o,a,s,l,f)),(o=i[1])&&n.push(new ng(o,l,s,u,f)),(o=i[2])&&n.push(new ng(o,a,f,l,c)),(o=i[3])&&n.push(new ng(o,l,f,u,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},cg=function(t){return arguments.length?(this._x=t,this):this._x},lg=function(t){return arguments.length?(this._y=t,this):this._y},fg=ir.prototype=or.prototype;fg.copy=function(){var t,e,n=new or(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=ar(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=ar(e));return n},fg.add=Kp,fg.addAll=tr,fg.cover=Jp,fg.data=tg,fg.extent=eg,fg.find=rg,fg.remove=ig,fg.removeAll=er,fg.root=og,fg.size=ag,fg.visit=sg,fg.visitAfter=ug,fg.x=cg,fg.y=lg;var hg,dg=function(r){function e(){function t(t,e,n,r,i){var o=t.data,a=t.r,s=p+a;if(!o)return h+s<e||r<h-s||d+s<n||i<d-s;if(o.index>f.index){var u=h-o.x-o.vx,c=d-o.y-o.vy,l=u*u+c*c;l<s*s&&(0===u&&(l+=(u=Zp())*u),0===c&&(l+=(c=Zp())*c),l=(s-(l=Math.sqrt(l)))/l*v,f.vx+=(u*=l)*(s=(a*=a)/(g+a)),f.vy+=(c*=l)*s,o.vx-=u*(s=1-s),o.vy-=c*s)}}for(var e,n,f,h,d,p,g,r=a.length,i=0;i<u;++i)for(n=ir(a,sr,ur).visitAfter(o),e=0;e<r;++e)f=a[e],p=s[f.index],g=p*p,h=f.x+f.vx,d=f.y+f.vy,n.visit(t)}function o(t){if(t.data)return t.r=s[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function n(){if(a){var t,e,n=a.length;for(s=new Array(n),t=0;t<n;++t)e=a[t],s[e.index]=+r(e,t,a)}}var a,s,v=1,u=1;return"function"!=typeof r&&(r=Qp(null==r?1:+r)),e.initialize=function(t){a=t,n()},e.iterations=function(t){return arguments.length?(u=+t,e):u},e.strength=function(t){return arguments.length?(v=+t,e):v},e.radius=function(t){return arguments.length?(r="function"==typeof t?t:Qp(+t),n(),e):r},e},pg=function(f){function t(t){return 1/Math.min(u[t.source.index],u[t.target.index])}function e(t){for(var e=0,n=f.length;e<g;++e)for(var r,i,o,a,s,u,c,l=0;l<n;++l)i=(r=f[l]).source,a=(o=r.target).x+o.vx-i.x-i.vx||Zp(),s=o.y+o.vy-i.y-i.vy||Zp(),a*=u=((u=Math.sqrt(a*a+s*s))-d[l])/u*t*h[l],s*=u,o.vx-=a*(c=p[l]),o.vy-=s*c,i.vx+=a*(c=1-c),i.vy+=s*c}function n(){if(s){var t,e,n=s.length,r=f.length,i=qn(s,c);for(t=0,u=new Array(n);t<r;++t)(e=f[t]).index=t,"object"!=typeof e.source&&(e.source=lr(i,e.source)),"object"!=typeof e.target&&(e.target=lr(i,e.target)),u[e.source.index]=(u[e.source.index]||0)+1,u[e.target.index]=(u[e.target.index]||0)+1;for(t=0,p=new Array(r);t<r;++t)e=f[t],p[t]=u[e.source.index]/(u[e.source.index]+u[e.target.index]);h=new Array(r),o(),d=new Array(r),a()}}function o(){if(s)for(var t=0,e=f.length;t<e;++t)h[t]=+r(f[t],t,f)}function a(){if(s)for(var t=0,e=f.length;t<e;++t)d[t]=+i(f[t],t,f)}var h,d,s,u,p,c=cr,r=t,i=Qp(30),g=1;return null==f&&(f=[]),e.initialize=function(t){s=t,n()},e.links=function(t){return arguments.length?(f=t,n(),e):f},e.id=function(t){return arguments.length?(c=t,e):c},e.iterations=function(t){return arguments.length?(g=+t,e):g},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:Qp(+t),o(),e):r},e.distance=function(t){return arguments.length?(i="function"==typeof t?t:Qp(+t),a(),e):i},e},gg=10,vg=Math.PI*(3-Math.sqrt(5)),yg=function(l){function t(){e(),d.call("tick",i),o<a&&(h.stop(),d.call("end",i))}function e(){var t,e,n=l.length;for(o+=(u-o)*s,f.each(function(t){t(o)}),t=0;t<n;++t)null==(e=l[t]).fx?e.x+=e.vx*=c:(e.x=e.fx,e.vx=0),null==e.fy?e.y+=e.vy*=c:(e.y=e.fy,e.vy=0)}function n(){for(var t,e=0,n=l.length;e<n;++e){if((t=l[e]).index=e,isNaN(t.x)||isNaN(t.y)){var r=gg*Math.sqrt(e),i=e*vg;t.x=r*Math.cos(i),t.y=r*Math.sin(i)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function r(t){return t.initialize&&t.initialize(l),t}var i,o=1,a=.001,s=1-Math.pow(a,1/300),u=0,c=.6,f=qn(),h=me(t),d=P("tick","end");return null==l&&(l=[]),n(),i={tick:e,restart:function(){return h.restart(t),i},stop:function(){return h.stop(),i},nodes:function(t){return arguments.length?(l=t,n(),f.each(r),i):l},alpha:function(t){return arguments.length?(o=+t,i):o},alphaMin:function(t){return arguments.length?(a=+t,i):a},alphaDecay:function(t){return arguments.length?(s=+t,i):+s},alphaTarget:function(t){return arguments.length?(u=+t,i):u},velocityDecay:function(t){return arguments.length?(c=1-t,i):1-c},force:function(t,e){return 1<arguments.length?(null==e?f.remove(t):f.set(t,r(e)),i):f.get(t)},find:function(t,e,n){var r,i,o,a,s,u=0,c=l.length;for(null==n?n=1/0:n*=n,u=0;u<c;++u)(o=(r=t-(a=l[u]).x)*r+(i=e-a.y)*i)<n&&(s=a,n=o);return s},on:function(t,e){return 1<arguments.length?(d.on(t,e),i):d.on(t)}}},mg=function(){function e(t){var e,n=a.length,r=ir(a,fr,hr).visitAfter(i);for(c=t,e=0;e<n;++e)u=a[e],r.visit(o)}function n(){if(a){var t,e,n=a.length;for(l=new Array(n),t=0;t<n;++t)e=a[t],l[e.index]=+r(e,t,a)}}function i(t){var e,n,r,i,o,a=0;if(t.length){for(r=i=o=0;o<4;++o)(e=t[o])&&(n=e.value)&&(a+=n,r+=n*e.x,i+=n*e.y);t.x=r/a,t.y=i/a}else for((e=t).x=e.data.x,e.y=e.data.y;a+=l[e.data.index],e=e.next;);t.value=a}function o(t,e,n,r){if(!t.value)return!0;var i=t.x-u.x,o=t.y-u.y,a=r-e,s=i*i+o*o;if(a*a/d<s)return s<h&&(0===i&&(s+=(i=Zp())*i),0===o&&(s+=(o=Zp())*o),s<f&&(s=Math.sqrt(f*s)),u.vx+=i*t.value*c/s,u.vy+=o*t.value*c/s),!0;if(!(t.length||h<=s))for((t.data!==u||t.next)&&(0===i&&(s+=(i=Zp())*i),0===o&&(s+=(o=Zp())*o),s<f&&(s=Math.sqrt(f*s)));t.data!==u&&(a=l[t.data.index]*c/s,u.vx+=i*a,u.vy+=o*a),t=t.next;);}var a,u,c,l,r=Qp(-30),f=1,h=1/0,d=.81;return e.initialize=function(t){a=t,n()},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:Qp(+t),n(),e):r},e.distanceMin=function(t){return arguments.length?(f=t*t,e):Math.sqrt(f)},e.distanceMax=function(t){return arguments.length?(h=t*t,e):Math.sqrt(h)},e.theta=function(t){return arguments.length?(d=t*t,e):Math.sqrt(d)},e},xg=function(n){function e(t){for(var e,n=0,r=i.length;n<r;++n)(e=i[n]).vx+=(a[n]-e.x)*o[n]*t}function r(){if(i){var t,e=i.length;for(o=new Array(e),a=new Array(e),t=0;t<e;++t)o[t]=isNaN(a[t]=+n(i[t],t,i))?0:+s(i[t],t,i)}}var i,o,a,s=Qp(.1);return"function"!=typeof n&&(n=Qp(null==n?0:+n)),e.initialize=function(t){i=t,r()},e.strength=function(t){return arguments.length?(s="function"==typeof t?t:Qp(+t),r(),e):s},e.x=function(t){return arguments.length?(n="function"==typeof t?t:Qp(+t),r(),e):n},e},_g=function(n){function e(t){for(var e,n=0,r=i.length;n<r;++n)(e=i[n]).vy+=(a[n]-e.y)*o[n]*t}function r(){if(i){var t,e=i.length;for(o=new Array(e),a=new Array(e),t=0;t<e;++t)o[t]=isNaN(a[t]=+n(i[t],t,i))?0:+s(i[t],t,i)}}var i,o,a,s=Qp(.1);return"function"!=typeof n&&(n=Qp(null==n?0:+n)),e.initialize=function(t){i=t,r()},e.strength=function(t){return arguments.length?(s="function"==typeof t?t:Qp(+t),r(),e):s},e.y=function(t){return arguments.length?(n="function"==typeof t?t:Qp(+t),r(),e):n},e},bg=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[1<r.length?r[0]+r.slice(2):r,+t.slice(n+1)]},wg=function(t){return(t=bg(Math.abs(t)))?t[1]:NaN},Sg=function(s,u){return function(t,e){for(var n=t.length,r=[],i=0,o=s[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),r.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=s[i=(i+1)%s.length];return r.reverse().join(u)}},Tg=function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}},Mg=function(t,e){var n=bg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Cg={"":function(t,e){t:for(var n,r=(t=t.toPrecision(e)).length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:0<o&&(o=0)}return 0<o?t.slice(0,o)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Mg(100*t,e)},r:Mg,s:function(t,e){var n=bg(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(hg=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:a<o?r+new Array(o-a+1).join("0"):0<o?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+bg(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Ag=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;dr.prototype=pr.prototype,pr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var kg,Eg=function(t){return t},Lg=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],Pg=function(t){function a(t){function e(t){var e,n,r,i=y,o=m;if("c"===v)o=x(t)+o,t="";else{var a=(t=+t)<0;if(t=x(Math.abs(t),g),a&&0==+t&&(a=!1),i=(a?"("===f?f:"-":"-"===f||"("===f?"":f)+i,o=o+("s"===v?Lg[8+hg/3]:"")+(a&&"("===f?")":""),_)for(e=-1,n=t.length;++e<n;)if((r=t.charCodeAt(e))<48||57<r){o=(46===r?w+t.slice(e+1):t.slice(e))+o,t=t.slice(0,e);break}}p&&!h&&(t=b(t,1/0));var s=i.length+t.length+o.length,u=s<d?new Array(d-s+1).join(c):"";switch(p&&h&&(t=b(u+t,u.length?d-o.length:1/0),u=""),l){case"<":t=i+t+o+u;break;case"=":t=i+u+t+o;break;case"^":t=u.slice(0,s=u.length>>1)+i+t+o+u.slice(s);break;default:t=u+i+t+o}return S(t)}var c=(t=dr(t)).fill,l=t.align,f=t.sign,n=t.symbol,h=t.zero,d=t.width,p=t.comma,g=t.precision,v=t.type,y="$"===n?r[0]:"#"===n&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",m="$"===n?r[1]:/[%p]/.test(v)?"%":"",x=Cg[v],_=!v||/[defgprs%]/.test(v);return g=null==g?v?6:12:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),e.toString=function(){return t+""},e}function e(t,e){var n=a(((t=dr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(wg(e)/3))),i=Math.pow(10,-r),o=Lg[8+r/3];return function(t){return n(i*t)+o}}var b=t.grouping&&t.thousands?Sg(t.grouping,t.thousands):Eg,r=t.currency,w=t.decimal,S=t.numerals?Tg(t.numerals):Eg;return{format:a,formatPrefix:e}};gr({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Ng=function(t){return Math.max(0,-wg(Math.abs(t)))},Dg=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(wg(e)/3)))-wg(Math.abs(t)))},Rg=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wg(e)-wg(t))+1},Ig=function(){return new vr};vr.prototype={constructor:vr,reset:function(){this.s=this.t=0},add:function(t){yr(dv,t,this.t),yr(this,dv.s,this.s),this.s?this.t+=dv.t:this.s=dv.t},valueOf:function(){return this.s}};var Og,Fg,Vg,Gg,zg,jg,Hg,qg,Bg,Ug,Xg,$g,Yg,Wg,Qg,Zg,Kg,Jg,tv,ev,nv,rv,iv,ov,av,sv,uv,cv,lv,fv,hv,dv=new vr,pv=1e-6,gv=Math.PI,vv=gv/2,yv=gv/4,mv=2*gv,xv=180/gv,_v=gv/180,bv=Math.abs,wv=Math.atan,Sv=Math.atan2,Tv=Math.cos,Mv=Math.ceil,Cv=Math.exp,Av=Math.log,kv=Math.pow,Ev=Math.sin,Lv=Math.sign||function(t){return 0<t?1:t<0?-1:0},Pv=Math.sqrt,Nv=Math.tan,Dv={Feature:function(t,e){wr(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)wr(n[r].geometry,e)}},Rv={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Sr(t.coordinates,e,0)},MultiLineString:function(t,e){
for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Sr(n[r],e,0)},Polygon:function(t,e){Tr(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Tr(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)wr(n[r],e)}},Iv=function(t,e){t&&Dv.hasOwnProperty(t.type)?Dv[t.type](t,e):wr(t,e)},Ov=Ig(),Fv=Ig(),Vv={point:br,lineStart:br,lineEnd:br,polygonStart:function(){Ov.reset(),Vv.lineStart=Mr,Vv.lineEnd=Cr},polygonEnd:function(){var t=+Ov;Fv.add(t<0?mv+t:t),this.lineStart=this.lineEnd=this.point=br},sphere:function(){Fv.add(mv)}},Gv=function(t){return Fv.reset(),Iv(t,Vv),2*Fv},zv=Ig(),jv={point:Or,lineStart:Vr,lineEnd:Gr,polygonStart:function(){jv.point=zr,jv.lineStart=jr,jv.lineEnd=Hr,zv.reset(),Vv.polygonStart()},polygonEnd:function(){Vv.polygonEnd(),jv.point=Or,jv.lineStart=Vr,jv.lineEnd=Gr,Ov<0?(jg=-(qg=180),Hg=-(Bg=90)):pv<zv?Bg=90:zv<-pv&&(Hg=-90),Qg[0]=jg,Qg[1]=qg}},Hv=function(t){var e,n,r,i,o,a,s;if(Bg=qg=-(jg=Hg=1/0),Wg=[],Iv(t,jv),n=Wg.length){for(Wg.sort(Br),e=1,o=[r=Wg[0]];e<n;++e)Ur(r,(i=Wg[e])[0])||Ur(r,i[1])?(qr(r[0],i[1])>qr(r[0],r[1])&&(r[1]=i[1]),qr(i[0],r[1])>qr(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(s=qr(r[1],i[0]))>a&&(a=s,jg=i[0],qg=r[1])}return Wg=Qg=null,jg===1/0||Hg===1/0?[[NaN,NaN],[NaN,NaN]]:[[jg,Hg],[qg,Bg]]},qv={sphere:br,point:Xr,lineStart:Yr,lineEnd:Zr,polygonStart:function(){qv.lineStart=Kr,qv.lineEnd=Jr},polygonEnd:function(){qv.lineStart=Yr,qv.lineEnd=Zr}},Bv=function(t){Zg=Kg=Jg=tv=ev=nv=rv=iv=ov=av=sv=0,Iv(t,qv);var e=ov,n=av,r=sv,i=e*e+n*n+r*r;return i<1e-12&&(e=nv,n=rv,r=iv,Kg<pv&&(e=Jg,n=tv,r=ev),(i=e*e+n*n+r*r)<1e-12)?[NaN,NaN]:[Sv(n,e)*xv,xr(r/Pv(i))*xv]},Uv=function(t){return function(){return t}},Xv=function(n,r){function t(t,e){return t=n(t,e),r(t[0],t[1])}return n.invert&&r.invert&&(t.invert=function(t,e){return(t=r.invert(t,e))&&n.invert(t[0],t[1])}),t};ni.invert=ni;var $v,Yv,Wv,Qv,Zv,Kv,Jv,ty,ey,ny,ry,iy=function(e){function t(t){return(t=e(t[0]*_v,t[1]*_v))[0]*=xv,t[1]*=xv,t}return e=ri(e[0]*_v,e[1]*_v,2<e.length?e[2]*_v:0),t.invert=function(t){return(t=e.invert(t[0]*_v,t[1]*_v))[0]*=xv,t[1]*=xv,t},t},oy=function(){function t(t,e){r.push(t=i(t,e)),t[0]*=xv,t[1]*=xv}function e(){var t=o.apply(this,arguments),e=a.apply(this,arguments)*_v,n=s.apply(this,arguments)*_v;return r=[],i=ri(-t[0]*_v,-t[1]*_v,0).invert,si(u,e,n,1),t={type:"Polygon",coordinates:[r]},r=i=null,t}var r,i,o=Uv([0,0]),a=Uv(90),s=Uv(6),u={point:t};return e.center=function(t){return arguments.length?(o="function"==typeof t?t:Uv([+t[0],+t[1]]),e):o},e.radius=function(t){return arguments.length?(a="function"==typeof t?t:Uv(+t),e):a},e.precision=function(t){return arguments.length?(s="function"==typeof t?t:Uv(+t),e):s},e},ay=function(){var n,e=[];return{point:function(t,e){n.push([t,e])},lineStart:function(){e.push(n=[])},lineEnd:br,rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))},result:function(){var t=e;return e=[],n=null,t}}},sy=function(t,e,n,r,i,o){var a,s=t[0],u=t[1],c=0,l=1,f=e[0]-s,h=e[1]-u;if(a=n-s,f||!(0<a)){if(a/=f,f<0){if(a<c)return;a<l&&(l=a)}else if(0<f){if(l<a)return;c<a&&(c=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(l<a)return;c<a&&(c=a)}else if(0<f){if(a<c)return;a<l&&(l=a)}if(a=r-u,h||!(0<a)){if(a/=h,h<0){if(a<c)return;a<l&&(l=a)}else if(0<h){if(l<a)return;c<a&&(c=a)}if(a=o-u,h||!(a<0)){if(a/=h,h<0){if(l<a)return;c<a&&(c=a)}else if(0<h){if(a<c)return;a<l&&(l=a)}return 0<c&&(t[0]=s+c*f,t[1]=u+c*h),l<1&&(e[0]=s+l*f,e[1]=u+l*h),!0}}}}},uy=function(t,e){return bv(t[0]-e[0])<pv&&bv(t[1]-e[1])<pv},cy=function(t,e,n,r,o){var a,i,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],i=t[e];if(uy(r,i)){for(o.lineStart(),a=0;a<e;++a)o.point((r=t[a])[0],r[1]);return void o.lineEnd()}s.push(n=new ci(r,t,null,!0)),u.push(n.o=new ci(r,null,n,!1)),s.push(n=new ci(i,t,null,!1)),u.push(n.o=new ci(i,null,n,!0))}}),s.length){for(u.sort(e),li(s),li(u),a=0,i=u.length;a<i;++a)u[a].e=n=!n;for(var c,l,f=s[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;c=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(a=0,i=c.length;a<i;++a)o.point((l=c[a])[0],l[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(d)for(c=h.p.z,a=c.length-1;0<=a;--a)o.point((l=c[a])[0],l[1]);else r(h.x,h.p.x,-1,o);h=h.p}c=(h=h.o).z,d=!d}while(!h.v);o.lineEnd()}}},ly=1e9,fy=-ly,hy=function(){var e,n,r,i=0,o=0,a=960,s=500;return r={stream:function(t){return e&&n===t?e:e=fi(i,o,a,s)(n=t)},extent:function(t){return arguments.length?(i=+t[0][0],o=+t[0][1],a=+t[1][0],s=+t[1][1],e=n=null,r):[[i,o],[a,s]]}}},dy=Ig(),py=function(t,e){var n=e[0],r=e[1],i=[Ev(n),-Tv(n),0],o=0,a=0;dy.reset();for(var s=0,u=t.length;s<u;++s)if(l=(c=t[s]).length)for(var c,l,f=c[l-1],h=f[0],d=f[1]/2+yv,p=Ev(d),g=Tv(d),v=0;v<l;++v,h=m,p=_,g=b,f=y){var y=c[v],m=y[0],x=y[1]/2+yv,_=Ev(x),b=Tv(x),w=m-h,S=0<=w?1:-1,T=S*w,M=gv<T,C=p*_;if(dy.add(Sv(C*S*Ev(T),g*b+C*Tv(T))),o+=M?w+S*mv:w,M^n<=h^n<=m){var A=Nr(Lr(f),Lr(y));Ir(A);var k=Nr(i,A);Ir(k);var E=(M^0<=w?-1:1)*xr(k[2]);(E<r||r===E&&(A[0]||A[1]))&&(a+=M^0<=w?1:-1)}}return(o<-pv||o<pv&&dy<-pv)^1&a},gy=Ig(),vy={sphere:br,point:br,lineStart:hi,lineEnd:br,polygonStart:br,polygonEnd:br},yy=function(t){return gy.reset(),Iv(t,vy),+gy},my=[null,null],xy={type:"LineString",coordinates:my},_y=function(t,e){return my[0]=t,my[1]=e,yy(xy)},by={Feature:function(t,e){return vi(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(vi(n[r].geometry,e))return!0;return!1}},wy={Sphere:function(){return!0},Point:function(t,e){return yi(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(yi(n[r],e))return!0;return!1},LineString:function(t,e){return mi(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(mi(n[r],e))return!0;return!1},Polygon:function(t,e){return xi(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(xi(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(vi(n[r],e))return!0;return!1}},Sy=function(t,e){return(t&&by.hasOwnProperty(t.type)?by[t.type]:vi)(t,e)},Ty=function(t,e){var n=t[0]*_v,r=t[1]*_v,i=e[0]*_v,o=e[1]*_v,a=Tv(r),s=Ev(r),u=Tv(o),c=Ev(o),l=a*Tv(n),f=a*Ev(n),h=u*Tv(i),d=u*Ev(i),p=2*xr(Pv(_r(o-r)+a*u*_r(i-n))),g=Ev(p),v=p?function(t){var e=Ev(t*=p)/g,n=Ev(p-t)/g,r=n*l+e*h,i=n*f+e*d,o=n*s+e*c;return[Sv(i,r)*xv,Sv(o,Pv(r*r+i*i))*xv]}:function(){return[n*xv,r*xv]};return v.distance=p,v},My=function(t){return t},Cy=Ig(),Ay=Ig(),ky={point:br,lineStart:br,lineEnd:br,polygonStart:function(){ky.lineStart=Ci,ky.lineEnd=Ei},polygonEnd:function(){ky.lineStart=ky.lineEnd=ky.point=br,Cy.add(bv(Ay)),Ay.reset()},result:function(){var t=Cy/2;return Cy.reset(),t}},Ey=1/0,Ly=Ey,Py=-Ey,Ny=Py,Dy={point:Li,lineStart:br,lineEnd:br,polygonStart:br,polygonEnd:br,result:function(){var t=[[Ey,Ly],[Py,Ny]];return Py=Ny=-(Ly=Ey=1/0),t}},Ry=0,Iy=0,Oy=0,Fy=0,Vy=0,Gy=0,zy=0,jy=0,Hy=0,qy={point:Pi,lineStart:Ni,lineEnd:Ii,polygonStart:function(){qy.lineStart=Oi,qy.lineEnd=Fi},polygonEnd:function(){qy.point=Pi,qy.lineStart=Ni,qy.lineEnd=Ii},result:function(){var t=Hy?[zy/Hy,jy/Hy]:Gy?[Fy/Gy,Vy/Gy]:Oy?[Ry/Oy,Iy/Oy]:[NaN,NaN];return Ry=Iy=Oy=Fy=Vy=Gy=zy=jy=Hy=0,t}};zi.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,mv)}},result:br};var By,Uy,Xy,$y,Yy,Wy=Ig(),Qy={point:br,lineStart:function(){Qy.point=ji},lineEnd:function(){By&&Hi(Uy,Xy),Qy.point=br},polygonStart:function(){By=!0},polygonEnd:function(){By=null},result:function(){var t=+Wy;return Wy.reset(),t}};qi.prototype={_circle:Bi(4.5),pointRadius:function(t){return this._circle=Bi(t),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}}};var Zy=function(e,n){function r(t){return t&&("function"==typeof a&&o.pointRadius(+a.apply(this,arguments)),Iv(t,i(o))),o.result()}var i,o,a=4.5;return r.area=function(t){return Iv(t,i(ky)),ky.result()},r.measure=function(t){return Iv(t,i(Qy)),Qy.result()},r.bounds=function(t){return Iv(t,i(Dy)),Dy.result()},r.centroid=function(t){return Iv(t,i(qy)),qy.result()},r.projection=function(t){return arguments.length?(i=null==t?(e=null,My):(e=t).stream,r):e},r.context=function(t){return arguments.length?(o=null==t?(n=null,new qi):new zi(n=t),"function"!=typeof a&&o.pointRadius(a),r):n},r.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(o.pointRadius(+t),+t),r):a},r.projection(e).context(n)},Ky=function(m,x,_,b){return function(r,s){function e(t,e){var n=r(t,e);m(t=n[0],e=n[1])&&s.point(t,e)}function t(t,e){var n=r(t,e);h.point(n[0],n[1])}function n(){y.point=t,h.lineStart()}function i(){y.point=e,h.lineEnd()}function u(t,e){f.push([t,e]);var n=r(t,e);g.point(n[0],n[1])}function o(){g.lineStart(),f=[]}function a(){u(f[0][0],f[0][1]),g.lineEnd();var t,e,n,r,i=g.clean(),o=p.result(),a=o.length;if(f.pop(),c.push(f),f=null,a)if(1&i){if(0<(e=(n=o[0]).length-1)){for(v||(s.polygonStart(),v=!0),s.lineStart(),t=0;t<e;++t)s.point((r=n[t])[0],r[1]);s.lineEnd()}}else 1<a&&2&i&&o.push(o.pop().concat(o.shift())),l.push(o.filter(Ui))}var c,l,f,h=x(s),d=r.invert(b[0],b[1]),p=ay(),g=x(p),v=!1,y={point:e,lineStart:n,lineEnd:i,polygonStart:function(){y.point=u,y.lineStart=o,y.lineEnd=a,l=[],c=[]},polygonEnd:function(){y.point=e,y.lineStart=n,y.lineEnd=i,l=fl(l);var t=py(c,d);l.length?(v||(s.polygonStart(),v=!0),cy(l,Xi,t,_,s)):t&&(v||(s.polygonStart(),v=!0),s.lineStart(),_(null,null,1,s),s.lineEnd()),v&&(s.polygonEnd(),v=!1),l=c=null},sphere:function(){s.polygonStart(),s.lineStart(),_(null,null,1,s),s.lineEnd(),s.polygonEnd()}};return y}},Jy=Ky(function(){return!0},$i,Wi,[-gv,-vv]),tm=function(i,o){function t(t,e,n,r){si(r,i,o,n,t,e)}function d(t,e){return Tv(t)*Tv(e)>C}function e(s){var u,c,l,f,h;return{lineStart:function(){f=l=!1,h=1},point:function(t,e){var n,r=[t,e],i=d(t,e),o=v?i?0:g(t,e):i?g(t+(t<0?gv:-gv),e):0;if(!u&&(f=l=i)&&s.lineStart(),i!==l&&(n=p(u,r),(uy(u,n)||uy(r,n))&&(r[0]+=pv,r[1]+=pv,i=d(r[0],r[1]))),i!==l)h=0,i?(s.lineStart(),n=p(r,u),s.point(n[0],n[1])):(n=p(u,r),s.point(n[0],n[1]),s.lineEnd()),u=n;else if(y&&u&&v^i){var a;o&c||!(a=p(r,u,!0))||(h=0,v?(s.lineStart(),s.point(a[0][0],a[0][1]),s.point(a[1][0],a[1][1]),s.lineEnd()):(s.point(a[1][0],a[1][1]),s.lineEnd(),s.lineStart(),s.point(a[0][0],a[0][1])))}!i||u&&uy(u,r)||s.point(r[0],r[1]),u=r,l=i,c=o},lineEnd:function(){l&&s.lineEnd(),u=null},clean:function(){return h|(f&&l)<<1}}}function p(t,e,n){var r=[1,0,0],i=Nr(Lr(t),Lr(e)),o=Pr(i,i),a=i[0],s=o-a*a;if(!s)return!n&&t;var u=C*o/s,c=-C*a/s,l=Nr(r,i),f=Rr(r,u);Dr(f,Rr(i,c));var h=l,d=Pr(f,h),p=Pr(h,h),g=d*d-p*(Pr(f,f)-1);if(!(g<0)){var v=Pv(g),y=Rr(h,(-d-v)/p);if(Dr(y,f),y=Er(y),!n)return y;var m,x=t[0],_=e[0],b=t[1],w=e[1];_<x&&(m=x,x=_,_=m);var S=_-x,T=bv(S-gv)<pv;if(!T&&w<b&&(m=b,b=w,w=m),T||S<pv?T?0<b+w^y[1]<(bv(y[0]-x)<pv?b:w):b<=y[1]&&y[1]<=w:gv<S^(x<=y[0]&&y[0]<=_)){var M=Rr(h,(-d+v)/p);return Dr(M,f),[y,Er(M)]}}}function g(t,e){var n=v?i:gv-i,r=0;return t<-n?r|=1:n<t&&(r|=2),e<-n?r|=4:n<e&&(r|=8),r}var C=Tv(i),v=0<C,y=bv(C)>pv;return Ky(d,e,t,v?[0,-i]:[-gv,i-gv])},em=function(t){return{stream:Qi(t)}};Zi.prototype={constructor:Zi,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var nm=16,rm=Tv(30*_v),im=function(t,e){return+e?eo(t,e):to(t)},om=Qi({point:function(t,e){this.stream.point(t*_v,e*_v)}}),am=function(){return io(ao).scale(155.424).center([0,33.6442])},sm=function(){return am().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},um=function(){function n(t){var e=t[0],n=t[1];return u=null,o.point(e,n),u||(a.point(e,n),u)||(s.point(e,n),u)}function i(){return e=r=null,n}var e,r,o,a,s,u,c=sm(),l=am().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=am().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(t,e){u=[t,e]}};return n.invert=function(t){var e=c.scale(),n=c.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(.12<=i&&i<.234&&-.425<=r&&r<-.214?l:.166<=i&&i<.234&&-.214<=r&&r<-.115?f:c).invert(t)},n.stream=function(t){return e&&r===t?e:e=so([c.stream(r=t),l.stream(t),f.stream(t)])},n.precision=function(t){return arguments.length?(c.precision(t),l.precision(t),f.precision(t),i()):c.precision()},n.scale=function(t){return arguments.length?(c.scale(t),l.scale(.35*t),f.scale(t),n.translate(c.translate())):c.scale()},n.translate=function(t){if(!arguments.length)return c.translate();var e=c.scale(),n=+t[0],r=+t[1];return o=c.translate(t).clipExtent([[n-.455*e,r-.238*e],[n+.455*e,r+.238*e]]).stream(h),a=l.translate([n-.307*e,r+.201*e]).clipExtent([[n-.425*e+pv,r+.12*e+pv],[n-.214*e-pv,r+.234*e-pv]]).stream(h),s=f.translate([n-.205*e,r+.212*e]).clipExtent([[n-.214*e+pv,r+.166*e+pv],[n-.115*e-pv,r+.234*e-pv]]).stream(h),i()},n.fitExtent=function(t,e){return Ki(n,t,e)},n.fitSize=function(t,e){return Ji(n,t,e)},n.scale(1070)},cm=uo(function(t){return Pv(2/(1+t))});cm.invert=co(function(t){return 2*xr(t/2)});var lm=function(){return no(cm).scale(124.75).clipAngle(179.999)},fm=uo(function(t){return(t=mr(t))&&t/Ev(t)});fm.invert=co(function(t){return t});var hm=function(){return no(fm).scale(79.4188).clipAngle(179.999)};lo.invert=function(t,e){return[t,2*wv(Cv(e))-vv]};var dm=function(){return fo(lo).scale(961/mv)},pm=function(){return io(po).scale(109.5).parallels([30,30])};go.invert=go;var gm=function(){return no(go).scale(152.63)},vm=function(){return io(vo).scale(131.154).center([0,13.9389])};yo.invert=co(wv);var ym=function(){return no(yo).scale(144.049).clipAngle(60)},mm=function(){function e(){return o=a=null,s}var n,r,i,o,a,s,u=1,c=0,l=0,f=1,h=1,d=My,p=null,g=My;return s={stream:function(t){return o&&a===t?o:o=d(g(a=t))},clipExtent:function(t){return arguments.length?(g=null==t?(p=n=r=i=null,My):fi(p=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),e()):null==p?null:[[p,n],[r,i]]},scale:function(t){return arguments.length?(d=mo((u=+t)*f,u*h,c,l),e()):u},translate:function(t){return arguments.length?(d=mo(u*f,u*h,c=+t[0],l=+t[1]),e()):[c,l]},reflectX:function(t){return arguments.length?(d=mo(u*(f=t?-1:1),u*h,c,l),e()):f<0},reflectY:function(t){return arguments.length?(d=mo(u*f,u*(h=t?-1:1),c,l),e()):h<0},fitExtent:function(t,e){return Ki(s,t,e)},fitSize:function(t,e){return Ji(s,t,e)}}};xo.invert=co(xr);var xm=function(){return no(xo).scale(249.5).clipAngle(90+pv)};_o.invert=co(function(t){return 2*wv(t)});var _m=function(){return no(_o).scale(250).clipAngle(142)};bo.invert=function(t,e){return[-e,2*wv(Cv(t))-vv]};var bm=function(){var t=fo(bo),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)},wm=function(){function e(e){var n,r=0;e.eachAfter(function(t){var e=t.children;e?(t.x=So(e),t.y=Mo(e)):(t.x=n?r+=s(t,n):0,t.y=0,n=t)});var t=Ao(e),i=ko(e),o=t.x-s(t,i)/2,a=i.x+s(i,t)/2;return e.eachAfter(l?function(t){t.x=(t.x-e.x)*u,t.y=(e.y-t.y)*c}:function(t){t.x=(t.x-o)/(a-o)*u,t.y=(1-(e.y?t.y/e.y:1))*c})}var s=wo,u=1,c=1,l=!1;return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(l=!1,u=+t[0],c=+t[1],e):l?null:[u,c]},e.nodeSize=function(t){return arguments.length?(l=!0,u=+t[0],c=+t[1],e):l?[u,c]:null},e},Sm=function(){return this.eachAfter(Eo)},Tm=function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},Mm=function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;0<=n;--n)i.push(e[n]);return this},Cm=function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},Am=function(i){return this.eachAfter(function(t){for(var e=+i(t.data)||0,n=t.children,r=n&&n.length;0<=--r;)e+=n[r].value;t.value=e})},km=function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},Em=function(t){for(var e=this,n=Lo(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},Lm=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},Pm=function(){var e=[];return this.each(function(t){e.push(t)}),e},Nm=function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},Dm=function(){var e=this,n=[];return e.each(function(t){t!==e&&n.push({source:t.parent,target:t})}),n};Oo.prototype=Po.prototype={constructor:Oo,count:Sm,each:Tm,eachAfter:Cm,eachBefore:Mm,sum:Am,sort:km,path:Em,ancestors:Lm,descendants:Pm,leaves:Nm,links:Dm,copy:No};var Rm=function(t){for(var e=(t=t.slice()).length,n=null,r=n;e;){var i=new Fo(t[e-1]);r=r?r.next=i:n=i,t[void 0]=t[--e]}return{head:n,tail:r}},Im=function(t){return Go(Rm(t),[])},Om=function(t){return $o(t),t},Fm=function(t){return function(){return t}},Vm=function(){function e(t){return t.x=r/2,t.y=i/2,n?t.eachBefore(Ko(n)).eachAfter(Jo(o,.5)).eachBefore(ta(1)):t.eachBefore(Ko(Zo)).eachAfter(Jo(Qo,1)).eachAfter(Jo(o,t.r/Math.min(r,i))).eachBefore(ta(Math.min(r,i)/(2*t.r))),t}var n=null,r=1,i=1,o=Qo;return e.radius=function(t){return arguments.length?(n=Yo(t),e):n},e.size=function(t){return arguments.length?(r=+t[0],i=+t[1],e):[r,i]},e.padding=function(t){return arguments.length?(o="function"==typeof t?t:Fm(+t),e):o},e},Gm=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},zm=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(r-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c},jm=function(){function e(t){var e=t.height+1;return t.x0=t.y0=s,t.x1=r,t.y1=i/e,t.eachBefore(n(i,e)),o&&t.eachBefore(Gm),t}function n(o,a){return function(t){t.children&&zm(t,t.x0,o*(t.depth+1)/a,t.x1,o*(t.depth+2)/a);var e=t.x0,n=t.y0,r=t.x1-s,i=t.y1-s;r<e&&(e=r=(e+r)/2),i<n&&(n=i=(n+i)/2),t.x0=e,t.y0=n,t.x1=r,t.y1=i}}var r=1,i=1,s=0,o=!1;return e.round=function(t){return arguments.length?(o=!!t,e):o},e.size=function(t){return arguments.length?(r=+t[0],i=+t[1],e):[r,i]},e.padding=function(t){return arguments.length?(s=+t,e):s},e},Hm="$",qm={depth:-1},Bm={},Um=function(){function e(t){var e,n,r,i,o,a,s,u=t.length,c=new Array(u),l={};for(n=0;n<u;++n)e=t[n],o=c[n]=new Oo(e),null!=(a=f(e,n,t))&&(a+="")&&(l[s=Hm+(o.id=a)]=s in l?Bm:o);for(n=0;n<u;++n)if(o=c[n],null!=(a=h(t[n],n,t))&&(a+="")){if(!(i=l[Hm+a]))throw new Error("missing: "+a);if(i===Bm)throw new Error("ambiguous: "+a);i.children?i.children.push(o):i.children=[o],o.parent=i}else{if(r)throw new Error("multiple roots");r=o}if(!r)throw new Error("no root");if(r.parent=qm,r.eachBefore(function(t){t.depth=t.parent.depth+1,--u}).eachBefore(Io),r.parent=null,0<u)throw new Error("cycle");return r}var f=ea,h=na;return e.id=function(t){return arguments.length?(f=Wo(t),e):f},e.parentId=function(t){return arguments.length?(h=Wo(t),e):h},e};ca.prototype=Object.create(Oo.prototype);var Xm=function(){function e(t){var e=la(t);if(e.eachAfter(c),e.parent.m=-e.z,e.eachBefore(l),g)t.eachBefore(f);else{var n=t,r=t,i=t;t.eachBefore(function(t){t.x<n.x&&(n=t),t.x>r.x&&(r=t),t.depth>i.depth&&(i=t)});var o=n===r?1:h(n,r)/2,a=o-n.x,s=d/(r.x+o+a),u=p/(i.depth||1);t.eachBefore(function(t){t.x=(t.x+a)*s,t.y=t.depth*u})}return t}function c(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e){sa(t);var i=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+h(t._,r._),t.m=t.z-i):t.z=i}else r&&(t.z=r.z+h(t._,r._));t.parent.A=o(t,r,t.parent.A||n[0])}function l(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function o(t,e,n){if(e){for(var r,i=t,o=t,a=e,s=i.parent.children[0],u=i.m,c=o.m,l=a.m,f=s.m;a=oa(a),i=ia(i),a&&i;)s=ia(s),(o=oa(o)).a=t,0<(r=a.z+l-i.z-u+h(a._,i._))&&(aa(ua(a,t,n),t,r),u+=r,c+=r),l+=a.m,u+=i.m,f+=s.m,c+=o.m;a&&!oa(o)&&(o.t=a,o.m+=l-c),i&&!ia(s)&&(s.t=i,s.m+=u-f,n=t)}return n}function f(t){t.x*=d,t.y=t.depth*p}var h=ra,d=1,p=1,g=null;return e.separation=function(t){return arguments.length?(h=t,e):h},e.size=function(t){return arguments.length?(g=!1,d=+t[0],p=+t[1],e):g?null:[d,p]},e.nodeSize=function(t){return arguments.length?(g=!0,d=+t[0],p=+t[1],e):g?[d,p]:null},e},$m=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(i-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c},Ym=(1+Math.sqrt(5))/2,Wm=function e(o){function t(t,e,n,r,i){fa(o,t,e,n,r,i)}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(Ym),Qm=function(){function e(t){return t.x0=t.y0=0,t.x1=i,t.y1=o,t.eachBefore(n),s=[0],r&&t.eachBefore(Gm),t}function n(t){var e=s[t.depth],n=t.x0+e,r=t.y0+e,i=t.x1-e,o=t.y1-e;i<n&&(n=i=(n+i)/2),o<r&&(r=o=(r+o)/2),t.x0=n,t.y0=r,t.x1=i,t.y1=o,t.children&&(e=s[t.depth+1]=u(t)/2,n+=h(t)-e,r+=c(t)-e,(i-=l(t)-e)<n&&(n=i=(n+i)/2),(o-=f(t)-e)<r&&(r=o=(r+o)/2),a(t,n,r,i,o))}var a=Wm,r=!1,i=1,o=1,s=[0],u=Qo,c=Qo,l=Qo,f=Qo,h=Qo;return e.round=function(t){return arguments.length?(r=!!t,e):r},e.size=function(t){return arguments.length?(i=+t[0],o=+t[1],e):[i,o]},e.tile=function(t){return arguments.length?(a=Wo(t),e):a},e.padding=function(t){return arguments.length?e.paddingInner(t).paddingOuter(t):e.paddingInner()},e.paddingInner=function(t){return arguments.length?(u="function"==typeof t?t:Fm(+t),e):u},e.paddingOuter=function(t){return arguments.length?e.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):e.paddingTop()},e.paddingTop=function(t){return arguments.length?(c="function"==typeof t?t:Fm(+t),e):c},e.paddingRight=function(t){return arguments.length?(l="function"==typeof t?t:Fm(+t),e):l},e.paddingBottom=function(t){return arguments.length?(f="function"==typeof t?t:Fm(+t),e):f},e.paddingLeft=function(t){return arguments.length?(h="function"==typeof t?t:Fm(+t),e):h},e},Zm=function(t,e,n,r,i){function y(t,e,n,r,i,o,a){if(e-1<=t){var s=m[t];return s.x0=r,s.y0=i,s.x1=o,void(s.y1=a)}for(var u=x[t],c=n/2+u,l=t+1,f=e-1;l<f;){var h=l+f>>>1;x[h]<c?l=h+1:f=h}c-x[l-1]<x[l]-c&&t+1<l&&--l;var d=x[l]-u,p=n-d;if(a-i<o-r){var g=(r*p+o*d)/n;y(t,l,d,r,i,g,a),y(l,e,p,g,i,o,a)}else{var v=(i*p+a*d)/n;y(t,l,d,r,i,o,v),y(l,e,p,r,v,o,a)}}var o,a,m=t.children,s=m.length,x=new Array(s+1);for(x[0]=a=o=0;o<s;++o)x[o+1]=a+=m[o].value;y(0,s,t.value,e,n,r,i)},Km=function(t,e,n,r,i){(1&t.depth?$m:zm)(t,e,n,r,i)},Jm=function e(d){function t(t,e,n,r,i){if((o=t._squarify)&&o.ratio===d)for(var o,a,s,u,c,l=-1,f=o.length,h=t.value;++l<f;){for(s=(a=o[l]).children,u=a.value=0,c=s.length;u<c;++u)a.value+=s[u].value;a.dice?zm(a,e,n,r,n+=(i-n)*a.value/h):$m(a,e,n,e+=(r-e)*a.value/h,i),h-=a.value}else t._squarify=o=fa(d,t,e,n,r,i),o.ratio=d}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(Ym),tx=function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2},ex=function(t){for(var e,n,r=-1,i=t.length,o=0,a=0,s=t[i-1],u=0;++r<i;)e=s,s=t[r],u+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(u*=3),a/u]},nx=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])},rx=function(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(ha),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=da(r),a=da(i),s=a[0]===o[0],u=a[a.length-1]===o[o.length-1],c=[];for(e=o.length-1;0<=e;--e)c.push(t[r[o[e]][2]]);for(e=+s;e<a.length-u;++e)c.push(t[r[a[e]][2]]);return c},ix=function(t,e){for(var n,r,i=t.length,o=t[i-1],a=e[0],s=e[1],u=o[0],c=o[1],l=!1,f=0;f<i;++f)n=(o=t[f])[0],s<(r=o[1])!=s<c&&a<(u-n)*(s-r)/(c-r)+n&&(l=!l),u=n,c=r;return l},ox=function(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],s=o[1],u=0;++r<i;)e=a,n=s,e-=a=(o=t[r])[0],n-=s=o[1],u+=Math.sqrt(e*e+n*n);return u},ax=[].slice,sx={};pa.prototype=_a.prototype={constructor:pa,defer:function(t){if("function"!=typeof t||this._call)throw new Error;if(null!=this._error)return this;var e=ax.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),ga(this),this},abort:function(){return null==this._error&&ma(this,new Error("abort")),this},await:function(n){if("function"!=typeof n||this._call)throw new Error;return this._call=function(t,e){n.apply(null,[t].concat(e))},xa(this),this},awaitAll:function(t){if("function"!=typeof t||this._call)throw new Error;return this._call=t,xa(this),this}};var ux=function(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return Math.random()*e+t}},cx=function(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var t;if(null!=r)t=r,r=null;else for(;r=2*Math.random()-1,t=2*Math.random()-1,!(i=r*r+t*t)||1<i;);return e+n*t*Math.sqrt(-2*Math.log(i)/i)}},lx=function(){var t=cx.apply(this,arguments);return function(){return Math.exp(t())}},fx=function(n){return function(){for(var t=0,e=0;e<n;++e)t+=Math.random();return t}},hx=function(t){var e=fx(t);return function(){return e()/t}},dx=function(t){return function(){return-Math.log(1-Math.random())/t}},px=function(r,t){function e(t){var e,n=l.status;if(!n&&wa(l)||200<=n&&n<300||304===n){if(a)try{e=a.call(i,l)}catch(t){return void u.call("error",i,t)}else e=l;u.call("load",i,e)}else u.call("error",i,t)}var i,o,a,s,u=P("beforesend","progress","load","error"),c=qn(),l=new XMLHttpRequest,f=null,h=null,d=0;if("undefined"==typeof XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(r)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=l.ontimeout=e:l.onreadystatechange=function(t){3<l.readyState&&e(t)},l.onprogress=function(t){u.call("progress",i,t)},i={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?c.get(t):(null==e?c.remove(t):c.set(t,e+""),i)},mimeType:function(t){return arguments.length?(o=null==t?null:t+"",i):o},responseType:function(t){return arguments.length?(s=t,i):s},timeout:function(t){return arguments.length?(d=+t,i):d},user:function(t){return arguments.length<1?f:(f=null==t?null:t+"",i)},password:function(t){return arguments.length<1?h:(h=null==t?null:t+"",i)},response:function(t){return a=t,i},get:function(t,e){return i.send("GET",t,e)},post:function(t,e){return i.send("POST",t,e)},send:function(t,e,n){return l.open(t,r,!0,f,h),null==o||c.has("accept")||c.set("accept",o+",*/*"),l.setRequestHeader&&c.each(function(t,e){l.setRequestHeader(e,t)}),null!=o&&l.overrideMimeType&&l.overrideMimeType(o),null!=s&&(l.responseType=s),0<d&&(l.timeout=d),null==n&&"function"==typeof e&&(n=e,e=null),null!=n&&1===n.length&&(n=ba(n)),null!=n&&i.on("error",n).on("load",function(t){n(null,t)}),u.call("beforesend",i,l),l.send(null==e?null:e),i},abort:function(){return l.abort(),i},on:function(){var t=u.on.apply(u,arguments);return t===u?i:t}},null!=t){if("function"!=typeof t)throw new Error("invalid callback: "+t);return i.get(t)}return i},gx=function(r,i){return function(t,e){var n=px(t).mimeType(r).response(i);if(null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return n.get(e)}return n}},vx=gx("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),yx=gx("application/json",function(t){return JSON.parse(t.responseText)}),mx=gx("text/plain",function(t){return t.responseText}),xx=gx("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),_x=function(i,o){return function(t,e,n){arguments.length<3&&(n=e,e=null);var r=px(t).mimeType(i);return r.row=function(t){return arguments.length?r.response(Sa(o,e=t)):e},r.row(e),n?r.get(n):r}},bx=_x("text/csv",zp),wx=_x("text/tab-separated-values",Up),Sx=Array.prototype,Tx=Sx.map,Mx=Sx.slice,Cx={name:"implicit"},Ax=function(t){return function(){return t}},kx=function(t){return+t},Ex=[0,1],Lx=function(t,e,n){var r,i=t[0],o=t[t.length-1],a=T(i,o,null==e?10:e);switch((n=dr(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(i),Math.abs(o));return null!=n.precision||isNaN(r=Dg(a,s))||(n.precision=r),H.formatPrefix(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=Rg(a,Math.max(Math.abs(i),Math.abs(o))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=Ng(a))||(n.precision=r-2*("%"===n.type))}return H.format(n)},Px=function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t},Nx=new Date,Dx=new Date,Rx=Za(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Rx.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?Za(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):Rx:null};var Ix=Rx.range,Ox=6e4,Fx=6048e5,Vx=Za(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),Gx=Vx.range,zx=Za(function(t){t.setTime(Math.floor(t/Ox)*Ox)},function(t,e){t.setTime(+t+e*Ox)},function(t,e){return(e-t)/Ox},function(t){return t.getMinutes()}),jx=zx.range,Hx=Za(function(t){var e=t.getTimezoneOffset()*Ox%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),qx=Hx.range,Bx=Za(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ox)/864e5},function(t){return t.getDate()-1}),Ux=Bx.range,Xx=Ka(0),$x=Ka(1),Yx=Ka(2),Wx=Ka(3),Qx=Ka(4),Zx=Ka(5),Kx=Ka(6),Jx=Xx.range,t_=$x.range,e_=Yx.range,n_=Wx.range,r_=Qx.range,i_=Zx.range,o_=Kx.range,a_=Za(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),s_=a_.range,u_=Za(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});u_.every=function(n){return isFinite(n=Math.floor(n))&&0<n?Za(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};var c_=u_.range,l_=Za(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Ox)},function(t,e){return(e-t)/Ox},function(t){return t.getUTCMinutes()}),f_=l_.range,h_=Za(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),d_=h_.range,p_=Za(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),g_=p_.range,v_=Ja(0),y_=Ja(1),m_=Ja(2),x_=Ja(3),__=Ja(4),b_=Ja(5),w_=Ja(6),S_=v_.range,T_=y_.range,M_=m_.range,C_=x_.range,A_=__.range,k_=b_.range,E_=w_.range,L_=Za(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),P_=L_.range,N_=Za(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});N_.every=function(n){return isFinite(n=Math.floor(n))&&0<n?Za(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};var D_,R_=N_.range,I_={"-":"",_:" ",0:"0"},O_=/^\s*\d+/,F_=/^%/,V_=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Zs({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],
days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var G_=Date.prototype.toISOString?Ks:H.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),z_=+new Date("2000-01-01T00:00:00.000Z")?Js:H.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),j_=1e3,H_=60*j_,q_=60*H_,B_=24*q_,U_=7*B_,X_=30*B_,$_=365*B_,Y_=function(){return nu(u_,a_,Xx,Bx,Hx,zx,Vx,Rx,H.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},W_=function(){return nu(N_,L_,v_,p_,h_,l_,Vx,Rx,H.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},Q_=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},Z_=Q_("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),K_=Q_("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),J_=Q_("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),tb=Q_("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),eb=zh(Yt(300,.5,0),Yt(-240,.5,1)),nb=zh(Yt(-100,.75,.35),Yt(80,1.5,.8)),rb=zh(Yt(260,.75,.35),Yt(80,1.5,.8)),ib=Yt(),ob=function(t){(t<0||1<t)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return ib.h=360*t-100,ib.s=1.5-1.5*e,ib.l=.8-.9*e,ib+""},ab=ru(Q_("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),sb=ru(Q_("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ub=ru(Q_("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),cb=ru(Q_("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),lb=function(t){return function(){return t}},fb=Math.abs,hb=Math.atan2,db=Math.cos,pb=Math.max,gb=Math.min,vb=Math.sin,yb=Math.sqrt,mb=1e-12,xb=Math.PI,_b=xb/2,bb=2*xb,wb=function(){function e(){var t,e,n=+V.apply(this,arguments),r=+G.apply(this,arguments),i=H.apply(this,arguments)-_b,o=q.apply(this,arguments)-_b,a=fb(o-i),s=i<o;if(U||(U=t=On()),r<n&&(e=r,r=n,n=e),mb<r)if(bb-mb<a)U.moveTo(r*db(i),r*vb(i)),U.arc(0,0,r,i,o,!s),mb<n&&(U.moveTo(n*db(o),n*vb(o)),U.arc(0,0,n,o,i,s));else{var u,c,l=i,f=o,h=i,d=o,p=a,g=a,v=B.apply(this,arguments)/2,y=mb<v&&(j?+j.apply(this,arguments):yb(n*n+r*r)),m=gb(fb(r-n)/2,+z.apply(this,arguments)),x=m,_=m;if(mb<y){var b=au(y/n*vb(v)),w=au(y/r*vb(v));(p-=2*b)>mb?(h+=b*=s?1:-1,d-=b):(p=0,h=d=(i+o)/2),(g-=2*w)>mb?(l+=w*=s?1:-1,f-=w):(g=0,l=f=(i+o)/2)}var S=r*db(l),T=r*vb(l),M=n*db(d),C=n*vb(d);if(mb<m){var A=r*db(f),k=r*vb(f),E=n*db(h),L=n*vb(h);if(a<xb){var P=mb<p?hu(S,T,E,L,A,k,M,C):[M,C],N=S-P[0],D=T-P[1],R=A-P[0],I=k-P[1],O=1/vb(ou((N*R+D*I)/(yb(N*N+D*D)*yb(R*R+I*I)))/2),F=yb(P[0]*P[0]+P[1]*P[1]);x=gb(m,(n-F)/(O-1)),_=gb(m,(r-F)/(O+1))}}mb<g?mb<_?(u=du(E,L,S,T,r,_,s),c=du(A,k,M,C,r,_,s),U.moveTo(u.cx+u.x01,u.cy+u.y01),_<m?U.arc(u.cx,u.cy,_,hb(u.y01,u.x01),hb(c.y01,c.x01),!s):(U.arc(u.cx,u.cy,_,hb(u.y01,u.x01),hb(u.y11,u.x11),!s),U.arc(0,0,r,hb(u.cy+u.y11,u.cx+u.x11),hb(c.cy+c.y11,c.cx+c.x11),!s),U.arc(c.cx,c.cy,_,hb(c.y11,c.x11),hb(c.y01,c.x01),!s))):(U.moveTo(S,T),U.arc(0,0,r,l,f,!s)):U.moveTo(S,T),mb<n&&mb<p?mb<x?(u=du(M,C,A,k,n,-x,s),c=du(S,T,E,L,n,-x,s),U.lineTo(u.cx+u.x01,u.cy+u.y01),x<m?U.arc(u.cx,u.cy,x,hb(u.y01,u.x01),hb(c.y01,c.x01),!s):(U.arc(u.cx,u.cy,x,hb(u.y01,u.x01),hb(u.y11,u.x11),!s),U.arc(0,0,n,hb(u.cy+u.y11,u.cx+u.x11),hb(c.cy+c.y11,c.cx+c.x11),s),U.arc(c.cx,c.cy,x,hb(c.y11,c.x11),hb(c.y01,c.x01),!s))):U.arc(0,0,n,d,h,s):U.lineTo(M,C)}else U.moveTo(0,0);if(U.closePath(),t)return U=null,t+""||null}var V=su,G=uu,z=lb(0),j=null,H=cu,q=lu,B=fu,U=null;return e.centroid=function(){var t=(+V.apply(this,arguments)+ +G.apply(this,arguments))/2,e=(+H.apply(this,arguments)+ +q.apply(this,arguments))/2-xb/2;return[db(e)*t,vb(e)*t]},e.innerRadius=function(t){return arguments.length?(V="function"==typeof t?t:lb(+t),e):V},e.outerRadius=function(t){return arguments.length?(G="function"==typeof t?t:lb(+t),e):G},e.cornerRadius=function(t){return arguments.length?(z="function"==typeof t?t:lb(+t),e):z},e.padRadius=function(t){return arguments.length?(j=null==t?null:"function"==typeof t?t:lb(+t),e):j},e.startAngle=function(t){return arguments.length?(H="function"==typeof t?t:lb(+t),e):H},e.endAngle=function(t){return arguments.length?(q="function"==typeof t?t:lb(+t),e):q},e.padAngle=function(t){return arguments.length?(B="function"==typeof t?t:lb(+t),e):B},e.context=function(t){return arguments.length?(U=null==t?null:t,e):U},e};pu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Sb=function(t){return new pu(t)},Tb=function(){function e(t){var e,n,r,i=t.length,o=!1;for(null==c&&(f=l(r=On())),e=0;e<=i;++e)!(e<i&&u(n=t[e],e,t))===o&&((o=!o)?f.lineStart():f.lineEnd()),o&&f.point(+a(n,e,t),+s(n,e,t));if(r)return f=null,r+""||null}var a=gu,s=vu,u=lb(!0),c=null,l=Sb,f=null;return e.x=function(t){return arguments.length?(a="function"==typeof t?t:lb(+t),e):a},e.y=function(t){return arguments.length?(s="function"==typeof t?t:lb(+t),e):s},e.defined=function(t){return arguments.length?(u="function"==typeof t?t:lb(!!t),e):u},e.curve=function(t){return arguments.length?(l=t,null!=c&&(f=l(c)),e):l},e.context=function(t){return arguments.length?(null==t?c=f=null:f=l(c=t),e):c},e},Mb=function(){function e(t){var e,n,r,i,o,a=t.length,s=!1,u=new Array(a),c=new Array(a);for(null==g&&(y=v(o=On())),e=0;e<=a;++e){if(!(e<a&&p(i=t[e],e,t))===s)if(s=!s)n=e,y.areaStart(),y.lineStart();else{for(y.lineEnd(),y.lineStart(),r=e-1;n<=r;--r)y.point(u[r],c[r]);y.lineEnd(),y.areaEnd()}s&&(u[e]=+l(i,e,t),c[e]=+h(i,e,t),y.point(f?+f(i,e,t):u[e],d?+d(i,e,t):c[e]))}if(o)return y=null,o+""||null}function t(){return Tb().defined(p).curve(v).context(g)}var l=gu,f=null,h=lb(0),d=vu,p=lb(!0),g=null,v=Sb,y=null;return e.x=function(t){return arguments.length?(l="function"==typeof t?t:lb(+t),f=null,e):l},e.x0=function(t){return arguments.length?(l="function"==typeof t?t:lb(+t),e):l},e.x1=function(t){return arguments.length?(f=null==t?null:"function"==typeof t?t:lb(+t),e):f},e.y=function(t){return arguments.length?(h="function"==typeof t?t:lb(+t),d=null,e):h},e.y0=function(t){return arguments.length?(h="function"==typeof t?t:lb(+t),e):h},e.y1=function(t){return arguments.length?(d=null==t?null:"function"==typeof t?t:lb(+t),e):d},e.lineX0=e.lineY0=function(){return t().x(l).y(h)},e.lineY1=function(){return t().x(l).y(d)},e.lineX1=function(){return t().x(f).y(h)},e.defined=function(t){return arguments.length?(p="function"==typeof t?t:lb(!!t),e):p},e.curve=function(t){return arguments.length?(v=t,null!=g&&(y=v(g)),e):v},e.context=function(t){return arguments.length?(null==t?g=y=null:y=v(g=t),e):g},e},Cb=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},Ab=function(t){return t},kb=function(){function e(n){var t,e,r,i,o,a=n.length,s=0,u=new Array(a),c=new Array(a),l=+y.apply(this,arguments),f=Math.min(bb,Math.max(-bb,m.apply(this,arguments)-l)),h=Math.min(Math.abs(f)/a,x.apply(this,arguments)),d=h*(f<0?-1:1);for(t=0;t<a;++t)0<(o=c[u[t]=t]=+p(n[t],t,n))&&(s+=o);for(null!=g?u.sort(function(t,e){return g(c[t],c[e])}):null!=v&&u.sort(function(t,e){return v(n[t],n[e])}),t=0,r=s?(f-a*d)/s:0;t<a;++t,l=i)e=u[t],i=l+(0<(o=c[e])?o*r:0)+d,c[e]={data:n[e],index:t,value:o,startAngle:l,endAngle:i,padAngle:h};return c}var p=Ab,g=Cb,v=null,y=lb(0),m=lb(bb),x=lb(0);return e.value=function(t){return arguments.length?(p="function"==typeof t?t:lb(+t),e):p},e.sortValues=function(t){return arguments.length?(g=t,v=null,e):g},e.sort=function(t){return arguments.length?(v=t,g=null,e):v},e.startAngle=function(t){return arguments.length?(y="function"==typeof t?t:lb(+t),e):y},e.endAngle=function(t){return arguments.length?(m="function"==typeof t?t:lb(+t),e):m},e.padAngle=function(t){return arguments.length?(x="function"==typeof t?t:lb(+t),e):x},e},Eb=mu(Sb);yu.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Lb=function(){return xu(Tb().curve(Eb))},Pb=function(){var t=Mb().curve(Eb),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return xu(n())},delete t.lineX0,t.lineEndAngle=function(){return xu(r())},delete t.lineX1,t.lineInnerRadius=function(){return xu(i())},delete t.lineY0,t.lineOuterRadius=function(){return xu(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(mu(t)):e()._curve},t},Nb={draw:function(t,e){var n=Math.sqrt(e/xb);t.moveTo(n,0),t.arc(0,0,n,0,bb)}},Db={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Rb=Math.sqrt(1/3),Ib=2*Rb,Ob={draw:function(t,e){var n=Math.sqrt(e/Ib),r=n*Rb;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Fb=Math.sin(xb/10)/Math.sin(7*xb/10),Vb=Math.sin(bb/10)*Fb,Gb=-Math.cos(bb/10)*Fb,zb={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=Vb*n,i=Gb*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=bb*o/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},jb={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},Hb=Math.sqrt(3),qb={draw:function(t,e){var n=-Math.sqrt(e/(3*Hb));t.moveTo(0,2*n),t.lineTo(-Hb*n,-n),t.lineTo(Hb*n,-n),t.closePath()}},Bb=-.5,Ub=Math.sqrt(3)/2,Xb=1/Math.sqrt(12),$b=3*(Xb/2+1),Yb={draw:function(t,e){var n=Math.sqrt(e/$b),r=n/2,i=n*Xb,o=r,a=n*Xb+n,s=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(Bb*r-Ub*i,Ub*r+Bb*i),t.lineTo(Bb*o-Ub*a,Ub*o+Bb*a),t.lineTo(Bb*s-Ub*u,Ub*s+Bb*u),t.lineTo(Bb*r+Ub*i,Bb*i-Ub*r),t.lineTo(Bb*o+Ub*a,Bb*a-Ub*o),t.lineTo(Bb*s+Ub*u,Bb*u-Ub*s),t.closePath()}},Wb=[Nb,Db,Ob,jb,zb,qb,Yb],Qb=function(){function e(){var t;if(i||(i=t=On()),n.apply(this,arguments).draw(i,+r.apply(this,arguments)),t)return i=null,t+""||null}var n=lb(Nb),r=lb(64),i=null;return e.type=function(t){return arguments.length?(n="function"==typeof t?t:lb(t),e):n},e.size=function(t){return arguments.length?(r="function"==typeof t?t:lb(+t),e):r},e.context=function(t){return arguments.length?(i=null==t?null:t,e):i},e},Zb=function(){};bu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_u(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_u(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Kb=function(t){return new bu(t)};wu.prototype={areaStart:Zb,areaEnd:Zb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:_u(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Jb=function(t){return new wu(t)};Su.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:_u(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var tw=function(t){return new Su(t)};Tu.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(0<n)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var ew=function e(n){function t(t){return 1===n?new bu(t):new Tu(t,n)}return t.beta=function(t){return e(+t)},t}(.85);Cu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Mu(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Mu(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var nw=function e(n){function t(t){return new Cu(t,n)}return t.tension=function(t){return e(+t)},t}(0);Au.prototype={areaStart:Zb,areaEnd:Zb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Mu(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var rw=function e(n){function t(t){return new Au(t,n)}return t.tension=function(t){return e(+t)},t}(0);ku.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Mu(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var iw=function e(n){function t(t){return new ku(t,n)}return t.tension=function(t){return e(+t)},t}(0);Lu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Eu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ow=function e(n){function t(t){return n?new Lu(t,n):new Cu(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);Pu.prototype={areaStart:Zb,areaEnd:Zb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Eu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var aw=function e(n){function t(t){return n?new Pu(t,n):new Au(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);Nu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Eu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var sw=function e(n){function t(t){return n?new Nu(t,n):new ku(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);Du.prototype={areaStart:Zb,areaEnd:Zb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var uw=function(t){return new Du(t)};Vu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fu(this,this._t0,Ou(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Fu(this,Ou(this,n=Iu(this,t,e)),n);break;default:Fu(this,this._t0,n=Iu(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Gu.prototype=Object.create(Vu.prototype)).point=function(t,e){Vu.prototype.point.call(this,e,t)},zu.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},qu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Bu(t),i=Bu(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var cw=function(t){return new qu(t)};Uu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var lw=function(t){return new Uu(t,.5)},fw=Array.prototype.slice,hw=function(t,e){if(1<(r=t.length))for(var n,r,i=1,o=t[e[0]],a=o.length;i<r;++i){n=o,o=t[e[i]];for(var s=0;s<a;++s)o[s][1]+=o[s][0]=isNaN(n[s][1])?n[s][0]:n[s][1]}},dw=function(t){for(var e=t.length,n=new Array(e);0<=--e;)n[e]=e;return n},pw=function(){function e(t){var e,n,r=f.apply(this,arguments),i=t.length,o=r.length,a=new Array(o);for(e=0;e<o;++e){for(var s,u=r[e],c=a[e]=new Array(i),l=0;l<i;++l)c[l]=s=[0,+p(t[l],u,l,t)],s.data=t[l];c.key=u}for(e=0,n=h(a);e<o;++e)a[n[e]].index=e;return d(a,n),a}var f=lb([]),h=dw,d=hw,p=Yu;return e.keys=function(t){return arguments.length?(f="function"==typeof t?t:lb(fw.call(t)),e):f},e.value=function(t){return arguments.length?(p="function"==typeof t?t:lb(+t),e):p},e.order=function(t){return arguments.length?(h=null==t?dw:"function"==typeof t?t:lb(fw.call(t)),e):h},e.offset=function(t){return arguments.length?(d=null==t?hw:t,e):d},e},gw=function(t,e){if(0<(r=t.length)){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}hw(t,e)}},vw=function(t,e){if(0<(n=t.length)){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=t[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}hw(t,e)}},yw=function(t,e){if(0<(i=t.length)&&0<(r=(n=t[e[0]]).length)){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,u=0,c=0;s<i;++s){for(var l=t[e[s]],f=l[a][1]||0,h=(f-(l[a-1][1]||0))/2,d=0;d<s;++d){var p=t[e[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}u+=f,c+=h*f}n[a-1][1]+=n[a-1][0]=o,u&&(o-=c/u)}n[a-1][1]+=n[a-1][0]=o,hw(t,e)}},mw=function(t){var n=t.map(Wu);return dw(t).sort(function(t,e){return n[t]-n[e]})},xw=function(t){return mw(t).reverse()},_w=function(t){var e,n,r=t.length,i=t.map(Wu),o=dw(t).sort(function(t,e){return i[e]-i[t]}),a=0,s=0,u=[],c=[];for(e=0;e<r;++e)n=o[e],a<s?(a+=i[n],u.push(n)):(s+=i[n],c.push(n));return c.reverse().concat(u)},bw=function(t){return dw(t).reverse()},ww=function(t){return function(){return t}};Ku.prototype={constructor:Ku,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=nc(this._),e.P=null,(e.N=t).P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(tc(this,n),n=(t=n).U),n.C=!1,r.C=!0,ec(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(ec(this,n),n=(t=n).U),n.C=!1,r.C=!0,tc(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?nc(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,((n.L=o).U=n)!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,(n.R=a).U=n):(n.U=i,t=(i=n).R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,tc(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ec(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,tc(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,ec(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,tc(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,ec(this,i),t=this._;break}e.C=!0,i=(t=i).U}while(!t.C);t&&(t.C=!1)}}};var Sw,Tw,Mw,Cw,Aw,kw=[],Ew=[],Lw=1e-6,Pw=1e-12;Ac.prototype={constructor:Ac,polygons:function(){var n=this.edges;return this.cells.map(function(e){var t=e.halfedges.map(function(t){return fc(e,n[t])});return t.data=e.site.data,t})},triangles:function(){var c=[],l=this.edges;return this.cells.forEach(function(t,e){if(r=(n=t.halfedges).length)for(var n,r,i,o=t.site,a=-1,s=l[n[r-1]],u=s.left===o?s.right:s.left;++a<r;)i=u,u=(s=l[n[a]]).left===o?s.right:s.left,i&&u&&e<i.index&&e<u.index&&Mc(o,i,u)<0&&c.push([o.data,i.data,u.data])}),c},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(a,s,t){for(var e,u,c=this,l=c._found||0,n=c.cells.length;!(u=c.cells[l]);)if(++l>=n)return null;for(var r=a-u.site[0],i=s-u.site[1],f=r*r+i*i;u=c.cells[e=l],l=null,u.halfedges.forEach(function(t){var e=c.edges[t],n=e.left;if(n!==u.site&&n||(n=e.right)){var r=a-n[0],i=s-n[1],o=r*r+i*i;o<f&&(f=o,l=n.index)}}),null!==l;);return c._found=e,null==t||f<=t*t?u.site:null}}
;var Nw=function(){function e(r){return new Ac(r.map(function(t,e){var n=[Math.round(i(t,e,r)/Lw)*Lw,Math.round(o(t,e,r)/Lw)*Lw];return n.index=e,n.data=t,n}),n)}var i=Qu,o=Zu,n=null;return e.polygons=function(t){return e(t).polygons()},e.links=function(t){return e(t).links()},e.triangles=function(t){return e(t).triangles()},e.x=function(t){return arguments.length?(i="function"==typeof t?t:ww(+t),e):i},e.y=function(t){return arguments.length?(o="function"==typeof t?t:ww(+t),e):o},e.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],e):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},e.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],e):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},e},Dw=function(t){return function(){return t}};Ec.prototype={constructor:Ec,scale:function(t){return 1===t?this:new Ec(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Ec(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Rw=new Ec(1,0,0);Lc.prototype=Ec.prototype;var Iw=function(){H.event.preventDefault(),H.event.stopImmediatePropagation()},Ow=function(){function o(t){t.on("wheel.zoom",e).on("mousedown.zoom",n).on("dblclick.zoom",r).on("touchstart.zoom",s).on("touchmove.zoom",u).on("touchend.zoom touchcancel.zoom",c).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",Rc)}function d(t,e){return(e=Math.max(x,Math.min(_,e)))===t.k?t:new Ec(e,t.x,t.y)}function p(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new Ec(t.k,r,i)}function g(t,e){var n=t.invertX(e[0][0])-b,r=t.invertX(e[1][0])-w,i=t.invertY(e[0][1])-S,o=t.invertY(e[1][1])-T;return t.translate(n<r?(n+r)/2:Math.min(0,n)||Math.max(0,r),i<o?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function f(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function i(t,c,l){t.on("start.zoom",function(){v(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){v(this,arguments).end()}).tween("zoom",function(){var t=this,e=arguments,r=v(t,e),n=m.apply(t,e),i=l||f(n),o=Math.max(n[1][0]-n[0][0],n[1][1]-n[0][1]),a=t.__zoom,s="function"==typeof c?c.apply(t,e):c,u=C(a.invert(i).concat(o/a.k),s.invert(i).concat(o/s.k));return function(t){if(1===t)t=s;else{var e=u(t),n=o/e[2];t=new Ec(n,i[0]-e[0]*n,i[1]-e[1]*n)}r.zoom(null,t)}})}function v(t,e){for(var n,r=0,i=A.length;r<i;++r)if((n=A[r]).that===t)return n;return new a(t,e)}function a(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=m.apply(t,e)}function e(){function t(){e.wheel=null,e.end()}if(h.apply(this,arguments)){var e=v(this,arguments),n=this.__zoom,r=Math.max(x,Math.min(_,n.k*Math.pow(2,-H.event.deltaY*(H.event.deltaMode?120:1)/500))),i=zl(this);if(e.wheel)e.mouse[0][0]===i[0]&&e.mouse[0][1]===i[1]||(e.mouse[1]=n.invert(e.mouse[0]=i)),clearTimeout(e.wheel);else{if(n.k===r)return;e.mouse=[i,n.invert(i)],cd(this),e.start()}Iw(),e.wheel=setTimeout(t,L),e.zoom("mouse",g(p(d(n,r),e.mouse[0],e.mouse[1]),e.extent))}}function n(){function t(){Iw(),n.moved=!0,n.zoom("mouse",g(p(n.that.__zoom,n.mouse[0]=zl(n.that),n.mouse[1]),n.extent))}function e(){r.on("mousemove.zoom mouseup.zoom",null),xt(H.event.view,n.moved),Iw(),n.end()}if(!l&&h.apply(this,arguments)){var n=v(this,arguments),r=Sf(H.event.view).on("mousemove.zoom",t,!0).on("mouseup.zoom",e,!0),i=zl(this);kf(H.event.view),Pc(),n.mouse=[i,this.__zoom.invert(i)],cd(this),n.start()}}function r(){if(h.apply(this,arguments)){var t=this.__zoom,e=zl(this),n=t.invert(e),r=g(p(d(t,t.k*(H.event.shiftKey?.5:2)),e,n),m.apply(this,arguments));Iw(),0<M?Sf(this).transition().duration(M).call(i,r,e):Sf(this).call(o.transform,r)}}function s(){if(h.apply(this,arguments)){var t,e,n,r,i=v(this,arguments),o=H.event.changedTouches,a=o.length;for(Pc(),e=0;e<a;++e)n=o[e],r=[r=Mf(this,o,n.identifier),this.__zoom.invert(r),n.identifier],i.touch0?i.touch1||(i.touch1=r):(i.touch0=r,t=!0);if(y&&(y=clearTimeout(y),!i.touch1))return i.end(),void((r=Sf(this).on("dblclick.zoom"))&&r.apply(this,arguments));t&&(y=setTimeout(function(){y=null},E),cd(this),i.start())}}function u(){var t,e,n,r,i=v(this,arguments),o=H.event.changedTouches,a=o.length;for(Iw(),y&&(y=clearTimeout(y)),t=0;t<a;++t)e=o[t],n=Mf(this,o,e.identifier),i.touch0&&i.touch0[2]===e.identifier?i.touch0[0]=n:i.touch1&&i.touch1[2]===e.identifier&&(i.touch1[0]=n);if(e=i.that.__zoom,i.touch1){var s=i.touch0[0],u=i.touch0[1],c=i.touch1[0],l=i.touch1[1],f=(f=c[0]-s[0])*f+(f=c[1]-s[1])*f,h=(h=l[0]-u[0])*h+(h=l[1]-u[1])*h;e=d(e,Math.sqrt(f/h)),n=[(s[0]+c[0])/2,(s[1]+c[1])/2],r=[(u[0]+l[0])/2,(u[1]+l[1])/2]}else{if(!i.touch0)return;n=i.touch0[0],r=i.touch0[1]}i.zoom("touch",g(p(e,n,r),i.extent))}function c(){var t,e,n=v(this,arguments),r=H.event.changedTouches,i=r.length;for(Pc(),l&&clearTimeout(l),l=setTimeout(function(){l=null},E),t=0;t<i;++t)e=r[t],n.touch0&&n.touch0[2]===e.identifier?delete n.touch0:n.touch1&&n.touch1[2]===e.identifier&&delete n.touch1;n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0||n.end()}var y,l,h=Nc,m=Dc,x=0,_=1/0,b=-_,w=_,S=b,T=w,M=250,C=Rh,A=[],k=P("start","zoom","end"),E=500,L=150;return o.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",Rc),t!==n?i(t,e):n.interrupt().each(function(){v(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},o.scaleBy=function(t,e){o.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},o.scaleTo=function(t,i){o.transform(t,function(){var t=m.apply(this,arguments),e=this.__zoom,n=f(t),r=e.invert(n);return g(p(d(e,"function"==typeof i?i.apply(this,arguments):i),n,r),t)})},o.translateBy=function(t,e,n){o.transform(t,function(){return g(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),m.apply(this,arguments))})},a.prototype={start:function(){return 1==++this.active&&(this.index=A.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(A.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){N(new kc(o,t,this.that.__zoom),k.apply,k,[t,this.that,this.args])}},o.filter=function(t){return arguments.length?(h="function"==typeof t?t:Dw(!!t),o):h},o.extent=function(t){return arguments.length?(m="function"==typeof t?t:Dw([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),o):m},o.scaleExtent=function(t){return arguments.length?(x=+t[0],_=+t[1],o):[x,_]},o.translateExtent=function(t){return arguments.length?(b=+t[0][0],w=+t[1][0],S=+t[0][1],T=+t[1][1],o):[[b,S],[w,T]]},o.duration=function(t){return arguments.length?(M=+t,o):M},o.interpolate=function(t){return arguments.length?(C=t,o):C},o.on=function(){var t=k.on.apply(k,arguments);return t===k?o:t},o};H.version="4.7.2",H.bisect=Vc,H.bisectRight=Vc,H.bisectLeft=Gc,H.ascending=Ic,H.bisector=Oc,H.cross=jc,H.descending=Hc,H.deviation=Uc,H.extent=Xc,H.histogram=il,H.thresholdFreedmanDiaconis=al,H.thresholdScott=sl,H.thresholdSturges=rl,H.max=ul,H.mean=cl,H.median=ll,H.merge=fl,H.min=hl,H.pairs=zc,H.permute=dl,H.quantile=ol,H.range=Kc,H.scan=pl,H.shuffle=gl,H.sum=vl,H.ticks=nl,H.tickStep=T,H.transpose=yl,H.variance=Bc,H.zip=ml,H.axisTop=a,H.axisRight=u,H.axisBottom=c,H.axisLeft=f,H.brush=xp,H.brushX=Pn,H.brushY=Nn,H.brushSelection=Ln,H.chord=Cp,H.ribbon=Np,H.nest=Dp,H.set=Wn,H.map=qn,H.keys=Ip,H.values=Op,H.entries=Fp,H.color=Ct,H.rgb=Lt,H.hsl=Rt,H.lab=Vt,H.hcl=Ut,H.cubehelix=Yt,H.dispatch=P,H.drag=Lf,H.dragDisable=kf,H.dragEnable=xt,H.dsvFormat=Vp,H.csvParse=zp,H.csvParseRows=jp,H.csvFormat=Hp,H.csvFormatRows=qp,H.tsvParse=Up,H.tsvParseRows=Xp,H.tsvFormat=$p,H.tsvFormatRows=Yp,H.easeLinear=rn,H.easeQuad=sn,H.easeQuadIn=on,H.easeQuadOut=an,H.easeQuadInOut=sn,H.easeCubic=ln,H.easeCubicIn=un,H.easeCubicOut=cn,H.easeCubicInOut=ln,H.easePoly=Rd,H.easePolyIn=Nd,H.easePolyOut=Dd,H.easePolyInOut=Rd,H.easeSin=dn,H.easeSinIn=fn,H.easeSinOut=hn,H.easeSinInOut=dn,H.easeExp=vn,H.easeExpIn=pn,H.easeExpOut=gn,H.easeExpInOut=vn,H.easeCircle=xn,H.easeCircleIn=yn,H.easeCircleOut=mn,H.easeCircleInOut=xn,H.easeBounce=bn,H.easeBounceIn=_n,H.easeBounceOut=bn,H.easeBounceInOut=wn,H.easeBack=Wd,H.easeBackIn=$d,H.easeBackOut=Yd,H.easeBackInOut=Wd,H.easeElastic=Kd,H.easeElasticIn=Zd,H.easeElasticOut=Kd,H.easeElasticInOut=Jd,H.forceCenter=Wp,H.forceCollide=dg,H.forceLink=pg,H.forceManyBody=mg,H.forceSimulation=yg,H.forceX=xg,H.forceY=_g,H.formatDefaultLocale=gr,H.formatLocale=Pg,H.formatSpecifier=dr,H.precisionFixed=Ng,H.precisionPrefix=Dg,H.precisionRound=Rg,H.geoArea=Gv,H.geoBounds=Hv,H.geoCentroid=Bv,H.geoCircle=oy,H.geoClipExtent=hy,H.geoContains=Sy,H.geoDistance=_y,H.geoGraticule=Ti,H.geoGraticule10=Mi,H.geoInterpolate=Ty,H.geoLength=yy,H.geoPath=Zy,H.geoAlbers=sm,H.geoAlbersUsa=um,H.geoAzimuthalEqualArea=lm,H.geoAzimuthalEqualAreaRaw=cm,H.geoAzimuthalEquidistant=hm,H.geoAzimuthalEquidistantRaw=fm,H.geoConicConformal=pm,H.geoConicConformalRaw=po,H.geoConicEqualArea=am,H.geoConicEqualAreaRaw=ao,H.geoConicEquidistant=vm,H.geoConicEquidistantRaw=vo,H.geoEquirectangular=gm,H.geoEquirectangularRaw=go,H.geoGnomonic=ym,H.geoGnomonicRaw=yo,H.geoIdentity=mm,H.geoProjection=no,H.geoProjectionMutator=ro,H.geoMercator=dm,H.geoMercatorRaw=lo,H.geoOrthographic=xm,H.geoOrthographicRaw=xo,H.geoStereographic=_m,H.geoStereographicRaw=_o,H.geoTransverseMercator=bm,H.geoTransverseMercatorRaw=bo,H.geoRotation=iy,H.geoStream=Iv,H.geoTransform=em,H.cluster=wm,H.hierarchy=Po,H.pack=Vm,H.packSiblings=Om,H.packEnclose=Im,H.partition=jm,H.stratify=Um,H.tree=Xm,H.treemap=Qm,H.treemapBinary=Zm,H.treemapDice=zm,H.treemapSlice=$m,H.treemapSliceDice=Km,H.treemapSquarify=Wm,H.treemapResquarify=Jm,H.interpolate=Ch,H.interpolateArray=xh,H.interpolateBasis=dh,H.interpolateBasisClosed=ph,H.interpolateDate=_h,H.interpolateNumber=bh,H.interpolateObject=wh,H.interpolateRound=Ah,H.interpolateString=Mh,H.interpolateTransformCss=Ph,H.interpolateTransformSvg=Nh,H.interpolateZoom=Rh,H.interpolateRgb=vh,H.interpolateRgbBasis=yh,H.interpolateRgbBasisClosed=mh,H.interpolateHsl=Ih,H.interpolateHslLong=Oh,H.interpolateLab=he,H.interpolateHcl=Fh,H.interpolateHclLong=Vh,H.interpolateCubehelix=Gh,H.interpolateCubehelixLong=zh,H.quantize=jh,H.path=On,H.polygonArea=tx,H.polygonCentroid=ex,H.polygonHull=rx,H.polygonContains=ix,H.polygonLength=ox,H.quadtree=ir,H.queue=_a,H.randomUniform=ux,H.randomNormal=cx,H.randomLogNormal=lx,H.randomBates=hx,H.randomIrwinHall=fx,H.randomExponential=dx,H.request=px,H.html=vx,H.json=yx,H.text=mx,H.xml=xx,H.csv=bx,H.tsv=wx,H.scaleBand=Ma,H.scalePoint=Aa,H.scaleIdentity=Fa,H.scaleLinear=Oa,H.scaleLog=Ba,H.scaleOrdinal=Ta,H.scaleImplicit=Cx,H.scalePow=Xa,H.scaleSqrt=$a,H.scaleQuantile=Ya,H.scaleQuantize=Wa,H.scaleThreshold=Qa,H.scaleTime=Y_,H.scaleUtc=W_,H.schemeCategory10=Z_,H.schemeCategory20b=K_,H.schemeCategory20c=J_,H.schemeCategory20=tb,H.interpolateCubehelixDefault=eb,H.interpolateRainbow=ob,H.interpolateWarm=nb,H.interpolateCool=rb,H.interpolateViridis=ab,H.interpolateMagma=sb,H.interpolateInferno=ub,H.interpolatePlasma=cb,H.scaleSequential=iu,H.creator=Ll,H.local=m,H.matcher=Il,H.mouse=zl,H.namespace=El,H.namespaces=kl,H.select=Sf,H.selectAll=Tf,H.selection=yt,H.selector=jl,H.selectorAll=ql,H.touch=Mf,H.touches=Cf,H.window=cf,H.customEvent=N,H.arc=wb,H.area=Mb,H.line=Tb,H.pie=kb,H.radialArea=Pb,H.radialLine=Lb,H.symbol=Qb,H.symbols=Wb,H.symbolCircle=Nb,H.symbolCross=Db,H.symbolDiamond=Ob,H.symbolSquare=jb,H.symbolStar=zb,H.symbolTriangle=qb,H.symbolWye=Yb,H.curveBasisClosed=Jb,H.curveBasisOpen=tw,H.curveBasis=Kb,H.curveBundle=ew,H.curveCardinalClosed=rw,H.curveCardinalOpen=iw,H.curveCardinal=nw,H.curveCatmullRomClosed=aw,H.curveCatmullRomOpen=sw,H.curveCatmullRom=ow,H.curveLinearClosed=uw,H.curveLinear=Sb,H.curveMonotoneX=ju,H.curveMonotoneY=Hu,H.curveNatural=cw,H.curveStep=lw,H.curveStepAfter=$u,H.curveStepBefore=Xu,H.stack=pw,H.stackOffsetExpand=gw,H.stackOffsetNone=hw,H.stackOffsetSilhouette=vw,H.stackOffsetWiggle=yw,H.stackOrderAscending=mw,H.stackOrderDescending=xw,H.stackOrderInsideOut=_w,H.stackOrderNone=dw,H.stackOrderReverse=bw,H.timeInterval=Za,H.timeMillisecond=Rx,H.timeMilliseconds=Ix,H.utcMillisecond=Rx,H.utcMilliseconds=Ix,H.timeSecond=Vx,H.timeSeconds=Gx,H.utcSecond=Vx,H.utcSeconds=Gx,H.timeMinute=zx,H.timeMinutes=jx,H.timeHour=Hx,H.timeHours=qx,H.timeDay=Bx,H.timeDays=Ux,H.timeWeek=Xx,H.timeWeeks=Jx,H.timeSunday=Xx,H.timeSundays=Jx,H.timeMonday=$x,H.timeMondays=t_,H.timeTuesday=Yx,H.timeTuesdays=e_,H.timeWednesday=Wx,H.timeWednesdays=n_,H.timeThursday=Qx,H.timeThursdays=r_,H.timeFriday=Zx,H.timeFridays=i_,H.timeSaturday=Kx,H.timeSaturdays=o_,H.timeMonth=a_,H.timeMonths=s_,H.timeYear=u_,H.timeYears=c_,H.utcMinute=l_,H.utcMinutes=f_,H.utcHour=h_,H.utcHours=d_,H.utcDay=p_,H.utcDays=g_,H.utcWeek=v_,H.utcWeeks=S_,H.utcSunday=v_,H.utcSundays=S_,H.utcMonday=y_,H.utcMondays=T_,H.utcTuesday=m_,H.utcTuesdays=M_,H.utcWednesday=x_,H.utcWednesdays=C_,H.utcThursday=__,H.utcThursdays=A_,H.utcFriday=b_,H.utcFridays=k_,H.utcSaturday=w_,H.utcSaturdays=E_,H.utcMonth=L_,H.utcMonths=P_,H.utcYear=N_,H.utcYears=R_,H.timeFormatDefaultLocale=Zs,H.timeFormatLocale=rs,H.isoFormat=G_,H.isoParse=z_,H.now=ge,H.timer=me,H.timerFlush=xe,H.timeout=Zh,H.interval=Kh,H.transition=en,H.active=rp,H.interrupt=cd,H.voronoi=Nw,H.zoom=Ow,H.zoomTransform=Lc,H.zoomIdentity=Rw,Object.defineProperty(H,"__esModule",{value:!0})}),(Base=function(){}).extend=function(t,e){"use strict";var n=Base.prototype.extend;Base._prototyping=!0;var r=new this;n.call(r,t),r.base=function(){},delete Base._prototyping;var i=r.constructor,o=r.constructor=function(t){if(!Base._prototyping)if(this._constructing||this.constructor==o)this._constructing=!0,i.apply(this,arguments),delete this._constructing;else if(null!==t)return(t.extend||n).call(t,r)};return o.ancestor=this,o.extend=this.extend,o.forEach=this.forEach,o.implement=this.implement,o.prototype=r,o.toString=this.toString,o.valueOf=function(t){return"object"==t?o:i.valueOf()},n.call(o,e),"function"==typeof o.init&&o.init(),o},Base.prototype={extend:function(t,e){if(1<arguments.length){var n=this[t];if(n&&"function"==typeof e&&(!n.valueOf||n.valueOf()!=e.valueOf())&&/\bbase\b/.test(e)){var r=e.valueOf();(e=function(){var t=this.base||Base.prototype.base;this.base=n;var e=r.apply(this,arguments);return this.base=t,e}).valueOf=function(t){return"object"==t?e:r},e.toString=Base.toString}this[t]=e}else if(t){var i=Base.prototype.extend;Base._prototyping||"function"==typeof this||(i=this.extend||i);for(var o={toSource:null},a=["constructor","toString","valueOf"],s=Base._prototyping?0:1;u=a[s++];)t[u]!=o[u]&&i.call(this,u,t[u]);for(var u in t)o[u]||i.call(this,u,t[u])}return this}},Base=Base.extend({constructor:function(t){this.extend(t)}},{ancestor:Object,version:"1.1",forEach:function(t,e,n){for(var r in t)void 0===this.prototype[r]&&e.call(n,t[r],r,t)},implement:function(){for(var t=0;t<arguments.length;t++)"function"==typeof arguments[t]?arguments[t](this.prototype):this.prototype.extend(arguments[t]);return this},toString:function(){return String(this.valueOf())}}),function(n){"use strict";(FlipClock=function(t,e,n){return e instanceof Object&&e instanceof Date==0&&(n=e,e=0),new FlipClock.Factory(t,e,n)}).Lang={},FlipClock.Base=Base.extend({buildDate:"2014-10-06",version:"0.7.5",constructor:function(t,e){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={}),this.setOptions(n.extend(!0,{},t,e))},callback:function(t){if("function"==typeof t){for(var e=[],n=1;n<=arguments.length;n++)arguments[n]&&e.push(arguments[n]);t.apply(this,e)}},log:function(t){window.console&&console.log&&console.log(t)},getOption:function(t){return!!this[t]&&this[t]},getOptions:function(){return this},setOption:function(t,e){this[t]=e},setOptions:function(t){for(var e in t)"undefined"!=typeof t[e]&&this.setOption(e,t[e])}})}(jQuery),function(a){"use strict";FlipClock.Face=FlipClock.Base.extend({autoStart:!0,dividers:[],factory:!1,lists:[],constructor:function(t,e){this.dividers=[],this.lists=[],this.base(e),this.factory=t},build:function(){this.autoStart&&this.start()},createDivider:function(t,e,n){"boolean"!=typeof e&&e||(n=e,e=t);var r=['<span class="'+this.factory.classes.dot+' top"></span>','<span class="'+this.factory.classes.dot+' bottom"></span>'].join("");n&&(r=""),t=this.factory.localize(t);var i=['<span class="'+this.factory.classes.divider+" "+(e||"").toLowerCase()+'">','<span class="'+this.factory.classes.label+'">'+(t||"")+"</span>",r,"</span>"],o=a(i.join(""));return this.dividers.push(o),o},createList:function(t,e){"object"==typeof t&&(e=t,t=0);var n=new FlipClock.List(this.factory,t,e);return this.lists.push(n),n},reset:function(){this.factory.time=new FlipClock.Time(this.factor,this.factory.original?Math.round(this.factory.original):0,{minimumDigits:this.factory.minimumDigits}),this.flip(this.factory.original,!1)},appendDigitToClock:function(t){t.$el.append(!1)},addDigit:function(t){var e=this.createList(t,{classes:{active:this.factory.classes.active,before:this.factory.classes.before,flip:this.factory.classes.flip}});this.appendDigitToClock(e)},start:function(){},stop:function(){},autoIncrement:function(){this.factory.countdown?this.decrement():this.increment()},increment:function(){this.factory.time.addSecond()},decrement:function(){0==this.factory.time.getTimeSeconds()?this.factory.stop():this.factory.time.subSecond()},flip:function(t,r){var i=this;a.each(t,function(t,e){var n=i.lists[t];n?(r||e==n.digit||n.play(),n.select(e)):i.addDigit(e)})}})}(jQuery),function(r){"use strict";FlipClock.Factory=FlipClock.Base.extend({animationRate:1e3,autoStart:!0,callbacks:{destroy:!1,create:!1,init:!1,interval:!1,start:!1,stop:!1,reset:!1},classes:{active:"flip-clock-active",before:"flip-clock-before",divider:"flip-clock-divider",dot:"flip-clock-dot",label:"flip-clock-label",flip:"flip",play:"play",wrapper:"flip-clock-wrapper"},clockFace:"HourlyCounter",countdown:!1,defaultClockFace:"HourlyCounter",defaultLanguage:"english",$el:!1,face:!0,lang:!1,language:"english",minimumDigits:0,original:!1,running:!1,time:!1,timer:!1,$wrapper:!1,constructor:function(t,e,n){n||(n={}),this.lists=[],this.running=!1,this.base(n),this.$el=r(t).addClass(this.classes.wrapper),this.$wrapper=this.$el,this.original=e instanceof Date?e:e?Math.round(e):0,this.time=new FlipClock.Time(this,this.original,{minimumDigits:this.minimumDigits,animationRate:this.animationRate}),this.timer=new FlipClock.Timer(this,n),this.loadLanguage(this.language),this.loadClockFace(this.clockFace,n),this.autoStart&&this.start()},loadClockFace:function(t,e){var n,r="Face",i=!1;return t=t.ucfirst()+r,this.face.stop&&(this.stop(),i=!0),this.$el.html(""),this.time.minimumDigits=this.minimumDigits,(n=FlipClock[t]?new FlipClock[t](this,e):new FlipClock[this.defaultClockFace+r](this,e)).build(),this.face=n,i&&this.start(),this.face},loadLanguage:function(t){var e;return e=FlipClock.Lang[t.ucfirst()]?FlipClock.Lang[t.ucfirst()]:FlipClock.Lang[t]?FlipClock.Lang[t]:FlipClock.Lang[this.defaultLanguage],this.lang=e},localize:function(t,e){var n=this.lang;if(!t)return null;var r=t.toLowerCase();return"object"==typeof e&&(n=e),n&&n[r]?n[r]:t},start:function(t){var e=this;e.running||e.countdown&&!(e.countdown&&0<e.time.time)?e.log("Trying to start timer when countdown already at 0"):(e.face.start(e.time),e.timer.start(function(){e.flip(),"function"==typeof t&&t()}))},stop:function(t){for(var e in this.face.stop(),this.timer.stop(t),this.lists)this.lists.hasOwnProperty(e)&&this.lists[e].stop()},reset:function(t){this.timer.reset(t),this.face.reset()},setTime:function(t){this.time.time=t,this.flip(!0)},getTime:function(){return this.time},setCountdown:function(t){var e=this.running;this.countdown=!!t,e&&(this.stop(),this.start())},flip:function(t){this.face.flip(!1,t)}})}(jQuery),function(e){"use strict";FlipClock.List=FlipClock.Base.extend({digit:0,classes:{active:"flip-clock-active",before:"flip-clock-before",flip:"flip"},factory:!1,$el:!1,$obj:!1,items:[],lastDigit:0,constructor:function(t,e){this.factory=t,this.digit=e,this.lastDigit=e,this.$el=this.createList(),this.$obj=this.$el,0<e&&this.select(e),this.factory.$el.append(this.$el)},select:function(t){if(void 0===t?t=this.digit:this.digit=t,this.digit!=this.lastDigit){var e=this.$el.find("."+this.classes.before).removeClass(this.classes.before);this.$el.find("."+this.classes.active).removeClass(this.classes.active).addClass(this.classes.before),this.appendListItem(this.classes.active,this.digit),e.remove(),this.lastDigit=this.digit}},play:function(){this.$el.addClass(this.factory.classes.play)},stop:function(){var t=this;setTimeout(function(){t.$el.removeClass(t.factory.classes.play)},this.factory.timer.interval)},createListItem:function(t,e){return['<li class="'+(t||"")+'">','<a href="#">','<div class="up">','<div class="shadow"></div>','<div class="inn">'+(e||"")+"</div>","</div>",'<div class="down">','<div class="shadow"></div>','<div class="inn">'+(e||"")+"</div>","</div>","</a>","</li>"].join("")},appendListItem:function(t,e){var n=this.createListItem(t,e);this.$el.append(n)},createList:function(){var t=this.getPrevDigit()?this.getPrevDigit():this.digit;return e(['<ul class="'+this.classes.flip+" "+(this.factory.running?this.factory.classes.play:"")+'">',this.createListItem(this.classes.before,t),this.createListItem(this.classes.active,this.digit),"</ul>"].join(""))},getNextDigit:function(){return 9==this.digit?0:this.digit+1},getPrevDigit:function(){return 0==this.digit?9:this.digit-1}})}(jQuery),function(n){"use strict";String.prototype.ucfirst=function(){return this.substr(0,1).toUpperCase()+this.substr(1)},n.fn.FlipClock=function(t,e){return new FlipClock(n(this),t,e)},n.fn.flipClock=function(t,e){return n.fn.FlipClock(t,e)}}(jQuery),function(o){"use strict";FlipClock.Time=FlipClock.Base.extend({time:0,factory:!1,minimumDigits:0,constructor:function(t,e,n){"object"!=typeof n&&(n={}),n.minimumDigits||(n.minimumDigits=t.minimumDigits),this.base(n),this.factory=t,e&&(this.time=e)},convertDigitsToArray:function(t){var e=[];t=t.toString();for(var n=0;n<t.length;n++)t[n].match(/^\d*$/g)&&e.push(t[n]);return e},digit:function(t){var e=this.toString(),n=e.length;return!!e[n-t]&&e[n-t]},digitize:function(t){var r=[];if(o.each(t,function(t,e){1==(e=e.toString()).length&&(e="0"+e);for(var n=0;n<e.length;n++)r.push(e.charAt(n))}),r.length>this.minimumDigits&&(this.minimumDigits=r.length),this.minimumDigits>r.length)for(var e=r.length;e<this.minimumDigits;e++)r.unshift("0");return r},getDateObject:function(){return this.time instanceof Date?this.time:new Date((new Date).getTime()+1e3*this.getTimeSeconds())},getDayCounter:function(t){var e=[this.getDays(),this.getHours(!0),this.getMinutes(!0)];return t&&e.push(this.getSeconds(!0)),this.digitize(e)},getDays:function(t){var e=this.getTimeSeconds()/60/60/24;return t&&(e%=7),Math.floor(e)},getHourCounter:function(){return this.digitize([this.getHours(),this.getMinutes(!0),this.getSeconds(!0)])},getHourly:function(){return this.getHourCounter()},getHours:function(t){var e=this.getTimeSeconds()/60/60;return t&&(e%=24),Math.floor(e)},getMilitaryTime:function(t,e){void 0===e&&(e=!0),t||(t=this.getDateObject());var n=[t.getHours(),t.getMinutes()];return!0===e&&n.push(t.getSeconds()),this.digitize(n)},getMinutes:function(t){var e=this.getTimeSeconds()/60;return t&&(e%=60),Math.floor(e)},getMinuteCounter:function(){return this.digitize([this.getMinutes(),this.getSeconds(!0)])},getTimeSeconds:function(t){return t||(t=new Date),this.time instanceof Date?this.factory.countdown?Math.max(this.time.getTime()/1e3-t.getTime()/1e3,0):t.getTime()/1e3-this.time.getTime()/1e3:this.time},getTime:function(t,e){void 0===e&&(e=!0),t||(t=this.getDateObject()),console.log(t);var n=t.getHours(),r=[12<n?n-12:0===n?12:n,t.getMinutes()];return!0===e&&r.push(t.getSeconds()),this.digitize(r)},getSeconds:function(t){var e=this.getTimeSeconds();return t&&(60==e?e=0:e%=60),Math.ceil(e)},getWeeks:function(t){var e=this.getTimeSeconds()/60/60/24/7;return t&&(e%=52),Math.floor(e)},removeLeadingZeros:function(e,n){var r=0,i=[];return o.each(n,function(t){t<e?r+=parseInt(n[t],10):i.push(n[t])}),0===r?i:n},addSeconds:function(t){this.time instanceof Date?this.time.setSeconds(this.time.getSeconds()+t):this.time+=t},addSecond:function(){this.addSeconds(1)},subSeconds:function(t){this.time instanceof Date?this.time.setSeconds(this.time.getSeconds()-t):this.time-=t},subSecond:function(){this.subSeconds(1)},toString:function(){return this.getTimeSeconds().toString()}})}(jQuery),function(){"use strict";FlipClock.Timer=FlipClock.Base.extend({callbacks:{destroy:!1,create:!1,init:!1,interval:!1,start:!1,stop:!1,reset:!1},count:0,factory:!1,interval:1e3,animationRate:1e3,constructor:function(t,e){this.base(e),this.factory=t,this.callback(this.callbacks.init),this.callback(this.callbacks.create)},getElapsed:function(){return this.count*this.interval},getElapsedTime:function(){return new Date(this.time+this.getElapsed())},reset:function(t){clearInterval(this.timer),this.count=0,this._setInterval(t),this.callback(this.callbacks.reset)},start:function(t){this.factory.running=!0,this._createTimer(t),this.callback(this.callbacks.start)},stop:function(t){this.factory.running=!1,this._clearInterval(t),this.callback(this.callbacks.stop),this.callback(t)},_clearInterval:function(){clearInterval(this.timer)},_createTimer:function(t){this._setInterval(t)},_destroyTimer:function(t){this._clearInterval(),this.timer=!1,this.callback(t),this.callback(this.callbacks.destroy)},_interval:function(t){this.callback(this.callbacks.interval),this.callback(t),this.count++},_setInterval:function(t){var e=this;e._interval(t),e.timer=setInterval(function(){e._interval(t)},this.interval)}})}(jQuery),function(r){FlipClock.TwentyFourHourClockFace=FlipClock.Face.extend({constructor:function(t,e){this.base(t,e)},build:function(t){var n=this,e=this.factory.$el.find("ul");this.factory.time.time||(this.factory.original=new Date,this.factory.time=new FlipClock.Time(this.factory,this.factory.original)),(t=t||this.factory.time.getMilitaryTime(!1,this.showSeconds)).length>e.length&&r.each(t,function(t,e){n.createList(e)}),this.createDivider(),this.createDivider(),r(this.dividers[0]).insertBefore(this.lists[this.lists.length-2].$el),r(this.dividers[1]).insertBefore(this.lists[this.lists.length-4].$el),this.base()},flip:function(t,e){this.autoIncrement(),t=t||this.factory.time.getMilitaryTime(!1,this.showSeconds),this.base(t,e)}})}(jQuery),function(r){FlipClock.CounterFace=FlipClock.Face.extend({shouldAutoIncrement:!1,constructor:function(e,t){"object"!=typeof t&&(t={}),e.autoStart=!!t.autoStart,t.autoStart&&(this.shouldAutoIncrement=!0),e.increment=function(){e.countdown=!1,e.setTime(e.getTime().getTimeSeconds()+1)},e.decrement=function(){e.countdown=!0;var t=e.getTime().getTimeSeconds();0<t&&e.setTime(t-1)},e.setValue=function(t){e.setTime(t)},e.setCounter=function(t){e.setTime(t)},this.base(e,t)},build:function(){var n=this,t=this.factory.$el.find("ul"),e=this.factory.getTime().digitize([this.factory.getTime().time]);e.length>t.length&&r.each(e,function(t,e){n.createList(e).select(e)}),r.each(this.lists,function(t,e){e.play()}),this.base()},flip:function(t,e){this.shouldAutoIncrement&&this.autoIncrement(),t||(t=this.factory.getTime().digitize([this.factory.getTime().time])),this.base(t,e)},reset:function(){this.factory.time=new FlipClock.Time(this.factory,this.factory.original?Math.round(this.factory.original):0),this.flip()}})}(jQuery),function(i){FlipClock.DailyCounterFace=FlipClock.Face.extend({showSeconds:!0,constructor:function(t,e){this.base(t,e)},build:function(t){var n=this,e=this.factory.$el.find("ul"),r=0;(t=t||this.factory.time.getDayCounter(this.showSeconds)).length>e.length&&i.each(t,function(t,e){n.createList(e)}),this.showSeconds?i(this.createDivider("Seconds")).insertBefore(this.lists[this.lists.length-2].$el):r=2,i(this.createDivider("Minutes")).insertBefore(this.lists[this.lists.length-4+r].$el),i(this.createDivider("Hours")).insertBefore(this.lists[this.lists.length-6+r].$el),i(this.createDivider("Days",!0)).insertBefore(this.lists[0].$el),this.base()},flip:function(t,e){t||(t=this.factory.time.getDayCounter(this.showSeconds)),this.autoIncrement(),this.base(t,e)}})}(jQuery),function(i){FlipClock.HourlyCounterFace=FlipClock.Face.extend({constructor:function(t,e){this.base(t,e)},build:function(t,e){var n=this,r=this.factory.$el.find("ul");(e=e||this.factory.time.getHourCounter()).length>r.length&&i.each(e,function(t,e){n.createList(e)}),i(this.createDivider("Seconds")).insertBefore(this.lists[this.lists.length-2].$el),i(this.createDivider("Minutes")).insertBefore(this.lists[this.lists.length-4].$el),t||i(this.createDivider("Hours",!0)).insertBefore(this.lists[0].$el),this.base()},flip:function(t,e){t||(t=this.factory.time.getHourCounter()),this.autoIncrement(),this.base(t,e)},appendDigitToClock:function(t){this.base(t),this.dividers[0].insertAfter(this.dividers[0].next())}})}(jQuery),jQuery,FlipClock.MinuteCounterFace=FlipClock.HourlyCounterFace.extend({clearExcessDigits:!1,constructor:function(t,e){this.base(t,e)},build:function(){this.base(!0,this.factory.time.getMinuteCounter())},flip:function(t,e){t||(t=this.factory.time.getMinuteCounter()),this.base(t,e)}}),function(e){FlipClock.TwelveHourClockFace=FlipClock.TwentyFourHourClockFace.extend({meridium:!1,meridiumText:"AM",build:function(){var t=this.factory.time.getTime(!1,this.showSeconds);this.base(t),this.meridiumText=this.getMeridium(),this.meridium=e(['<ul class="flip-clock-meridium">',"<li>",'<a href="#">'+this.meridiumText+"</a>","</li>","</ul>"].join("")),this.meridium.insertAfter(this.lists[this.lists.length-1].$el)},flip:function(t,e){this.meridiumText!=this.getMeridium()&&(this.meridiumText=this.getMeridium(),this.meridium.find("a").html(this.meridiumText)),this.base(this.factory.time.getTime(!1,this.showSeconds),e)},getMeridium:function(){return 12<=(new Date).getHours()?"PM":"AM"},isPM:function(){return"PM"==this.getMeridium()},isAM:function(){return"AM"==this.getMeridium()}})}(jQuery),jQuery,FlipClock.Lang.Arabic={years:"\u0633\u0646\u0648\u0627\u062a",months:"\u0634\u0647\u0648\u0631",days:"\u0623\u064a\u0627\u0645",hours:"\u0633\u0627\u0639\u0627\u062a",minutes:"\u062f\u0642\u0627\u0626\u0642",seconds:"\u062b\u0648\u0627\u0646\u064a"},FlipClock.Lang.ar=FlipClock.Lang.Arabic,FlipClock.Lang["ar-ar"]=FlipClock.Lang.Arabic,FlipClock.Lang.arabic=FlipClock.Lang.Arabic,jQuery,FlipClock.Lang.Danish={years:"\xc5r",months:"M\xe5neder",days:"Dage",hours:"Timer",minutes:"Minutter",seconds:"Sekunder"},FlipClock.Lang.da=FlipClock.Lang.Danish,FlipClock.Lang["da-dk"]=FlipClock.Lang.Danish,FlipClock.Lang.danish=FlipClock.Lang.Danish,jQuery,FlipClock.Lang.German={years:"Jahre",months:"Monate",days:"Tage",hours:"Stunden",minutes:"Minuten",seconds:"Sekunden"},FlipClock.Lang.de=FlipClock.Lang.German,FlipClock.Lang["de-de"]=FlipClock.Lang.German,FlipClock.Lang.german=FlipClock.Lang.German,jQuery,FlipClock.Lang.English={years:"Years",months:"Months",days:"Days",hours:"Hours",minutes:"Minutes",seconds:"Seconds"},FlipClock.Lang.en=FlipClock.Lang.English,FlipClock.Lang["en-us"]=FlipClock.Lang.English,FlipClock.Lang.english=FlipClock.Lang.English,jQuery,FlipClock.Lang.Spanish={years:"A&#241;os",months:"Meses",days:"D&#205;as",hours:"Horas",minutes:"Minutos",seconds:"Segundo"},FlipClock.Lang.es=FlipClock.Lang.Spanish,FlipClock.Lang["es-es"]=FlipClock.Lang.Spanish,FlipClock.Lang.spanish=FlipClock.Lang.Spanish,jQuery,FlipClock.Lang.Finnish={years:"Vuotta",months:"Kuukautta",days:"P\xe4iv\xe4\xe4",hours:"Tuntia",minutes:"Minuuttia",seconds:"Sekuntia"},FlipClock.Lang.fi=FlipClock.Lang.Finnish,FlipClock.Lang["fi-fi"]=FlipClock.Lang.Finnish,FlipClock.Lang.finnish=FlipClock.Lang.Finnish,jQuery,FlipClock.Lang.French={years:"Ans",months:"Mois",days:"Jours",hours:"Heures",minutes:"Minutes",seconds:"Secondes"},FlipClock.Lang.fr=FlipClock.Lang.French,
FlipClock.Lang["fr-ca"]=FlipClock.Lang.French,FlipClock.Lang.french=FlipClock.Lang.French,jQuery,FlipClock.Lang.Italian={years:"Anni",months:"Mesi",days:"Giorni",hours:"Ore",minutes:"Minuti",seconds:"Secondi"},FlipClock.Lang.it=FlipClock.Lang.Italian,FlipClock.Lang["it-it"]=FlipClock.Lang.Italian,FlipClock.Lang.italian=FlipClock.Lang.Italian,jQuery,FlipClock.Lang.Latvian={years:"Gadi",months:"M\u0113ne\u0161i",days:"Dienas",hours:"Stundas",minutes:"Min\u016btes",seconds:"Sekundes"},FlipClock.Lang.lv=FlipClock.Lang.Latvian,FlipClock.Lang["lv-lv"]=FlipClock.Lang.Latvian,FlipClock.Lang.latvian=FlipClock.Lang.Latvian,jQuery,FlipClock.Lang.Dutch={years:"Jaren",months:"Maanden",days:"Dagen",hours:"Uren",minutes:"Minuten",seconds:"Seconden"},FlipClock.Lang.nl=FlipClock.Lang.Dutch,FlipClock.Lang["nl-be"]=FlipClock.Lang.Dutch,FlipClock.Lang.dutch=FlipClock.Lang.Dutch,jQuery,FlipClock.Lang.Norwegian={years:"\xc5r",months:"M\xe5neder",days:"Dager",hours:"Timer",minutes:"Minutter",seconds:"Sekunder"},FlipClock.Lang.no=FlipClock.Lang.Norwegian,FlipClock.Lang.nb=FlipClock.Lang.Norwegian,FlipClock.Lang["no-nb"]=FlipClock.Lang.Norwegian,FlipClock.Lang.norwegian=FlipClock.Lang.Norwegian,jQuery,FlipClock.Lang.Portuguese={years:"Anos",months:"Meses",days:"Dias",hours:"Horas",minutes:"Minutos",seconds:"Segundos"},FlipClock.Lang.pt=FlipClock.Lang.Portuguese,FlipClock.Lang["pt-br"]=FlipClock.Lang.Portuguese,FlipClock.Lang.portuguese=FlipClock.Lang.Portuguese,jQuery,FlipClock.Lang.Russian={years:"\u043b\u0435\u0442",months:"\u043c\u0435\u0441\u044f\u0446\u0435\u0432",days:"\u0434\u043d\u0435\u0439",hours:"\u0447\u0430\u0441\u043e\u0432",minutes:"\u043c\u0438\u043d\u0443\u0442",seconds:"\u0441\u0435\u043a\u0443\u043d\u0434"},FlipClock.Lang.ru=FlipClock.Lang.Russian,FlipClock.Lang["ru-ru"]=FlipClock.Lang.Russian,FlipClock.Lang.russian=FlipClock.Lang.Russian,jQuery,FlipClock.Lang.Swedish={years:"\xc5r",months:"M\xe5nader",days:"Dagar",hours:"Timmar",minutes:"Minuter",seconds:"Sekunder"},FlipClock.Lang.sv=FlipClock.Lang.Swedish,FlipClock.Lang["sv-se"]=FlipClock.Lang.Swedish,FlipClock.Lang.swedish=FlipClock.Lang.Swedish,function(){var t=this;(function(){(function(){this.Rails={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:{selector:"button[data-remote]:not([form]), button[data-confirm]:not([form])",exclude:"form button"},inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",formDisableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",formEnableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]"}}).call(this)}).call(t);var m=t.Rails;(function(){(function(){var r,n;n=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector,m.matches=function(t,e){return null!=e.exclude?n.call(t,e.selector)&&!n.call(t,e.exclude):n.call(t,e)},r="_ujsData",m.getData=function(t,e){var n;return null!=(n=t[r])?n[e]:void 0},m.setData=function(t,e,n){return null==t[r]&&(t[r]={}),t[r][e]=n},m.$=function(t){return Array.prototype.slice.call(document.querySelectorAll(t))}}).call(this),function(){var n,r,i;n=m.$,i=m.csrfToken=function(){var t;return(t=document.querySelector("meta[name=csrf-token]"))&&t.content},r=m.csrfParam=function(){var t;return(t=document.querySelector("meta[name=csrf-param]"))&&t.content},m.CSRFProtection=function(t){var e;if(null!=(e=i()))return t.setRequestHeader("X-CSRF-Token",e)},m.refreshCSRFTokens=function(){var t,e;if(e=i(),t=r(),null!=e&&null!=t)return n('form input[name="'+t+'"]').forEach(function(t){return t.value=e})}}.call(this),function(){var i,e,o;o=m.matches,"function"!=typeof(i=window.CustomEvent)&&((i=function(t,e){var n;return(n=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}).prototype=window.Event.prototype),e=m.fire=function(t,e,n){var r;return r=new i(e,{bubbles:!0,cancelable:!0,detail:n}),t.dispatchEvent(r),!r.defaultPrevented},m.stopEverything=function(t){return e(t.target,"ujs:everythingStopped"),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()},m.delegate=function(t,n,e,r){return t.addEventListener(e,function(t){var e;for(e=t.target;e instanceof Element&&!o(e,n);)e=e.parentNode;if(e instanceof Element&&!1===r.call(e,t))return t.preventDefault(),t.stopPropagation()})}}.call(this),function(){var e,r,t,i,o;r=m.CSRFProtection,m.fire,e={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},m.ajax=function(e){var n;return e=i(e),n=t(e,function(){var t;return t=o(n.response,n.getResponseHeader("Content-Type")),2===Math.floor(n.status/100)?"function"==typeof e.success&&e.success(t,n.statusText,n):"function"==typeof e.error&&e.error(t,n.statusText,n),"function"==typeof e.complete?e.complete(n,n.statusText):void 0}),!("function"!=typeof e.beforeSend||!e.beforeSend(n,e))&&(n.readyState===XMLHttpRequest.OPENED?n.send(e.data):void 0)},i=function(t){return t.url=t.url||location.href,t.type=t.type.toUpperCase(),"GET"===t.type&&t.data&&(t.url.indexOf("?")<0?t.url+="?"+t.data:t.url+="&"+t.data),null==e[t.dataType]&&(t.dataType="*"),t.accept=e[t.dataType],"*"!==t.dataType&&(t.accept+=", */*; q=0.01"),t},t=function(t,e){var n;return(n=new XMLHttpRequest).open(t.type,t.url,!0),n.setRequestHeader("Accept",t.accept),"string"==typeof t.data&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.crossDomain||n.setRequestHeader("X-Requested-With","XMLHttpRequest"),r(n),n.withCredentials=!!t.withCredentials,n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE)return e(n)},n},o=function(t,e){var n,r;if("string"==typeof t&&"string"==typeof e)if(e.match(/\bjson\b/))try{t=JSON.parse(t)}catch(i){}else if(e.match(/\b(?:java|ecma)script\b/))(r=document.createElement("script")).text=t,document.head.appendChild(r).parentNode.removeChild(r);else if(e.match(/\b(xml|html|svg)\b/)){n=new DOMParser,e=e.replace(/;.+/,"");try{t=n.parseFromString(t,e)}catch(i){}}return t},m.href=function(t){return t.href},m.isCrossDomain=function(t){var e,n;(e=document.createElement("a")).href=location.href,n=document.createElement("a");try{return n.href=t,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(r){return r,!0}}}.call(this),function(){var i,o;i=m.matches,o=function(t){return Array.prototype.slice.call(t)},m.serializeElement=function(t,e){var n,r;return n=[t],i(t,"form")&&(n=o(t.elements)),r=[],n.forEach(function(e){if(e.name&&!e.disabled)return i(e,"select")?o(e.options).forEach(function(t){if(t.selected)return r.push({name:e.name,value:t.value})}):e.checked||-1===["radio","checkbox","submit"].indexOf(e.type)?r.push({name:e.name,value:e.value}):void 0}),e&&r.push(e),r.map(function(t){return null!=t.name?encodeURIComponent(t.name)+"="+encodeURIComponent(t.value):t}).join("&")},m.formElements=function(t,e){return i(t,"form")?o(t.elements).filter(function(t){return i(t,e)}):o(t.querySelectorAll(e))}}.call(this),function(){var e,o,n;o=m.fire,n=m.stopEverything,m.handleConfirm=function(t){if(!e(this))return n(t)},e=function(t){var e,n,r;if(!(r=t.getAttribute("data-confirm")))return!0;if(e=!1,o(t,"confirm")){try{e=confirm(r)}catch(i){}n=o(t,"confirm:complete",[e])}return e&&n}}.call(this),function(){var n,r,i,o,a,s,e,u,c,l,f;c=m.matches,u=m.getData,l=m.setData,f=m.stopEverything,e=m.formElements,m.handleDisabledElement=function(t){if(this.disabled)return f(t)},m.enableElement=function(t){var e;return e=t instanceof Event?t.target:t,c(e,m.linkDisableSelector)?s(e):c(e,m.buttonDisableSelector)||c(e,m.formEnableSelector)?o(e):c(e,m.formSubmitSelector)?a(e):void 0},m.disableElement=function(t){var e;return e=t instanceof Event?t.target:t,c(e,m.linkDisableSelector)?i(e):c(e,m.buttonDisableSelector)||c(e,m.formDisableSelector)?n(e):c(e,m.formSubmitSelector)?r(e):void 0},i=function(t){var e;return null!=(e=t.getAttribute("data-disable-with"))&&(l(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e),t.addEventListener("click",f),l(t,"ujs:disabled",!0)},s=function(t){var e;return null!=(e=u(t,"ujs:enable-with"))&&(t.innerHTML=e,l(t,"ujs:enable-with",null)),t.removeEventListener("click",f),l(t,"ujs:disabled",null)},r=function(t){return e(t,m.formDisableSelector).forEach(n)},n=function(t){var e;return null!=(e=t.getAttribute("data-disable-with"))&&(c(t,"button")?(l(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e):(l(t,"ujs:enable-with",t.value),t.value=e)),t.disabled=!0,l(t,"ujs:disabled",!0)},a=function(t){return e(t,m.formEnableSelector).forEach(o)},o=function(t){var e;return null!=(e=u(t,"ujs:enable-with"))&&(c(t,"button")?t.innerHTML=e:t.value=e,l(t,"ujs:enable-with",null)),t.disabled=!1,l(t,"ujs:disabled",null)}}.call(this),function(){var u;u=m.stopEverything,m.handleMethod=function(t){var e,n,r,i,o,a,s;if(s=(a=this).getAttribute("data-method"))return o=m.href(a),n=m.csrfToken(),e=m.csrfParam(),r=document.createElement("form"),i="<input name='_method' value='"+s+"' type='hidden' />",null==e||null==n||m.isCrossDomain(o)||(i+="<input name='"+e+"' value='"+n+"' type='hidden' />"),i+='<input type="submit" />',r.method="post",r.action=o,r.target=a.target,r.innerHTML=i,r.style.display="none",document.body.appendChild(r),r.querySelector('[type="submit"]').click(),u(t)}}.call(this),function(){var u,c,l,f,h,d,p,g,v,y=[].slice;d=m.matches,l=m.getData,g=m.setData,c=m.fire,v=m.stopEverything,u=m.ajax,f=m.isCrossDomain,p=m.serializeElement,h=function(t){var e;return null!=(e=t.getAttribute("data-remote"))&&"false"!==e},m.handleRemote=function(t){var e,n,r,i,o,a,s;return!h(i=this)||(c(i,"ajax:before")?(s=i.getAttribute("data-with-credentials"),r=i.getAttribute("data-type")||"script",d(i,m.formSubmitSelector)?(e=l(i,"ujs:submit-button"),o=l(i,"ujs:submit-button-formmethod")||i.method,a=l(i,"ujs:submit-button-formaction")||i.getAttribute("action")||location.href,"GET"===o.toUpperCase()&&(a=a.replace(/\?.*$/,"")),"multipart/form-data"===i.enctype?(n=new FormData(i),null!=e&&n.append(e.name,e.value)):n=p(i,e),g(i,"ujs:submit-button",null),g(i,"ujs:submit-button-formmethod",null),g(i,"ujs:submit-button-formaction",null)):d(i,m.buttonClickSelector)||d(i,m.inputChangeSelector)?(o=i.getAttribute("data-method"),a=i.getAttribute("data-url"),n=p(i,i.getAttribute("data-params"))):(o=i.getAttribute("data-method"),a=m.href(i),n=i.getAttribute("data-params")),u({type:o||"GET",url:a,data:n,dataType:r,beforeSend:function(t,e){return c(i,"ajax:beforeSend",[t,e])?c(i,"ajax:send",[t]):(c(i,"ajax:stopped"),!1)},success:function(){var t;return t=1<=arguments.length?y.call(arguments,0):[],c(i,"ajax:success",t)},error:function(){var t;return t=1<=arguments.length?y.call(arguments,0):[],c(i,"ajax:error",t)},complete:function(){var t;return t=1<=arguments.length?y.call(arguments,0):[],c(i,"ajax:complete",t)},crossDomain:f(a),withCredentials:null!=s&&"false"!==s}),v(t)):(c(i,"ajax:stopped"),!1))},m.formSubmitButtonClick=function(){var t,e;if(e=(t=this).form)return t.name&&g(e,"ujs:submit-button",{name:t.name,value:t.value}),g(e,"ujs:formnovalidate-button",t.formNoValidate),g(e,"ujs:submit-button-formaction",t.getAttribute("formaction")),g(e,"ujs:submit-button-formmethod",t.getAttribute("formmethod"))},m.handleMetaClick=function(t){var e,n,r;if(r=((n=this).getAttribute("data-method")||"GET").toUpperCase(),e=n.getAttribute("data-params"),(t.metaKey||t.ctrlKey)&&"GET"===r&&!e)return t.stopImmediatePropagation()}}.call(this),function(){var t,r,e,n,i,o,a,s,u,c,l,f,h,d;o=m.fire,e=m.delegate,s=m.getData,t=m.$,d=m.refreshCSRFTokens,r=m.CSRFProtection,i=m.enableElement,n=m.disableElement,c=m.handleDisabledElement,u=m.handleConfirm,h=m.handleRemote,a=m.formSubmitButtonClick,l=m.handleMetaClick,f=m.handleMethod,"undefined"==typeof jQuery||null===jQuery||null==jQuery.ajax||jQuery.rails||(jQuery.rails=m,jQuery.ajaxPrefilter(function(t,e,n){if(!t.crossDomain)return r(n)})),m.start=function(){if(window._rails_loaded)throw new Error("rails-ujs has already been loaded!");return window.addEventListener("pageshow",function(){return t(m.formEnableSelector).forEach(function(t){if(s(t,"ujs:disabled"))return i(t)}),t(m.linkDisableSelector).forEach(function(t){if(s(t,"ujs:disabled"))return i(t)})}),e(document,m.linkDisableSelector,"ajax:complete",i),e(document,m.linkDisableSelector,"ajax:stopped",i),e(document,m.buttonDisableSelector,"ajax:complete",i),e(document,m.buttonDisableSelector,"ajax:stopped",i),e(document,m.linkClickSelector,"click",c),e(document,m.linkClickSelector,"click",u),e(document,m.linkClickSelector,"click",l),e(document,m.linkClickSelector,"click",n),e(document,m.linkClickSelector,"click",h),e(document,m.linkClickSelector,"click",f),e(document,m.buttonClickSelector,"click",c),e(document,m.buttonClickSelector,"click",u),e(document,m.buttonClickSelector,"click",n),e(document,m.buttonClickSelector,"click",h),e(document,m.inputChangeSelector,"change",c),e(document,m.inputChangeSelector,"change",u),e(document,m.inputChangeSelector,"change",h),e(document,m.formSubmitSelector,"submit",c),e(document,m.formSubmitSelector,"submit",u),e(document,m.formSubmitSelector,"submit",h),e(document,m.formSubmitSelector,"submit",function(t){return setTimeout(function(){return n(t)},13)}),e(document,m.formSubmitSelector,"ajax:send",n),e(document,m.formSubmitSelector,"ajax:complete",i),e(document,m.formInputClickSelector,"click",c),e(document,m.formInputClickSelector,"click",u),e(document,m.formInputClickSelector,"click",a),document.addEventListener("DOMContentLoaded",d),window._rails_loaded=!0},window.Rails===m&&o(document,"rails:attachBindings")&&m.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=m:"function"==typeof define&&define.amd&&define(m)}.call(this),function(){this.Turbolinks={supported:null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener,visit:function(t,e){return Turbolinks.controller.visit(t,e)},clearCache:function(){return Turbolinks.controller.clearCache()},setProgressBarDelay:function(t){return Turbolinks.controller.setProgressBarDelay(t)}}}.call(this),function(){var n,r,u,t,e,i,o,a,s,c=[].slice;Turbolinks.copyObject=function(t){var e,n,r;for(e in n={},t)r=t[e],n[e]=r;return n},Turbolinks.closest=function(t,e){return n.call(t,e)},n=null!=(s=document.documentElement.closest)?s:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&r.call(e,t))return e;e=e.parentNode}},Turbolinks.defer=function(t){return setTimeout(t,1)},Turbolinks.throttle=function(n){var r;return r=null,function(){var t,e;return t=1<=arguments.length?c.call(arguments,0):[],null!=r?r:r=requestAnimationFrame((e=this,function(){return r=null,n.apply(e,t)}))}},Turbolinks.dispatch=function(t,e){var n,r,i,o,a,s;return s=(a=null!=e?e:{}).target,n=a.cancelable,r=a.data,(i=document.createEvent("Events")).initEvent(t,!0,!0===n),i.data=null!=r?r:{},i.cancelable&&!u&&(o=i.preventDefault,i.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),o.call(this)}),(null!=s?s:document).dispatchEvent(i),i},(a=document.createEvent("Events")).initEvent("test",!0,!0),a.preventDefault(),u=a.defaultPrevented,Turbolinks.match=function(t,e){return r.call(t,e)},r=null!=(e=null!=(i=null!=(o=(t=document.documentElement).matchesSelector)?o:t.webkitMatchesSelector)?i:t.msMatchesSelector)?e:t.mozMatchesSelector,Turbolinks.uuid=function(){var t,e,n;for(n="",t=e=1;e<=36;t=++e)n+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}.call(this),function(){Turbolinks.Location=function(){function t(t){var e,n;null==t&&(t=""),(n=document.createElement("a")).href=t.toString(),this.absoluteURL=n.href,(e=n.hash.length)<2?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=n.hash.slice(1))}var e,n,r,i;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=n(t),this.isEqualTo(t)||i(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},n=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return r(t,"/")?t:t+"/"},i=function(t,e){return t.slice(0,e.length)===e},r=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var r=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.HttpRequest=function(){function t(t,e,n){this.delegate=t,this.requestCanceled=r(this.requestCanceled,this),this.requestTimedOut=r(this.requestTimedOut,this),this.requestFailed=r(this.requestFailed,this),this.requestLoaded=r(this.requestLoaded,this),this.requestProgressed=r(this.requestProgressed,this),this.url=Turbolinks.Location.wrap(e).requestURL,this.referrer=Turbolinks.Location.wrap(n).absoluteURL,this.createXHR()}return t.NETWORK_FAILURE=0,t.TIMEOUT_FAILURE=-1,t.timeout=60,t.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},t.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},t.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},t.prototype.requestLoaded=function(){return this.endRequest((e=this,function(){var t;return 200<=(t=e.xhr.status)&&t<300?e.delegate.requestCompletedWithResponse(e.xhr.responseText,e.xhr.getResponseHeader("Turbolinks-Location")):(e.failed=!0,e.delegate.requestFailedWithStatusCode(e.xhr.status,e.xhr.responseText))}));var e},t.prototype.requestFailed=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}));var t},t.prototype.requestTimedOut=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}));var t},t.prototype.requestCanceled=function(){return this.endRequest()},t.prototype.notifyApplicationBeforeRequestStart=function(){return Turbolinks.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},t.prototype.notifyApplicationAfterRequestEnd=function(){return Turbolinks.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},t.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},t.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},t.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},t.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},t}()}.call(this),function(){var n=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.ProgressBar=function(){function t(){this.trickle=n(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var e;return e=300,t.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+e+"ms ease-out, opacity "+e/2+"ms "+e/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",t.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement((t=this,function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}))):void 0;var t},t.prototype.setValue=function(t){return this.value=t,this.refresh()},t.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*e)},t.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},t.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,e)},t.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},t.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},t.prototype.refresh=function(){return requestAnimationFrame((t=this,function(){return t.progressElement.style.width=10+90*t.value+"%"}));var t},t.prototype.createStylesheetElement=function(){var t;return(t=document.createElement("style")).type="text/css",t.textContent=this.constructor.defaultCSS,t},t.prototype.createProgressElement=function(){var t;return(t=document.createElement("div")).className="turbolinks-progress-bar",t},t}()}.call(this),function(){var i=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.BrowserAdapter=function(){function t(t){this.controller=t,this.showProgressBar=i(this.showProgressBar,this),this.progressBar=new Turbolinks.ProgressBar}var n,r,e;return e=Turbolinks.HttpRequest,n=e.NETWORK_FAILURE,r=e.TIMEOUT_FAILURE,t.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},t.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},t.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},t.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},t.prototype.visitRequestCompleted=function(t){return t.loadResponse()},t.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case n:case r:return this.reload();default:return t.loadResponse()}},t.prototype.visitRequestFinished=function(){return this.hideProgressBar()},t.prototype.visitCompleted=function(t){return t.followRedirect()},t.prototype.pageInvalidated=function(){return this.reload()},t.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},t.prototype.showProgressBar=function(){return this.progressBar.show()},t.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},t.prototype.reload=function(){return window.location.reload()},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.History=function(){function t(t){this.delegate=t,this.onPageLoad=e(this.onPageLoad,this),this.onPopState=e(this.onPopState,this)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},t.prototype.push=function(t,e){return t=Turbolinks.Location.wrap(t),this.update("push",t,e)},t.prototype.replace=function(t,e){return t=Turbolinks.Location.wrap(t),this.update("replace",t,e)},t.prototype.onPopState=function(t){var e,n,r,i;return this.shouldHandlePopState()&&(i=null!=(n=t.state)?n.turbolinks:void 0)?(e=Turbolinks.Location.wrap(window.location),r=i.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(e,r)):void 0},t.prototype.onPageLoad=function(){return Turbolinks.defer((t=this,function(){return t.pageLoaded=!0}));var t},t.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},t.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},t.prototype.update=function(t,e,n){var r;return r={turbolinks:{restorationIdentifier:n}},history[t+"State"](r,null,e)},t}()}.call(this),function(){Turbolinks.Snapshot=function(){function t(t){var e,n;n=t.head,e=t.body,this.head=null!=n?n:document.createElement("head"),this.body=null!=e?e:document.createElement("body")}return t.wrap=function(t){return t instanceof this?t:this.fromHTML(t)},t.fromHTML=function(t){var e;return(e=document.createElement("html")).innerHTML=t,this.fromElement(e)},t.fromElement=function(t){return new this({head:t.querySelector("head"),body:t.querySelector("body")})},t.prototype.clone=function(){return new t({head:this.head.cloneNode(!0),body:this.body.cloneNode(!0)})},t.prototype.getRootLocation=function(){var t,e;return e=null!=(t=this.getSetting("root"))?t:"/",new Turbolinks.Location(e)},t.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},t.prototype.getElementForAnchor=function(t){try{return this.body.querySelector("[id='"+t+"'], a[name='"+t+"']")}catch(e){}},t.prototype.hasAnchor=function(t){return null!=this.getElementForAnchor(t)},t.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},t.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},t.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},t.prototype.getSetting=function(t){var e,n;return null!=(e=(n=this.head.querySelectorAll("meta[name='turbolinks-"+t+"']"))[n.length-1])?e.getAttribute("content"):void 0},t}()}.call(this),function(){var o=[].slice;Turbolinks.Renderer=function(){function t(){}var n;return t.render=function(t,e){var n,r,i;return r=t,n=e,(i=function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(this,3<=arguments.length?o.call(arguments,2):[],function(){})).delegate=r,i.render(n),i},t.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:((e=document.createElement("script")).textContent=t.textContent,e.async=!1,n(e,t),e)},n=function(t,e){var n,r,i,o,a,s,u;for(s=[],n=0,r=(o=e.attributes).length;n<r;n++)i=(a=o[n]).name,u=a.value,s.push(t.setAttribute(i,u));return s},t}()}.call(this),function(){Turbolinks.HeadDetails=function(){function t(t){var e,n,r,i,o,a;for(this.element=t,this.elements={},r=0,o=(a=this.element.childNodes).length;r<o;r++)(n=a[r]).nodeType===Node.ELEMENT_NODE&&(i=n.outerHTML,(null!=(e=this.elements)[i]?e[i]:e[i]={type:u(n),tracked:s(n),elements:[]}).elements.push(n))}var e,n,s,u;return t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var n;return function(){var t,e;for(n in e=[],t=this.elements)t[n].tracked&&e.push(n);return e}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var n,r,i,o,a,s;for(r in a=[],i=this.elements)s=(o=i[r]).type,n=o.elements,s!==t||e.hasElementWithKey(r)||a.push(n[0]);return a},t.prototype.getProvisionalElements=function(){var t,e,n,r,i,o,a;for(e in n=[],r=this.elements)a=(i=r[e]).type,o=i.tracked,t=i.elements,null!=a||o?1<t.length&&n.push.apply(n,t.slice(1)):n.push.apply(n,t);return n},u=function(t){return e(t)?"script":n(t)?"stylesheet":void 0},s=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},e=function(t){return"script"===t.tagName.toLowerCase()},n=function(t){var e;return"style"===(e=t.tagName.toLowerCase())||"link"===e&&"stylesheet"===t.getAttribute("rel")},t}()}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Turbolinks.SnapshotRenderer=function(t){function e(t,e,n){this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=n,this.currentHeadDetails=new Turbolinks.HeadDetails(this.currentSnapshot.head),this.newHeadDetails=new Turbolinks.HeadDetails(this.newSnapshot.head),this.newBody=this.newSnapshot.body}return n(e,t),e.prototype.render=function(t){return this.shouldRender()?(this.mergeHead(),this.renderView((e=this,function(){return e.replaceBody(),e.isPreview||e.focusFirstAutofocusableElement(),t()}))):this.invalidateView();var e},e.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},e.prototype.replaceBody=function(){return this.activateBodyScriptElements(),this.importBodyPermanentElements(),this.assignNewBody()},e.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},e.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},e.prototype.copyNewHeadStylesheetElements=function(){var t,e,n,r,i;for(i=[],e=0,n=(r=this.getNewHeadStylesheetElements()).length;e<n;e++)t=r[e],i.push(document.head.appendChild(t));return i},e.prototype.copyNewHeadScriptElements=function(){var t,e,n,r,i;for(i=[],e=0,n=(r=this.getNewHeadScriptElements()).length;e<n;e++)t=r[e],i.push(document.head.appendChild(this.createScriptElement(t)));return i},e.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,n,r,i;for(i=[],e=0,n=(r=this.getCurrentHeadProvisionalElements()).length;e<n;e++)t=r[e],i.push(document.head.removeChild(t));return i},e.prototype.copyNewHeadProvisionalElements=function(){var t,e,n,r,i;for(i=[],e=0,n=(r=this.getNewHeadProvisionalElements()).length;e<n;e++)t=r[e],i.push(document.head.appendChild(t));return i},
e.prototype.importBodyPermanentElements=function(){var t,e,n,r,i,o;for(o=[],e=0,n=(r=this.getNewBodyPermanentElements()).length;e<n;e++)i=r[e],(t=this.findCurrentBodyPermanentElement(i))?o.push(i.parentNode.replaceChild(t,i)):o.push(void 0);return o},e.prototype.activateBodyScriptElements=function(){var t,e,n,r,i,o;for(o=[],e=0,n=(r=this.getNewBodyScriptElements()).length;e<n;e++)i=r[e],t=this.createScriptElement(i),o.push(i.parentNode.replaceChild(t,i));return o},e.prototype.assignNewBody=function(){return document.body=this.newBody},e.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.findFirstAutofocusableElement())?t.focus():void 0},e.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},e.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},e.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},e.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},e.prototype.getNewBodyPermanentElements=function(){return this.newBody.querySelectorAll("[id][data-turbolinks-permanent]")},e.prototype.findCurrentBodyPermanentElement=function(t){return document.body.querySelector("#"+t.id+"[data-turbolinks-permanent]")},e.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},e.prototype.findFirstAutofocusableElement=function(){return document.body.querySelector("[autofocus]")},e}(Turbolinks.Renderer)}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;Turbolinks.ErrorRenderer=function(t){function e(t){this.html=t}return n(e,t),e.prototype.render=function(t){return this.renderView((e=this,function(){return e.replaceDocumentHTML(),e.activateBodyScriptElements(),t()}));var e},e.prototype.replaceDocumentHTML=function(){return document.documentElement.innerHTML=this.html},e.prototype.activateBodyScriptElements=function(){var t,e,n,r,i,o;for(o=[],e=0,n=(r=this.getScriptElements()).length;e<n;e++)i=r[e],t=this.createScriptElement(i),o.push(i.parentNode.replaceChild(t,i));return o},e.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},e}(Turbolinks.Renderer)}.call(this),function(){Turbolinks.View=function(){function t(t){this.delegate=t,this.element=document.documentElement}return t.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},t.prototype.getElementForAnchor=function(t){return this.getSnapshot().getElementForAnchor(t)},t.prototype.getSnapshot=function(){return Turbolinks.Snapshot.fromElement(this.element)},t.prototype.render=function(t,e){var n,r,i;return i=t.snapshot,n=t.error,r=t.isPreview,this.markAsPreview(r),null!=i?this.renderSnapshot(i,r,e):this.renderError(n,e)},t.prototype.markAsPreview=function(t){return t?this.element.setAttribute("data-turbolinks-preview",""):this.element.removeAttribute("data-turbolinks-preview")},t.prototype.renderSnapshot=function(t,e,n){return Turbolinks.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),Turbolinks.Snapshot.wrap(t),e)},t.prototype.renderError=function(t,e){return Turbolinks.ErrorRenderer.render(this.delegate,e,t)},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.ScrollManager=function(){function t(t){this.delegate=t,this.onScroll=e(this.onScroll,this),this.onScroll=Turbolinks.throttle(this.onScroll)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},t.prototype.scrollToElement=function(t){return t.scrollIntoView()},t.prototype.scrollToPosition=function(t){var e,n;return e=t.x,n=t.y,window.scrollTo(e,n)},t.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},t.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},t}()}.call(this),function(){Turbolinks.SnapshotCache=function(){function t(t){this.size=t,this.keys=[],this.snapshots={}}var r;return t.prototype.has=function(t){return r(t)in this.snapshots},t.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},t.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},t.prototype.read=function(t){var e;return e=r(t),this.snapshots[e]},t.prototype.write=function(t,e){var n;return n=r(t),this.snapshots[n]=e},t.prototype.touch=function(t){var e,n;return n=r(t),-1<(e=this.keys.indexOf(n))&&this.keys.splice(e,1),this.keys.unshift(n),this.trim()},t.prototype.trim=function(){var t,e,n,r,i;for(i=[],t=0,n=(r=this.keys.splice(this.size)).length;t<n;t++)e=r[t],i.push(delete this.snapshots[e]);return i},r=function(t){return Turbolinks.Location.wrap(t).toCacheKey()},t}()}.call(this),function(){var r=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.Visit=function(){function t(t,e,n){this.controller=t,this.action=n,this.performScroll=r(this.performScroll,this),this.identifier=Turbolinks.uuid(),this.location=Turbolinks.Location.wrap(e),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var n;return t.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},t.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},t.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},t.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},t.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,e=n(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},t.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new Turbolinks.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},t.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},t.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},t.prototype.loadCachedSnapshot=function(){var e,n;return(n=this.getCachedSnapshot())?(e=this.shouldIssueRequest(),this.render(function(){var t;return this.cacheSnapshot(),this.controller.render({snapshot:n,isPreview:e},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),e?void 0:this.complete()})):void 0},t.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},t.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},t.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},t.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},t.prototype.requestCompletedWithResponse=function(t,e){return this.response=t,null!=e&&(this.redirectedToLocation=Turbolinks.Location.wrap(e)),this.adapter.visitRequestCompleted(this)},t.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},t.prototype.requestFinished=function(){var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},t.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},t.prototype.scrollToRestoredPosition=function(){var t,e;return null!=(t=null!=(e=this.restorationData)?e.scrollPosition:void 0)?(this.controller.scrollToPosition(t),!0):void 0},t.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},t.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},t.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},t.prototype.getTimingMetrics=function(){return Turbolinks.copyObject(this.timingMetrics)},n=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},t.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},t.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},t.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame((e=this,function(){return e.frame=null,t.call(e)}));var e},t.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.Controller=function(){function t(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new Turbolinks.History(this),this.view=new Turbolinks.View(this),this.scrollManager=new Turbolinks.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return t.prototype.start=function(){return Turbolinks.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},t.prototype.clearCache=function(){return this.cache=new Turbolinks.SnapshotCache(10)},t.prototype.visit=function(t,e){var n,r;return null==e&&(e={}),t=Turbolinks.Location.wrap(t),this.applicationAllowsVisitingLocation(t)?this.locationIsVisitable(t)?(n=null!=(r=e.action)?r:"advance",this.adapter.visitProposedToLocationWithAction(t,n)):window.location=t:void 0},t.prototype.startVisitToLocationWithAction=function(t,e,n){var r;return Turbolinks.supported?(r=this.getRestorationDataForIdentifier(n),this.startVisit(t,e,{restorationData:r})):window.location=t},t.prototype.setProgressBarDelay=function(t){return this.progressBarDelay=t},t.prototype.startHistory=function(){return this.location=Turbolinks.Location.wrap(window.location),this.restorationIdentifier=Turbolinks.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.stopHistory=function(){return this.history.stop()},t.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=Turbolinks.Location.wrap(t),this.history.push(this.location,this.restorationIdentifier)},t.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=Turbolinks.Location.wrap(t),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.historyPoppedToLocationWithRestorationIdentifier=function(t,e){var n;return this.restorationIdentifier=e,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(t,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=Turbolinks.Location.wrap(t)):this.adapter.pageInvalidated()},t.prototype.getCachedSnapshotForLocation=function(t){var e;return(e=this.cache.get(t))?e.clone():void 0},t.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},t.prototype.cacheSnapshot=function(){var t;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),t=this.view.getSnapshot(),this.cache.put(this.lastRenderedLocation,t.clone())):void 0},t.prototype.scrollToAnchor=function(t){var e;return(e=this.view.getElementForAnchor(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},t.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},t.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},t.prototype.scrollPositionChanged=function(t){return this.getCurrentRestorationData().scrollPosition=t},t.prototype.render=function(t,e){return this.view.render(t,e)},t.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},t.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},t.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},t.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},t.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},t.prototype.clickBubbled=function(t){var e,n,r;return this.enabled&&this.clickEventIsSignificant(t)&&(n=this.getVisitableLinkForNode(t.target))&&(r=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,r)?(t.preventDefault(),e=this.getActionForLink(n),this.visit(r,{action:e})):void 0},t.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){return!this.notifyApplicationAfterClickingLinkToLocation(t,e).defaultPrevented},t.prototype.applicationAllowsVisitingLocation=function(t){return!this.notifyApplicationBeforeVisitingLocation(t).defaultPrevented},t.prototype.notifyApplicationAfterClickingLinkToLocation=function(t,e){return Turbolinks.dispatch("turbolinks:click",{target:t,data:{url:e.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationBeforeVisitingLocation=function(t){return Turbolinks.dispatch("turbolinks:before-visit",{data:{url:t.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationAfterVisitingLocation=function(t){return Turbolinks.dispatch("turbolinks:visit",{data:{url:t.absoluteURL}})},t.prototype.notifyApplicationBeforeCachingSnapshot=function(){return Turbolinks.dispatch("turbolinks:before-cache")},t.prototype.notifyApplicationBeforeRender=function(t){return Turbolinks.dispatch("turbolinks:before-render",{data:{newBody:t}})},t.prototype.notifyApplicationAfterRender=function(){return Turbolinks.dispatch("turbolinks:render")},t.prototype.notifyApplicationAfterPageLoad=function(t){return null==t&&(t={}),Turbolinks.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:t}})},t.prototype.startVisit=function(t,e,n){var r;return null!=(r=this.currentVisit)&&r.cancel(),this.currentVisit=this.createVisit(t,e,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},t.prototype.createVisit=function(t,e,n){var r,i,o,a,s;return a=(i=null!=n?n:{}).restorationIdentifier,o=i.restorationData,r=i.historyChanged,(s=new Turbolinks.Visit(this,t,e)).restorationIdentifier=null!=a?a:Turbolinks.uuid(),s.restorationData=Turbolinks.copyObject(o),s.historyChanged=r,s.referrer=this.location,s},t.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},t.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||1<t.which||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},t.prototype.getVisitableLinkForNode=function(t){return this.nodeIsVisitable(t)?Turbolinks.closest(t,"a[href]:not([target]):not([download])"):void 0},t.prototype.getVisitableLocationForLink=function(t){var e;return e=new Turbolinks.Location(t.getAttribute("href")),this.locationIsVisitable(e)?e:void 0},t.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},t.prototype.nodeIsVisitable=function(t){var e;return!(e=Turbolinks.closest(t,"[data-turbolinks]"))||"false"!==e.getAttribute("data-turbolinks")},t.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},t.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},t.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},t}()}.call(this),function(){!function(){var t,e;if((t=e=document.currentScript)&&!e.hasAttribute("data-turbolinks-suppress-warning"))for(;t=t.parentNode;)if(t===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\u2014\u2014\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",e.outerHTML)}()}.call(this),function(){var t,e,n;Turbolinks.start=function(){return e()?(null==Turbolinks.controller&&(Turbolinks.controller=t()),Turbolinks.controller.start()):void 0},e=function(){return null==window.Turbolinks&&(window.Turbolinks=Turbolinks),n()},t=function(){var t;return(t=new Turbolinks.Controller).adapter=new Turbolinks.BrowserAdapter(t),t},(n=function(){return window.Turbolinks===Turbolinks})()&&Turbolinks.start()}.call(this),(Base=function(){}).extend=function(t,e){"use strict";var n=Base.prototype.extend;Base._prototyping=!0;var r=new this;n.call(r,t),r.base=function(){},delete Base._prototyping;var i=r.constructor,o=r.constructor=function(t){if(!Base._prototyping)if(this._constructing||this.constructor==o)this._constructing=!0,i.apply(this,arguments),delete this._constructing;else if(null!==t)return(t.extend||n).call(t,r)};return o.ancestor=this,o.extend=this.extend,o.forEach=this.forEach,o.implement=this.implement,o.prototype=r,o.toString=this.toString,o.valueOf=function(t){return"object"==t?o:i.valueOf()},n.call(o,e),"function"==typeof o.init&&o.init(),o},Base.prototype={extend:function(t,e){if(1<arguments.length){var n=this[t];if(n&&"function"==typeof e&&(!n.valueOf||n.valueOf()!=e.valueOf())&&/\bbase\b/.test(e)){var r=e.valueOf();(e=function(){var t=this.base||Base.prototype.base;this.base=n;var e=r.apply(this,arguments);return this.base=t,e}).valueOf=function(t){return"object"==t?e:r},e.toString=Base.toString}this[t]=e}else if(t){var i=Base.prototype.extend;Base._prototyping||"function"==typeof this||(i=this.extend||i);for(var o={toSource:null},a=["constructor","toString","valueOf"],s=Base._prototyping?0:1;u=a[s++];)t[u]!=o[u]&&i.call(this,u,t[u]);for(var u in t)o[u]||i.call(this,u,t[u])}return this}},Base=Base.extend({constructor:function(t){this.extend(t)}},{ancestor:Object,version:"1.1",forEach:function(t,e,n){for(var r in t)this.prototype[r]===undefined&&e.call(n,t[r],r,t)},implement:function(){for(var t=0;t<arguments.length;t++)"function"==typeof arguments[t]?arguments[t](this.prototype):this.prototype.extend(arguments[t]);return this},toString:function(){return String(this.valueOf())}}),function(){}.call(this),function(){var t=this;(function(){(function(){var n=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},WebSocket:window.WebSocket,logger:window.console,createConsumer:function(t){var e;return null==t&&(t=null!=(e=this.getConfig("url"))?e:this.INTERNAL.default_mount_path),new u.Consumer(this.createWebSocketURL(t))},getConfig:function(t){var e;return null!=(e=document.head.querySelector("meta[name='action-cable-"+t+"']"))?e.getAttribute("content"):void 0},createWebSocketURL:function(t){var e;return t&&!/^wss?:/i.test(t)?((e=document.createElement("a")).href=t,e.href=e.href,e.protocol=e.protocol.replace("http","ws"),e.href):t},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var t,e;if(t=1<=arguments.length?n.call(arguments,0):[],this.debugging)return t.push(Date.now()),(e=this.logger).log.apply(e,["[ActionCable]"].concat(n.call(t)))}}}).call(this)}).call(t);var u=t.ActionCable;(function(){(function(){var r=function(t,e){return function(){return t.apply(e,arguments)}};u.ConnectionMonitor=function(){function t(t){this.connection=t,this.visibilityDidChange=r(this.visibilityDidChange,this),this.reconnectAttempts=0}var i,e,n;return t.pollInterval={min:3,max:30},t.staleThreshold=6,t.prototype.start=function(){if(!this.isRunning())return this.startedAt=e(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),u.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms")},t.prototype.stop=function(){if(this.isRunning())return this.stoppedAt=e(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),u.log("ConnectionMonitor stopped")},t.prototype.isRunning=function(){return null!=this.startedAt&&null==this.stoppedAt},t.prototype.recordPing=function(){return this.pingedAt=e()},t.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,u.log("ConnectionMonitor recorded connect")},t.prototype.recordDisconnect=function(){return this.disconnectedAt=e(),u.log("ConnectionMonitor recorded disconnect")},t.prototype.startPolling=function(){return this.stopPolling(),this.poll()},t.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},t.prototype.poll=function(){return this.pollTimeout=setTimeout((t=this,function(){return t.reconnectIfStale(),t.poll()}),this.getPollInterval());var t},t.prototype.getPollInterval=function(){var t,e,n,r;return n=(r=this.constructor.pollInterval).min,e=r.max,t=5*Math.log(this.reconnectAttempts+1),Math.round(1e3*i(t,n,e))},t.prototype.reconnectIfStale=function(){if(this.connectionIsStale())return u.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+n(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?u.log("ConnectionMonitor skipping reopening recent disconnect"):(u.log("ConnectionMonitor reopening"),this.connection.reopen())},t.prototype.connectionIsStale=function(){var t;return n(null!=(t=this.pingedAt)?t:this.startedAt)>this.constructor.staleThreshold},t.prototype.disconnectedRecently=function(){return this.disconnectedAt&&n(this.disconnectedAt)<this.constructor.staleThreshold},t.prototype.visibilityDidChange=function(){if("visible"===document.visibilityState)return setTimeout((t=this,function(){if(t.connectionIsStale()||!t.connection.isOpen())return u.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),t.connection.reopen()}),200);var t},e=function(){return(new Date).getTime()},n=function(t){return(e()-t)/1e3},i=function(t,e,n){return Math.max(e,Math.min(n,t))},t}()}).call(this),function(){var t,i,e,n,r,o=[].slice,a=function(t,e){return function(){return t.apply(e,arguments)}},s=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};n=u.INTERNAL,i=n.message_types,e=n.protocols,r=2<=e.length?o.call(e,0,t=e.length-1):(t=0,[]),e[t++],u.Connection=function(){function t(t){this.consumer=t,this.open=a(this.open,this),this.subscriptions=this.consumer.subscriptions,this.monitor=new u.ConnectionMonitor(this),this.disconnected=!0}return t.reopenDelay=500,t.prototype.send=function(t){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(t)),!0)},t.prototype.open=function(){return this.isActive()?(u.log("Attempted to open WebSocket, but existing socket is "+this.getState()),!1):(u.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+e),null!=this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new u.WebSocket(this.consumer.url,e),this.installEventHandlers(),this.monitor.start(),!0)},t.prototype.close=function(t){var e;if((null!=t?t:{allowReconnect:!0}).allowReconnect||this.monitor.stop(),this.isActive())return null!=(e=this.webSocket)?e.close():void 0},t.prototype.reopen=function(){var t;if(u.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(e){return t=e,u.log("Failed to reopen WebSocket",t)}finally{u.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},t.prototype.getProtocol=function(){var t;return null!=(t=this.webSocket)?t.protocol:void 0},t.prototype.isOpen=function(){return this.isState("open")},t.prototype.isActive=function(){return this.isState("open","connecting")},t.prototype.isProtocolSupported=function(){var t;return t=this.getProtocol(),0<=s.call(r,t)},t.prototype.isState=function(){var t,e;return e=1<=arguments.length?o.call(arguments,0):[],t=this.getState(),0<=s.call(e,t)},t.prototype.getState=function(){var t,e;for(e in WebSocket)if(WebSocket[e]===(null!=(t=this.webSocket)?t.readyState:void 0))return e.toLowerCase();return null},t.prototype.installEventHandlers=function(){var t,e;for(t in this.events)e=this.events[t].bind(this),this.webSocket["on"+t]=e},t.prototype.uninstallEventHandlers=function(){var t;for(t in this.events)this.webSocket["on"+t]=function(){}},t.prototype.events={message:function(t){var e,n,r;if(this.isProtocolSupported())switch(e=(r=JSON.parse(t.data)).identifier,n=r.message,r.type){case i.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case i.ping:return this.monitor.recordPing();case i.confirmation:return this.subscriptions.notify(e,"connected");case i.rejection:return this.subscriptions.reject(e);default:return this.subscriptions.notify(e,"received",n)}},open:function(){if(u.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return u.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(){if(u.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){return u.log("WebSocket onerror event")}},t}()}.call(this),function(){var c=[].slice;u.Subscriptions=function(){function t(t){this.consumer=t,this.subscriptions=[]}return t.prototype.create=function(t,e){var n,r,i;return r="object"==typeof(n=t)?n:{channel:n},i=new u.Subscription(this.consumer,r,e),this.add(i)},t.prototype.add=function(t){return this.subscriptions.push(t),this.consumer.ensureActiveConnection(),this.notify(t,"initialized"),this.sendCommand(t,"subscribe"),t},t.prototype.remove=function(t){return this.forget(t),this.findAll(t.identifier).length||this.sendCommand(t,"unsubscribe"),t},t.prototype.reject=function(t){var e,n,r,i,o;for(i=[],e=0,n=(r=this.findAll(t)).length;e<n;e++)o=r[e],this.forget(o),this.notify(o,"rejected"),i.push(o);return i},t.prototype.forget=function(i){var o;return this.subscriptions=function(){var t,e,n,r;for(r=[],t=0,e=(n=this.subscriptions).length;t<e;t++)(o=n[t])!==i&&r.push(o);return r}.call(this),i},t.prototype.findAll=function(t){var e,n,r,i,o;for(i=[],e=0,n=(r=this.subscriptions).length;e<n;e++)(o=r[e]).identifier===t&&i.push(o);return i},t.prototype.reload=function(){var t,e,n,r,i;for(r=[],t=0,e=(n=this.subscriptions).length;t<e;t++)i=n[t],r.push(this.sendCommand(i,"subscribe"));return r},t.prototype.notifyAll=function(t){var e,n,r,i,o,a,s;for(n=t,e=2<=arguments.length?c.call(arguments,1):[],a=[],r=0,i=(o=this.subscriptions).length;r<i;r++)s=o[r],a.push(this.notify.apply(this,[s,n].concat(c.call(e))));return a},t.prototype.notify=function(t,e){var n,r,i,o,a,s,u;for(s=t,r=e,n=3<=arguments.length?c.call(arguments,2):[],a=[],i=0,o=(u="string"==typeof s?this.findAll(s):[s]).length;i<o;i++)s=u[i],a.push("function"==typeof s[r]?s[r].apply(s,n):void 0);return a},t.prototype.sendCommand=function(t,e){var n;return n=t.identifier,this.consumer.send({command:e,identifier:n})},t}()}.call(this),function(){u.Subscription=function(){function t(t,e,n){this.consumer=t,null==e&&(e={}),this.identifier=JSON.stringify(e),r(this,n)}var r;return t.prototype.perform=function(t,e){return null==e&&(e={}),e.action=t,this.send(e)},t.prototype.send=function(t){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(t)})},t.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},r=function(t,e){var n,r;if(null!=e)for(n in e)r=e[n],t[n]=r;return t},t}()}.call(this),function(){u.Consumer=function(){function t(t){this.url=t,this.subscriptions=new u.Subscriptions(this),this.connection=new u.Connection(this)}return t.prototype.send=function(t){return this.connection.send(t)},t.prototype.connect=function(){return this.connection.open()},t.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},t.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},t}()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=u:"function"==typeof define&&define.amd&&define(u)}.call(this),function(){this.App||(this.App={}),App.cable=ActionCable.createConsumer()}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){function s(t){return t&&(t.ownerDocument||t.document||t).documentElement}function R(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function a(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function c(t){return null===t?NaN:+t}function l(t){return!isNaN(t)}function t(o){return{left:function(t,e,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=t.length);n<r;){var i=n+r>>>1;o(t[i],e)<0?n=i+1:r=i}return n},right:function(t,e,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=t.length);n<r;){var i=n+r>>>1;0<o(t[i],e)?r=i:n=i+1}return n}}}function u(t){return t.length}function f(t){for(var e=1;t*e%1;)e*=10;return e}function e(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function m(){this._=Object.create(null)}function n(t){return(t+="")===xa||t[0]===_a?_a+t:t}function r(t){return(t+="")[0]===_a?t.slice(1):t}function i(t){return n(t)in this._}function o(t){return(t=n(t))in this._&&delete this._[t]}function h(){var t=[];for(var e in this._)t.push(r(e));return t}function d(){var t=0;for(var e in this._)++t;return t}function p(){for(var t in this._)return!1;return!0}function g(){this._=Object.create(null)}function I(t){
return t}function v(e,n,r){return function(){var t=r.apply(n,arguments);return t===n?e:t}}function y(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=ba.length;n<r;++n){var i=ba[n]+e;if(i in t)return i}}function _(){}function x(){}function b(i){function t(){for(var t,e=o,n=-1,r=e.length;++n<r;)(t=e[n].on)&&t.apply(this,arguments);return i}var o=[],a=new m;return t.on=function(t,e){var n,r=a.get(t);return arguments.length<2?r&&r.on:(r&&(r.on=null,o=o.slice(0,n=o.indexOf(r)).concat(o.slice(n+1)),a.remove(t)),e&&o.push(a.set(t,{on:e})),i)},t}function O(){ua.event.preventDefault()}function w(){for(var t,e=ua.event;t=e.sourceEvent;)e=t;return e}function F(i){for(var o=new x,t=0,e=arguments.length;++t<e;)o[arguments[t]]=b(o);return o.of=function(n,r){return function(t){try{var e=t.sourceEvent=ua.event;t.target=i,ua.event=t,o[t.type].apply(n,r)}finally{ua.event=e}}},o}function S(t){return Sa(t,Aa),t}function T(t){return"function"==typeof t?t:function(){return Ta(t,this)}}function M(t){return"function"==typeof t?t:function(){return Ma(t,this)}}function C(e,n){function t(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,n)}function o(){this.setAttributeNS(e.space,e.local,n)}function a(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}function s(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}return e=ua.ns.qualify(e),null==n?e.local?r:t:"function"==typeof n?e.local?s:a:e.local?o:i}function A(t){return t.trim().replace(/\s+/g," ")}function k(t){return new RegExp("(?:^|\\s+)"+ua.requote(t)+"(?:\\s+|$)","g")}function E(t){return(t+"").trim().split(/^|\s+/)}function L(n,r){function t(){for(var t=-1;++t<i;)n[t](this,r)}function e(){for(var t=-1,e=r.apply(this,arguments);++t<i;)n[t](this,e)}var i=(n=E(n).map(P)).length;return"function"==typeof r?e:t}function P(r){var i=k(r);return function(t,e){if(n=t.classList)return e?n.add(r):n.remove(r);var n=t.getAttribute("class")||"";e?(i.lastIndex=0,i.test(n)||t.setAttribute("class",A(n+" "+r))):t.setAttribute("class",A(n.replace(i," ")))}}function N(e,n,r){function t(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,n,r)}function o(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}return null==n?t:"function"==typeof n?o:i}function D(e,n){function t(){delete this[e]}function r(){this[e]=n}function i(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}return null==n?t:"function"==typeof n?i:r}function V(n){function t(){var t=this.ownerDocument,e=this.namespaceURI;return e===ka&&t.documentElement.namespaceURI===ka?t.createElement(n):t.createElementNS(e,n)}function e(){return this.ownerDocument.createElementNS(n.space,n.local)}return"function"==typeof n?n:(n=ua.ns.qualify(n)).local?e:t}function G(){var t=this.parentNode;t&&t.removeChild(this)}function z(t){return{__data__:t}}function j(t){return function(){return Ca(this,t)}}function H(n){return arguments.length||(n=a),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function q(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,o=t[n],a=0,s=o.length;a<s;a++)(i=o[a])&&e(i,a,n);return t}function B(t){return Sa(t,La),t}function U(a){var s,u;return function(t,e,n){var r,i=a[n].update,o=i.length;for(n!=u&&(u=n,s=0),s<=e&&(s=e+1);!(r=i[s])&&++s<o;);return r}}function X(i,e,n){function r(){var t=this[a];t&&(this.removeEventListener(i,t,t.$),delete this[a])}function t(){var t=u(e,la(arguments));r.call(this),this.addEventListener(i,this[a]=t,t.$=n),t._=e}function o(){var t,e=new RegExp("^__on([^.]+)"+ua.requote(i)+"$");for(var n in this)if(t=n.match(e)){var r=this[n];this.removeEventListener(t[1],r,r.$),delete this[n]}}var a="__on"+i,s=i.indexOf("."),u=$;0<s&&(i=i.slice(0,s));var c=Pa.get(i);return c&&(i=c,u=Y),s?e?t:r:e?_:o}function $(n,r){return function(t){var e=ua.event;ua.event=t,r[0]=this.__data__;try{n.apply(this,r)}finally{ua.event=e}}}function Y(t,e){var r=$(t,e);return function(t){var e=this,n=t.relatedTarget;n&&(n===e||8&n.compareDocumentPosition(e))||r.call(e,t)}}function W(t){var n=".dragsuppress-"+ ++Da,r="click"+n,i=ua.select(R(t)).on("touchmove"+n,O).on("dragstart"+n,O).on("selectstart"+n,O);if(null==Na&&(Na=!("onselectstart"in t)&&y(t.style,"userSelect")),Na){var o=s(t).style,a=o[Na];o[Na]="none"}return function(t){if(i.on(n,null),Na&&(o[Na]=a),t){var e=function(){i.on(r,null)};i.on(r,function(){O(),e()},!0),setTimeout(e,0)}}}function Q(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(Ra<0){var i=R(t);if(i.scrollX||i.scrollY){var o=(n=ua.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Ra=!(o.f||o.e),n.remove()}}return Ra?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function Z(){return ua.event.changedTouches[0].identifier}function K(t){return 0<t?1:t<0?-1:0}function J(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return 1<t?0:t<-1?Fa:Math.acos(t)}function et(t){return 1<t?za:t<-1?-za:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function rt(t){return((t=Math.exp(t))+1/t)/2}function it(t){return((t=Math.exp(2*t))-1)/(t+1)}function ot(t){return(t=Math.sin(t/2))*t}function at(){}function st(t,e,n){return this instanceof st?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof st?new st(t.h,t.s,t.l):bt(""+t,wt,st):new st(t,e,n)}function ut(t,e,n){function r(t){return 360<t?t-=360:t<0&&(t+=360),t<60?o+(a-o)*t/60:t<180?a:t<240?o+(a-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:1<e?1:e,o=2*(n=n<0?0:1<n?1:n)-(a=n<=.5?n*(1+e):n+e-n*e),new yt(i(t+120),i(t),i(t-120))}function ct(t,e,n){return this instanceof ct?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ct?new ct(t.h,t.c,t.l):dt(t instanceof ft?t.l:(t=St((t=ua.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ct(t,e,n)}function lt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ft(n,Math.cos(t*=ja)*e,Math.sin(t)*e)}function ft(t,e,n){return this instanceof ft?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ft?new ft(t.l,t.a,t.b):t instanceof ct?lt(t.h,t.c,t.l):St((t=yt(t)).r,t.g,t.b):new ft(t,e,n)}function ht(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return new yt(vt(3.2404542*(i=pt(i)*Ka)-1.5371385*(r=pt(r)*Ja)-.4985314*(o=pt(o)*ts)),vt(-.969266*i+1.8760108*r+.041556*o),vt(.0556434*i-.2040259*r+1.0572252*o))}function dt(t,e,n){return 0<t?new ct(Math.atan2(n,e)*Ha,Math.sqrt(e*e+n*n),t):new ct(NaN,NaN,t)}function pt(t){return.206893034<t?t*t*t:(t-4/29)/7.787037}function gt(t){return.008856<t?Math.pow(t,1/3):7.787037*t+4/29}function vt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function yt(t,e,n){return this instanceof yt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof yt?new yt(t.r,t.g,t.b):bt(""+t,yt,ut):new yt(t,e,n)}function mt(t){return new yt(t>>16,t>>8&255,255&t)}function xt(t){return mt(t)+""}function _t(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function bt(t,e,n){var r,i,o,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(Mt(i[0]),Mt(i[1]),Mt(i[2]))}return(o=rs.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,u=15&o,u|=u<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),e(a,s,u))}function wt(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(i=u<.5?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=0<u&&u<1?0:r),new st(r,i,u)}function St(t,e,n){var r=gt((.4124564*(t=Tt(t))+.3575761*(e=Tt(e))+.1804375*(n=Tt(n)))/Ka),i=gt((.2126729*t+.7151522*e+.072175*n)/Ja);return ft(116*i-16,500*(r-i),200*(i-gt((.0193339*t+.119192*e+.9503041*n)/ts)))}function Tt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Mt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Ct(t){return"function"==typeof t?t:function(){return t}}function At(r){return function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=null),kt(t,e,r,n)}}function kt(i,o,n,r){function t(){var t,e=c.status;if(!e&&Lt(c)||200<=e&&e<300||304===e){try{t=n.call(a,c)}catch(r){return void s.error.call(a,r)}s.load.call(a,t)}else s.error.call(a,c)}var a={},s=ua.dispatch("beforesend","progress","load","error"),u={},c=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(i)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=t:c.onreadystatechange=function(){3<c.readyState&&t()},c.onprogress=function(t){var e=ua.event;ua.event=t;try{s.progress.call(a,c)}finally{ua.event=e}},a.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u[t]:(null==e?delete u[t]:u[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(o=null==t?null:t+"",a):o},a.responseType=function(t){return arguments.length?(l=t,a):l},a.response=function(t){return n=t,a},["get","post"].forEach(function(t){a[t]=function(){return a.send.apply(a,[t].concat(la(arguments)))}}),a.send=function(t,e,n){if(2===arguments.length&&"function"==typeof e&&(n=e,e=null),c.open(t,i,!0),null==o||"accept"in u||(u.accept=o+",*/*"),c.setRequestHeader)for(var r in u)c.setRequestHeader(r,u[r]);return null!=o&&c.overrideMimeType&&c.overrideMimeType(o),null!=l&&(c.responseType=l),null!=n&&a.on("error",n).on("load",function(t){n(null,t)}),s.beforesend.call(a,c),c.send(null==e?null:e),a},a.abort=function(){return c.abort(),a},ua.rebind(a,s,"on"),null==r?a:a.get(Et(r))}function Et(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function Lt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Pt(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i={c:t,t:n+e,n:null};return os?os.n=i:is=i,os=i,as||(ss=clearTimeout(ss),as=1,us(Nt)),i}function Nt(){var t=Dt(),e=Rt()-t;24<e?(isFinite(e)&&(clearTimeout(ss),ss=setTimeout(Nt,e)),as=0):(as=1,us(Nt))}function Dt(){for(var t=Date.now(),e=is;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Rt(){for(var t,e=is,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:is=e.n;return os=t,n}function It(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Ot(t,e){var n=Math.pow(10,3*ma(8-e));return{scale:8<e?function(t){return t/n}:function(t){return t*n},symbol:t}}function Ft(t){var T=t.decimal,s=t.thousands,u=t.grouping,r=t.currency,M=u&&s?function(t,e){for(var n=t.length,r=[],i=0,o=u[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),r.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=u[i=(i+1)%u.length];return r.reverse().join(s)}:I;return function(t){var e=ls.exec(t),l=e[1]||" ",f=e[2]||">",h=e[3]||"-",n=e[4]||"",d=e[5],p=+e[6],g=e[7],v=e[8],y=e[9],m=1,x="",_="",b=!1,w=!0;switch(v&&(v=+v.substring(1)),(d||"0"===l&&"="===f)&&(d=l="0",f="="),y){case"n":g=!0,y="g";break;case"%":m=100,_="%",y="f";break;case"p":m=100,_="%",y="r";break;case"b":case"o":case"x":case"X":"#"===n&&(x="0"+y.toLowerCase());case"c":w=!1;case"d":b=!0,v=0;break;case"s":m=-1,y="r"}"$"===n&&(x=r[0],_=r[1]),"r"!=y||v||(y="g"),null!=v&&("g"==y?v=Math.max(1,Math.min(21,v)):"e"!=y&&"f"!=y||(v=Math.max(0,Math.min(20,v)))),y=fs.get(y)||Vt;var S=d&&g;return function(t){var e=_;if(b&&t%1)return"";var n=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===h?"":h;if(m<0){var r=ua.formatPrefix(t,v);t=r.scale(t),e=r.symbol+_}else t*=m;var i,o,a=(t=y(t,v)).lastIndexOf(".");if(a<0){var s=w?t.lastIndexOf("e"):-1;s<0?(i=t,o=""):(i=t.substring(0,s),o=t.substring(s))}else i=t.substring(0,a),o=T+t.substring(a+1);!d&&g&&(i=M(i,1/0));var u=x.length+i.length+o.length+(S?0:n.length),c=u<p?new Array(u=p-u+1).join(l):"";return S&&(i=M(c+i,c.length?p-o.length:1/0)),n+=x,t=i+o,("<"===f?n+t+c:">"===f?c+n+t:"^"===f?c.substring(0,u>>=1)+n+t+c.substring(u):n+(S?t:c+t))+e}}}function Vt(t){return t+""}function Gt(t){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):t)}function zt(r,o,a){function t(t){var e=r(t),n=i(e,1);return t-e<n-t?e:n}function s(t){return o(t=r(new ds(t-1)),1),t}function i(t,e){return o(t=new ds(+t),e),t}function u(t,e,n){var r=s(t),i=[];if(1<n)for(;r<e;)a(r)%n||i.push(new Date(+r)),o(r,1);else for(;r<e;)i.push(new Date(+r)),o(r,1);return i}function e(t,e,n){try{var r=new(ds=Gt);return r._=t,u(r,e,n)}finally{ds=Date}}(r.floor=r).round=t,r.ceil=s,r.offset=i,r.range=u;var n=r.utc=jt(r);return(n.floor=n).round=jt(t),n.ceil=jt(s),n.offset=jt(i),n.range=e,r}function jt(r){return function(t,e){try{var n=new(ds=Gt);return n._=t,r(n,e)._}finally{ds=Date}}}function Ht(t){function r(s){function t(t){for(var e,n,r,i=[],o=-1,a=0;++o<u;)37===s.charCodeAt(o)&&(i.push(s.slice(a,o)),null!=(n=gs[e=s.charAt(++o)])&&(e=s.charAt(++o)),(r=k[e])&&(e=r(t,null==n?"e"===e?" ":"0":n)),i.push(e),a=o+1);return i.push(s.slice(a,o)),i.join("")}var u=s.length;return t.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(i(e,s,t,0)!=t.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var n=null!=e.Z&&ds!==Gt,r=new(n?Gt:ds);return"j"in e?r.setFullYear(e.y,0,e.j):"W"in e||"U"in e?("w"in e||(e.w="W"in e?1:0),r.setFullYear(e.y,0,1),r.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(r.getDay()+5)%7:e.w+7*e.U-(r.getDay()+6)%7)):r.setFullYear(e.y,e.m,e.d),r.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L),n?r._:r},t.toString=function(){return s},t}function i(t,e,n,r){for(var i,o,a,s=0,u=e.length,c=n.length;s<u;){if(c<=r)return-1;if(37===(i=e.charCodeAt(s++))){if(a=e.charAt(s++),!(o=E[a in gs?e.charAt(s++):a])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function e(t,e,n){w.lastIndex=0;var r=w.exec(e.slice(n));return r?(t.w=S.get(r[0].toLowerCase()),n+r[0].length):-1}function n(t,e,n){_.lastIndex=0;var r=_.exec(e.slice(n));return r?(t.w=b.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){C.lastIndex=0;var r=C.exec(e.slice(n));return r?(t.m=A.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){T.lastIndex=0;var r=T.exec(e.slice(n));return r?(t.m=M.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,n){return i(t,k.c.toString(),e,n)}function u(t,e,n){return i(t,k.x.toString(),e,n)}function c(t,e,n){return i(t,k.X.toString(),e,n)}function l(t,e,n){var r=x.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var f=t.dateTime,h=t.date,d=t.time,p=t.periods,g=t.days,v=t.shortDays,y=t.months,m=t.shortMonths;r.utc=function(t){function e(t){try{var e=new(ds=Gt);return e._=t,n(e)}finally{ds=Date}}var n=r(t);return e.parse=function(t){try{ds=Gt;var e=n.parse(t);return e&&e._}finally{ds=Date}},e.toString=n.toString,e},r.multi=r.utc.multi=ue;var x=ua.map(),_=Bt(g),b=Ut(g),w=Bt(v),S=Ut(v),T=Bt(y),M=Ut(y),C=Bt(m),A=Ut(m);p.forEach(function(t,e){x.set(t.toLowerCase(),e)});var k={a:function(t){return v[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return m[t.getMonth()]},B:function(t){return y[t.getMonth()]},c:r(f),d:function(t,e){return qt(t.getDate(),e,2)},e:function(t,e){return qt(t.getDate(),e,2)},H:function(t,e){return qt(t.getHours(),e,2)},I:function(t,e){return qt(t.getHours()%12||12,e,2)},j:function(t,e){return qt(1+hs.dayOfYear(t),e,3)},L:function(t,e){return qt(t.getMilliseconds(),e,3)},m:function(t,e){return qt(t.getMonth()+1,e,2)},M:function(t,e){return qt(t.getMinutes(),e,2)},p:function(t){return p[+(12<=t.getHours())]},S:function(t,e){return qt(t.getSeconds(),e,2)},U:function(t,e){return qt(hs.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return qt(hs.mondayOfYear(t),e,2)},x:r(h),X:r(d),y:function(t,e){return qt(t.getFullYear()%100,e,2)},Y:function(t,e){return qt(t.getFullYear()%1e4,e,4)},Z:ae,"%":function(){return"%"}},E={a:e,A:n,b:o,B:a,c:s,d:te,e:te,H:ne,I:ne,j:ee,L:oe,m:Jt,M:re,p:l,S:ie,U:$t,w:Xt,W:Yt,x:u,X:c,y:Qt,Y:Wt,Z:Zt,"%":se};return r}function qt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Bt(t){return new RegExp("^(?:"+t.map(ua.requote).join("|")+")","i")}function Ut(t){for(var e=new m,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Xt(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function $t(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Yt(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Wt(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Qt(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+2));return r?(t.y=Kt(+r[0]),n+r[0].length):-1}function Zt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Kt(t){return t+(68<t?1900:2e3)}function Jt(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function te(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ee(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function ne(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function re(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ie(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function oe(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ae(t){var e=t.getTimezoneOffset(),n=0<e?"-":"+",r=ma(e)/60|0,i=ma(e)%60;return n+qt(r,"0",2)+qt(i,"0",2)}function se(t,e,n){ys.lastIndex=0;var r=ys.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ue(r){for(var t=r.length,e=-1;++e<t;)r[e][0]=this(r[e][0]);return function(t){for(var e=0,n=r[e];!n[1](t);)n=r[++e];return n[0](t)}}function ce(){}function le(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function fe(t,e){t&&bs.hasOwnProperty(t.type)&&bs[t.type](t,e)}function he(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function de(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)he(t[n],e,1);e.polygonEnd()}function pe(){function n(t,e){e=e*ja/2+Fa/4;var n=(t*=ja)-l,r=0<=n?1:-1,i=r*n,o=Math.cos(e),a=Math.sin(e),s=h*a,u=f*o+s*Math.cos(i),c=s*r*Math.sin(i);Ss.add(Math.atan2(c,u)),l=t,f=o,h=a}var r,i,l,f,h;Ts.point=function(t,e){Ts.point=n,l=(r=t)*ja,f=Math.cos(e=(i=e)*ja/2+Fa/4),h=Math.sin(e)},Ts.lineEnd=function(){n(r,i)}}function ge(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function ve(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ye(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function me(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function xe(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function _e(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function be(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function we(t,e){return ma(t[0]-e[0])<Ia&&ma(t[1]-e[1])<Ia}function Se(t,e){t*=ja;var n=Math.cos(e*=ja);Te(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Te(t,e,n){As+=(t-As)/++Ms,ks+=(e-ks)/Ms,Es+=(n-Es)/Ms}function Me(){function r(t,e){t*=ja;var n=Math.cos(e*=ja),r=n*Math.cos(t),i=n*Math.sin(t),o=Math.sin(e),a=Math.atan2(Math.sqrt((a=u*o-c*i)*a+(a=c*r-s*o)*a+(a=s*i-u*r)*a),s*r+u*i+c*o);Cs+=a,Ls+=a*(s+(s=r)),Ps+=a*(u+(u=i)),Ns+=a*(c+(c=o)),Te(s,u,c)}var s,u,c;Os.point=function(t,e){t*=ja;var n=Math.cos(e*=ja);s=n*Math.cos(t),u=n*Math.sin(t),c=Math.sin(e),Os.point=r,Te(s,u,c)}}function Ce(){Os.point=Se}function Ae(){function r(t,e){t*=ja;var n=Math.cos(e*=ja),r=n*Math.cos(t),i=n*Math.sin(t),o=Math.sin(e),a=p*o-g*i,s=g*r-d*o,u=d*i-p*r,c=Math.sqrt(a*a+s*s+u*u),l=d*r+p*i+g*o,f=c&&-tt(l)/c,h=Math.atan2(c,l);Ds+=f*a,Rs+=f*s,Is+=f*u,Cs+=h,Ls+=h*(d+(d=r)),Ps+=h*(p+(p=i)),Ns+=h*(g+(g=o)),Te(d,p,g)}var i,o,d,p,g;Os.point=function(t,e){i=t,o=e,Os.point=r,t*=ja;var n=Math.cos(e*=ja);d=n*Math.cos(t),p=n*Math.sin(t),g=Math.sin(e),Te(d,p,g)},Os.lineEnd=function(){r(i,o),Os.lineEnd=Ce,Os.point=Se}}function ke(n,r){function t(t,e){return t=n(t,e),r(t[0],t[1])}return n.invert&&r.invert&&(t.invert=function(t,e){return(t=r.invert(t,e))&&n.invert(t[0],t[1])}),t}function Ee(){return!0}function Le(t,e,n,r,s){var u=[],c=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(we(n,r)){s.lineStart();for(var i=0;i<e;++i)s.point((n=t[i])[0],n[1]);return void s.lineEnd()}var o=new Ne(n,t,null,!0),a=new Ne(n,null,o,!1);o.o=a,u.push(o),c.push(a),a=new Ne(r,null,o=new Ne(r,t,null,!1),!0),o.o=a,u.push(o),c.push(a)}}),c.sort(e),Pe(u),Pe(c),u.length){for(var i=0,o=n,a=c.length;i<a;++i)c[i].e=o=!o;for(var l,f,h=u[0];;){for(var d=h,p=!0;d.v;)if((d=d.n)===h)return;l=d.z,s.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(i=0,a=l.length;i<a;++i)s.point((f=l[i])[0],f[1]);else r(d.x,d.n.x,1,s);d=d.n}else{if(p)for(i=(l=d.p.z).length-1;0<=i;--i)s.point((f=l[i])[0],f[1]);else r(d.x,d.p.x,-1,s);d=d.p}l=(d=d.o).z,p=!p}while(!d.v);s.lineEnd()}}}function Pe(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Ne(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function De(m,x,_,b){return function(r,a){function e(t,e){var n=r(t,e);m(t=n[0],e=n[1])&&a.point(t,e)}function t(t,e){var n=r(t,e);h.point(n[0],n[1])}function n(){p.point=t,h.lineStart()}function i(){p.point=e,h.lineEnd()}function s(t,e){f.push([t,e]);var n=r(t,e);v.point(n[0],n[1])}function o(){v.lineStart(),f=[]}function u(){s(f[0][0],f[0][1]),v.lineEnd();var t,e=v.clean(),n=g.buffer(),r=n.length;if(f.pop(),l.push(f),f=null,r)if(1&e){var i,o=-1;if(0<(r=(t=n[0]).length-1)){for(y||(a.polygonStart(),y=!0),a.lineStart();++o<r;)a.point((i=t[o])[0],i[1]);a.lineEnd()}}else 1<r&&2&e&&n.push(n.pop().concat(n.shift())),c.push(n.filter(Re))}var c,l,f,h=x(a),d=r.invert(b[0],b[1]),p={point:e,lineStart:n,lineEnd:i,polygonStart:function(){p.point=s,p.lineStart=o,p.lineEnd=u,c=[],l=[]},polygonEnd:function(){p.point=e,p.lineStart=n,p.lineEnd=i,c=ua.merge(c);var t=ze(d,l);c.length?(y||(a.polygonStart(),y=!0),Le(c,Oe,t,_,a)):t&&(y||(a.polygonStart(),y=!0),a.lineStart(),_(null,null,1,a),a.lineEnd()),y&&(a.polygonEnd(),y=!1),c=l=null},sphere:function(){a.polygonStart(),a.lineStart(),_(null,null,1,a),a.lineEnd(),a.polygonEnd()}},g=Ie(),v=x(g),y=!1;return p}}function Re(t){return 1<t.length}function Ie(){var n,e=[];return{lineStart:function(){e.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:_,buffer:function(){var t=e;return e=[],n=null,t},rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))}}}function Oe(t,e){return((t=t.x)[0]<0?t[1]-za-Ia:za-t[1])-((e=e.x)[0]<0?e[1]-za-Ia:za-e[1])}function Fe(i){var o,a=NaN,s=NaN,u=NaN;return{lineStart:function(){i.lineStart(),o=1},point:function(t,e){var n=0<t?Fa:-Fa,r=ma(t-a);ma(r-Fa)<Ia?(i.point(a,s=0<(s+e)/2?za:-za),i.point(u,s),i.lineEnd(),i.lineStart(),i.point(n,s),i.point(t,s),o=0):u!==n&&Fa<=r&&(ma(a-u)<Ia&&(a-=u*Ia),ma(t-n)<Ia&&(t-=n*Ia),s=Ve(a,s,t,e),i.point(u,s),i.lineEnd(),i.lineStart(),i.point(n,s),o=0),i.point(a=t,s=e),u=n},lineEnd:function(){i.lineEnd(),a=s=NaN},clean:function(){return 2-o}}}function Ve(t,e,n,r){var i,o,a=Math.sin(t-n);return ma(a)>Ia?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}function Ge(t,e,n,r){var i;if(null==t)i=n*za,r.point(-Fa,i),r.point(0,i),r.point(Fa,i),r.point(Fa,0),r.point(Fa,-i),r.point(0,-i),r.point(-Fa,-i),r.point(-Fa,0),r.point(-Fa,i);else if(ma(t[0]-e[0])>Ia){var o=t[0]<e[0]?Fa:-Fa;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function ze(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Ss.reset();for(var s=0,u=e.length;s<u;++s){var c=e[s],l=c.length;if(l)for(var f=c[0],h=f[0],d=f[1]/2+Fa/4,p=Math.sin(d),g=Math.cos(d),v=1;;){v===l&&(v=0);var y=(t=c[v])[0],m=t[1]/2+Fa/4,x=Math.sin(m),_=Math.cos(m),b=y-h,w=0<=b?1:-1,S=w*b,T=Fa<S,M=p*x;if(Ss.add(Math.atan2(M*w*Math.sin(S),g*_+M*Math.cos(S))),o+=T?b+w*Va:b,T^n<=h^n<=y){var C=ye(ge(f),ge(t));_e(C);var A=ye(i,C);_e(A);var k=(T^0<=b?-1:1)*et(A[2]);(k<r||r===k&&(C[0]||C[1]))&&(a+=T^0<=b?1:-1)}if(!v++)break;h=y,p=x,g=_,f=t}}return(o<-Ia||o<Ia&&Ss<-Ia)^1&a}function je(i){function d(t,e){return Math.cos(t)*Math.cos(e)>C}function t(s){var u,c,l,f,h;return{lineStart:function(){f=l=!1,h=1},point:function(t,e){var n,r=[t,e],i=d(t,e),o=v?i?0:g(t,e):i?g(t+(t<0?Fa:-Fa),e):0;if(!u&&(f=l=i)&&s.lineStart(),i!==l&&(n=p(u,r),(we(u,n)||we(r,n))&&(r[0]+=Ia,r[1]+=Ia,i=d(r[0],r[1]))),i!==l)h=0,i?(s.lineStart(),n=p(r,u),s.point(n[0],n[1])):(n=p(u,r),s.point(n[0],n[1]),s.lineEnd()),u=n;else if(y&&u&&v^i){var a;o&c||!(a=p(r,u,!0))||(h=0,v?(s.lineStart(),s.point(a[0][0],a[0][1]),s.point(a[1][0],a[1][1]),s.lineEnd()):(s.point(a[1][0],a[1][1]),s.lineEnd(),s.lineStart(),s.point(a[0][0],a[0][1])))}!i||u&&we(u,r)||s.point(r[0],r[1]),u=r,l=i,c=o},lineEnd:function(){l&&s.lineEnd(),u=null},clean:function(){return h|(f&&l)<<1}}}function p(t,e,n){var r=[1,0,0],i=ye(ge(t),ge(e)),o=ve(i,i),a=i[0],s=o-a*a;if(!s)return!n&&t;var u=C*o/s,c=-C*a/s,l=ye(r,i),f=xe(r,u);me(f,xe(i,c));var h=l,d=ve(f,h),p=ve(h,h),g=d*d-p*(ve(f,f)-1);if(!(g<0)){var v=Math.sqrt(g),y=xe(h,(-d-v)/p);if(me(y,f),y=be(y),!n)return y;var m,x=t[0],_=e[0],b=t[1],w=e[1];_<x&&(m=x,x=_,_=m);var S=_-x,T=ma(S-Fa)<Ia;if(!T&&w<b&&(m=b,b=w,w=m),T||S<Ia?T?0<b+w^y[1]<(ma(y[0]-x)<Ia?b:w):b<=y[1]&&y[1]<=w:Fa<S^(x<=y[0]&&y[0]<=_)){var M=xe(h,(-d+v)/p);return me(M,f),[y,be(M)]}}}function g(t,e){var n=v?i:Fa-i,r=0;return t<-n?r|=1:n<t&&(r|=2),e<-n?r|=4:n<e&&(r|=8),r}var C=Math.cos(i),v=0<C,y=ma(C)>Ia;return De(d,t,gn(i,6*ja),v?[0,-i]:[-Fa,i-Fa])}function He(l,f,h,d){return function(t){var e,n=t.a,r=t.b,i=n.x,o=n.y,a=0,s=1,u=r.x-i,c=r.y-o;if(e=l-i,u||!(0<e)){if(e/=u,u<0){if(e<a)return;e<s&&(s=e)}else if(0<u){if(s<e)return;a<e&&(a=e)}if(e=h-i,u||!(e<0)){if(e/=u,u<0){if(s<e)return;a<e&&(a=e)}else if(0<u){if(e<a)return;e<s&&(s=e)}if(e=f-o,c||!(0<e)){if(e/=c,c<0){if(e<a)return;e<s&&(s=e)}else if(0<c){if(s<e)return;a<e&&(a=e)}if(e=d-o,c||!(e<0)){if(e/=c,c<0){if(s<e)return;a<e&&(a=e)}else if(0<c){if(e<a)return;e<s&&(s=e)}return 0<a&&(t.a={x:i+a*u,y:o+a*c}),s<1&&(t.b={x:i+s*u,y:o+s*c}),t}}}}}}function qe(S,T,M,C){function A(t,e){return ma(t[0]-S)<Ia?0<e?0:3:ma(t[0]-M)<Ia?0<e?2:1:ma(t[1]-T)<Ia?0<e?1:0:0<e?3:2}function k(t,e){return E(t.x,e.x)}function E(t,e){var n=A(t,1),r=A(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(i){function r(t){for(var e=0,n=l.length,r=t[1],i=0;i<n;++i)for(var o,a=1,s=l[i],u=s.length,c=s[0];a<u;++a)o=s[a],c[1]<=r?o[1]>r&&0<J(c,o,t)&&++e:o[1]<=r&&J(c,o,t)<0&&--e,c=o;return 0!==e}function o(t,e,n,r){var i=0,o=0;if(null==t||(i=A(t,n))!==(o=A(e,n))||E(t,e)<0^0<n)for(;r.point(0===i||3===i?S:M,1<i?C:T),(i=(i+n+4)%4)!==o;);else r.point(e[0],e[1])}function a(t,e){return S<=t&&t<=M&&T<=e&&e<=C}function t(t,e){a(t,e)&&i.point(t,e)}function e(){w.point=s,l&&l.push(c=[]),v=!(y=!0),p=g=NaN}function n(){u&&(s(f,h),d&&v&&_.rejoin(),u.push(_.buffer())),w.point=t,v&&i.lineEnd()}function s(t,e){var n=a(t=Math.max(-Vs,Math.min(Vs,t)),e=Math.max(-Vs,Math.min(Vs,e)));if(l&&c.push([t,e]),y)f=t,h=e,y=!1,(d=n)&&(i.lineStart(),i.point(t,e));else if(n&&v)i.point(t,e);else{var r={a:{x:p,y:g},b:{x:t,y:e}};b(r)?(v||(i.lineStart(),i.point(r.a.x,r.a.y)),i.point(r.b.x,r.b.y),n||i.lineEnd(),m=!1):n&&(i.lineStart(),i.point(t,e),m=!1)}p=t,g=e,v=n}var u,l,c,f,h,d,p,g,v,y,m,x=i,_=Ie(),b=He(S,T,M,C),w={point:t,lineStart:e,lineEnd:n,polygonStart:function(){i=_,u=[],l=[],m=!0},polygonEnd:function(){i=x,u=ua.merge(u);var t=r([S,C]),e=m&&t,n=u.length;(e||n)&&(i.polygonStart(),e&&(i.lineStart(),o(null,null,1,i),i.lineEnd()),n&&Le(u,k,t,o,i),i.polygonEnd()),u=l=c=null}};return w}}function Be(t){var e=0,n=Fa/3,r=sn(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Fa/180,n=t[1]*Fa/180):[e/Fa*180,n/Fa*180]},i}function Ue(t,e){function n(t,e){var n=Math.sqrt(o-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),a-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,et((o-(t*t+n*n)*i*i)/(2*i))]},n}function Xe(){function n(t,e){zs+=a*t-o*e,o=t,a=e}var r,i,o,a;Us.point=function(t,e){Us.point=n,r=o=t,i=a=e},Us.lineEnd=function(){n(r,i)}}function $e(t,e){t<js&&(js=t),qs<t&&(qs=t),e<Hs&&(Hs=e),Bs<e&&(Bs=e)}function Ye(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function i(){a.push("Z")}var o=We(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return o=We(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function We(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Qe(t,e){As+=t,ks+=e,++Es}function Ze(){function n(t,e){var n=t-o,r=e-a,i=Math.sqrt(n*n+r*r);Ls+=i*(o+t)/2,Ps+=i*(a+e)/2,Ns+=i,Qe(o=t,a=e)}var o,a;$s.point=function(t,e){$s.point=n,Qe(o=t,a=e)}}function Ke(){$s.point=Qe}function Je(){function n(t,e){var n=t-o,r=e-a,i=Math.sqrt(n*n+r*r);Ls+=i*(o+t)/2,Ps+=i*(a+e)/2,Ns+=i,Ds+=(i=a*t-o*e)*(o+t),Rs+=i*(a+e),Is+=3*i,Qe(o=t,a=e)}var r,i,o,a;$s.point=function(t,e){$s.point=n,Qe(r=o=t,i=a=e)},$s.lineEnd=function(){n(r,i)}}function tn(n){function t(t,e){n.moveTo(t+a,e),n.arc(t,e,a,0,Va)}function e(t,e){n.moveTo(t,e),s.point=r}function r(t,e){n.lineTo(t,e)}function i(){s.point=t}function o(){n.closePath()}var a=4.5,s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return a=t,s},result:_};return s}function en(E){function e(t){return(b?r:n)(t)}function n(n){return on(n,function(t,e){t=E(t,e),n.point(t[0],t[1])})}function r(i){function t(t,e){t=E(t,e),i.point(t[0],t[1])}function e(){g=NaN,_.point=n,i.lineStart()}function n(t,e){var n=ge([t,e]),r=E(t,e);L(g,v,p,y,m,x,g=r[0],v=r[1],p=t,y=n[0],m=n[1],x=n[2],b,i),i.point(g,v)}function r(){_.point=t,i.lineEnd()}function o(){e(),_.point=a,_.lineEnd=s}function a(t,e){n(u=t,e),c=g,l=v,f=y,h=m,d=x,_.point=n}function s(){L(g,v,p,y,m,x,c,l,u,f,h,d,b,i),(_.lineEnd=r)()}var u,c,l,f,h,d,p,g,v,y,m,x,_={point:t,lineStart:e,lineEnd:r,polygonStart:function(){i.polygonStart(),_.lineStart=o},polygonEnd:function(){i.polygonEnd(),_.lineStart=e}};return _}function L(t,e,n,r,i,o,a,s,u,c,l,f,h,d){var p=a-t,g=s-e,v=p*p+g*g;if(4*P<v&&h--){var y=r+c,m=i+l,x=o+f,_=Math.sqrt(y*y+m*m+x*x),b=Math.asin(x/=_),w=ma(ma(x)-1)<Ia||ma(n-u)<Ia?(n+u)/2:Math.atan2(m,y),S=E(w,b),T=S[0],M=S[1],C=T-t,A=M-e,k=g*C-p*A;(P<k*k/v||.3<ma((p*C+g*A)/v-.5)||r*c+i*l+o*f<N)&&(L(t,e,n,r,i,o,T,M,w,y/=_,m/=_,x,h,d),d.point(T,M),L(T,M,w,y,m,x,a,s,u,c,l,f,h,d))}}var P=.5,N=Math.cos(30*ja),b=16;return e.precision=function(t){return arguments.length?(b=0<(P=t*t)&&16,e):Math.sqrt(P)},e}function nn(n){var e=en(function(t,e){return n([t*Ha,e*Ha])});return function(t){return un(e(t))}}function rn(t){this.stream=t}function on(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function an(t){return sn(function(){return t})()}function sn(t){function e(t){return[(t=s(t[0]*ja,t[1]*ja))[0]*h+u,c-t[1]*h]}function n(t){return(t=s.invert((t[0]-u)/h,(c-t[1])/h))&&[t[0]*Ha,t[1]*Ha]}function r(){s=ke(a=fn(y,m,x),o);var t=o(g,v);return u=d-t[0]*h,c=p+t[1]*h,i()}function i(){return l&&(l.valid=!1,l=null),e}var o,a,s,u,c,l,f=en(function(t,e){return[(t=o(t,e))[0]*h+u,c-t[1]*h]}),h=150,d=480,p=250,g=0,v=0,y=0,m=0,x=0,_=Fs,b=I,w=null,S=null;return e.stream=function(t){return l&&(l.valid=!1),(l=un(_(a,f(b(t))))).valid=!0,l},e.clipAngle=function(t){return arguments.length?(_=null==t?(w=t,Fs):je((w=+t)*ja),i()):w},e.clipExtent=function(t){return arguments.length?(b=(S=t)?qe(t[0][0],t[0][1],t[1][0],t[1][1]):I,i()):S},e.scale=function(t){return arguments.length?(h=+t,r()):h},e.translate=function(t){return arguments.length?(d=+t[0],p=+t[1],r()):[d,p]},e.center=function(t){
return arguments.length?(g=t[0]%360*ja,v=t[1]%360*ja,r()):[g*Ha,v*Ha]},e.rotate=function(t){return arguments.length?(y=t[0]%360*ja,m=t[1]%360*ja,x=2<t.length?t[2]%360*ja:0,r()):[y*Ha,m*Ha,x*Ha]},ua.rebind(e,f,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,r()}}function un(n){return on(n,function(t,e){n.point(t*ja,e*ja)})}function cn(t,e){return[t,e]}function ln(t,e){return[Fa<t?t-Va:t<-Fa?t+Va:t,e]}function fn(t,e,n){return t?e||n?ke(dn(t),pn(e,n)):dn(t):e||n?pn(e,n):ln}function hn(n){return function(t,e){return[Fa<(t+=n)?t-Va:t<-Fa?t+Va:t,e]}}function dn(t){var e=hn(t);return e.invert=hn(-t),e}function pn(t,e){function n(t,e){var n=Math.cos(e),r=Math.cos(t)*n,i=Math.sin(t)*n,o=Math.sin(e),a=o*s+r*u;return[Math.atan2(i*c-a*l,r*s-o*u),et(a*c+i*l)]}var s=Math.cos(t),u=Math.sin(t),c=Math.cos(e),l=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),r=Math.cos(t)*n,i=Math.sin(t)*n,o=Math.sin(e),a=o*c-i*l;return[Math.atan2(i*c+o*l,r*s+a*u),et(a*s-r*u)]},n}function gn(s,u){var c=Math.cos(s),l=Math.sin(s);return function(t,e,n,r){var i=n*u;null!=t?(t=vn(c,t),e=vn(c,e),(0<n?t<e:e<t)&&(t+=n*Va)):(t=s+n*Va,e=s-.5*i);for(var o,a=t;0<n?e<a:a<e;a-=i)r.point((o=be([c,-l*Math.cos(a),-l*Math.sin(a)]))[0],o[1])}}function vn(t,e){var n=ge(e);n[0]-=t,_e(n);var r=tt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ia)%(2*Math.PI)}function yn(t,e,n){var r=ua.range(t,e-Ia,n).concat(e);return function(e){return r.map(function(t){return[e,t]})}}function mn(t,e,n){var r=ua.range(t,e-Ia,n).concat(e);return function(e){return r.map(function(t){return[t,e]})}}function xn(t){return t.source}function _n(t){return t.target}function bn(t,e,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(r),s=Math.sin(r),u=i*Math.cos(t),c=i*Math.sin(t),l=o*Math.cos(n),f=o*Math.sin(n),h=2*Math.asin(Math.sqrt(ot(r-e)+i*o*ot(n-t))),d=1/Math.sin(h),p=h?function(t){var e=Math.sin(t*=h)*d,n=Math.sin(h-t)*d,r=n*u+e*l,i=n*c+e*f,o=n*a+e*s;return[Math.atan2(i,r)*Ha,Math.atan2(o,Math.sqrt(r*r+i*i))*Ha]}:function(){return[t*Ha,e*Ha]};return p.distance=h,p}function wn(){function n(t,e){var n=Math.sin(e*=ja),r=Math.cos(e),i=ma((t*=ja)-a),o=Math.cos(i);Ys+=Math.atan2(Math.sqrt((i=r*Math.sin(i))*i+(i=u*n-s*r*o)*i),s*n+u*r*o),a=t,s=n,u=r}var a,s,u;Ws.point=function(t,e){a=t*ja,s=Math.sin(e*=ja),u=Math.cos(e),Ws.point=n},Ws.lineEnd=function(){Ws.point=Ws.lineEnd=_}}function Sn(o,a){function t(t,e){var n=Math.cos(t),r=Math.cos(e),i=o(n*r);return[i*r*Math.sin(t),i*Math.sin(e)]}return t.invert=function(t,e){var n=Math.sqrt(t*t+e*e),r=a(n),i=Math.sin(r),o=Math.cos(r);return[Math.atan2(t*i,n*o),Math.asin(n&&e*i/n)]},t}function Tn(t,e){function n(t,e){0<a?e<-za+Ia&&(e=-za+Ia):za-Ia<e&&(e=za-Ia);var n=a/Math.pow(i(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(Fa/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),a=r*Math.pow(i(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,r=K(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/r,1/o))-za]},n):Cn}function Mn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/i+t;return ma(i)<Ia?cn:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,o-K(i)*Math.sqrt(t*t+n*n)]},n)}function Cn(t,e){return[t,Math.log(Math.tan(Fa/4+e/2))]}function An(t){var i,o=an(t),a=o.scale,s=o.translate,u=o.clipExtent;return o.scale=function(){var t=a.apply(o,arguments);return t===o?i?o.clipExtent(null):o:t},o.translate=function(){var t=s.apply(o,arguments);return t===o?i?o.clipExtent(null):o:t},o.clipExtent=function(t){var e=u.apply(o,arguments);if(e===o){if(i=null==t){var n=Fa*a(),r=s();u([[r[0]-n,r[1]-n],[r[0]+n,r[1]+n]])}}else i&&(e=null);return e},o.clipExtent(null)}function kn(t,e){return[Math.log(Math.tan(Fa/4+e/2)),-t]}function En(t){return t[0]}function Ln(t){return t[1]}function Pn(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;1<r&&J(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Nn(t,e){return t[0]-e[0]||t[1]-e[1]}function Dn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Rn(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,u=t[1],c=n[1],l=e[1]-u,f=r[1]-c,h=(s*(u-c)-f*(i-o))/(f*a-s*l);return[i+h*a,u+h*l]}function In(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function On(){rr(this),this.edge=this.site=this.circle=null}function Fn(t){var e=su.pop()||new On;return e.site=t,e}function Vn(t){Yn(t),iu.remove(t),su.push(t),rr(t)}function Gn(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];Vn(t);for(var u=o;u.circle&&ma(n-u.circle.x)<Ia&&ma(r-u.circle.cy)<Ia;)o=u.P,s.unshift(u),Vn(u),u=o;s.unshift(u),Yn(u);for(var c=a;c.circle&&ma(n-c.circle.x)<Ia&&ma(r-c.circle.cy)<Ia;)a=c.N,s.push(c),Vn(c),c=a;s.push(c),Yn(c);var l,f=s.length;for(l=1;l<f;++l)c=s[l],u=s[l-1],tr(c.edge,u.site,c.site,i);u=s[0],(c=s[f-1]).edge=Kn(u.site,c.site,null,i),$n(u),$n(c)}function zn(t){for(var e,n,r,i,o=t.x,a=t.y,s=iu._;s;)if(r=jn(s,a)-o,Ia<r)s=s.L;else{if(i=o-Hn(s,a),!(Ia<i)){-Ia<r?(e=s.P,n=s):-Ia<i?n=(e=s).N:e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=Fn(t);if(iu.insert(e,u),e||n){if(e===n)return Yn(e),n=Fn(e.site),iu.insert(u,n),u.edge=n.edge=Kn(e.site,u.site),$n(e),void $n(n);if(!n)return void(u.edge=Kn(e.site,u.site));Yn(e),Yn(n);var c=e.site,l=c.x,f=c.y,h=t.x-l,d=t.y-f,p=n.site,g=p.x-l,v=p.y-f,y=2*(h*v-d*g),m=h*h+d*d,x=g*g+v*v,_={x:(v*m-d*x)/y+l,y:(h*x-g*m)/y+f};tr(n.edge,c,p,_),u.edge=Kn(c,t,null,_),n.edge=Kn(t,p,null,_),$n(e),$n(n)}}function jn(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site).x,u=n.y,c=u-e;if(!c)return s;var l=s-r,f=1/o-1/c,h=l/c;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*c)-u+c/2+i-o/2)))/f+r:(r+s)/2}function Hn(t,e){var n=t.N;if(n)return jn(n,e);var r=t.site;return r.y===e?r.x:1/0}function qn(t){this.site=t,this.edges=[]}function Bn(t){for(var e,n,r,i,o,a,s,u,c,l,f=t[0][0],h=t[1][0],d=t[0][1],p=t[1][1],g=ru,v=g.length;v--;)if((o=g[v])&&o.prepare())for(u=(s=o.edges).length,a=0;a<u;)r=(l=s[a].end()).x,i=l.y,e=(c=s[++a%u].start()).x,n=c.y,(ma(r-e)>Ia||ma(i-n)>Ia)&&(s.splice(a,0,new er(Jn(o.site,l,ma(r-f)<Ia&&Ia<p-i?{x:f,y:ma(e-f)<Ia?n:p}:ma(i-p)<Ia&&Ia<h-r?{x:ma(n-p)<Ia?e:h,y:p}:ma(r-h)<Ia&&Ia<i-d?{x:h,y:ma(e-h)<Ia?n:d}:ma(i-d)<Ia&&Ia<r-f?{x:ma(n-d)<Ia?e:f,y:d}:null),o.site,null)),++u)}function Un(t,e){return e.angle-t.angle}function Xn(){rr(this),this.x=this.y=this.arc=this.site=this.cy=null}function $n(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,c=r.y-s,l=o.x-a,f=2*(u*(v=o.y-s)-c*l);if(!(-Oa<=f)){var h=u*u+c*c,d=l*l+v*v,p=(v*h-c*d)/f,g=(u*d-l*h)/f,v=g+s,y=uu.pop()||new Xn;y.arc=t,y.site=i,y.x=p+a,y.y=v+Math.sqrt(p*p+g*g),y.cy=v,t.circle=y;for(var m=null,x=au._;x;)if(y.y<x.y||y.y===x.y&&y.x<=x.x){if(!x.L){m=x.P;break}x=x.L}else{if(!x.R){m=x;break}x=x.R}au.insert(m,y),m||(ou=y)}}}}function Yn(t){var e=t.circle;e&&(e.P||(ou=e.N),au.remove(e),uu.push(e),rr(e),t.circle=null)}function Wn(t){for(var e,n=nu,r=He(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)(!Qn(e=n[i],t)||!r(e)||ma(e.a.x-e.b.x)<Ia&&ma(e.a.y-e.b.y)<Ia)&&(e.a=e.b=null,n.splice(i,1))}function Qn(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],c=e[1][1],l=t.l,f=t.r,h=l.x,d=l.y,p=f.x,g=f.y,v=(h+p)/2,y=(d+g)/2;if(g===d){if(v<a||s<=v)return;if(p<h){if(o){if(o.y>=c)return}else o={x:v,y:u};n={x:v,y:c}}else{if(o){if(o.y<u)return}else o={x:v,y:c};n={x:v,y:u}}}else if(i=y-(r=(h-p)/(g-d))*v,r<-1||1<r)if(p<h){if(o){if(o.y>=c)return}else o={x:(u-i)/r,y:u};n={x:(c-i)/r,y:c}}else{if(o){if(o.y<u)return}else o={x:(c-i)/r,y:c};n={x:(u-i)/r,y:u}}else if(d<g){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function Zn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Kn(t,e,n,r){var i=new Zn(t,e);return nu.push(i),n&&tr(i,t,e,n),r&&tr(i,e,t,r),ru[t.i].edges.push(new er(i,t,e)),ru[e.i].edges.push(new er(i,e,t)),i}function Jn(t,e,n){var r=new Zn(t,null);return r.a=e,r.b=n,nu.push(r),r}function tr(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function er(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function nr(){this._=null}function rr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ir(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function or(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ar(t){for(;t.L;)t=t.L;return t}function sr(t,e){var n,r,i,o=t.sort(ur).pop();for(nu=[],ru=new Array(t.length),iu=new nr,au=new nr;;)if(i=ou,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(ru[o.i]=new qn(o),zn(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;Gn(i.arc)}e&&(Wn(e),Bn(e));var a={cells:ru,edges:nu};return iu=au=nu=ru=null,a}function ur(t,e){return e.y-t.y||e.x-t.x}function cr(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function lr(t){return t.x}function fr(t){return t.y}function hr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function dr(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),u=e.nodes;u[0]&&dr(t,u[0],n,r,a,s),u[1]&&dr(t,u[1],a,r,i,s),u[2]&&dr(t,u[2],n,s,a,o),u[3]&&dr(t,u[3],a,s,i,o)}}function pr(e,v,y,m,x,_,b){var w,S=1/0;return function t(e,n,r,i,o){if(!(_<n||b<r||i<m||o<x)){if(a=e.point){var a,s=v-e.x,u=y-e.y,c=s*s+u*u;if(c<S){var l=Math.sqrt(S=c);m=v-l,x=y-l,_=v+l,b=y+l,w=a}}for(var f=e.nodes,h=.5*(n+i),d=.5*(r+o),p=(d<=y)<<1|h<=v,g=p+4;p<g;++p)if(e=f[3&p])switch(3&p){case 0:t(e,n,r,h,d);break;case 1:t(e,h,r,i,d);break;case 2:t(e,n,d,h,o);break;case 3:t(e,h,d,i,o)}}}(e,m,x,_,b),w}function gr(t,e){t=ua.rgb(t),e=ua.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,s=e.b-i;return function(t){return"#"+_t(Math.round(n+o*t))+_t(Math.round(r+a*t))+_t(Math.round(i+s*t))}}function vr(t,e){var n,r={},i={};for(n in t)n in e?r[n]=xr(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function yr(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function mr(t,r){var e,n,i,o=lu.lastIndex=fu.lastIndex=0,a=-1,s=[],u=[];for(t+="",r+="";(e=lu.exec(t))&&(n=fu.exec(r));)(i=n.index)>o&&(i=r.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(e=e[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,u.push({i:a,x:yr(e,n)})),o=fu.lastIndex;return o<r.length&&(i=r.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?(r=u[0].x,function(t){return r(t)+""}):function(){return r}:(r=u.length,function(t){for(var e,n=0;n<r;++n)s[(e=u[n]).i]=e.x(t);return s.join("")})}function xr(t,e){for(var n,r=ua.interpolators.length;0<=--r&&!(n=ua.interpolators[r](t,e)););return n}function _r(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(xr(t[n],e[n]));for(;n<o;++n)i[n]=t[n];for(;n<a;++n)i[n]=e[n];return function(t){for(n=0;n<s;++n)i[n]=r[n](t);return i}}function br(e){return function(t){return t<=0?0:1<=t?1:e(t)}}function wr(e){return function(t){return 1-e(1-t)}}function Sr(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Tr(t){return t*t}function Mr(t){return t*t*t}function Cr(t){if(t<=0)return 0;if(1<=t)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Ar(e){return function(t){return Math.pow(t,e)}}function kr(t){return 1-Math.cos(t*za)}function Er(t){return Math.pow(2,10*(t-1))}function Lr(t){return 1-Math.sqrt(1-t*t)}function Pr(e,n){var r;return arguments.length<2&&(n=.45),arguments.length?r=n/Va*Math.asin(1/e):(e=1,r=n/4),function(t){return 1+e*Math.pow(2,-10*t)*Math.sin((t-r)*Va/n)}}function Nr(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Dr(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Rr(t,e){t=ua.hcl(t),e=ua.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,a=e.c-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360),function(t){return lt(n+o*t,r+a*t,i+s*t)+""}}function Ir(t,e){t=ua.hsl(t),e=ua.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360),function(t){return ut(n+o*t,r+a*t,i+s*t)+""}}function Or(t,e){t=ua.lab(t),e=ua.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,a=e.a-r,s=e.b-i;return function(t){return ht(n+o*t,r+a*t,i+s*t)+""}}function Fr(e,n){return n-=e,function(t){return Math.round(e+n*t)}}function Vr(t){var e=[t.a,t.b],n=[t.c,t.d],r=zr(e),i=Gr(e,n),o=zr(jr(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ha,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Ha:0}function Gr(t,e){return t[0]*e[0]+t[1]*e[1]}function zr(t){var e=Math.sqrt(Gr(t,t));return e&&(t[0]/=e,t[1]/=e),e}function jr(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Hr(t){return t.length?t.pop()+",":""}function qr(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:yr(t[0],e[0])},{i:i-2,x:yr(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function Br(t,e,n,r){t!==e?(180<t-e?e+=360:180<e-t&&(t+=360),r.push({i:n.push(Hr(n)+"rotate(",null,")")-2,x:yr(t,e)})):e&&n.push(Hr(n)+"rotate("+e+")")}function Ur(t,e,n,r){t!==e?r.push({i:n.push(Hr(n)+"skewX(",null,")")-2,x:yr(t,e)}):e&&n.push(Hr(n)+"skewX("+e+")")}function Xr(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(Hr(n)+"scale(",null,",",null,")");r.push({i:i-4,x:yr(t[0],e[0])},{i:i-2,x:yr(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Hr(n)+"scale("+e+")")}function $r(t,e){var i=[],o=[];return t=ua.transform(t),e=ua.transform(e),qr(t.translate,e.translate,i,o),Br(t.rotate,e.rotate,i,o),Ur(t.skew,e.skew,i,o),Xr(t.scale,e.scale,i,o),t=e=null,function(t){for(var e,n=-1,r=o.length;++n<r;)i[(e=o[n]).i]=e.x(t);return i.join("")}}function Yr(e,n){return n=(n-=e=+e)||1/n,function(t){return(t-e)/n}}function Wr(e,n){return n=(n-=e=+e)||1/n,function(t){return Math.max(0,Math.min(1,(t-e)/n))}}function Qr(t){for(var e=t.source,n=t.target,r=Kr(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Zr(t){for(var e=[],n=t.parent;null!=n;)e.push(t),n=(t=n).parent;return e.push(t),e}function Kr(t,e){if(t===e)return t;for(var n=Zr(t),r=Zr(e),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function Jr(t){t.fixed|=2}function ti(t){t.fixed&=-7}function ei(t){t.fixed|=4,t.px=t.x,t.py=t.y}function ni(t){t.fixed&=-5}function ri(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,u=-1;++u<s;)null!=(o=a[u])&&(ri(o,e,n),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*n[t.point.index];t.charge+=t.pointCharge=c,r+=c*t.point.x,i+=c*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function ii(t,e){return ua.rebind(t,e,"sort","children","value"),(t.nodes=t).links=li,t}function oi(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;0<=--r;)n.push(i[r])}function ai(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function si(t){return t.children}function ui(t){return t.value}function ci(t,e){return e.value-t.value}function li(t){return ua.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function fi(t){return t.x}function hi(t){return t.y}function di(t,e,n){t.y0=e,t.y=n}function pi(t){return ua.range(t.length)}function gi(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function vi(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function yi(t){return t.reduce(mi,0)}function mi(t,e){return t+e[1]}function xi(t,e){return _i(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function _i(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function bi(t){return[ua.min(t),ua.max(t)]}function wi(t,e){return t.value-e.value}function Si(t,e){var n=t._pack_next;(t._pack_next=e)._pack_prev=t,(e._pack_next=n)._pack_prev=e}function Ti(t,e){(t._pack_next=e)._pack_prev=t}function Mi(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return n*n+r*r<.999*i*i}function Ci(t){function e(t){l=Math.min(t.x-t.r,l),f=Math.max(t.x+t.r,f),h=Math.min(t.y-t.r,h),d=Math.max(t.y+t.r,d)}if((n=t.children)&&(c=n.length)){var n,r,i,o,a,s,u,c,l=1/0,f=-1/0,h=1/0,d=-1/0;if(n.forEach(Ai),(r=n[0]).x=-r.r,r.y=0,e(r),1<c&&((i=n[1]).x=i.r,i.y=0,e(i),2<c))for(Li(r,i,o=n[2]),e(o),Si(r,o),Si(r._pack_prev=o,i),i=r._pack_next,a=3;a<c;a++){Li(r,i,o=n[a]);var p=0,g=1,v=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(Mi(s,o)){p=1;break}if(1==p)for(u=r._pack_prev;u!==s._pack_prev&&!Mi(u,o);u=u._pack_prev,v++);p?(g<v||g==v&&i.r<r.r?Ti(r,i=s):Ti(r=u,i),a--):(Si(r,o),e(i=o))}var y=(l+f)/2,m=(h+d)/2,x=0;for(a=0;a<c;a++)(o=n[a]).x-=y,o.y-=m,x=Math.max(x,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=x,n.forEach(ki)}}function Ai(t){t._pack_next=t._pack_prev=t}function ki(t){delete t._pack_next,delete t._pack_prev}function Ei(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var o=-1,a=i.length;++o<a;)Ei(i[o],e,n,r)}function Li(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o,u=.5+((r*=r)-(a*=a))/(2*s),c=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+u*i+c*o,n.y=t.y+u*o-c*i}else n.x=t.x+r,n.y=t.y}function Pi(t,e){return t.parent==e.parent?1:2}function Ni(t){var e=t.children;return e.length?e[0]:t.t}function Di(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Ri(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Ii(t){for(var e,n=0,r=0,i=t.children,o=i.length;0<=--o;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}function Oi(t,e,n){return t.a.parent===e.parent?t.a:n}function Fi(t){return 1+ua.max(t,function(t){return t.y})}function Vi(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Gi(t){var e=t.children;return e&&e.length?Gi(e[0]):t}function zi(t){var e,n=t.children;return n&&(e=n.length)?zi(n[e-1]):t}function ji(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Hi(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function qi(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Bi(t){return t.rangeExtent?t.rangeExtent():qi(t.range())}function Ui(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function Xi(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function $i(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:wu}function Yi(n,t,e,r){var i=[],o=[],a=0,s=Math.min(n.length,t.length)-1;for(n[s]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<=s;)i.push(e(n[a-1],n[a])),o.push(r(t[a-1],t[a]));return function(t){var e=ua.bisect(n,t,1,s)-1;return o[e](i[e](t))}}function Wi(n,r,i,o){function e(){var t=2<Math.min(n.length,r.length)?Yi:Ui,e=o?Wr:Yr;return s=t(n,r,e,i),u=t(r,n,e,xr),a}function a(t){return s(t)}var s,u;return a.invert=function(t){return u(t)},a.domain=function(t){return arguments.length?(n=t.map(Number),e()):n},a.range=function(t){return arguments.length?(r=t,e()):r},a.rangeRound=function(t){return a.range(t).interpolate(Fr)},a.clamp=function(t){return arguments.length?(o=t,e()):o},a.interpolate=function(t){return arguments.length?(i=t,e()):i},a.ticks=function(t){return Ji(n,t)},a.tickFormat=function(t,e){return to(n,t,e)},a.nice=function(t){return Zi(n,t),e()},a.copy=function(){return Wi(n,r,i,o)},e()}function Qi(t,e){return ua.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Zi(t,e){return Xi(t,$i(Ki(t,e)[2])),Xi(t,$i(Ki(t,e)[2])),t}function Ki(t,e){null==e&&(e=10);var n=qi(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Ji(t,e){return ua.range.apply(ua,Ki(t,e))}function to(t,e,n){var r=Ki(t,e);if(n){var i=ls.exec(n);if(i.shift(),"s"===i[8]){var o=ua.formatPrefix(Math.max(ma(r[0]),ma(r[1])));return i[7]||(i[7]="."+eo(o.scale(r[2]))),i[8]="f",n=ua.format(i.join("")),function(t){return n(o.scale(t))+o.symbol}}i[7]||(i[7]="."+no(i[8],r)),n=i.join("")}else n=",."+eo(r[2])+"f";return ua.format(n)}function eo(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function no(t,e){var n=eo(e[2]);return t in Su?Math.abs(n-eo(Math.max(ma(e[0]),ma(e[1]))))+ +("e"!==t):n-2*("%"===t)}function ro(e,u,c,l){function f(t){return(c?Math.log(t<0?0:t):-Math.log(0<t?0:-t))/Math.log(u)}function h(t){return c?Math.pow(u,t):-Math.pow(u,-t)}function i(t){return e(f(t))}return i.invert=function(t){return h(e.invert(t))},i.domain=function(t){return arguments.length?(c=0<=t[0],e.domain((l=t.map(Number)).map(f)),i):l},i.base=function(t){return arguments.length?(u=+t,e.domain(l.map(f)),i):u},i.nice=function(){var t=Xi(l.map(f),c?Math:Mu);return e.domain(t),l=t.map(h),i},i.ticks=function(){var t=qi(l),e=[],n=t[0],r=t[1],i=Math.floor(f(n)),o=Math.ceil(f(r)),a=u%1?2:u;if(isFinite(o-i)){if(c){for(;i<o;i++)for(var s=1;s<a;s++)e.push(h(i)*s);e.push(h(i))}else for(e.push(h(i));i++<o;)for(s=a-1;0<s;s--)e.push(h(i)*s);for(i=0;e[i]<n;i++);for(o=e.length;e[o-1]>r;o--);e=e.slice(i,o)}return e},i.tickFormat=function(t,n){if(!arguments.length)return Tu;arguments.length<2?n=Tu:"function"!=typeof n&&(n=ua.format(n));var r=Math.max(1,u*t/i.ticks().length);return function(t){var e=t/h(Math.round(f(t)));return e*u<u-.5&&(e*=u),e<=r?n(t):""}},i.copy=function(){return ro(e.copy(),u,c,l)},Qi(i,e)}function io(e,n,r){function i(t){return e(o(t))}var o=oo(n),a=oo(1/n);return i.invert=function(t){return a(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain((r=t.map(Number)).map(o)),i):r},i.ticks=function(t){return Ji(r,t)},i.tickFormat=function(t,e){return to(r,t,e)},i.nice=function(t){return i.domain(Zi(r,t))},i.exponent=function(t){return arguments.length?(o=oo(n=t),a=oo(1/n),e.domain(r.map(o)),i):n},i.copy=function(){return io(e.copy(),n,r)},Qi(i,e)}function oo(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ao(s,u){function c(t){return f[((i.get(t)||("range"===u.t?i.set(t,s.push(t)):NaN))-1)%f.length]}function l(e,n){return ua.range(s.length).map(function(t){return e+n*t})}var i,f,h;return c.domain=function(t){if(!arguments.length)return s;s=[],i=new m;for(var e,n=-1,r=t.length;++n<r;)i.has(e=t[n])||i.set(e,s.push(e));return c[u.t].apply(c,u.a)},c.range=function(t){return arguments.length?(f=t,h=0,u={t:"range",a:arguments},c):f},c.rangePoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],r=t[1],i=s.length<2?(n=(n+r)/2,0):(r-n)/(s.length-1+e);return f=l(n+i*e/2,i),h=0,u={t:"rangePoints",a:arguments},c},c.rangeRoundPoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],r=t[1],i=s.length<2?(n=r=Math.round((n+r)/2),0):(r-n)/(s.length-1+e)|0;return f=l(n+Math.round(i*e/2+(r-n-(s.length-1+e)*i)/2),i),h=0,u={t:"rangeRoundPoints",a:arguments},c},c.rangeBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var r=t[1]<t[0],i=t[r-0],o=(t[1-r]-i)/(s.length-e+2*n);return f=l(i+o*n,o),r&&f.reverse(),h=o*(1-e),u={t:"rangeBands",a:arguments},c},c.rangeRoundBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var r=t[1]<t[0],i=t[r-0],o=t[1-r],a=Math.floor((o-i)/(s.length-e+2*n));return f=l(i+Math.round((o-i-(s.length-e)*a)/2),a),r&&f.reverse(),h=Math.round(a*(1-e)),u={t:"rangeRoundBands",a:arguments},c},c.rangeBand=function(){return h},c.rangeExtent=function(){return qi(u.a[0])},c.copy=function(){return ao(s,u)},c.domain(s)}function so(n,r){function e(){var t=0,e=r.length;for(o=[];++t<e;)o[t-1]=ua.quantile(n,t/e);return i}function i(t){return isNaN(t=+t)?void 0:r[ua.bisect(o,t)]}var o;return i.domain=function(t){return arguments.length?(n=t.map(c).filter(l).sort(a),e()):n},i.range=function(t){return arguments.length?(r=t,e()):r},i.quantiles=function(){return o},i.invertExtent=function(t){return(t=r.indexOf(t))<0?[NaN,NaN]:[0<t?o[t-1]:n[0],t<o.length?o[t]:n[n.length-1]]},i.copy=function(){return so(n,r)},e()}function uo(e,n,r){function t(t){return r[Math.max(0,Math.min(a,Math.floor(o*(t-e))))]}function i(){return o=r.length/(n-e),a=r.length-1,t}var o,a;return t.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],i()):[e,n]},t.range=function(t){return arguments.length?(r=t,i()):r},t.invertExtent=function(t){return[t=(t=r.indexOf(t))<0?NaN:t/o+e,t+1/o]},t.copy=function(){return uo(e,n,r)},i()}function co(e,n){function r(t){return t<=t?n[ua.bisect(e,t)]:void 0}return r.domain=function(t){return arguments.length?(e=t,r):e},r.range=function(t){return arguments.length?(n=t,r):n},r.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},r.copy=function(){return co(e,n)},r}function lo(n){function e(t){return+t}return(e.invert=e).domain=e.range=function(t){return arguments.length?(n=t.map(e),e):n},e.ticks=function(t){return Ji(n,t)},e.tickFormat=function(t,e){return to(n,t,e)},e.copy=function(){return lo(n)},e}function fo(){return 0}function ho(t){return t.innerRadius}function po(t){return t.outerRadius}function go(t){return t.startAngle}function vo(t){return t.endAngle}function yo(t){return t&&t.padAngle}function mo(t,e,n,r){return 0<(t-n)*e-(e-r)*t?0:1}function xo(t,e,n,r,i){var o=t[0]-e[0],a=t[1]-e[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),u=s*a,c=-s*o,l=t[0]+u,f=t[1]+c,h=e[0]+u,d=e[1]+c,p=(l+h)/2,g=(f+d)/2,v=h-l,y=d-f,m=v*v+y*y,x=n-r,_=l*d-h*f,b=(y<0?-1:1)*Math.sqrt(Math.max(0,x*x*m-_*_)),w=(_*y-v*b)/m,S=(-_*v-y*b)/m,T=(_*y+v*b)/m,M=(-_*v+y*b)/m,C=w-p,A=S-g,k=T-p,E=M-g;return k*k+E*E<C*C+A*A&&(w=T,S=M),[[w-u,S-c],[w*n/x,S*n/x]]}function _o(c){function e(t){function e(){r.push("M",d(c(i),p))}for(var n,r=[],i=[],o=-1,a=t.length,s=Ct(l),u=Ct(f);++o<a;)h.call(this,n=t[o],o)?i.push([+s.call(this,n,o),+u.call(this,n,o)]):i.length&&(e(),i=[]);return i.length&&e(),r.length?r.join(""):null}var l=En,f=Ln,h=Ee,d=bo,n=d.key,p=.7;return e.x=function(t){return arguments.length?(l=t,e):l},e.y=function(t){return arguments.length?(f=t,e):f},e.defined=function(t){return arguments.length?(h=t,e):h},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?d=t:(d=Pu.get(t)||bo).key,e):n},e.tension=function(t){return arguments.length?(p=t,e):p},e}function bo(t){return 1<t.length?t.join("L"):t+"Z"}function wo(t){return t.join("L")+"Z"}function So(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return 1<n&&i.push("H",r[0]),i.join("")}function To(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function Mo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function Co(t,e){return t.length<4?bo(t):t[1]+Eo(t.slice(1,-1),Lo(t,e))}function Ao(t,e){return t.length<3?wo(t):t[0]+Eo((t.push(t[0]),t),Lo([t[t.length-2]].concat(t,[t[1]]),e))}function ko(t,e){return t.length<3?bo(t):t[0]+Eo(t,Lo(t,e))}function Eo(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return bo(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],u=2),1<e.length){s=e[1],o=t[u],u++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var c=2;c<e.length;c++,u++)o=t[u],s=e[c],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var l=t[u];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+l[0]+","+l[1]}return r}function Lo(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function Po(t){if(t.length<3)return bo(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],u=[i,",",o,"L",Io(Ru,a),",",Io(Ru,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Oo(u,a,s);return t.pop(),u.push("L",r),u.join("")}function No(t){if(t.length<4)return bo(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);for(n.push(Io(Ru,o)+","+Io(Ru,a)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Oo(n,o,a);return n.join("")}function Do(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);for(e=[Io(Ru,a),",",Io(Ru,s)],--r;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Oo(e,a,s);return e.join("")}function Ro(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,c=-1;++c<=n;)i=c/n,(r=t[c])[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*u);return Po(t)}function Io(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Oo(t,e,n){t.push("C",Io(Nu,e),",",Io(Nu,n),",",Io(Du,e),",",Io(Du,n),",",Io(Ru,e),",",Io(Ru,n))}function Fo(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Vo(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=Fo(i,o);++e<n;)r[e]=(a+(a=Fo(i=o,o=t[e+1])))/2;return r[e]=a,r}function Go(t){for(var e,n,r,i,o=[],a=Vo(t),s=-1,u=t.length-1;++s<u;)e=Fo(t[s],t[s+1]),ma(e)<Ia?a[s]=a[s+1]=0:9<(i=(n=a[s]/e)*n+(r=a[s+1]/e)*r)&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r);for(s=-1;++s<=u;)i=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function zo(t){return t.length<3?bo(t):t[0]+Eo(t,Go(t))}function jo(t){for(var e,n,r,i=-1,o=t.length;++i<o;)n=(e=t[i])[0],r=e[1]-za,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Ho(p){function e(t){function e(){o.push("M",_(p(s),S),w,b(p(a.reverse()),S),"Z")}for(var n,r,i,o=[],a=[],s=[],u=-1,c=t.length,l=Ct(g),f=Ct(y),h=g===v?function(){return r}:Ct(v),d=y===m?function(){return i}:Ct(m);++u<c;)x.call(this,n=t[u],u)?(a.push([r=+l.call(this,n,u),i=+f.call(this,n,u)]),s.push([+h.call(this,n,u),+d.call(this,n,u)])):a.length&&(e(),a=[],s=[]);return a.length&&e(),o.length?o.join(""):null}var g=En,v=En,y=0,m=Ln,x=Ee,_=bo,n=_.key,b=_,w="L",S=.7;return e.x=function(t){return arguments.length?(g=v=t,e):v},e.x0=function(t){return arguments.length?(g=t,e):g},e.x1=function(t){return arguments.length?(v=t,e):v},e.y=function(t){return arguments.length?(y=m=t,e):m},e.y0=function(t){return arguments.length?(y=t,e):y},e.y1=function(t){return arguments.length?(m=t,e):m},e.defined=function(t){return arguments.length?(x=t,e):x},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?_=t:(_=Pu.get(t)||bo).key,b=_.reverse||_,w=_.closed?"M":"L",e):n},e.tension=function(t){return arguments.length?(S=t,e):S},e}function qo(t){return t.radius}function Bo(t){return[t.x,t.y]}function Uo(r){return function(){var t=r.apply(this,arguments),e=t[0],n=t[1]-za;return[e*Math.cos(n),e*Math.sin(n)]}}function Xo(){return 64}function $o(){return"circle"}function Yo(t){var e=Math.sqrt(t/Fa);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Wo(r){return function(){var t,e,n;(t=this[r])&&(n=t[e=t.active])&&(n.timer.c=null,n.timer.t=NaN,--t.count?delete t[e]:delete this[r],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Qo(t,e,n){return Sa(t,ju),t.namespace=e,t.id=n,t}function Zo(t,r,i,o){var a=t.id,s=t.namespace;return q(t,"function"==typeof i?function(t,e,n){t[s][a].tween.set(r,o(i.call(t,t.__data__,e,n)))}:(i=o(i),function(t){t[s][a].tween.set(r,i)}))}function Ko(t){return null==t&&(t=""),function(){this.textContent=t}}function Jo(t){return null==t?"__transition__":"__transition_"+t+"__"}function ta(o,a,i,s,t){function e(t){var e=g.delay;return l.t=e+c,e<=t?n(t-e):void(l.c=n)}function n(t){var e=p.active,n=p[e];for(var r in n&&(n.timer.c=null,n.timer.t=NaN,--p.count,delete p[e],n.event&&n.event.interrupt.call(o,o.__data__,n.index)),p)if(+r<s){var i=p[r];i.timer.c=null,i.timer.t=NaN,--p.count,delete p[r]}l.c=u,Pt(function(){return l.c&&u(t||1)&&(l.c=null,l.t=NaN),1},0,c),p.active=s,g.event&&g.event.start.call(o,o.__data__,a),d=[],g.tween.forEach(function(t,e){(e=e.call(o,o.__data__,a))&&d.push(e)}),h=g.ease,f=g.duration}function u(t){for(var e=t/f,n=h(e),r=d.length;0<r;)d[--r].call(o,n);return 1<=e?(g.event&&g.event.end.call(o,o.__data__,a),--p.count?delete p[s]:delete o[i],1):void 0}var c,l,f,h,d,p=o[i]||(o[i]={active:0,count:0}),g=p[s];g||(c=t.time,l=Pt(e,0,c),g=p[s]={tween:new m,time:c,timer:l,delay:t.delay,duration:t.duration,ease:t.ease,index:a},t=null,++p.count)}function ea(t,n,r){t.attr("transform",function(t){var e=n(t)
;return"translate("+(isFinite(e)?e:r(t))+",0)"})}function na(t,n,r){t.attr("transform",function(t){var e=n(t);return"translate(0,"+(isFinite(e)?e:r(t))+")"})}function ra(t){return t.toISOString()}function ia(e,i,t){function a(t){return e(t)}function s(t,e){var n=(t[1]-t[0])/e,r=ua.bisect(Qu,n);return r==Qu.length?[i.year,Ki(t.map(function(t){return t/31536e6}),e)[2]]:r?i[n/Qu[r-1]<Qu[r]/n?r-1:r]:[Ju,Ki(t,e)[2]]}return a.invert=function(t){return oa(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain(t),a):e.domain().map(oa)},a.nice=function(e,n){function r(t){return!isNaN(t)&&!e.range(t,oa(+t+1),n).length}var t=a.domain(),i=qi(t),o=null==e?s(i,10):"number"==typeof e&&s(i,e);return o&&(e=o[0],n=o[1]),a.domain(Xi(t,1<n?{floor:function(t){for(;r(t=e.floor(t));)t=oa(t-1);return t},ceil:function(t){for(;r(t=e.ceil(t));)t=oa(+t+1);return t}}:e))},a.ticks=function(t,e){var n=qi(a.domain()),r=null==t?s(n,10):"number"==typeof t?s(n,t):!t.range&&[{range:t},e];return r&&(t=r[0],e=r[1]),t.range(n[0],oa(+n[1]+1),e<1?1:e)},a.tickFormat=function(){return t},a.copy=function(){return ia(e.copy(),i,t)},Qi(a,e)}function oa(t){return new Date(t)}function aa(t){return JSON.parse(t.responseText)}function sa(t){var e=fa.createRange();return e.selectNode(fa.body),e.createContextualFragment(t.responseText)}var ua={version:"3.5.17"},ca=[].slice,la=function(t){return ca.call(t)},fa=this.document;if(fa)try{la(fa.documentElement.childNodes)[0].nodeType}catch(nc){la=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),fa)try{fa.createElement("DIV").style.setProperty("opacity",0,"")}catch(rc){var ha=this.Element.prototype,da=ha.setAttribute,pa=ha.setAttributeNS,ga=this.CSSStyleDeclaration.prototype,va=ga.setProperty;ha.setAttribute=function(t,e){da.call(this,t,e+"")},ha.setAttributeNS=function(t,e,n){pa.call(this,t,e,n+"")},ga.setProperty=function(t,e,n){va.call(this,t,e+"",n)}}ua.ascending=a,ua.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},ua.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r<=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r<n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r<=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r<n&&(n=r)}return n},ua.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r<=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n<r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r<=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n<r&&(n=r)}return n},ua.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r<=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(r<n&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r<=r){n=i=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(r<n&&(n=r),i<r&&(i=r))}return[n,i]},ua.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)l(n=+t[o])&&(r+=n);else for(;++o<i;)l(n=+e.call(t,t[o],o))&&(r+=n);return r},ua.mean=function(t,e){var n,r=0,i=t.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)l(n=c(t[o]))?r+=n:--a;else for(;++o<i;)l(n=c(e.call(t,t[o],o)))?r+=n:--a;return a?r/a:void 0},ua.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},ua.median=function(t,e){var n,r=[],i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)l(n=c(t[o]))&&r.push(n);else for(;++o<i;)l(n=c(e.call(t,t[o],o)))&&r.push(n);return r.length?ua.quantile(r.sort(a),.5):void 0},ua.variance=function(t,e){var n,r,i=t.length,o=0,a=0,s=-1,u=0;if(1===arguments.length)for(;++s<i;)l(n=c(t[s]))&&(a+=(r=n-o)*(n-(o+=r/++u)));else for(;++s<i;)l(n=c(e.call(t,t[s],s)))&&(a+=(r=n-o)*(n-(o+=r/++u)));return 1<u?a/(u-1):void 0},ua.deviation=function(){var t=ua.variance.apply(this,arguments);return t?Math.sqrt(t):t};var ya=t(a);ua.bisectLeft=ya.left,ua.bisect=ua.bisectRight=ya.right,ua.bisector=function(n){return t(1===n.length?function(t,e){return a(n(t),e)}:n)},ua.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},ua.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},ua.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},ua.transpose=function(t){if(!(i=t.length))return[];for(var e=-1,n=ua.min(t,u),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r},ua.zip=function(){return ua.transpose(arguments)},ua.keys=function(t){var e=[];for(var n in t)e.push(n);return e},ua.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ua.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ua.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);0<=--i;)for(e=(r=t[i]).length;0<=--e;)n[--a]=r[e];return n};var ma=Math.abs;ua.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r,i=[],o=f(ma(n)),a=-1;if(t*=o,e*=o,(n*=o)<0)for(;(r=t+n*++a)>e;)i.push(r/o);else for(;(r=t+n*++a)<e;)i.push(r/o);return i},ua.map=function(t,e){var n=new m;if(t instanceof m)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var a in t)n.set(a,t[a]);return n};var xa="__proto__",_a="\0";e(m,{has:i,get:function(t){return this._[n(t)]},set:function(t,e){return this._[n(t)]=e},remove:o,keys:h,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:r(e),value:this._[e]});return t},size:d,empty:p,forEach:function(t){for(var e in this._)t.call(this,r(e),this._[e])}}),ua.nest=function(){function f(n,t,r){if(r>=g.length)return d?d.call(p,t):h?t.sort(h):t;for(var e,i,o,a,s=-1,u=t.length,c=g[r++],l=new m;++s<u;)(a=l.get(e=c(i=t[s])))?a.push(i):l.set(e,[i]);return n?(i=n(),o=function(t,e){i.set(t,f(n,e,r))}):(i={},o=function(t,e){i[t]=f(n,e,r)}),l.forEach(o),i}function o(t,n){if(n>=g.length)return t;var r=[],i=e[n++];return t.forEach(function(t,e){r.push({key:t,values:o(e,n)})}),i?r.sort(function(t,e){return i(t.key,e.key)}):r}var h,d,p={},g=[],e=[];return p.map=function(t,e){return f(e,t,0)},p.entries=function(t){return o(f(ua.map,t,0),0)},p.key=function(t){return g.push(t),p},p.sortKeys=function(t){return e[g.length-1]=t,p},p.sortValues=function(t){return h=t,p},p.rollup=function(t){return d=t,p},p},ua.set=function(t){var e=new g;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},e(g,{has:i,add:function(t){return this._[n(t+="")]=!0,t},remove:o,values:h,size:d,empty:p,forEach:function(t){for(var e in this._)t.call(this,r(e))}}),ua.behavior={},ua.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=v(t,e,e[n]);return t};var ba=["webkit","ms","moz","Moz","o","O"];ua.dispatch=function(){for(var t=new x,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=b(t);return t},x.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(0<=n&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},ua.event=null,ua.requote=function(t){return t.replace(wa,"\\$&")};var wa=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Sa={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Ta=function(t,e){return e.querySelector(t)},Ma=function(t,e){return e.querySelectorAll(t)},Ca=function(t,e){var n=t.matches||t[y(t,"matchesSelector")];return(Ca=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Ta=function(t,e){return Sizzle(t,e)[0]||null},Ma=Sizzle,Ca=Sizzle.matchesSelector),ua.selection=function(){return ua.select(fa.documentElement)};var Aa=ua.selection.prototype=[];Aa.select=function(t){var e,n,r,i,o=[];t=T(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var u=-1,c=r.length;++u<c;)(i=r[u])?(e.push(n=t.call(i,i.__data__,u,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return S(o)},Aa.selectAll=function(t){var e,n,r=[];t=M(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(e=la(t.call(n,n.__data__,s,i))),e.parentNode=n);return S(r)};var ka="http://www.w3.org/1999/xhtml",Ea={svg:"http://www.w3.org/2000/svg",xhtml:ka,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ua.ns={prefix:Ea,qualify:function(t){var e=t.indexOf(":"),n=t;return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Ea.hasOwnProperty(n)?{space:Ea[n],local:t}:t}},Aa.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=ua.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(C(e,t[e]));return this}return this.each(C(t,e))},Aa.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=E(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!k(t[i]).test(e))return!1;return!0}for(e in t)this.each(L(e,t[e]));return this}return this.each(L(t,e))},Aa.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(N(n,t[n],e));return this}if(r<2){var i=this.node();return R(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(N(t,e,n))},Aa.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(D(e,t[e]));return this}return this.each(D(t,e))},Aa.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Aa.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Aa.append=function(t){return t=V(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Aa.insert=function(t,e){return t=V(t),e=T(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Aa.remove=function(){return this.each(G)},Aa.data=function(t,p){function e(t,e){var n,r,i,o=t.length,a=e.length,s=Math.min(o,a),u=new Array(a),c=new Array(a),l=new Array(o);if(p){var f,h=new m,d=new Array(o);for(n=-1;++n<o;)(r=t[n])&&(h.has(f=p.call(r,r.__data__,n))?l[n]=r:h.set(f,r),d[n]=f);for(n=-1;++n<a;)(r=h.get(f=p.call(e,i=e[n],n)))?!0!==r&&((u[n]=r).__data__=i):c[n]=z(i),h.set(f,!0);for(n=-1;++n<o;)n in d&&!0!==h.get(d[n])&&(l[n]=t[n])}else{for(n=-1;++n<s;)r=t[n],i=e[n],r?(r.__data__=i,u[n]=r):c[n]=z(i);for(;n<a;++n)c[n]=z(e[n]);for(;n<o;++n)l[n]=t[n]}c.update=u,c.parentNode=u.parentNode=l.parentNode=t.parentNode,g.push(c),v.push(u),y.push(l)}var n,r,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(n=this[0]).length);++i<o;)(r=n[i])&&(t[i]=r.__data__);return t}var g=B([]),v=S([]),y=S([]);if("function"==typeof t)for(;++i<o;)e(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<o;)e(n=this[i],t);return v.enter=function(){return g},v.exit=function(){return y},v},Aa.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Aa.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=j(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;s<u;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return S(i)},Aa.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];0<=--i;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Aa.sort=function(t){t=H.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Aa.each=function(r){return q(this,function(t,e,n){r.call(t,t.__data__,e,n)})},Aa.call=function(t){var e=la(arguments);return t.apply(e[0]=this,e),this},Aa.empty=function(){return!this.node()},Aa.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},Aa.size=function(){var t=0;return q(this,function(){++t}),t};var La=[];ua.selection.enter=B,(ua.selection.enter.prototype=La).append=Aa.append,La.empty=Aa.empty,La.node=Aa.node,La.call=Aa.call,La.size=Aa.size,La.select=function(t){for(var e,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var c=-1,l=i.length;++c<l;)(o=i[c])?(e.push(r[c]=n=t.call(i.parentNode,o.__data__,c,s)),n.__data__=o.__data__):e.push(null)}return S(a)},La.insert=function(t,e){return arguments.length<2&&(e=U(this)),Aa.insert.call(this,t,e)},ua.select=function(t){var e;return"string"==typeof t?(e=[Ta(t,fa)]).parentNode=fa.documentElement:(e=[t]).parentNode=s(t),S([e])},ua.selectAll=function(t){var e;return"string"==typeof t?(e=la(Ma(t,fa))).parentNode=fa.documentElement:(e=la(t)).parentNode=null,S([e])},Aa.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(X(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(X(t,e,n))};var Pa=ua.map({mouseenter:"mouseover",mouseleave:"mouseout"});fa&&Pa.forEach(function(t){"on"+t in fa&&Pa.remove(t)});var Na,Da=0;ua.mouse=function(t){return Q(t,w())};var Ra=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ua.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=w().changedTouches),e)for(var r,i=0,o=e.length;i<o;++i)if((r=e[i]).identifier===n)return Q(t,r)},ua.behavior.drag=function(){function e(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function t(d,p,g,v,y){return function(){function t(){var t,e,n=p(o,u);n&&(t=n[0]-h[0],e=n[1]-h[1],s|=t|e,a({type:"drag",x:(h=n)[0]+r[0],y:n[1]+r[1],dx:t,dy:e}))}function e(){p(o,u)&&(l.on(v+c,null).on(y+c,null),f(s),a({type:"dragend"}))}var r,n=this,i=ua.event.target.correspondingElement||ua.event.target,o=n.parentNode,a=m.of(n,arguments),s=0,u=d(),c=".drag"+(null==u?"":"-"+u),l=ua.select(g(i)).on(v+c,t).on(y+c,e),f=W(i),h=p(o,u);x?r=[(r=x.apply(n,arguments)).x-h[0],r.y-h[1]]:r=[0,0],a({type:"dragstart"})}}var m=F(e,"drag","dragstart","dragend"),x=null,n=t(_,ua.mouse,R,"mousemove","mouseup"),r=t(Z,ua.touch,I,"touchmove","touchend");return e.origin=function(t){return arguments.length?(x=t,e):x},ua.rebind(e,m,"on")},ua.touches=function(n,t){return arguments.length<2&&(t=w().touches),t?la(t).map(function(t){var e=Q(n,t);return e.identifier=t.identifier,e}):[]};var Ia=1e-6,Oa=Ia*Ia,Fa=Math.PI,Va=2*Fa,Ga=Va-Ia,za=Fa/2,ja=Fa/180,Ha=180/Fa,qa=Math.SQRT2,Ba=2,Ua=4;ua.interpolateZoom=function(t,e){var n,i,o=t[0],a=t[1],s=t[2],r=e[0],u=e[1],c=e[2],l=r-o,f=u-a,h=l*l+f*f;if(h<Oa)i=Math.log(c/s)/qa,n=function(t){return[o+t*l,a+t*f,s*Math.exp(qa*t*i)]};else{var d=Math.sqrt(h),p=(c*c-s*s+Ua*h)/(2*s*Ba*d),g=(c*c-s*s-Ua*h)/(2*c*Ba*d),v=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(g*g+1)-g);i=(y-v)/qa,n=function(t){var e=t*i,n=rt(v),r=s/(Ba*d)*(n*it(qa*e+v)-nt(v));return[o+r*l,a+r*f,s*n/rt(qa*e+v)]}}return n.duration=1e3*i,n},ua.behavior.zoom=function(){function i(t){t.on(E,s).on($a+".zoom",r).on("dblclick.zoom",o).on(N,C)}function u(t){return[(t[0]-k.x)/k.k,(t[1]-k.y)/k.k]}function n(t){return[t[0]*k.k+k.x,t[1]*k.k+k.y]}function _(t){k.k=Math.max(y[0],Math.min(y[1],t))}function b(t,e){e=n(e),k.x+=t[0]-e[0],k.y+=t[1]-e[1]}function w(t,e,n,r){t.__chart__={x:k.x,y:k.y,k:k.k},_(Math.pow(2,r)),b(c=e,n),t=ua.select(t),0<m&&(t=t.transition().duration(m)),t.call(i.event)}function e(){d&&d.domain(h.range().map(function(t){return(t-k.x)/k.k}).map(h.invert)),g&&g.domain(p.range().map(function(t){return(t-k.y)/k.k}).map(p.invert))}function S(t){x++||t({type:"zoomstart"})}function T(t){e(),t({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function M(t){--x||(t({type:"zoomend"}),c=null)}function s(){function t(){i=1,b(ua.mouse(n),a),T(r)}function e(){o.on(L,null).on(P,null),s(i),M(r)}var n=this,r=D.of(n,arguments),i=0,o=ua.select(R(n)).on(L,t).on(P,e),a=u(ua.mouse(n)),s=W(n);zu.call(n),S(r)}function C(){function l(){var t=ua.touches(d);return c=k.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=u(t))}),t}function t(){var t=ua.event.target;ua.select(t).on(y,f).on(m,h),x.push(t);for(var e=ua.event.changedTouches,n=0,r=e.length;n<r;++n)g[e[n].identifier]=null;var i=l(),o=Date.now();if(1===i.length){if(o-A<500){var a=i[0];w(d,a,g[a.identifier],Math.floor(Math.log(k.k)/Math.LN2)+1),O()}A=o}else if(1<i.length){a=i[0];var s=i[1],u=a[0]-s[0],c=a[1]-s[1];v=u*u+c*c}}function f(){var t,e,n,r,i=ua.touches(d);zu.call(d);for(var o=0,a=i.length;o<a;++o,r=null)if(n=i[o],r=g[n.identifier]){if(e)break;t=n,e=r}if(r){var s=(s=n[0]-t[0])*s+(s=n[1]-t[1])*s,u=v&&Math.sqrt(s/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+r[0])/2,(e[1]+r[1])/2],_(u*c)}A=null,b(t,e),T(p)}function h(){if(ua.event.touches.length){for(var t=ua.event.changedTouches,e=0,n=t.length;e<n;++e)delete g[t[e].identifier];for(var r in g)return void l()}ua.selectAll(x).on(i,null),o.on(E,s).on(N,C),a(),M(p)}var c,d=this,p=D.of(d,arguments),g={},v=0,i=".zoom-"+ua.event.changedTouches[0].identifier,y="touchmove"+i,m="touchend"+i,x=[],o=ua.select(d),a=W(d);t(),S(p),o.on(E,null).on(N,t)}function r(){var t=D.of(this,arguments);f?clearTimeout(f):(zu.call(this),a=u(c=l||ua.mouse(this)),S(t)),f=setTimeout(function(){f=null,M(t)},50),O(),_(Math.pow(2,.002*Xa())*k.k),b(c,a),T(t)}function o(){var t=ua.mouse(this),e=Math.log(k.k)/Math.LN2;w(this,t,u(t),ua.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var a,c,l,f,A,h,d,p,g,k={x:0,y:0,k:1},v=[960,500],y=Ya,m=250,x=0,E="mousedown.zoom",L="mousemove.zoom",P="mouseup.zoom",N="touchstart.zoom",D=F(i,"zoomstart","zoom","zoomend");return $a||($a="onwheel"in fa?(Xa=function(){return-ua.event.deltaY*(ua.event.deltaMode?120:1)},"wheel"):"onmousewheel"in fa?(Xa=function(){return ua.event.wheelDelta},"mousewheel"):(Xa=function(){return-ua.event.detail},"MozMousePixelScroll")),i.event=function(t){t.each(function(){var s=D.of(this,arguments),e=k;Vu?ua.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},S(s)}).tween("zoom:zoom",function(){var r=v[0],t=v[1],i=c?c[0]:r/2,o=c?c[1]:t/2,a=ua.interpolateZoom([(i-k.x)/k.k,(o-k.y)/k.k,r/k.k],[(i-e.x)/e.k,(o-e.y)/e.k,r/e.k]);return function(t){var e=a(t),n=r/e[2];this.__chart__=k={x:i-e[0]*n,y:o-e[1]*n,k:n},T(s)}}).each("interrupt.zoom",function(){M(s)}).each("end.zoom",function(){M(s)}):(this.__chart__=k,S(s),T(s),M(s))})},i.translate=function(t){return arguments.length?(k={x:+t[0],y:+t[1],k:k.k},e(),i):[k.x,k.y]},i.scale=function(t){return arguments.length?(k={x:k.x,y:k.y,k:null},_(+t),e(),i):k.k},i.scaleExtent=function(t){return arguments.length?(y=null==t?Ya:[+t[0],+t[1]],i):y},i.center=function(t){return arguments.length?(l=t&&[+t[0],+t[1]],i):l},i.size=function(t){return arguments.length?(v=t&&[+t[0],+t[1]],i):v},i.duration=function(t){return arguments.length?(m=+t,i):m},i.x=function(t){return arguments.length?(h=(d=t).copy(),k={x:0,y:0,k:1},i):d},i.y=function(t){return arguments.length?(p=(g=t).copy(),k={x:0,y:0,k:1},i):g},ua.rebind(i,D,"on")};var Xa,$a,Ya=[0,1/0];(ua.color=at).prototype.toString=function(){return this.rgb()+""};var Wa=(ua.hsl=st).prototype=new at;Wa.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,this.l/t)},Wa.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,t*this.l)},Wa.rgb=function(){return ut(this.h,this.s,this.l)};var Qa=(ua.hcl=ct).prototype=new at;Qa.brighter=function(t){return new ct(this.h,this.c,Math.min(100,this.l+Za*(arguments.length?t:1)))},Qa.darker=function(t){return new ct(this.h,this.c,Math.max(0,this.l-Za*(arguments.length?t:1)))},Qa.rgb=function(){return lt(this.h,this.c,this.l).rgb()},ua.lab=ft;var Za=18,Ka=.95047,Ja=1,ts=1.08883,es=ft.prototype=new at;es.brighter=function(t){return new ft(Math.min(100,this.l+Za*(arguments.length?t:1)),this.a,this.b)},es.darker=function(t){return new ft(Math.max(0,this.l-Za*(arguments.length?t:1)),this.a,this.b)},es.rgb=function(){return ht(this.l,this.a,this.b)};var ns=(ua.rgb=yt).prototype=new at;ns.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new yt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new yt(i,i,i)},ns.darker=function(t){return new yt((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},ns.hsl=function(){return wt(this.r,this.g,this.b)},ns.toString=function(){return"#"+_t(this.r)+_t(this.g)+_t(this.b)};var rs=ua.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});rs.forEach(function(t,e){rs.set(t,mt(e))}),ua.functor=Ct,ua.xhr=At(I),ua.dsv=function(i,o){function a(t,e,n){arguments.length<3&&(n=e,e=null);var r=kt(t,o,null==e?s:u(e),n);return r.row=function(t){return arguments.length?r.response(null==(e=t)?s:u(t)):e},r}function s(t){return a.parse(t.responseText)}function u(e){return function(t){return a.parse(t.responseText,e)}}function e(t){return t.map(c).join(i)}function c(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var n=new RegExp('["'+i+"\n]"),h=i.charCodeAt(0);return a.parse=function(t,r){var i;return a.parseRows(t,function(t,e){if(i)return i(t,e-1);var n=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=r?function(t,e){return r(n(t),e)}:n})},a.parseRows=function(i,t){function e(){if(u<=c)return s;if(o)return o=!1,a;var t=c;if(34===i.charCodeAt(t)){for(var e=t;e++<u;)if(34===i.charCodeAt(e)){if(34!==i.charCodeAt(e+1))break;++e}return c=e+2,13===(n=i.charCodeAt(e+1))?(o=!0,10===i.charCodeAt(e+2)&&++c):10===n&&(o=!0),i.slice(t+1,e).replace(/""/g,'"')}for(;c<u;){var n,r=1;if(10===(n=i.charCodeAt(c++)))o=!0;else if(13===n)o=!0,10===i.charCodeAt(c)&&(++c,++r);else if(n!==h)continue;return i.slice(t,c-r)}return i.slice(t)}for(var n,o,a={},s={},r=[],u=i.length,c=0,l=0;(n=e())!==s;){for(var f=[];n!==a&&n!==s;)f.push(n),n=e();t&&null==(f=t(f,l++))||r.push(f)}return r},a.format=function(t){if(Array.isArray(t[0]))return a.formatRows(t);var n=new g,r=[];return t.forEach(function(t){for(var e in t)n.has(e)||r.push(n.add(e))}),[r.map(c).join(i)].concat(t.map(function(e){return r.map(function(t){return c(e[t])}).join(i)})).join("\n")},a.formatRows=function(t){return t.map(e).join("\n")},a},ua.csv=ua.dsv(",","text/csv"),ua.tsv=ua.dsv("\t","text/tab-separated-values");var is,os,as,ss,us=this[y(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};ua.timer=function(){Pt.apply(this,arguments)},ua.timer.flush=function(){Dt(),Rt()},ua.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var cs=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Ot);ua.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=ua.round(t,It(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),cs[8+n/3]};var ls=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,fs=ua.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=ua.round(t,It(t,e))).toFixed(Math.max(0,Math.min(20,It(t*(1+1e-15),e))))}}),hs=ua.time={},ds=Date;Gt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ps.setUTCDate.apply(this._,arguments)},setDay:function(){ps.setUTCDay.apply(this._,arguments)},setFullYear:function(){ps.setUTCFullYear.apply(this._,arguments)},setHours:function(){ps.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ps.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ps.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ps.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ps.setUTCSeconds.apply(this._,arguments)},setTime:function(){ps.setTime.apply(this._,arguments)}};var ps=Date.prototype;hs.year=zt(function(t){return(t=hs.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),hs.years=hs.year.range,hs.years.utc=hs.year.utc.range,hs.day=zt(function(t){var e=new ds(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),hs.days=hs.day.range,hs.days.utc=hs.day.utc.range,hs.dayOfYear=function(t){var e=hs.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,n){n=7-n;var e=hs[t]=zt(function(t){return(t=hs.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var e=hs.year(t).getDay();return Math.floor((hs.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});hs[t+"s"]=e.range,hs[t+"s"].utc=e.utc.range,hs[t+"OfYear"]=function(t){var e=hs.year(t).getDay();return Math.floor((hs.dayOfYear(t)+(e+n)%7)/7)}}),hs.week=hs.sunday,hs.weeks=hs.sunday.range,hs.weeks.utc=hs.sunday.utc.range,hs.weekOfYear=hs.sundayOfYear;var gs={"-":"",_:" ",0:"0"},vs=/^\s*\d+/,ys=/^%/;ua.locale=function(t){return{numberFormat:Ft(t),timeFormat:Ht(t)}};var ms=ua.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ua.format=ms.numberFormat,ua.geo={},ce.prototype={s:0,t:0,add:function(t){le(t,this.t,xs),le(xs.s,this.s,this),this.s?this.t+=xs.t:this.s=xs.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var xs=new ce;ua.geo.stream=function(t,e){t&&_s.hasOwnProperty(t.type)?_s[t.type](t,e):fe(t,e)};var _s={Feature:function(t,e){fe(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)fe(n[r].geometry,e)}},bs={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){he(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)he(n[r],e,0)},Polygon:function(t,e){de(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)de(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)fe(n[r],e)}};ua.geo.area=function(t){return ws=0,ua.geo.stream(t,Ts),ws};var ws,Ss=new ce,Ts={sphere:function(){ws+=4*Fa},point:_,lineStart:_,lineEnd:_,polygonStart:function(){Ss.reset(),Ts.lineStart=pe},polygonEnd:function(){var t=2*Ss;ws+=t<0?4*Fa+t:t,Ts.lineStart=Ts.lineEnd=Ts.point=_}};ua.geo.bounds=function(){function l(t,e){x.push(_=[h=t,p=t]),e<d&&(d=e),g<e&&(g=e)}function r(t,e){var n=ge([t*ja,e*ja]);if(y){var r=ye(y,n),i=ye([r[1],-r[0],0],r);_e(i),i=be(i);var o=t-v,a=0<o?1:-1,s=i[0]*Ha*a,u=180<ma(o);if(u^(a*v<s&&s<a*t)){var c=i[1]*Ha;g<c&&(g=c)}else if(u^(a*v<(s=(s+360)%360-180)&&s<a*t)){(c=-i[1]*Ha)<d&&(d=c)}else e<d&&(d=e),g<e&&(g=e);u?t<v?f(h,t)>f(h,p)&&(p=t):f(t,p)>f(h,p)&&(h=t):h<=p?(t<h&&(h=t),p<t&&(p=t)):v<t?f(h,t)>f(h,p)&&(p=t):f(t,p)>f(h,p)&&(h=t)}else l(t,e);y=n,v=t}function t(){b.point=r}function e(){_[0]=h,_[1]=p,b.point=l,y=null}function n(t,e){if(y){var n=t-v;m+=180<ma(n)?n+(0<n?360:-360):n}else a=t,s=e;Ts.point(t,e),r(t,e)}function i(){Ts.lineStart()}function o(){n(a,s),Ts.lineEnd(),ma(m)>Ia&&(h=-(p=180)),_[0]=h,_[1]=p,y=null}function f(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function c(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var h,d,p,g,v,a,s,y,m,x,_,b={point:l,lineStart:t,lineEnd:e,polygonStart:function(){b.point=n,b.lineStart=i,b.lineEnd=o,m=0,Ts.polygonStart()},polygonEnd:function(){Ts.polygonEnd(),b.point=l,b.lineStart=t,b.lineEnd=e,Ss<0?(h=-(p=180),d=-(g=90)):Ia<m?g=90:m<-Ia&&(d=-90),_[0]=h,_[1]=p}};return function(t){if(g=p=-(h=d=1/0),x=[],ua.geo.stream(t,b),o=x.length){x.sort(u);for(var e=1,n=[s=x[0]];e<o;++e)c((i=x[e])[0],s)||c(i[1],s)?(f(s[0],i[1])>f(s[0],s[1])&&(s[1]=i[1]),f(i[0],s[1])>f(s[0],s[1])&&(s[0]=i[0])):n.push(s=i);for(var r,i,o,a=-1/0,s=(e=0,n[o=n.length-1]);e<=o;s=i,++e)i=n[e],(r=f(s[1],i[0]))>a&&(a=r,h=i[0],p=s[1])}return x=_=null,h===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[h,d],[p,g]]}}(),ua.geo.centroid=function(t){Ms=Cs=As=ks=Es=Ls=Ps=Ns=Ds=Rs=Is=0,ua.geo.stream(t,Os);var e=Ds,n=Rs,r=Is,i=e*e+n*n+r*r;return i<Oa&&(e=Ls,n=Ps,r=Ns,Cs<Ia&&(e=As,n=ks,r=Es),(i=e*e+n*n+r*r)<Oa)?[NaN,NaN]:[Math.atan2(n,e)*Ha,et(r/Math.sqrt(i))*Ha]};var Ms,Cs,As,ks,Es,Ls,Ps,Ns,Ds,Rs,Is,Os={sphere:_,point:Se,lineStart:Me,lineEnd:Ce,
polygonStart:function(){Os.lineStart=Ae},polygonEnd:function(){Os.lineStart=Me}},Fs=De(Ee,Fe,Ge,[-Fa,-Fa/2]),Vs=1e9;ua.geo.clipExtent=function(){var e,n,r,i,o,a,s={stream:function(t){return o&&(o.valid=!1),(o=a(t)).valid=!0,o},extent:function(t){return arguments.length?(a=qe(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),o&&(o.valid=!1,o=null),s):[[e,n],[r,i]]}};return s.extent([[0,0],[960,500]])},(ua.geo.conicEqualArea=function(){return Be(Ue)}).raw=Ue,ua.geo.albers=function(){return ua.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ua.geo.albersUsa=function(){function i(t){var e=t[0],n=t[1];return r=null,o(e,n),r||(a(e,n),r)||s(e,n),r}var r,o,a,s,u=ua.geo.albers(),c=ua.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=ua.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(t,e){r=[t,e]}};return i.invert=function(t){var e=u.scale(),n=u.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(.12<=i&&i<.234&&-.425<=r&&r<-.214?c:.166<=i&&i<.234&&-.214<=r&&r<-.115?l:u).invert(t)},i.stream=function(t){var n=u.stream(t),r=c.stream(t),i=l.stream(t);return{point:function(t,e){n.point(t,e),r.point(t,e),i.point(t,e)},sphere:function(){n.sphere(),r.sphere(),i.sphere()},lineStart:function(){n.lineStart(),r.lineStart(),i.lineStart()},lineEnd:function(){n.lineEnd(),r.lineEnd(),i.lineEnd()},polygonStart:function(){n.polygonStart(),r.polygonStart(),i.polygonStart()},polygonEnd:function(){n.polygonEnd(),r.polygonEnd(),i.polygonEnd()}}},i.precision=function(t){return arguments.length?(u.precision(t),c.precision(t),l.precision(t),i):u.precision()},i.scale=function(t){return arguments.length?(u.scale(t),c.scale(.35*t),l.scale(t),i.translate(u.translate())):u.scale()},i.translate=function(t){if(!arguments.length)return u.translate();var e=u.scale(),n=+t[0],r=+t[1];return o=u.translate(t).clipExtent([[n-.455*e,r-.238*e],[n+.455*e,r+.238*e]]).stream(f).point,a=c.translate([n-.307*e,r+.201*e]).clipExtent([[n-.425*e+Ia,r+.12*e+Ia],[n-.214*e-Ia,r+.234*e-Ia]]).stream(f).point,s=l.translate([n-.205*e,r+.212*e]).clipExtent([[n-.214*e+Ia,r+.166*e+Ia],[n-.115*e-Ia,r+.234*e-Ia]]).stream(f).point,i},i.scale(1070)};var Gs,zs,js,Hs,qs,Bs,Us={point:_,lineStart:_,lineEnd:_,polygonStart:function(){zs=0,Us.lineStart=Xe},polygonEnd:function(){Us.lineStart=Us.lineEnd=Us.point=_,Gs+=ma(zs/2)}},Xs={point:$e,lineStart:_,lineEnd:_,polygonStart:_,polygonEnd:_},$s={point:Qe,lineStart:Ze,lineEnd:Ke,polygonStart:function(){$s.lineStart=Je},polygonEnd:function(){$s.point=Qe,$s.lineStart=Ze,$s.lineEnd=Ke}};ua.geo.path=function(){function e(t){return t&&("function"==typeof u&&a.pointRadius(+u.apply(this,arguments)),s&&s.valid||(s=o(a)),ua.geo.stream(t,s)),a.result()}function n(){return s=null,e}var r,i,o,a,s,u=4.5;return e.area=function(t){return Gs=0,ua.geo.stream(t,o(Us)),Gs},e.centroid=function(t){return As=ks=Es=Ls=Ps=Ns=Ds=Rs=Is=0,ua.geo.stream(t,o($s)),Is?[Ds/Is,Rs/Is]:Ns?[Ls/Ns,Ps/Ns]:Es?[As/Es,ks/Es]:[NaN,NaN]},e.bounds=function(t){return qs=Bs=-(js=Hs=1/0),ua.geo.stream(t,o(Xs)),[[js,Hs],[qs,Bs]]},e.projection=function(t){return arguments.length?(o=(r=t)?t.stream||nn(t):I,n()):r},e.context=function(t){return arguments.length?(a=null==(i=t)?new Ye:new tn(t),"function"!=typeof u&&a.pointRadius(u),n()):i},e.pointRadius=function(t){return arguments.length?(u="function"==typeof t?t:(a.pointRadius(+t),+t),e):u},e.projection(ua.geo.albersUsa()).context(null)},ua.geo.transform=function(r){return{stream:function(t){var e=new rn(t);for(var n in r)e[n]=r[n];return e}}},rn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ua.geo.projection=an,ua.geo.projectionMutator=sn,(ua.geo.equirectangular=function(){return an(cn)}).raw=cn.invert=cn,ua.geo.rotation=function(e){function t(t){return(t=e(t[0]*ja,t[1]*ja))[0]*=Ha,t[1]*=Ha,t}return e=fn(e[0]%360*ja,e[1]*ja,2<e.length?e[2]*ja:0),t.invert=function(t){return(t=e.invert(t[0]*ja,t[1]*ja))[0]*=Ha,t[1]*=Ha,t},t},ln.invert=cn,ua.geo.circle=function(){function e(){var t="function"==typeof o?o.apply(this,arguments):o,n=fn(-t[0]*ja,-t[1]*ja,0).invert,r=[];return i(null,null,1,{point:function(t,e){r.push(t=n(t,e)),t[0]*=Ha,t[1]*=Ha}}),{type:"Polygon",coordinates:[r]}}var n,i,o=[0,0],r=6;return e.origin=function(t){return arguments.length?(o=t,e):o},e.angle=function(t){return arguments.length?(i=gn((n=+t)*ja,r*ja),e):n},e.precision=function(t){return arguments.length?(i=gn(n*ja,(r=+t)*ja),e):r},e.angle(90)},ua.geo.distance=function(t,e){var n,r=(e[0]-t[0])*ja,i=t[1]*ja,o=e[1]*ja,a=Math.sin(r),s=Math.cos(r),u=Math.sin(i),c=Math.cos(i),l=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((n=f*a)*n+(n=c*l-u*f*s)*n),u*l+c*f*s)},ua.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return ua.range(Math.ceil(o/v)*v,i,v).map(h).concat(ua.range(Math.ceil(c/y)*y,u,y).map(d)).concat(ua.range(Math.ceil(r/p)*p,n,p).filter(function(t){return ma(t%v)>Ia}).map(l)).concat(ua.range(Math.ceil(s/g)*g,a,g).filter(function(t){return ma(t%y)>Ia}).map(f))}var n,r,i,o,a,s,u,c,l,f,h,d,p=10,g=p,v=90,y=360,m=2.5;return e.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},e.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(d(u).slice(1),h(i).reverse().slice(1),d(c).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(o=+t[0][0],i=+t[1][0],c=+t[0][1],u=+t[1][1],i<o&&(t=o,o=i,i=t),u<c&&(t=c,c=u,u=t),e.precision(m)):[[o,c],[i,u]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],n<r&&(t=r,r=n,n=t),a<s&&(t=s,s=a,a=t),e.precision(m)):[[r,s],[n,a]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(v=+t[0],y=+t[1],e):[v,y]},e.minorStep=function(t){return arguments.length?(p=+t[0],g=+t[1],e):[p,g]},e.precision=function(t){return arguments.length?(m=+t,l=yn(s,a,90),f=mn(r,n,m),h=yn(c,u,90),d=mn(o,i,m),e):m},e.majorExtent([[-180,-90+Ia],[180,90-Ia]]).minorExtent([[-180,-80-Ia],[180,80+Ia]])},ua.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[n||i.apply(this,arguments),r||o.apply(this,arguments)]}}var n,r,i=xn,o=_n;return e.distance=function(){return ua.geo.distance(n||i.apply(this,arguments),r||o.apply(this,arguments))},e.source=function(t){return arguments.length?(n="function"==typeof(i=t)?null:t,e):i},e.target=function(t){return arguments.length?(r="function"==typeof(o=t)?null:t,e):o},e.precision=function(){return arguments.length?e:0},e},ua.geo.interpolate=function(t,e){return bn(t[0]*ja,t[1]*ja,e[0]*ja,e[1]*ja)},ua.geo.length=function(t){return Ys=0,ua.geo.stream(t,Ws),Ys};var Ys,Ws={sphere:_,point:_,lineStart:wn,lineEnd:_,polygonStart:_,polygonEnd:_},Qs=Sn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ua.geo.azimuthalEqualArea=function(){return an(Qs)}).raw=Qs;var Zs=Sn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},I);(ua.geo.azimuthalEquidistant=function(){return an(Zs)}).raw=Zs,(ua.geo.conicConformal=function(){return Be(Tn)}).raw=Tn,(ua.geo.conicEquidistant=function(){return Be(Mn)}).raw=Mn;var Ks=Sn(function(t){return 1/t},Math.atan);(ua.geo.gnomonic=function(){return an(Ks)}).raw=Ks,Cn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-za]},(ua.geo.mercator=function(){return An(Cn)}).raw=Cn;var Js=Sn(function(){return 1},Math.asin);(ua.geo.orthographic=function(){return an(Js)}).raw=Js;var tu=Sn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ua.geo.stereographic=function(){return an(tu)}).raw=tu,kn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-za]},(ua.geo.transverseMercator=function(){var t=An(kn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=kn,ua.geom={},ua.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,n=Ct(h),r=Ct(d),i=t.length,o=[],a=[];for(e=0;e<i;e++)o.push([+n.call(this,t[e],e),+r.call(this,t[e],e),e]);for(o.sort(Nn),e=0;e<i;e++)a.push([o[e][0],-o[e][1]]);var s=Pn(o),u=Pn(a),c=u[0]===s[0],l=u[u.length-1]===s[s.length-1],f=[];for(e=s.length-1;0<=e;--e)f.push(t[o[s[e]][2]]);for(e=+c;e<u.length-l;++e)f.push(t[o[u[e]][2]]);return f}var h=En,d=Ln;return arguments.length?e(t):(e.x=function(t){return arguments.length?(h=t,e):h},e.y=function(t){return arguments.length?(d=t,e):d},e)},ua.geom.polygon=function(t){return Sa(t,eu),t};var eu=ua.geom.polygon.prototype=[];eu.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},eu.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},eu.clip=function(t){for(var e,n,r,i,o,a,s=In(t),u=-1,c=this.length-In(this),l=this[c-1];++u<c;){for(e=t.slice(),t.length=0,i=this[u],o=e[(r=e.length-s)-1],n=-1;++n<r;)Dn(a=e[n],l,i)?(Dn(o,l,i)||t.push(Rn(o,a,l,i)),t.push(a)):Dn(o,l,i)&&t.push(Rn(o,a,l,i)),o=a;s&&t.push(t[0]),l=i}return t};var nu,ru,iu,ou,au,su=[],uu=[];qn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Un),e.length},er.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},nr.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ar(this._),e.P=null,(e.N=t).P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(ir(this,n),n=(t=n).U),n.C=!1,r.C=!0,or(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(or(this,n),n=(t=n).U),n.C=!1,r.C=!0,ir(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?ar(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,((n.L=o).U=n)!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,(n.R=a).U=n):(n.U=i,t=(i=n).R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,ir(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,or(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,ir(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,or(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ir(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,or(this,i),t=this._;break}e.C=!0,i=(t=i).U}while(!t.C);t&&(t.C=!1)}}},ua.geom.voronoi=function(t){function e(i){var o=new Array(i.length),a=l[0][0],s=l[0][1],u=l[1][0],c=l[1][1];return sr(n(i),l).cells.forEach(function(t,e){var n=t.edges,r=t.site;(o[e]=n.length?n.map(function(t){var e=t.start();return[e.x,e.y]}):r.x>=a&&r.x<=u&&r.y>=s&&r.y<=c?[[a,c],[u,c],[u,s],[a,s]]:[]).point=i[e]}),o}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Ia)*Ia,y:Math.round(a(t,e)/Ia)*Ia,i:e}})}var r=En,i=Ln,o=r,a=i,l=cu;return t?e(t):(e.links=function(e){return sr(n(e)).edges.filter(function(t){return t.l&&t.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},e.triangles=function(c){var l=[];return sr(n(c)).cells.forEach(function(t,e){for(var n,r=t.site,i=t.edges.sort(Un),o=-1,a=i.length,s=i[a-1].edge,u=s.l===r?s.r:s.l;++o<a;)s,n=u,u=(s=i[o].edge).l===r?s.r:s.l,e<n.i&&e<u.i&&cr(r,n,u)<0&&l.push([c[e],c[n.i],c[u.i]])}),l},e.x=function(t){return arguments.length?(o=Ct(r=t),e):r},e.y=function(t){return arguments.length?(a=Ct(i=t),e):i},e.clipExtent=function(t){return arguments.length?(l=null==t?cu:t,e):l===cu?null:l},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):l===cu?null:l&&l[1]},e)};var cu=[[-1e6,-1e6],[1e6,1e6]];ua.geom.delaunay=function(t){return ua.geom.voronoi().triangles(t)},ua.geom.quadtree=function(t,x,_,b,w){function e(t){function d(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,c=t.y;if(null!=u)if(ma(u-n)+ma(c-r)<.01)f(t,e,n,r,i,o,a,s);else{var l=t.point;t.x=t.y=t.point=null,f(t,l,u,c,i,o,a,s),f(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else f(t,e,n,r,i,o,a,s)}function f(t,e,n,r,i,o,a,s){var u=.5*(i+a),c=.5*(o+s),l=u<=n,f=c<=r,h=f<<1|l;t.leaf=!1,l?i=u:a=u,f?o=c:s=c,d(t=t.nodes[h]||(t.nodes[h]=hr()),e,n,r,i,o,a,s)}var e,n,r,i,o,a,s,u,c,l=Ct(T),h=Ct(M);if(null!=x)a=x,s=_,u=b,c=w;else if(u=c=-(a=s=1/0),n=[],r=[],o=t.length,S)for(i=0;i<o;++i)(e=t[i]).x<a&&(a=e.x),e.y<s&&(s=e.y),e.x>u&&(u=e.x),e.y>c&&(c=e.y),n.push(e.x),r.push(e.y);else for(i=0;i<o;++i){var p=+l(e=t[i],i),g=+h(e,i);p<a&&(a=p),g<s&&(s=g),u<p&&(u=p),c<g&&(c=g),n.push(p),r.push(g)}var v=u-a,y=c-s;y<v?c=s+v:u=a+y;var m=hr();if(m.add=function(t){d(m,t,+l(t,++i),+h(t,i),a,s,u,c)},m.visit=function(t){dr(t,m,a,s,u,c)},m.find=function(t){return pr(m,t[0],t[1],a,s,u,c)},i=-1,null==x){for(;++i<o;)d(m,t[i],n[i],r[i],a,s,u,c);--i}else t.forEach(m.add);return n=r=t=e=null,m}var S,T=En,M=Ln;return(S=arguments.length)?(T=lr,M=fr,3===S&&(w=_,b=x,_=x=0),e(t)):(e.x=function(t){return arguments.length?(T=t,e):T},e.y=function(t){return arguments.length?(M=t,e):M},e.extent=function(t){return arguments.length?(null==t?x=_=b=w=null:(x=+t[0][0],_=+t[0][1],b=+t[1][0],w=+t[1][1]),e):null==x?null:[[x,_],[b,w]]},e.size=function(t){return arguments.length?(null==t?x=_=b=w=null:(x=_=0,b=+t[0],w=+t[1]),e):null==x?null:[b-x,w-_]},e)},ua.interpolateRgb=gr,ua.interpolateObject=vr,ua.interpolateNumber=yr,ua.interpolateString=mr;var lu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fu=new RegExp(lu.source,"g");ua.interpolate=xr,ua.interpolators=[function(t,e){var n=typeof e;return("string"===n?rs.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?gr:mr:e instanceof at?gr:Array.isArray(e)?_r:"object"===n&&isNaN(e)?vr:yr)(t,e)}],ua.interpolateArray=_r;var hu=function(){return I},du=ua.map({linear:hu,poly:Ar,quad:function(){return Tr},cubic:function(){return Mr},sin:function(){return kr},exp:function(){return Er},circle:function(){return Lr},elastic:Pr,back:Nr,bounce:function(){return Dr}}),pu=ua.map({"in":I,out:wr,"in-out":Sr,"out-in":function(t){return Sr(wr(t))}});ua.ease=function(t){var e=t.indexOf("-"),n=0<=e?t.slice(0,e):t,r=0<=e?t.slice(e+1):"in";return n=du.get(n)||hu,br((r=pu.get(r)||I)(n.apply(null,ca.call(arguments,1))))},ua.interpolateHcl=Rr,ua.interpolateHsl=Ir,ua.interpolateLab=Or,ua.interpolateRound=Fr,ua.transform=function(t){var n=fa.createElementNS(ua.ns.prefix.svg,"g");return(ua.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new Vr(e?e.matrix:gu)})(t)},Vr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var gu={a:1,b:0,c:0,d:1,e:0,f:0};ua.interpolateTransform=$r,ua.layout={},ua.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Qr(t[n]));return e}},ua.layout.chord=function(){function t(){var t,e,n,r,i,o={},a=[],s=ua.range(_),u=[];for(y=[],m=[],t=0,r=-1;++r<_;){for(e=0,i=-1;++i<_;)e+=x[r][i];a.push(e),u.push(ua.range(_)),t+=e}for(b&&s.sort(function(t,e){return b(a[t],a[e])}),w&&u.forEach(function(t,n){t.sort(function(t,e){return w(x[n][t],x[n][e])})}),t=(Va-T*_)/t,e=0,r=-1;++r<_;){for(n=e,i=-1;++i<_;){var c=s[r],l=u[c][i],f=x[c][l],h=e,d=e+=f*t;o[c+"-"+l]={index:c,subindex:l,startAngle:h,endAngle:d,value:f}}m[c]={index:c,startAngle:n,endAngle:e,value:a[c]},e+=T}for(r=-1;++r<_;)for(i=r-1;++i<_;){var p=o[r+"-"+i],g=o[i+"-"+r];(p.value||g.value)&&y.push(p.value<g.value?{source:g,target:p}:{source:p,target:g})}S&&v()}function v(){y.sort(function(t,e){return S((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var y,m,x,_,b,w,S,e={},T=0;return e.matrix=function(t){return arguments.length?(_=(x=t)&&x.length,y=m=null,e):x},e.padding=function(t){return arguments.length?(T=t,y=m=null,e):T},e.sortGroups=function(t){return arguments.length?(b=t,y=m=null,e):b},e.sortSubgroups=function(t){return arguments.length?(w=t,y=null,e):w},e.sortChords=function(t){return arguments.length?(S=t,y&&v(),e):S},e.chords=function(){return y||t(),y},e.groups=function(){return m||t(),m},e},ua.layout.force=function(){function f(c){return function(t,e,n,r){if(t.point!==c){var i=t.cx-c.x,o=t.cy-c.y,a=r-e,s=i*i+o*o;if(a*a/w<s){if(s<l){var u=t.charge/s;c.px-=i*u,c.py-=o*u}return!0}if(t.point&&s&&s<l){u=t.pointCharge/s;c.px-=i*u,c.py-=o*u}}return!t.charge}}function t(t){t.px=ua.event.x,t.py=ua.event.y,i.resume()}var h,e,d,p,g,v,i={},y=ua.dispatch("start","tick","end"),m=[1,1],x=.9,o=vu,a=yu,_=-30,l=mu,b=.1,w=.64,S=[],T=[];return i.tick=function(){if((d*=.99)<.005)return h=null,y.end({type:"end",alpha:d=0}),!0;var t,e,n,r,i,o,a,s,u,c=S.length,l=T.length;for(e=0;e<l;++e)r=(n=T[e]).source,(o=(s=(i=n.target).x-r.x)*s+(u=i.y-r.y)*u)&&(s*=o=d*g[e]*((o=Math.sqrt(o))-p[e])/o,u*=o,i.x-=s*(a=r.weight+i.weight?r.weight/(r.weight+i.weight):.5),i.y-=u*a,r.x+=s*(a=1-a),r.y+=u*a);if((a=d*b)&&(s=m[0]/2,u=m[1]/2,e=-1,a))for(;++e<c;)(n=S[e]).x+=(s-n.x)*a,n.y+=(u-n.y)*a;if(_)for(ri(t=ua.geom.quadtree(S),d,v),e=-1;++e<c;)(n=S[e]).fixed||t.visit(f(n));for(e=-1;++e<c;)(n=S[e]).fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*x,n.y-=(n.py-(n.py=n.y))*x);y.tick({type:"tick",alpha:d})},i.nodes=function(t){return arguments.length?(S=t,i):S},i.links=function(t){return arguments.length?(T=t,i):T},i.size=function(t){return arguments.length?(m=t,i):m},i.linkDistance=function(t){return arguments.length?(o="function"==typeof t?t:+t,i):o},i.distance=i.linkDistance,i.linkStrength=function(t){return arguments.length?(a="function"==typeof t?t:+t,i):a},i.friction=function(t){return arguments.length?(x=+t,i):x},i.charge=function(t){return arguments.length?(_="function"==typeof t?t:+t,i):_},i.chargeDistance=function(t){return arguments.length?(l=t*t,i):Math.sqrt(l)},i.gravity=function(t){return arguments.length?(b=+t,i):b},i.theta=function(t){return arguments.length?(w=t*t,i):Math.sqrt(w)},i.alpha=function(t){return arguments.length?(t=+t,d?0<t?d=t:(h.c=null,h.t=NaN,h=null,y.end({type:"end",alpha:d=0})):0<t&&(y.start({type:"start",alpha:d=t}),h=Pt(i.tick)),i):d},i.start=function(){function t(t,e){if(!u){for(u=new Array(c),o=0;o<c;++o)u[o]=[];for(o=0;o<l;++o){var n=T[o];u[n.source.index].push(n.target),u[n.target.index].push(n.source)}}for(var r,i=u[s],o=-1,a=i.length;++o<a;)if(!isNaN(r=i[o][t]))return r;return Math.random()*e}var s,u,e,c=S.length,l=T.length,n=m[0],r=m[1];for(s=0;s<c;++s)(e=S[s]).index=s,e.weight=0;for(s=0;s<l;++s)"number"==typeof(e=T[s]).source&&(e.source=S[e.source]),"number"==typeof e.target&&(e.target=S[e.target]),++e.source.weight,++e.target.weight;for(s=0;s<c;++s)e=S[s],isNaN(e.x)&&(e.x=t("x",n)),isNaN(e.y)&&(e.y=t("y",r)),isNaN(e.px)&&(e.px=e.x),isNaN(e.py)&&(e.py=e.y);if(p=[],"function"==typeof o)for(s=0;s<l;++s)p[s]=+o.call(this,T[s],s);else for(s=0;s<l;++s)p[s]=o;if(g=[],"function"==typeof a)for(s=0;s<l;++s)g[s]=+a.call(this,T[s],s);else for(s=0;s<l;++s)g[s]=a;if(v=[],"function"==typeof _)for(s=0;s<c;++s)v[s]=+_.call(this,S[s],s);else for(s=0;s<c;++s)v[s]=_;return i.resume()},i.resume=function(){return i.alpha(.1)},i.stop=function(){return i.alpha(0)},i.drag=function(){return e||(e=ua.behavior.drag().origin(I).on("dragstart.force",Jr).on("drag.force",t).on("dragend.force",ti)),arguments.length?void this.on("mouseover.force",ei).on("mouseout.force",ni).call(e):e},ua.rebind(i,y,"on")};var vu=20,yu=1,mu=1/0;ua.layout.hierarchy=function(){function s(t){var e,n=[t],r=[];for(t.depth=0;null!=(e=n.pop());)if(r.push(e),(o=c.call(s,e,e.depth))&&(i=o.length)){for(var i,o,a;0<=--i;)n.push(a=o[i]),a.parent=e,a.depth=e.depth+1;l&&(e.value=0),e.children=o}else l&&(e.value=+l.call(s,e,e.depth)||0),delete e.children;return ai(t,function(t){var e,n;u&&(e=t.children)&&e.sort(u),l&&(n=t.parent)&&(n.value+=t.value)}),r}var u=ci,c=si,l=ui;return s.sort=function(t){return arguments.length?(u=t,s):u},s.children=function(t){return arguments.length?(c=t,s):c},s.value=function(t){return arguments.length?(l=t,s):l},s.revalue=function(t){return l&&(oi(t,function(t){t.children&&(t.value=0)}),ai(t,function(t){var e;t.children||(t.value=+l.call(s,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},s},ua.layout.partition=function(){function c(t,e,n,r){var i=t.children;if(t.x=e,t.y=t.depth*r,t.dx=n,t.dy=r,i&&(o=i.length)){var o,a,s,u=-1;for(n=t.value?n/t.value:0;++u<o;)c(a=i[u],e,s=a.value*n,r),e+=s}}function o(t){var e=t.children,n=0;if(e&&(r=e.length))for(var r,i=-1;++i<r;)n=Math.max(n,o(e[i]));return 1+n}function e(t,e){var n=r.call(this,t,e);return c(n[0],0,i[0],i[1]/o(n[0])),n}var r=ua.layout.hierarchy(),i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},ii(e,r)},ua.layout.pie=function(){function h(n){var e,t=n.length,r=n.map(function(t,e){return+d.call(h,t,e)}),i=+("function"==typeof g?g.apply(this,arguments):g),o=("function"==typeof v?v.apply(this,arguments):v)-i,a=Math.min(Math.abs(o)/t,+("function"==typeof y?y.apply(this,arguments):y)),s=a*(o<0?-1:1),u=ua.sum(r),c=u?(o-t*s)/u:0,l=ua.range(t),f=[];return null!=p&&l.sort(p===xu?function(t,e){return r[e]-r[t]}:function(t,e){return p(n[t],n[e])}),l.forEach(function(t){f[t]={data:n[t],value:e=r[t],startAngle:i,endAngle:i+=e*c+s,padAngle:a}}),f}var d=Number,p=xu,g=0,v=Va,y=0;return h.value=function(t){return arguments.length?(d=t,h):d},h.sort=function(t){return arguments.length?(p=t,h):p},h.startAngle=function(t){return arguments.length?(g=t,h):g},h.endAngle=function(t){return arguments.length?(v=t,h):v},h.padAngle=function(t){return arguments.length?(y=t,h):y},h};var xu={};ua.layout.stack=function(){function f(t,e){if(!(o=t.length))return t;var n=t.map(function(t,e){return h.call(f,t,e)}),r=n.map(function(t){return t.map(function(t,e){return[v.call(f,t,e),y.call(f,t,e)]})}),i=d.call(f,r,e);n=ua.permute(n,i),r=ua.permute(r,i);var o,a,s,u,c=p.call(f,r,e),l=n[0].length;for(s=0;s<l;++s)for(g.call(f,n[0][s],u=c[s],r[0][s][1]),a=1;a<o;++a)g.call(f,n[a][s],u+=r[a-1][s][1],r[a][s][1]);return t}var h=I,d=pi,p=gi,g=di,v=fi,y=hi;return f.values=function(t){return arguments.length?(h=t,f):h},f.order=function(t){return arguments.length?(d="function"==typeof t?t:_u.get(t)||pi,f):d},f.offset=function(t){return arguments.length?(p="function"==typeof t?t:bu.get(t)||gi,f):p},f.x=function(t){return arguments.length?(v=t,f):v},f.y=function(t){return arguments.length?(y=t,f):y},f.out=function(t){return arguments.length?(g=t,f):g},f};var _u=ua.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(vi),o=t.map(yi),a=ua.range(r).sort(function(t,e){return i[t]-i[e]}),s=0,u=0,c=[],l=[];for(e=0;e<r;++e)n=a[e],s<u?(s+=o[n],c.push(n)):(u+=o[n],l.push(n));return l.reverse().concat(c)},reverse:function(t){return ua.range(t.length).reverse()},"default":pi}),bu=ua.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;n<o;++n){for(r=e=0;e<i;e++)r+=t[e][n][1];s<r&&(s=r),a.push(r)}for(n=0;n<o;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,r,i,o,a,s,u,c,l=t.length,f=t[0],h=f.length,d=[];for(d[0]=u=c=0,n=1;n<h;++n){for(i=e=0;e<l;++e)i+=t[e][n][1];for(o=e=0,s=f[n][0]-f[n-1][0];e<l;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}d[n]=u-=i?o/i*s:0,u<c&&(c=u)}for(n=0;n<h;++n)d[n]-=c;return d},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;n<o;++n){for(r=e=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:gi});ua.layout.histogram=function(){function n(t,e){for(var n,r,i=[],o=t.map(h,this),a=d.call(this,o,e),s=p.call(this,a,o,e),u=(e=-1,o.length),c=s.length-1,l=f?1:1/u;++e<c;)(n=i[e]=[]).dx=s[e+1]-(n.x=s[e]),n.y=0;if(0<c)for(e=-1;++e<u;)(r=o[e])>=a[0]&&r<=a[1]&&((n=i[ua.bisect(s,r,1,c)-1]).y+=l,n.push(t[e]));return i}var f=!0,h=Number,d=bi,p=xi;return n.value=function(t){return arguments.length?(h=t,n):h},n.range=function(t){return arguments.length?(d=Ct(t),n):d},n.bins=function(e){return arguments.length?(p="number"==typeof e?function(t){return _i(t,e)}:Ct(e),n):p},n.frequency=function(t){return arguments.length?(f=!!t,n):f},n},ua.layout.pack=function(){function e(t,e){var n=c.call(this,t,e),r=n[0],i=f[0],o=f[1],a=null==u?Math.sqrt:"function"==typeof u?u:function(){return u};if(r.x=r.y=0,ai(r,function(t){t.r=+a(t.value)}),ai(r,Ci),l){var s=l*(u?1:Math.max(2*r.r/i,2*r.r/o))/2;ai(r,function(t){t.r+=s}),ai(r,Ci),ai(r,function(t){t.r-=s})}return Ei(r,i/2,o/2,u?1:1/Math.max(2*r.r/i,2*r.r/o)),n}var u,c=ua.layout.hierarchy().sort(wi),l=0,f=[1,1];return e.size=function(t){return arguments.length?(f=t,e):f},e.radius=function(t){return arguments.length?(u=null==t||"function"==typeof t?t:+t,e):u},e.padding=function(t){return arguments.length?(l=+t,e):l},ii(e,c)},ua.layout.tree=function(){function e(t,e){var n=g.call(this,t,e),r=n[0],i=f(r);if(ai(i,h),i.parent.m=-i.z,oi(i,d),m)oi(r,p);else{var o=r,a=r,s=r;oi(r,function(t){t.x<o.x&&(o=t),t.x>a.x&&(a=t),t.depth>s.depth&&(s=t)});var u=v(o,a)/2-o.x,c=y[0]/(a.x+v(a,o)/2+u),l=y[1]/(s.depth||1);oi(r,function(t){t.x=(t.x+u)*c,t.y=t.depth*l})}return n}function f(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,o=e.children,a=0,s=o.length;a<s;++a)r.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function h(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){Ii(t);var i=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+v(t._,r._),t.m=t.z-i):t.z=i}else r&&(t.z=r.z+v(t._,r._));t.parent.A=o(t,r,t.parent.A||n[0])}function d(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function o(t,e,n){if(e){for(var r,i=t,o=t,a=e,s=i.parent.children[0],u=i.m,c=o.m,l=a.m,f=s.m;a=Di(a),i=Ni(i),a&&i;)s=Ni(s),(o=Di(o)).a=t,0<(r=a.z+l-i.z-u+v(a._,i._))&&(Ri(Oi(a,t,n),t,r),u+=r,c+=r),l+=a.m,u+=i.m,f+=s.m,c+=o.m;a&&!Di(o)&&(o.t=a,o.m+=l-c),i&&!Ni(s)&&(s.t=i,s.m+=u-f,n=t)}return n}function p(t){t.x*=y[0],t.y=t.depth*y[1]}var g=ua.layout.hierarchy().sort(null).value(null),v=Pi,y=[1,1],m=null;return e.separation=function(t){return arguments.length?(v=t,e):v},e.size=function(t){return arguments.length?(m=null==(y=t)?p:null,e):m?null:y},e.nodeSize=function(t){return arguments.length?(m=null==(y=t)?null:p,e):m?y:null},ii(e,g)},ua.layout.cluster=function(){function e(t,e){var n,r=l.call(this,t,e),i=r[0],o=0;ai(i,function(t){var e=t.children;e&&e.length?(t.x=Vi(e),t.y=Fi(e)):(t.x=n?o+=f(t,n):0,t.y=0,n=t)});var a=Gi(i),s=zi(i),u=a.x-f(a,s)/2,c=s.x+f(s,a)/2;return ai(i,d?function(t){t.x=(t.x-i.x)*h[0],t.y=(i.y-t.y)*h[1]}:function(t){t.x=(t.x-u)/(c-u)*h[0],t.y=(1-(i.y?t.y/i.y:1))*h[1]}),r}var l=ua.layout.hierarchy().sort(null).value(null),f=Pi,h=[1,1],d=!1;return e.separation=function(t){return arguments.length?(f=t,e):f},e.size=function(t){return arguments.length?(d=null==(h=t),e):d?null:h},e.nodeSize=function(t){return arguments.length?(d=null!=(h=t),e):d?h:null},ii(e,l)},ua.layout.treemap=function(){function l(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function f(t){var e=t.children;if(e&&e.length){var n,r,i,o=g(t),a=[],s=e.slice(),u=1/0,c="slice"===v?o.dx:"dice"===v?o.dy:"slice-dice"===v?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(l(s,o.dx*o.dy/t.value),a.area=0;0<(i=s.length);)a.push(n=s[i-1]),a.area+=n.area,"squarify"!==v||(r=h(a,c))<=u?(s.pop(),u=r):(a.area-=a.pop().area,d(a,c,o,!1),c=Math.min(o.dx,o.dy),a.length=a.area=0,u=1/0);a.length&&(d(a,c,o,!0),a.length=a.area=0),e.forEach(f)}}function a(t){var e=t.children;if(e&&e.length){var n,r=g(t),i=e.slice(),o=[];for(l(i,r.dx*r.dy/t.value),o.area=0;n=i.pop();)o.push(n),o.area+=n.area,null!=n.z&&(d(o,n.z?r.dx:r.dy,r,!i.length),o.length=o.area=0);e.forEach(a)}}function h(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),i<n&&(i=n));return e*=e,(r*=r)?Math.max(e*i*y/r,r/(e*o*y)):1/0}function d(t,e,n,r){var i,o=-1,a=t.length,s=n.x,u=n.y,c=e?p(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<a;)(i=t[o]).x=s,i.y=u,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?p(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<a;)(i=t[o]).x=s,i.y=u,i.dx=c,u+=i.dy=Math.min(n.y+n.dy-u,c?p(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function i(t){var e=r||o(t),n=e[0];return n.x=n.y=0,n.value?(n.dx=s[0],n.dy=s[1]):n.dx=n.dy=0,r&&o.revalue(n),l([n],n.dx*n.dy/n.value),(r?a:f)(n),c&&(r=e),e}var r,o=ua.layout.hierarchy(),p=Math.round,s=[1,1],u=null,g=ji,c=!1,v="squarify",y=.5*(1+Math.sqrt(5));return i.size=function(t){return arguments.length?(s=t,i):s},i.padding=function(n){function t(t){var e=n.call(i,t,t.depth);return null==e?ji(t):Hi(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Hi(t,n)}return arguments.length?(g=null==(u=n)?ji:"function"==(r=typeof n)?t:("number"===r&&(n=[n,n,n,n]),e),i):u;var r},i.round=function(t){return arguments.length?(p=t?Math.round:Number,i):p!=Number},i.sticky=function(t){return arguments.length?(c=t,r=null,i):c},i.ratio=function(t){return arguments.length?(y=t,i):y},i.mode=function(t){return arguments.length?(v=t+"",i):v},ii(i,o)},ua.random={normal:function(r,i){var t=arguments.length;return t<2&&(i=1),t<1&&(r=0),function(){for(var t,e,n;!(n=(t=2*Math.random()-1)*t+(e=2*Math.random()-1)*e)||1<n;);return r+i*t*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var t=ua.random.normal.apply(ua,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=ua.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}},ua.scale={};var wu={floor:I,ceil:I};ua.scale.linear=function(){return Wi([0,1],[0,1],xr,!1)};var Su={s:1,g:1,p:1,r:1,e:1};ua.scale.log=function(){return ro(ua.scale.linear().domain([0,1]),10,!0,[1,10])};var Tu=ua.format(".0e"),Mu={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};ua.scale.pow=function(){return io(ua.scale.linear(),1,[0,1])},ua.scale.sqrt=function(){return ua.scale.pow().exponent(.5)},ua.scale.ordinal=function(){return ao([],{t:"range",a:[[]]})},ua.scale.category10=function(){return ua.scale.ordinal().range(Cu)},ua.scale.category20=function(){return ua.scale.ordinal().range(Au)},ua.scale.category20b=function(){return ua.scale.ordinal().range(ku)},ua.scale.category20c=function(){return ua.scale.ordinal().range(Eu)};var Cu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(xt),Au=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(xt),ku=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(xt),Eu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(xt);ua.scale.quantile=function(){return so([],[])},ua.scale.quantize=function(){return uo(0,1,[0,1])},ua.scale.threshold=function(){return co([.5],[0,1])},ua.scale.identity=function(){return lo([0,1])},ua.svg={},ua.svg.arc=function(){function e(){var t=Math.max(0,+G.apply(this,arguments)),e=Math.max(0,+z.apply(this,arguments)),n=q.apply(this,arguments)-za,r=B.apply(this,arguments)-za,i=Math.abs(r-n),o=r<n?0:1;if(e<t&&(a=e,e=t,t=a),Ga<=i)return V(e,o)+(t?V(t,1-o):"")+"Z";var a,s,u,c,l,f,h,d,p,g,v,y,m=0,x=0,_=[];if((c=(+U.apply(this,arguments)||0)/2)&&(u=H===Lu?Math.sqrt(t*t+e*e):+H.apply(this,arguments),o||(x*=-1),e&&(x=et(u/e*Math.sin(c))),t&&(m=et(u/t*Math.sin(c)))),e){l=e*Math.cos(n+x),f=e*Math.sin(n+x),h=e*Math.cos(r-x),d=e*Math.sin(r-x);var b=Math.abs(r-n-2*x)<=Fa?0:1;if(x&&mo(l,f,h,d)===o^b){var w=(n+r)/2;l=e*Math.cos(w),f=e*Math.sin(w),h=d=null}}else l=f=0;if(t){p=t*Math.cos(r-m),g=t*Math.sin(r-m),v=t*Math.cos(n+m),y=t*Math.sin(n+m);var S=Math.abs(n-r+2*m)<=Fa?0:1;if(m&&mo(p,g,v,y)===1-o^S){var T=(n+r)/2;p=t*Math.cos(T),g=t*Math.sin(T),v=y=null}}else p=g=0;if(Ia<i&&.001<(a=Math.min(Math.abs(e-t)/2,+j.apply(this,arguments)))){s=t<e^o?0:1;var M=a,C=a;if(i<Fa){
var A=null==v?[p,g]:null==h?[l,f]:Rn([l,f],[v,y],[h,d],[p,g]),k=l-A[0],E=f-A[1],L=h-A[0],P=d-A[1],N=1/Math.sin(Math.acos((k*L+E*P)/(Math.sqrt(k*k+E*E)*Math.sqrt(L*L+P*P)))/2),D=Math.sqrt(A[0]*A[0]+A[1]*A[1]);C=Math.min(a,(t-D)/(N-1)),M=Math.min(a,(e-D)/(N+1))}if(null!=h){var R=xo(null==v?[p,g]:[v,y],[l,f],e,M,o),I=xo([h,d],[p,g],e,M,o);a===M?_.push("M",R[0],"A",M,",",M," 0 0,",s," ",R[1],"A",e,",",e," 0 ",1-o^mo(R[1][0],R[1][1],I[1][0],I[1][1]),",",o," ",I[1],"A",M,",",M," 0 0,",s," ",I[0]):_.push("M",R[0],"A",M,",",M," 0 1,",s," ",I[0])}else _.push("M",l,",",f);if(null!=v){var O=xo([l,f],[v,y],t,-C,o),F=xo([p,g],null==h?[l,f]:[h,d],t,-C,o);a===C?_.push("L",F[0],"A",C,",",C," 0 0,",s," ",F[1],"A",t,",",t," 0 ",o^mo(F[1][0],F[1][1],O[1][0],O[1][1]),",",1-o," ",O[1],"A",C,",",C," 0 0,",s," ",O[0]):_.push("L",F[0],"A",C,",",C," 0 0,",s," ",O[0])}else _.push("L",p,",",g)}else _.push("M",l,",",f),null!=h&&_.push("A",e,",",e," 0 ",b,",",o," ",h,",",d),_.push("L",p,",",g),null!=v&&_.push("A",t,",",t," 0 ",S,",",1-o," ",v,",",y);return _.push("Z"),_.join("")}function V(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var G=ho,z=po,j=fo,H=Lu,q=go,B=vo,U=yo;return e.innerRadius=function(t){return arguments.length?(G=Ct(t),e):G},e.outerRadius=function(t){return arguments.length?(z=Ct(t),e):z},e.cornerRadius=function(t){return arguments.length?(j=Ct(t),e):j},e.padRadius=function(t){return arguments.length?(H=t==Lu?Lu:Ct(t),e):H},e.startAngle=function(t){return arguments.length?(q=Ct(t),e):q},e.endAngle=function(t){return arguments.length?(B=Ct(t),e):B},e.padAngle=function(t){return arguments.length?(U=Ct(t),e):U},e.centroid=function(){var t=(+G.apply(this,arguments)+ +z.apply(this,arguments))/2,e=(+q.apply(this,arguments)+ +B.apply(this,arguments))/2-za;return[Math.cos(e)*t,Math.sin(e)*t]},e};var Lu="auto";ua.svg.line=function(){return _o(I)};var Pu=ua.map({linear:bo,"linear-closed":wo,step:So,"step-before":To,"step-after":Mo,basis:Po,"basis-open":No,"basis-closed":Do,bundle:Ro,cardinal:ko,"cardinal-open":Co,"cardinal-closed":Ao,monotone:zo});Pu.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Nu=[0,2/3,1/3,0],Du=[0,1/3,2/3,0],Ru=[0,1/6,2/3,1/6];ua.svg.line.radial=function(){var t=_o(jo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},(To.reverse=Mo).reverse=To,ua.svg.area=function(){return Ho(I)},ua.svg.area.radial=function(){var t=Ho(jo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ua.svg.chord=function(){function e(t,e){var n=i(this,u,t,e),r=i(this,c,t,e);return"M"+n.p0+a(n.r,n.p1,n.a1-n.a0)+(o(n,r)?s(n.r,n.p1,n.r,n.p0):s(n.r,n.p1,r.r,r.p0)+a(r.r,r.p1,r.a1-r.a0)+s(r.r,r.p1,n.r,n.p0))+"Z"}function i(t,e,n,r){var i=e.call(t,n,r),o=l.call(t,i,r),a=f.call(t,i,r)-za,s=h.call(t,i,r)-za;return{r:o,a0:a,a1:s,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(s),o*Math.sin(s)]}}function o(t,e){return t.a0==e.a0&&t.a1==e.a1}function a(t,e,n){return"A"+t+","+t+" 0 "+ +(Fa<n)+",1 "+e}function s(t,e,n,r){return"Q 0,0 "+r}var u=xn,c=_n,l=qo,f=go,h=vo;return e.radius=function(t){return arguments.length?(l=Ct(t),e):l},e.source=function(t){return arguments.length?(u=Ct(t),e):u},e.target=function(t){return arguments.length?(c=Ct(t),e):c},e.startAngle=function(t){return arguments.length?(f=Ct(t),e):f},e.endAngle=function(t){return arguments.length?(h=Ct(t),e):h},e},ua.svg.diagonal=function(){function e(t,e){var n=a.call(this,t,e),r=s.call(this,t,e),i=(n.y+r.y)/2,o=[n,{x:n.x,y:i},{x:r.x,y:i},r];return"M"+(o=o.map(u))[0]+"C"+o[1]+" "+o[2]+" "+o[3]}var a=xn,s=_n,u=Bo;return e.source=function(t){return arguments.length?(a=Ct(t),e):a},e.target=function(t){return arguments.length?(s=Ct(t),e):s},e.projection=function(t){return arguments.length?(u=t,e):u},e},ua.svg.diagonal.radial=function(){var t=ua.svg.diagonal(),e=Bo,n=t.projection;return t.projection=function(t){return arguments.length?n(Uo(e=t)):e},t},ua.svg.symbol=function(){function e(t,e){return(Iu.get(n.call(this,t,e))||Yo)(r.call(this,t,e))}var n=$o,r=Xo;return e.type=function(t){return arguments.length?(n=Ct(t),e):n},e.size=function(t){return arguments.length?(r=Ct(t),e):r},e};var Iu=ua.map({circle:Yo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Fu)),n=e*Fu;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Ou),n=e*Ou/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Ou),n=e*Ou/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});ua.svg.symbolTypes=Iu.keys();var Ou=Math.sqrt(3),Fu=Math.tan(30*ja);Aa.transition=function(t){for(var e,n,r=Vu||++Hu,i=Jo(t),o=[],a=Gu||{time:Date.now(),ease:Cr,delay:0,duration:250},s=-1,u=this.length;++s<u;){o.push(e=[]);for(var c=this[s],l=-1,f=c.length;++l<f;)(n=c[l])&&ta(n,l,i,r,a),e.push(n)}return Qo(o,i,r)},Aa.interrupt=function(t){return this.each(null==t?zu:Wo(Jo(t)))};var Vu,Gu,zu=Wo(Jo()),ju=[],Hu=0;ju.call=Aa.call,ju.empty=Aa.empty,ju.node=Aa.node,ju.size=Aa.size,ua.transition=function(t,e){return t&&t.transition?Vu?t.transition(e):t:ua.selection().transition(t)},(ua.transition.prototype=ju).select=function(t){var e,n,r,i=this.id,o=this.namespace,a=[];t=T(t);for(var s=-1,u=this.length;++s<u;){a.push(e=[]);for(var c=this[s],l=-1,f=c.length;++l<f;)(r=c[l])&&(n=t.call(r,r.__data__,l,s))?("__data__"in r&&(n.__data__=r.__data__),ta(n,l,o,i,r[o][i]),e.push(n)):e.push(null)}return Qo(a,o,i)},ju.selectAll=function(t){var e,n,r,i,o,a=this.id,s=this.namespace,u=[];t=M(t);for(var c=-1,l=this.length;++c<l;)for(var f=this[c],h=-1,d=f.length;++h<d;)if(r=f[h]){o=r[s][a],n=t.call(r,r.__data__,h,c),u.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&ta(i,p,s,a,o),e.push(i)}return Qo(u,s,a)},ju.filter=function(t){var e,n,r=[];"function"!=typeof t&&(t=j(t));for(var i=0,o=this.length;i<o;i++){r.push(e=[]);for(var a,s=0,u=(a=this[i]).length;s<u;s++)(n=a[s])&&t.call(n,n.__data__,s,i)&&e.push(n)}return Qo(r,this.namespace,this.id)},ju.tween=function(e,n){var r=this.id,i=this.namespace;return arguments.length<2?this.node()[i][r].tween.get(e):q(this,null==n?function(t){t[i][r].tween.remove(e)}:function(t){t[i][r].tween.set(e,n)})},ju.attr=function(t,e){function r(){this.removeAttribute(s)}function i(){this.removeAttributeNS(s.space,s.local)}function n(n){return null==n?r:(n+="",function(){var e,t=this.getAttribute(s);return t!==n&&(e=a(t,n),function(t){this.setAttribute(s,e(t))})})}function o(n){return null==n?i:(n+="",function(){var e,t=this.getAttributeNS(s.space,s.local);return t!==n&&(e=a(t,n),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?$r:xr,s=ua.ns.qualify(t);return Zo(this,"attr."+t,e,s.local?o:n)},ju.attrTween=function(t,r){function e(t,e){var n=r.call(this,t,e,this.getAttribute(i));return n&&function(t){this.setAttribute(i,n(t))}}function n(t,e){var n=r.call(this,t,e,this.getAttributeNS(i.space,i.local));return n&&function(t){this.setAttributeNS(i.space,i.local,n(t))}}var i=ua.ns.qualify(t);return this.tween("attr."+t,i.local?n:e)},ju.style=function(r,t,i){function e(){this.style.removeProperty(r)}function n(n){return null==n?e:(n+="",function(){var e,t=R(this).getComputedStyle(this,null).getPropertyValue(r);return t!==n&&(e=xr(t,n),function(t){this.style.setProperty(r,e(t),i)})})}var o=arguments.length;if(o<3){if("string"!=typeof r){for(i in o<2&&(t=""),r)this.style(i,r[i],t);return this}i=""}return Zo(this,"style."+r,t,n)},ju.styleTween=function(r,i,o){function t(t,e){var n=i.call(this,t,e,R(this).getComputedStyle(this,null).getPropertyValue(r));return n&&function(t){this.style.setProperty(r,n(t),o)}}return arguments.length<3&&(o=""),this.tween("style."+r,t)},ju.text=function(t){return Zo(this,"text",t,Ko)},ju.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},ju.ease=function(e){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:("function"!=typeof e&&(e=ua.ease.apply(ua,arguments)),q(this,function(t){t[r][n].ease=e}))},ju.delay=function(r){var i=this.id,o=this.namespace;return arguments.length<1?this.node()[o][i].delay:q(this,"function"==typeof r?function(t,e,n){t[o][i].delay=+r.call(t,t.__data__,e,n)}:(r=+r,function(t){t[o][i].delay=r}))},ju.duration=function(r){var i=this.id,o=this.namespace;return arguments.length<1?this.node()[o][i].duration:q(this,"function"==typeof r?function(t,e,n){t[o][i].duration=Math.max(1,r.call(t,t.__data__,e,n))}:(r=Math.max(1,r),function(t){t[o][i].duration=r}))},ju.each=function(r,n){var i=this.id,o=this.namespace;if(arguments.length<2){var t=Gu,e=Vu;try{Vu=i,q(this,function(t,e,n){Gu=t[o][i],r.call(t,t.__data__,e,n)})}finally{Gu=t,Vu=e}}else q(this,function(t){var e=t[o][i];(e.event||(e.event=ua.dispatch("start","end","interrupt"))).on(r,n)});return this},ju.transition=function(){for(var t,e,n,r=this.id,i=++Hu,o=this.namespace,a=[],s=0,u=this.length;s<u;s++){a.push(t=[]);for(var c,l=0,f=(c=this[s]).length;l<f;l++)(e=c[l])&&ta(e,l,o,i,{time:(n=e[o][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return Qo(a,o,i)},ua.svg.axis=function(){function n(t){t.each(function(){var t,e=ua.select(this),n=this.__chart__||A,r=this.__chart__=A.copy(),i=null==D?r.ticks?r.ticks.apply(r,N):r.domain():D,o=null==C?r.tickFormat?r.tickFormat.apply(r,N):I:C,a=e.selectAll(".tick").data(i,r),s=a.enter().insert("g",".domain").attr("class","tick").style("opacity",Ia),u=ua.transition(a.exit()).style("opacity",Ia).remove(),c=ua.transition(a.order()).style("opacity",1),l=Math.max(E,0)+P,f=Bi(r),h=e.selectAll(".domain").data([0]),d=(h.enter().append("path").attr("class","domain"),ua.transition(h));s.append("line"),s.append("text");var p,g,v,y,m=s.select("line"),x=c.select("line"),_=a.select("text").text(o),b=s.select("text"),w=c.select("text"),S="top"===k||"left"===k?-1:1;if("bottom"===k||"top"===k?(t=ea,p="x",v="y",g="x2",y="y2",_.attr("dy",S<0?"0em":".71em").style("text-anchor","middle"),d.attr("d","M"+f[0]+","+S*L+"V0H"+f[1]+"V"+S*L)):(t=na,p="y",v="x",g="y2",y="x2",_.attr("dy",".32em").style("text-anchor",S<0?"end":"start"),d.attr("d","M"+S*L+","+f[0]+"H0V"+f[1]+"H"+S*L)),m.attr(y,S*E),b.attr(v,S*l),x.attr(g,0).attr(y,S*E),w.attr(p,0).attr(v,S*l),r.rangeBand){var T=r,M=T.rangeBand()/2;n=r=function(t){return T(t)+M}}else n.rangeBand?n=r:u.call(t,r,n);s.call(t,n,r),c.call(t,r,r)})}var C,A=ua.scale.linear(),k=qu,E=6,L=6,P=3,N=[10],D=null;return n.scale=function(t){return arguments.length?(A=t,n):A},n.orient=function(t){return arguments.length?(k=t in Bu?t+"":qu,n):k},n.ticks=function(){return arguments.length?(N=la(arguments),n):N},n.tickValues=function(t){return arguments.length?(D=t,n):D},n.tickFormat=function(t){return arguments.length?(C=t,n):C},n.tickSize=function(t){var e=arguments.length;return e?(E=+t,L=+arguments[e-1],n):E},n.innerTickSize=function(t){return arguments.length?(E=+t,n):E},n.outerTickSize=function(t){return arguments.length?(L=+t,n):L},n.tickPadding=function(t){return arguments.length?(P=+t,n):P},n.tickSubdivide=function(){return arguments.length&&n},n};var qu="bottom",Bu={top:1,right:1,bottom:1,left:1};ua.svg.brush=function(){function _(t){t.each(function(){var t=ua.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",a).on("touchstart.brush",a),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(s,I);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Uu[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",_.empty()?"none":null);var r,i=ua.transition(t),o=ua.transition(e);A&&(r=Bi(A),o.attr("x",r[0]).attr("width",r[1]-r[0]),w(i)),k&&(r=Bi(k),o.attr("y",r[0]).attr("height",r[1]-r[0]),S(i)),b(i)})}function b(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+E[+/e$/.test(t)]+","+L[+/^s/.test(t)]+")"})}function w(t){t.select(".extent").attr("x",E[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",E[1]-E[0])}function S(t){t.select(".extent").attr("y",L[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",L[1]-L[0])}function a(){function t(){32==ua.event.keyCode&&(p||(f=null,v[0]-=E[1],v[1]-=L[1],p=2),O())}function e(){32==ua.event.keyCode&&2==p&&(v[0]+=E[1],v[1]+=L[1],p=0,O())}function n(){var t=ua.mouse(a),e=!1;o&&(t[0]+=o[0],t[1]+=o[1]),p||(ua.event.altKey?(f||(f=[(E[0]+E[1])/2,(L[0]+L[1])/2]),v[0]=E[+(t[0]<f[0])],v[1]=L[+(t[1]<f[1])]):f=null),h&&r(t,A,0)&&(w(c),e=!0),d&&r(t,k,1)&&(S(c),e=!0),e&&(b(c),u({type:"brush",mode:p?"move":"resize"}))}function r(t,e,n){var r,i,o=Bi(e),a=o[0],s=o[1],u=v[n],c=n?L:E,l=c[1]-c[0];return p&&(a-=u,s-=l+u),r=(n?N:P)?Math.max(a,Math.min(s,t[n])):t[n],p?i=(r+=u)+l:(f&&(u=Math.max(a,Math.min(s,2*f[n]-r))),u<r?(i=r,r=u):i=u),c[0]!=r||c[1]!=i?(n?M=null:T=null,c[0]=r,c[1]=i,!0):void 0}function i(){n(),c.style("pointer-events","all").selectAll(".resize").style("display",_.empty()?"none":null),ua.select("body").style("cursor",null),y.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),g(),u({type:"brushend"})}var f,o,a=this,s=ua.select(ua.event.target),u=C.of(a,arguments),c=ua.select(a),l=s.datum(),h=!/^(n|s)$/.test(l)&&A,d=!/^(e|w)$/.test(l)&&k,p=s.classed("extent"),g=W(a),v=ua.mouse(a),y=ua.select(R(a)).on("keydown.brush",t).on("keyup.brush",e);if(ua.event.changedTouches?y.on("touchmove.brush",n).on("touchend.brush",i):y.on("mousemove.brush",n).on("mouseup.brush",i),c.interrupt().selectAll("*").interrupt(),p)v[0]=E[0]-v[0],v[1]=L[0]-v[1];else if(l){var m=+/w$/.test(l),x=+/^n/.test(l);o=[E[1-m]-v[0],L[1-x]-v[1]],v[0]=E[m],v[1]=L[x]}else ua.event.altKey&&(f=v.slice());c.style("pointer-events","none").selectAll(".resize").style("display",null),ua.select("body").style("cursor",s.style("cursor")),u({type:"brushstart"}),n()}var T,M,C=F(_,"brushstart","brush","brushend"),A=null,k=null,E=[0,0],L=[0,0],P=!0,N=!0,s=Xu[0];return _.event=function(t){t.each(function(){var r=C.of(this,arguments),i={x:E,y:L,i:T,j:M},t=this.__chart__||i;this.__chart__=i,Vu?ua.select(this).transition().each("start.brush",function(){T=t.i,M=t.j,E=t.x,L=t.y,r({type:"brushstart"})}).tween("brush:brush",function(){var e=_r(E,i.x),n=_r(L,i.y);return T=M=null,function(t){E=i.x=e(t),L=i.y=n(t),r({type:"brush",mode:"resize"})}}).each("end.brush",function(){T=i.i,M=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})}):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))})},_.x=function(t){return arguments.length?(s=Xu[!(A=t)<<1|!k],_):A},_.y=function(t){return arguments.length?(s=Xu[!A<<1|!(k=t)],_):k},_.clamp=function(t){return arguments.length?(A&&k?(P=!!t[0],N=!!t[1]):A?P=!!t:k&&(N=!!t),_):A&&k?[P,N]:A?P:k?N:null},_.extent=function(t){var e,n,r,i,o;return arguments.length?(A&&(e=t[0],n=t[1],k&&(e=e[0],n=n[0]),T=[e,n],A.invert&&(e=A(e),n=A(n)),n<e&&(o=e,e=n,n=o),e==E[0]&&n==E[1]||(E=[e,n])),k&&(r=t[0],i=t[1],A&&(r=r[1],i=i[1]),M=[r,i],k.invert&&(r=k(r),i=k(i)),i<r&&(o=r,r=i,i=o),r==L[0]&&i==L[1]||(L=[r,i])),_):(A&&(T?(e=T[0],n=T[1]):(e=E[0],n=E[1],A.invert&&(e=A.invert(e),n=A.invert(n)),n<e&&(o=e,e=n,n=o))),k&&(M?(r=M[0],i=M[1]):(r=L[0],i=L[1],k.invert&&(r=k.invert(r),i=k.invert(i)),i<r&&(o=r,r=i,i=o))),A&&k?[[e,r],[n,i]]:A?[e,n]:k&&[r,i])},_.clear=function(){return _.empty()||(E=[0,0],L=[0,0],T=M=null),_},_.empty=function(){return!!A&&E[0]==E[1]||!!k&&L[0]==L[1]},ua.rebind(_,C,"on")};var Uu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Xu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],$u=hs.format=ms.timeFormat,Yu=$u.utc,Wu=Yu("%Y-%m-%dT%H:%M:%S.%LZ");$u.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ra:Wu,ra.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},ra.toString=Wu.toString,hs.second=zt(function(t){return new ds(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),hs.seconds=hs.second.range,hs.seconds.utc=hs.second.utc.range,hs.minute=zt(function(t){return new ds(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),hs.minutes=hs.minute.range,hs.minutes.utc=hs.minute.utc.range,hs.hour=zt(function(t){var e=t.getTimezoneOffset()/60;return new ds(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),hs.hours=hs.hour.range,hs.hours.utc=hs.hour.utc.range,hs.month=zt(function(t){return(t=hs.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),hs.months=hs.month.range,hs.months.utc=hs.month.utc.range;var Qu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Zu=[[hs.second,1],[hs.second,5],[hs.second,15],[hs.second,30],[hs.minute,1],[hs.minute,5],[hs.minute,15],[hs.minute,30],[hs.hour,1],[hs.hour,3],[hs.hour,6],[hs.hour,12],[hs.day,1],[hs.day,2],[hs.week,1],[hs.month,1],[hs.month,3],[hs.year,1]],Ku=$u.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Ee]]),Ju={range:function(t,e,n){return ua.range(Math.ceil(t/n)*n,+e,n).map(oa)},floor:I,ceil:I};Zu.year=hs.year,hs.scale=function(){return ia(ua.scale.linear(),Zu,Ku)};var tc=Zu.map(function(t){return[t[0].utc,t[1]]}),ec=Yu.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Ee]]);tc.year=hs.year.utc,hs.scale.utc=function(){return ia(ua.scale.linear(),tc,ec)},ua.text=At(function(t){return t.responseText}),ua.json=function(t,e){return kt(t,"application/json",aa,e)},ua.html=function(t,e){return kt(t,"text/html",sa,e)},ua.xml=At(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=ua,define(ua)):"object"==typeof module&&module.exports?module.exports=ua:this.d3=ua}(),function(){"use strict";var i="d3pie",o="0.1.3",a=0,s={header:{title:{text:"",color:"#333333",fontSize:18,font:"arial"},subtitle:{text:"",color:"#666666",fontSize:14,font:"arial"},location:"top-center",titleSubtitlePadding:8},footer:{text:"",color:"#666666",fontSize:14,font:"arial",location:"left"},size:{canvasHeight:500,canvasWidth:500,pieInnerRadius:"0%",pieOuterRadius:null},data:{sortOrder:"none",smallSegmentGrouping:{enabled:!1,value:1,valueType:"percentage",label:"Other",color:"#cccccc"},content:[]},labels:{outer:{format:"label",hideWhenLessThanPercentage:null,pieDistance:30},inner:{format:"percentage",hideWhenLessThanPercentage:null},mainLabel:{color:"#333333",font:"arial",fontSize:10},percentage:{color:"#dddddd",font:"arial",fontSize:10,decimalPlaces:0},value:{color:"#cccc44",font:"arial",fontSize:10},lines:{enabled:!0,style:"curved",color:"segment"},truncation:{enabled:!1,length:30}},effects:{load:{effect:"default",speed:1e3},pullOutSegmentOnClick:{effect:"bounce",speed:300,size:10},highlightSegmentOnMouseover:!0,highlightLuminosity:-.2},misc:{colors:{background:null,segments:["#2484c1","#65a620","#7b6888","#a05d56","#961a1a","#d8d23a","#e98125","#d0743c","#635222","#6ada6a","#0c6197","#7d9058","#207f33","#44b9b0","#bca44a","#e4a14b","#a3acb2","#8cc3e9","#69a6f9","#5b388f","#546e91","#8bde95","#d2ab58","#273c71","#98bf6e","#4daa4b","#98abc5","#cc1010","#31383b","#006391","#c2643f","#b0a474","#a5a39c","#a9c2bc","#22af8c","#7fcecf","#987ac6","#3d3b87","#b77b1c","#c9c2b6","#807ece","#8db27c","#be66a2","#9ed3c6","#00644b","#005064","#77979f","#77e079","#9c73ab","#1f79a7"],segmentStroke:"#ffffff"},gradient:{enabled:!1,percentage:95,color:"#000000"},canvasPadding:{top:5,right:5,bottom:5,left:5},pieCenterOffset:{x:0,y:0},cssPrefix:null},callbacks:{onload:null,onMouseoverSegment:null,onMouseoutSegment:null,onClickSegment:null}},u={initialCheck:function(t){var e=t.cssPrefix,n=t.element,r=t.options;if(!window.d3||!window.d3.hasOwnProperty("version"))return console.error("d3pie error: d3 is not available"),!1;if(!(n instanceof HTMLElement))return console.error("d3pie error: the first d3pie() param must be a valid DOM element (not jQuery) or a ID string."),!1;if(!/[a-zA-Z][a-zA-Z0-9_-]*$/.test(e))return console.error("d3pie error: invalid options.misc.cssPrefix"),!1;if(!h.isArray(r.data.content))return console.error("d3pie error: invalid config structure: missing data.content property."),!1;if(0===r.data.content.length)return console.error("d3pie error: no data supplied."),!1;for(var i=[],o=0;o<r.data.content.length;o++)"number"!=typeof r.data.content[o].value||isNaN(r.data.content[o].value)?console.log("not valid: ",r.data.content[o]):r.data.content[o].value<=0?console.log("not valid - should have positive value: ",r.data.content[o]):i.push(r.data.content[o]);return t.options.data.content=i,!0}},h={addSVGSpace:function(t){var e=t.element,n=t.options.size.canvasWidth,r=t.options.size.canvasHeight,i=t.options.misc.colors.background,o=d3.select(e).append("svg:svg").attr("width",n).attr("height",r);return"transparent"!==i&&o.style("background-color",function(){return i}),o},whenIdExists:function(t,e){var n=1,r=1e3,i=setInterval(function(){document.getElementById(t)&&(clearInterval(i),e()),r<n&&clearInterval(i),n++},1)},whenElementsExist:function(n,r){var i=1,o=1e3,a=setInterval(function(){for(var t=!0,e=0;e<n.length;e++)if(!document.getElementById(n[e])){t=!1;break}t&&(clearInterval(a),r()),o<i&&clearInterval(a),i++},1)},shuffleArray:function(t){for(var e,n,r=t.length;0!==r;)n=Math.floor(Math.random()*r),e=t[r-=1],t[r]=t[n],t[n]=e;return t},processObj:function(t,e,n){return"string"==typeof e?h.processObj(t,e.split("."),n):1==e.length&&void 0!==n?t[e[0]]=n:0==e.length?t:h.processObj(t[e[0]],e.slice(1),n)},getDimensions:function(t){var e=document.getElementById(t),n=0,r=0;if(e){var i=e.getBBox();n=i.width,r=i.height}else console.log("error: getDimensions() "+t+" not found.");return{w:n,h:r}},rectIntersect:function(t,e){return!(e.x>t.x+t.w||e.x+e.w<t.x||e.y+e.h<t.y||e.y>t.y+t.h)},getColorShade:function(t,e){(t=String(t).replace(/[^0-9a-f]/gi,"")).length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||0;for(var n="#",r=0;r<3;r++){var i=parseInt(t.substr(2*r,2),16);n+=("00"+(i=Math.round(Math.min(Math.max(0,i+i*e),255)).toString(16))).substr(i.length)}return n},initSegmentColors:function(t){for(var e=t.options.data.content,n=t.options.misc.colors.segments,r=[],i=0;i<e.length;i++)r.push(e[i].hasOwnProperty("color")?e[i].color:n[i]);return r},applySmallSegmentGrouping:function(t,e){var n;"percentage"===e.valueType&&(n=p.getTotalPieSize(t));for(var r=[],i=[],o=0,a=0;a<t.length;a++)if("percentage"===e.valueType){if(t[a].value/n*100<=e.value){i.push(t[a]),o+=t[a].value;continue}t[a].isGrouped=!1,r.push(t[a])}else{if(t[a].value<=e.value){i.push(t[a]),o+=t[a].value;continue}t[a].isGrouped=!1,r.push(t[a])}return i.length&&r.push({color:e.color,label:e.label,value:o,isGrouped:!0,groupedData:i}),r},showPoint:function(t,e,n){t.append("circle").attr("cx",e).attr("cy",n).attr("r",2).style("fill","black")},isFunction:function(t){return t&&"[object Function]"==={}.toString.call(t)},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)}},v=function(t,e){var n,r,i,o,a,s,u=t||{},c=1,l=arguments.length,f=!1,h=Object.prototype.toString,d=Object.prototype.hasOwnProperty,p={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},g={isFunction:function(t){return"function"===g.type(t)},isArray:Array.isArray||function(t){return"array"===g.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):p[h.call(t)]||"object"},isPlainObject:function(t){if(!t||"object"!==g.type(t)||t.nodeType)return!1;try{if(t.constructor&&!d.call(t,"constructor")&&!d.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}var e;for(e in t);return void 0===e||d.call(t,e)}};for("boolean"==typeof u&&(f=u,u=e||{},c=2),"object"==typeof u||g.isFunction(u)||(u={}),l===c&&(u=this,--c);c<l;c++)if(null!=(n=arguments[c]))for(r in n)i=u[r],u!==(o=n[r])&&(f&&o&&(g.isPlainObject(o)||(a=g.isArray(o)))?(a?(a=!1,s=i&&g.isArray(i)?i:[]):s=i&&g.isPlainObject(i)?i:{},u[r]=v(f,s,o)):void 0!==o&&(u[r]=o));return u},p={toRadians:function(t){return t*(Math.PI/180)},toDegrees:function(t){return t*(180/Math.PI)},computePieRadius:function(t){var e=t.options.size,n=t.options.misc.canvasPadding,r=e.canvasWidth-n.left-n.right,i=e.canvasHeight-n.top-n.bottom;i-=t.textComponents.headerHeight,t.textComponents.footer.exists&&(i-=t.textComponents.footer.h);var o,a,s=(r<(i=i<0?0:i)?r:i)/3;if(null!==e.pieOuterRadius)if(/%/.test(e.pieOuterRadius)){a=(a=99<(a=parseInt(e.pieOuterRadius.replace(/[\D]/,""),10))?99:a)<0?0:a;var u=r<i?r:i;if("none"!==t.options.labels.outer.format){var c=2*parseInt(t.options.labels.outer.pieDistance,10);0<u-c&&(u-=c)}s=Math.floor(u/100*a)/2}else s=parseInt(e.pieOuterRadius,10);/%/.test(e.pieInnerRadius)?(a=(a=99<(a=parseInt(e.pieInnerRadius.replace(/[\D]/,""),10))?99:a)<0?0:a,o=Math.floor(s/100*a)):o=parseInt(e.pieInnerRadius,10),t.innerRadius=o,t.outerRadius=s},getTotalPieSize:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].value;return e},sortPieData:function(t){var e=t.options.data.content;switch(t.options.data.sortOrder){case"none":break;case"random":e=h.shuffleArray(e);break;case"value-asc":e.sort(function(t,e){return t.value<e.value?-1:1});break;case"value-desc":e.sort(function(t,e){return t.value<e.value?1:-1});break;case"label-asc":e.sort(function(t,e){return t.label.toLowerCase()>e.label.toLowerCase()?1:-1});break;case"label-desc":e.sort(function(t,e){return t.label.toLowerCase()<e.label.toLowerCase()?1:-1})}return e},getPieTranslateCenter:function(t){return"translate("+t.x+","+t.y+")"},calculatePieCenter:function(t){var e=t.options.misc.pieCenterOffset,n=t.textComponents.title.exists&&"pie-center"!==t.options.header.location,r=t.textComponents.subtitle.exists&&"pie-center"!==t.options.header.location,i=t.options.misc.canvasPadding.top;n&&r?i+=t.textComponents.title.h+t.options.header.titleSubtitlePadding+t.textComponents.subtitle.h:n?i+=t.textComponents.title.h:r&&(i+=t.textComponents.subtitle.h);var o=0;t.textComponents.footer.exists&&(o=t.textComponents.footer.h+t.options.misc.canvasPadding.bottom);var a=(t.options.size.canvasWidth-t.options.misc.canvasPadding.left-t.options.misc.canvasPadding.right)/2+t.options.misc.canvasPadding.left,s=(t.options.size.canvasHeight-o-i)/2+i;a+=e.x,s+=e.y,t.pieCenter={x:a,y:s}},rotate:function(t,e,n,r,i){var o=Math.cos,a=Math.sin;return{x:(t-n)*o(i=i*Math.PI/180)-(e-r)*a(i)+n,y:(t-n)*a(i)+(e-r)*o(i)+r}},translate:function(t,e,n,r){var i=p.toRadians(r);return{x:t+n*Math.sin(i),y:e-n*Math.cos(i)}},pointIsInArc:function(t,e,n){var r=n.innerRadius()(e),i=n.outerRadius()(e),o=n.startAngle()(e),a=n.endAngle()(e),s=t.x*t.x+t.y*t.y,u=Math.atan2(t.x,-t.y);return u=u<0?u+2*Math.PI:u,r*r<=s&&s<=i*i&&o<=u&&u<=a}},f={add:function(n,r,t){var e=f.getIncludes(t),i=n.options.labels,o=n.svg.insert("g","."+n.cssPrefix+"labels-"+r).attr("class",n.cssPrefix+"labels-"+r).selectAll("."+n.cssPrefix+"labelGroup-"+r).data(n.options.data.content).enter().append("g").attr("id",function(t,e){return n.cssPrefix+"labelGroup"+e+"-"+r}).attr("data-index",function(t,e){return e}).attr("class",n.cssPrefix+"labelGroup-"+r).style("opacity",0);e.mainLabel&&o.append("text").attr("id",function(t,e){return n.cssPrefix+"segmentMainLabel"+e+"-"+r}).attr("class",n.cssPrefix+"segmentMainLabel-"+r).text(function(t){var e=t.label;return i.truncation.enabled&&t.label.length>i.truncation.length&&(e=t.label.substring(0,i.truncation.length)+"..."),e}).style("font-size",i.mainLabel.fontSize+"px").style("font-family",i.mainLabel.font).style("fill",i.mainLabel.color),e.percentage&&o.append("text").attr("id",function(t,e){return n.cssPrefix+"segmentPercentage"+e+"-"+r}).attr("class",n.cssPrefix+"segmentPercentage-"+r).text(function(t){return(t.value/n.totalSize*100).toFixed(n.options.labels.percentage.decimalPlaces)+"%"}).style("font-size",i.percentage.fontSize+"px").style("font-family",i.percentage.font).style("fill",i.percentage.color),e.value&&o.append("text").attr("id",function(t,e){return n.cssPrefix+"segmentValue"+e+"-"+r}).attr("class",n.cssPrefix+"segmentValue-"+r).text(function(t){return t.value}).style("font-size",i.value.fontSize+"px").style("font-family",i.value.font).style("fill",i.value.color)},positionLabelElements:function(r,i,t){f["dimensions-"+i]=[],d3.selectAll("."+r.cssPrefix+"labelGroup-"+i).each(function(){var t=d3.select(this).selectAll("."+r.cssPrefix+"segmentMainLabel-"+i),e=d3.select(this).selectAll("."+r.cssPrefix+"segmentPercentage-"+i),n=d3.select(this).selectAll("."+r.cssPrefix+"segmentValue-"+i);f["dimensions-"+i].push({mainLabel:null!==t.node()?t.node().getBBox():null,percentage:null!==e.node()?e.node().getBBox():null,value:null!==n.node()?n.node().getBBox():null})});var n=5,o=f["dimensions-"+i];switch(t){case"label-value1":d3.selectAll("."+r.cssPrefix+"segmentValue-"+i).attr("dx",function(t,e){return o[e].mainLabel.width+n});break;case"label-value2":d3.selectAll("."+r.cssPrefix+"segmentValue-"+i).attr("dy",function(t,e){return o[e].mainLabel.height});break;case"label-percentage1":d3.selectAll("."+r.cssPrefix+"segmentPercentage-"+i).attr("dx",function(t,e){return o[e].mainLabel.width+n});break;case"label-percentage2":d3.selectAll("."+r.cssPrefix+"segmentPercentage-"+i).attr("dx",function(t,e){return o[e].mainLabel.width/2-o[e].percentage.width/2}).attr("dy",function(t,e){return o[e].mainLabel.height})}},computeLabelLinePositions:function(n){n.lineCoordGroups=[],d3.selectAll("."+n.cssPrefix+"labelGroup-outer").each(function(t,e){return f.computeLinePosition(n,e)})},computeLinePosition:function(t,e){var n,r,i,o,a=g.getSegmentAngle(e,t.options.data.content,t.totalSize,{midpoint:!0}),s=p.rotate(t.pieCenter.x,t.pieCenter.y-t.outerRadius,t.pieCenter.x,t.pieCenter.y,a),u=t.outerLabelGroupData[e].h/5,c=6,l=Math.floor(a/90),f=4;switch(2===l&&180===a&&(l=1),l){case 0:n=t.outerLabelGroupData[e].x-c-(t.outerLabelGroupData[e].x-c-s.x)/2,r=t.outerLabelGroupData[e].y+(s.y-t.outerLabelGroupData[e].y)/f,i=t.outerLabelGroupData[e].x-c,o=t.outerLabelGroupData[e].y-u;break;case 1:n=s.x+(t.outerLabelGroupData[e].x-s.x)/f,r=s.y+(t.outerLabelGroupData[e].y-s.y)/f,i=t.outerLabelGroupData[e].x-c,o=t.outerLabelGroupData[e].y-u;break;case 2:var h=t.outerLabelGroupData[e].x+t.outerLabelGroupData[e].w+c;n=s.x-(s.x-h)/f,r=s.y+(t.outerLabelGroupData[e].y-s.y)/f,i=t.outerLabelGroupData[e].x+t.outerLabelGroupData[e].w+c,o=t.outerLabelGroupData[e].y-u;break;case 3:var d=t.outerLabelGroupData[e].x+t.outerLabelGroupData[e].w+c;n=d+(s.x-d)/f,r=t.outerLabelGroupData[e].y+(s.y-t.outerLabelGroupData[e].y)/f,i=t.outerLabelGroupData[e].x+t.outerLabelGroupData[e].w+c,o=t.outerLabelGroupData[e].y-u}t.lineCoordGroups[e]="straight"===t.options.labels.lines.style?[{x:s.x,y:s.y},{x:i,y:o}]:[{x:s.x,y:s.y},{x:n,y:r},{x:i,y:o}]},addLabelLines:function(i){
var t=i.svg.insert("g","."+i.cssPrefix+"pieChart").attr("class",i.cssPrefix+"lineGroups").style("opacity",0).selectAll("."+i.cssPrefix+"lineGroup").data(i.lineCoordGroups).enter().append("g").attr("class",i.cssPrefix+"lineGroup"),e=d3.svg.line().interpolate("basis").x(function(t){return t.x}).y(function(t){return t.y});t.append("path").attr("d",e).attr("stroke",function(t,e){return"segment"===i.options.labels.lines.color?i.options.colors[e]:i.options.labels.lines.color}).attr("stroke-width",1).attr("fill","none").style("opacity",function(t,e){var n=i.options.labels.outer.hideWhenLessThanPercentage,r=g.getPercentage(i,e);return null!==n&&r<n||""===i.options.data.content[e].label?0:1})},positionLabelGroups:function(l,f){d3.selectAll("."+l.cssPrefix+"labelGroup-"+f).style("opacity",0).attr("transform",function(t,e){var n,r;if("outer"===f)n=l.outerLabelGroupData[e].x,r=l.outerLabelGroupData[e].y;else{var i=v(!0,{},l.pieCenter);if(0<l.innerRadius){var o=g.getSegmentAngle(e,l.options.data.content,l.totalSize,{midpoint:!0}),a=p.translate(l.pieCenter.x,l.pieCenter.y,l.innerRadius,o);i.x=a.x,i.y=a.y}var s=h.getDimensions(l.cssPrefix+"labelGroup"+e+"-inner"),u=s.w/2,c=s.h/4;n=i.x+(l.lineCoordGroups[e][0].x-i.x)/1.8,r=i.y+(l.lineCoordGroups[e][0].y-i.y)/1.8,n-=u,r+=c}return"translate("+n+","+r+")"})},fadeInLabelsAndLines:function(i){var t="default"===i.options.effects.load.effect?i.options.effects.load.speed:1;setTimeout(function(){var t="default"===i.options.effects.load.effect?400:1;d3.selectAll("."+i.cssPrefix+"labelGroup-outer").transition().duration(t).style("opacity",function(t,e){var n=i.options.labels.outer.hideWhenLessThanPercentage,r=g.getPercentage(i,e);return null!==n&&r<n?0:1}),d3.selectAll("."+i.cssPrefix+"labelGroup-inner").transition().duration(t).style("opacity",function(t,e){var n=i.options.labels.inner.hideWhenLessThanPercentage,r=g.getPercentage(i,e);return null!==n&&r<n?0:1}),d3.selectAll("g."+i.cssPrefix+"lineGroups").transition().duration(t).style("opacity",1),h.isFunction(i.options.callbacks.onload)&&setTimeout(function(){try{i.options.callbacks.onload()}catch(t){}},t)},t)},getIncludes:function(t){var e=!1,n=!1,r=!1;switch(t){case"label":e=!0;break;case"value":n=!0;break;case"percentage":r=!0;break;case"label-value1":case"label-value2":n=e=!0;break;case"label-percentage1":case"label-percentage2":r=e=!0}return{mainLabel:e,value:n,percentage:r}},computeOuterLabelCoords:function(n){n.svg.selectAll("."+n.cssPrefix+"labelGroup-outer").each(function(t,e){return f.getIdealOuterLabelPositions(n,e)}),f.resolveOuterLabelCollisions(n)},resolveOuterLabelCollisions:function(t){var e=t.options.data.content.length;f.checkConflict(t,0,"clockwise",e),f.checkConflict(t,e-1,"anticlockwise",e)},checkConflict:function(t,e,n,r){if(!(r<=1)){var i=t.outerLabelGroupData[e].hs;if(!("clockwise"===n&&"right"!=i||"anticlockwise"===n&&"left"!=i)){var o="clockwise"===n?e+1:e-1,a=t.outerLabelGroupData[e],s=t.outerLabelGroupData[o],u={labelHeights:t.outerLabelGroupData[0].h,center:t.pieCenter,lineLength:t.outerRadius+t.options.labels.outer.pieDistance,heightChange:t.outerLabelGroupData[0].h+1};if("clockwise"===n)for(var c=0;c<=e;c++){var l=t.outerLabelGroupData[c];if(h.rectIntersect(l,s)){f.adjustLabelPos(t,o,a,u);break}}else for(c=r-1;e<=c;c--){l=t.outerLabelGroupData[c];if(h.rectIntersect(l,s)){f.adjustLabelPos(t,o,a,u);break}}f.checkConflict(t,o,n,r)}}},adjustLabelPos:function(t,e,n,r){var i,o,a,s;s=n.y+r.heightChange,o=r.center.y-s,i=Math.sqrt(Math.abs(r.lineLength)>Math.abs(o)?r.lineLength*r.lineLength-o*o:o*o-r.lineLength*r.lineLength),(a="right"===n.hs?r.center.x+i:r.center.x-i-t.outerLabelGroupData[e].w)||console.log(n.hs,i),t.outerLabelGroupData[e].x=a,t.outerLabelGroupData[e].y=s},getIdealOuterLabelPositions:function(t,e){var n=d3.select("#"+t.cssPrefix+"labelGroup"+e+"-outer").node().getBBox(),r=g.getSegmentAngle(e,t.options.data.content,t.totalSize,{midpoint:!0}),i=t.pieCenter.x,o=t.pieCenter.y-(t.outerRadius+t.options.labels.outer.pieDistance),a=p.rotate(i,o,t.pieCenter.x,t.pieCenter.y,r),s="right";180<r?(a.x-=n.width+8,s="left"):a.x+=8,t.outerLabelGroupData[e]={x:a.x,y:a.y,w:n.width,h:n.height,hs:s}}},g={create:function(r){var t=r.pieCenter,i=r.options.colors,e=r.options.effects.load,n=r.options.misc.colors.segmentStroke,o=r.svg.insert("g","#"+r.cssPrefix+"title").attr("transform",function(){return p.getPieTranslateCenter(t)}).attr("class",r.cssPrefix+"pieChart"),a=d3.svg.arc().innerRadius(r.innerRadius).outerRadius(r.outerRadius).startAngle(0).endAngle(function(t){return t.value/r.totalSize*2*Math.PI}),s=o.selectAll("."+r.cssPrefix+"arc").data(r.options.data.content).enter().append("g").attr("class",r.cssPrefix+"arc"),u=e.speed;"none"===e.effect&&(u=0),s.append("path").attr("id",function(t,e){return r.cssPrefix+"segment"+e}).attr("fill",function(t,e){var n=i[e];return r.options.misc.gradient.enabled&&(n="url(#"+r.cssPrefix+"grad"+e+")"),n}).style("stroke",n).style("stroke-width",1).transition().ease("cubic-in-out").duration(u).attr("data-index",function(t,e){return e}).attrTween("d",function(t){var e=d3.interpolate({value:0},t);return function(t){return r.arc(e(t))}}),r.svg.selectAll("g."+r.cssPrefix+"arc").attr("transform",function(t,e){var n=0;return 0<e&&(n=g.getSegmentAngle(e-1,r.options.data.content,r.totalSize)),"rotate("+n+")"}),r.arc=a},addGradients:function(n){var t=n.svg.append("defs").selectAll("radialGradient").data(n.options.data.content).enter().append("radialGradient").attr("gradientUnits","userSpaceOnUse").attr("cx",0).attr("cy",0).attr("r","120%").attr("id",function(t,e){return n.cssPrefix+"grad"+e});t.append("stop").attr("offset","0%").style("stop-color",function(t,e){return n.options.colors[e]}),t.append("stop").attr("offset",n.options.misc.gradient.percentage+"%").style("stop-color",n.options.misc.gradient.color)},addSegmentEventHandlers:function(o){var t=d3.selectAll("."+o.cssPrefix+"arc,."+o.cssPrefix+"labelGroup-inner,."+o.cssPrefix+"labelGroup-outer");t.on("click",function(){var t,e=d3.select(this);if(e.attr("class")===o.cssPrefix+"arc")t=e.select("path");else{var n=e.attr("data-index");t=d3.select("#"+o.cssPrefix+"segment"+n)}var r=t.attr("class")===o.cssPrefix+"expanded";g.onSegmentEvent(o,o.options.callbacks.onClickSegment,t,r),"none"!==o.options.effects.pullOutSegmentOnClick.effect&&(r?g.closeSegment(o,t.node()):g.openSegment(o,t.node()))}),t.on("mouseover",function(){var t,e,n=d3.select(this);if(n.attr("class")===o.cssPrefix+"arc"?t=n.select("path"):(e=n.attr("data-index"),t=d3.select("#"+o.cssPrefix+"segment"+e)),o.options.effects.highlightSegmentOnMouseover){e=t.attr("data-index");var r=o.options.colors[e];t.style("fill",h.getColorShade(r,o.options.effects.highlightLuminosity))}var i=t.attr("class")===o.cssPrefix+"expanded";g.onSegmentEvent(o,o.options.callbacks.onMouseoverSegment,t,i)}),t.on("mouseout",function(){var t,e,n=d3.select(this);if(n.attr("class")===o.cssPrefix+"arc"?t=n.select("path"):(e=n.attr("data-index"),t=d3.select("#"+o.cssPrefix+"segment"+e)),o.options.effects.highlightSegmentOnMouseover){e=t.attr("data-index");var r=o.options.colors[e];o.options.misc.gradient.enabled&&(r="url(#"+o.cssPrefix+"grad"+e+")"),t.style("fill",r)}var i=t.attr("class")===o.cssPrefix+"expanded";g.onSegmentEvent(o,o.options.callbacks.onMouseoutSegment,t,i)})},onSegmentEvent:function(t,e,n,r){if(h.isFunction(e)){var i=parseInt(n.attr("data-index"),10);e({segment:n.node(),index:i,expanded:r,data:t.options.data.content[i]})}},openSegment:function(a,t){a.isOpeningSegment||(a.isOpeningSegment=!0,0<d3.selectAll("."+a.cssPrefix+"expanded").length&&g.closeSegment(a,d3.select("."+a.cssPrefix+"expanded").node()),d3.select(t).transition().ease(a.options.effects.pullOutSegmentOnClick.effect).duration(a.options.effects.pullOutSegmentOnClick.speed).attr("transform",function(t){var e=a.arc.centroid(t),n=e[0],r=e[1],i=Math.sqrt(n*n+r*r),o=parseInt(a.options.effects.pullOutSegmentOnClick.size,10);return"translate("+n/i*o+","+r/i*o+")"}).each("end",function(){a.currentlyOpenSegment=t,a.isOpeningSegment=!1,d3.select(this).attr("class",a.cssPrefix+"expanded")}))},closeSegment:function(t,e){d3.select(e).transition().duration(400).attr("transform","translate(0,0)").each("end",function(){d3.select(this).attr("class",""),t.currentlyOpenSegment=null})},getCentroid:function(t){var e=t.getBBox();return{x:e.x+e.width/2,y:e.y+e.height/2}},getSegmentAngle:function(t,e,n,r){var i,o=v({compounded:!0,midpoint:!1},r),a=e[t].value;if(o.compounded)for(var s=i=0;s<=t;s++)i+=e[s].value;void 0===i&&(i=a);var u=i/n*360;o.midpoint&&(u-=a/n*360/2);return u},getPercentage:function(t,e){return Math.floor(t.options.data.content[e].value/t.totalSize*100)}},c={offscreenCoord:-1e4,addTitle:function(t){t.svg.selectAll("."+t.cssPrefix+"title").data([t.options.header.title]).enter().append("text").text(function(t){return t.text}).attr("id",t.cssPrefix+"title").attr("class",t.cssPrefix+"title").attr("x",c.offscreenCoord).attr("y",c.offscreenCoord).attr("text-anchor",function(){return"top-center"===t.options.header.location||"pie-center"===t.options.header.location?"middle":"left"}).attr("fill",function(t){return t.color}).style("font-size",function(t){return t.fontSize+"px"}).style("font-family",function(t){return t.font})},positionTitle:function(t){var e,n=t.textComponents,r=t.options.header.location,i=t.options.misc.canvasPadding,o=t.options.size.canvasWidth,a=t.options.header.titleSubtitlePadding;e="top-left"===r?i.left:(o-i.right)/2+i.left;var s=i.top+n.title.h;if("pie-center"===r)if(s=t.pieCenter.y,n.subtitle.exists){s=s-(n.title.h+a+n.subtitle.h)/2+n.title.h}else s+=n.title.h/4;t.svg.select("#"+t.cssPrefix+"title").attr("x",e).attr("y",s)},addSubtitle:function(t){var e=t.options.header.location;t.svg.selectAll("."+t.cssPrefix+"subtitle").data([t.options.header.subtitle]).enter().append("text").text(function(t){return t.text}).attr("x",c.offscreenCoord).attr("y",c.offscreenCoord).attr("id",t.cssPrefix+"subtitle").attr("class",t.cssPrefix+"subtitle").attr("text-anchor",function(){return"top-center"===e||"pie-center"===e?"middle":"left"}).attr("fill",function(t){return t.color}).style("font-size",function(t){return t.fontSize+"px"}).style("font-family",function(t){return t.font})},positionSubtitle:function(t){var e,n=t.options.misc.canvasPadding,r=t.options.size.canvasWidth;e="top-left"===t.options.header.location?n.left:(r-n.right)/2+n.left;var i=c.getHeaderHeight(t);t.svg.select("#"+t.cssPrefix+"subtitle").attr("x",e).attr("y",i)},addFooter:function(e){e.svg.selectAll("."+e.cssPrefix+"footer").data([e.options.footer]).enter().append("text").text(function(t){return t.text}).attr("x",c.offscreenCoord).attr("y",c.offscreenCoord).attr("id",e.cssPrefix+"footer").attr("class",e.cssPrefix+"footer").attr("text-anchor",function(){var t="left";return"bottom-center"===e.options.footer.location?t="middle":"bottom-right"===e.options.footer.location&&(t="left"),t}).attr("fill",function(t){return t.color}).style("font-size",function(t){return t.fontSize+"px"}).style("font-family",function(t){return t.font})},positionFooter:function(t){var e,n=t.options.footer.location,r=t.textComponents.footer.w,i=t.options.size.canvasWidth,o=t.options.size.canvasHeight,a=t.options.misc.canvasPadding;e="bottom-left"===n?a.left:"bottom-right"===n?i-r-a.right:i/2,t.svg.select("#"+t.cssPrefix+"footer").attr("x",e).attr("y",o-a.bottom)},getHeaderHeight:function(t){var e;if(t.textComponents.title.exists){var n=t.textComponents.title.h+t.options.header.titleSubtitlePadding+t.textComponents.subtitle.h;e="pie-center"===t.options.header.location?t.pieCenter.y-n/2+n:n+t.options.misc.canvasPadding.top}else if("pie-center"===t.options.header.location){var r=t.options.misc.canvasPadding.bottom+t.textComponents.footer.h;e=(t.options.size.canvasHeight-r)/2+t.options.misc.canvasPadding.top+t.textComponents.subtitle.h/2}else e=t.options.misc.canvasPadding.top+t.textComponents.subtitle.h;return e}},t=function(t,e){if("string"==typeof(this.element=t)){var n=t.replace(/^#/,"");this.element=document.getElementById(n)}var r={};v(!0,r,s,e),this.options=r,null!==this.options.misc.cssPrefix?this.cssPrefix=this.options.misc.cssPrefix:(this.cssPrefix="p"+a+"_",a++),u.initialCheck(this)&&(d3.select(this.element).attr(i,o),this.options.data.content=p.sortPieData(this),this.options.data.smallSegmentGrouping.enabled&&(this.options.data.content=h.applySmallSegmentGrouping(this.options.data.content,this.options.data.smallSegmentGrouping)),this.options.colors=h.initSegmentColors(this),this.totalSize=p.getTotalPieSize(this.options.data.content),l.call(this))};t.prototype.redraw=function(){this.element.innerHTML="",l.call(this)},t.prototype.destroy=function(){this.element.innerHTML="",d3.select(this.element).attr(i,null)},t.prototype.getOpenSegment=function(){var t=this.currentlyOpenSegment;if(null!=t){var e=parseInt(d3.select(t).attr("data-index"),10);return{element:t,index:e,data:this.options.data.content[e]}}return null},t.prototype.openSegment=function(t){(t=parseInt(t,10))<0||t>this.options.data.content.length-1||g.openSegment(this,d3.select("#"+this.cssPrefix+"segment"+t).node())},t.prototype.closeSegment=function(){var t=this.currentlyOpenSegment;t&&g.closeSegment(this,t)},t.prototype.updateProp=function(t,e){switch(t){case"header.title.text":var n=h.processObj(this.options,t);h.processObj(this.options,t,e),d3.select("#"+this.cssPrefix+"title").html(e),(""===n&&""!==e||""!==n&&""===e)&&this.redraw();break;case"header.subtitle.text":var r=h.processObj(this.options,t);h.processObj(this.options,t,e),d3.select("#"+this.cssPrefix+"subtitle").html(e),(""===r&&""!==e||""!==r&&""===e)&&this.redraw();break;case"callbacks.onload":case"callbacks.onMouseoverSegment":case"callbacks.onMouseoutSegment":case"callbacks.onClickSegment":case"effects.pullOutSegmentOnClick.effect":case"effects.pullOutSegmentOnClick.speed":case"effects.pullOutSegmentOnClick.size":case"effects.highlightSegmentOnMouseover":case"effects.highlightLuminosity":h.processObj(this.options,t,e)}};var l=function(){this.svg=h.addSVGSpace(this),this.textComponents={headerHeight:0,title:{exists:""!==this.options.header.title.text,h:0,w:0},subtitle:{exists:""!==this.options.header.subtitle.text,h:0,w:0},footer:{exists:""!==this.options.footer.text,h:0,w:0}},this.outerLabelGroupData=[],this.textComponents.title.exists&&c.addTitle(this),this.textComponents.subtitle.exists&&c.addSubtitle(this),c.addFooter(this);var r=this;h.whenIdExists(this.cssPrefix+"footer",function(){c.positionFooter(r);var t=h.getDimensions(r.cssPrefix+"footer");r.textComponents.footer.h=t.h,r.textComponents.footer.w=t.w});var t=[];this.textComponents.title.exists&&t.push(this.cssPrefix+"title"),this.textComponents.subtitle.exists&&t.push(this.cssPrefix+"subtitle"),this.textComponents.footer.exists&&t.push(this.cssPrefix+"footer"),h.whenElementsExist(t,function(){if(r.textComponents.title.exists){var t=h.getDimensions(r.cssPrefix+"title");r.textComponents.title.h=t.h,r.textComponents.title.w=t.w}if(r.textComponents.subtitle.exists){var e=h.getDimensions(r.cssPrefix+"subtitle");r.textComponents.subtitle.h=e.h,r.textComponents.subtitle.w=e.w}if(r.textComponents.title.exists||r.textComponents.subtitle.exists){var n=0;r.textComponents.title.exists&&(n+=r.textComponents.title.h,r.textComponents.subtitle.exists&&(n+=r.options.header.titleSubtitlePadding)),r.textComponents.subtitle.exists&&(n+=r.textComponents.subtitle.h),r.textComponents.headerHeight=n}p.computePieRadius(r),p.calculatePieCenter(r),c.positionTitle(r),c.positionSubtitle(r),r.options.misc.gradient.enabled&&g.addGradients(r),g.create(r),f.add(r,"inner",r.options.labels.inner.format),f.add(r,"outer",r.options.labels.outer.format),f.positionLabelElements(r,"inner",r.options.labels.inner.format),f.positionLabelElements(r,"outer",r.options.labels.outer.format),f.computeOuterLabelCoords(r),f.positionLabelGroups(r,"outer"),f.computeLabelLinePositions(r),r.options.labels.lines.enabled&&"none"!==r.options.labels.outer.format&&f.addLabelLines(r),f.positionLabelGroups(r,"inner"),f.fadeInLabelsAndLines(r),g.addSegmentEventHandlers(r)})};window.d3pie=t}();