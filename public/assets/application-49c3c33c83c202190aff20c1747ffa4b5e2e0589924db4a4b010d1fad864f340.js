var FlipClock,Base;!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(S,t){function s(t){var e=!!t&&"length"in t&&t.length,n=dt.type(t);return"function"!==n&&!dt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}function e(t,n,i){if(dt.isFunction(n))return dt.grep(t,function(t,e){return!!n.call(t,e,t)!==i});if(n.nodeType)return dt.grep(t,function(t){return t===n!==i});if("string"==typeof n){if(St.test(n))return dt.filter(n,t,i);n=dt.filter(n,t)}return dt.grep(t,function(t){return-1<dt.inArray(t,n)!==i})}function n(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function c(t){var n={};return dt.each(t.match(Et)||[],function(t,e){n[e]=!0}),n}function r(){it.addEventListener?(it.removeEventListener("DOMContentLoaded",o),S.removeEventListener("load",o)):(it.detachEvent("onreadystatechange",o),S.detachEvent("onload",o))}function o(){(it.addEventListener||"load"===S.event.type||"complete"===it.readyState)&&(r(),dt.ready())}function u(t,e,n){if(n===undefined&&1===t.nodeType){var i="data-"+e.replace(It,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Nt.test(n)?dt.parseJSON(n):n)}catch(r){}dt.data(t,e,n)}else n=undefined}return n}function l(t){var e;for(e in t)if(("data"!==e||!dt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function i(t,e,n,i){if(Dt(t)){var r,o,a=dt.expando,s=t.nodeType,u=s?dt.cache:t,l=s?t[a]:t[a]&&a;if(l&&u[l]&&(i||u[l].data)||n!==undefined||"string"!=typeof e)return l||(l=s?t[a]=nt.pop()||dt.guid++:a),u[l]||(u[l]=s?{}:{toJSON:dt.noop}),"object"!=typeof e&&"function"!=typeof e||(i?u[l]=dt.extend(u[l],e):u[l].data=dt.extend(u[l].data,e)),o=u[l],i||(o.data||(o.data={}),o=o.data),n!==undefined&&(o[dt.camelCase(e)]=n),"string"==typeof e?null==(r=o[e])&&(r=o[dt.camelCase(e)]):r=o,r}}function a(t,e,n){if(Dt(t)){var i,r,o=t.nodeType,a=o?dt.cache:t,s=o?t[dt.expando]:dt.expando;if(a[s]){if(e&&(i=n?a[s]:a[s].data)){r=(e=dt.isArray(e)?e.concat(dt.map(e,dt.camelCase)):e in i?[e]:(e=dt.camelCase(e))in i?[e]:e.split(" ")).length;for(;r--;)delete i[e[r]];if(n?!l(i):!dt.isEmptyObject(i))return}(n||(delete a[s].data,l(a[s])))&&(o?dt.cleanData([t],!0):ht.deleteExpando||a!=a.window?delete a[s]:a[s]=undefined)}}}function h(t,e,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return dt.css(t,e,"")},u=s(),l=n&&n[3]||(dt.cssNumber[e]?"":"px"),c=(dt.cssNumber[e]||"px"!==l&&+u)&&Ht.exec(dt.css(t,e));if(c&&c[3]!==l)for(l=l||c[3],n=n||[],c=+u||1;c/=o=o||".5",dt.style(t,e,c+l),o!==(o=s()/u)&&1!==o&&--a;);return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}function m(t){var e=Ut.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function v(t,e){var n,i,r=0,o="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):undefined;if(!o)for(o=[],n=t.childNodes||t;null!=(i=n[r]);r++)!e||dt.nodeName(i,e)?o.push(i):dt.merge(o,v(i,e));return e===undefined||e&&dt.nodeName(t,e)?dt.merge([t],o):o}function y(t,e){for(var n,i=0;null!=(n=t[i]);i++)dt._data(n,"globalEval",!e||dt._data(e[i],"globalEval"))}function _(t){qt.test(t.type)&&(t.defaultChecked=t.checked)}function g(t,e,n,i,r){for(var o,a,s,u,l,c,h,f=t.length,d=m(e),p=[],g=0;g<f;g++)if((a=t[g])||0===a)if("object"===dt.type(a))dt.merge(p,a.nodeType?[a]:a);else if(Xt.test(a)){for(u=u||d.appendChild(e.createElement("div")),l=($t.exec(a)||["",""])[1].toLowerCase(),h=Yt[l]||Yt._default,u.innerHTML=h[1]+dt.htmlPrefilter(a)+h[2],o=h[0];o--;)u=u.lastChild;if(!ht.leadingWhitespace&&Wt.test(a)&&p.push(e.createTextNode(Wt.exec(a)[0])),!ht.tbody)for(o=(a="table"!==l||Qt.test(a)?"<table>"!==h[1]||Qt.test(a)?0:u:u.firstChild)&&a.childNodes.length;o--;)dt.nodeName(c=a.childNodes[o],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(dt.merge(p,u.childNodes),u.textContent="";u.firstChild;)u.removeChild(u.firstChild);u=d.lastChild}else p.push(e.createTextNode(a));for(u&&d.removeChild(u),ht.appendChecked||dt.grep(v(p,"input"),_),g=0;a=p[g++];)if(i&&-1<dt.inArray(a,i))r&&r.push(a);else if(s=dt.contains(a.ownerDocument,a),u=v(d.appendChild(a),"script"),s&&y(u),n)for(o=0;a=u[o++];)Bt.test(a.type||"")&&n.push(a);return u=null,d}function f(){return!0}function d(){return!1}function p(){try{return it.activeElement}catch(t){}}function b(t,e,n,i,r,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=undefined),e)b(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=undefined):null==r&&("string"==typeof n?(r=i,i=undefined):(r=i,i=n,n=undefined)),!1===r)r=d;else if(!r)return t;return 1===o&&(a=r,(r=function(t){return dt().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=dt.guid++)),t.each(function(){dt.event.add(this,e,r,i,n)})}function x(t,e){return dt.nodeName(t,"table")&&dt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function w(t){return t.type=(null!==dt.find.attr(t,"type"))+"/"+t.type,t}function T(t){var e=se.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function k(t,e){if(1===e.nodeType&&dt.hasData(t)){var n,i,r,o=dt._data(t),a=dt._data(e,o),s=o.events;if(s)for(n in delete a.handle,a.events={},s)for(i=0,r=s[n].length;i<r;i++)dt.event.add(e,n,s[n][i]);a.data&&(a.data=dt.extend({},a.data))}}function C(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!ht.noCloneEvent&&e[dt.expando]){for(i in(r=dt._data(e)).events)dt.removeEvent(e,i,r.handle);e.removeAttribute(dt.expando)}"script"===n&&e.text!==t.text?(w(e).text=t.text,T(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),ht.html5Clone&&t.innerHTML&&!dt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&qt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function M(n,i,r,o){i=ot.apply([],i);var t,e,a,s,u,l,c=0,h=n.length,f=h-1,d=i[0],p=dt.isFunction(d);if(p||1<h&&"string"==typeof d&&!ht.checkClone&&ae.test(d))return n.each(function(t){var e=n.eq(t);p&&(i[0]=d.call(this,t,e.html())),M(e,i,r,o)});if(h&&(t=(l=g(i,n[0].ownerDocument,!1,n,o)).firstChild,1===l.childNodes.length&&(l=t),t||o)){for(a=(s=dt.map(v(l,"script"),w)).length;c<h;c++)e=l,c!==f&&(e=dt.clone(e,!0,!0),a&&dt.merge(s,v(e,"script"))),r.call(n[c],e,c);if(a)for(u=s[s.length-1].ownerDocument,dt.map(s,T),c=0;c<a;c++)e=s[c],Bt.test(e.type||"")&&!dt._data(e,"globalEval")&&dt.contains(u,e)&&(e.src?dt._evalUrl&&dt._evalUrl(e.src):dt.globalEval((e.text||e.textContent||e.innerHTML||"").replace(ue,"")));l=t=null}return n}function A(t,e,n){for(var i,r=e?dt.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||dt.cleanData(v(i)),i.parentNode&&(n&&dt.contains(i.ownerDocument,i)&&y(v(i,"script")),i.parentNode.removeChild(i));return t}function P(t,e){var n=dt(e.createElement(t)).appendTo(e.body),i=dt.css(n[0],"display");return n.detach(),i}function E(t){var e=it,n=he[t];return n||("none"!==(n=P(t,e))&&n||((e=((ce=(ce||dt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||ce[0].contentDocument).document).write(),e.close(),n=P(t,e),ce.detach()),he[t]=n),n}function L(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function D(t){if(t in Ce)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=ke.length;n--;)if((t=ke[n]+e)in Ce)return t}function N(t,e){for(var n,i,r,o=[],a=0,s=t.length;a<s;a++)(i=t[a]).style&&(o[a]=dt._data(i,"olddisplay"),n=i.style.display,e?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Vt(i)&&(o[a]=dt._data(i,"olddisplay",E(i.nodeName)))):(r=Vt(i),(n&&"none"!==n||!r)&&dt._data(i,"olddisplay",r?n:dt.css(i,"display"))));for(a=0;a<s;a++)(i=t[a]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[a]||"":"none"));return t}function I(t,e,n){var i=we.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function O(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=dt.css(t,n+jt[o],!0,r)),i?("content"===n&&(a-=dt.css(t,"padding"+jt[o],!0,r)),"margin"!==n&&(a-=dt.css(t,"border"+jt[o]+"Width",!0,r))):(a+=dt.css(t,"padding"+jt[o],!0,r),"padding"!==n&&(a+=dt.css(t,"border"+jt[o]+"Width",!0,r)));return a}function R(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=me(t),a=ht.boxSizing&&"border-box"===dt.css(t,"boxSizing",!1,o);if(r<=0||null==r){if(((r=ve(t,e,o))<0||null==r)&&(r=t.style[e]),de.test(r))return r;i=a&&(ht.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+O(t,e,n||(a?"border":"content"),i,o)+"px"}function F(t,e,n,i,r){return new F.prototype.init(t,e,n,i,r)}function z(){return S.setTimeout(function(){Me=undefined}),Me=dt.now()}function H(t,e){var n,i={height:t},r=0;for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=jt[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function j(t,e,n){for(var i,r=(q.tweeners[e]||[]).concat(q.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function V(e,t,n){var i,r,o,a,s,u,l,c=this,h={},f=e.style,d=e.nodeType&&Vt(e),p=dt._data(e,"fxshow");for(i in n.queue||(null==(s=dt._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,dt.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===("none"===(l=dt.css(e,"display"))?dt._data(e,"olddisplay")||E(e.nodeName):l)&&"none"===dt.css(e,"float")&&(ht.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",ht.shrinkWrapBlocks()||c.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),t)if(r=t[i],Ie.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(d?"hide":"show")){if("show"!==r||!p||p[i]===undefined)continue;d=!0}h[i]=p&&p[i]||dt.style(e,i)}else l=undefined;if(dt.isEmptyObject(h))"inline"===("none"===l?E(e.nodeName):l)&&(f.display=l);else for(i in p?"hidden"in p&&(d=p.hidden):p=dt._data(e,"fxshow",{}),o&&(p.hidden=!d),d?dt(e).show():c.done(function(){dt(e).hide()}),c.done(function(){var t;for(t in dt._removeData(e,"fxshow"),h)dt.style(e,t,h[t])}),h)a=j(d?p[i]:0,i,c),i in p||(p[i]=a.start,d&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}function G(t,e){var n,i,r,o,a;for(n in t)if(r=e[i=dt.camelCase(n)],o=t[n],dt.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(a=dt.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}function q(o,t,e){var n,a,i=0,r=q.prefilters.length,s=dt.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var t=Me||z(),e=Math.max(0,l.startTime+l.duration-t),n=1-(e/l.duration||0),i=0,r=l.tweens.length;i<r;i++)l.tweens[i].run(n);return s.notifyWith(o,[l,n,e]),n<1&&r?e:(s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:dt.extend({},t),opts:dt.extend(!0,{specialEasing:{},easing:dt.easing._default},e),originalProperties:t,originalOptions:e,startTime:Me||z(),duration:e.duration,tweens:[],createTween:function(t,e){var n=dt.Tween(o,l.opts,t,e,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(n),n},stop:function(t){var e=0,n=t?l.tweens.length:0;if(a)return this;for(a=!0;e<n;e++)l.tweens[e].run(1);return t?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,t])):s.rejectWith(o,[l,t]),this}}),c=l.props;for(G(c,l.opts.specialEasing);i<r;i++)if(n=q.prefilters[i].call(l,o,c,l.opts))return dt.isFunction(n.stop)&&(dt._queueHooks(l.elem,l.opts.queue).stop=dt.proxy(n.stop,n)),n;return dt.map(c,j,l),dt.isFunction(l.opts.start)&&l.opts.start.call(o,l),dt.fx.timer(dt.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function $(t){return dt.attr(t,"class")||""}function B(o){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,r=t.toLowerCase().match(Et)||[];if(dt.isFunction(e))for(;n=r[i++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(e)):(o[n]=o[n]||[]).push(e)}}function W(e,r,o,a){function s(t){var i;return u[t]=!0,dt.each(e[t]||[],function(t,e){var n=e(r,o,a);return"string"!=typeof n||l||u[n]?l?!(i=n):void 0:(r.dataTypes.unshift(n),s(n),!1)}),i}var u={},l=e===an;return s(r.dataTypes[0])||!u["*"]&&s("*")}function U(t,e){var n,i,r=dt.ajaxSettings.flatOptions||{};for(i in e)e[i]!==undefined&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&dt.extend(!0,t,n),t}function Y(t,e,n){for(var i,r,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),r===undefined&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(a in s)if(s[a]&&s[a].test(r)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||t.converters[a+" "+u[0]]){o=a;break}i||(i=a)}o=o||i}if(o)return o!==u[0]&&u.unshift(o),n[o]}function X(t,e,n,i){var r,o,a,s,u,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(r in l)if((s=r.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[r]:!0!==l[r]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function Q(t){return t.style&&t.style.display||dt.css(t,"display")}function K(t){if(!dt.contains(t.ownerDocument||it,t))return!0;for(;t&&1===t.nodeType;){if("none"===Q(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function Z(n,t,i,r){var e;if(dt.isArray(t))dt.each(t,function(t,e){i||hn.test(n)?r(n,e):Z(n+"["+("object"==typeof e&&null!=e?t:"")+"]",e,i,r)});else if(i||"object"!==dt.type(t))r(n,t);else for(e in t)Z(n+"["+e+"]",t[e],i,r)}function J(){try{return new S.XMLHttpRequest}catch(t){}}function tt(){try{return new S.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function et(t){return dt.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var nt=[],it=S.document,rt=nt.slice,ot=nt.concat,at=nt.push,st=nt.indexOf,ut={},lt=ut.toString,ct=ut.hasOwnProperty,ht={},ft="1.12.4",dt=function(t,e){return new dt.fn.init(t,e)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gt=/^-ms-/,mt=/-([\da-z])/gi,vt=function(t,e){return e.toUpperCase()};dt.fn=dt.prototype={jquery:ft,constructor:dt,selector:"",length:0,toArray:function(){return rt.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:rt.call(this)},pushStack:function(t){var e=dt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return dt.each(this,t)},map:function(n){return this.pushStack(dt.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:at,sort:nt.sort,splice:nt.splice},dt.extend=dt.fn.extend=function(t){var e,n,i,r,o,a,s=t||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[u]||{},u++),"object"==typeof s||dt.isFunction(s)||(s={}),u===l&&(s=this,u--);u<l;u++)if(null!=(o=arguments[u]))for(r in o)e=s[r],s!==(i=o[r])&&(c&&i&&(dt.isPlainObject(i)||(n=dt.isArray(i)))?(n?(n=!1,a=e&&dt.isArray(e)?e:[]):a=e&&dt.isPlainObject(e)?e:{},s[r]=dt.extend(c,a,i)):i!==undefined&&(s[r]=i));return s},dt.extend({expando:"jQuery"+(ft+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===dt.type(t)},isArray:Array.isArray||function(t){return"array"===dt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!dt.isArray(t)&&0<=e-parseFloat(e)+1},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==dt.type(t)||t.nodeType||dt.isWindow(t))return!1;try{if(t.constructor&&!ct.call(t,"constructor")&&!ct.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!ht.ownFirst)for(e in t)return ct.call(t,e);for(e in t);return e===undefined||ct.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ut[lt.call(t)]||"object":typeof t},globalEval:function(t){t&&dt.trim(t)&&(S.execScript||function(t){S.eval.call(S,t)})(t)},camelCase:function(t){return t.replace(gt,"ms-").replace(mt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(s(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(pt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(s(Object(t))?dt.merge(n,"string"==typeof t?[t]:t):at.call(n,t)),n},inArray:function(t,e,n){var i;if(e){if(st)return st.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;)t[r++]=e[i++];if(n!=n)for(;e[i]!==undefined;)t[r++]=e[i++];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,a=!n;r<o;r++)!e(t[r],r)!==a&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,a=[];if(s(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&a.push(r);return ot.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(r=t[e],e=t,t=r),dt.isFunction(t)?(n=rt.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(rt.call(arguments)))}).guid=t.guid=t.guid||dt.guid++,i):undefined},now:function(){return+new Date},support:ht}),"function"==typeof Symbol&&(dt.fn[Symbol.iterator]=nt[Symbol.iterator]),dt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ut["[object "+e+"]"]=e.toLowerCase()});var yt=function(n){function b(t,e,n,i){var r,o,a,s,u,l,c,h,f=e&&e.ownerDocument,d=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return n;if(!i&&((e?e.ownerDocument||e:j)!==D&&L(e),e=e||D,I)){if(11!==d&&(l=vt.exec(t)))if(r=l[1]){if(9===d){if(!(a=e.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(f&&(a=f.getElementById(r))&&z(e,a)&&a.id===r)return n.push(a),n}else{if(l[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((r=l[3])&&v.getElementsByClassName&&e.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(r)),n}if(v.qsa&&!B[t+" "]&&(!O||!O.test(t))){if(1!==d)f=e,h=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(_t,"\\$&"):e.setAttribute("id",s=H),o=(c=k(t)).length,u=ft.test(s)?"#"+s:"[id='"+s+"']";o--;)c[o]=u+" "+m(c[o]);h=c.join(","),f=yt.test(t)&&g(e.parentNode)||e}if(h)try{return Z.apply(n,f.querySelectorAll(h)),n}catch(p){}finally{s===H&&e.removeAttribute("id")}}}return M(t.replace(st,"$1"),e,n,i)}function t(){function n(t,e){return i.push(t+" ")>w.cacheLength&&delete n[i.shift()],n[t+" "]=e}var i=[];return n}function u(t){return t[H]=!0,t}function r(t){var e=D.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function e(t,e){for(var n=t.split("|"),i=n.length;i--;)w.attrHandle[n[i]]=e}function l(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||U)-(~t.sourceIndex||U);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function i(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function o(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function a(a){return u(function(o){return o=+o,u(function(t,e){for(var n,i=a([],t.length,o),r=i.length;r--;)t[n=i[r]]&&(t[n]=!(e[n]=t[n]))})})}function g(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function s(){}function m(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function h(s,t,e){var u=t.dir,l=e&&"parentNode"===u,c=G++;return t.first?function(t,e,n){for(;t=t[u];)if(1===t.nodeType||l)return s(t,e,n)}:function(t,e,n){var i,r,o,a=[V,c];if(n){for(;t=t[u];)if((1===t.nodeType||l)&&s(t,e,n))return!0}else for(;t=t[u];)if(1===t.nodeType||l){if((i=(r=(o=t[H]||(t[H]={}))[t.uniqueID]||(o[t.uniqueID]={}))[u])&&i[0]===V&&i[1]===c)return a[2]=i[2];if((r[u]=a)[2]=s(t,e,n))return!0}}}function f(r){return 1<r.length?function(t,e,n){for(var i=r.length;i--;)if(!r[i](t,e,n))return!1;return!0}:r[0]}function y(t,e,n){for(var i=0,r=e.length;i<r;i++)b(t,e[i],n);return n}function x(t,e,n,i,r){for(var o,a=[],s=0,u=t.length,l=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),l&&e.push(s)));return a}function _(d,p,g,m,v,t){return m&&!m[H]&&(m=_(m)),v&&!v[H]&&(v=_(v,t)),u(function(t,e,n,i){var r,o,a,s=[],u=[],l=e.length,c=t||y(p||"*",n.nodeType?[n]:n,[]),h=!d||!t&&p?c:x(c,s,d,n,i),f=g?v||(t?d:l||m)?[]:e:h;if(g&&g(h,f,n,i),m)for(r=x(f,u),m(r,[],n,i),o=r.length;o--;)(a=r[o])&&(f[u[o]]=!(h[u[o]]=a));if(t){if(v||d){if(v){for(r=[],o=f.length;o--;)(a=f[o])&&r.push(h[o]=a);v(null,f=[],r,i)}for(o=f.length;o--;)(a=f[o])&&-1<(r=v?tt(t,a):s[o])&&(t[r]=!(e[r]=a))}}else f=x(f===e?f.splice(l,f.length):f),v?v(null,e,f,i):Z.apply(e,f)})}function d(t){for(var r,e,n,i=t.length,o=w.relative[t[0].type],a=o||w.relative[" "],s=o?1:0,u=h(function(t){return t===r},a,!0),l=h(function(t){return-1<tt(r,t)},a,!0),c=[function(t,e,n){var i=!o&&(n||e!==A)||((r=e).nodeType?u(t,e,n):l(t,e,n));return r=null,i}];s<i;s++)if(e=w.relative[t[s].type])c=[h(f(c),e)];else{if((e=w.filter[t[s].type].apply(null,t[s].matches))[H]){for(n=++s;n<i&&!w.relative[t[n].type];n++);return _(1<s&&f(c),1<s&&m(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),e,s<n&&d(t.slice(s,n)),n<i&&d(t=t.slice(n)),n<i&&m(t))}c.push(e)}return f(c)}function c(m,v){var y=0<v.length,_=0<m.length,t=function(t,e,n,i,r){var o,a,s,u=0,l="0",c=t&&[],h=[],f=A,d=t||_&&w.find.TAG("*",r),p=V+=null==f?1:Math.random()||.1,g=d.length;for(r&&(A=e===D||e||r);l!==g&&null!=(o=d[l]);l++){if(_&&o){for(a=0,e||o.ownerDocument===D||(L(o),n=!I);s=m[a++];)if(s(o,e||D,n)){i.push(o);break}r&&(V=p)}y&&((o=!s&&o)&&u--,t&&c.push(o))}if(u+=l,y&&l!==u){for(a=0;s=v[a++];)s(c,h,e,n);if(t){if(0<u)for(;l--;)c[l]||h[l]||(h[l]=Q.call(i));h=x(h)}Z.apply(i,h),r&&!t&&0<h.length&&1<u+v.length&&b.uniqueSort(i)}return r&&(V=p,A=f),c};return y?u(t):t}var p,v,w,S,T,k,C,M,A,P,E,L,D,N,I,O,R,F,z,H="sizzle"+1*new Date,j=n.document,V=0,G=0,q=t(),$=t(),B=t(),W=function(t,e){return t===e&&(E=!0),0},U=1<<31,Y={}.hasOwnProperty,X=[],Q=X.pop,K=X.push,Z=X.push,J=X.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),lt=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(ot),ft=new RegExp("^"+it+"$"),dt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,_t=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),xt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},wt=function(){L()};try{Z.apply(X=J.call(j.childNodes),j.childNodes),X[j.childNodes.length].nodeType}catch(St){Z={apply:X.length?function(t,e){K.apply(t,J.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(p in v=b.support={},T=b.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},L=b.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:j;return i!==D&&9===i.nodeType&&i.documentElement&&(N=(D=i).documentElement,I=!T(D),(n=D.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",wt,!1):n.attachEvent&&n.attachEvent("onunload",wt)),v.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),v.getElementsByTagName=r(function(t){return t.appendChild(D.createComment("")),!t.getElementsByTagName("*").length}),v.getElementsByClassName=mt.test(D.getElementsByClassName),v.getById=r(function(t){return N.appendChild(t).id=H,!D.getElementsByName||!D.getElementsByName(H).length}),v.getById?(w.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&I){var n=e.getElementById(t);return n?[n]:[]}},w.filter.ID=function(t){var e=t.replace(bt,xt);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var n=t.replace(bt,xt);return function(t){var e="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}}),w.find.TAG=v.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):v.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},w.find.CLASS=v.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&I)return e.getElementsByClassName(t)},R=[],O=[],(v.qsa=mt.test(D.querySelectorAll))&&(r(function(t){N.appendChild(t).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||O.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+H+"-]").length||O.push("~="),t.querySelectorAll(":checked").length||O.push(":checked"),t.querySelectorAll("a#"+H+"+*").length||O.push(".#.+[+~]")}),r(function(t){var e=D.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&O.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),O.push(",.*:")})),(v.matchesSelector=mt.test(F=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&r(function(t){v.disconnectedMatch=F.call(t,"div"),F.call(t,"[s!='']:x"),R.push("!=",ot)}),O=O.length&&new RegExp(O.join("|")),R=R.length&&new RegExp(R.join("|")),e=mt.test(N.compareDocumentPosition),z=e||mt.test(N.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},W=e?function(t,e){if(t===e)return E=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!v.sortDetached&&e.compareDocumentPosition(t)===n?t===D||t.ownerDocument===j&&z(j,t)?-1:e===D||e.ownerDocument===j&&z(j,e)?1:P?tt(P,t)-tt(P,e):0:4&n?-1:1)}:function(t,e){if(t===e)return E=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!r||!o)return t===D?-1:e===D?1:r?-1:o?1:P?tt(P,t)-tt(P,e):0;if(r===o)return l(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?l(a[i],s[i]):a[i]===j?-1:s[i]===j?1:0}),D},b.matches=function(t,e){return b(t,null,null,e)},b.matchesSelector=function(t,e){if((t.ownerDocument||t)!==D&&L(t),e=e.replace(ct,"='$1']"),v.matchesSelector&&I&&!B[e+" "]&&(!R||!R.test(e))&&(!O||!O.test(e)))try{var n=F.call(t,e);if(n||v.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(St){}return 0<b(e,D,null,[t]).length},b.contains=function(t,e){return(t.ownerDocument||t)!==D&&L(t),z(t,e)},b.attr=function(t,e){(t.ownerDocument||t)!==D&&L(t);var n=w.attrHandle[e.toLowerCase()],i=n&&Y.call(w.attrHandle,e.toLowerCase())?n(t,e,!I):undefined;return i!==undefined?i:v.attributes||!I?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},b.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},b.uniqueSort=function(t){var e,n=[],i=0,r=0;if(E=!v.detectDuplicates,P=!v.sortStable&&t.slice(0),t.sort(W),E){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return P=null,t},S=b.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=S(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=S(e);return n},(w=b.selectors={cacheLength:50,createPseudo:u,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||b.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&b.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=k(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=q[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&q(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(t){var e=b.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===r:"!="===i?e!==r:"^="===i?r&&0===e.indexOf(r):"*="===i?r&&-1<e.indexOf(r):"$="===i?r&&e.slice(-r.length)===r:"~="===i?-1<(" "+e.replace(at," ")+" ").indexOf(r):"|="===i&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(p,t,e,g,m){var v="nth"!==p.slice(0,3),y="last"!==p.slice(-4),_="of-type"===t;return 1===g&&0===m?function(t){return!!t.parentNode}:function(t,e,n){var i,r,o,a,s,u,l=v!==y?"nextSibling":"previousSibling",c=t.parentNode,h=_&&t.nodeName.toLowerCase(),f=!n&&!_,d=!1;if(c){if(v){for(;l;){for(a=t;a=a[l];)if(_?a.nodeName.toLowerCase()===h:1===a.nodeType)return!1;u=l="only"===p&&!u&&"nextSibling"}return!0}if(u=[y?c.firstChild:c.lastChild],y&&f){for(d=(s=(i=(r=(o=(a=c)[H]||(a[H]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]||[])[0]===V&&i[1])&&i[2],a=s&&c.childNodes[s];a=++s&&a&&a[l]||(d=s=0)||u.pop();)if(1===a.nodeType&&++d&&a===t){r[p]=[V,s,d];break}}else if(f&&(d=s=(i=(r=(o=(a=t)[H]||(a[H]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]||[])[0]===V&&i[1]),!1===d)for(;(a=++s&&a&&a[l]||(d=s=0)||u.pop())&&((_?a.nodeName.toLowerCase()!==h:1!==a.nodeType)||!++d||(f&&((r=(o=a[H]||(a[H]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]=[V,d]),a!==t)););return(d-=m)===g||d%g==0&&0<=d/g}}},PSEUDO:function(t,o){var e,a=w.pseudos[t]||w.setFilters[t.toLowerCase()]||b.error("unsupported pseudo: "+t);return a[H]?a(o):1<a.length?(e=[t,t,"",o],w.setFilters.hasOwnProperty(t.toLowerCase())?u(function(t,e){for(var n,i=a(t,o),r=i.length;r--;)t[n=tt(t,i[r])]=!(e[n]=i[r])}):function(t){
return a(t,0,e)}):a}},pseudos:{not:u(function(t){var i=[],r=[],s=C(t.replace(st,"$1"));return s[H]?u(function(t,e,n,i){for(var r,o=s(t,null,i,[]),a=t.length;a--;)(r=o[a])&&(t[a]=!(e[a]=r))}):function(t,e,n){return i[0]=t,s(i,null,n,r),i[0]=null,!r.pop()}}),has:u(function(e){return function(t){return 0<b(e,t).length}}),contains:u(function(e){return e=e.replace(bt,xt),function(t){return-1<(t.textContent||t.innerText||S(t)).indexOf(e)}}),lang:u(function(n){return ft.test(n||"")||b.error("unsupported lang: "+n),n=n.replace(bt,xt).toLowerCase(),function(t){var e;do{if(e=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===N},focus:function(t){return t===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:a(function(){return[0]}),last:a(function(t,e){return[e-1]}),eq:a(function(t,e,n){return[n<0?n+e:n]}),even:a(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:a(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:a(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:a(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[p]=i(p);for(p in{submit:!0,reset:!0})w.pseudos[p]=o(p);return s.prototype=w.filters=w.pseudos,w.setFilters=new s,k=b.tokenize=function(t,e){var n,i,r,o,a,s,u,l=$[t+" "];if(l)return e?0:l.slice(0);for(a=t,s=[],u=w.preFilter;a;){for(o in n&&!(i=ut.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(r=[])),n=!1,(i=lt.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(st," ")}),a=a.slice(n.length)),w.filter)!(i=dt[o].exec(a))||u[o]&&!(i=u[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?b.error(t):$(t,s).slice(0)},C=b.compile=function(t,e){var n,i=[],r=[],o=B[t+" "];if(!o){for(e||(e=k(t)),n=e.length;n--;)(o=d(e[n]))[H]?i.push(o):r.push(o);(o=B(t,c(r,i))).selector=t}return o},M=b.select=function(t,e,n,i){var r,o,a,s,u,l="function"==typeof t&&t,c=!i&&k(t=l.selector||t);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&v.getById&&9===e.nodeType&&I&&w.relative[o[1].type]){if(!(e=(w.find.ID(a.matches[0].replace(bt,xt),e)||[])[0]))return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=dt.needsContext.test(t)?0:o.length;r--&&(a=o[r],!w.relative[s=a.type]);)if((u=w.find[s])&&(i=u(a.matches[0].replace(bt,xt),yt.test(o[0].type)&&g(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&m(o)))return Z.apply(n,i),n;break}}return(l||C(t,c))(i,e,!I,n,!e||yt.test(t)&&g(e.parentNode)||e),n},v.sortStable=H.split("").sort(W).join("")===H,v.detectDuplicates=!!E,L(),v.sortDetached=r(function(t){return 1&t.compareDocumentPosition(D.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||e("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),v.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||e("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||e(et,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),b}(S);dt.find=yt,dt.expr=yt.selectors,dt.expr[":"]=dt.expr.pseudos,dt.uniqueSort=dt.unique=yt.uniqueSort,dt.text=yt.getText,dt.isXMLDoc=yt.isXML,dt.contains=yt.contains;var _t=function(t,e,n){for(var i=[],r=n!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&dt(t).is(n))break;i.push(t)}return i},bt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},xt=dt.expr.match.needsContext,wt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,St=/^.[^:#\[\.,]*$/;dt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?dt.find.matchesSelector(i,t)?[i]:[]:dt.find.matches(t,dt.grep(e,function(t){return 1===t.nodeType}))},dt.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(dt(t).filter(function(){for(e=0;e<r;e++)if(dt.contains(i[e],this))return!0}));for(e=0;e<r;e++)dt.find(t,i[e],n);return(n=this.pushStack(1<r?dt.unique(n):n)).selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(e(this,t||[],!1))},not:function(t){return this.pushStack(e(this,t||[],!0))},is:function(t){return!!e(this,"string"==typeof t&&xt.test(t)?dt(t):t||[],!1).length}});var Tt,kt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(dt.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||Tt,"string"==typeof t){if(!(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&3<=t.length?[null,t,null]:kt.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof dt?e[0]:e,dt.merge(this,dt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:it,!0)),wt.test(i[1])&&dt.isPlainObject(e))for(i in e)dt.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if((r=it.getElementById(i[2]))&&r.parentNode){if(r.id!==i[2])return Tt.find(t);this.length=1,this[0]=r}return this.context=it,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):dt.isFunction(t)?"undefined"!=typeof n.ready?n.ready(t):t(dt):(t.selector!==undefined&&(this.selector=t.selector,this.context=t.context),dt.makeArray(t,this))}).prototype=dt.fn,Tt=dt(it);var Ct=/^(?:parents|prev(?:Until|All))/,Mt={children:!0,contents:!0,next:!0,prev:!0};dt.fn.extend({has:function(t){var e,n=dt(t,this),i=n.length;return this.filter(function(){for(e=0;e<i;e++)if(dt.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],a=xt.test(t)||"string"!=typeof t?dt(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&dt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(1<o.length?dt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?dt.inArray(this[0],dt(t)):dt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(dt.uniqueSort(dt.merge(this.get(),dt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),dt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return _t(t,"parentNode")},parentsUntil:function(t,e,n){return _t(t,"parentNode",n)},next:function(t){return n(t,"nextSibling")},prev:function(t){return n(t,"previousSibling")},nextAll:function(t){return _t(t,"nextSibling")},prevAll:function(t){return _t(t,"previousSibling")},nextUntil:function(t,e,n){return _t(t,"nextSibling",n)},prevUntil:function(t,e,n){return _t(t,"previousSibling",n)},siblings:function(t){return bt((t.parentNode||{}).firstChild,t)},children:function(t){return bt(t.firstChild)},contents:function(t){return dt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:dt.merge([],t.childNodes)}},function(i,r){dt.fn[i]=function(t,e){var n=dt.map(this,r,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=dt.filter(e,n)),1<this.length&&(Mt[i]||(n=dt.uniqueSort(n)),Ct.test(i)&&(n=n.reverse())),this.pushStack(n)}});var At,Pt,Et=/\S+/g;for(Pt in dt.Callbacks=function(i){i="string"==typeof i?c(i):dt.extend({},i);var r,t,e,n,o=[],a=[],s=-1,u=function(){for(n=i.once,e=r=!0;a.length;s=-1)for(t=a.shift();++s<o.length;)!1===o[s].apply(t[0],t[1])&&i.stopOnFalse&&(s=o.length,t=!1);i.memory||(t=!1),r=!1,n&&(o=t?[]:"")},l={add:function(){return o&&(t&&!r&&(s=o.length-1,a.push(t)),function n(t){dt.each(t,function(t,e){dt.isFunction(e)?i.unique&&l.has(e)||o.push(e):e&&e.length&&"string"!==dt.type(e)&&n(e)})}(arguments),t&&!r&&u()),this},remove:function(){return dt.each(arguments,function(t,e){for(var n;-1<(n=dt.inArray(e,o,n));)o.splice(n,1),n<=s&&s--}),this},has:function(t){return t?-1<dt.inArray(t,o):0<o.length},empty:function(){return o&&(o=[]),this},disable:function(){return n=a=[],o=t="",this},disabled:function(){return!o},lock:function(){return n=!0,t||l.disable(),this},locked:function(){return!!n},fireWith:function(t,e){return n||(e=[t,(e=e||[]).slice?e.slice():e],a.push(e),r||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!e}};return l},dt.extend({Deferred:function(t){var o=[["resolve","done",dt.Callbacks("once memory"),"resolved"],["reject","fail",dt.Callbacks("once memory"),"rejected"],["notify","progress",dt.Callbacks("memory")]],r="pending",a={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var r=arguments;return dt.Deferred(function(i){dt.each(o,function(t,e){var n=dt.isFunction(r[t])&&r[t];s[e[1]](function(){var t=n&&n.apply(this,arguments);t&&dt.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[e[0]+"With"](this===a?i.promise():this,n?[t]:arguments)})}),r=null}).promise()},promise:function(t){return null!=t?dt.extend(t,a):a}},s={};return a.pipe=a.then,dt.each(o,function(t,e){var n=e[2],i=e[3];a[e[1]]=n.add,i&&n.add(function(){r=i},o[1^t][2].disable,o[2][2].lock),s[e[0]]=function(){return s[e[0]+"With"](this===s?a:this,arguments),this},s[e[0]+"With"]=n.fireWith}),a.promise(s),t&&t.call(s,s),s},when:function(t){var r,e,n,i=0,o=rt.call(arguments),a=o.length,s=1!==a||t&&dt.isFunction(t.promise)?a:0,u=1===s?t:dt.Deferred(),l=function(e,n,i){return function(t){n[e]=this,i[e]=1<arguments.length?rt.call(arguments):t,i===r?u.notifyWith(n,i):--s||u.resolveWith(n,i)}};if(1<a)for(r=new Array(a),e=new Array(a),n=new Array(a);i<a;i++)o[i]&&dt.isFunction(o[i].promise)?o[i].promise().progress(l(i,e,r)).done(l(i,n,o)).fail(u.reject):--s;return s||u.resolveWith(n,o),u.promise()}}),dt.fn.ready=function(t){return dt.ready.promise().done(t),this},dt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?dt.readyWait++:dt.ready(!0)},ready:function(t){(!0===t?--dt.readyWait:dt.isReady)||(dt.isReady=!0)!==t&&0<--dt.readyWait||(At.resolveWith(it,[dt]),dt.fn.triggerHandler&&(dt(it).triggerHandler("ready"),dt(it).off("ready")))}}),dt.ready.promise=function(e){if(!At)if(At=dt.Deferred(),"complete"===it.readyState||"loading"!==it.readyState&&!it.documentElement.doScroll)S.setTimeout(dt.ready);else if(it.addEventListener)it.addEventListener("DOMContentLoaded",o),S.addEventListener("load",o);else{it.attachEvent("onreadystatechange",o),S.attachEvent("onload",o);var n=!1;try{n=null==S.frameElement&&it.documentElement}catch(i){}n&&n.doScroll&&function t(){if(!dt.isReady){try{n.doScroll("left")}catch(i){return S.setTimeout(t,50)}r(),dt.ready()}}()}return At.promise(e)},dt.ready.promise(),dt(ht))break;ht.ownFirst="0"===Pt,ht.inlineBlockNeedsLayout=!1,dt(function(){var t,e,n,i;(n=it.getElementsByTagName("body")[0])&&n.style&&(e=it.createElement("div"),(i=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ht.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=it.createElement("div");ht.deleteExpando=!0;try{delete t.test}catch(e){ht.deleteExpando=!1}t=null}();var Lt,Dt=function(t){var e=dt.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)},Nt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,It=/([A-Z])/g;dt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?dt.cache[t[dt.expando]]:t[dt.expando])&&!l(t)},data:function(t,e,n){return i(t,e,n)},removeData:function(t,e){return a(t,e)},_data:function(t,e,n){return i(t,e,n,!0)},_removeData:function(t,e){return a(t,e,!0)}}),dt.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(t===undefined){if(this.length&&(r=dt.data(o),1===o.nodeType&&!dt._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&u(o,i=dt.camelCase(i.slice(5)),r[i]);dt._data(o,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each(function(){dt.data(this,t)}):1<arguments.length?this.each(function(){dt.data(this,t,e)}):o?u(o,t,dt.data(o,t)):undefined},removeData:function(t){return this.each(function(){dt.removeData(this,t)})}}),dt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=dt._data(t,e),n&&(!i||dt.isArray(n)?i=dt._data(t,e,dt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=dt.queue(t,e),i=n.length,r=n.shift(),o=dt._queueHooks(t,e),a=function(){dt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return dt._data(t,n)||dt._data(t,n,{empty:dt.Callbacks("once memory").add(function(){dt._removeData(t,e+"queue"),dt._removeData(t,n)})})}}),dt.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?dt.queue(this[0],e):n===undefined?this:this.each(function(){var t=dt.queue(this,e,n);dt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&dt.dequeue(this,e)})},dequeue:function(t){return this.each(function(){dt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=dt.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";a--;)(n=dt._data(o[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}}),ht.shrinkWrapBlocks=function(){return null!=Lt?Lt:(Lt=!1,(e=it.getElementsByTagName("body")[0])&&e.style?(t=it.createElement("div"),(n=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(n).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(it.createElement("div")).style.width="5px",Lt=3!==t.offsetWidth),e.removeChild(n),Lt):void 0);var t,e,n};var Ot,Rt,Ft,zt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ht=new RegExp("^(?:([+-])=|)("+zt+")([a-z%]*)$","i"),jt=["Top","Right","Bottom","Left"],Vt=function(t,e){return t=e||t,"none"===dt.css(t,"display")||!dt.contains(t.ownerDocument,t)},Gt=function(t,e,n,i,r,o,a){var s=0,u=t.length,l=null==n;if("object"===dt.type(n))for(s in r=!0,n)Gt(t,e,s,n[s],!0,o,a);else if(i!==undefined&&(r=!0,dt.isFunction(i)||(a=!0),l&&(a?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(dt(t),n)})),e))for(;s<u;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:l?e.call(t):u?e(t[0],n):o},qt=/^(?:checkbox|radio)$/i,$t=/<([\w:-]+)/,Bt=/^$|\/(?:java|ecma)script/i,Wt=/^\s+/,Ut="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";Ot=it.createElement("div"),Rt=it.createDocumentFragment(),Ft=it.createElement("input"),Ot.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ht.leadingWhitespace=3===Ot.firstChild.nodeType,ht.tbody=!Ot.getElementsByTagName("tbody").length,ht.htmlSerialize=!!Ot.getElementsByTagName("link").length,ht.html5Clone="<:nav></:nav>"!==it.createElement("nav").cloneNode(!0).outerHTML,Ft.type="checkbox",Ft.checked=!0,Rt.appendChild(Ft),ht.appendChecked=Ft.checked,Ot.innerHTML="<textarea>x</textarea>",ht.noCloneChecked=!!Ot.cloneNode(!0).lastChild.defaultValue,Rt.appendChild(Ot),(Ft=it.createElement("input")).setAttribute("type","radio"),Ft.setAttribute("checked","checked"),Ft.setAttribute("name","t"),Ot.appendChild(Ft),ht.checkClone=Ot.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.noCloneEvent=!!Ot.addEventListener,Ot[dt.expando]=1,ht.attributes=!Ot.getAttribute(dt.expando);var Yt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ht.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Yt.optgroup=Yt.option,Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td;var Xt=/<|&#?\w+;/,Qt=/<tbody/i;!function(){var t,e,n=it.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})e="on"+t,(ht[t]=e in S)||(n.setAttribute(e,"t"),ht[t]=!1===n.attributes[e].expando);n=null}();var Kt=/^(?:input|select|textarea)$/i,Zt=/^key/,Jt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,te=/^(?:focusinfocus|focusoutblur)$/,ee=/^([^.]*)(?:\.(.+)|)/;dt.event={global:{},add:function(t,e,n,i,r){var o,a,s,u,l,c,h,f,d,p,g,m=dt._data(t);if(m){for(n.handler&&(n=(u=n).handler,r=u.selector),n.guid||(n.guid=dt.guid++),(a=m.events)||(a=m.events={}),(c=m.handle)||((c=m.handle=function(t){return void 0===dt||t&&dt.event.triggered===t.type?undefined:dt.event.dispatch.apply(c.elem,arguments)}).elem=t),s=(e=(e||"").match(Et)||[""]).length;s--;)d=g=(o=ee.exec(e[s])||[])[1],p=(o[2]||"").split(".").sort(),d&&(l=dt.event.special[d]||{},d=(r?l.delegateType:l.bindType)||d,l=dt.event.special[d]||{},h=dt.extend({type:d,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&dt.expr.match.needsContext.test(r),namespace:p.join(".")},u),(f=a[d])||((f=a[d]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(t,i,p,c)||(t.addEventListener?t.addEventListener(d,c,!1):t.attachEvent&&t.attachEvent("on"+d,c))),l.add&&(l.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,h):f.push(h),dt.event.global[d]=!0);t=null}},remove:function(t,e,n,i,r){var o,a,s,u,l,c,h,f,d,p,g,m=dt.hasData(t)&&dt._data(t);if(m&&(c=m.events)){for(l=(e=(e||"").match(Et)||[""]).length;l--;)if(d=g=(s=ee.exec(e[l])||[])[1],p=(s[2]||"").split(".").sort(),d){for(h=dt.event.special[d]||{},f=c[d=(i?h.delegateType:h.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;o--;)a=f[o],!r&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,h.remove&&h.remove.call(t,a));u&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,p,m.handle)||dt.removeEvent(t,d,m.handle),delete c[d])}else for(d in c)dt.event.remove(t,d+e[l],n,i,!0);dt.isEmptyObject(c)&&(delete m.handle,dt._removeData(t,"events"))}},trigger:function(t,e,n,i){var r,o,a,s,u,l,c,h=[n||it],f=ct.call(t,"type")?t.type:t,d=ct.call(t,"namespace")?t.namespace.split("."):[];if(a=l=n=n||it,3!==n.nodeType&&8!==n.nodeType&&!te.test(f+dt.event.triggered)&&(-1<f.indexOf(".")&&(f=(d=f.split(".")).shift(),d.sort()),o=f.indexOf(":")<0&&"on"+f,(t=t[dt.expando]?t:new dt.Event(f,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=d.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=n),e=null==e?[t]:dt.makeArray(e,[t]),u=dt.event.special[f]||{},i||!u.trigger||!1!==u.trigger.apply(n,e))){if(!i&&!u.noBubble&&!dt.isWindow(n)){for(s=u.delegateType||f,te.test(s+f)||(a=a.parentNode);a;a=a.parentNode)h.push(a),l=a;l===(n.ownerDocument||it)&&h.push(l.defaultView||l.parentWindow||S)}for(c=0;(a=h[c++])&&!t.isPropagationStopped();)t.type=1<c?s:u.bindType||f,(r=(dt._data(a,"events")||{})[t.type]&&dt._data(a,"handle"))&&r.apply(a,e),(r=o&&a[o])&&r.apply&&Dt(a)&&(t.result=r.apply(a,e),!1===t.result&&t.preventDefault());if(t.type=f,!i&&!t.isDefaultPrevented()&&(!u._default||!1===u._default.apply(h.pop(),e))&&Dt(n)&&o&&n[f]&&!dt.isWindow(n)){(l=n[o])&&(n[o]=null),dt.event.triggered=f;try{n[f]()}catch(p){}dt.event.triggered=undefined,l&&(n[o]=l)}return t.result}},dispatch:function(t){t=dt.event.fix(t);var e,n,i,r,o,a=[],s=rt.call(arguments),u=(dt._data(this,"events")||{})[t.type]||[],l=dt.event.special[t.type]||{};if((s[0]=t).delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,t)){for(a=dt.event.handlers.call(this,t,u),e=0;(r=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,(i=((dt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))!==undefined&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,a=[],s=e.delegateCount,u=t.target;if(s&&u.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==t.type)){for(i=[],n=0;n<s;n++)i[r=(o=e[n]).selector+" "]===undefined&&(i[r]=o.needsContext?-1<dt(r,this).index(u):dt.find(r,this,null,[u]).length),i[r]&&i.push(o);i.length&&a.push({elem:u,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},fix:function(t){if(t[dt.expando])return t;var e,n,i,r=t.type,o=t,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Jt.test(r)?this.mouseHooks:Zt.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new dt.Event(o),e=i.length;e--;)t[n=i[e]]=o[n];return t.target||(t.target=o.srcElement||it),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(r=(i=t.target.ownerDocument||it).documentElement,n=i.body,t.pageX=e.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||o===undefined||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===p()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(dt.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return dt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var i=dt.extend(new dt.Event,n,{type:t,isSimulated:!0});dt.event.trigger(i,null,e),i.isDefaultPrevented()&&n.preventDefault()}},dt.removeEvent=it.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var i="on"+e;t.detachEvent&&("undefined"==typeof t[i]&&(t[i]=null),t.detachEvent(i,n))},dt.Event=function(t,e){if(!(this instanceof dt.Event))return new dt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?f:d):this.type=t,e&&dt.extend(this,e),this.timeStamp=t&&t.timeStamp||dt.now(),this[dt.expando]=!0},dt.Event.prototype={constructor:dt.Event,isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=f,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=f,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=f,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},dt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,o){dt.event.special[t]={delegateType:o,bindType:o,handle:function(t){var e,n=this,i=t.relatedTarget,r=t.handleObj;return i&&(i===n||dt.contains(n,i))||(t.type=r.origType,e=r.handler.apply(this,arguments),t.type=o),e}}}),ht.submit||(dt.event.special.submit={setup:function(){if(dt.nodeName(this,"form"))return!1;dt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=dt.nodeName(e,"input")||dt.nodeName(e,"button")?dt.prop(e,"form"):undefined;n&&!dt._data(n,"submit")&&(dt.event.add(n,"submit._submit",function(t){t._submitBubble=!0}),dt._data(n,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&dt.event.simulate("submit",this.parentNode,t))},teardown:function(){if(dt.nodeName(this,"form"))return!1;dt.event.remove(this,"._submit")}}),ht.change||(dt.event.special.change={setup:function(){if(Kt.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(dt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),dt.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),dt.event.simulate("change",this,t)})),!1;dt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Kt.test(e.nodeName)&&!dt._data(e,"change")&&(dt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||dt.event.simulate("change",this.parentNode,t)}),dt._data(e,"change",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return dt.event.remove(this,"._change"),!Kt.test(this.nodeName)}}),ht.focusin||dt.each({focus:"focusin",blur:"focusout"},function(n,i){var r=function(t){dt.event.simulate(i,t.target,dt.event.fix(t))};dt.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=dt._data(t,i);e||t.addEventListener(n,r,!0),dt._data(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=dt._data(t,i)-1;e?dt._data(t,i,e):(t.removeEventListener(n,r,!0),dt._removeData(t,i))}}}),dt.fn.extend({on:function(t,e,n,i){return b(this,t,e,n,i)},one:function(t,e,n,i){return b(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,dt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=d),this.each(function(){dt.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){dt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return dt.event.trigger(t,e,n,!0)}});var ne=/ jQuery\d+="(?:null|\d+)"/g,ie=new RegExp("<(?:"+Ut+")[\\s/>]","i"),re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,oe=/<script|<style|<link/i,ae=/checked\s*(?:[^=]|=\s*.checked.)/i,se=/^true\/(.*)/,ue=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,le=m(it).appendChild(it.createElement("div"));dt.extend({htmlPrefilter:function(t){return t.replace(re,"<$1></$2>")},clone:function(t,e,n){var i,r,o,a,s,u=dt.contains(t.ownerDocument,t);if(ht.html5Clone||dt.isXMLDoc(t)||!ie.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(le.innerHTML=t.outerHTML,le.removeChild(o=le.firstChild)),!(ht.noCloneEvent&&ht.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||dt.isXMLDoc(t)))for(i=v(o),s=v(t),a=0;null!=(r=s[a]);++a)i[a]&&C(r,i[a]);if(e)if(n)for(s=s||v(t),i=i||v(o),a=0;null!=(r=s[a]);a++)k(r,i[a]);else k(t,o);return 0<(i=v(o,"script")).length&&y(i,!u&&v(t,"script")),i=s=r=null,o},cleanData:function(t,e){for(var n,i,r,o,a=0,s=dt.expando,u=dt.cache,l=ht.attributes,c=dt.event.special;null!=(n=t[a]);a++)if((e||Dt(n))&&(o=(r=n[s])&&u[r])){if(o.events)for(i in o.events)c[i]?dt.event.remove(n,i):dt.removeEvent(n,i,o.handle);u[r]&&(delete u[r],l||"undefined"==typeof n.removeAttribute?n[s]=undefined:n.removeAttribute(s),nt.push(r))}}}),dt.fn.extend({domManip:M,detach:function(t){return A(this,t,!0)},remove:function(t){return A(this,t)},text:function(t){return Gt(this,function(t){return t===undefined?dt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||it).createTextNode(t))},null,t,arguments.length)},append:function(){return M(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||x(this,t).appendChild(t)})},prepend:function(){return M(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=x(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return M(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return M(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&dt.cleanData(v(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&dt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return dt.clone(this,t,e)})},html:function(t){return Gt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===undefined)return 1===e.nodeType?e.innerHTML.replace(ne,""):undefined;if("string"==typeof t&&!oe.test(t)&&(ht.htmlSerialize||!ie.test(t))&&(ht.leadingWhitespace||!Wt.test(t))&&!Yt[($t.exec(t)||["",""])[1].toLowerCase()]){t=dt.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(dt.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return M(this,arguments,function(t){var e=this.parentNode;dt.inArray(this,n)<0&&(dt.cleanData(v(this)),e&&e.replaceChild(t,this))},n)}}),dt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,a){dt.fn[t]=function(t){for(var e,n=0,i=[],r=dt(t),o=r.length-1;n<=o;n++)e=n===o?this:this.clone(!0),dt(r[n])[a](e),at.apply(i,e.get());return this.pushStack(i)}});var ce,he={HTML:"block",BODY:"block"},fe=/^margin/,de=new RegExp("^("+zt+")(?!px)[a-z%]+$","i"),pe=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=a[o];return r},ge=it.documentElement;!function(){function t(){var t,e,n=it.documentElement;n.appendChild(l),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=o=u=!1,r=s=!0,S.getComputedStyle&&(e=S.getComputedStyle(c),i="1%"!==(e||{}).top,u="2px"===(e||{}).marginLeft,o="4px"===(e||{width:"4px"}).width,c.style.marginRight="50%",r="4px"===(e||{marginRight:"4px"}).marginRight,(t=c.appendChild(it.createElement("div"))).style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",c.style.width="1px",s=!parseFloat((S.getComputedStyle(t)||{}).marginRight),c.removeChild(t)),c.style.display="none",(a=0===c.getClientRects().length)&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",
c.childNodes[0].style.borderCollapse="separate",(t=c.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(a=0===t[0].offsetHeight)&&(t[0].style.display="",t[1].style.display="none",a=0===t[0].offsetHeight)),n.removeChild(l)}var i,r,o,a,s,u,l=it.createElement("div"),c=it.createElement("div");c.style&&(c.style.cssText="float:left;opacity:.5",ht.opacity="0.5"===c.style.opacity,ht.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",ht.clearCloneStyle="content-box"===c.style.backgroundClip,(l=it.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",l.appendChild(c),ht.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,dt.extend(ht,{reliableHiddenOffsets:function(){return null==i&&t(),a},boxSizingReliable:function(){return null==i&&t(),o},pixelMarginRight:function(){return null==i&&t(),r},pixelPosition:function(){return null==i&&t(),i},reliableMarginRight:function(){return null==i&&t(),s},reliableMarginLeft:function(){return null==i&&t(),u}}))}();var me,ve,ye=/^(top|right|bottom|left)$/;S.getComputedStyle?(me=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=S),e.getComputedStyle(t)},ve=function(t,e,n){var i,r,o,a,s=t.style;return""!==(a=(n=n||me(t))?n.getPropertyValue(e)||n[e]:undefined)&&a!==undefined||dt.contains(t.ownerDocument,t)||(a=dt.style(t,e)),n&&!ht.pixelMarginRight()&&de.test(a)&&fe.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o),a===undefined?a:a+""}):ge.currentStyle&&(me=function(t){return t.currentStyle},ve=function(t,e,n){var i,r,o,a,s=t.style;return null==(a=(n=n||me(t))?n[e]:undefined)&&s&&s[e]&&(a=s[e]),de.test(a)&&!ye.test(e)&&(i=s.left,(o=(r=t.runtimeStyle)&&r.left)&&(r.left=t.currentStyle.left),s.left="fontSize"===e?"1em":a,a=s.pixelLeft+"px",s.left=i,o&&(r.left=o)),a===undefined?a:a+""||"auto"});var _e=/alpha\([^)]*\)/i,be=/opacity\s*=\s*([^)]*)/i,xe=/^(none|table(?!-c[ea]).+)/,we=new RegExp("^("+zt+")(.*)$","i"),Se={position:"absolute",visibility:"hidden",display:"block"},Te={letterSpacing:"0",fontWeight:"400"},ke=["Webkit","O","Moz","ms"],Ce=it.createElement("div").style;dt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=ve(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ht.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=dt.camelCase(e),u=t.style;if(e=dt.cssProps[s]||(dt.cssProps[s]=D(s)||s),a=dt.cssHooks[e]||dt.cssHooks[s],n===undefined)return a&&"get"in a&&(r=a.get(t,!1,i))!==undefined?r:u[e];if("string"===(o=typeof n)&&(r=Ht.exec(n))&&r[1]&&(n=h(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(dt.cssNumber[s]?"":"px")),ht.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),!(a&&"set"in a&&(n=a.set(t,n,i))===undefined)))try{u[e]=n}catch(l){}}},css:function(t,e,n,i){var r,o,a,s=dt.camelCase(e);return e=dt.cssProps[s]||(dt.cssProps[s]=D(s)||s),(a=dt.cssHooks[e]||dt.cssHooks[s])&&"get"in a&&(o=a.get(t,!0,n)),o===undefined&&(o=ve(t,e,i)),"normal"===o&&e in Te&&(o=Te[e]),""===n||n?(r=parseFloat(o),!0===n||isFinite(r)?r||0:o):o}}),dt.each(["height","width"],function(t,r){dt.cssHooks[r]={get:function(t,e,n){if(e)return xe.test(dt.css(t,"display"))&&0===t.offsetWidth?pe(t,Se,function(){return R(t,r,n)}):R(t,r,n)},set:function(t,e,n){var i=n&&me(t);return I(t,e,n?O(t,r,n,ht.boxSizing&&"border-box"===dt.css(t,"boxSizing",!1,i),i):0)}}}),ht.opacity||(dt.cssHooks.opacity={get:function(t,e){return be.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=dt.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";((n.zoom=1)<=e||""===e)&&""===dt.trim(o.replace(_e,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=_e.test(o)?o.replace(_e,r):o+" "+r)}}),dt.cssHooks.marginRight=L(ht.reliableMarginRight,function(t,e){if(e)return pe(t,{display:"inline-block"},ve,[t,"marginRight"])}),dt.cssHooks.marginLeft=L(ht.reliableMarginLeft,function(t,e){if(e)return(parseFloat(ve(t,"marginLeft"))||(dt.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-pe(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px"}),dt.each({margin:"",padding:"",border:"Width"},function(r,o){dt.cssHooks[r+o]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[r+jt[e]+o]=i[e]||i[e-2]||i[0];return n}},fe.test(r)||(dt.cssHooks[r+o].set=I)}),dt.fn.extend({css:function(t,e){return Gt(this,function(t,e,n){var i,r,o={},a=0;if(dt.isArray(e)){for(i=me(t),r=e.length;a<r;a++)o[e[a]]=dt.css(t,e[a],!1,i);return o}return n!==undefined?dt.style(t,e,n):dt.css(t,e)},t,e,1<arguments.length)},show:function(){return N(this,!0)},hide:function(){return N(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Vt(this)?dt(this).show():dt(this).hide()})}}),(dt.Tween=F).prototype={constructor:F,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||dt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(dt.cssNumber[n]?"":"px")},cur:function(){var t=F.propHooks[this.prop];return t&&t.get?t.get(this):F.propHooks._default.get(this)},run:function(t){var e,n=F.propHooks[this.prop];return this.options.duration?this.pos=e=dt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=dt.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){dt.fx.step[t.prop]?dt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[dt.cssProps[t.prop]]&&!dt.cssHooks[t.prop]?t.elem[t.prop]=t.now:dt.style(t.elem,t.prop,t.now+t.unit)}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},dt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},dt.fx=F.prototype.init,dt.fx.step={};var Me,Ae,Pe,Ee,Le,De,Ne,Ie=/^(?:toggle|show|hide)$/,Oe=/queueHooks$/;dt.Animation=dt.extend(q,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return h(n.elem,t,Ht.exec(e),n),n}]},tweener:function(t,e){dt.isFunction(t)?(e=t,t=["*"]):t=t.match(Et);for(var n,i=0,r=t.length;i<r;i++)n=t[i],q.tweeners[n]=q.tweeners[n]||[],q.tweeners[n].unshift(e)},prefilters:[V],prefilter:function(t,e){e?q.prefilters.unshift(t):q.prefilters.push(t)}}),dt.speed=function(t,e,n){var i=t&&"object"==typeof t?dt.extend({},t):{complete:n||!n&&e||dt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!dt.isFunction(e)&&e};return i.duration=dt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in dt.fx.speeds?dt.fx.speeds[i.duration]:dt.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){dt.isFunction(i.old)&&i.old.call(this),i.queue&&dt.dequeue(this,i.queue)},i},dt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Vt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){var r=dt.isEmptyObject(e),o=dt.speed(t,n,i),a=function(){var t=q(this,dt.extend({},e),o);(r||dt._data(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(r,t,o){var a=function(t){var e=t.stop;delete t.stop,e(o)};return"string"!=typeof r&&(o=t,t=r,r=undefined),t&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var t=!0,e=null!=r&&r+"queueHooks",n=dt.timers,i=dt._data(this);if(e)i[e]&&i[e].stop&&a(i[e]);else for(e in i)i[e]&&i[e].stop&&Oe.test(e)&&a(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=r&&n[e].queue!==r||(n[e].anim.stop(o),t=!1,n.splice(e,1));!t&&o||dt.dequeue(this,r)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var t,e=dt._data(this),n=e[a+"queue"],i=e[a+"queueHooks"],r=dt.timers,o=n?n.length:0;for(e.finish=!0,dt.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===a&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),dt.each(["toggle","show","hide"],function(t,i){var r=dt.fn[i];dt.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(H(i,!0),t,e,n)}}),dt.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){dt.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),dt.timers=[],dt.fx.tick=function(){var t,e=dt.timers,n=0;for(Me=dt.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||dt.fx.stop(),Me=undefined},dt.fx.timer=function(t){dt.timers.push(t),t()?dt.fx.start():dt.timers.pop()},dt.fx.interval=13,dt.fx.start=function(){Ae||(Ae=S.setInterval(dt.fx.tick,dt.fx.interval))},dt.fx.stop=function(){S.clearInterval(Ae),Ae=null},dt.fx.speeds={slow:600,fast:200,_default:400},dt.fn.delay=function(i,t){return i=dt.fx&&dt.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=S.setTimeout(t,i);e.stop=function(){S.clearTimeout(n)}})},Ee=it.createElement("input"),Le=it.createElement("div"),De=it.createElement("select"),Ne=De.appendChild(it.createElement("option")),(Le=it.createElement("div")).setAttribute("className","t"),Le.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",Pe=Le.getElementsByTagName("a")[0],Ee.setAttribute("type","checkbox"),Le.appendChild(Ee),(Pe=Le.getElementsByTagName("a")[0]).style.cssText="top:1px",ht.getSetAttribute="t"!==Le.className,ht.style=/top/.test(Pe.getAttribute("style")),ht.hrefNormalized="/a"===Pe.getAttribute("href"),ht.checkOn=!!Ee.value,ht.optSelected=Ne.selected,ht.enctype=!!it.createElement("form").enctype,De.disabled=!0,ht.optDisabled=!Ne.disabled,(Ee=it.createElement("input")).setAttribute("value",""),ht.input=""===Ee.getAttribute("value"),Ee.value="t",Ee.setAttribute("type","radio"),ht.radioValue="t"===Ee.value;var Re=/\r/g,Fe=/[\x20\t\r\n\f]+/g;dt.fn.extend({val:function(n){var i,t,r,e=this[0];return arguments.length?(r=dt.isFunction(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=r?n.call(this,t,dt(this).val()):n)?e="":"number"==typeof e?e+="":dt.isArray(e)&&(e=dt.map(e,function(t){return null==t?"":t+""})),(i=dt.valHooks[this.type]||dt.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,e,"value")!==undefined||(this.value=e))})):e?(i=dt.valHooks[e.type]||dt.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&(t=i.get(e,"value"))!==undefined?t:"string"==typeof(t=e.value)?t.replace(Re,""):null==t?"":t:void 0}}),dt.extend({valHooks:{option:{get:function(t){var e=dt.find.attr(t,"value");return null!=e?e:dt.trim(dt.text(t)).replace(Fe," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||r<0,a=o?null:[],s=o?r+1:i.length,u=r<0?s:o?r:0;u<s;u++)if(((n=i[u]).selected||u===r)&&(ht.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!dt.nodeName(n.parentNode,"optgroup"))){if(e=dt(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=dt.makeArray(e),a=r.length;a--;)if(i=r[a],-1<dt.inArray(dt.valHooks.option.get(i),o))try{i.selected=n=!0}catch(s){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),r}}}}),dt.each(["radio","checkbox"],function(){dt.valHooks[this]={set:function(t,e){if(dt.isArray(e))return t.checked=-1<dt.inArray(dt(t).val(),e)}},ht.checkOn||(dt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ze,He,je=dt.expr.attrHandle,Ve=/^(?:checked|selected)$/i,Ge=ht.getSetAttribute,qe=ht.input;dt.fn.extend({attr:function(t,e){return Gt(this,dt.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){dt.removeAttr(this,t)})}}),dt.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?dt.prop(t,e,n):(1===o&&dt.isXMLDoc(t)||(e=e.toLowerCase(),r=dt.attrHooks[e]||(dt.expr.match.bool.test(e)?He:ze)),n!==undefined?null===n?void dt.removeAttr(t,e):r&&"set"in r&&(i=r.set(t,n,e))!==undefined?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=dt.find.attr(t,e))?undefined:i)},attrHooks:{type:{set:function(t,e){if(!ht.radioValue&&"radio"===e&&dt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(Et);if(o&&1===t.nodeType)for(;n=o[r++];)i=dt.propFix[n]||n,dt.expr.match.bool.test(n)?qe&&Ge||!Ve.test(n)?t[i]=!1:t[dt.camelCase("default-"+n)]=t[i]=!1:dt.attr(t,n,""),t.removeAttribute(Ge?n:i)}}),He={set:function(t,e,n){return!1===e?dt.removeAttr(t,n):qe&&Ge||!Ve.test(n)?t.setAttribute(!Ge&&dt.propFix[n]||n,n):t[dt.camelCase("default-"+n)]=t[n]=!0,n}},dt.each(dt.expr.match.bool.source.match(/\w+/g),function(t,e){var o=je[e]||dt.find.attr;qe&&Ge||!Ve.test(e)?je[e]=function(t,e,n){var i,r;return n||(r=je[e],je[e]=i,i=null!=o(t,e,n)?e.toLowerCase():null,je[e]=r),i}:je[e]=function(t,e,n){if(!n)return t[dt.camelCase("default-"+e)]?e.toLowerCase():null}}),qe&&Ge||(dt.attrHooks.value={set:function(t,e,n){if(!dt.nodeName(t,"input"))return ze&&ze.set(t,e,n);t.defaultValue=e}}),Ge||(ze={set:function(t,e,n){var i=t.getAttributeNode(n);if(i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n))return e}},je.id=je.name=je.coords=function(t,e,n){var i;if(!n)return(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},dt.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:ze.set},dt.attrHooks.contenteditable={set:function(t,e,n){ze.set(t,""!==e&&e,n)}},dt.each(["width","height"],function(t,n){dt.attrHooks[n]={set:function(t,e){if(""===e)return t.setAttribute(n,"auto"),e}}})),ht.style||(dt.attrHooks.style={get:function(t){return t.style.cssText||undefined},set:function(t,e){return t.style.cssText=e+""}});var $e=/^(?:input|select|textarea|button|object)$/i,Be=/^(?:a|area)$/i;dt.fn.extend({prop:function(t,e){return Gt(this,dt.prop,t,e,1<arguments.length)},removeProp:function(e){return e=dt.propFix[e]||e,this.each(function(){try{this[e]=undefined,delete this[e]}catch(t){}})}}),dt.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&dt.isXMLDoc(t)||(e=dt.propFix[e]||e,r=dt.propHooks[e]),n!==undefined?r&&"set"in r&&(i=r.set(t,n,e))!==undefined?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=dt.find.attr(t,"tabindex");return e?parseInt(e,10):$e.test(t.nodeName)||Be.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ht.hrefNormalized||dt.each(["href","src"],function(t,e){dt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ht.optSelected||(dt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),dt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){dt.propFix[this.toLowerCase()]=this}),ht.enctype||(dt.propFix.enctype="encoding");var We=/[\t\r\n\f]/g;dt.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,u=0;if(dt.isFunction(e))return this.each(function(t){dt(this).addClass(e.call(this,t,$(this)))});if("string"==typeof e&&e)for(t=e.match(Et)||[];n=this[u++];)if(r=$(n),i=1===n.nodeType&&(" "+r+" ").replace(We," ")){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=dt.trim(i))&&dt.attr(n,"class",s)}return this},removeClass:function(e){var t,n,i,r,o,a,s,u=0;if(dt.isFunction(e))return this.each(function(t){dt(this).removeClass(e.call(this,t,$(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Et)||[];n=this[u++];)if(r=$(n),i=1===n.nodeType&&(" "+r+" ").replace(We," ")){for(a=0;o=t[a++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");r!==(s=dt.trim(i))&&dt.attr(n,"class",s)}return this},toggleClass:function(r,e){var o=typeof r;return"boolean"==typeof e&&"string"===o?e?this.addClass(r):this.removeClass(r):dt.isFunction(r)?this.each(function(t){dt(this).toggleClass(r.call(this,t,$(this),e),e)}):this.each(function(){var t,e,n,i;if("string"===o)for(e=0,n=dt(this),i=r.match(Et)||[];t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else r!==undefined&&"boolean"!==o||((t=$(this))&&dt._data(this,"__className__",t),dt.attr(this,"class",t||!1===r?"":dt._data(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+$(n)+" ").replace(We," ").indexOf(e))return!0;return!1}}),dt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,n){dt.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),dt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var Ue=S.location,Ye=dt.now(),Xe=/\?/,Qe=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;dt.parseJSON=function(t){if(S.JSON&&S.JSON.parse)return S.JSON.parse(t+"");var r,o=null,e=dt.trim(t+"");return e&&!dt.trim(e.replace(Qe,function(t,e,n,i){return r&&e&&(o=0),0===o?t:(r=n||e,o+=!i-!n,"")}))?Function("return "+e)():dt.error("Invalid JSON: "+t)},dt.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{S.DOMParser?e=(new S.DOMParser).parseFromString(t,"text/xml"):((e=new S.ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t))}catch(n){e=undefined}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||dt.error("Invalid XML: "+t),e};var Ke=/#.*$/,Ze=/([?&])_=[^&]*/,Je=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,tn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,en=/^(?:GET|HEAD)$/,nn=/^\/\//,rn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,on={},an={},sn="*/".concat("*"),un=Ue.href,ln=rn.exec(un.toLowerCase())||[];dt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:un,type:"GET",isLocal:tn.test(ln[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":sn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":dt.parseJSON,"text xml":dt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?U(U(t,dt.ajaxSettings),e):U(dt.ajaxSettings,t)},ajaxPrefilter:B(on),ajaxTransport:B(an),ajax:function(t,e){function n(t,e,n,i){var r,o,a,s,u,l=e;2!==x&&(x=2,f&&S.clearTimeout(f),p=undefined,h=i||"",w.readyState=0<t?4:0,r=200<=t&&t<300||304===t,n&&(s=Y(g,w,n)),s=X(g,s,w,r),r?(g.ifModified&&((u=w.getResponseHeader("Last-Modified"))&&(dt.lastModified[c]=u),(u=w.getResponseHeader("etag"))&&(dt.etag[c]=u)),204===t||"HEAD"===g.type?l="nocontent":304===t?l="notmodified":(l=s.state,o=s.data,r=!(a=s.error))):(a=l,!t&&l||(l="error",t<0&&(t=0))),w.status=t,w.statusText=(e||l)+"",r?y.resolveWith(m,[o,l,w]):y.rejectWith(m,[w,l,a]),w.statusCode(b),b=undefined,d&&v.trigger(r?"ajaxSuccess":"ajaxError",[w,g,r?o:a]),_.fireWith(m,[w,l]),d&&(v.trigger("ajaxComplete",[w,g]),--dt.active||dt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=undefined),e=e||{};var i,r,c,h,f,d,p,o,g=dt.ajaxSetup({},e),m=g.context||g,v=g.context&&(m.nodeType||m.jquery)?dt(m):dt.event,y=dt.Deferred(),_=dt.Callbacks("once memory"),b=g.statusCode||{},a={},s={},x=0,u="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!o)for(o={};e=Je.exec(h);)o[e[1].toLowerCase()]=e[2];e=o[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?h:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=s[n]=s[n]||t,a[t]=e),this},overrideMimeType:function(t){return x||(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(x<2)for(e in t)b[e]=[b[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||u;return p&&p.abort(e),n(0,e),this}};if(y.promise(w).complete=_.add,w.success=w.done,w.error=w.fail,g.url=((t||g.url||un)+"").replace(Ke,"").replace(nn,ln[1]+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=dt.trim(g.dataType||"*").toLowerCase().match(Et)||[""],null==g.crossDomain&&(i=rn.exec(g.url.toLowerCase()),g.crossDomain=!(!i||i[1]===ln[1]&&i[2]===ln[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(ln[3]||("http:"===ln[1]?"80":"443")))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=dt.param(g.data,g.traditional)),W(on,g,e,w),2===x)return w;for(r in(d=dt.event&&g.global)&&0==dt.active++&&dt.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!en.test(g.type),c=g.url,g.hasContent||(g.data&&(c=g.url+=(Xe.test(c)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=Ze.test(c)?c.replace(Ze,"$1_="+Ye++):c+(Xe.test(c)?"&":"?")+"_="+Ye++)),g.ifModified&&(dt.lastModified[c]&&w.setRequestHeader("If-Modified-Since",dt.lastModified[c]),dt.etag[c]&&w.setRequestHeader("If-None-Match",dt.etag[c])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&w.setRequestHeader("Content-Type",g.contentType),w.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+sn+"; q=0.01":""):g.accepts["*"]),g.headers)w.setRequestHeader(r,g.headers[r]);if(g.beforeSend&&(!1===g.beforeSend.call(m,w,g)||2===x))return w.abort();for(r in u="abort",{success:1,error:1,complete:1})w[r](g[r]);if(p=W(an,g,e,w)){if(w.readyState=1,d&&v.trigger("ajaxSend",[w,g]),2===x)return w;g.async&&0<g.timeout&&(f=S.setTimeout(function(){w.abort("timeout")},g.timeout));try{x=1,p.send(a,n)}catch(l){if(!(x<2))throw l;n(-1,l)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return dt.get(t,e,n,"json")},getScript:function(t,e){return dt.get(t,undefined,e,"script")}}),dt.each(["get","post"],function(t,r){dt[r]=function(t,e,n,i){return dt.isFunction(e)&&(i=i||n,n=e,e=undefined),dt.ajax(dt.extend({url:t,type:r,dataType:i,data:e,success:n},dt.isPlainObject(t)&&t))}}),dt._evalUrl=function(t){return dt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},dt.fn.extend({wrapAll:function(e){if(dt.isFunction(e))return this.each(function(t){dt(this).wrapAll(e.call(this,t))});if(this[0]){var t=dt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(n){return dt.isFunction(n)?this.each(function(t){dt(this).wrapInner(n.call(this,t))}):this.each(function(){var t=dt(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=dt.isFunction(e);return this.each(function(t){dt(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){dt.nodeName(this,"body")||dt(this).replaceWith(this.childNodes)}).end()}}),dt.expr.filters.hidden=function(t){return ht.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:K(t)},dt.expr.filters.visible=function(t){return!dt.expr.filters.hidden(t)};var cn=/%20/g,hn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,pn=/^(?:input|select|textarea|keygen)/i;dt.param=function(t,e){var n,i=[],r=function(t,e){e=dt.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===undefined&&(e=dt.ajaxSettings&&dt.ajaxSettings.traditional),dt.isArray(t)||t.jquery&&!dt.isPlainObject(t))dt.each(t,function(){r(this.name,this.value)});else for(n in t)Z(n,t[n],e,r);return i.join("&").replace(cn,"+")},dt.fn.extend({serialize:function(){return dt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=dt.prop(this,"elements");return t?dt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!dt(this).is(":disabled")&&pn.test(this.nodeName)&&!dn.test(t)&&(this.checked||!qt.test(t))}).map(function(t,e){var n=dt(this).val();return null==n?null:dt.isArray(n)?dt.map(n,function(t){return{name:e.name,value:t.replace(fn,"\r\n")}}):{name:e.name,value:n.replace(fn,"\r\n")}}).get()}}),dt.ajaxSettings.xhr=S.ActiveXObject!==undefined?function(){return this.isLocal?tt():8<it.documentMode?J():/^(get|post|head|put|delete|options)$/i.test(this.type)&&J()||tt()}:J;var gn=0,mn={},vn=dt.ajaxSettings.xhr();S.attachEvent&&S.attachEvent("onunload",function(){for(var t in mn)mn[t](undefined,!0)}),ht.cors=!!vn&&"withCredentials"in vn,(vn=ht.ajax=!!vn)&&dt.ajaxTransport(function(l){var c;if(!l.crossDomain||ht.cors)return{send:function(t,a){var e,s=l.xhr(),u=++gn;if(s.open(l.type,l.url,l.async,l.username,l.password),l.xhrFields)for(e in l.xhrFields)s[e]=l.xhrFields[e];for(e in l.mimeType&&s.overrideMimeType&&s.overrideMimeType(l.mimeType),l.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)t[e]!==undefined&&s.setRequestHeader(e,t[e]+"");s.send(l.hasContent&&l.data||null),c=function(t,e){var n,i,r;if(c&&(e||4===s.readyState))if(delete mn[u],c=undefined,s.onreadystatechange=dt.noop,e)4!==s.readyState&&s.abort();else{r={},n=s.status,"string"==typeof s.responseText&&(r.text=s.responseText);try{i=s.statusText}catch(o){i=""}n||!l.isLocal||l.crossDomain?1223===n&&(n=204):n=r.text?200:404}r&&a(n,i,r,s.getAllResponseHeaders())},l.async?4===s.readyState?S.setTimeout(c):s.onreadystatechange=mn[u]=c:c()},abort:function(){c&&c(undefined,!0)}}}),dt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return dt.globalEval(t),t}}}),dt.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),dt.ajaxTransport("script",function(e){if(e.crossDomain){var i,r=it.head||dt("head")[0]||it.documentElement;return{send:function(t,n){(i=it.createElement("script")).async=!0,e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(t,e){(e||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,e||n(200,"success"))},r.insertBefore(i,r.firstChild)},abort:function(){i&&i.onload(undefined,!0)}}}});var yn=[],_n=/(=)\?(?=&|$)|\?\?/;dt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=yn.pop()||dt.expando+"_"+Ye++;return this[t]=!0,t}}),dt.ajaxPrefilter("json jsonp",function(t,e,n){var i,r,o,a=!1!==t.jsonp&&(_n.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&_n.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=dt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(_n,"$1"+i):!1!==t.jsonp&&(t.url+=(Xe.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||dt.error(i+" was not called"),o[0]},t.dataTypes[0]="json",r=S[i],S[i]=function(){o=arguments},n.always(function(){r===undefined?dt(S).removeProp(i):S[i]=r,t[i]&&(t.jsonpCallback=e.jsonpCallback,yn.push(i)),o&&dt.isFunction(r)&&r(o[0]),o=r=undefined}),"script"}),dt.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||it;var i=wt.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=g([t],e,r),r&&r.length&&dt(r).remove(),dt.merge([],i.childNodes))};var bn=dt.fn.load;dt.fn.load=function(t,e,n){if("string"!=typeof t&&bn)return bn.apply(this,arguments);var i,r,o,a=this,s=t.indexOf(" ");return-1<s&&(i=dt.trim(t.slice(s,t.length)),t=t.slice(0,s)),dt.isFunction(e)?(n=e,e=undefined):e&&"object"==typeof e&&(r="POST"),0<a.length&&dt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?dt("<div>").append(dt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},dt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){dt.fn[e]=function(t){return this.on(e,t)}}),dt.expr.filters.animated=function(e){return dt.grep(dt.timers,function(t){return e===t.elem}).length},dt.offset={setOffset:function(t,e,n){var i,r,o,a,s,u,l=dt.css(t,"position"),c=dt(t),h={};"static"===l&&(t.style.position="relative"),s=c.offset(),o=dt.css(t,"top"),u=dt.css(t,"left"),("absolute"===l||"fixed"===l)&&-1<dt.inArray("auto",[o,u])?(a=(i=c.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(u)||0),dt.isFunction(e)&&(e=e.call(t,n,dt.extend({},s))),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+r),"using"in e?e.using.call(t,h):c.css(h)}},dt.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){dt.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(t=o.documentElement,dt.contains(t,r)?("undefined"!=typeof r.getBoundingClientRect&&(i=r.getBoundingClientRect()),n=et(o),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===dt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),dt.nodeName(t[0],"html")||(n=t.offset()),n.top+=dt.css(t[0],"borderTopWidth",!0),n.left+=dt.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-dt.css(i,"marginTop",!0),left:e.left-n.left-dt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!dt.nodeName(t,"html")&&"static"===dt.css(t,"position");)t=t.offsetParent;return t||ge})}}),dt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var o=/Y/.test(r);dt.fn[e]=function(t){return Gt(this,function(t,e,n){var i=et(t);if(n===undefined)return i?r in i?i[r]:i.document.documentElement[e]:t[e];i?i.scrollTo(o?dt(i).scrollLeft():n,o?n:dt(i).scrollTop()):t[e]=n},e,t,arguments.length,null)}}),dt.each(["top","left"],function(t,n){dt.cssHooks[n]=L(ht.pixelPosition,function(t,e){if(e)return e=ve(t,n),de.test(e)?dt(t).position()[n]+"px":e})}),dt.each({Height:"height",Width:"width"},function(o,a){dt.each({padding:"inner"+o,content:a,"":"outer"+o},function(i,t){dt.fn[t]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),r=i||(!0===t||!0===e?"margin":"border");return Gt(this,function(t,e,n){var i;return dt.isWindow(t)?t.document.documentElement["client"+o]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+o],i["scroll"+o],t.body["offset"+o],i["offset"+o],i["client"+o])):n===undefined?dt.css(t,e,r):dt.style(t,e,n,r)},a,n?t:undefined,n,null)}})}),dt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),dt.fn.size=function(){return this.length},dt.fn.andSelf=dt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return dt});var xn=S.jQuery,wn=S.$;return dt.noConflict=function(t){return S.$===dt&&(S.$=wn),t&&S.jQuery===dt&&(S.jQuery=xn),dt},t||(S.jQuery=S.$=dt),dt}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){return t.ui=t.ui||{},t.ui.version="1.12.1"}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(i){return i.extend(i.expr[":"],{data:i.expr.createPseudo?i.expr.createPseudo(function(e){return function(t){return!!i.data(t,e)}}):function(t,e,n){
return!!i.data(t,n[3])}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.fn.extend({disableSelection:(e="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(e+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var e}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(u){function l(t){for(var e=t.css("visibility");"inherit"===e;)e=(t=t.parent()).css("visibility");return"hidden"!==e}return u.ui.focusable=function(t,e){var n,i,r,o,a,s=t.nodeName.toLowerCase();return"area"===s?(i=(n=t.parentNode).name,!(!t.href||!i||"map"!==n.nodeName.toLowerCase())&&(0<(r=u("img[usemap='#"+i+"']")).length&&r.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(s)?(o=!t.disabled)&&(a=u(t).closest("fieldset")[0])&&(o=!a.disabled):o="a"===s&&t.href||e,o&&u(t).is(":visible")&&l(u(t)))},u.extend(u.expr[":"],{focusable:function(t){return u.ui.focusable(t,null!=u.attr(t,"tabindex"))}}),u.ui.focusable}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.ui.escapeSelector=(e=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(t){return t.replace(e,"\\$1")});var e}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version","./escape-selector"],t):t(jQuery)}(function(o){return o.fn.labels=function(){var t,e,n,i,r;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(i=this.eq(0).parents("label"),(n=this.attr("id"))&&(r=(t=this.eq(0).parents().last()).add(t.length?t.siblings():this.siblings()),e="label[for='"+o.ui.escapeSelector(n)+"']",i=i.add(r.find(e).addBack(e))),this.pushStack(i))}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(s){"1.7"===s.fn.jquery.substring(0,3)&&(s.each(["Width","Height"],function(t,n){function i(t,e,n,i){return s.each(r,function(){e-=parseFloat(s.css(t,"padding"+this))||0,n&&(e-=parseFloat(s.css(t,"border"+this+"Width"))||0),i&&(e-=parseFloat(s.css(t,"margin"+this))||0)}),e}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),a={innerWidth:s.fn.innerWidth,innerHeight:s.fn.innerHeight,outerWidth:s.fn.outerWidth,outerHeight:s.fn.outerHeight};s.fn["inner"+n]=function(t){return t===undefined?a["inner"+n].call(this):this.each(function(){s(this).css(o,i(this,t)+"px")})},s.fn["outer"+n]=function(t,e){return"number"!=typeof t?a["outer"+n].call(this,t):this.each(function(){s(this).css(o,i(this,t,!0,e)+"px")})}}),s.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(o){return o.ui.plugin={add:function(t,e,n){var i,r=o.ui[t].prototype;for(i in n)r.plugins[i]=r.plugins[i]||[],r.plugins[i].push([e,n[i]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(e){return e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(o){return o.fn.scrollParent=function(t){var e=this.css("position"),n="absolute"===e,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=o(this);return(!n||"static"!==t.css("position"))&&i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&r.length?r:o(this[0].ownerDocument||document)}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version","./focusable"],t):t(jQuery)}(function(i){return i.extend(i.expr[":"],{tabbable:function(t){var e=i.attr(t,"tabindex"),n=null!=e;return(!n||0<=e)&&i.ui.focusable(t,n)}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.fn.extend({uniqueId:(e=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}});var e}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(f){var n,s="ui-effects-",u="ui-effects-style",h="ui-effects-animated",i=f;return f.effects={effect:{}},function(c,h){function f(t,e,n){var i=m[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:t<0?0:i.max<t?i.max:t)}function s(a){var s=p(),u=s._rgba=[];return a=a.toLowerCase(),y(e,function(t,e){var n,i=e.re.exec(a),r=i&&e.parse(i),o=e.space||"rgba";if(r)return n=s[o](r),s[g[o].cache]=n[g[o].cache],u=s._rgba=n._rgba,!1}),u.length?("0,0,0,0"===u.join()&&c.extend(u,l.transparent),s):l[a]}function u(t,e,n){return 6*(n=(n+1)%1)<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}var l,t="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",d=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],p=c.Color=function(t,e,n,i){return new c.Color.fn.parse(t,e,n,i)},g={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},m={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},v=p.support={},n=c("<p>")[0],y=c.each;n.style.cssText="background-color:rgba(1,1,1,.5)",v.rgba=-1<n.style.backgroundColor.indexOf("rgba"),y(g,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),p.fn=c.extend(p.prototype,{parse:function(r,t,e,n){if(r===h)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=c(r).css(t),t=h);var o=this,i=c.type(r),a=this._rgba=[];return t!==h&&(r=[r,t,e,n],i="array"),"string"===i?this.parse(s(r)||l._default):"array"===i?(y(g.rgba.props,function(t,e){a[e.idx]=f(r[e.idx],e)}),this):"object"===i?(y(g,r instanceof p?function(t,e){r[e.cache]&&(o[e.cache]=r[e.cache].slice())}:function(t,n){var i=n.cache;y(n.props,function(t,e){if(!o[i]&&n.to){if("alpha"===t||null==r[t])return;o[i]=n.to(o._rgba)}o[i][e.idx]=f(r[t],e,!0)}),o[i]&&c.inArray(null,o[i].slice(0,3))<0&&(o[i][3]=1,n.from&&(o._rgba=n.from(o[i])))}),this):void 0},is:function(t){var r=p(t),o=!0,a=this;return y(g,function(t,e){var n,i=r[e.cache];return i&&(n=a[e.cache]||e.to&&e.to(a._rgba)||[],y(e.props,function(t,e){if(null!=i[e.idx])return o=i[e.idx]===n[e.idx]})),o}),o},_space:function(){var n=[],i=this;return y(g,function(t,e){i[e.cache]&&n.push(t)}),n.pop()},transition:function(t,a){var s=p(t),e=s._space(),n=g[e],i=0===this.alpha()?p("transparent"):this,u=i[n.cache]||n.to(i._rgba),l=u.slice();return s=s[n.cache],y(n.props,function(t,e){var n=e.idx,i=u[n],r=s[n],o=m[e.type]||{};null!==r&&(null===i?l[n]=r:(o.mod&&(r-i>o.mod/2?i+=o.mod:i-r>o.mod/2&&(i-=o.mod)),l[n]=f((r-i)*a+i,e)))}),this[e](l)},blend:function(t){if(1===this._rgba[3])return this;var e=this._rgba.slice(),n=e.pop(),i=p(t)._rgba;return p(c.map(e,function(t,e){return(1-n)*i[e]+n*t}))},toRgbaString:function(){var t="rgba(",e=c.map(this._rgba,function(t,e){return null==t?2<e?1:0:t});return 1===e[3]&&(e.pop(),t="rgb("),t+e.join()+")"},toHslaString:function(){var t="hsla(",e=c.map(this.hsla(),function(t,e){return null==t&&(t=2<e?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===e[3]&&(e.pop(),t="hsl("),t+e.join()+")"},toHexString:function(t){var e=this._rgba.slice(),n=e.pop();return t&&e.push(~~(255*n)),"#"+c.map(e,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),p.fn.parse.prototype=p.fn,g.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,a=t[3],s=Math.max(i,r,o),u=Math.min(i,r,o),l=s-u,c=s+u,h=.5*c;return e=u===s?0:i===s?60*(r-o)/l+360:r===s?60*(o-i)/l+120:60*(i-r)/l+240,n=0===l?0:h<=.5?l/c:l/(2-c),[Math.round(e)%360,n,h,null==a?1:a]},g.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],r=t[3],o=i<=.5?i*(1+n):i+n-i*n,a=2*i-o;return[Math.round(255*u(a,o,e+1/3)),Math.round(255*u(a,o,e)),Math.round(255*u(a,o,e-1/3)),r]},y(g,function(u,t){var n=t.props,a=t.cache,s=t.to,l=t.from;p.fn[u]=function(t){if(s&&!this[a]&&(this[a]=s(this._rgba)),t===h)return this[a].slice();var e,i=c.type(t),r="array"===i||"object"===i?t:arguments,o=this[a].slice();return y(n,function(t,e){var n=r["object"===i?t:e.idx];null==n&&(n=o[e.idx]),o[e.idx]=f(n,e)}),l?((e=p(l(o)))[a]=o,e):p(o)},y(n,function(a,s){p.fn[a]||(p.fn[a]=function(t){var e,n=c.type(t),i="alpha"===a?this._hsla?"hsla":"rgba":u,r=this[i](),o=r[s.idx];return"undefined"===n?o:("function"===n&&(t=t.call(this,o),n=c.type(t)),null==t&&s.empty?this:("string"===n&&(e=d.exec(t))&&(t=o+parseFloat(e[2])*("+"===e[1]?1:-1)),r[s.idx]=t,this[i](r)))})})}),p.hook=function(t){var e=t.split(" ");y(e,function(t,a){c.cssHooks[a]={set:function(t,e){var n,i,r="";if("transparent"!==e&&("string"!==c.type(e)||(n=s(e)))){if(e=p(n||e),!v.rgba&&1!==e._rgba[3]){for(i="backgroundColor"===a?t.parentNode:t;(""===r||"transparent"===r)&&i&&i.style;)try{r=c.css(i,"backgroundColor"),i=i.parentNode}catch(o){}e=e.blend(r&&"transparent"!==r?r:"_default")}e=e.toRgbaString()}try{t.style[a]=e}catch(o){}}},c.fx.step[a]=function(t){t.colorInit||(t.start=p(t.elem,a),t.end=p(t.end),t.colorInit=!0),c.cssHooks[a].set(t.elem,t.start.transition(t.end,t.pos))}})},p.hook(t),c.cssHooks.borderColor={expand:function(n){var i={};return y(["Top","Right","Bottom","Left"],function(t,e){i["border"+e+"Color"]=n}),i}},l=c.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(i),function(){function a(t){var e,n,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,r={};if(i&&i.length&&i[0]&&i[i[0]])for(n=i.length;n--;)"string"==typeof i[e=i[n]]&&(r[f.camelCase(e)]=i[e]);else for(e in i)"string"==typeof i[e]&&(r[e]=i[e]);return r}function s(t,e){var n,i,r={};for(n in e)i=e[n],t[n]!==i&&(c[n]||!f.fx.step[n]&&isNaN(parseFloat(i))||(r[n]=i));return r}var o,r,u,l=["add","remove","toggle"],c={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};f.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,e){f.fx.step[e]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(i.style(t.elem,e,t.end),t.setAttr=!0)}}),f.fn.addBack||(f.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),f.effects.animateClass=function(r,t,e,n){var o=f.speed(t,e,n);return this.queue(function(){var t,n=f(this),e=n.attr("class")||"",i=o.children?n.find("*").addBack():n;i=i.map(function(){return{el:f(this),start:a(this)}}),(t=function(){f.each(l,function(t,e){r[e]&&n[e+"Class"](r[e])})})(),i=i.map(function(){return this.end=a(this.el[0]),this.diff=s(this.start,this.end),this}),n.attr("class",e),i=i.map(function(){var t=this,e=f.Deferred(),n=f.extend({},o,{queue:!1,complete:function(){e.resolve(t)}});return this.el.animate(this.diff,n),e.promise()}),f.when.apply(f,i.get()).done(function(){t(),f.each(arguments,function(){var e=this.el;f.each(this.diff,function(t){e.css(t,"")})}),o.complete.call(n[0])})})},f.fn.extend({addClass:(u=f.fn.addClass,function(t,e,n,i){return e?f.effects.animateClass.call(this,{add:t},e,n,i):u.apply(this,arguments)}),removeClass:(r=f.fn.removeClass,function(t,e,n,i){return 1<arguments.length?f.effects.animateClass.call(this,{remove:t},e,n,i):r.apply(this,arguments)}),toggleClass:(o=f.fn.toggleClass,function(t,e,n,i,r){return"boolean"==typeof e||e===undefined?n?f.effects.animateClass.call(this,e?{add:t}:{remove:t},n,i,r):o.apply(this,arguments):f.effects.animateClass.call(this,{toggle:t},e,n,i)}),switchClass:function(t,e,n,i,r){return f.effects.animateClass.call(this,{add:e,remove:t},n,i,r)}})}(),function(){function c(t,e,n,i){return f.isPlainObject(t)&&(t=(e=t).effect),t={effect:t},null==e&&(e={}),f.isFunction(e)&&(i=e,n=null,e={}),("number"==typeof e||f.fx.speeds[e])&&(i=n,n=e,e={}),f.isFunction(n)&&(i=n,n=null),e&&f.extend(t,e),n=n||e.duration,t.duration=f.fx.off?0:"number"==typeof n?n:n in f.fx.speeds?f.fx.speeds[n]:f.fx.speeds._default,t.complete=i||e.complete,t}function n(t){return!(t&&"number"!=typeof t&&!f.fx.speeds[t])||("string"==typeof t&&!f.effects.effect[t]||(!!f.isFunction(t)||"object"==typeof t&&!t.effect))}function e(t,e){var n=e.outerWidth(),i=e.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,n,i,0];return{top:parseFloat(r[1])||0,right:"auto"===r[2]?n:parseFloat(r[2]),bottom:"auto"===r[3]?i:parseFloat(r[3]),left:parseFloat(r[4])||0}}var i,r,o,a;f.expr&&f.expr.filters&&f.expr.filters.animated&&(f.expr.filters.animated=(i=f.expr.filters.animated,function(t){return!!f(t).data(h)||i(t)})),!1!==f.uiBackCompat&&f.extend(f.effects,{save:function(t,e){for(var n=0,i=e.length;n<i;n++)null!==e[n]&&t.data(s+e[n],t[0].style[e[n]])},restore:function(t,e){for(var n,i=0,r=e.length;i<r;i++)null!==e[i]&&(n=t.data(s+e[i]),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(n){if(n.parent().is(".ui-effects-wrapper"))return n.parent();var i={width:n.outerWidth(!0),height:n.outerHeight(!0),"float":n.css("float")},t=f("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:n.width(),height:n.height()},r=document.activeElement;try{r.id}catch(o){r=document.body}return n.wrap(t),(n[0]===r||f.contains(n[0],r))&&f(r).trigger("focus"),t=n.parent(),"static"===n.css("position")?(t.css({position:"relative"}),n.css({position:"relative"})):(f.extend(i,{position:n.css("position"),zIndex:n.css("z-index")}),f.each(["top","left","bottom","right"],function(t,e){i[e]=n.css(e),isNaN(parseInt(i[e],10))&&(i[e]="auto")}),n.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),n.css(e),t.css(i).show()},removeWrapper:function(t){var e=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===e||f.contains(t[0],e))&&f(e).trigger("focus")),t}}),f.extend(f.effects,{version:"1.12.1",define:function(t,e,n){return n||(n=e,e="effect"),f.effects.effect[t]=n,f.effects.effect[t].mode=e,n},scaledDimensions:function(t,e,n){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(e||100)/100:1,r="vertical"!==n?(e||100)/100:1;return{height:t.height()*r,width:t.width()*i,outerHeight:t.outerHeight()*r,outerWidth:t.outerWidth()*i}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,n){var i=t.queue();1<e&&i.splice.apply(i,[1,0].concat(i.splice(e,n))),t.dequeue()},saveStyle:function(t){t.data(u,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(u)||"",t.removeData(u)},mode:function(t,e){var n=t.is(":hidden");return"toggle"===e&&(e=n?"show":"hide"),(n?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createPlaceholder:function(t){var e,n=t.css("position"),i=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(n)&&(n="absolute",e=f("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),"float":t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data(s+"placeholder",e)),t.css({position:n,left:i.left,top:i.top}),e},removePlaceholder:function(t){var e=s+"placeholder",n=t.data(e);n&&(n.remove(),t.removeData(e))},cleanUp:function(t){f.effects.restoreStyle(t),f.effects.removePlaceholder(t)},setTransition:function(i,t,r,o){return o=o||{},f.each(t,function(t,e){var n=i.cssUnit(e);0<n[0]&&(o[e]=n[0]*r+n[1])}),o}}),f.fn.extend({effect:function(){function t(t){function e(){i.removeData(h),f.effects.cleanUp(i),"hide"===r.mode&&i.hide(),n()}function n(){f.isFunction(s)&&s.call(i[0]),f.isFunction(t)&&t()}var i=f(this);r.mode=l.shift(),!1===f.uiBackCompat||a?"none"===r.mode?(i[u](),n()):o.call(i[0],r,e):(i.is(":hidden")?"hide"===u:"show"===u)?(i[u](),n()):o.call(i[0],r,n)}var r=c.apply(this,arguments),o=f.effects.effect[r.effect],a=o.mode,e=r.queue,n=e||"fx",s=r.complete,u=r.mode,l=[],i=function(t){var e=f(this),n=f.effects.mode(e,u)||a;e.data(h,!0),l.push(n),a&&("show"===n||n===a&&"hide"===n)&&e.show(),a&&"none"===n||f.effects.saveStyle(e),f.isFunction(t)&&t()};return f.fx.off||!o?u?this[u](r.duration,s):this.each(function(){s&&s.call(this)}):!1===e?this.each(i).each(t):this.queue(n,i).queue(n,t)},show:(a=f.fn.show,function(t){if(n(t))return a.apply(this,arguments);var e=c.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}),hide:(o=f.fn.hide,function(t){if(n(t))return o.apply(this,arguments);var e=c.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}),toggle:(r=f.fn.toggle,function(t){if(n(t)||"boolean"==typeof t)return r.apply(this,arguments);var e=c.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}),cssUnit:function(t){var n=this.css(t),i=[];return f.each(["em","px","%","pt"],function(t,e){0<n.indexOf(e)&&(i=[parseFloat(n),e])}),i},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):e(this.css("clip"),this)},transfer:function(t,e){var n=f(this),i=f(t.to),r="fixed"===i.css("position"),o=f("body"),a=r?o.scrollTop():0,s=r?o.scrollLeft():0,u=i.offset(),l={top:u.top-a,left:u.left-s,height:i.innerHeight(),width:i.innerWidth()},c=n.offset(),h=f("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(t.className).css({top:c.top-a,left:c.left-s,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(l,t.duration,t.easing,function(){h.remove(),f.isFunction(e)&&e()})}}),f.fx.step.clip=function(t){t.clipInit||(t.start=f(t.elem).cssClip(),"string"==typeof t.end&&(t.end=e(t.end,t.elem)),t.clipInit=!0),f(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})}}(),n={},f.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){n[t]=function(t){return Math.pow(t,e+2)}}),f.extend(n,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),f.each(n,function(t,e){f.easing["easeIn"+t]=e,f.easing["easeOut"+t]=function(t){return 1-e(1-t)},f.easing["easeInOut"+t]=function(t){return t<.5?e(2*t)/2:1-e(-2*t+2)/2}}),f.effects}),function(t){"function"==typeof define&&define.amd?define(["jquery","./form","./version"],t):t(jQuery)}(function(n){return n.ui.formResetMixin={_formResetHandler:function(){var e=n(this);setTimeout(function(){var t=e.data("ui-form-reset-instances");n.each(t,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var t=this.form.data("ui-form-reset-instances");t.splice(n.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(C){return function(){function w(t,e,n){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?n/100:1)]}function S(t,e){return parseInt(C.css(t,e),10)||0}function e(t){var e=t[0];return 9===e.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:C.isWindow(e)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}var r,T=Math.max,k=Math.abs,i=/left|center|right/,o=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,u=/%$/,n=C.fn.position;C.position={scrollbarWidth:function(){if(r!==undefined)return r;var t,e,n=C("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),i=n.children()[0];return C("body").append(n),t=i.offsetWidth,n.css("overflow","scroll"),t===(e=i.offsetWidth)&&(e=n[0].clientWidth),n.remove(),r=t-e},getScrollInfo:function(t){var e=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight?C.position.scrollbarWidth():0,height:i?C.position.scrollbarWidth():0}},getWithinInfo:function(t){var e=C(t||window),n=C.isWindow(e[0]),i=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:n,isDocument:i,offset:!n&&!i?C(t).offset():{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:e.outerWidth(),height:e.outerHeight()}}},C.fn.position=function(h){if(!h||!h.of)return n.apply(this,arguments);h=C.extend({},h);var f,d,p,g,m,t,v=C(h.of),y=C.position.getWithinInfo(h.within),_=C.position.getScrollInfo(y),b=(h.collision||"flip").split(" "),x={};return t=e(v),v[0].preventDefault&&(h.at="left top"),d=t.width,p=t.height,g=t.offset,m=C.extend({},g),C.each(["my","at"],function(){var t,e,n=(h[this]||"").split(" ");1===n.length&&(n=i.test(n[0])?n.concat(["center"]):o.test(n[0])?["center"].concat(n):["center","center"]),n[0]=i.test(n[0])?n[0]:"center",n[1]=o.test(n[1])?n[1]:"center",t=a.exec(n[0]),e=a.exec(n[1]),x[this]=[t?t[0]:0,e?e[0]:0],h[this]=[s.exec(n[0])[0],s.exec(n[1])[0]]}),1===b.length&&(b[1]=b[0]),"right"===h.at[0]?m.left+=d:"center"===h.at[0]&&(m.left+=d/2),"bottom"===h.at[1]?m.top+=p:"center"===h.at[1]&&(m.top+=p/2),f=w(x.at,d,p),m.left+=f[0],m.top+=f[1],this.each(function(){var n,t,a=C(this),s=a.outerWidth(),u=a.outerHeight(),e=S(this,"marginLeft"),i=S(this,"marginTop"),r=s+e+S(this,"marginRight")+_.width,o=u+i+S(this,"marginBottom")+_.height,l=C.extend({},m),c=w(x.my,a.outerWidth(),a.outerHeight());"right"===h.my[0]?l.left-=s:"center"===h.my[0]&&(l.left-=s/2),"bottom"===h.my[1]?l.top-=u:"center"===h.my[1]&&(l.top-=u/2),l.left+=c[0],l.top+=c[1],n={marginLeft:e,marginTop:i},C.each(["left","top"],function(t,e){C.ui.position[b[t]]&&C.ui.position[b[t]][e](l,{targetWidth:d,targetHeight:p,elemWidth:s,elemHeight:u,collisionPosition:n,collisionWidth:r,collisionHeight:o,offset:[f[0]+c[0],f[1]+c[1]],my:h.my,at:h.at,within:y,elem:a})}),h.using&&(t=function(t){var e=g.left-l.left,n=e+d-s,i=g.top-l.top,r=i+p-u,o={target:{element:v,left:g.left,top:g.top,width:d,height:p},element:{element:a,left:l.left,top:l.top,width:s,height:u},horizontal:n<0?"left":0<e?"right":"center",vertical:r<0?"top":0<i?"bottom":"middle"};d<s&&k(e+n)<d&&(o.horizontal="center"),p<u&&k(i+r)<p&&(o.vertical="middle"),T(k(e),k(n))>T(k(i),k(r))?o.important="horizontal":o.important="vertical",h.using.call(this,t,o)}),a.offset(C.extend(l,{using:t}))})},C.ui.position={fit:{left:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,a=t.left-e.collisionPosition.marginLeft,s=r-a,u=a+e.collisionWidth-o-r;e.collisionWidth>o?0<s&&u<=0?(n=t.left+s+e.collisionWidth-o-r,t.left+=s-n):t.left=0<u&&s<=0?r:u<s?r+o-e.collisionWidth:r:0<s?t.left+=s:0<u?t.left-=u:t.left=T(t.left-a,t.left)},top:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollTop:i.offset.top,o=e.within.height,a=t.top-e.collisionPosition.marginTop,s=r-a,u=a+e.collisionHeight-o-r;e.collisionHeight>o?0<s&&u<=0?(n=t.top+s+e.collisionHeight-o-r,t.top+=s-n):t.top=0<u&&s<=0?r:u<s?r+o-e.collisionHeight:r:0<s?t.top+=s:0<u?t.top-=u:t.top=T(t.top-a,t.top)}},flip:{left:function(t,e){var n,i,r=e.within,o=r.offset.left+r.scrollLeft,a=r.width,s=r.isWindow?r.scrollLeft:r.offset.left,u=t.left-e.collisionPosition.marginLeft,l=u-s,c=u+e.collisionWidth-a-s,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,f="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,d=-2*e.offset[0];l<0?((n=t.left+h+f+d+e.collisionWidth-a-o)<0||n<k(l))&&(t.left+=h+f+d):0<c&&(0<(i=t.left-e.collisionPosition.marginLeft+h+f+d-s)||k(i)<c)&&(t.left+=h+f+d)},top:function(t,e){var n,i,r=e.within,o=r.offset.top+r.scrollTop,a=r.height,s=r.isWindow?r.scrollTop:r.offset.top,u=t.top-e.collisionPosition.marginTop,l=u-s,c=u+e.collisionHeight-a-s,h="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,d=-2*e.offset[1];l<0?((i=t.top+h+f+d+e.collisionHeight-a-o)<0||i<k(l))&&(t.top+=h+f+d):0<c&&(0<(n=t.top-e.collisionPosition.marginTop+h+f+d-s)||k(n)<c)&&(t.top+=h+f+d)}},flipfit:{left:function(){C.ui.position.flip.left.apply(this,arguments),C.ui.position.fit.left.apply(this,arguments)},top:function(){C.ui.position.flip.top.apply(this,arguments),C.ui.position.fit.top.apply(this,arguments)}}}}(),C.ui.position}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(c){var o,n=0,s=Array.prototype.slice;return c.cleanData=(o=c.cleanData,function(t){var e,n,i;for(i=0;null!=(n=t[i]);i++)try{(e=c._data(n,"events"))&&e.remove&&c(n).triggerHandler("remove")}catch(r){}o(t)}),c.widget=function(t,n,e){var i,r,o,a={},s=t.split(".")[0],u=s+"-"+(t=t.split(".")[1]);return e||(e=n,n=c.Widget),c.isArray(e)&&(e=c.extend.apply(null,[{}].concat(e))),c.expr[":"][u.toLowerCase()]=function(t){return!!c.data(t,u)},c[s]=c[s]||{},i=c[s][t],r=c[s][t]=function(t,e){if(!this._createWidget)return new r(t,e);arguments.length&&this._createWidget(t,e)},c.extend(r,i,{version:e.version,_proto:c.extend({},e),_childConstructors:[]}),(o=new n).options=c.widget.extend({},o.options),c.each(e,function(e,o){c.isFunction(o)?a[e]=function(){function i(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var t,e=this._super,n=this._superApply;return this._super=i,this._superApply=r,t=o.apply(this,arguments),this._super=e,this._superApply=n,t}}():a[e]=o}),r.prototype=c.widget.extend(o,{widgetEventPrefix:i&&o.widgetEventPrefix||t},a,{constructor:r,namespace:s,widgetName:t,widgetFullName:u}),i?(c.each(i._childConstructors,function(t,e){var n=e.prototype;c.widget(n.namespace+"."+n.widgetName,r,e._proto)}),delete i._childConstructors):n._childConstructors.push(r),c.widget.bridge(t,r),r},c.widget.extend=function(t){for(var e,n,i=s.call(arguments,1),r=0,o=i.length;r<o;r++)for(e in i[r])n=i[r][e],i[r].hasOwnProperty(e)&&n!==undefined&&(c.isPlainObject(n)?t[e]=c.isPlainObject(t[e])?c.widget.extend({},t[e],n):c.widget.extend({},n):t[e]=n);return t},c.widget.bridge=function(o,e){var a=e.prototype.widgetFullName||o;c.fn[o]=function(n){var t="string"==typeof n,i=s.call(arguments,1),r=this;return t?this.length||"instance"!==n?this.each(function(){var t,e=c.data(this,a);return"instance"===n?(r=e,!1):e?c.isFunction(e[n])&&"_"!==n.charAt(0)?(t=e[n].apply(e,i))!==e&&t!==undefined?(r=t&&t.jquery?r.pushStack(t.get()):t,!1):void 0:c.error("no such method '"+n+"' for "+o+" widget instance"):c.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+n+"'")}):r=undefined:(i.length&&(n=c.widget.extend.apply(null,[n].concat(i))),this.each(function(){var t=c.data(this,a);t?(t.option(n||{}),t._init&&t._init()):c.data(this,a,new e(n,this))})),r}},c.Widget=function(){},c.Widget._childConstructors=[],c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,e){e=c(e||this.defaultElement||this)[0],this.element=c(e),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=c(),this.hoverable=c(),this.focusable=c(),this.classesElementLookup={},e!==this&&(c.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=c(e.style?e.ownerDocument:e.document||e),this.window=c(this.document[0].defaultView||this.document[0].parentWindow)),this.options=c.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){var n=this;this._destroy(),c.each(this.classesElementLookup,function(t,e){n._removeClass(e,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:c.noop,widget:function(){return this.element},option:function(t,e){var n,i,r,o=t;if(0===arguments.length)return c.widget.extend({},this.options);if("string"==typeof t)if(o={},t=(n=t.split(".")).shift(),n.length){for(i=o[t]=c.widget.extend({},this.options[t]),r=0;r<n.length-1;r++)i[n[r]]=i[n[r]]||{},i=i[n[r]];if(t=n.pop(),1===arguments.length)return i[t]===undefined?null:i[t];i[t]=e}else{if(1===arguments.length)return this.options[t]===undefined?null:this.options[t];o[t]=e}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){
return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(t){var e,n,i;for(e in t)i=this.classesElementLookup[e],t[e]!==this.options.classes[e]&&i&&i.length&&(n=c(i.get()),this._removeClass(i,e),n.addClass(this._classes({element:n,keys:e,classes:t,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(r){function t(t,e){var n,i;for(i=0;i<t.length;i++)n=a.classesElementLookup[t[i]]||c(),n=r.add?c(c.unique(n.get().concat(r.element.get()))):c(n.not(r.element).get()),a.classesElementLookup[t[i]]=n,o.push(t[i]),e&&r.classes[t[i]]&&o.push(r.classes[t[i]])}var o=[],a=this;return r=c.extend({element:this.element,classes:this.options.classes||{}},r),this._on(r.element,{remove:"_untrackClassesElement"}),r.keys&&t(r.keys.match(/\S+/g)||[],!0),r.extra&&t(r.extra.match(/\S+/g)||[]),o.join(" ")},_untrackClassesElement:function(n){var i=this;c.each(i.classesElementLookup,function(t,e){-1!==c.inArray(n.target,e)&&(i.classesElementLookup[t]=c(e.not(n.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(a,s,t){var u,l=this;"boolean"!=typeof a&&(t=s,s=a,a=!1),t?(s=u=c(s),this.bindings=this.bindings.add(s)):(t=s,s=this.element,u=this.widget()),c.each(t,function(t,e){function n(){if(a||!0!==l.options.disabled&&!c(this).hasClass("ui-state-disabled"))return("string"==typeof e?l[e]:e).apply(l,arguments)}"string"!=typeof e&&(n.guid=e.guid=e.guid||n.guid||c.guid++);var i=t.match(/^([\w:-]*)\s*(.*)$/),r=i[1]+l.eventNamespace,o=i[2];o?u.on(r,o,n):s.on(r,n)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(e).off(e),this.bindings=c(this.bindings.not(t).get()),this.focusable=c(this.focusable.not(t).get()),this.hoverable=c(this.hoverable.not(t).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(c(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(c(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(c(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(c(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,e,n){var i,r,o=this.options[t];if(n=n||{},(e=c.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],r=e.originalEvent)for(i in r)i in e||(e[i]=r[i]);return this.element.trigger(e,n),!(c.isFunction(o)&&!1===o.apply(this.element[0],[e].concat(n))||e.isDefaultPrevented())}},c.each({show:"fadeIn",hide:"fadeOut"},function(o,a){c.Widget.prototype["_"+o]=function(e,t,n){var i;"string"==typeof t&&(t={effect:t});var r=t?!0===t||"number"==typeof t?a:t.effect||a:o;"number"==typeof(t=t||{})&&(t={duration:t}),i=!c.isEmptyObject(t),t.complete=n,t.delay&&e.delay(t.delay),i&&c.effects&&c.effects.effect[r]?e[o](t):r!==o&&e[r]?e[r](t.duration,t.easing,n):e.queue(function(t){c(this)[o](),n&&n.call(e[0]),t()})}}),c.widget}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(u){return u.effects.define("blind","hide",function(t,e){var n={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},i=u(this),r=t.direction||"up",o=i.cssClip(),a={clip:u.extend({},o)},s=u.effects.createPlaceholder(i);a.clip[n[r][0]]=a.clip[n[r][1]],"show"===t.mode&&(i.cssClip(a.clip),s&&s.css(u.effects.clipToBox(a)),a.clip=o),s&&s.animate(u.effects.clipToBox(a),t.duration,t.easing),i.animate(a,{queue:!1,duration:t.duration,easing:t.easing,complete:e})})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(_){return _.effects.define("bounce",function(t,e){var n,i,r,o=_(this),a=t.mode,s="hide"===a,u="show"===a,l=t.direction||"up",c=t.distance,h=t.times||5,f=2*h+(u||s?1:0),d=t.duration/f,p=t.easing,g="up"===l||"down"===l?"top":"left",m="up"===l||"left"===l,v=0,y=o.queue().length;for(_.effects.createPlaceholder(o),r=o.css(g),c||(c=o["top"===g?"outerHeight":"outerWidth"]()/3),u&&((i={opacity:1})[g]=r,o.css("opacity",0).css(g,m?2*-c:2*c).animate(i,d,p)),s&&(c/=Math.pow(2,h-1)),(i={})[g]=r;v<h;v++)(n={})[g]=(m?"-=":"+=")+c,o.animate(n,d,p).animate(i,d,p),c=s?2*c:c/2;s&&((n={opacity:0})[g]=(m?"-=":"+=")+c,o.animate(n,d,p)),o.queue(e),_.effects.unshift(o,y,f+1)})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(l){return l.effects.define("clip","hide",function(t,e){var n,i={},r=l(this),o=t.direction||"vertical",a="both"===o,s=a||"horizontal"===o,u=a||"vertical"===o;n=r.cssClip(),i.clip={top:u?(n.bottom-n.top)/2:n.top,right:s?(n.right-n.left)/2:n.right,bottom:u?(n.bottom-n.top)/2:n.bottom,left:s?(n.right-n.left)/2:n.left},l.effects.createPlaceholder(r),"show"===t.mode&&(r.cssClip(i.clip),i.clip=n),r.animate(i,{queue:!1,duration:t.duration,easing:t.easing,complete:e})})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(c){return c.effects.define("drop","hide",function(t,e){var n,i=c(this),r="show"===t.mode,o=t.direction||"left",a="up"===o||"down"===o?"top":"left",s="up"===o||"left"===o?"-=":"+=",u="+="===s?"-=":"+=",l={opacity:0};c.effects.createPlaceholder(i),n=t.distance||i["top"===a?"outerHeight":"outerWidth"](!0)/2,l[a]=s+n,r&&(i.css(l),l[a]=u+n,l.opacity=1),i.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:e})})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(y){return y.effects.define("explode","hide",function(t,e){function n(){v.push(this),v.length===c*h&&i()}function i(){f.css({visibility:"visible"}),y(v).remove(),e()}var r,o,a,s,u,l,c=t.pieces?Math.round(Math.sqrt(t.pieces)):3,h=c,f=y(this),d="show"===t.mode,p=f.show().css("visibility","hidden").offset(),g=Math.ceil(f.outerWidth()/h),m=Math.ceil(f.outerHeight()/c),v=[];for(r=0;r<c;r++)for(s=p.top+r*m,l=r-(c-1)/2,o=0;o<h;o++)a=p.left+o*g,u=o-(h-1)/2,f.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*g,top:-r*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g,height:m,left:a+(d?u*g:0),top:s+(d?l*m:0),opacity:d?0:1}).animate({left:a+(d?0:u*g),top:s+(d?0:l*m),opacity:d?1:0},t.duration||500,t.easing,n)})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(i){return i.effects.define("fade","toggle",function(t,e){var n="show"===t.mode;i(this).css("opacity",n?0:1).animate({opacity:n?1:0},{queue:!1,duration:t.duration,easing:t.easing,complete:e})})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(m){return m.effects.define("fold","hide",function(e,t){var n=m(this),i=e.mode,r="show"===i,o="hide"===i,a=e.size||15,s=/([0-9]+)%/.exec(a),u=!!e.horizFirst?["right","bottom"]:["bottom","right"],l=e.duration/2,c=m.effects.createPlaceholder(n),h=n.cssClip(),f={clip:m.extend({},h)},d={clip:m.extend({},h)},p=[h[u[0]],h[u[1]]],g=n.queue().length;s&&(a=parseInt(s[1],10)/100*p[o?0:1]),f.clip[u[0]]=a,d.clip[u[0]]=a,d.clip[u[1]]=0,r&&(n.cssClip(d.clip),c&&c.css(m.effects.clipToBox(d)),d.clip=h),n.queue(function(t){c&&c.animate(m.effects.clipToBox(f),l,e.easing).animate(m.effects.clipToBox(d),l,e.easing),t()}).animate(f,l,e.easing).animate(d,l,e.easing).queue(t),m.effects.unshift(n,g,4)})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(r){return r.effects.define("highlight","show",function(t,e){var n=r(this),i={backgroundColor:n.css("backgroundColor")};"hide"===t.mode&&(i.opacity=0),r.effects.saveStyle(n),n.css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(i,{queue:!1,duration:t.duration,easing:t.easing,complete:e})})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(y){return y.effects.define("size",function(r,e){var t,o,n,i=y(this),a=["fontSize"],s=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],l=r.mode,c="effect"!==l,h=r.scale||"both",f=r.origin||["middle","center"],d=i.css("position"),p=i.position(),g=y.effects.scaledDimensions(i),m=r.from||g,v=r.to||y.effects.scaledDimensions(i,0);y.effects.createPlaceholder(i),"show"===l&&(n=m,m=v,v=n),o={from:{y:m.height/g.height,x:m.width/g.width},to:{y:v.height/g.height,x:v.width/g.width}},"box"!==h&&"both"!==h||(o.from.y!==o.to.y&&(m=y.effects.setTransition(i,s,o.from.y,m),v=y.effects.setTransition(i,s,o.to.y,v)),o.from.x!==o.to.x&&(m=y.effects.setTransition(i,u,o.from.x,m),v=y.effects.setTransition(i,u,o.to.x,v))),"content"!==h&&"both"!==h||o.from.y!==o.to.y&&(m=y.effects.setTransition(i,a,o.from.y,m),v=y.effects.setTransition(i,a,o.to.y,v)),f&&(t=y.effects.getBaseline(f,g),m.top=(g.outerHeight-m.outerHeight)*t.y+p.top,m.left=(g.outerWidth-m.outerWidth)*t.x+p.left,v.top=(g.outerHeight-v.outerHeight)*t.y+p.top,v.left=(g.outerWidth-v.outerWidth)*t.x+p.left),i.css(m),"content"!==h&&"both"!==h||(s=s.concat(["marginTop","marginBottom"]).concat(a),u=u.concat(["marginLeft","marginRight"]),i.find("*[width]").each(function(){var t=y(this),e=y.effects.scaledDimensions(t),n={height:e.height*o.from.y,width:e.width*o.from.x,outerHeight:e.outerHeight*o.from.y,outerWidth:e.outerWidth*o.from.x},i={height:e.height*o.to.y,width:e.width*o.to.x,outerHeight:e.height*o.to.y,outerWidth:e.width*o.to.x};o.from.y!==o.to.y&&(n=y.effects.setTransition(t,s,o.from.y,n),i=y.effects.setTransition(t,s,o.to.y,i)),o.from.x!==o.to.x&&(n=y.effects.setTransition(t,u,o.from.x,n),i=y.effects.setTransition(t,u,o.to.x,i)),c&&y.effects.saveStyle(t),t.css(n),t.animate(i,r.duration,r.easing,function(){c&&y.effects.restoreStyle(t)})})),i.animate(v,{queue:!1,duration:r.duration,easing:r.easing,complete:function(){var t=i.offset();0===v.opacity&&i.css("opacity",m.opacity),c||(i.css("position","static"===d?"relative":d).offset(t),y.effects.saveStyle(i)),e()}})})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect","./effect-size"],t):t(jQuery)}(function(a){return a.effects.define("scale",function(t,e){var n=a(this),i=t.mode,r=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"effect"!==i?0:100),o=a.extend(!0,{from:a.effects.scaledDimensions(n),to:a.effects.scaledDimensions(n,r,t.direction||"both"),origin:t.origin||["middle","center"]},t);t.fade&&(o.from.opacity=1,o.to.opacity=0),a.effects.effect.size.call(this,o,e)})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect","./effect-scale"],t):t(jQuery)}(function(i){return i.effects.define("puff","hide",function(t,e){var n=i.extend(!0,{},t,{fade:!0,percent:parseInt(t.percent,10)||150});i.effects.effect.scale.call(this,n,e)})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(h){return h.effects.define("pulsate","show",function(t,e){var n=h(this),i=t.mode,r="show"===i,o=r||"hide"===i,a=2*(t.times||5)+(o?1:0),s=t.duration/a,u=0,l=1,c=n.queue().length;for(!r&&n.is(":visible")||(n.css("opacity",0).show(),u=1);l<a;l++)n.animate({opacity:u},s,t.easing),u=1-u;n.animate({opacity:u},s,t.easing),n.queue(e),h.effects.unshift(n,c,a+1)})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(g){return g.effects.define("shake",function(t,e){var n=1,i=g(this),r=t.direction||"left",o=t.distance||20,a=t.times||3,s=2*a+1,u=Math.round(t.duration/s),l="up"===r||"down"===r?"top":"left",c="up"===r||"left"===r,h={},f={},d={},p=i.queue().length;for(g.effects.createPlaceholder(i),h[l]=(c?"-=":"+=")+o,f[l]=(c?"+=":"-=")+2*o,d[l]=(c?"-=":"+=")+2*o,i.animate(h,u,t.easing);n<a;n++)i.animate(f,u,t.easing).animate(d,u,t.easing);i.animate(f,u,t.easing).animate(h,u/2,t.easing).queue(e),g.effects.unshift(i,p,s+1)})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(f){return f.effects.define("slide","show",function(t,e){var n,i,r=f(this),o={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=t.mode,s=t.direction||"left",u="up"===s||"down"===s?"top":"left",l="up"===s||"left"===s,c=t.distance||r["top"===u?"outerHeight":"outerWidth"](!0),h={};f.effects.createPlaceholder(r),n=r.cssClip(),i=r.position()[u],h[u]=(l?-1:1)*c+i,h.clip=r.cssClip(),h.clip[o[s][1]]=h.clip[o[s][0]],"show"===a&&(r.cssClip(h.clip),r.css(u,h[u]),h.clip=n,h[u]=i),r.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:e})})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(n){var t;return!1!==n.uiBackCompat&&(t=n.effects.define("transfer",function(t,e){n(this).transfer(t,e)})),t}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../keycode","../unique-id","../widget"],t):t(jQuery)}(function(c){return c.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=c(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():c()}},_createIcons:function(){var t,e,n=this.options.icons;n&&(t=c("<span>"),this._addClass(t,"ui-accordion-header-icon","ui-icon "+n.header),t.prependTo(this.headers),e=this.active.children(".ui-accordion-header-icon"),this._removeClass(e,n.header)._addClass(e,null,n.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons())):this._activate(e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var e=c.ui.keyCode,n=this.headers.length,i=this.headers.index(t.target),r=!1;switch(t.keyCode){case e.RIGHT:case e.DOWN:r=this.headers[(i+1)%n];break;case e.LEFT:case e.UP:r=this.headers[(i-1+n)%n];break;case e.SPACE:case e.ENTER:this._eventHandler(t);break;case e.HOME:r=this.headers[0];break;case e.END:r=this.headers[n-1]}r&&(c(t.target).attr("tabIndex",-1),c(r).attr("tabIndex",0),c(r).trigger("focus"),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===c.ui.keyCode.UP&&t.ctrlKey&&c(t.currentTarget).prev().trigger("focus")},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=c()):!1===t.active?this._activate(0):this.active.length&&!c.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=c()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var n,t=this.options,e=t.heightStyle,i=this.element.parent();this.active=this._findActive(t.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var t=c(this),e=t.uniqueId().attr("id"),n=t.next(),i=n.uniqueId().attr("id");t.attr("aria-controls",i),n.attr("aria-labelledby",e)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(t.event),"fill"===e?(n=i.height(),this.element.siblings(":visible").each(function(){var t=c(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(n-=t.outerHeight(!0))}),this.headers.each(function(){n-=c(this).outerHeight(!0)}),this.headers.next().each(function(){c(this).height(Math.max(0,n-c(this).innerHeight()+c(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.headers.next().each(function(){var t=c(this).is(":visible");t||c(this).show(),n=Math.max(n,c(this).css("height","").height()),t||c(this).hide()}).height(n))},_activate:function(t){var e=this._findActive(t)[0];e!==this.active[0]&&(e=e||this.active[0],this._eventHandler({target:e,currentTarget:e,preventDefault:c.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):c()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&c.each(t.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var e,n,i=this.options,r=this.active,o=c(t.currentTarget),a=o[0]===r[0],s=a&&i.collapsible,u=s?c():o.next(),l={oldHeader:r,oldPanel:r.next(),newHeader:s?c():o,newPanel:u};t.preventDefault(),a&&!i.collapsible||!1===this._trigger("beforeActivate",t,l)||(i.active=!s&&this.headers.index(o),this.active=a?c():o,this._toggle(l),this._removeClass(r,"ui-accordion-header-active","ui-state-active"),i.icons&&(e=r.children(".ui-accordion-header-icon"),this._removeClass(e,null,i.icons.activeHeader)._addClass(e,null,i.icons.header)),a||(this._removeClass(o,"ui-accordion-header-collapsed")._addClass(o,"ui-accordion-header-active","ui-state-active"),i.icons&&(n=o.children(".ui-accordion-header-icon"),this._removeClass(n,null,i.icons.header)._addClass(n,null,i.icons.activeHeader)),this._addClass(o.next(),"ui-accordion-content-active")))},_toggle:function(t){var e=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=e,this.prevHide=n,this.options.animate?this._animate(e,n,t):(n.hide(),e.show(),this._toggleComplete(t)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),e.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):e.length&&this.headers.filter(function(){return 0===parseInt(c(this).attr("tabIndex"),10)}).attr("tabIndex",-1),e.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,n,e){var i,r,o,a=this,s=0,u=t.css("box-sizing"),l=t.length&&(!n.length||t.index()<n.index()),c=this.options.animate||{},h=l&&c.down||c,f=function(){a._toggleComplete(e)};return"number"==typeof h&&(o=h),"string"==typeof h&&(r=h),r=r||h.easing||c.easing,o=o||h.duration||c.duration,n.length?t.length?(i=t.show().outerHeight(),n.animate(this.hideProps,{duration:o,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:r,complete:f,step:function(t,e){e.now=Math.round(t),"height"!==e.prop?"content-box"===u&&(s+=e.now):"content"!==a.options.heightStyle&&(e.now=Math.round(i-n.outerHeight()-s),s=0)}})):n.animate(this.hideProps,o,r,f):t.animate(this.showProps,o,r,f)},_toggleComplete:function(t){var e=t.oldPanel,n=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../keycode","../position","../safe-active-element","../unique-id","../version","../widget"],t):t(jQuery)}(function(s){return s.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(t){var e=s(t.target),n=s(s.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&e.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),e.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var e=s(t.target).closest(".ui-menu-item"),n=s(t.currentTarget);e[0]===n[0]&&(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,n))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(t){this._delay(function(){!s.contains(this.element[0],s.ui.safeActiveElement(this.document[0]))&&this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),t.children().each(function(){var t=s(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var e,n,i,r,o=!0;switch(t.keyCode){case s.ui.keyCode.PAGE_UP:this.previousPage(t);break;case s.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case s.ui.keyCode.HOME:this._move("first","first",t);break;case s.ui.keyCode.END:this._move("last","last",t);break;case s.ui.keyCode.UP:this.previous(t);break;case s.ui.keyCode.DOWN:this.next(t);break;case s.ui.keyCode.LEFT:this.collapse(t);break;case s.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case s.ui.keyCode.ENTER:case s.ui.keyCode.SPACE:this._activate(t);break;case s.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,n=this.previousFilter||"",r=!1,i=96<=t.keyCode&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),i===n?r=!0:i=n+i,e=this._filterMenuItems(i),(e=r&&-1!==e.index(this.active.next())?this.active.nextAll(".ui-menu-item"):e).length||(i=String.fromCharCode(t.keyCode),e=this._filterMenuItems(i)),e.length?(this.focus(t,e),this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var t,e,n,i,r=this,o=this.options.icons.submenu,a=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),e=a.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=s(this),e=t.prev(),n=s("<span>").data("ui-menu-submenu-caret",!0);r._addClass(n,"ui-menu-icon","ui-icon "+o),e.attr("aria-haspopup","true").prepend(n),t.attr("aria-labelledby",e.attr("id"))}),this._addClass(e,"ui-menu","ui-widget ui-widget-content ui-front"),(t=a.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var t=s(this);r._isDivider(t)&&r._addClass(t,"ui-menu-divider","ui-widget-content")}),i=(n=t.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(i,"ui-menu-item-wrapper"),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!s.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var n,i,r;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(t){var e,n,i,r,o,a;this._hasScroll()&&(e=parseFloat(s.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(s.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-e-n,r=this.activeMenu.scrollTop(),o=this.activeMenu.height(),a=t.outerHeight(),i<0?this.activeMenu.scrollTop(r+i):o<i+a&&this.activeMenu.scrollTop(r+i-o+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(t){var e=s.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(e)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var t=n?this.element:s(e&&e.target).closest(this.element.find(".ui-menu"));t.length||(t=this.element),this._close(t),this.blur(e),this._removeClass(t.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=t},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!s(t.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(t){var e,n,i;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(e=s(this)).offset().top-n-i<0}),this.focus(t,e)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var e,n,i;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return 0<(e=s(this)).offset().top-n+i}),this.focus(t,e)):this.focus(t,this.activeMenu.find(this.options.items).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||s(t.target).closest(".ui-menu-item");var e={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,e)},_filterMenuItems:function(t){var e=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+e,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(s.trim(s(this).children(".ui-menu-item-wrapper").text()))})}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./menu","../keycode","../position","../safe-active-element","../version","../widget"],t):t(jQuery)}(function(a){return a.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var n,i,r,t=this.element[0].nodeName.toLowerCase(),e="textarea"===t,o="input"===t;this.isMultiLine=e||!o&&this._isContentEditable(this.element),this.valueMethod=this.element[e||o?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(t){
if(this.element.prop("readOnly"))i=r=n=!0;else{i=r=n=!1;var e=a.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:n=!0,this._move("previousPage",t);break;case e.PAGE_DOWN:n=!0,this._move("nextPage",t);break;case e.UP:n=!0,this._keyEvent("previous",t);break;case e.DOWN:n=!0,this._keyEvent("next",t);break;case e.ENTER:this.menu.active&&(n=!0,t.preventDefault(),this.menu.select(t));break;case e.TAB:this.menu.active&&this.menu.select(t);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(t),t.preventDefault());break;default:i=!0,this._searchTimeout(t)}}},keypress:function(t){if(n)return n=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||t.preventDefault());if(!i){var e=a.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:this._move("previousPage",t);break;case e.PAGE_DOWN:this._move("nextPage",t);break;case e.UP:this._keyEvent("previous",t);break;case e.DOWN:this._keyEvent("next",t)}}},input:function(t){if(r)return r=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=a("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==a.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(t,e){var n,i;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){a(t.target).trigger(t.originalEvent)});i=e.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:i})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value),(n=e.item.attr("aria-label")||i.value)&&a.trim(n).length&&(this.liveRegion.children().hide(),a("<div>").text(n).appendTo(this.liveRegion))},menuselect:function(t,e){var n=e.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==a.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",t,{item:n})&&this._value(n.value),this.term=this._value(),this.close(t),this.selectedItem=n}}),this.liveRegion=a("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var e=this.menu.element[0];return t.target===this.element[0]||t.target===e||a.contains(e,t.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?a(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var n,i,r=this;a.isArray(this.options.source)?(n=this.options.source,this.source=function(t,e){e(a.ui.autocomplete.filter(n,t.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,e){r.xhr&&r.xhr.abort(),r.xhr=a.ajax({url:i,data:t,dataType:"json",success:function(t){e(t)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(i){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),e=this.menu.element.is(":visible"),n=i.altKey||i.ctrlKey||i.metaKey||i.shiftKey;t&&(!t||e||n)||(this.selectedItem=null,this.search(null,i))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return a.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:a.map(t,function(t){return"string"==typeof t?{label:t,value:t}:a.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var e=this.menu.element.empty();this._renderMenu(e,t),this.isNewMenu=!0,this.menu.refresh(),e.show(),this._resizeMenu(),e.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(n,t){var i=this;a.each(t,function(t,e){i._renderItemData(n,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(t,e){return a("<li>").append(a("<div>").text(e.label)).appendTo(t)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),a.extend(a.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,e){var n=new RegExp(a.ui.autocomplete.escapeRegex(e),"i");return a.grep(t,function(t){return n.test(t.label||t.value||t)})}}),a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(1<t?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),a("<div>").text(e).appendTo(this.liveRegion))}}),a.ui.autocomplete}),function(t){"function"==typeof define&&define.amd?define(["jquery","../widget"],t):t(jQuery)}(function(u){var o=/ui-corner-([a-z]){2,6}/g;return u.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var a=this,s=[];u.each(this.options.items,function(r,t){var e,o={};if(t)return"controlgroupLabel"===r?((e=a.element.find(t)).each(function(){var t=u(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),a._addClass(e,null,"ui-widget ui-widget-content ui-state-default"),void(s=s.concat(e.get()))):void(u.fn[r]&&(o=a["_"+r+"Options"]?a["_"+r+"Options"]("middle"):{classes:{}},a.element.find(t).each(function(){var t=u(this),e=t[r]("instance"),n=u.widget.extend({},o);if("button"!==r||!t.parent(".ui-spinner").length){e||(e=t[r]()[r]("instance")),e&&(n.classes=a._resolveClassesValues(n.classes,e)),t[r](n);var i=t[r]("widget");u.data(i[0],"ui-controlgroup-data",e||t[r]("instance")),s.push(i[0])}})))}),this.childWidgets=u(u.unique(s)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var t=u(this).data("ui-controlgroup-data");t&&t[e]&&t[e]()})},_updateCornerClass:function(t,e){var n="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",i=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,n),this._addClass(t,null,i)},_buildSimpleOptions:function(t,e){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[e]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[t],i},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(n,i){var r={};return u.each(n,function(t){var e=i.options.classes[t]||"";e=u.trim(e.replace(o,"")),r[t]=(e+" "+n[t]).replace(/\s+/g," ")}),r},_setOption:function(t,e){"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"!==t?this.refresh():this._callChildMethod(e?"disable":"enable")},refresh:function(){var r,o=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),r=this.childWidgets,this.options.onlyVisible&&(r=r.filter(":visible")),r.length&&(u.each(["first","last"],function(t,e){var n=r[e]().data("ui-controlgroup-data");if(n&&o["_"+n.widgetName+"Options"]){var i=o["_"+n.widgetName+"Options"](1===r.length?"only":e);i.classes=o._resolveClassesValues(i.classes,n),n.element[n.widgetName](i)}else o._updateCornerClass(r[e](),e)}),this._callChildMethod("refresh"))}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../escape-selector","../form-reset-mixin","../labels","../widget"],t):t(jQuery)}(function(r){return r.widget("ui.checkboxradio",[r.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,e,n=this,i=this._super()||{};return this._readType(),e=this.element.labels(),this.label=r(e[e.length-1]),this.label.length||r.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){n.originalLabel+=3===this.nodeType?r(this).text():this.outerHTML}),this.originalLabel&&(i.label=this.originalLabel),null!=(t=this.element[0].disabled)&&(i.disabled=t),i},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===t&&/radio|checkbox/.test(this.type)||r.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t=this.element[0].name,e="input[name='"+r.ui.escapeSelector(t)+"']";return t?(this.form.length?r(this.form[0].elements).filter(e):r(e).filter(function(){return 0===r(this).form().length})).not(this.element):r([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t),"radio"===this.type&&this._getRadioGroup().each(function(){var t=r(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e){if(this._super(t,e),"disabled"===t)return this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e);this.refresh()}},_updateIcon:function(t){var e="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=r("<span>"),this.iconSpace=r("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(e+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):e+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",e),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):this.icon!==undefined&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),r.ui.checkboxradio}),function(t){"function"==typeof define&&define.amd?define(["jquery","./controlgroup","./checkboxradio","../keycode","../widget"],t):t(jQuery)}(function(o){var t;return o.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===o.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,e){var n="iconPosition"!==t,i=n?this.options.iconPosition:e,r="top"===i||"bottom"===i;this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=o("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),n&&this._addClass(this.icon,null,e),this._attachIcon(i),r?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=o("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(i))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=t.showLabel===undefined?this.options.showLabel:t.showLabel,n=t.icon===undefined?this.options.icon:t.icon;e||n||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),(this.element[0].disabled=e)&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==o.uiBackCompat&&(o.widget("ui.button",o.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){"text"!==t?("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",e)}}),o.fn.button=(t=o.fn.button,function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?t.apply(this,arguments):(o.ui.checkboxradio||o.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}),o.fn.buttonset=function(t,e,n){return o.ui.controlgroup||o.error("Controlgroup widget missing"),"option"===t&&"items"===e&&n?this.controlgroup.apply(this,[t,"items.button",n]):"option"===t&&"items"===e?this.controlgroup.apply(this,[t,"items.button"]):("object"==typeof t&&t.items&&(t.items={button:t.items}),this.controlgroup.apply(this,arguments))}),o.ui.button}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../keycode"],t):t(jQuery)}(function(S){function u(t){for(var e,n;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}function t(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},S.extend(this._defaults,this.regional[""]),this.regional.en=S.extend(!0,{},this.regional[""]),this.regional["en-US"]=S.extend(!0,{},this.regional.en),this.dpDiv=n(S("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",e,function(){S(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&S(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&S(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",e,a)}function a(){S.datepicker._isDisabledDatepicker(s.inline?s.dpDiv.parent()[0]:s.input[0])||(S(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),S(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&S(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&S(this).addClass("ui-datepicker-next-hover"))}function h(t,e){for(var n in S.extend(t,e),e)null==e[n]&&(t[n]=e[n]);return t}var s;return S.extend(S.ui,{datepicker:{version:"1.12.1"}}),S.extend(t.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return h(this._defaults,t||{}),this},_attachDatepicker:function(t,e){var n,i,r;i="div"===(n=t.nodeName.toLowerCase())||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(r=this._newInst(S(t),i)).settings=S.extend({},e||{}),"input"===n?this._connectDatepicker(t,r):i&&this._inlineDatepicker(t,r)},_newInst:function(t,e){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?n(S("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,e){var n=S(t);e.append=S([]),e.trigger=S([]),n.hasClass(this.markerClassName)||(this._attachments(n,e),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(e),S.data(t,"datepicker",e),e.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var n,i,r,o=this._get(e,"appendText"),a=this._get(e,"isRTL");e.append&&e.append.remove(),o&&(e.append=S("<span class='"+this._appendClass+"'>"+o+"</span>"),t[a?"before":"after"](e.append)),t.off("focus",this._showDatepicker),e.trigger&&e.trigger.remove(),"focus"!==(n=this._get(e,"showOn"))&&"both"!==n||t.on("focus",this._showDatepicker),"button"!==n&&"both"!==n||(i=this._get(e,"buttonText"),r=this._get(e,"buttonImage"),e.trigger=S(this._get(e,"buttonImageOnly")?S("<img/>").addClass(this._triggerClass).attr({src:r,alt:i,title:i}):S("<button type='button'></button>").addClass(this._triggerClass).html(r?S("<img/>").attr({src:r,alt:i,title:i}):i)),t[a?"before":"after"](e.trigger),e.trigger.on("click",function(){return S.datepicker._datepickerShowing&&S.datepicker._lastInput===t[0]?S.datepicker._hideDatepicker():(S.datepicker._datepickerShowing&&S.datepicker._lastInput!==t[0]&&S.datepicker._hideDatepicker(),S.datepicker._showDatepicker(t[0])),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,r,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(r=i=n=0;r<t.length;r++)t[r].length>n&&(n=t[r].length,i=r);return i},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(t,e){var n=S(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(e.dpDiv),S.data(t,"datepicker",e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&this._disableDatepicker(t),e.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,n,i,r){var o,a,s,u,l,c=this._dialogInst;return c||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=S("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),S("body").append(this._dialogInput),(c=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},S.data(this._dialogInput[0],"datepicker",c)),h(c.settings,i||{}),e=e&&e.constructor===Date?this._formatDate(c,e):e,this._dialogInput.val(e),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(a=document.documentElement.clientWidth,s=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,l=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[a/2-100+u,s/2-150+l]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),S.blockUI&&S.blockUI(this.dpDiv),S.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(t){var e,n=S(t),i=S.data(t,"datepicker");n.hasClass(this.markerClassName)&&(e=t.nodeName.toLowerCase(),S.removeData(t,"datepicker"),"input"===e?(i.append.remove(),i.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==e&&"span"!==e||n.removeClass(this.markerClassName).empty(),s===i&&(s=null))},_enableDatepicker:function(e){var t,n,i=S(e),r=S.data(e,"datepicker");i.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==t&&"span"!==t||((n=i.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=S.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var t,n,i=S(e),r=S.data(e,"datepicker");i.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==t&&"span"!==t||((n=i.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=S.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(t){try{return S.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,n){var i,r,o,a,s=this._getInst(t);if(2===arguments.length&&"string"==typeof e)return"defaults"===e?S.extend({},S.datepicker._defaults):s?"all"===e?S.extend({},s.settings):this._get(s,e):null;i=e||{},"string"==typeof e&&((i={})[e]=n),s&&(this._curInst===s&&this._hideDatepicker(),r=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(s,"min"),a=this._getMinMaxDate(s,"max"),h(s.settings,i),null!==o&&i.dateFormat!==undefined&&i.minDate===undefined&&(s.settings.minDate=this._formatDate(s,o)),null!==a&&i.dateFormat!==undefined&&i.maxDate===undefined&&(s.settings.maxDate=this._formatDate(s,a)),"disabled"in i&&(i.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(S(t),s),this._autoSize(s),this._setDate(s,r),this._updateAlternate(s),this._updateDatepicker(s))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(t){var e,n,i,r=S.datepicker._getInst(t.target),o=!0,a=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,S.datepicker._datepickerShowing)switch(t.keyCode){case 9:S.datepicker._hideDatepicker(),o=!1;break;case 13:return(i=S("td."+S.datepicker._dayOverClass+":not(."+S.datepicker._currentClass+")",r.dpDiv))[0]&&S.datepicker._selectDay(t.target,r.selectedMonth,r.selectedYear,i[0]),(e=S.datepicker._get(r,"onSelect"))?(n=S.datepicker._formatDate(r),e.apply(r.input?r.input[0]:null,[n,r])):S.datepicker._hideDatepicker(),!1;case 27:S.datepicker._hideDatepicker();break;case 33:S.datepicker._adjustDate(t.target,t.ctrlKey?-S.datepicker._get(r,"stepBigMonths"):-S.datepicker._get(r,"stepMonths"),"M");break;case 34:S.datepicker._adjustDate(t.target,t.ctrlKey?+S.datepicker._get(r,"stepBigMonths"):+S.datepicker._get(r,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&S.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&S.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:
(t.ctrlKey||t.metaKey)&&S.datepicker._adjustDate(t.target,a?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&S.datepicker._adjustDate(t.target,t.ctrlKey?-S.datepicker._get(r,"stepBigMonths"):-S.datepicker._get(r,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&S.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&S.datepicker._adjustDate(t.target,a?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&S.datepicker._adjustDate(t.target,t.ctrlKey?+S.datepicker._get(r,"stepBigMonths"):+S.datepicker._get(r,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&S.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?S.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e,n,i=S.datepicker._getInst(t.target);if(S.datepicker._get(i,"constrainInput"))return e=S.datepicker._possibleChars(S.datepicker._get(i,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||n<" "||!e||-1<e.indexOf(n)},_doKeyUp:function(t){var e=S.datepicker._getInst(t.target);if(e.input.val()!==e.lastVal)try{S.datepicker.parseDate(S.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,S.datepicker._getFormatConfig(e))&&(S.datepicker._setDateFromField(e),S.datepicker._updateAlternate(e),S.datepicker._updateDatepicker(e))}catch(n){}return!0},_showDatepicker:function(t){var e,n,i,r,o,a,s;("input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=S("input",t.parentNode)[0]),S.datepicker._isDisabledDatepicker(t)||S.datepicker._lastInput===t)||(e=S.datepicker._getInst(t),S.datepicker._curInst&&S.datepicker._curInst!==e&&(S.datepicker._curInst.dpDiv.stop(!0,!0),e&&S.datepicker._datepickerShowing&&S.datepicker._hideDatepicker(S.datepicker._curInst.input[0])),!1!==(i=(n=S.datepicker._get(e,"beforeShow"))?n.apply(t,[t,e]):{})&&(h(e.settings,i),e.lastVal=null,S.datepicker._lastInput=t,S.datepicker._setDateFromField(e),S.datepicker._inDialog&&(t.value=""),S.datepicker._pos||(S.datepicker._pos=S.datepicker._findPos(t),S.datepicker._pos[1]+=t.offsetHeight),r=!1,S(t).parents().each(function(){return!(r|="fixed"===S(this).css("position"))}),o={left:S.datepicker._pos[0],top:S.datepicker._pos[1]},S.datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),S.datepicker._updateDatepicker(e),o=S.datepicker._checkOffset(e,o,r),e.dpDiv.css({position:S.datepicker._inDialog&&S.blockUI?"static":r?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),e.inline||(a=S.datepicker._get(e,"showAnim"),s=S.datepicker._get(e,"duration"),e.dpDiv.css("z-index",u(S(t))+1),S.datepicker._datepickerShowing=!0,S.effects&&S.effects.effect[a]?e.dpDiv.show(a,S.datepicker._get(e,"showOptions"),s):e.dpDiv[a||"show"](a?s:null),S.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),S.datepicker._curInst=e)))},_updateDatepicker:function(t){this.maxRows=4,(s=t).dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var e,n=this._getNumberOfMonths(t),i=n[1],r=17,o=t.dpDiv.find("."+this._dayOverClass+" a");0<o.length&&a.apply(o.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<i&&t.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",r*i+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===S.datepicker._curInst&&S.datepicker._datepickerShowing&&S.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(e=t.yearshtml,setTimeout(function(){e===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),e=t.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(t,e,n){var i=t.dpDiv.outerWidth(),r=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,s=document.documentElement.clientWidth+(n?0:S(document).scrollLeft()),u=document.documentElement.clientHeight+(n?0:S(document).scrollTop());return e.left-=this._get(t,"isRTL")?i-o:0,e.left-=n&&e.left===t.input.offset().left?S(document).scrollLeft():0,e.top-=n&&e.top===t.input.offset().top+a?S(document).scrollTop():0,e.left-=Math.min(e.left,e.left+i>s&&i<s?Math.abs(e.left+i-s):0),e.top-=Math.min(e.top,e.top+r>u&&r<u?Math.abs(r+a):0),e},_findPos:function(t){for(var e,n=this._getInst(t),i=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||S.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return[(e=S(t).offset()).left,e.top]},_hideDatepicker:function(t){var e,n,i,r,o=this._curInst;!o||t&&o!==S.data(t,"datepicker")||this._datepickerShowing&&(e=this._get(o,"showAnim"),n=this._get(o,"duration"),i=function(){S.datepicker._tidyDialog(o)},S.effects&&(S.effects.effect[e]||S.effects[e])?o.dpDiv.hide(e,S.datepicker._get(o,"showOptions"),n,i):o.dpDiv["slideDown"===e?"slideUp":"fadeIn"===e?"fadeOut":"hide"](e?n:null,i),e||i(),this._datepickerShowing=!1,(r=this._get(o,"onClose"))&&r.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),S.blockUI&&(S.unblockUI(),S("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(S.datepicker._curInst){var e=S(t.target),n=S.datepicker._getInst(e[0]);(e[0].id===S.datepicker._mainDivId||0!==e.parents("#"+S.datepicker._mainDivId).length||e.hasClass(S.datepicker.markerClassName)||e.closest("."+S.datepicker._triggerClass).length||!S.datepicker._datepickerShowing||S.datepicker._inDialog&&S.blockUI)&&(!e.hasClass(S.datepicker.markerClassName)||S.datepicker._curInst===n)||S.datepicker._hideDatepicker()}},_adjustDate:function(t,e,n){var i=S(t),r=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(r,e+("M"===n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(t){var e,n=S(t),i=this._getInst(n[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(e=new Date,i.selectedDay=e.getDate(),i.drawMonth=i.selectedMonth=e.getMonth(),i.drawYear=i.selectedYear=e.getFullYear()),this._notifyChange(i),this._adjustDate(n)},_selectMonthYear:function(t,e,n){var i=S(t),r=this._getInst(i[0]);r["selected"+("M"===n?"Month":"Year")]=r["draw"+("M"===n?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(i)},_selectDay:function(t,e,n,i){var r,o=S(t);S(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||((r=this._getInst(o[0])).selectedDay=r.currentDay=S("a",i).html(),r.selectedMonth=r.currentMonth=e,r.selectedYear=r.currentYear=n,this._selectDate(t,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(t){var e=S(t);this._selectDate(e,"")},_selectDate:function(t,e){var n,i=S(t),r=this._getInst(i[0]);e=null!=e?e:this._formatDate(r),r.input&&r.input.val(e),this._updateAlternate(r),(n=this._get(r,"onSelect"))?n.apply(r.input?r.input[0]:null,[e,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var e,n,i,r=this._get(t,"altField");r&&(e=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),i=this.formatDate(e,n,this._getFormatConfig(t)),S(r).val(i))},noWeekends:function(t){var e=t.getDay();return[0<e&&e<6,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(n,o,t){if(null==n||null==o)throw"Invalid arguments";if(""===(o="object"==typeof o?o.toString():o+""))return null;var i,e,r,a,s=0,u=(t?t.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),c=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,h=(t?t.dayNames:null)||this._defaults.dayNames,f=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,d=(t?t.monthNames:null)||this._defaults.monthNames,p=-1,g=-1,m=-1,v=-1,y=!1,_=function(t){var e=i+1<n.length&&n.charAt(i+1)===t;return e&&i++,e},b=function(t){var e=_(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,i=new RegExp("^\\d{"+("y"===t?n:1)+","+n+"}"),r=o.substring(s).match(i);if(!r)throw"Missing number at position "+s;return s+=r[0].length,parseInt(r[0],10)},x=function(t,e,n){var i=-1,r=S.map(_(t)?n:e,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(S.each(r,function(t,e){var n=e[1];if(o.substr(s,n.length).toLowerCase()===n.toLowerCase())return i=e[0],s+=n.length,!1}),-1!==i)return i+1;throw"Unknown name at position "+s},w=function(){if(o.charAt(s)!==n.charAt(i))throw"Unexpected literal at position "+s;s++};for(i=0;i<n.length;i++)if(y)"'"!==n.charAt(i)||_("'")?w():y=!1;else switch(n.charAt(i)){case"d":m=b("d");break;case"D":x("D",c,h);break;case"o":v=b("o");break;case"m":g=b("m");break;case"M":g=x("M",f,d);break;case"y":p=b("y");break;case"@":p=(a=new Date(b("@"))).getFullYear(),g=a.getMonth()+1,m=a.getDate();break;case"!":p=(a=new Date((b("!")-this._ticksTo1970)/1e4)).getFullYear(),g=a.getMonth()+1,m=a.getDate();break;case"'":_("'")?w():y=!0;break;default:w()}if(s<o.length&&(r=o.substr(s),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===p?p=(new Date).getFullYear():p<100&&(p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(p<=l?0:-100)),-1<v)for(g=1,m=v;;){if(m<=(e=this._getDaysInMonth(p,g-1)))break;g++,m-=e}if((a=this._daylightSavingAdjust(new Date(p,g-1,m))).getFullYear()!==p||a.getMonth()+1!==g||a.getDate()!==m)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(n,t,e){if(!t)return"";var i,r=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,o=(e?e.dayNames:null)||this._defaults.dayNames,a=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,s=(e?e.monthNames:null)||this._defaults.monthNames,u=function(t){var e=i+1<n.length&&n.charAt(i+1)===t;return e&&i++,e},l=function(t,e,n){var i=""+e;if(u(t))for(;i.length<n;)i="0"+i;return i},c=function(t,e,n,i){return u(t)?i[e]:n[e]},h="",f=!1;if(t)for(i=0;i<n.length;i++)if(f)"'"!==n.charAt(i)||u("'")?h+=n.charAt(i):f=!1;else switch(n.charAt(i)){case"d":h+=l("d",t.getDate(),2);break;case"D":h+=c("D",t.getDay(),r,o);break;case"o":h+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=l("m",t.getMonth()+1,2);break;case"M":h+=c("M",t.getMonth(),a,s);break;case"y":h+=u("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":h+=t.getTime();break;case"!":h+=1e4*t.getTime()+this._ticksTo1970;break;case"'":u("'")?h+="'":f=!0;break;default:h+=n.charAt(i)}return h},_possibleChars:function(n){var i,t="",e=!1,r=function(t){var e=i+1<n.length&&n.charAt(i+1)===t;return e&&i++,e};for(i=0;i<n.length;i++)if(e)"'"!==n.charAt(i)||r("'")?t+=n.charAt(i):e=!1;else switch(n.charAt(i)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":r("'")?t+="'":e=!0;break;default:t+=n.charAt(i)}return t},_get:function(t,e){return t.settings[e]!==undefined?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,a=this._getFormatConfig(t);try{o=this.parseDate(n,i,a)||r}catch(s){i=e?"":i}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=i?o.getDate():0,t.currentMonth=i?o.getMonth():0,t.currentYear=i?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(u,t,e){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},i=null==t||""===t?e:"string"==typeof t?function(t){try{return S.datepicker.parseDate(S.datepicker._get(u,"dateFormat"),t,S.datepicker._getFormatConfig(u))}catch(s){}for(var e=(t.toLowerCase().match(/^c/)?S.datepicker._getDate(u):null)||new Date,n=e.getFullYear(),i=e.getMonth(),r=e.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,a=o.exec(t);a;){switch(a[2]||"d"){case"d":case"D":r+=parseInt(a[1],10);break;case"w":case"W":r+=7*parseInt(a[1],10);break;case"m":case"M":i+=parseInt(a[1],10),r=Math.min(r,S.datepicker._getDaysInMonth(n,i));break;case"y":case"Y":n+=parseInt(a[1],10),r=Math.min(r,S.datepicker._getDaysInMonth(n,i))}a=o.exec(t)}return new Date(n,i,r)}(t):"number"==typeof t?isNaN(t)?e:n(t):new Date(t.getTime());return(i=i&&"Invalid Date"===i.toString()?e:i)&&(i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)),this._daylightSavingAdjust(i)},_daylightSavingAdjust:function(t){return t?(t.setHours(12<t.getHours()?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(t){var e=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){S.datepicker._adjustDate(n,-e,"M")},next:function(){S.datepicker._adjustDate(n,+e,"M")},hide:function(){S.datepicker._hideDatepicker()},today:function(){S.datepicker._gotoToday(n)},selectDay:function(){return S.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return S.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return S.datepicker._selectMonthYear(n,this,"Y"),!1}};S(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,r,o,a,s,u,l,c,h,f,d,p,g,m,v,y,_,b,x,w,S,T,k,C,M,A,P,E,L,D,N,I,O,R,F,z,H,j=new Date,V=this._daylightSavingAdjust(new Date(j.getFullYear(),j.getMonth(),j.getDate())),G=this._get(t,"isRTL"),q=this._get(t,"showButtonPanel"),$=this._get(t,"hideIfNoPrevNext"),B=this._get(t,"navigationAsDateFormat"),W=this._getNumberOfMonths(t),U=this._get(t,"showCurrentAtPos"),Y=this._get(t,"stepMonths"),X=1!==W[0]||1!==W[1],Q=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),K=this._getMinMaxDate(t,"min"),Z=this._getMinMaxDate(t,"max"),J=t.drawMonth-U,tt=t.drawYear;if(J<0&&(J+=12,tt--),Z)for(e=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-W[0]*W[1]+1,Z.getDate())),e=K&&e<K?K:e;this._daylightSavingAdjust(new Date(tt,J,1))>e;)--J<0&&(J=11,tt--);for(t.drawMonth=J,t.drawYear=tt,n=this._get(t,"prevText"),n=B?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,J-Y,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(G?"e":"w")+"'>"+n+"</span></a>":$?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(G?"e":"w")+"'>"+n+"</span></a>",r=this._get(t,"nextText"),r=B?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,J+Y,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(G?"w":"e")+"'>"+r+"</span></a>":$?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(G?"w":"e")+"'>"+r+"</span></a>",a=this._get(t,"currentText"),s=this._get(t,"gotoCurrent")&&t.currentDay?Q:V,a=B?this.formatDate(a,s,this._getFormatConfig(t)):a,u=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=q?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(G?u:"")+(this._isInRange(t,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(G?"":u)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,h=this._get(t,"showWeek"),f=this._get(t,"dayNames"),d=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),_=this._getDefaultDate(t),b="",w=0;w<W[0];w++){for(S="",this.maxRows=4,T=0;T<W[1];T++){if(k=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay)),C=" ui-corner-all",M="",X){if(M+="<div class='ui-datepicker-group",1<W[1])switch(T){case 0:M+=" ui-datepicker-group-first",C=" ui-corner-"+(G?"right":"left");break;case W[1]-1:M+=" ui-datepicker-group-last",C=" ui-corner-"+(G?"left":"right");break;default:M+=" ui-datepicker-group-middle",C=""}M+="'>"}for(M+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"'>"+(/all|left/.test(C)&&0===w?G?o:i:"")+(/all|right/.test(C)&&0===w?G?i:o:"")+this._generateMonthYearHeader(t,J,tt,K,Z,0<w||0<T,p,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",A=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",x=0;x<7;x++)A+="<th scope='col'"+(5<=(x+c+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+f[P=(x+c)%7]+"'>"+d[P]+"</span></th>";for(M+=A+"</tr></thead><tbody>",E=this._getDaysInMonth(tt,J),tt===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,E)),L=(this._getFirstDayOfMonth(tt,J)-c+7)%7,D=Math.ceil((L+E)/7),N=X&&this.maxRows>D?this.maxRows:D,this.maxRows=N,I=this._daylightSavingAdjust(new Date(tt,J,1-L)),O=0;O<N;O++){for(M+="<tr>",R=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(I)+"</td>":"",x=0;x<7;x++)F=m?m.apply(t.input?t.input[0]:null,[I]):[!0,""],H=(z=I.getMonth()!==J)&&!y||!F[0]||K&&I<K||Z&&Z<I,R+="<td class='"+(5<=(x+c+6)%7?" ui-datepicker-week-end":"")+(z?" ui-datepicker-other-month":"")+(I.getTime()===k.getTime()&&J===t.selectedMonth&&t._keyEvent||_.getTime()===I.getTime()&&_.getTime()===k.getTime()?" "+this._dayOverClass:"")+(H?" "+this._unselectableClass+" ui-state-disabled":"")+(z&&!v?"":" "+F[1]+(I.getTime()===Q.getTime()?" "+this._currentClass:"")+(I.getTime()===V.getTime()?" ui-datepicker-today":""))+"'"+(z&&!v||!F[2]?"":" title='"+F[2].replace(/'/g,"&#39;")+"'")+(H?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(z&&!v?"&#xa0;":H?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===V.getTime()?" ui-state-highlight":"")+(I.getTime()===Q.getTime()?" ui-state-active":"")+(z?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);M+=R+"</tr>"}11<++J&&(J=0,tt++),S+=M+="</tbody></table>"+(X?"</div>"+(0<W[0]&&T===W[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}b+=S}return b+=l,t._keyEvent=!1,b},_generateMonthYearHeader:function(t,e,n,i,r,o,a,s){var u,l,c,h,f,d,p,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),_="<div class='ui-datepicker-title'>",b="";if(o||!m)b+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(u=i&&i.getFullYear()===n,l=r&&r.getFullYear()===n,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!u||c>=i.getMonth())&&(!l||c<=r.getMonth())&&(b+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+s[c]+"</option>");b+="</select>"}if(y||(_+=b+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)_+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(h=this._get(t,"yearRange").split(":"),f=(new Date).getFullYear(),p=(d=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?f+parseInt(t,10):parseInt(t,10);return isNaN(e)?f:e})(h[0]),g=Math.max(p,d(h[1]||"")),p=i?Math.max(p,i.getFullYear()):p,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=g;p++)t.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",_+=t.yearshtml,t.yearshtml=null}return _+=this._get(t,"yearSuffix"),y&&(_+=(!o&&m&&v?"":"&#xa0;")+b),_+="</div>"},_adjustInstDate:function(t,e,n){var i=t.selectedYear+("Y"===n?e:0),r=t.selectedMonth+("M"===n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"===n?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&e<n?n:e;return i&&i<r?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(e<0?e:r[0]*r[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n,i,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,s=null,u=this._get(t,"yearRange");return u&&(n=u.split(":"),i=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=i),n[1].match(/[+\-].*/)&&(s+=i)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!s||e.getFullYear()<=s)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),S.fn.datepicker=function(t,e){if(!this.length)return this;S.datepicker.initialized||(S(document).on("mousedown",S.datepicker._checkExternalClick),S.datepicker.initialized=!0),0===S("#"+S.datepicker._mainDivId).length&&S("body").append(S.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof e?S.datepicker["_"+t+"Datepicker"].apply(S.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof t?S.datepicker["_"+t+"Datepicker"].apply(S.datepicker,[this].concat(n)):S.datepicker._attachDatepicker(this,t)}):S.datepicker["_"+t+"Datepicker"].apply(S.datepicker,[this[0]].concat(n))},S.datepicker=new t,S.datepicker.initialized=!1,S.datepicker.uuid=(new Date).getTime(),S.datepicker.version="1.12.1",S.datepicker}),function(t){"function"==typeof define&&define.amd?define(["jquery","../ie","../version","../widget"],t):t(jQuery)}(function(r){var o=!1;return r(document).on("mouseup",function(){o=!1}),r.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(t){if(!0===r.data(t.target,e.widgetName+".preventClickEvent"))return r.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var e=this,n=1===t.which,i=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&r(t.target).closest(this.options.cancel).length;return!(n&&!i&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===r.data(t.target,this.widgetName+".preventClickEvent")&&r.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return e._mouseMove(t)},this._mouseUpDelegate=function(t){return e._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),o=!0))}},_mouseMove:function(t){if(this._mouseMoved){if(r.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&r.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,o=!1,t.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../data","../plugin","../safe-active-element","../safe-blur","../scroll-parent","../version","../widget"],t):t(jQuery)}(function(_){return _.widget("ui.draggable",_.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var e=this.options;return!(this.helper||e.disabled||0<_(t.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===e.iframeFix?"iframe":e.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=_(this);return _("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var e=_.ui.safeActiveElement(this.document[0]);_(t.target).closest(e).length||_.ui.safeBlur(e)},_mouseStart:function(t){var e=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),_.ui.ddmanager&&(_.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===_(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),_.ui.ddmanager&&!e.dropBehaviour&&_.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),_.ui.ddmanager&&_.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(t,e){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!e){var n=this._uiHash();if(!1===this._trigger("drag",t,n))return this._mouseUp(new _.Event("mouseup",t)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",_.ui.ddmanager&&_.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var e=this,n=!1;return _.ui.ddmanager&&!this.options.dropBehaviour&&(n=_.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||_.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?_(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==e._trigger("stop",t)&&e._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),_.ui.ddmanager&&_.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),_.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new _.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!_(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){
this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var e=this.options,n=_.isFunction(e.helper),i=n?_(e.helper.apply(this.element[0],[t])):"clone"===e.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===e.appendTo?this.element[0].parentNode:e.appendTo),n&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),_.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),e=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==e&&_.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,n,i=this.options,r=this.document[0];this.relativeContainer=null,i.containment?"window"!==i.containment?"document"!==i.containment?i.containment.constructor!==Array?("parent"===i.containment&&(i.containment=this.helper[0].parentNode),(n=(e=_(i.containment))[0])&&(t=/(scroll|auto)/.test(e.css("overflow")),this.containment=[(parseInt(e.css("borderLeftWidth"),10)||0)+(parseInt(e.css("paddingLeft"),10)||0),(parseInt(e.css("borderTopWidth"),10)||0)+(parseInt(e.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e.css("borderRightWidth"),10)||0)-(parseInt(e.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e.css("borderBottomWidth"),10)||0)-(parseInt(e.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=e)):this.containment=i.containment:this.containment=[0,0,_(r).width()-this.helperProportions.width-this.margins.left,(_(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[_(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,_(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,_(window).scrollLeft()+_(window).width()-this.helperProportions.width-this.margins.left,_(window).scrollTop()+(_(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),u=t.pageX,l=t.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(u=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(l=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(u=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(l=n[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-a.grid[1]:r+a.grid[1]:r,o=a.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,u=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(u=this.originalPageX),"x"===a.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,e,n){return n=n||this._uiHash(),_.ui.plugin.call(this,t,[e,n,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),_.Widget.prototype._trigger.call(this,t,e,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),_.ui.plugin.add("draggable","connectToSortable",{start:function(e,t,n){var i=_.extend({},t,{item:n.element});n.sortables=[],_(n.options.connectToSortable).each(function(){var t=_(this).sortable("instance");t&&!t.options.disabled&&(n.sortables.push(t),t.refreshPositions(),t._trigger("activate",e,i))})},stop:function(e,t,n){var i=_.extend({},t,{item:n.element});n.cancelHelperRemoval=!1,_.each(n.sortables,function(){var t=this;t.isOver?(t.isOver=0,n.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,i))})},drag:function(n,i,r){_.each(r.sortables,function(){var t=!1,e=this;e.positionAbs=r.positionAbs,e.helperProportions=r.helperProportions,e.offset.click=r.offset.click,e._intersectsWith(e.containerCache)&&(t=!0,_.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==e&&this._intersectsWith(this.containerCache)&&_.contains(e.element[0],this.element[0])&&(t=!1),t})),t?(e.isOver||(e.isOver=1,r._parent=i.helper.parent(),e.currentItem=i.helper.appendTo(e.element).data("ui-sortable-item",!0),e.options._helper=e.options.helper,e.options.helper=function(){return i.helper[0]},n.target=e.currentItem[0],e._mouseCapture(n,!0),e._mouseStart(n,!0,!0),e.offset.click.top=r.offset.click.top,e.offset.click.left=r.offset.click.left,e.offset.parent.left-=r.offset.parent.left-e.offset.parent.left,e.offset.parent.top-=r.offset.parent.top-e.offset.parent.top,r._trigger("toSortable",n),r.dropped=e.element,_.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,e.fromOutside=r),e.currentItem&&(e._mouseDrag(n),i.position=e.position)):e.isOver&&(e.isOver=0,e.cancelHelperRemoval=!0,e.options._revert=e.options.revert,e.options.revert=!1,e._trigger("out",n,e._uiHash(e)),e._mouseStop(n,!0),e.options.revert=e.options._revert,e.options.helper=e.options._helper,e.placeholder&&e.placeholder.remove(),i.helper.appendTo(r._parent),r._refreshOffsets(n),i.position=r._generatePosition(n,!0),r._trigger("fromSortable",n),r.dropped=!1,_.each(r.sortables,function(){this.refreshPositions()}))})}}),_.ui.plugin.add("draggable","cursor",{start:function(t,e,n){var i=_("body"),r=n.options;i.css("cursor")&&(r._cursor=i.css("cursor")),i.css("cursor",r.cursor)},stop:function(t,e,n){var i=n.options;i._cursor&&_("body").css("cursor",i._cursor)}}),_.ui.plugin.add("draggable","opacity",{start:function(t,e,n){var i=_(e.helper),r=n.options;i.css("opacity")&&(r._opacity=i.css("opacity")),i.css("opacity",r.opacity)},stop:function(t,e,n){var i=n.options;i._opacity&&_(e.helper).css("opacity",i._opacity)}}),_.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,e,n){var i=n.options,r=!1,o=n.scrollParentNotHidden[0],a=n.document[0];o!==a&&"HTML"!==o.tagName?(i.axis&&"x"===i.axis||(n.overflowOffset.top+o.offsetHeight-t.pageY<i.scrollSensitivity?o.scrollTop=r=o.scrollTop+i.scrollSpeed:t.pageY-n.overflowOffset.top<i.scrollSensitivity&&(o.scrollTop=r=o.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(n.overflowOffset.left+o.offsetWidth-t.pageX<i.scrollSensitivity?o.scrollLeft=r=o.scrollLeft+i.scrollSpeed:t.pageX-n.overflowOffset.left<i.scrollSensitivity&&(o.scrollLeft=r=o.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-_(a).scrollTop()<i.scrollSensitivity?r=_(a).scrollTop(_(a).scrollTop()-i.scrollSpeed):_(window).height()-(t.pageY-_(a).scrollTop())<i.scrollSensitivity&&(r=_(a).scrollTop(_(a).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-_(a).scrollLeft()<i.scrollSensitivity?r=_(a).scrollLeft(_(a).scrollLeft()-i.scrollSpeed):_(window).width()-(t.pageX-_(a).scrollLeft())<i.scrollSensitivity&&(r=_(a).scrollLeft(_(a).scrollLeft()+i.scrollSpeed)))),!1!==r&&_.ui.ddmanager&&!i.dropBehaviour&&_.ui.ddmanager.prepareOffsets(n,t)}}),_.ui.plugin.add("draggable","snap",{start:function(t,e,n){var i=n.options;n.snapElements=[],_(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var t=_(this),e=t.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:e.top,left:e.left})})},drag:function(t,e,n){var i,r,o,a,s,u,l,c,h,f,d=n.options,p=d.snapTolerance,g=e.offset.left,m=g+n.helperProportions.width,v=e.offset.top,y=v+n.helperProportions.height;for(h=n.snapElements.length-1;0<=h;h--)u=(s=n.snapElements[h].left-n.margins.left)+n.snapElements[h].width,c=(l=n.snapElements[h].top-n.margins.top)+n.snapElements[h].height,m<s-p||u+p<g||y<l-p||c+p<v||!_.contains(n.snapElements[h].item.ownerDocument,n.snapElements[h].item)?(n.snapElements[h].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,_.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=!1):("inner"!==d.snapMode&&(i=Math.abs(l-y)<=p,r=Math.abs(c-v)<=p,o=Math.abs(s-m)<=p,a=Math.abs(u-g)<=p,i&&(e.position.top=n._convertPositionTo("relative",{top:l-n.helperProportions.height,left:0}).top),r&&(e.position.top=n._convertPositionTo("relative",{top:c,left:0}).top),o&&(e.position.left=n._convertPositionTo("relative",{top:0,left:s-n.helperProportions.width}).left),a&&(e.position.left=n._convertPositionTo("relative",{top:0,left:u}).left)),f=i||r||o||a,"outer"!==d.snapMode&&(i=Math.abs(l-v)<=p,r=Math.abs(c-y)<=p,o=Math.abs(s-g)<=p,a=Math.abs(u-m)<=p,i&&(e.position.top=n._convertPositionTo("relative",{top:l,left:0}).top),r&&(e.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top),o&&(e.position.left=n._convertPositionTo("relative",{top:0,left:s}).left),a&&(e.position.left=n._convertPositionTo("relative",{top:0,left:u-n.helperProportions.width}).left)),!n.snapElements[h].snapping&&(i||r||o||a||f)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,_.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=i||r||o||a||f)}}),_.ui.plugin.add("draggable","stack",{start:function(t,e,n){var i,r=n.options,o=_.makeArray(_(r.stack)).sort(function(t,e){return(parseInt(_(t).css("zIndex"),10)||0)-(parseInt(_(e).css("zIndex"),10)||0)});o.length&&(i=parseInt(_(o[0]).css("zIndex"),10)||0,_(o).each(function(t){_(this).css("zIndex",i+t)}),this.css("zIndex",i+o.length))}}),_.ui.plugin.add("draggable","zIndex",{start:function(t,e,n){var i=_(e.helper),r=n.options;i.css("zIndex")&&(r._zIndex=i.css("zIndex")),i.css("zIndex",r.zIndex)},stop:function(t,e,n){var i=n.options;i._zIndex&&_(e.helper).css("zIndex",i._zIndex)}}),_.ui.draggable}),function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../disable-selection","../plugin","../version","../widget"],t):t(jQuery)}(function(y){return y.widget("ui.resizable",y.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(t,e){if("hidden"===y(t).css("overflow"))return!1;var n=e&&"left"===e?"scrollLeft":"scrollTop",i=!1;return 0<t[n]||(t[n]=1,i=0<t[n],t[n]=0,i)},_create:function(){var t,e=this.options,n=this;this._addClass("ui-resizable"),y.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(y("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),e.autoHide&&y(this.element).on("mouseenter",function(){e.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())}).on("mouseleave",function(){e.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,e=function(t){y(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(e(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var t,e,n,i,r,o=this.options,a=this;if(this.handles=o.handles||(y(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=y(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},e=0;e<n.length;e++)i="ui-resizable-"+(t=y.trim(n[e])),r=y("<div>"),this._addClass(r,"ui-resizable-handle "+i),r.css({zIndex:o.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.append(r);this._renderAxis=function(t){var e,n,i,r;for(e in t=t||this.element,this.handles)this.handles[e].constructor===String?this.handles[e]=this.element.children(this.handles[e]).first().show():(this.handles[e].jquery||this.handles[e].nodeType)&&(this.handles[e]=y(this.handles[e]),this._on(this.handles[e],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=y(this.handles[e],this.element),r=/sw|ne|nw|se|n|s/.test(e)?n.outerHeight():n.outerWidth(),i=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),t.css(i,r),this._proportionallyResize()),this._handles=this._handles.add(this.handles[e])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=r&&r[1]?r[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var e,n,i=!1;for(e in this.handles)((n=y(this.handles[e])[0])===t.target||y.contains(n,t.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var e,n,i,r=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),e=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),r.containment&&(e+=y(r.containment).scrollLeft()||0,n+=y(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:e,top:n},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=y(".ui-resizable-"+this.axis).css("cursor"),y("body").css("cursor","auto"===i?this.axis+"-resize":i),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e,n,i=this.originalMousePosition,r=this.axis,o=t.pageX-i.left||0,a=t.pageY-i.top||0,s=this._change[r];return this._updatePrevProperties(),s&&(e=s.apply(this,[t,o,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(e=this._updateRatio(e,t)),e=this._respectSize(e,t),this._updateCache(e),this._propagate("resize",t),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),y.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges())),!1},_mouseStop:function(t){this.resizing=!1;var e,n,i,r,o,a,s,u=this.options,l=this;return this._helper&&(i=(n=(e=this._proportionallyResizeElements).length&&/textarea/i.test(e[0].nodeName))&&this._hasScroll(e[0],"left")?0:l.sizeDiff.height,r=n?0:l.sizeDiff.width,o={width:l.helper.width()-r,height:l.helper.height()-i},a=parseFloat(l.element.css("left"))+(l.position.left-l.originalPosition.left)||null,s=parseFloat(l.element.css("top"))+(l.position.top-l.originalPosition.top)||null,u.animate||this.element.css(y.extend(o,{top:s,left:a})),l.helper.height(l.size.height),l.helper.width(l.size.width),this._helper&&!u.animate&&this._proportionallyResize()),y("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:Infinity,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:Infinity},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,s=this.originalPosition.left+this.originalSize.width,u=this.originalPosition.top+this.originalSize.height,l=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&l&&(t.left=s-e.minWidth),i&&l&&(t.left=s-e.maxWidth),a&&c&&(t.top=u-e.minHeight),r&&c&&(t.top=u-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)n[e]=parseFloat(i[e])||0,n[e]+=parseFloat(r[e])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,e=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||y("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize;return{left:this.originalPosition.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(t,e,n){return y.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,n]))},sw:function(t,e,n){return y.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,n]))},ne:function(t,e,n){return y.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,n]))},nw:function(t,e,n){return y.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,n]))}},_propagate:function(t,e){y.ui.plugin.call(this,t,[e,this.ui()]),"resize"!==t&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),y.ui.plugin.add("resizable","animate",{stop:function(e){var n=y(this).resizable("instance"),t=n.options,i=n._proportionallyResizeElements,r=i.length&&/textarea/i.test(i[0].nodeName),o=r&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,a=r?0:n.sizeDiff.width,s={width:n.size.width-a,height:n.size.height-o},u=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,l=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(y.extend(s,l&&u?{top:l,left:u}:{}),{duration:t.animateDuration,easing:t.animateEasing,step:function(){var t={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};i&&i.length&&y(i[0]).css({width:t.width,height:t.height}),n._updateCache(t),n._propagate("resize",e)}})}}),y.ui.plugin.add("resizable","containment",{start:function(){var n,i,t,e,r,o,a,s=y(this).resizable("instance"),u=s.options,l=s.element,c=u.containment,h=c instanceof y?c.get(0):/parent/.test(c)?l.parent().get(0):c;h&&(s.containerElement=y(h),/document/.test(c)||c===document?(s.containerOffset={left:0,top:0},s.containerPosition={left:0,top:0},s.parentData={element:y(document),left:0,top:0,width:y(document).width(),height:y(document).height()||document.body.parentNode.scrollHeight}):(n=y(h),i=[],y(["Top","Right","Left","Bottom"]).each(function(t,e){i[t]=s._num(n.css("padding"+e))}),s.containerOffset=n.offset(),s.containerPosition=n.position(),s.containerSize={height:n.innerHeight()-i[3],width:n.innerWidth()-i[1]},t=s.containerOffset,e=s.containerSize.height,r=s.containerSize.width,o=s._hasScroll(h,"left")?h.scrollWidth:r,a=s._hasScroll(h)?h.scrollHeight:e,s.parentData={element:h,left:t.left,top:t.top,width:o,height:a}))},resize:function(t){var e,n,i,r,o=y(this).resizable("instance"),a=o.options,s=o.containerOffset,u=o.position,l=o._aspectRatio||t.shiftKey,c={top:0,left:0},h=o.containerElement,f=!0;h[0]!==document&&/static/.test(h.css("position"))&&(c=s),u.left<(o._helper?s.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-s.left:o.position.left-c.left),l&&(o.size.height=o.size.width/o.aspectRatio,f=!1),o.position.left=a.helper?s.left:0),u.top<(o._helper?s.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-s.top:o.position.top),l&&(o.size.width=o.size.height*o.aspectRatio,f=!1),o.position.top=o._helper?s.top:0),i=o.containerElement.get(0)===o.element.parent().get(0),r=/relative|absolute/.test(o.containerElement.css("position")),i&&r?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),e=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-c.left:o.offset.left-s.left)),n=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-c.top:o.offset.top-s.top)),e+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-e,l&&(o.size.height=o.size.width/o.aspectRatio,f=!1)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,l&&(o.size.width=o.size.height*o.aspectRatio,f=!1)),f||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=y(this).resizable("instance"),e=t.options,n=t.containerOffset,i=t.containerPosition,r=t.containerElement,o=y(t.helper),a=o.offset(),s=o.outerWidth()-t.sizeDiff.width,u=o.outerHeight()-t.sizeDiff.height;t._helper&&!e.animate&&/relative/.test(r.css("position"))&&y(this).css({left:a.left-i.left-n.left,width:s,height:u}),t._helper&&!e.animate&&/static/.test(r.css("position"))&&y(this).css({left:a.left-i.left-n.left,width:s,height:u})}}),y.ui.plugin.add("resizable","alsoResize",{start:function(){var t=y(this).resizable("instance").options;y(t.alsoResize).each(function(){var t=y(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,n){var e=y(this).resizable("instance"),i=e.options,r=e.originalSize,o=e.originalPosition,a={height:e.size.height-r.height||0,width:e.size.width-r.width||0,top:e.position.top-o.top||0,left:e.position.left-o.left||0};y(i.alsoResize).each(function(){var t=y(this),i=y(this).data("ui-resizable-alsoresize"),r={},e=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];y.each(e,function(t,e){var n=(i[e]||0)+(a[e]||0);n&&0<=n&&(r[e]=n||null)}),t.css(r)})},stop:function(){y(this).removeData("ui-resizable-alsoresize")}}),y.ui.plugin.add("resizable","ghost",{start:function(){var t=y(this).resizable("instance"),e=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==y.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=y(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=y(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),y.ui.plugin.add("resizable","grid",{resize:function(){var t,e=y(this).resizable("instance"),n=e.options,i=e.size,r=e.originalSize,o=e.originalPosition,a=e.axis,s="number"==typeof n.grid?[n.grid,n.grid]:n.grid,u=s[0]||1,l=s[1]||1,c=Math.round((i.width-r.width)/u)*u,h=Math.round((i.height-r.height)/l)*l,f=r.width+c,d=r.height+h,p=n.maxWidth&&n.maxWidth<f,g=n.maxHeight&&n.maxHeight<d,m=n.minWidth&&n.minWidth>f,v=n.minHeight&&n.minHeight>d;n.grid=s,m&&(f+=u),v&&(d+=l),p&&(f-=u),g&&(d-=l),/^(se|s|e)$/.test(a)?(e.size.width=f,e.size.height=d):/^(ne)$/.test(a)?(e.size.width=f,e.size.height=d,e.position.top=o.top-h):/^(sw)$/.test(a)?(e.size.width=f,e.size.height=d,e.position.left=o.left-c):((d-l<=0||f-u<=0)&&(t=e._getPaddingPlusBorderDimensions(this)),0<d-l?(e.size.height=d,e.position.top=o.top-h):(d=l-t.height,e.size.height=d,e.position.top=o.top+r.height-d),0<f-u?(e.size.width=f,e.position.left=o.left-c):(f=u-t.width,e.size.width=f,e.position.left=o.left+r.width-f))}}),y.ui.resizable}),function(t){"function"==typeof define&&define.amd?define(["jquery","./button","./draggable","./mouse","./resizable","../focusable","../keycode","../position","../safe-active-element","../safe-blur","../tabbable","../unique-id","../version","../widget"],t):t(jQuery)}(function(u){return u.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var e=u(this).css(t).offset().top;e<0&&u(this).css("top",t.top-e)}},resizable:!0,
show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&u.fn.draggable&&this._makeDraggable(),this.options.resizable&&u.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?u(t):this.document.find(t||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:u.noop,enable:u.noop,close:function(t){var e=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||u.ui.safeBlur(u.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){e._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var n=!1,i=this.uiDialog.siblings(".ui-front:visible").map(function(){return+u(this).css("z-index")}).get(),r=Math.max.apply(null,i);return r>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",r+1),n=!0),n&&!e&&this._trigger("focus",t),n},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=u(u.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(t){function e(){var t=u.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===t||u.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),e.call(this),this._delay(e)},_createWrapper:function(){this.uiDialog=u("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===u.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===u.ui.keyCode.TAB&&!t.isDefaultPrevented()){var e=this.uiDialog.find(":tabbable"),n=e.filter(":first"),i=e.filter(":last");t.target!==i[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){i.trigger("focus")}),t.preventDefault()):(this._delay(function(){n.trigger("focus")}),t.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=u("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){u(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=u("<button type='button'></button>").button({label:u("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),t=u("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=u("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=u("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var r=this,t=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),u.isEmptyObject(t)||u.isArray(t)&&!t.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(u.each(t,function(t,e){var n,i;e=u.isFunction(e)?{click:e,text:t}:e,e=u.extend({type:"button"},e),n=e.click,i={icon:e.icon,iconPosition:e.iconPosition,showLabel:e.showLabel,icons:e.icons,text:e.text},delete e.click,delete e.icon,delete e.iconPosition,delete e.showLabel,delete e.icons,"boolean"==typeof e.text&&delete e.text,u("<button></button>",e).button(i).appendTo(r.uiButtonSet).on("click",function(){n.apply(r.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function r(t){return{position:t.position,offset:t.offset}}var o=this,a=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(t,e){o._addClass(u(this),"ui-dialog-dragging"),o._blockFrames(),o._trigger("dragStart",t,r(e))},drag:function(t,e){o._trigger("drag",t,r(e))},stop:function(t,e){var n=e.offset.left-o.document.scrollLeft(),i=e.offset.top-o.document.scrollTop();a.position={my:"left top",at:"left"+(0<=n?"+":"")+n+" top"+(0<=i?"+":"")+i,of:o.window},o._removeClass(u(this),"ui-dialog-dragging"),o._unblockFrames(),o._trigger("dragStop",t,r(e))}})},_makeResizable:function(){function o(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var a=this,s=this.options,t=s.resizable,e=this.uiDialog.css("position"),n="string"==typeof t?t:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:n,start:function(t,e){a._addClass(u(this),"ui-dialog-resizing"),a._blockFrames(),a._trigger("resizeStart",t,o(e))},resize:function(t,e){a._trigger("resize",t,o(e))},stop:function(t,e){var n=a.uiDialog.offset(),i=n.left-a.document.scrollLeft(),r=n.top-a.document.scrollTop();s.height=a.uiDialog.height(),s.width=a.uiDialog.width(),s.position={my:"left top",at:"left"+(0<=i?"+":"")+i+" top"+(0<=r?"+":"")+r,of:a.window},a._removeClass(u(this),"ui-dialog-resizing"),a._unblockFrames(),a._trigger("resizeStop",t,o(e))}}).css("position",e)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=u(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),e=u.inArray(this,t);-1!==e&&t.splice(e,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(t){var n=this,i=!1,r={};u.each(t,function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(r[t]=e)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(t,e){var n,i,r=this.uiDialog;"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:u("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&((n=r.is(":data(ui-draggable)"))&&!e&&r.draggable("destroy"),!n&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((i=r.is(":data(ui-resizable)"))&&!e&&r.resizable("destroy"),i&&"string"==typeof e&&r.resizable("option","handles",e),i||!1===e||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=u(this);return u("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!u(t.target).closest(".ui-dialog").length||!!u(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=u("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==u.uiBackCompat&&u.widget("ui.dialog",u.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),u.ui.dialog}),function(t){"function"==typeof define&&define.amd?define(["jquery","./draggable","./mouse","../version","../widget"],t):t(jQuery)}(function(s){s.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,t=this.options,n=t.accept;this.isover=!1,this.isout=!0,this.accept=s.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(t){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=t},this._addToManager(t.scope),t.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){s.ui.ddmanager.droppables[t]=s.ui.ddmanager.droppables[t]||[],s.ui.ddmanager.droppables[t].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var t=s.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,e){if("accept"===t)this.accept=s.isFunction(e)?e:function(t){return t.is(e)};else if("scope"===t){var n=s.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(e)}this._super(t,e)},_activate:function(t){var e=s.ui.ddmanager.current;this._addActiveClass(),e&&this._trigger("activate",t,this.ui(e))},_deactivate:function(t){var e=s.ui.ddmanager.current;this._removeActiveClass(),e&&this._trigger("deactivate",t,this.ui(e))},_over:function(t){var e=s.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(e)))},_out:function(t){var e=s.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(e)))},_drop:function(e,t){var n=t||s.ui.ddmanager.current,i=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=s(this).droppable("instance");if(t.options.greedy&&!t.options.disabled&&t.options.scope===n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&u(n,s.extend(t,{offset:t.element.offset()}),t.options.tolerance,e))return!(i=!0)}),!i&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(n)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var u=s.ui.intersect=function(){function f(t,e,n){return e<=t&&t<e+n}return function(t,e,n,i){if(!e.offset)return!1;var r=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,a=r+t.helperProportions.width,s=o+t.helperProportions.height,u=e.offset.left,l=e.offset.top,c=u+e.proportions().width,h=l+e.proportions().height;switch(n){case"fit":return u<=r&&a<=c&&l<=o&&s<=h;case"intersect":return u<r+t.helperProportions.width/2&&a-t.helperProportions.width/2<c&&l<o+t.helperProportions.height/2&&s-t.helperProportions.height/2<h;case"pointer":return f(i.pageY,l,e.proportions().height)&&f(i.pageX,u,e.proportions().width);case"touch":return(l<=o&&o<=h||l<=s&&s<=h||o<l&&h<s)&&(u<=r&&r<=c||u<=a&&a<=c||r<u&&c<a);default:return!1}}}();return!(s.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,e){var n,i,r=s.ui.ddmanager.droppables[t.options.scope]||[],o=e?e.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();t:for(n=0;n<r.length;n++)if(!(r[n].options.disabled||t&&!r[n].accept.call(r[n].element[0],t.currentItem||t.element))){for(i=0;i<a.length;i++)if(a[i]===r[n].element[0]){r[n].proportions().height=0;continue t}r[n].visible="none"!==r[n].element.css("display"),r[n].visible&&("mousedown"===o&&r[n]._activate.call(r[n],e),r[n].offset=r[n].element.offset(),r[n].proportions({width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight}))}},drop:function(t,e){var n=!1;return s.each((s.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&u(t,this,this.options.tolerance,e)&&(n=this._drop.call(this,e)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,e)))}),n},dragStart:function(t,e){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||s.ui.ddmanager.prepareOffsets(t,e)})},drag:function(o,a){o.options.refreshPositions&&s.ui.ddmanager.prepareOffsets(o,a),s.each(s.ui.ddmanager.droppables[o.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var t,e,n,i=u(o,this,this.options.tolerance,a),r=!i&&this.isover?"isout":i&&!this.isover?"isover":null;r&&(this.options.greedy&&(e=this.options.scope,(n=this.element.parents(":data(ui-droppable)").filter(function(){return s(this).droppable("instance").options.scope===e})).length&&((t=s(n[0]).droppable("instance")).greedyChild="isover"===r)),t&&"isover"===r&&(t.isover=!1,t.isout=!0,t._out.call(t,a)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,a),t&&"isout"===r&&(t.isout=!1,t.isover=!0,t._over.call(t,a)))}})},dragStop:function(t,e){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||s.ui.ddmanager.prepareOffsets(t,e)}})!==s.uiBackCompat&&s.widget("ui.droppable",s.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),s.ui.droppable}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../widget"],t):t(jQuery)}(function(n){return n.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=n("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){if(t===undefined)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return t===undefined&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,e=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(e.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,t===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=n("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../version","../widget"],t):t(jQuery)}(function(c){return c.widget("ui.selectable",c.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var i=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){i.elementPos=c(i.element[0]).offset(),i.selectees=c(i.options.filter,i.element[0]),i._addClass(i.selectees,"ui-selectee"),i.selectees.each(function(){var t=c(this),e=t.offset(),n={left:e.left-i.elementPos.left,top:e.top-i.elementPos.top};c.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=c("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(n){var i=this,t=this.options;this.opos=[n.pageX,n.pageY],this.elementPos=c(this.element[0]).offset(),this.options.disabled||(this.selectees=c(t.filter,this.element[0]),this._trigger("start",n),c(t.appendTo).append(this.helper),this.helper.css({left:n.pageX,top:n.pageY,width:0,height:0}),t.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var t=c.data(this,"selectable-item");t.startselected=!0,n.metaKey||n.ctrlKey||(i._removeClass(t.$element,"ui-selected"),t.selected=!1,i._addClass(t.$element,"ui-unselecting"),t.unselecting=!0,i._trigger("unselecting",n,{unselecting:t.element}))}),c(n.target).parents().addBack().each(function(){var t,e=c.data(this,"selectable-item");if(e)return t=!n.metaKey&&!n.ctrlKey||!e.$element.hasClass("ui-selected"),i._removeClass(e.$element,t?"ui-unselecting":"ui-selected")._addClass(e.$element,t?"ui-selecting":"ui-unselecting"),e.unselecting=!t,e.selecting=t,(e.selected=t)?i._trigger("selecting",n,{selecting:e.element}):i._trigger("unselecting",n,{unselecting:e.element}),!1}))},_mouseDrag:function(i){if(this.dragged=!0,!this.options.disabled){var t,r=this,o=this.options,a=this.opos[0],s=this.opos[1],u=i.pageX,l=i.pageY;return u<a&&(t=u,u=a,a=t),l<s&&(t=l,l=s,s=t),this.helper.css({left:a,top:s,width:u-a,height:l-s}),this.selectees.each(function(){var t=c.data(this,"selectable-item"),e=!1,n={};t&&t.element!==r.element[0]&&(n.left=t.left+r.elementPos.left,n.right=t.right+r.elementPos.left,n.top=t.top+r.elementPos.top,n.bottom=t.bottom+r.elementPos.top,"touch"===o.tolerance?e=!(n.left>u||n.right<a||n.top>l||n.bottom<s):"fit"===o.tolerance&&(e=n.left>a&&n.right<u&&n.top>s&&n.bottom<l),e?(t.selected&&(r._removeClass(t.$element,"ui-selected"),t.selected=!1),t.unselecting&&(r._removeClass(t.$element,"ui-unselecting"),t.unselecting=!1),t.selecting||(r._addClass(t.$element,"ui-selecting"),t.selecting=!0,r._trigger("selecting",i,{selecting:t.element}))):(t.selecting&&((i.metaKey||i.ctrlKey)&&t.startselected?(r._removeClass(t.$element,"ui-selecting"),t.selecting=!1,r._addClass(t.$element,"ui-selected"),t.selected=!0):(r._removeClass(t.$element,"ui-selecting"),t.selecting=!1,t.startselected&&(r._addClass(t.$element,"ui-unselecting"),t.unselecting=!0),r._trigger("unselecting",i,{unselecting:t.element}))),t.selected&&(i.metaKey||i.ctrlKey||t.startselected||(r._removeClass(t.$element,"ui-selected"),t.selected=!1,r._addClass(t.$element,"ui-unselecting"),t.unselecting=!0,r._trigger("unselecting",i,{unselecting:t.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,c(".ui-unselecting",this.element[0]).each(function(){var t=c.data(this,"selectable-item");n._removeClass(t.$element,"ui-unselecting"),t.unselecting=!1,t.startselected=!1,n._trigger("unselected",e,{unselected:t.element})}),c(".ui-selecting",this.element[0]).each(function(){var t=c.data(this,"selectable-item");n._removeClass(t.$element,"ui-selecting")._addClass(t.$element,"ui-selected"),t.selecting=!1,t.selected=!0,t.startselected=!0,n._trigger("selected",e,{selected:t.element})}),this._trigger("stop",e),this.helper.remove(),!1}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./menu","../escape-selector","../form-reset-mixin","../keycode","../labels","../position","../unique-id","../version","../widget"],t):t(jQuery)}(function(a){return a.widget("ui.selectmenu",[a.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=a()},_drawButton:function(){var t,e=this,n=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=a("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),t=a("<span>").appendTo(this.button),this._addClass(t,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(n).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e._rendered||e._refreshMenu()})},_drawMenu:function(){var i=this;this.menu=a("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=a("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,e){t.preventDefault(),i._setSelection(),i._select(e.item.data("ui-selectmenu-item"),t)},focus:function(t,e){var n=e.item.data("ui-selectmenu-item");null!=i.focusIndex&&n.index!==i.focusIndex&&(i._trigger("focus",t,{item:n}),i.isOpen||i._select(n,t)),i.focusIndex=n.index,i.button.attr("aria-activedescendant",i.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(a.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(t){var e=a("<span>");return this._setText(e,t.label),this._addClass(e,"ui-selectmenu-text"),e},_renderMenu:function(i,t){var r=this,o="";a.each(t,function(t,e){var n;e.optgroup!==o&&(n=a("<li>",{text:e.optgroup}),r._addClass(n,"ui-selectmenu-optgroup","ui-menu-divider"+(e.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),n.appendTo(i),o=e.optgroup),r._renderItemData(i,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(t,e){var n=a("<li>"),i=a("<div>",{title:e.element.attr("title")});return e.disabled&&this._addClass(n,null,"ui-state-disabled"),this._setText(i,e.label),n.append(i).appendTo(t)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),(i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](r).eq(-1):n[t+"All"](r).eq(0)).length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(a(t.target).closest(".ui-selectmenu-menu, #"+a.ui.escapeSelector(this.ids.button)).length||this.close(t))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(t){var e=!0;switch(t.keyCode){case a.ui.keyCode.TAB:case a.ui.keyCode.ESCAPE:this.close(t),e=!1;break;case a.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case a.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case a.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case a.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case a.ui.keyCode.LEFT:this._move("prev",t);break;case a.ui.keyCode.RIGHT:this._move("next",t);break;case a.ui.keyCode.HOME:case a.ui.keyCode.PAGE_UP:this._move("first",t);break;case a.ui.keyCode.END:case a.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),e=!1}e&&t.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),
this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?a(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;!1!==t?(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(t){var n=this,i=[];t.each(function(t,e){i.push(n._parseOption(a(e),t))}),this.items=i},_parseOption:function(t,e){var n=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}])}),function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../keycode","../version","../widget"],t):t(jQuery)}(function(c){return c.widget("ui.slider",c.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,e,n=this.options,i=this.element.find(".ui-slider-handle"),r="<span tabindex='0'></span>",o=[];for(e=n.values&&n.values.length||1,i.length>e&&(i.slice(e).remove(),i=i.slice(0,e)),t=i.length;t<e;t++)o.push(r);this.handles=i.add(c(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(t){c(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:c.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=c("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var e,n,i,r,o,a,s,u=this,l=this.options;return!l.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(n-u.values(t));(e<i||i===e&&(t===u._lastChangedValue||u.values(t)===l.min))&&(i=e,r=c(this),o=t)}),!1!==this._start(t,o)&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(r,null,"ui-state-active"),r.trigger("focus"),a=r.offset(),s=!c(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=s?{left:0,top:0}:{left:t.pageX-a.left-r.width()/2,top:t.pageY-a.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,n),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),1<(i=n/e)&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_uiHash:function(t,e,n){var i={handle:this.handles[t],handleIndex:t,value:e!==undefined?e:this.value()};return this._hasMultipleValues()&&(i.value=e!==undefined?e:this.values(t),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,n){var i,r=this.value(),o=this.values();this._hasMultipleValues()&&(i=this.values(e?0:1),r=this.values(e),2===this.options.values.length&&!0===this.options.range&&(n=0===e?Math.min(i,n):Math.max(i,n)),o[e]=n),n!==r&&!1!==this._trigger("slide",t,this._uiHash(e,n,o))&&(this._hasMultipleValues()?this.values(e,n):this.value(n))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,e){var n,i,r;if(1<arguments.length)return this.options.values[t]=this._trimAlignValue(e),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!c.isArray(t))return this._hasMultipleValues()?this._values(t):this.value();for(n=this.options.values,i=t,r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(i[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,e){var n,i=0;switch("range"===t&&!0===this.options.range&&("min"===e?(this.options.value=this._values(0),this.options.values=null):"max"===e&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),c.isArray(this.options.values)&&(i=this.options.values.length),this._super(t,e),t){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(e),this.handles.css("horizontal"===e?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=i-1;0<=n;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=0<this.options.step?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=0<n?e:-e),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step;(t=Math.round((t-e)/n)*n+e)>this.options.max&&(t-=n),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,n,t,i,r,o=this.options.range,a=this.options,s=this,u=!this._animateOff&&a.animate,l={};this._hasMultipleValues()?this.handles.each(function(t){n=(s.values(t)-s._valueMin())/(s._valueMax()-s._valueMin())*100,l["horizontal"===s.orientation?"left":"bottom"]=n+"%",c(this).stop(1,1)[u?"animate":"css"](l,a.animate),!0===s.options.range&&("horizontal"===s.orientation?(0===t&&s.range.stop(1,1)[u?"animate":"css"]({left:n+"%"},a.animate),1===t&&s.range[u?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:a.animate})):(0===t&&s.range.stop(1,1)[u?"animate":"css"]({bottom:n+"%"},a.animate),1===t&&s.range[u?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:a.animate}))),e=n}):(t=this.value(),i=this._valueMin(),r=this._valueMax(),n=r!==i?(t-i)/(r-i)*100:0,l["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[u?"animate":"css"](l,a.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:n+"%"},a.animate),"max"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:100-n+"%"},a.animate),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:n+"%"},a.animate),"max"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:100-n+"%"},a.animate))},_handleEvents:{keydown:function(t){var e,n,i,r=c(t.target).data("ui-slider-handle-index");switch(t.keyCode){case c.ui.keyCode.HOME:case c.ui.keyCode.END:case c.ui.keyCode.PAGE_UP:case c.ui.keyCode.PAGE_DOWN:case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(c(t.target),null,"ui-state-active"),!1===this._start(t,r)))return}switch(i=this.options.step,e=n=this._hasMultipleValues()?this.values(r):this.value(),t.keyCode){case c.ui.keyCode.HOME:n=this._valueMin();break;case c.ui.keyCode.END:n=this._valueMax();break;case c.ui.keyCode.PAGE_UP:n=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/this.numPages);break;case c.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/this.numPages);break;case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:if(e===this._valueMax())return;n=this._trimAlignValue(e+i);break;case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:if(e===this._valueMin())return;n=this._trimAlignValue(e-i)}this._slide(t,r,n)},keyup:function(t){var e=c(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,e),this._change(t,e),this._removeClass(c(t.target),null,"ui-state-active"))}}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../data","../ie","../scroll-parent","../version","../widget"],t):t(jQuery)}(function(d){return d.widget("ui.sortable",d.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return e<=t&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),d.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;0<=t;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,e){var n=null,i=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),d(t.target).parents().each(function(){if(d.data(this,r.widgetName+"-item")===r)return n=d(this),!1}),d.data(t.target,r.widgetName+"-item")===r&&(n=d(t.target)),!!n&&(!(this.options.handle&&!e&&(d(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(i=!0)}),!i))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,e,n){var i,r,o=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},d.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",o.cursor),this.storedStylesheet=d("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(r)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(i=this.containers.length-1;0<=i;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return d.ui.ddmanager&&(d.ui.ddmanager.current=this),d.ui.ddmanager&&!o.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,n,i,r,o=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==a&&d.ui.ddmanager&&!o.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;0<=e;e--)if(i=(n=this.items[e]).item[0],(r=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(i===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===i||d.contains(this.placeholder[0],i)||"semi-dynamic"===this.options.type&&d.contains(this.element[0],i))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),d.ui.ddmanager&&d.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){if(t){if(d.ui.ddmanager&&!this.options.dropBehaviour&&d.ui.ddmanager.drop(this,t),this.options.revert){var n=this,i=this.placeholder.offset(),r=this.options.axis,o={};r&&"x"!==r||(o.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(o.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,d(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,e);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new d.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;0<=t;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),d.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?d(this.domPosition.prev).after(this.currentItem):d(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var t=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},d(t).each(function(){var t=(d(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);t&&n.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e.each(function(){n.push(d(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,a=o+t.width,s=t.top,u=s+t.height,l=this.offset.click.top,c=this.offset.click.left,h="x"===this.options.axis||s<i+l&&i+l<u,f="y"===this.options.axis||o<e+c&&e+c<a,d=h&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?d:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<u},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!i||!r)&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(0<t?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(0<t?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){function e(){a.push(this)}var n,i,r,o,a=[],s=[],u=this._connectWith();if(u&&t)for(n=u.length-1;0<=n;n--)for(i=(r=d(u[n],this.document[0])).length-1;0<=i;i--)(o=d.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&s.push([d.isFunction(o.options.items)?o.options.items.call(o.element):d(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(s.push([d.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):d(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=s.length-1;0<=n;n--)s[n][0].each(e);return d(a)},_removeCurrentsFromItems:function(){var n=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=d.grep(this.items,function(t){for(var e=0;e<n.length;e++)if(n[e]===t.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var e,n,i,r,o,a,s,u,l=this.items,c=[[d.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):d(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(e=h.length-1;0<=e;e--)for(n=(i=d(h[e],this.document[0])).length-1;0<=n;n--)(r=d.data(i[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&(c.push([d.isFunction(r.options.items)?r.options.items.call(r.element[0],t,{item:this.currentItem}):d(r.options.items,r.element),r]),this.containers.push(r));for(e=c.length-1;0<=e;e--)for(o=c[e][1],n=0,u=(a=c[e][0]).length;n<u;n++)(s=d(a[n])).data(this.widgetName+"-item",o),l.push({item:s,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var e,n,i,r;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),e=this.items.length-1;0<=e;e--)(n=this.items[e]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?d(this.options.toleranceElement,n.item):n.item,t||(n.width=i.outerWidth(),n.height=i.outerHeight()),r=i.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--)r=this.containers[e].element.offset(),this.containers[e].containerCache.left=r.left,this.containers[e].containerCache.top=r.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(n){var i,r=(n=n||this).options;r.placeholder&&r.placeholder.constructor!==String||(i=r.placeholder,r.placeholder={element:function(){var t=n.currentItem[0].nodeName.toLowerCase(),e=d("<"+t+">",n.document[0]);return n._addClass(e,"ui-sortable-placeholder",i||n.currentItem[0].className)._removeClass(e,"ui-sortable-helper"),"tbody"===t?n._createTrPlaceholder(n.currentItem.find("tr").eq(0),d("<tr>",n.document[0]).appendTo(e)):"tr"===t?n._createTrPlaceholder(n.currentItem,e):"img"===t&&e.attr("src",n.currentItem.attr("src")),i||e.css("visibility","hidden"),e},update:function(t,e){i&&!r.forcePlaceholderSize||(e.height()||e.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}),n.placeholder=d(r.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),r.placeholder.update(n,n.placeholder)},_createTrPlaceholder:function(t,e){var n=this;t.children().each(function(){d("<td>&#160;</td>",n.document[0]).attr("colspan",d(this).attr("colspan")||1).appendTo(e)})},_contactContainers:function(t){var e,n,i,r,o,a,s,u,l,c,h=null,f=null;for(e=this.containers.length-1;0<=e;e--)if(!d.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(h&&d.contains(this.containers[e].element[0],h.element[0]))continue;h=this.containers[e],f=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",t,this._uiHash(this)),this.containers[e].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(i=1e4,r=null,o=(l=h.floating||this._isFloating(this.currentItem))?"left":"top",a=l?"width":"height",c=l?"pageX":"pageY",n=this.items.length-1;0<=n;n--)d.contains(this.containers[f].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(s=this.items[n].item.offset()[o],u=!1,t[c]-s>this.items[n][a]/2&&(u=!0),Math.abs(t[c]-s)<i&&(i=Math.abs(t[c]-s),r=this.items[n],this.direction=u?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(t,r,null,!0):this._rearrange(t,null,this.containers[f].element,!0),this._trigger("change",t,this._uiHash()),this.containers[f]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(t){var e=this.options,n=d.isFunction(e.helper)?d(e.helper.apply(this.element[0],[t,this.currentItem])):"clone"===e.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||d("parent"!==e.appendTo?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!e.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!e.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),d.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&d.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&d.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,n,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=d(i.containment)[0],e=d(i.containment).offset(),n="hidden"!==d(t).css("overflow"),this.containment=[e.left+(parseInt(d(t).css("borderLeftWidth"),10)||0)+(parseInt(d(t).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(d(t).css("borderTopWidth"),10)||0)+(parseInt(d(t).css("paddingTop"),10)||0)-this.margins.top,e.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(d(t).css("borderLeftWidth"),10)||0)-(parseInt(d(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(d(t).css("borderTopWidth"),10)||0)-(parseInt(d(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&d.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(i[0].tagName);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:i.scrollTop())*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:i.scrollLeft())*n}},_generatePosition:function(t){var e,n,i=this.options,r=t.pageX,o=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&d.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(a[0].tagName)
;return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),i.grid&&(e=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1],o=this.containment?e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-i.grid[1]:e+i.grid[1]:e,n=this.originalPageX+Math.round((r-this.originalPageX)/i.grid[0])*i.grid[0],r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-i.grid[0]:n+i.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(e,n,i){return function(t){i._trigger(e,t,n._uiHash(n))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;0<=i;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===d.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||d([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./button","../version","../keycode","../safe-active-element","../widget"],t):t(jQuery)}(function(o){function e(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}return o.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var i=this._super(),r=this.element;return o.each(["min","max","step"],function(t,e){var n=r.attr(e);null!=n&&n.length&&(i[e]=n)}),i},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((0<e?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(t){function e(){this.element[0]===o.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===o.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),t.preventDefault(),e.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,e.call(this)}),!1!==this._start(t)&&this._repeat(null,o(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(o(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,o(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&0<this.uiSpinner.height()&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var e=this.options,n=o.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,e.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-e.page,t),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:n})||(this._value(n),this.counter++)},_increment:function(t){var e=this.options.incremental;return e?o.isFunction(e)?e(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return n=t-(e=null!==i.min?i.min:0),t=e+(n=Math.round(n/i.step)*i.step),t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&t<i.min?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var n,i,r;if("culture"===t||"numberFormat"===t)return n=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(n));"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,e.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,e.down)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:e(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&null!==(n=this._parse(t))&&(e||(n=this._adjustValue(n)),t=this._format(n)),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());e(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),!1!==o.uiBackCompat&&o.widget("ui.spinner",o.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),o.ui.spinner}),function(t){"function"==typeof define&&define.amd?define(["jquery","../escape-selector","../keycode","../safe-active-element","../unique-id","../version","../widget"],t):t(jQuery)}(function(l){var r;return l.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(r=/#.*$/,function(t){var e,n;e=t.href.replace(r,""),n=location.href.replace(r,"");try{e=decodeURIComponent(e)}catch(i){}try{n=decodeURIComponent(n)}catch(i){}return 1<t.hash.length&&e===n}),_create:function(){var e=this,t=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,t.collapsible),this._processTabs(),t.active=this._initialActive(),l.isArray(t.disabled)&&(t.disabled=l.unique(t.disabled.concat(l.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(t.active):this.active=l(),this._refresh(),this.active.length&&this.load(t.active)},_initialActive:function(){var n=this.options.active,t=this.options.collapsible,i=location.hash.substring(1);return null===n&&(i&&this.tabs.each(function(t,e){if(l(e).attr("aria-controls")===i)return n=t,!1}),null===n&&(n=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==n&&-1!==n||(n=!!this.tabs.length&&0)),!1!==n&&-1===(n=this.tabs.index(this.tabs.eq(n)))&&(n=!t&&0),!t&&!1===n&&this.anchors.length&&(n=0),n},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):l()}},_tabKeydown:function(t){var e=l(l.ui.safeActiveElement(this.document[0])).closest("li"),n=this.tabs.index(e),i=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case l.ui.keyCode.RIGHT:case l.ui.keyCode.DOWN:n++;break;case l.ui.keyCode.UP:case l.ui.keyCode.LEFT:i=!1,n--;break;case l.ui.keyCode.END:n=this.anchors.length-1;break;case l.ui.keyCode.HOME:n=0;break;case l.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case l.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,i),t.ctrlKey||t.metaKey||(e.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===l.ui.keyCode.UP&&(t.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(t){return t.altKey&&t.keyCode===l.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===l.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,e){function n(){return i<t&&(t=0),t<0&&(t=i),t}for(var i=this.tabs.length-1;-1!==l.inArray(n(),this.options.disabled);)t=e?t+1:t-1;return t},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){"active"!==t?(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,e=this.tablist.children(":has(a[href])");t.disabled=l.map(e.filter(".ui-state-disabled"),function(t){return e.index(t)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!l.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=l()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=l()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var u=this,t=this.tabs,e=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(t){l(this).is(".ui-state-disabled")&&t.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){l(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return l("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=l(),this.anchors.each(function(t,e){var n,i,r,o=l(e).uniqueId().attr("id"),a=l(e).closest("li"),s=a.attr("aria-controls");u._isLocal(e)?(r=(n=e.hash).substring(1),i=u.element.find(u._sanitizeSelector(n))):(n="#"+(r=a.attr("aria-controls")||l({}).uniqueId()[0].id),(i=u.element.find(n)).length||(i=u._createPanel(r)).insertAfter(u.panels[t-1]||u.tablist),i.attr("aria-live","polite")),i.length&&(u.panels=u.panels.add(i)),s&&a.data("ui-tabs-aria-controls",s),a.attr({"aria-controls":r,"aria-labelledby":o}),i.attr("aria-labelledby",o)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),t&&(this._off(t.not(this.tabs)),this._off(e.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(t){return l("<div>").attr("id",t).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(t){var e,n,i;for(l.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1),i=0;n=this.tabs[i];i++)e=l(n),!0===t||-1!==l.inArray(i,t)?(e.attr("aria-disabled","true"),this._addClass(e,null,"ui-state-disabled")):(e.removeAttr("aria-disabled"),this._removeClass(e,null,"ui-state-disabled"));this.options.disabled=t,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===t)},_setupEvents:function(t){var n={};t&&l.each(t.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,e=this.element.parent();"fill"===t?(n=e.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=l(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(n-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=l(this).outerHeight(!0)}),this.panels.each(function(){l(this).height(Math.max(0,n-l(this).innerHeight()+l(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each(function(){n=Math.max(n,l(this).height("").height())}).height(n))},_eventHandler:function(t){var e=this.options,n=this.active,i=l(t.currentTarget).closest("li"),r=i[0]===n[0],o=r&&e.collapsible,a=o?l():this._getPanelForTab(i),s=n.length?this._getPanelForTab(n):l(),u={oldTab:n,oldPanel:s,newTab:o?l():i,newPanel:a};t.preventDefault(),i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||r&&!e.collapsible||!1===this._trigger("beforeActivate",t,u)||(e.active=!o&&this.tabs.index(i),this.active=r?l():i,this.xhr&&this.xhr.abort(),s.length||a.length||l.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(i),t),this._toggle(t,u))},_toggle:function(t,e){function n(){r.running=!1,r._trigger("activate",t,e)}function i(){r._addClass(e.newTab.closest("li"),"ui-tabs-active","ui-state-active"),o.length&&r.options.show?r._show(o,r.options.show,n):(o.show(),n())}var r=this,o=e.newPanel,a=e.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){r._removeClass(e.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),i()}):(this._removeClass(e.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a.hide(),i()),a.attr("aria-hidden","true"),e.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&a.length?e.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===l(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),e.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var e,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),e=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:e,currentTarget:e,preventDefault:l.noop}))},_findActive:function(t){return!1===t?l():this.tabs.eq(t)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+l.ui.escapeSelector(t)+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){l.data(this,"ui-tabs-destroy")?l(this).remove():l(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var t=l(this),e=t.data("ui-tabs-aria-controls");e?t.attr("aria-controls",e).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(n){var t=this.options.disabled;!1!==t&&(n===undefined?t=!1:(n=this._getIndex(n),t=l.isArray(t)?l.map(t,function(t){return t!==n?t:null}):l.map(this.tabs,function(t,e){return e!==n?e:null})),this._setOptionDisabled(t))},disable:function(t){var e=this.options.disabled;if(!0!==e){if(t===undefined)e=!0;else{if(t=this._getIndex(t),-1!==l.inArray(t,e))return;e=l.isArray(e)?l.merge([t],e).sort():[t]}this._setOptionDisabled(e)}},load:function(t,i){t=this._getIndex(t);var r=this,n=this.tabs.eq(t),e=n.find(".ui-tabs-anchor"),o=this._getPanelForTab(n),a={tab:n,panel:o},s=function(t,e){"abort"===e&&r.panels.stop(!1,!0),r._removeClass(n,"ui-tabs-loading"),o.removeAttr("aria-busy"),t===r.xhr&&delete r.xhr};this._isLocal(e[0])||(this.xhr=l.ajax(this._ajaxSettings(e,i,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(t,e,n){setTimeout(function(){o.html(t),r._trigger("load",i,a),s(n,e)},1)}).fail(function(t,e){setTimeout(function(){s(t,e)},1)})))},_ajaxSettings:function(t,n,i){var r=this;return{url:t.attr("href").replace(/#.*$/,""),beforeSend:function(t,e){return r._trigger("beforeLoad",n,l.extend({jqXHR:t,ajaxSettings:e},i))}}},_getPanelForTab:function(t){var e=l(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+e))}}),!1!==l.uiBackCompat&&l.widget("ui.tabs",l.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),l.ui.tabs}),function(t){"function"==typeof define&&define.amd?define(["jquery","../keycode","../position","../unique-id","../version","../widget"],t):t(jQuery)}(function(l){return l.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var t=l(this).attr("title")||"";return l("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(t,e){var n=(t.attr("aria-describedby")||"").split(/\s+/);n.push(e),t.data("ui-tooltip-id",e).attr("aria-describedby",l.trim(n.join(" ")))},_removeDescribedBy:function(t){var e=t.data("ui-tooltip-id"),n=(t.attr("aria-describedby")||"").split(/\s+/),i=l.inArray(e,n);-1!==i&&n.splice(i,1),t.removeData("ui-tooltip-id"),(n=l.trim(n.join(" ")))?t.attr("aria-describedby",n):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=l("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=l([])},_setOption:function(t,e){var n=this;this._super(t,e),"content"===t&&l.each(this.tooltips,function(t,e){n._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var i=this;l.each(this.tooltips,function(t,e){var n=l.Event("blur");n.target=n.currentTarget=e.element[0],i.close(n,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var t=l(this);if(t.is("[title]"))return t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var t=l(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))}),this.disabledTitles=l([])},open:function(t){var n=this,e=l(t?t.target:this.element).closest(this.options.items);e.length&&!e.data("ui-tooltip-id")&&(e.attr("title")&&e.data("ui-tooltip-title",e.attr("title")),e.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&e.parents().each(function(){var t,e=l(this);e.data("ui-tooltip-open")&&((t=l.Event("blur")).target=t.currentTarget=this,n.close(t,!0)),e.attr("title")&&(e.uniqueId(),n.parents[this.id]={element:this,title:e.attr("title")},e.attr("title",""))}),this._registerCloseHandlers(t,e),this._updateContent(e,t))},_updateContent:function(e,n){var t,i=this.options.content,r=this,o=n?n.type:null;if("string"==typeof i||i.nodeType||i.jquery)return this._open(n,e,i);(t=i.call(e[0],function(t){r._delay(function(){e.data("ui-tooltip-open")&&(n&&(n.type=o),this._open(n,e,t))})}))&&this._open(n,e,t)},_open:function(t,e,n){function i(t){u.of=t,o.is(":hidden")||o.position(u)}var r,o,a,s,u=l.extend({},this.options.position);n&&((r=this._find(e))?r.tooltip.find(".ui-tooltip-content").html(n):(e.is("[title]")&&(t&&"mouseover"===t.type?e.attr("title",""):e.removeAttr("title")),r=this._tooltip(e),o=r.tooltip,this._addDescribedBy(e,o.attr("id")),o.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),(s=l("<div>").html(o.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),s.removeAttr("id").find("[id]").removeAttr("id"),s.appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:i}),i(t)):o.position(l.extend({of:e},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){o.is(":visible")&&(i(u.of),clearInterval(a))},l.fx.interval)),this._trigger("open",t,{tooltip:o})))},_registerCloseHandlers:function(t,n){var e={keyup:function(t){if(t.keyCode===l.ui.keyCode.ESCAPE){var e=l.Event(t);e.currentTarget=n[0],this.close(e,!0)}}};n[0]!==this.element[0]&&(e.remove=function(){this._removeTooltip(this._find(n).tooltip)}),t&&"mouseover"!==t.type||(e.mouseleave="close"),t&&"focusin"!==t.type||(e.focusout="close"),this._on(!0,n,e)},close:function(t){var e,n=this,i=l(t?t.currentTarget:this.element),r=this._find(i);r?(e=r.tooltip,r.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),r.hiding=!0,e.stop(!0),this._hide(e,this.options.hide,function(){n._removeTooltip(l(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&l.each(this.parents,function(t,e){l(e.element).attr("title",e.title),delete n.parents[t]}),r.closing=!0,this._trigger("close",t,{tooltip:e}),r.hiding||(r.closing=!1))):i.removeData("ui-tooltip-open")},_tooltip:function(t){var e=l("<div>").attr("role","tooltip"),n=l("<div>").appendTo(e),i=e.uniqueId().attr("id");return this._addClass(n,"ui-tooltip-content"),this._addClass(e,"ui-tooltip","ui-widget ui-widget-content"),e.appendTo(this._appendTo(t)),this.tooltips[i]={element:t,tooltip:e}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var r=this;l.each(this.tooltips,function(t,e){var n=l.Event("blur"),i=e.element;n.target=n.currentTarget=i[0],r.close(n,!0),l("#"+t).remove(),i.data("ui-tooltip-title")&&(i.attr("title")||i.attr("title",i.data("ui-tooltip-title")),i.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==l.uiBackCompat&&l.widget("ui.tooltip",l.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),l.ui.tooltip}),function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Spinner=e()}(this,function(){"use strict";function f(t,e){var n,i=document.createElement(t||"div");for(n in e)i[n]=e[n];return i}function c(t){for(var e=1,n=arguments.length;e<n;e++)t.appendChild(arguments[e]);return t}function a(t,e,n,i){var r=["opacity",e,~~(100*t),n,i].join("-"),o=.01+n/i*100,a=Math.max(1-(1-t)/e*(100-o),t),s=p.substring(0,p.indexOf("Animation")).toLowerCase(),u=s&&"-"+s+"-"||"";return l[r]||(g.insertRule("@"+u+"keyframes "+r+"{0%{opacity:"+a+"}"+o+"%{opacity:"+t+"}"+(o+.01)+"%{opacity:1}"+(o+e)%100+"%{opacity:"+t+"}100%{opacity:"+a+"}}",g.cssRules.length),l[r]=1),r}function i(t,e){var n,i,r=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<o.length;i++)if(r[n=o[i]+e]!==undefined)return n;if(r[e]!==undefined)return e}function d(t,e){for(var n in e)t.style[i(t,n)||n]=e[n];return t}function e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]===undefined&&(t[i]=n[i])}return t}function h(t,e){return"string"==typeof t?t:t[e%t.length]}function n(t){this.opts=e(t||{},n.defaults,s)}function t(){function l(t,e){return f("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}g.addRule(".spin-vml","behavior:url(#default#VML)"),n.prototype.lines=function(t,i){function r(){return d(l("group",{coordsize:a+" "+a,coordorigin:-o+" "+-o}),{width:a,height:a})}function e(t,e,n){c(u,c(d(r(),{rotation:360/i.lines*t+"deg",left:~~e}),c(d(l("roundrect",{arcsize:i.corners}),{width:o,height:i.width,left:i.radius,top:-i.width>>1,filter:n}),l("fill",{color:h(i.color,t),opacity:i.opacity}),l("stroke",{opacity:0}))))}var n,o=i.length+i.width,a=2*o,s=2*-(i.width+i.length)+"px",u=d(r(),{position:"absolute",top:s,left:s});if(i.shadow)for(n=1;n<=i.lines;n++)e(n,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(n=1;n<=i.lines;n++)e(n);return c(t,u)},n.prototype.opacity=function(t,e,n,i){var r=t.firstChild;i=i.shadow&&i.lines||0,r&&e+i<r.childNodes.length&&(r=(r=(r=r.childNodes[e+i])&&r.firstChild)&&r.firstChild)&&(r.opacity=n)}}var p,r,o=["webkit","Moz","ms","O"],l={},g=(r=f("style",{type:"text/css"}),c(document.getElementsByTagName("head")[0],r),r.sheet||r.styleSheet),s={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};n.defaults={},e(n.prototype,{spin:function(e){this.stop();var n=this,i=n.opts,r=n.el=d(f(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex});i.radius,i.length,i.width;if(d(r,{left:i.left,top:i.top}),e&&e.insertBefore(r,e.firstChild||null),r.setAttribute("role","progressbar"),n.lines(r,n.opts),!p){var o,a=0,s=(i.lines-1)*(1-i.direction)/2,u=i.fps,l=u/i.speed,c=(1-i.opacity)/(l*i.trail/100),h=l/i.lines;!function t(){a++;for(var e=0;e<i.lines;e++)o=Math.max(1-(a+(i.lines-e)*h)%l*c,i.opacity),n.opacity(r,e*i.direction+s,o,i);n.timeout=n.el&&setTimeout(t,~~(1e3/u))}()}return n},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=undefined),this},lines:function(t,n){function e(t,e){return d(f(),{position:"absolute",width:n.length+n.width+"px",height:n.width+"px",background:t,boxShadow:e,
transformOrigin:"left",transform:"rotate("+~~(360/n.lines*r+n.rotate)+"deg) translate("+n.radius+"px,0)",borderRadius:(n.corners*n.width>>1)+"px"})}for(var i,r=0,o=(n.lines-1)*(1-n.direction)/2;r<n.lines;r++)i=d(f(),{position:"absolute",top:1+~(n.width/2)+"px",transform:n.hwaccel?"translate3d(0,0,0)":"",opacity:n.opacity,animation:p&&a(n.opacity,n.trail,o+r*n.direction,n.lines)+" "+1/n.speed+"s linear infinite"}),n.shadow&&c(i,d(e("#000","0 0 4px #000"),{top:"2px"})),c(t,c(i,e(h(n.color,r),"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}});var u=d(f("group"),{behavior:"url(#default#VML)"});return!i(u,"transform")&&u.adj?t():p=i(u,"animation"),n}),function(o){o.fn.spin=function(n,i){var r={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}};if(Spinner)return this.each(function(){var t=o(this),e=t.data();e.spinner&&(e.spinner.stop(),delete e.spinner),!1!==n&&("string"==typeof n&&(n=n in r?r[n]:{},i&&(n.color=i)),e.spinner=new Spinner(o.extend({color:t.css("color")},n)).spin(this))});throw"Spinner class not available."}}(jQuery),function(i){"use strict";function t(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(t.style[n]!==undefined)return{end:e[n]};return!1}i.fn.emulateTransitionEnd=function(t){var e=!1,n=this;return i(this).one("bsTransitionEnd",function(){e=!0}),setTimeout(function(){e||i(n).trigger(i.support.transition.end)},t),this},i(function(){i.support.transition=t(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(t){if(i(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(o){"use strict";function t(n){return this.each(function(){var t=o(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new a(this)),"string"==typeof n&&e[n].call(t)})}var e='[data-dismiss="alert"]',a=function(t){o(t).on("click",e,this.close)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.close=function(t){function e(){r.detach().trigger("closed.bs.alert").remove()}var n=o(this),i=n.attr("data-target");i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""));var r=o("#"===i?[]:i);t&&t.preventDefault(),r.length||(r=n.closest(".alert")),r.trigger(t=o.Event("close.bs.alert")),t.isDefaultPrevented()||(r.removeClass("in"),o.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(a.TRANSITION_DURATION):e())};var n=o.fn.alert;o.fn.alert=t,o.fn.alert.Constructor=a,o.fn.alert.noConflict=function(){return o.fn.alert=n,this},o(document).on("click.bs.alert.data-api",e,a.prototype.close)}(jQuery),function(o){"use strict";function n(i){return this.each(function(){var t=o(this),e=t.data("bs.button"),n="object"==typeof i&&i;e||t.data("bs.button",e=new r(this,n)),"toggle"==i?e.toggle():i&&e.setState(i)})}var r=function(t,e){this.$element=o(t),this.options=o.extend({},r.DEFAULTS,e),this.isLoading=!1};r.VERSION="3.3.7",r.DEFAULTS={loadingText:"loading..."},r.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",r=n.data();t+="Text",null==r.resetText&&n.data("resetText",n[i]()),setTimeout(o.proxy(function(){n[i](null==r[t]?this.options[t]:r[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(e).attr(e,e).prop(e,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(e).removeAttr(e).prop(e,!1))},this),0)},r.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var t=o.fn.button;o.fn.button=n,o.fn.button.Constructor=r,o.fn.button.noConflict=function(){return o.fn.button=t,this},o(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=o(t.target).closest(".btn");n.call(e,"toggle"),o(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),e.is("input,button")?e.trigger("focus"):e.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){o(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(h){"use strict";function a(r){return this.each(function(){var t=h(this),e=t.data("bs.carousel"),n=h.extend({},f.DEFAULTS,t.data(),"object"==typeof r&&r),i="string"==typeof r?r:n.slide;e||t.data("bs.carousel",e=new f(this,n)),"number"==typeof r?e.to(r):i?e[i]():n.interval&&e.pause().cycle()})}var f=function(t,e){this.$element=h(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",h.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",h.proxy(this.pause,this)).on("mouseleave.bs.carousel",h.proxy(this.cycle,this))};f.VERSION="3.3.7",f.TRANSITION_DURATION=600,f.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},f.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},f.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(h.proxy(this.next,this),this.options.interval)),this},f.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},f.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},f.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",this.$items.eq(t))},f.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&h.support.transition&&(this.$element.trigger(h.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},f.prototype.next=function(){if(!this.sliding)return this.slide("next")},f.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},f.prototype.slide=function(t,e){var n=this.$element.find(".item.active"),i=e||this.getItemForDirection(t,n),r=this.interval,o="next"==t?"left":"right",a=this;if(i.hasClass("active"))return this.sliding=!1;var s=i[0],u=h.Event("slide.bs.carousel",{relatedTarget:s,direction:o});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=h(this.$indicators.children()[this.getItemIndex(i)]);l&&l.addClass("active")}var c=h.Event("slid.bs.carousel",{relatedTarget:s,direction:o});return h.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,n.addClass(o),i.addClass(o),n.one("bsTransitionEnd",function(){i.removeClass([t,o].join(" ")).addClass("active"),n.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(c)},0)}).emulateTransitionEnd(f.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(c)),r&&this.cycle(),this}};var t=h.fn.carousel;h.fn.carousel=a,h.fn.carousel.Constructor=f,h.fn.carousel.noConflict=function(){return h.fn.carousel=t,this};var e=function(t){var e,n=h(this),i=h(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var r=h.extend({},i.data(),n.data()),o=n.attr("data-slide-to");o&&(r.interval=!1),a.call(i,r),o&&i.data("bs.carousel").to(o),t.preventDefault()}};h(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),h(window).on("load",function(){h('[data-ride="carousel"]').each(function(){var t=h(this);a.call(t,t.data())})})}(jQuery),function(a){"use strict";function r(t){var e,n=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return a(n)}function s(i){return this.each(function(){var t=a(this),e=t.data("bs.collapse"),n=a.extend({},u.DEFAULTS,t.data(),"object"==typeof i&&i);!e&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),e||t.data("bs.collapse",e=new u(this,n)),"string"==typeof i&&e[i]()})}var u=function(t,e){this.$element=a(t),this.options=a.extend({},u.DEFAULTS,e),this.$trigger=a('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};u.VERSION="3.3.7",u.TRANSITION_DURATION=350,u.DEFAULTS={toggle:!0},u.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},u.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(t=e.data("bs.collapse"))&&t.transitioning)){var n=a.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){e&&e.length&&(s.call(e,"hide"),t||e.data("bs.collapse",null));var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return r.call(this);var o=a.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",a.proxy(r,this)).emulateTransitionEnd(u.TRANSITION_DURATION)[i](this.$element[0][o])}}}},u.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=a.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!a.support.transition)return n.call(this);this.$element[e](0).one("bsTransitionEnd",a.proxy(n,this)).emulateTransitionEnd(u.TRANSITION_DURATION)}}},u.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},u.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(t,e){var n=a(e);this.addAriaAndCollapsedClass(r(n),n)},this)).end()},u.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var t=a.fn.collapse;a.fn.collapse=s,a.fn.collapse.Constructor=u,a.fn.collapse.noConflict=function(){return a.fn.collapse=t,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=a(this);e.attr("data-target")||t.preventDefault();var n=r(e),i=n.data("bs.collapse")?"toggle":e.data();s.call(n,i)})}(jQuery),function(s){"use strict";function u(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var n=e&&s(e);return n&&n.length?n:t.parent()}function o(i){i&&3===i.which||(s(e).remove(),s(l).each(function(){var t=s(this),e=u(t),n={relatedTarget:this};e.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&s.contains(e[0],i.target)||(e.trigger(i=s.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger(s.Event("hidden.bs.dropdown",n)))))}))}function t(n){return this.each(function(){var t=s(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new i(this)),"string"==typeof n&&e[n].call(t)})}var e=".dropdown-backdrop",l='[data-toggle="dropdown"]',i=function(t){s(t).on("click.bs.dropdown",this.toggle)};i.VERSION="3.3.7",i.prototype.toggle=function(t){var e=s(this);if(!e.is(".disabled, :disabled")){var n=u(e),i=n.hasClass("open");if(o(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&s(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(s(this)).on("click",o);var r={relatedTarget:this};if(n.trigger(t=s.Event("show.bs.dropdown",r)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger(s.Event("shown.bs.dropdown",r))}return!1}},i.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=s(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=u(e),i=n.hasClass("open");if(!i&&27!=t.which||i&&27==t.which)return 27==t.which&&n.find(l).trigger("focus"),e.trigger("click");var r=" li:not(.disabled):visible a",o=n.find(".dropdown-menu"+r);if(o.length){var a=o.index(t.target);38==t.which&&0<a&&a--,40==t.which&&a<o.length-1&&a++,~a||(a=0),o.eq(a).trigger("focus")}}}};var n=s.fn.dropdown;s.fn.dropdown=t,s.fn.dropdown.Constructor=i,s.fn.dropdown.noConflict=function(){return s.fn.dropdown=n,this},s(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",l,i.prototype.toggle).on("keydown.bs.dropdown.data-api",l,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery),function(o){"use strict";function a(i,r){return this.each(function(){var t=o(this),e=t.data("bs.modal"),n=o.extend({},s.DEFAULTS,t.data(),"object"==typeof i&&i);e||t.data("bs.modal",e=new s(this,n)),"string"==typeof i?e[i](r):n.show&&e.show(r)})}var s=function(t,e){this.options=e,this.$body=o(document.body),this.$element=o(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,o.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};s.VERSION="3.3.7",s.TRANSITION_DURATION=300,s.BACKDROP_TRANSITION_DURATION=150,s.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},s.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},s.prototype.show=function(n){var i=this,t=o.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',o.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){o(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=o.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),t&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var e=o.Event("shown.bs.modal",{relatedTarget:n});t?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(s.TRANSITION_DURATION):i.$element.trigger("focus").trigger(e)}))},s.prototype.hide=function(t){t&&t.preventDefault(),t=o.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),o(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),o.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",o.proxy(this.hideModal,this)).emulateTransitionEnd(s.TRANSITION_DURATION):this.hideModal())},s.prototype.enforceFocus=function(){o(document).off("focusin.bs.modal").on("focusin.bs.modal",o.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},s.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",o.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},s.prototype.resize=function(){this.isShown?o(window).on("resize.bs.modal",o.proxy(this.handleUpdate,this)):o(window).off("resize.bs.modal")},s.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},s.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},s.prototype.backdrop=function(t){var e=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=o.support.transition&&n;if(this.$backdrop=o(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",o.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){e.removeBackdrop(),t&&t()};o.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):r()}else t&&t()},s.prototype.handleUpdate=function(){this.adjustDialog()},s.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},s.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},s.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},s.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},s.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},s.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=o.fn.modal;o.fn.modal=a,o.fn.modal.Constructor=s,o.fn.modal.noConflict=function(){return o.fn.modal=t,this},o(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=o(this),n=e.attr("href"),i=o(e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=i.data("bs.modal")?"toggle":o.extend({remote:!/#/.test(n)&&n},i.data(),e.data());e.is("a")&&t.preventDefault(),i.one("show.bs.modal",function(t){t.isDefaultPrevented()||i.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),a.call(i,r,this)})}(jQuery),function(s){"use strict";function e(n){return this.each(function(){var t=s(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new a(this)),"string"==typeof n&&e[n]()})}var a=function(t){this.element=s(t)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=e.find(".active:last a"),r=s.Event("hide.bs.tab",{relatedTarget:t[0]}),o=s.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(r),t.trigger(o),!o.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=s(n);this.activate(t.closest("li"),e),this.activate(a,a.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},a.prototype.activate=function(t,e,n){function i(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var r=e.find("> .active"),o=n&&s.support.transition&&(r.length&&r.hasClass("fade")||!!e.find("> .fade").length);r.length&&o?r.one("bsTransitionEnd",i).emulateTransitionEnd(a.TRANSITION_DURATION):i(),r.removeClass("in")};var t=s.fn.tab;s.fn.tab=e,s.fn.tab.Constructor=a,s.fn.tab.noConflict=function(){return s.fn.tab=t,this};var n=function(t){t.preventDefault(),e.call(s(this),"show")};s(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(u){"use strict";function n(i){return this.each(function(){var t=u(this),e=t.data("bs.affix"),n="object"==typeof i&&i;e||t.data("bs.affix",e=new l(this,n)),"string"==typeof i&&e[i]()})}var l=function(t,e){this.options=u.extend({},l.DEFAULTS,e),this.$target=u(this.options.target).on("scroll.bs.affix.data-api",u.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",u.proxy(this.checkPositionWithEventLoop,this)),this.$element=u(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};l.VERSION="3.3.7",l.RESET="affix affix-top affix-bottom",l.DEFAULTS={offset:0,target:window},l.prototype.getState=function(t,e,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=o.top)&&"bottom":!(r+a<=t-i)&&"bottom";var s=null==this.affixed,u=s?r:o.top;return null!=n&&r<=n?"top":null!=i&&t-i<=u+(s?a:e)&&"bottom"},l.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(l.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},l.prototype.checkPositionWithEventLoop=function(){setTimeout(u.proxy(this.checkPosition,this),1)},l.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,n=e.top,i=e.bottom,r=Math.max(u(document).height(),u(document.body).height());"object"!=typeof e&&(i=n=e),"function"==typeof n&&(n=e.top(this.$element)),"function"==typeof i&&(i=e.bottom(this.$element));var o=this.getState(r,t,n,i);if(this.affixed!=o){null!=this.unpin&&this.$element.css("top","");var a="affix"+(o?"-"+o:""),s=u.Event(a+".bs.affix");if(this.$element.trigger(s),s.isDefaultPrevented())return;this.affixed=o,this.unpin="bottom"==o?this.getPinnedOffset():null,this.$element.removeClass(l.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}"bottom"==o&&this.$element.offset({top:r-t-i})}};var t=u.fn.affix;u.fn.affix=n,u.fn.affix.Constructor=l,u.fn.affix.noConflict=function(){return u.fn.affix=t,this},u(window).on("load",function(){u('[data-spy="affix"]').each(function(){var t=u(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),n.call(t,e)})})}(jQuery),function(o){"use strict";function r(t,e){this.$body=o(document.body),this.$scrollElement=o(t).is(document.body)?o(window):o(t),this.options=o.extend({},r.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",o.proxy(this.process,this)),this.refresh(),this.process()}function e(i){return this.each(function(){var t=o(this),e=t.data("bs.scrollspy"),n="object"==typeof i&&i;e||t.data("bs.scrollspy",e=new r(this,n)),"string"==typeof i&&e[i]()})}r.VERSION="3.3.7",r.DEFAULTS={offset:10},r.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},r.prototype.refresh=function(){var t=this,i="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),o.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=o(this),e=t.data("target")||t.attr("href"),n=/^#./.test(e)&&o(e);return n&&n.length&&n.is(":visible")&&[[n[i]().top+r,e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},r.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=e)return a!=(t=o[o.length-1])&&this.activate(t);if(a&&e<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)a!=o[t]&&e>=r[t]&&(r[t+1]===undefined||e<r[t+1])&&this.activate(o[t])},r.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=o(e).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},r.prototype.clear=function(){o(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=o.fn.scrollspy;o.fn.scrollspy=e,o.fn.scrollspy.Constructor=r,o.fn.scrollspy.noConflict=function(){return o.fn.scrollspy=t,this},o(window).on("load.bs.scrollspy.data-api",function(){o('[data-spy="scroll"]').each(function(){var t=o(this);e.call(t,t.data())})})}(jQuery),function(g){"use strict";function t(i){return this.each(function(){var t=g(this),e=t.data("bs.tooltip"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.tooltip",e=new m(this,n)),"string"==typeof i&&e[i]())})}var m=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};m.VERSION="3.3.7",m.TRANSITION_DURATION=150,m.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},m.prototype.init=function(t,e,n){if(this.enabled=!0,this.type=t,this.$element=g(e),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&g(g.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),r=i.length;r--;){var o=i[r];if("click"==o)this.$element.on("click."+this.type,this.options.selector,g.proxy(this.toggle,this));else if("manual"!=o){var a="hover"==o?"mouseenter":"focusin",s="hover"==o?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,g.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,g.proxy(this.leave,this))}}this.options.selector?this._options=g.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},m.prototype.getDefaults=function(){return m.DEFAULTS},m.prototype.getOptions=function(t){return(t=g.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},m.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&g.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)}),n},m.prototype.enter=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState)e.hoverState="in";else{if(clearTimeout(e.timeout),e.hoverState="in",!e.options.delay||!e.options.delay.show)return e.show();e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)}},m.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},m.prototype.leave=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),!e.isInStateTrue()){if(clearTimeout(e.timeout),e.hoverState="out",!e.options.delay||!e.options.delay.hide)return e.hide();e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)}},m.prototype.show=function(){var t=g.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=g.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var n=this,i=this.tip(),r=this.getUID(this.type);this.setContent(),i.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&i.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,s=a.test(o);s&&(o=o.replace(a,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),l=i[0].offsetWidth,c=i[0].offsetHeight;if(s){var h=o,f=this.getPosition(this.$viewport);o="bottom"==o&&u.bottom+c>f.bottom?"top":"top"==o&&u.top-c<f.top?"bottom":"right"==o&&u.right+l>f.width?"left":"left"==o&&u.left-l<f.left?"right":o,i.removeClass(h).addClass(o)}var d=this.getCalculatedOffset(o,u,l,c);this.applyPlacement(d,o);var p=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};g.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",p).emulateTransitionEnd(m.TRANSITION_DURATION):p()}},m.prototype.applyPlacement=function(t,e){var n=this.tip(),i=n[0].offsetWidth,r=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),t.top+=o,t.left+=a,g.offset.setOffset(n[0],g.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in");var s=n[0].offsetWidth,u=n[0].offsetHeight;"top"==e&&u!=r&&(t.top=t.top+r-u);var l=this.getViewportAdjustedDelta(e,t,s,u);l.left?t.left+=l.left:t.top+=l.top;var c=/top|bottom/.test(e),h=c?2*l.left-i+s:2*l.top-r+u,f=c?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(h,n[0][f],c)},m.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},m.prototype.setContent=function(){var t=this.tip(),e=this.getTitle()
;t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},m.prototype.hide=function(t){function e(){"in"!=n.hoverState&&i.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}var n=this,i=g(this.$tip),r=g.Event("hide.bs."+this.type);if(this.$element.trigger(r),!r.isDefaultPrevented())return i.removeClass("in"),g.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(m.TRANSITION_DURATION):e(),this.hoverState=null,this},m.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},m.prototype.hasContent=function(){return this.getTitle()},m.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],n="BODY"==e.tagName,i=e.getBoundingClientRect();null==i.width&&(i=g.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var r=window.SVGElement&&e instanceof window.SVGElement,o=n?{top:0,left:0}:r?null:t.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=n?{width:g(window).width(),height:g(window).height()}:null;return g.extend({},i,a,s,o)},m.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},m.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-o-a.scroll,u=e.top+o-a.scroll+i;s<a.top?r.top=a.top-s:u>a.top+a.height&&(r.top=a.top+a.height-u)}else{var l=e.left-o,c=e.left+o+n;l<a.left?r.left=a.left-l:c>a.right&&(r.left=a.left+a.width-c)}return r},m.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},m.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},m.prototype.tip=function(){if(!this.$tip&&(this.$tip=g(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},m.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},m.prototype.enable=function(){this.enabled=!0},m.prototype.disable=function(){this.enabled=!1},m.prototype.toggleEnabled=function(){this.enabled=!this.enabled},m.prototype.toggle=function(t){var e=this;t&&((e=g(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},m.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var e=g.fn.tooltip;g.fn.tooltip=t,g.fn.tooltip.Constructor=m,g.fn.tooltip.noConflict=function(){return g.fn.tooltip=e,this}}(jQuery),function(r){"use strict";function t(i){return this.each(function(){var t=r(this),e=t.data("bs.popover"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.popover",e=new o(this,n)),"string"==typeof i&&e[i]())})}var o=function(t,e){this.init("popover",t,e)};if(!r.fn.tooltip)throw new Error("Popover requires tooltip.js");o.VERSION="3.3.7",o.DEFAULTS=r.extend({},r.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),o.prototype=r.extend({},r.fn.tooltip.Constructor.prototype),(o.prototype.constructor=o).prototype.getDefaults=function(){return o.DEFAULTS},o.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},o.prototype.hasContent=function(){return this.getTitle()||this.getContent()},o.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},o.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var e=r.fn.popover;r.fn.popover=t,r.fn.popover.Constructor=o,r.fn.popover.noConflict=function(){return r.fn.popover=e,this}}(jQuery),function(c,u){"use strict";var l;c.rails!==u&&c.error("jquery-ujs has already been loaded!");var t=c(document);c.rails=l={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return c("meta[name=csrf-token]").attr("content")},csrfParam:function(){return c("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=l.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){c('form input[name="'+l.csrfParam()+'"]').val(l.csrfToken())},fire:function(t,e,n){var i=c.Event(e);return t.trigger(i,n),!1!==i.result},confirm:function(t){return confirm(t)},ajax:function(t){return c.ajax(t)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==u&&!1!==t.data("remote")},handleRemote:function(i){var t,e,n,r,o,a;if(l.fire(i,"ajax:before")){if(r=i.data("with-credentials")||null,o=i.data("type")||c.ajaxSettings&&c.ajaxSettings.dataType,i.is("form")){t=i.data("ujs:submit-button-formmethod")||i.attr("method"),e=i.data("ujs:submit-button-formaction")||i.attr("action"),n=c(i[0]).serializeArray();var s=i.data("ujs:submit-button");s&&(n.push(s),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(l.inputChangeSelector)?(t=i.data("method"),e=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):i.is(l.buttonClickSelector)?(t=i.data("method")||"get",e=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):(t=i.data("method"),e=l.href(i),n=i.data("params")||null);return a={type:t||"GET",data:n,dataType:o,beforeSend:function(t,e){if(e.dataType===u&&t.setRequestHeader("accept","*/*;q=0.5, "+e.accepts.script),!l.fire(i,"ajax:beforeSend",[t,e]))return!1;i.trigger("ajax:send",t)},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:l.isCrossDomain(e)},r&&(a.xhrFields={withCredentials:r}),e&&(a.url=e),l.ajax(a)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(t){var e=l.href(t),n=t.data("method"),i=t.attr("target"),r=l.csrfToken(),o=l.csrfParam(),a=c('<form method="post" action="'+e+'"></form>'),s='<input name="_method" value="'+n+'" type="hidden" />';o===u||r===u||l.isCrossDomain(e)||(s+='<input name="'+o+'" value="'+r+'" type="hidden" />'),i&&a.attr("target",i),a.hide().append(s).appendTo("body"),a.submit()},formElements:function(t,e){return t.is("form")?c(t[0].elements).filter(e):t.find(e)},disableFormElements:function(t){l.formElements(t,l.disableSelector).each(function(){l.disableFormElement(c(this))})},disableFormElement:function(t){var e,n;e=t.is("button")?"html":"val",(n=t.data("disable-with"))!==u&&(t.data("ujs:enable-with",t[e]()),t[e](n)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(t){l.formElements(t,l.enableSelector).each(function(){l.enableFormElement(c(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";t.data("ujs:enable-with")!==u&&(t[e](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,n=t.data("confirm"),i=!1;if(!n)return!0;if(l.fire(t,"confirm")){try{i=l.confirm(n)}catch(r){(console.error||console.log).call(console,r.stack||r)}e=l.fire(t,"confirm:complete",[i])}return i&&e},blankInputs:function(t,e,n){var i,r,o,a=c(),s=e||"input,textarea",u=t.find(s),l={};return u.each(function(){(i=c(this)).is("input[type=radio]")?(o=i.attr("name"),l[o]||(0===t.find('input[type=radio]:checked[name="'+o+'"]').length&&(r=t.find('input[type=radio][name="'+o+'"]'),a=a.add(r)),l[o]=o)):(i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):!!i.val())===n&&(a=a.add(i))}),!!a.length&&a},nonBlankInputs:function(t,e){return l.blankInputs(t,e,!0)},stopEverything:function(t){return c(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(t){var e=t.data("disable-with");e!==u&&(t.data("ujs:enable-with",t.html()),t.html(e)),t.bind("click.railsDisable",function(t){return l.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==u&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},l.fire(t,"rails:attachBindings")&&(c.ajaxPrefilter(function(t,e,n){t.crossDomain||l.CSRFProtection(n)}),c(window).on("pageshow.rails",function(){c(c.rails.enableSelector).each(function(){var t=c(this);t.data("ujs:disabled")&&c.rails.enableFormElement(t)}),c(c.rails.linkDisableSelector).each(function(){var t=c(this);t.data("ujs:disabled")&&c.rails.enableElement(t)})}),t.on("ajax:complete",l.linkDisableSelector,function(){l.enableElement(c(this))}),t.on("ajax:complete",l.buttonDisableSelector,function(){l.enableFormElement(c(this))}),t.on("click.rails",l.linkClickSelector,function(t){var e=c(this),n=e.data("method"),i=e.data("params"),r=t.metaKey||t.ctrlKey;if(!l.allowAction(e))return l.stopEverything(t);if(!r&&e.is(l.linkDisableSelector)&&l.disableElement(e),l.isRemote(e)){if(r&&(!n||"GET"===n)&&!i)return!0;var o=l.handleRemote(e);return!1===o?l.enableElement(e):o.fail(function(){l.enableElement(e)}),!1}return n?(l.handleMethod(e),!1):void 0}),t.on("click.rails",l.buttonClickSelector,function(t){var e=c(this);if(!l.allowAction(e)||!l.isRemote(e))return l.stopEverything(t);e.is(l.buttonDisableSelector)&&l.disableFormElement(e);var n=l.handleRemote(e);return!1===n?l.enableFormElement(e):n.fail(function(){l.enableFormElement(e)}),!1}),t.on("change.rails",l.inputChangeSelector,function(t){var e=c(this);return l.allowAction(e)&&l.isRemote(e)?(l.handleRemote(e),!1):l.stopEverything(t)}),t.on("submit.rails",l.formSubmitSelector,function(t){var e,n,i=c(this),r=l.isRemote(i);if(!l.allowAction(i))return l.stopEverything(t);if(i.attr("novalidate")===u)if(i.data("ujs:formnovalidate-button")===u){if((e=l.blankInputs(i,l.requiredInputSelector,!1))&&l.fire(i,"ajax:aborted:required",[e]))return l.stopEverything(t)}else i.data("ujs:formnovalidate-button",u);if(r){if(n=l.nonBlankInputs(i,l.fileInputSelector)){setTimeout(function(){l.disableFormElements(i)},13);var o=l.fire(i,"ajax:aborted:file",[n]);return o||setTimeout(function(){l.enableFormElements(i)},13),o}return l.handleRemote(i),!1}setTimeout(function(){l.disableFormElements(i)},13)}),t.on("click.rails",l.formInputClickSelector,function(t){var e=c(this);if(!l.allowAction(e))return l.stopEverything(t);var n=e.attr("name"),i=n?{name:n,value:e.val()}:null,r=e.closest("form");0===r.length&&(r=c("#"+e.attr("form"))),r.data("ujs:submit-button",i),r.data("ujs:formnovalidate-button",e.attr("formnovalidate")),r.data("ujs:submit-button-formaction",e.attr("formaction")),r.data("ujs:submit-button-formmethod",e.attr("formmethod"))}),t.on("ajax:send.rails",l.formSubmitSelector,function(t){this===t.target&&l.disableFormElements(c(this))}),t.on("ajax:complete.rails",l.formSubmitSelector,function(t){this===t.target&&l.enableFormElements(c(this))}),c(function(){l.refreshCSRFTokens()}))}(jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.c3=e()}(this,function(){"use strict";function r(t,e){var n=this;n.component=t,n.params=e||{},n.d3=t.d3,n.scale=n.d3.scale.linear(),n.range,n.orient="bottom",n.innerTickSize=6,n.outerTickSize=this.params.withOuterTick?6:0,n.tickPadding=3,n.tickValues=null,n.tickFormat,n.tickArguments,n.tickOffset=0,n.tickCulling=!0,n.tickCentered,n.tickTextCharSize,n.tickTextRotate=n.params.tickTextRotate,n.tickLength,n.axis=n.generateAxis()}function t(t,e,n){this.owner=t,S.chart.internal[e]=n}function e(t){var n=this.internal=new i(this);n.loadConfig(t),n.beforeInit(t),n.init(),n.afterInit(t),function e(n,i,r){Object.keys(n).forEach(function(t){i[t]=n[t].bind(r),0<Object.keys(n[t]).length&&e(n[t],i[t],r)})}(b,this,this)}function i(t){var e=this;e.d3=window.d3?window.d3:"undefined"!=typeof require?require("d3"):undefined,e.api=t,e.config=e.getDefaultConfig(),e.data={},e.cache={},e.axes={}}var o,a,V={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},n=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},C=function(t){return t||0===t},h=function(t){return"function"==typeof t},c=function(t){return Array.isArray(t)},f=function(t){return"string"==typeof t},w=function(t){return void 0===t},R=function(t){return void 0!==t},d=function(t){return 10*Math.ceil(t/10)},p=function(t){return Math.ceil(t)+.5},O=function(t){return t[1]-t[0]},g=function(t){return null==t||f(t)&&0===t.length||"object"===(void 0===t?"undefined":u(t))&&0===Object.keys(t).length},M=function(t){return!x.isEmpty(t)},G=function(t,e,n){return R(t[e])?t[e]:n},m=function(e,n){var i=!1;return Object.keys(e).forEach(function(t){e[t]===n&&(i=!0)}),i},v=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},y=function(t){var e=t.getBoundingClientRect(),n=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)];return{x:n[0].x,y:Math.min(n[0].y,n[1].y),width:e.width,height:e.height}};(a=r.prototype).axisX=function(t,e,n){t.attr("transform",function(t){return"translate("+Math.ceil(e(t)+n)+", 0)"})},a.axisY=function(t,e){t.attr("transform",function(t){return"translate(0,"+Math.ceil(e(t))+")"})},a.scaleExtent=function(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]},a.generateTicks=function(t){var e,n,i=this,r=[];if(t.ticks)return t.ticks.apply(t,i.tickArguments);for(n=t.domain(),e=Math.ceil(n[0]);e<n[1];e++)r.push(e);return 0<r.length&&0<r[0]&&r.unshift(r[0]-(r[1]-r[0])),r},a.copyScale=function(){var t,e=this,n=e.scale.copy();return e.params.isCategory&&(t=e.scale.domain(),n.domain([t[0],t[1]-1])),n},a.textFormatted=function(t){var e=this,n=e.tickFormat?e.tickFormat(t):t;return void 0!==n?n:""},a.updateRange=function(){var t=this;return t.range=t.scale.rangeExtent?t.scale.rangeExtent():t.scaleExtent(t.scale.range()),t.range},a.updateTickTextCharSize=function(t){var o=this;if(o.tickTextCharSize)return o.tickTextCharSize;var a={h:11.5,w:5.5};return t.select("text").text(function(t){return o.textFormatted(t)}).each(function(t){var e=this.getBoundingClientRect(),n=o.textFormatted(t),i=e.height,r=n?e.width/n.length:undefined;i&&r&&(a.h=i,a.w=r)}).text(""),o.tickTextCharSize=a},a.transitionise=function(t){return this.params.withoutTransition?t:this.d3.transition(t)},a.isVertical=function(){return"left"===this.orient||"right"===this.orient},a.tspanData=function(t,e,n,i){var r=this,o=r.params.tickMultiline?r.splitTickText(t,n,i):[].concat(r.textFormatted(t));return o.map(function(t){return{index:e,splitted:t,length:o.length}})},a.splitTickText=function(t,e,n){function i(t,e){o=undefined;for(var n=1;n<e.length;n++)if(" "===e.charAt(n)&&(o=n),r=e.substr(0,n+1),a=s.tickTextCharSize.w*r.length,l<a)return i(t.concat(e.substr(0,o||n)),e.slice(o?o+1:n));return t.concat(e)}var r,o,a,s=this,u=s.textFormatted(t),l=s.params.tickWidth,c=[];return"[object Array]"===Object.prototype.toString.call(u)?u:((!l||l<=0)&&(l=s.isVertical()?95:s.params.isCategory?Math.ceil(n(e[1])-n(e[0]))-12:110),i(c,u+""))},a.updateTickLength=function(){var t=this;t.tickLength=Math.max(t.innerTickSize,0)+t.tickPadding},a.lineY2=function(t){var e=this,n=e.scale(t)+(e.tickCentered?0:e.tickOffset);return e.range[0]<n&&n<e.range[1]?e.innerTickSize:0},a.textY=function(){var t=this,e=t.tickTextRotate;return e?11.5-e/15*2.5*(0<e?1:-1):t.tickLength},a.textTransform=function(){var t=this.tickTextRotate;return t?"rotate("+t+")":""},a.textTextAnchor=function(){var t=this.tickTextRotate;return t?0<t?"start":"end":"middle"},a.tspanDx=function(){var t=this.tickTextRotate;return t?8*Math.sin(Math.PI*(t/180)):0},a.tspanDy=function(t,e){var n=this,i=n.tickTextCharSize.h;return 0===e&&(i=n.isVertical()?-((t.length-1)*(n.tickTextCharSize.h/2)-3):".71em"),i},a.generateAxis=function(){function y(t){t.each(function(){var t,e,n,i=y.g=b.select(this),r=this.__chart__||_.scale,o=this.__chart__=_.copyScale(),a=_.tickValues?_.tickValues:_.generateTicks(o),s=i.selectAll(".tick").data(a,o),u=s.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),l=s.exit().remove(),c=_.transitionise(s).style("opacity",1);x.isCategory?(_.tickOffset=Math.ceil((o(1)-o(0))/2),e=_.tickCentered?0:_.tickOffset,n=_.tickCentered?_.tickOffset:0):_.tickOffset=e=0,u.append("line"),u.append("text"),_.updateRange(),_.updateTickLength(),_.updateTickTextCharSize(i.select(".tick"));var h=c.select("line"),f=c.select("text"),d=s.select("text").selectAll("tspan").data(function(t,e){return _.tspanData(t,e,a,o)});d.enter().append("tspan"),d.exit().remove(),d.text(function(t){return t.splitted});var p=i.selectAll(".domain").data([0]),g=(p.enter().append("path").attr("class","domain"),_.transitionise(p));switch(_.orient){case"bottom":t=_.axisX,h.attr("x1",e).attr("x2",e).attr("y2",function(t,e){return _.lineY2(t,e)}),f.attr("x",0).attr("y",function(t,e){return _.textY(t,e)}).attr("transform",function(t,e){return _.textTransform(t,e)}).style("text-anchor",function(t,e){return _.textTextAnchor(t,e)}),d.attr("x",0).attr("dy",function(t,e){return _.tspanDy(t,e)}).attr("dx",function(t,e){return _.tspanDx(t,e)}),g.attr("d","M"+_.range[0]+","+_.outerTickSize+"V0H"+_.range[1]+"V"+_.outerTickSize);break;case"top":t=_.axisX,h.attr("x2",0).attr("y2",-_.innerTickSize),f.attr("x",0).attr("y",-_.tickLength).style("text-anchor","middle"),d.attr("x",0).attr("dy","0em"),g.attr("d","M"+_.range[0]+","+-_.outerTickSize+"V0H"+_.range[1]+"V"+-_.outerTickSize);break;case"left":t=_.axisY,h.attr("x2",-_.innerTickSize).attr("y1",n).attr("y2",n),f.attr("x",-_.tickLength).attr("y",_.tickOffset).style("text-anchor","end"),d.attr("x",-_.tickLength).attr("dy",function(t,e){return _.tspanDy(t,e)}),g.attr("d","M"+-_.outerTickSize+","+_.range[0]+"H0V"+_.range[1]+"H"+-_.outerTickSize);break;case"right":t=_.axisY,h.attr("x2",_.innerTickSize).attr("y2",0),f.attr("x",_.tickLength).attr("y",0).style("text-anchor","start"),d.attr("x",_.tickLength).attr("dy",function(t,e){return _.tspanDy(t,e)}),g.attr("d","M"+_.outerTickSize+","+_.range[0]+"H0V"+_.range[1]+"H"+_.outerTickSize)}if(o.rangeBand){var m=o,v=m.rangeBand()/2;r=o=function(t){return m(t)+v}}else r.rangeBand?r=o:l.call(t,o,_.tickOffset);u.call(t,r,_.tickOffset),c.call(t,o,_.tickOffset)})}var _=this,b=_.d3,x=_.params;return y.scale=function(t){return arguments.length?(_.scale=t,y):_.scale},y.orient=function(t){return arguments.length?(_.orient=t in{top:1,right:1,bottom:1,left:1}?t+"":"bottom",y):_.orient},y.tickFormat=function(t){return arguments.length?(_.tickFormat=t,y):_.tickFormat},y.tickCentered=function(t){return arguments.length?(_.tickCentered=t,y):_.tickCentered},y.tickOffset=function(){return _.tickOffset},y.tickInterval=function(){var t;return(t=x.isCategory?2*_.tickOffset:(y.g.select("path.domain").node().getTotalLength()-2*_.outerTickSize)/y.g.selectAll("line").size())===Infinity?0:t},y.ticks=function(){return arguments.length?(_.tickArguments=arguments,y):_.tickArguments},y.tickCulling=function(t){return arguments.length?(_.tickCulling=t,y):_.tickCulling},y.tickValues=function(t){if("function"==typeof t)_.tickValues=function(){return t(_.scale.domain())};else{if(!arguments.length)return _.tickValues;_.tickValues=t}return y},y};var _=function(){function i(t){s(this,i);var e={fn:o,internal:{fn:a}},n=l(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,"axis",e));return n.d3=t.d3,n.internal=r,n}return n(i,t),i}();(o=_.prototype).init=function(){var t=this.owner,e=t.config,n=t.main;t.axes.x=n.append("g").attr("class",V.axis+" "+V.axisX).attr("clip-path",t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",V.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=n.append("g").attr("class",V.axis+" "+V.axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",V.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=n.append("g").attr("class",V.axis+" "+V.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",V.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},o.getXAxis=function(t,e,n,i,r,o,a){var s=this.owner,u=s.config,l={isCategory:s.isCategorized(),withOuterTick:r,tickMultiline:u.axis_x_tick_multiline,tickWidth:u.axis_x_tick_width,tickTextRotate:a?0:u.axis_x_tick_rotate,withoutTransition:o},c=new this.internal(this,l).axis.scale(t).orient(e);return s.isTimeSeries()&&i&&"function"!=typeof i&&(i=i.map(function(t){return s.parseDate(t)})),c.tickFormat(n).tickValues(i),s.isCategorized()&&(c.tickCentered(u.axis_x_tick_centered),g(u.axis_x_tick_culling)&&(u.axis_x_tick_culling=!1)),c},o.updateXAxisTickValues=function(t,e){var n,i=this.owner,r=i.config;return(r.axis_x_tick_fit||r.axis_x_tick_count)&&(n=this.generateTickValues(i.mapTargetsToUniqueXs(t),r.axis_x_tick_count,i.isTimeSeries())),e?e.tickValues(n):(i.xAxis.tickValues(n),i.subXAxis.tickValues(n)),n},o.getYAxis=function(t,e,n,i,r,o,a){var s=this.owner,u=s.config,l={withOuterTick:r,withoutTransition:o,tickTextRotate:a?0:u.axis_y_tick_rotate},c=new this.internal(this,l).axis.scale(t).orient(e).tickFormat(n);return s.isTimeSeriesY()?c.ticks(s.d3.time[u.axis_y_tick_time_value],u.axis_y_tick_time_interval):c.tickValues(i),c},o.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},o.getXAxisTickFormat=function(){var e=this.owner,n=e.config,i=e.isTimeSeries()?e.defaultAxisTimeFormat:e.isCategorized()?e.categoryName:function(t){return t<0?t.toFixed(0):t};return n.axis_x_tick_format&&(h(n.axis_x_tick_format)?i=n.axis_x_tick_format:e.isTimeSeries()&&(i=function(t){return t?e.axisTimeFormat(n.axis_x_tick_format)(t):""})),h(i)?function(t){return i.call(e,t)}:i},o.getTickValues=function(t,e){return t||(e?e.tickValues():undefined)},o.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},o.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},o.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},o.getLabelOptionByAxisId=function(t){var e,n=this.owner.config;return"y"===t?e=n.axis_y_label:"y2"===t?e=n.axis_y2_label:"x"===t&&(e=n.axis_x_label),e},o.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return f(e)?e:e?e.text:null},o.setLabelText=function(t,e){var n=this.owner.config,i=this.getLabelOptionByAxisId(t);f(i)?"y"===t?n.axis_y_label=e:"y2"===t?n.axis_y2_label=e:"x"===t&&(n.axis_x_label=e):i&&(i.text=e)},o.getLabelPosition=function(t,e){var n=this.getLabelOptionByAxisId(t),i=n&&"object"===(void 0===n?"undefined":u(n))&&n.position?n.position:e;return{isInner:0<=i.indexOf("inner"),isOuter:0<=i.indexOf("outer"),isLeft:0<=i.indexOf("left"),isCenter:0<=i.indexOf("center"),isRight:0<=i.indexOf("right"),isTop:0<=i.indexOf("top"),isMiddle:0<=i.indexOf("middle"),isBottom:0<=i.indexOf("bottom")}},o.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},o.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},o.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},o.getLabelPositionById=function(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},o.textForXAxisLabel=function(){return this.getLabelText("x")},o.textForYAxisLabel=function(){return this.getLabelText("y")},o.textForY2AxisLabel=function(){return this.getLabelText("y2")},o.xForAxisLabel=function(t,e){var n=this.owner;return t?e.isLeft?0:e.isCenter?n.width/2:n.width:e.isBottom?-n.height:e.isMiddle?-n.height/2:0},o.dxForAxisLabel=function(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},o.textAnchorForAxisLabel=function(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},o.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},o.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},o.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},o.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},o.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},o.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},o.dyForXAxisLabel=function(){var t=this.owner.config,e=this.getXAxisLabelPosition();return t.axis_rotated?e.isInner?"1.2em":-25-this.getMaxTickWidth("x"):e.isInner?"-0.5em":t.axis_x_height?t.axis_x_height-10:"3em"},o.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},o.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},o.textAnchorForXAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())},o.textAnchorForYAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())},o.textAnchorForY2AxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())},o.getMaxTickWidth=function(t,e){var n,i,r,o,a=this.owner,s=a.config,u=0;return e&&a.currentMaxTickWidths[t]||(a.svg&&(n=a.filterTargetsToShow(a.data.targets),"y"===t?(i=a.y.copy().domain(a.getYDomain(n,"y")),r=this.getYAxis(i,a.yOrient,s.axis_y_tick_format,a.yAxisTickValues,!1,!0,!0)):"y2"===t?(i=a.y2.copy().domain(a.getYDomain(n,"y2")),r=this.getYAxis(i,a.y2Orient,s.axis_y2_tick_format,a.y2AxisTickValues,!1,!0,!0)):(i=a.x.copy().domain(a.getXDomain(n)),r=this.getXAxis(i,a.xOrient,a.xAxisTickFormat,a.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(n,r)),(o=a.d3.select("body").append("div").classed("c3",!0)).append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0).append("g").call(r).each(function(){a.d3.select(this).selectAll("text").each(function(){var t=this.getBoundingClientRect();u<t.width&&(u=t.width)}),o.remove()})),a.currentMaxTickWidths[t]=u<=0?a.currentMaxTickWidths[t]:u),a.currentMaxTickWidths[t]},o.updateLabels=function(t){var e=this.owner,n=e.main.select("."+V.axisX+" ."+V.axisXLabel),i=e.main.select("."+V.axisY+" ."+V.axisYLabel),r=e.main.select("."+V.axisY2+" ."+V.axisY2Label)
;(t?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?i.transition():i).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?r.transition():r).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},o.getPadding=function(t,e,n,i){var r="number"==typeof t?t:t[e];return C(r)?"ratio"===t.unit?t[e]*i:this.convertPixelsToAxisPadding(r,i):n},o.convertPixelsToAxisPadding=function(t,e){var n=this.owner;return e*(t/(n.config.axis_rotated?n.width:n.height))},o.generateTickValues=function(t,e,n){var i,r,o,a,s,u,l,c=t;if(e)if(1===(i=h(e)?e():e))c=[t[0]];else if(2===i)c=[t[0],t[t.length-1]];else if(2<i){for(a=i-2,r=t[0],s=((o=t[t.length-1])-r)/(a+1),c=[r],u=0;u<a;u++)l=+r+s*(u+1),c.push(n?new Date(l):l);c.push(o)}return n||(c=c.sort(function(t,e){return t-e})),c},o.generateTransitions=function(t){var e=this.owner.axes;return{axisX:t?e.x.transition().duration(t):e.x,axisY:t?e.y.transition().duration(t):e.y,axisY2:t?e.y2.transition().duration(t):e.y2,axisSubX:t?e.subx.transition().duration(t):e.subx}},o.redraw=function(t,e){var n=this.owner;n.axes.x.style("opacity",e?0:1),n.axes.y.style("opacity",e?0:1),n.axes.y2.style("opacity",e?0:1),n.axes.subx.style("opacity",e?0:1),t.axisX.call(n.xAxis),t.axisY.call(n.yAxis),t.axisY2.call(n.y2Axis),t.axisSubX.call(n.subXAxis)};var b,x,S={version:"0.4.18"};return S.generate=function(t){return new e(t)},S.chart={fn:e.prototype,internal:{fn:i.prototype}},b=S.chart.fn,(x=S.chart.internal.fn).beforeInit=function(){},x.afterInit=function(){},x.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_headers,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},x.initParams=function(){var t=this,e=t.d3,n=t.config;t.clipId="c3-"+ +new Date+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=!1,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeFormat=n.data_xLocaltime?e.time.format:e.time.format.utc,t.axisTimeFormat=n.axis_x_localtime?e.time.format:e.time.format.utc,t.defaultAxisTimeFormat=t.axisTimeFormat.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%-m/%-d",function(t){return t.getDay()&&1!==t.getDate()}],["%-m/%-d",function(t){return 1!==t.getDate()}],["%-m/%-d",function(t){return t.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=n.axis_rotated?"left":"bottom",t.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",t.y2Orient=n.axis_rotated?n.axis_y2_inner?"bottom":"top":n.axis_y2_inner?"left":"right",t.subXOrient=n.axis_rotated?"left":"bottom",t.isLegendRight="right"===n.legend_position,t.isLegendInset="inset"===n.legend_position,t.isLegendTop="top-left"===n.legend_inset_anchor||"top-right"===n.legend_inset_anchor,t.isLegendLeft="top-left"===n.legend_inset_anchor||"bottom-left"===n.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=undefined,t.axes.subx=e.selectAll([])},x.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},x.initWithData=function(t){var e,n,i=this,r=i.d3,o=i.config,a=!0;i.axis=new _(i),i.initPie&&i.initPie(),i.initBrush&&i.initBrush(),i.initZoom&&i.initZoom(),o.bindto?"function"==typeof o.bindto.node?i.selectChart=o.bindto:i.selectChart=r.select(o.bindto):i.selectChart=r.selectAll([]),i.selectChart.empty()&&(i.selectChart=r.select(document.createElement("div")).style("opacity",0),i.observeInserted(i.selectChart),a=!1),i.selectChart.html("").classed("c3",!0),i.data.xs={},i.data.targets=i.convertDataToTargets(t),o.data_filter&&(i.data.targets=i.data.targets.filter(o.data_filter)),o.data_hide&&i.addHiddenTargetIds(!0===o.data_hide?i.mapToIds(i.data.targets):o.data_hide),o.legend_hide&&i.addHiddenLegendIds(!0===o.legend_hide?i.mapToIds(i.data.targets):o.legend_hide),i.hasType("gauge")&&(o.legend_show=!1),i.updateSizes(),i.updateScales(),i.x.domain(r.extent(i.getXDomain(i.data.targets))),i.y.domain(i.getYDomain(i.data.targets,"y")),i.y2.domain(i.getYDomain(i.data.targets,"y2")),i.subX.domain(i.x.domain()),i.subY.domain(i.y.domain()),i.subY2.domain(i.y2.domain()),i.orgXDomain=i.x.domain(),i.brush&&i.brush.scale(i.subX),o.zoom_enabled&&i.zoom.scale(i.x),i.svg=i.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return o.onmouseover.call(i)}).on("mouseleave",function(){return o.onmouseout.call(i)}),i.config.svg_classname&&i.svg.attr("class",i.config.svg_classname),e=i.svg.append("defs"),i.clipChart=i.appendClip(e,i.clipId),i.clipXAxis=i.appendClip(e,i.clipIdForXAxis),i.clipYAxis=i.appendClip(e,i.clipIdForYAxis),i.clipGrid=i.appendClip(e,i.clipIdForGrid),i.clipSubchart=i.appendClip(e,i.clipIdForSubchart),i.updateSvgSize(),n=i.main=i.svg.append("g").attr("transform",i.getTranslate("main")),i.initSubchart&&i.initSubchart(),i.initTooltip&&i.initTooltip(),i.initLegend&&i.initLegend(),i.initTitle&&i.initTitle(),n.append("text").attr("class",V.text+" "+V.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),i.initRegion(),i.initGrid(),n.append("g").attr("clip-path",i.clipPath).attr("class",V.chart),o.grid_lines_front&&i.initGridLines(),i.initEventRect(),i.initChartElements(),n.insert("rect",o.zoom_privileged?null:"g."+V.regions).attr("class",V.zoomRect).attr("width",i.width).attr("height",i.height).style("opacity",0).on("dblclick.zoom",null),o.axis_x_extent&&i.brush.extent(i.getDefaultExtent()),i.axis.init(),i.updateTargets(i.data.targets),a&&(i.updateDimension(),i.config.oninit.call(i),i.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),i.bindResize(),i.api.element=i.selectChart.node()},x.smoothLines=function(t,e){var o=this;"grid"===e&&t.each(function(){var t=o.d3.select(this),e=t.attr("x1"),n=t.attr("x2"),i=t.attr("y1"),r=t.attr("y2");t.attr({x1:Math.ceil(e),x2:Math.ceil(n),y1:Math.ceil(i),y2:Math.ceil(r)})})},x.updateSizes=function(){var t=this,e=t.config,n=t.legend?t.getLegendHeight():0,i=t.legend?t.getLegendWidth():0,r=t.isLegendRight||t.isLegendInset?0:n,o=t.hasArcType(),a=e.axis_rotated||o?0:t.getHorizontalAxisHeight("x"),s=e.subchart_show&&!o?e.subchart_size_height+a:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+r+t.getCurrentPaddingBottom(),left:s+(o?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:a+s+r+t.getCurrentPaddingBottom(),left:o?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:NaN,bottom:20+r,left:t.rotated_padding_left}:{top:t.currentHeight-s-r,right:NaN,bottom:a+r,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(n,i),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?i+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&!e.gauge_fullCircle&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&o&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},x.updateTargets=function(t){var e=this;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType()&&e.updateTargetsForArc&&e.updateTargetsForArc(t),e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},x.showTargets=function(){var e=this;e.svg.selectAll("."+V.target).filter(function(t){return e.isTargetToShow(t.id)}).transition().duration(e.config.transition_duration).style("opacity",1)},x.redraw=function(t,e){var n,i,r,o,a,s,u,l,c,h,f,d,p,g,m,v,y,_,b,x,w,S,T,k,C,M,A,P,E,L=this,D=L.main,N=L.d3,I=L.config,O=L.getShapeIndices(L.isAreaType),R=L.getShapeIndices(L.isBarType),F=L.getShapeIndices(L.isLineType),z=L.hasArcType(),H=L.filterTargetsToShow(L.data.targets),j=L.xv.bind(L);if(n=G(t=t||{},"withY",!0),i=G(t,"withSubchart",!0),r=G(t,"withTransition",!0),s=G(t,"withTransform",!1),u=G(t,"withUpdateXDomain",!1),l=G(t,"withUpdateOrgXDomain",!1),c=G(t,"withTrimXDomain",!0),p=G(t,"withUpdateXAxis",u),h=G(t,"withLegend",!1),f=G(t,"withEventRect",!0),d=G(t,"withDimension",!0),o=G(t,"withTransitionForExit",r),a=G(t,"withTransitionForAxis",r),b=r?I.transition_duration:0,x=o?b:0,w=a?b:0,e=e||L.axis.generateTransitions(w),h&&I.legend_show?L.updateLegend(L.mapToIds(L.data.targets),t,e):d&&L.updateDimension(!0),L.isCategorized()&&0===H.length&&L.x.domain([0,L.axes.x.selectAll(".tick").size()]),H.length?(L.updateXDomain(H,u,l,c),I.axis_x_tick_values||(k=L.axis.updateXAxisTickValues(H))):(L.xAxis.tickValues([]),L.subXAxis.tickValues([])),I.zoom_rescale&&!t.flow&&(A=L.x.orgDomain()),L.y.domain(L.getYDomain(H,"y",A)),L.y2.domain(L.getYDomain(H,"y2",A)),!I.axis_y_tick_values&&I.axis_y_tick_count&&L.yAxis.tickValues(L.axis.generateTickValues(L.y.domain(),I.axis_y_tick_count)),!I.axis_y2_tick_values&&I.axis_y2_tick_count&&L.y2Axis.tickValues(L.axis.generateTickValues(L.y2.domain(),I.axis_y2_tick_count)),L.axis.redraw(e,z),L.axis.updateLabels(r),(u||p)&&H.length)if(I.axis_x_tick_culling&&k){for(C=1;C<k.length;C++)if(k.length/C<I.axis_x_tick_culling_max){M=C;break}L.svg.selectAll("."+V.axisX+" .tick text").each(function(t){var e=k.indexOf(t);0<=e&&N.select(this).style("display",e%M?"none":"block")})}else L.svg.selectAll("."+V.axisX+" .tick text").style("display","block");g=L.generateDrawArea?L.generateDrawArea(O,!1):undefined,m=L.generateDrawBar?L.generateDrawBar(R):undefined,v=L.generateDrawLine?L.generateDrawLine(F,!1):undefined,y=L.generateXYForText(O,R,F,!0),_=L.generateXYForText(O,R,F,!1),n&&(L.subY.domain(L.getYDomain(H,"y")),L.subY2.domain(L.getYDomain(H,"y2"))),L.updateXgridFocus(),D.select("text."+V.text+"."+V.empty).attr("x",L.width/2).attr("y",L.height/2).text(I.data_empty_label_text).transition().style("opacity",H.length?0:1),L.updateGrid(b),L.updateRegion(b),L.updateBar(x),L.updateLine(x),L.updateArea(x),L.updateCircle(),L.hasDataLabel()&&L.updateText(x),L.redrawTitle&&L.redrawTitle(),L.redrawArc&&L.redrawArc(b,x,s),L.redrawSubchart&&L.redrawSubchart(i,e,b,x,O,R,F),D.selectAll("."+V.selectedCircles).filter(L.isBarType.bind(L)).selectAll("circle").remove(),I.interaction_enabled&&!t.flow&&f&&(L.redrawEventRect(),L.updateZoom&&L.updateZoom()),L.updateCircleY(),P=(L.config.axis_rotated?L.circleY:L.circleX).bind(L),E=(L.config.axis_rotated?L.circleX:L.circleY).bind(L),t.flow&&(T=L.generateFlow({targets:H,flow:t.flow,duration:t.flow.duration,drawBar:m,drawLine:v,drawArea:g,cx:P,cy:E,xv:j,xForText:y,yForText:_})),(b||T)&&L.isTabVisible()?N.transition().duration(b).each(function(){var e=[];[L.redrawBar(m,!0),L.redrawLine(v,!0),L.redrawArea(g,!0),L.redrawCircle(P,E,!0),L.redrawText(y,_,t.flow,!0),L.redrawRegion(!0),L.redrawGrid(!0)].forEach(function(t){t.forEach(function(t){e.push(t)})}),S=L.generateWait(),e.forEach(function(t){S.add(t)})}).call(S,function(){T&&T(),I.onrendered&&I.onrendered.call(L)}):(L.redrawBar(m),L.redrawLine(v),L.redrawArea(g),L.redrawCircle(P,E),L.redrawText(y,_,t.flow),L.redrawRegion(),L.redrawGrid(),I.onrendered&&I.onrendered.call(L)),L.mapToIds(L.data.targets).forEach(function(t){L.withoutFadeIn[t]=!0})},x.updateAndRedraw=function(t){var e,n=this,i=n.config;(t=t||{}).withTransition=G(t,"withTransition",!0),t.withTransform=G(t,"withTransform",!1),t.withLegend=G(t,"withLegend",!1),t.withUpdateXDomain=!0,t.withUpdateOrgXDomain=!0,t.withTransitionForExit=!1,t.withTransitionForTransform=G(t,"withTransitionForTransform",t.withTransition),n.updateSizes(),t.withLegend&&i.legend_show||(e=n.axis.generateTransitions(t.withTransitionForAxis?i.transition_duration:0),n.updateScales(),n.updateSvgSize(),n.transformAll(t.withTransitionForTransform,e)),n.redraw(t,e)},x.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},x.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},x.isCategorized=function(){return 0<=this.config.axis_x_type.indexOf("categor")},x.isCustomX=function(){var t=this,e=t.config;return!t.isTimeSeries()&&(e.data_x||M(e.data_xs))},x.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},x.getTranslate=function(t){var e,n,i=this,r=i.config;return"main"===t?(e=p(i.margin.left),n=p(i.margin.top)):"context"===t?(e=p(i.margin2.left),n=p(i.margin2.top)):"legend"===t?(e=i.margin3.left,n=i.margin3.top):"x"===t?(e=0,n=r.axis_rotated?0:i.height):"y"===t?(e=0,n=r.axis_rotated?i.height:0):"y2"===t?(e=r.axis_rotated?0:i.width,n=r.axis_rotated?1:0):"subx"===t?(e=0,n=r.axis_rotated?0:i.height2):"arc"===t&&(e=i.arcWidth/2,n=i.arcHeight/2),"translate("+e+","+n+")"},x.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},x.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},x.opacityForCircle=function(t){var e=(h(this.config.point_show)?this.config.point_show(t):this.config.point_show)?1:0;return C(t.value)?this.isScatterType(t)?.5:e:0},x.opacityForText=function(){return this.hasDataLabel()?1:0},x.xx=function(t){return t?this.x(t.x):null},x.xv=function(t){var e=this,n=t.value;return e.isTimeSeries()?n=e.parseDate(t.value):e.isCategorized()&&"string"==typeof t.value&&(n=e.config.axis_x_categories.indexOf(t.value)),Math.ceil(e.x(n))},x.yv=function(t){var e=this,n=t.axis&&"y2"===t.axis?e.y2:e.y;return Math.ceil(n(t.value))},x.subxx=function(t){return t?this.subX(t.x):null},x.transformMain=function(t,e){var n,i,r,o=this;e&&e.axisX?n=e.axisX:(n=o.main.select("."+V.axisX),t&&(n=n.transition())),e&&e.axisY?i=e.axisY:(i=o.main.select("."+V.axisY),t&&(i=i.transition())),e&&e.axisY2?r=e.axisY2:(r=o.main.select("."+V.axisY2),t&&(r=r.transition())),(t?o.main.transition():o.main).attr("transform",o.getTranslate("main")),n.attr("transform",o.getTranslate("x")),i.attr("transform",o.getTranslate("y")),r.attr("transform",o.getTranslate("y2")),o.main.select("."+V.chartArcs).attr("transform",o.getTranslate("arc"))},x.transformAll=function(t,e){var n=this;n.transformMain(t,e),n.config.subchart_show&&n.transformContext(t,e),n.legend&&n.transformLegend(t)},x.updateSvgSize=function(){var t=this,e=t.svg.select(".c3-brush .background");t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",e.size()?e.attr("height"):0),t.svg.select("."+V.zoomRect).attr("width",t.width).attr("height",t.height),t.selectChart.style("max-height",t.currentHeight+"px")},x.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(),e.updateSvgSize(),e.transformAll(!1)},x.observeInserted=function(e){var n,i=this;"undefined"!=typeof MutationObserver?(n=new MutationObserver(function(t){t.forEach(function(t){"childList"===t.type&&t.previousSibling&&(n.disconnect(),i.intervalForObserveInserted=window.setInterval(function(){e.node().parentNode&&(window.clearInterval(i.intervalForObserveInserted),i.updateDimension(),i.brush&&i.brush.update(),i.config.oninit.call(i),i.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),e.transition().style("opacity",1))},10))})})).observe(e.node(),{attributes:!0,childList:!0,characterData:!0}):window.console.error("MutationObserver not defined.")},x.bindResize=function(){var t=this,e=t.config;if(t.resizeFunction=t.generateResize(),t.resizeFunction.add(function(){e.onresize.call(t)}),e.resize_auto&&t.resizeFunction.add(function(){t.resizeTimeout!==undefined&&window.clearTimeout(t.resizeTimeout),t.resizeTimeout=window.setTimeout(function(){delete t.resizeTimeout,t.api.flush()},100)}),t.resizeFunction.add(function(){e.onresized.call(t)}),window.attachEvent)window.attachEvent("onresize",t.resizeFunction);else if(window.addEventListener)window.addEventListener("resize",t.resizeFunction,!1);else{var n=window.onresize;n?n.add&&n.remove||(n=t.generateResize()).add(window.onresize):n=t.generateResize(),n.add(t.resizeFunction),window.onresize=n}},x.generateResize=function(){function t(){n.forEach(function(t){t()})}var n=[];return t.add=function(t){n.push(t)},t.remove=function(t){for(var e=0;e<n.length;e++)if(n[e]===t){n.splice(e,1);break}},t},x.endall=function(t,e){var n=0;t.each(function(){++n}).each("end",function(){--n||e.apply(this,arguments)})},x.generateWait=function(){var r=[],t=function(t,e){var i=setInterval(function(){var n=0;r.forEach(function(t){if(t.empty())n+=1;else try{t.transition()}catch(e){n+=1}}),n===r.length&&(clearInterval(i),e&&e())},10)};return t.add=function(t){r.push(t)},t},x.parseDate=function(t){var e,n=this;return t instanceof Date?e=t:"string"==typeof t?e=n.dataTimeFormat(n.config.data_xFormat).parse(t):"object"===(void 0===t?"undefined":u(t))?e=new Date(+t):"number"!=typeof t||isNaN(t)||(e=new Date(+t)),e&&!isNaN(+e)||window.console.error("Failed to parse x '"+t+"' to Date object"),e},x.isTabVisible=function(){var t;return"undefined"!=typeof document.hidden?t="hidden":"undefined"!=typeof document.mozHidden?t="mozHidden":"undefined"!=typeof document.msHidden?t="msHidden":"undefined"!=typeof document.webkitHidden&&(t="webkitHidden"),!document[t]},x.isValue=C,x.isFunction=h,x.isString=f,x.isUndefined=w,x.isDefined=R,x.ceil10=d,x.asHalfPixel=p,x.diffDomain=O,x.isEmpty=g,x.notEmpty=M,x.notEmpty=M,x.getOption=G,x.hasValue=m,x.sanitise=v,x.getPathBox=y,x.CLASS=V,Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),"SVGPathSeg"in window||(window.SVGPathSeg=function(t,e,n){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=n},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(undefined)},window.SVGPathSegMovetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=n},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=n},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=n},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=n},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,e,n,i,r,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=n,this._x1=i,this._y1=r,this._x2=o,this._y2=a},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(undefined,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,e,n,i,r,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=n,this._x1=i,this._y1=r,this._x2=o,this._y2=a},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(undefined,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=n,this._x1=i,this._y1=r},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(undefined,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=n,this._x1=i,this._y1=r},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(undefined,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,e,n,i,r,o,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=n,this._r1=i,this._r2=r,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(undefined,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,
this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,e,n,i,r,o,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=n,this._r1=i,this._r2=r,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(undefined,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(undefined,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(undefined,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(undefined,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(undefined,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=n,this._x2=i,this._y2=r},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=n,this._x2=i,this._y2=r},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(undefined,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(undefined)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new window.SVGPathSegMovetoAbs(undefined,t,e)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new window.SVGPathSegMovetoRel(undefined,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new window.SVGPathSegLinetoAbs(undefined,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new window.SVGPathSegLinetoRel(undefined,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,n,i,r,o){return new window.SVGPathSegCurvetoCubicAbs(undefined,t,e,n,i,r,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,n,i,r,o){return new window.SVGPathSegCurvetoCubicRel(undefined,t,e,n,i,r,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,n,i){return new window.SVGPathSegCurvetoQuadraticAbs(undefined,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,n,i){return new window.SVGPathSegCurvetoQuadraticRel(undefined,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,n,i,r,o,a){return new window.SVGPathSegArcAbs(undefined,t,e,n,i,r,o,a)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,n,i,r,o,a){return new window.SVGPathSegArcRel(undefined,t,e,n,i,r,o,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new window.SVGPathSegLinetoHorizontalAbs(undefined,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new window.SVGPathSegLinetoHorizontalRel(undefined,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new window.SVGPathSegLinetoVerticalAbs(undefined,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new window.SVGPathSegLinetoVerticalRel(undefined,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,i){return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,n,i){return new window.SVGPathSegCurvetoCubicSmoothRel(undefined,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined,t,e)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(t){if(t===undefined||!isFinite(t))throw"Invalid arguments.";var e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",this.getAttribute("d"));var n=e.pathSegList.numberOfItems-1;if(n<=0)return 0;do{if(e.pathSegList.removeItem(n),t>e.getTotalLength())break;n--}while(0<n);return n})),"SVGPathSegList"in window||(window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(this._pathElement){var e=!1;t.forEach(function(t){"d"==t.attributeName&&(e=!0)}),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(t){t._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],(t._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},window.SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),(t._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),((this._list[e]=t)._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);var e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},window.SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),(t._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList._pathSegArrayAsString=function(t){var e="",n=!0;return t.forEach(function(t){n?(n=!1,e+=t._asPathString()):e+=" "+t._asPathString()}),e},window.SVGPathSegList.prototype._parsePath=function(t){if(!t||0==t.length)return[];var i=this,e=function(){this.pathSegList=[]};e.prototype.appendSegment=function(t){this.pathSegList.push(t)};var n=function(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};n.prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return t<=" "&&(" "==t||"\n"==t||"\t"==t||"\r"==t||"\f"==t)},n.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},n.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},n.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},n.prototype.peekSegmentType=function(){var t=this._string[this._currentIndex];return this._pathSegTypeFromChar(t)},n.prototype._pathSegTypeFromChar=function(t){switch(t){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},n.prototype._nextCommandHelper=function(t,e){return("+"==t||"-"==t||"."==t||"0"<=t&&t<="9")&&e!=window.SVGPathSeg.PATHSEG_CLOSEPATH?e==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:e==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:e:window.SVGPathSeg.PATHSEG_UNKNOWN},n.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==window.SVGPathSeg.PATHSEG_MOVETO_ABS||t==window.SVGPathSeg.PATHSEG_MOVETO_REL},n.prototype._parseNumber=function(){var t=0,e=0,n=1,i=0,r=1,o=1,a=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,r=-1),this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))&&"."!=this._string.charAt(this._currentIndex))return undefined;for(var s=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=s)for(var u=this._currentIndex-1,l=1;s<=u;)e+=l*(this._string.charAt(u--)-"0"),l*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))return undefined;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)n*=10,i+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!=a&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,o=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))return undefined;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)t*=10,t+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var c=e+i;return c*=r,t&&(c*=Math.pow(10,o*t)),a==this._currentIndex?undefined:(this._skipOptionalSpacesOrDelimiter(),c)},n.prototype._parseArcFlag=function(){if(this._currentIndex>=this._endIndex)return undefined;var t=!1,e=this._string.charAt(this._currentIndex++);if("0"==e)t=!1;else{if("1"!=e)return undefined;t=!0}return this._skipOptionalSpacesOrDelimiter(),t},n.prototype.parseSegment=function(){var t=this._string[this._currentIndex],e=this._pathSegTypeFromChar(t);if(e==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;if((e=this._nextCommandHelper(t,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=e){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(i,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(i,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(i,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(i,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(i);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(i,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(i,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(i,n.x,n.y,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(i,n.x,n.y,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(i,n.x,n.y,n.x1,n.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(i,n.x,n.y,n.x1,n.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(i,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(i,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);default:throw"Unknown path seg type."}};var r=new e,o=new n(t);if(!o.initialCommandIsMoveTo())return[];for(;o.hasMoreData();){var a=o.parseSegment();if(!a)return[];r.appendSegment(a)}return r.pathSegList}),b.axis=function(){},b.axis.labels=function(e){var n=this.internal;arguments.length&&(Object.keys(e).forEach(function(t){n.axis.setLabelText(t,e[t])}),n.axis.updateLabels())},b.axis.max=function(t){var e=this.internal,n=e.config;if(!arguments.length)return{x:n.axis_x_max,y:n.axis_y_max,y2:n.axis_y2_max};"object"===(void 0===t?"undefined":u(t))?(C(t.x)&&(n.axis_x_max=t.x),C(t.y)&&(n.axis_y_max=t.y),C(t.y2)&&(n.axis_y2_max=t.y2)):n.axis_y_max=n.axis_y2_max=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},b.axis.min=function(t){var e=this.internal,n=e.config;if(!arguments.length)return{x:n.axis_x_min,y:n.axis_y_min,y2:n.axis_y2_min};"object"===(void 0===t?"undefined":u(t))?(C(t.x)&&(n.axis_x_min=t.x),C(t.y)&&(n.axis_y_min=t.y),C(t.y2)&&(n.axis_y2_min=t.y2)):n.axis_y_min=n.axis_y2_min=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},b.axis.range=function(t){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};R(t.max)&&this.axis.max(t.max),R(t.min)&&this.axis.min(t.min)},b.category=function(t,e){var n=this.internal,i=n.config;return 1<arguments.length&&(i.axis_x_categories[t]=e,n.redraw()),i.axis_x_categories[t]},b.categories=function(t){var e=this.internal,n=e.config;return arguments.length&&(n.axis_x_categories=t,e.redraw()),n.axis_x_categories},b.resize=function(t){var e=this.internal.config;e.size_width=t?t.width:null,e.size_height=t?t.height:null,this.flush()},b.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},b.destroy=function(){var e=this.internal;if(window.clearInterval(e.intervalForObserveInserted),e.resizeTimeout!==undefined&&window.clearTimeout(e.resizeTimeout),window.detachEvent)window.detachEvent("onresize",e.resizeFunction);else if(window.removeEventListener)window.removeEventListener("resize",e.resizeFunction);else{var t=window.onresize;t&&t.add&&t.remove&&t.remove(e.resizeFunction)}return e.selectChart.classed("c3",!1).html(""),Object.keys(e).forEach(function(t){e[t]=null}),null},b.color=function(t){return this.internal.color(t)},b.data=function(e){var t=this.internal.data.targets;return void 0===e?t:t.filter(function(t){return 0<=[].concat(e).indexOf(t.id)})},b.data.shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},b.data.values=function(t){var e,n=null;return t&&(n=(e=this.data(t))[0]?e[0].values.map(function(t){return t.value}):null),n},b.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},b.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)},b.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)},b.flow=function(t){var r,e,n,i,o,a,s,u=this.internal,l=[],c=u.getMaxDataCount(),h=0,f=0;if(t.json)e=u.convertJsonToData(t.json,t.keys);else if(t.rows)e=u.convertRowsToData(t.rows);else{if(!t.columns)return;e=u.convertColumnsToData(t.columns)}r=u.convertDataToTargets(e,!0),u.data.targets.forEach(function(t){var e,n,i=!1;for(e=0;e<r.length;e++)if(t.id===r[e].id){for(i=!0,t.values[t.values.length-1]&&(f=t.values[t.values.length-1].index+1),h=r[e].values.length,n=0;n<h;n++)r[e].values[n].index=f+n,u.isTimeSeries()||(r[e].values[n].x=f+n);t.values=t.values.concat(r[e].values),r.splice(e,1);break}i||l.push(t.id)}),u.data.targets.forEach(function(t){var e,n;for(e=0;e<l.length;e++)if(t.id===l[e])for(f=t.values[t.values.length-1].index+1,n=0;n<h;n++)t.values.push({id:t.id,index:f+n,x:u.isTimeSeries()?u.getOtherTargetX(f+n):f+n,value:null})}),u.data.targets.length&&r.forEach(function(t){var e,n=[];for(e=u.data.targets[0].values[0].index;e<f;e++)n.push({id:t.id,index:e,x:u.isTimeSeries()?u.getOtherTargetX(e):e,value:null});t.values.forEach(function(t){t.index+=f,u.isTimeSeries()||(t.x+=f)}),t.values=n.concat(t.values)}),u.data.targets=u.data.targets.concat(r),u.getMaxDataCount(),o=(i=u.data.targets[0]).values[0],R(t.to)?(h=0,s=u.isTimeSeries()?u.parseDate(t.to):t.to,i.values.forEach(function(t){t.x<s&&h++})):R(t.length)&&(h=t.length),c?1===c&&u.isTimeSeries()&&(a=(i.values[i.values.length-1].x-o.x)/2,n=[new Date(+o.x-a),new Date(+o.x+a)],u.updateXDomain(null,!0,!0,!1,n)):(a=u.isTimeSeries()?1<i.values.length?i.values[i.values.length-1].x-o.x:o.x-u.getXDomain(u.data.targets)[0]:1,n=[o.x-a,o.x],u.updateXDomain(null,!0,!0,!1,n)),u.updateTargets(u.data.targets),u.redraw({flow:{index:o.index,length:h,duration:C(t.duration)?t.duration:u.config.transition_duration,done:t.done,orgDataCount:c},withLegend:!0,withTransition:1<c,withTrimXDomain:!1,withUpdateXAxis:!0})},x.generateFlow=function(L){var D=this,N=D.config,I=D.d3;return function(){var t,e,n,i=L.targets,r=L.flow,o=L.drawBar,a=L.drawLine,s=L.drawArea,u=L.cx,l=L.cy,c=L.xv,h=L.xForText,f=L.yForText,d=L.duration,p=1,g=r.index,m=r.length,v=D.getValueOnIndex(D.data.targets[0].values,g),y=D.getValueOnIndex(D.data.targets[0].values,g+m),_=D.x.domain(),b=r.duration||d,x=r.done||function(){},w=D.generateWait(),S=D.xgrid||I.selectAll([]),T=D.xgridLines||I.selectAll([]),k=D.mainRegion||I.selectAll([]),C=D.mainText||I.selectAll([]),M=D.mainBar||I.selectAll([]),A=D.mainLine||I.selectAll([]),P=D.mainArea||I.selectAll([]),E=D.mainCircle||I.selectAll([]);D.flowing=!0,D.data.targets.forEach(function(t){t.values.splice(0,m)}),n=D.updateXDomain(i,!0,!0),D.updateXGrid&&D.updateXGrid(!0),r.orgDataCount?t=1===r.orgDataCount||(v&&v.x)===(y&&y.x)?D.x(_[0])-D.x(n[0]):D.isTimeSeries()?D.x(_[0])-D.x(n[0]):D.x(v.x)-D.x(y.x):1!==D.data.targets[0].values.length?t=D.x(_[0])-D.x(n[0]):D.isTimeSeries()?(v=D.getValueOnIndex(D.data.targets[0].values,0),
y=D.getValueOnIndex(D.data.targets[0].values,D.data.targets[0].values.length-1),t=D.x(v.x)-D.x(y.x)):t=O(n)/2,p=O(_)/O(n),e="translate("+t+",0) scale("+p+",1)",D.hideXGridFocus(),I.transition().ease("linear").duration(b).each(function(){w.add(D.axes.x.transition().call(D.xAxis)),w.add(M.transition().attr("transform",e)),w.add(A.transition().attr("transform",e)),w.add(P.transition().attr("transform",e)),w.add(E.transition().attr("transform",e)),w.add(C.transition().attr("transform",e)),w.add(k.filter(D.isRegionOnX).transition().attr("transform",e)),w.add(S.transition().attr("transform",e)),w.add(T.transition().attr("transform",e))}).call(w,function(){var t,e=[],n=[],i=[];if(m){for(t=0;t<m;t++)e.push("."+V.shape+"-"+(g+t)),n.push("."+V.text+"-"+(g+t)),i.push("."+V.eventRect+"-"+(g+t));D.svg.selectAll("."+V.shapes).selectAll(e).remove(),D.svg.selectAll("."+V.texts).selectAll(n).remove(),D.svg.selectAll("."+V.eventRects).selectAll(i).remove(),D.svg.select("."+V.xgrid).remove()}S.attr("transform",null).attr(D.xgridAttr),T.attr("transform",null),T.select("line").attr("x1",N.axis_rotated?0:c).attr("x2",N.axis_rotated?D.width:c),T.select("text").attr("x",N.axis_rotated?D.width:0).attr("y",c),M.attr("transform",null).attr("d",o),A.attr("transform",null).attr("d",a),P.attr("transform",null).attr("d",s),E.attr("transform",null).attr("cx",u).attr("cy",l),C.attr("transform",null).attr("x",h).attr("y",f).style("fill-opacity",D.opacityForText.bind(D)),k.attr("transform",null),k.select("rect").filter(D.isRegionOnX).attr("x",D.regionX.bind(D)).attr("width",D.regionWidth.bind(D)),N.interaction_enabled&&D.redrawEventRect(),x(),D.flowing=!1})}},b.focus=function(e){var t,n=this.internal;e=n.mapToTargetIds(e),t=n.svg.selectAll(n.selectorTargets(e.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),t.classed(V.focused,!0).classed(V.defocused,!1),n.hasArcType()&&n.expandArc(e),n.toggleFocusLegend(e,!0),n.focusedTargetIds=e,n.defocusedTargetIds=n.defocusedTargetIds.filter(function(t){return e.indexOf(t)<0})},b.defocus=function(e){var t=this.internal;e=t.mapToTargetIds(e),t.svg.selectAll(t.selectorTargets(e.filter(t.isTargetToShow,t))).classed(V.focused,!1).classed(V.defocused,!0),t.hasArcType()&&t.unexpandArc(e),t.toggleFocusLegend(e,!1),t.focusedTargetIds=t.focusedTargetIds.filter(function(t){return e.indexOf(t)<0}),t.defocusedTargetIds=e},b.revert=function(t){var e=this.internal;t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t)).classed(V.focused,!1).classed(V.defocused,!1),e.hasArcType()&&e.unexpandArc(t),e.config.legend_show&&(e.showLegend(t.filter(e.isLegendToShow.bind(e))),e.legend.selectAll(e.selectorLegends(t)).filter(function(){return e.d3.select(this).classed(V.legendItemFocused)}).classed(V.legendItemFocused,!1)),e.focusedTargetIds=[],e.defocusedTargetIds=[]},b.xgrids=function(t){var e=this.internal,n=e.config;return t&&(n.grid_x_lines=t,e.redrawWithoutRescale()),n.grid_x_lines},b.xgrids.add=function(t){var e=this.internal;return this.xgrids(e.config.grid_x_lines.concat(t||[]))},b.xgrids.remove=function(t){this.internal.removeGridLines(t,!0)},b.ygrids=function(t){var e=this.internal,n=e.config;return t&&(n.grid_y_lines=t,e.redrawWithoutRescale()),n.grid_y_lines},b.ygrids.add=function(t){var e=this.internal;return this.ygrids(e.config.grid_y_lines.concat(t||[]))},b.ygrids.remove=function(t){this.internal.removeGridLines(t,!1)},b.groups=function(t){var e=this.internal,n=e.config;return w(t)||(n.data_groups=t,e.redraw()),n.data_groups},b.legend=function(){},b.legend.show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},b.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},b.load=function(e){var t=this.internal,n=t.config;e.xs&&t.addXs(e.xs),"names"in e&&b.data.names.bind(this)(e.names),"classes"in e&&Object.keys(e.classes).forEach(function(t){n.data_classes[t]=e.classes[t]}),"categories"in e&&t.isCategorized()&&(n.axis_x_categories=e.categories),"axes"in e&&Object.keys(e.axes).forEach(function(t){n.data_axes[t]=e.axes[t]}),"colors"in e&&Object.keys(e.colors).forEach(function(t){n.data_colors[t]=e.colors[t]}),"cacheIds"in e&&t.hasCaches(e.cacheIds)?t.load(t.getCaches(e.cacheIds),e.done):"unload"in e?t.unload(t.mapToTargetIds("boolean"==typeof e.unload&&e.unload?null:e.unload),function(){t.loadFromArgs(e)}):t.loadFromArgs(e)},b.unload=function(t){var e=this.internal;(t=t||{})instanceof Array?t={ids:t}:"string"==typeof t&&(t={ids:[t]}),e.unload(e.mapToTargetIds(t.ids),function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()})},b.regions=function(t){var e=this.internal,n=e.config;return t&&(n.regions=t,e.redrawWithoutRescale()),n.regions},b.regions.add=function(t){var e=this.internal,n=e.config;return t&&(n.regions=n.regions.concat(t),e.redrawWithoutRescale()),n.regions},b.regions.remove=function(t){var e,n,i,r=this.internal,o=r.config;return t=t||{},e=r.getOption(t,"duration",o.transition_duration),n=r.getOption(t,"classes",[V.region]),i=r.main.select("."+V.regions).selectAll(n.map(function(t){return"."+t})),(e?i.transition().duration(e):i).style("opacity",0).remove(),o.regions=o.regions.filter(function(t){var e=!1;return!t["class"]||(t["class"].split(" ").forEach(function(t){0<=n.indexOf(t)&&(e=!0)}),!e)}),o.regions},b.selected=function(t){var e=this.internal,n=e.d3;return n.merge(e.main.selectAll("."+V.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+V.shape).filter(function(){return n.select(this).classed(V.SELECTED)}).map(function(t){return t.map(function(t){var e=t.__data__;return e.data?e.data:e})}))},b.select=function(u,l,c){var h=this.internal,f=h.d3,d=h.config;d.data_selection_enabled&&h.main.selectAll("."+V.shapes).selectAll("."+V.shape).each(function(t,e){var n=f.select(this),i=t.data?t.data.id:t.id,r=h.getToggle(this,t).bind(h),o=d.data_selection_grouped||!u||0<=u.indexOf(i),a=!l||0<=l.indexOf(e),s=n.classed(V.SELECTED);n.classed(V.line)||n.classed(V.area)||(o&&a?d.data_selection_isselectable(t)&&!s&&r(!0,n.classed(V.SELECTED,!0),t,e):R(c)&&c&&s&&r(!1,n.classed(V.SELECTED,!1),t,e))})},b.unselect=function(u,l){var c=this.internal,h=c.d3,f=c.config;f.data_selection_enabled&&c.main.selectAll("."+V.shapes).selectAll("."+V.shape).each(function(t,e){var n=h.select(this),i=t.data?t.data.id:t.id,r=c.getToggle(this,t).bind(c),o=f.data_selection_grouped||!u||0<=u.indexOf(i),a=!l||0<=l.indexOf(e),s=n.classed(V.SELECTED);n.classed(V.line)||n.classed(V.area)||o&&a&&f.data_selection_isselectable(t)&&s&&r(!1,n.classed(V.SELECTED,!1),t,e)})},b.show=function(t,e){var n,i=this.internal;t=i.mapToTargetIds(t),e=e||{},i.removeHiddenTargetIds(t),(n=i.svg.selectAll(i.selectorTargets(t))).transition().style("opacity",1,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",1)}),e.withLegend&&i.showLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},b.hide=function(t,e){var n,i=this.internal;t=i.mapToTargetIds(t),e=e||{},i.addHiddenTargetIds(t),(n=i.svg.selectAll(i.selectorTargets(t))).transition().style("opacity",0,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",0)}),e.withLegend&&i.hideLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},b.toggle=function(t,e){var n=this,i=this.internal;i.mapToTargetIds(t).forEach(function(t){i.isTargetToShow(t)?n.hide(t,e):n.show(t,e)})},b.tooltip=function(){},b.tooltip.show=function(t){var e,n,i=this.internal;t.mouse&&(n=t.mouse),t.data?i.isMultipleX()?(n=[i.x(t.data.x),i.getYScale(t.data.id)(t.data.value)],e=null):e=C(t.data.index)?t.data.index:i.getIndexByX(t.data.x):"undefined"!=typeof t.x?e=i.getIndexByX(t.x):"undefined"!=typeof t.index&&(e=t.index),i.dispatchEvent("mouseover",e,n),i.dispatchEvent("mousemove",e,n),i.config.tooltip_onshow.call(i,t.data)},b.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},b.transform=function(t,e){var n=this.internal,i=0<=["pie","donut"].indexOf(t)?{withTransform:!0}:null;n.transformTo(e,t,i)},x.transformTo=function(t,e,n){var i=this,r=!i.hasArcType(),o=n||{withTransitionForAxis:r};o.withTransitionForTransform=!1,i.transiting=!1,i.setTargetType(t,e),i.updateTargets(i.data.targets),i.updateAndRedraw(o)},b.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},b.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},b.zoom=function(t){var e=this.internal;return t&&(e.isTimeSeries()&&(t=t.map(function(t){return e.parseDate(t)})),e.brush.extent(t),e.redraw({withUpdateXDomain:!0,withY:e.config.zoom_rescale}),e.config.zoom_onzoom.call(this,e.x.orgDomain())),e.brush.extent()},b.zoom.enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},b.unzoom=function(){var t=this.internal;t.brush.clear().update(),t.redraw({withUpdateXDomain:!0})},b.zoom.max=function(t){var e=this.internal,n=e.config,i=e.d3;if(0!==t&&!t)return n.zoom_x_max;n.zoom_x_max=i.max([e.orgXDomain[1],t])},b.zoom.min=function(t){var e=this.internal,n=e.config,i=e.d3;if(0!==t&&!t)return n.zoom_x_min;n.zoom_x_min=i.min([e.orgXDomain[0],t])},b.zoom.range=function(t){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};R(t.max)&&this.domain.max(t.max),R(t.min)&&this.domain.min(t.min)},x.initPie=function(){var t=this,e=t.d3;t.pie=e.layout.pie().value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)}),t.pie.sort(t.getOrderFunction()||null)},x.updateRadius=function(){var t=this,e=t.config,n=e.gauge_width||e.donut_width;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2,t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=n?(t.radius-n)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0},x.updateArc=function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},x.updateAngle=function(e){var t,n,i,r,o=this,a=o.config,s=!1,u=0;return a?(o.pie(o.filterTargetsToShow(o.data.targets)).forEach(function(t){s||t.data.id!==e.data.id||(s=!0,(e=t).index=u),u++}),isNaN(e.startAngle)&&(e.startAngle=0),isNaN(e.endAngle)&&(e.endAngle=e.startAngle),o.isGaugeType(e.data)&&(t=a.gauge_min,n=a.gauge_max,i=Math.PI*(a.gauge_fullCircle?2:1)/(n-t),r=e.value<t?0:e.value<n?e.value-t:n-t,e.startAngle=a.gauge_startingAngle,e.endAngle=e.startAngle+i*r),s?e:null):null},x.getSvgArc=function(){var i=this,r=i.d3.svg.arc().outerRadius(i.radius).innerRadius(i.innerRadius),t=function(t,e){var n;return e?r(t):(n=i.updateAngle(t))?r(n):"M 0 0"};return t.centroid=r.centroid,t},x.getSvgArcExpanded=function(t){var n=this,i=n.d3.svg.arc().outerRadius(n.radiusExpanded*(t||1)).innerRadius(n.innerRadius);return function(t){var e=n.updateAngle(t);return e?i(e):"M 0 0"}},x.getArc=function(t,e,n){return n||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},x.transformForArcLabel=function(t){var e,n,i,r,o,a=this,s=a.config,u=a.updateAngle(t),l="";return u&&!a.hasType("gauge")&&(e=this.svgArc.centroid(u),n=isNaN(e[0])?0:e[0],i=isNaN(e[1])?0:e[1],r=Math.sqrt(n*n+i*i),l="translate("+n*(o=a.hasType("donut")&&s.donut_label_ratio?h(s.donut_label_ratio)?s.donut_label_ratio(t,a.radius,r):s.donut_label_ratio:a.hasType("pie")&&s.pie_label_ratio?h(s.pie_label_ratio)?s.pie_label_ratio(t,a.radius,r):s.pie_label_ratio:a.radius&&r?(.375<36/a.radius?1.175-36/a.radius:.8)*a.radius/r:0)+","+i*o+")"),l},x.getArcRatio=function(t){var e=this,n=e.config,i=Math.PI*(e.hasType("gauge")&&!n.gauge_fullCircle?1:2);return t?(t.endAngle-t.startAngle)/i:null},x.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getArcRatio(t),index:t.index})},x.textForArcLabel=function(t){var e,n,i,r,o,a=this;return a.shouldShowArcLabel()?(n=(e=a.updateAngle(t))?e.value:null,i=a.getArcRatio(e),r=t.data.id,a.hasType("gauge")||a.meetsArcLabelThreshold(i)?(o=a.getArcLabelFormat())?o(n,i,r):a.defaultArcValueFormat(n,i):""):""},x.textForGaugeMinMax=function(t,e){var n=this.getGaugeLabelExtents();return n?n(t,e):t},x.expandArc=function(t){var e,n=this;n.transiting?e=window.setInterval(function(){n.transiting||(window.clearInterval(e),0<n.legend.selectAll(".c3-legend-item-focused").size()&&n.expandArc(t))},10):(t=n.mapToTargetIds(t),n.svg.selectAll(n.selectorTargets(t,"."+V.chartArc)).each(function(t){n.shouldExpand(t.data.id)&&n.d3.select(this).selectAll("path").transition().duration(n.expandDuration(t.data.id)).attr("d",n.svgArcExpanded).transition().duration(2*n.expandDuration(t.data.id)).attr("d",n.svgArcExpandedSub).each(function(t){n.isDonutType(t.data)})}))},x.unexpandArc=function(t){var e=this;e.transiting||(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+V.chartArc)).selectAll("path").transition().duration(function(t){return e.expandDuration(t.data.id)}).attr("d",e.svgArc),e.svg.selectAll("."+V.arc))},x.expandDuration=function(t){var e=this,n=e.config;return e.isDonutType(t)?n.donut_expand_duration:e.isGaugeType(t)?n.gauge_expand_duration:e.isPieType(t)?n.pie_expand_duration:50},x.shouldExpand=function(t){var e=this,n=e.config;return e.isDonutType(t)&&n.donut_expand||e.isGaugeType(t)&&n.gauge_expand||e.isPieType(t)&&n.pie_expand},x.shouldShowArcLabel=function(){var t=this,e=t.config,n=!0;return t.hasType("donut")?n=e.donut_label_show:t.hasType("pie")&&(n=e.pie_label_show),n},x.meetsArcLabelThreshold=function(t){var e=this,n=e.config;return(e.hasType("donut")?n.donut_label_threshold:n.pie_label_threshold)<=t},x.getArcLabelFormat=function(){var t=this,e=t.config,n=e.pie_label_format;return t.hasType("gauge")?n=e.gauge_label_format:t.hasType("donut")&&(n=e.donut_label_format),n},x.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},x.getArcTitle=function(){var t=this;return t.hasType("donut")?t.config.donut_title:""},x.updateTargetsForArc=function(t){var e,n=this,i=n.main,r=n.classChartArc.bind(n),o=n.classArcs.bind(n),a=n.classFocus.bind(n);(e=i.select("."+V.chartArcs).selectAll("."+V.chartArc).data(n.pie(t)).attr("class",function(t){return r(t)+a(t.data)}).enter().append("g").attr("class",r)).append("g").attr("class",o),e.append("text").attr("dy",n.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},x.initArc=function(){var t=this;t.arcs=t.main.select("."+V.chart).append("g").attr("class",V.chartArcs).attr("transform",t.getTranslate("arc")),t.arcs.append("text").attr("class",V.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())},x.redrawArc=function(t,e,n){var i,r=this,o=r.d3,a=r.config,s=r.main;(i=s.selectAll("."+V.arcs).selectAll("."+V.arc).data(r.arcData.bind(r))).enter().append("path").attr("class",r.classArc.bind(r)).style("fill",function(t){return r.color(t.data)}).style("cursor",function(t){return a.interaction_enabled&&a.data_selection_isselectable(t)?"pointer":null}).each(function(t){r.isGaugeType(t.data)&&(t.startAngle=t.endAngle=a.gauge_startingAngle),this._current=t}),i.attr("transform",function(t){return!r.isGaugeType(t.data)&&n?"scale(0)":""}).on("mouseover",a.interaction_enabled?function(t){var e,n;r.transiting||(e=r.updateAngle(t))&&(n=r.convertToArcData(e),r.expandArc(e.data.id),r.api.focus(e.data.id),r.toggleFocusLegend(e.data.id,!0),r.config.data_onmouseover(n,this))}:null).on("mousemove",a.interaction_enabled?function(t){var e,n=r.updateAngle(t);n&&(e=[r.convertToArcData(n)],r.showTooltip(e,this))}:null).on("mouseout",a.interaction_enabled?function(t){var e,n;r.transiting||(e=r.updateAngle(t))&&(n=r.convertToArcData(e),r.unexpandArc(e.data.id),r.api.revert(),r.revertLegend(),r.hideTooltip(),r.config.data_onmouseout(n,this))}:null).on("click",a.interaction_enabled?function(t,e){var n,i=r.updateAngle(t);i&&(n=r.convertToArcData(i),r.toggleShape&&r.toggleShape(this,n,e),r.config.data_onclick.call(r.api,n,this))}:null).each(function(){r.transiting=!0}).transition().duration(t).attrTween("d",function(n){var i,t=r.updateAngle(n);return t?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),i=o.interpolate(this._current,t),this._current=i(0),function(t){var e=i(t);return e.data=n.data,r.getArc(e,!0)}):function(){return"M 0 0"}}).attr("transform",n?"scale(1)":"").style("fill",function(t){return r.levelColor?r.levelColor(t.data.values[0].value):r.color(t.data.id)}).call(r.endall,function(){r.transiting=!1}),i.exit().transition().duration(e).style("opacity",0).remove(),s.selectAll("."+V.chartArc).select("text").style("opacity",0).attr("class",function(t){return r.isGaugeType(t.data)?V.gaugeValue:""}).text(r.textForArcLabel.bind(r)).attr("transform",r.transformForArcLabel.bind(r)).style("font-size",function(t){return r.isGaugeType(t.data)?Math.round(r.radius/5)+"px":""}).transition().duration(t).style("opacity",function(t){return r.isTargetToShow(t.data.id)&&r.isArcType(t.data)?1:0}),s.select("."+V.chartArcsTitle).style("opacity",r.hasType("donut")||r.hasType("gauge")?1:0),r.hasType("gauge")&&(r.arcs.select("."+V.chartArcsBackground).attr("d",function(){var t={data:[{value:a.gauge_max}],startAngle:a.gauge_startingAngle,endAngle:-1*a.gauge_startingAngle};return r.getArc(t,!0,!0)}),r.arcs.select("."+V.chartArcsGaugeUnit).attr("dy",".75em").text(a.gauge_label_show?a.gauge_units:""),r.arcs.select("."+V.chartArcsGaugeMin).attr("dx",-1*(r.innerRadius+(r.radius-r.innerRadius)/(a.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(a.gauge_label_show?r.textForGaugeMinMax(a.gauge_min,!1):""),r.arcs.select("."+V.chartArcsGaugeMax).attr("dx",r.innerRadius+(r.radius-r.innerRadius)/(a.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(a.gauge_label_show?r.textForGaugeMinMax(a.gauge_max,!0):""))},x.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("path").attr("class",V.chartArcsBackground),t.append("text").attr("class",V.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",V.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",V.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},x.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},x.hasCaches=function(t){for(var e=0;e<t.length;e++)if(!(t[e]in this.cache))return!1;return!0},x.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},x.getCaches=function(t){var e,n=[];for(e=0;e<t.length;e++)t[e]in this.cache&&n.push(this.cloneTarget(this.cache[t[e]]));return n},x.categoryName=function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t},x.generateClass=function(t,e){return" "+t+" "+t+this.getTargetSelectorSuffix(e)},x.classText=function(t){return this.generateClass(V.text,t.index)},x.classTexts=function(t){return this.generateClass(V.texts,t.id)},x.classShape=function(t){return this.generateClass(V.shape,t.index)},x.classShapes=function(t){return this.generateClass(V.shapes,t.id)},x.classLine=function(t){return this.classShape(t)+this.generateClass(V.line,t.id)},x.classLines=function(t){return this.classShapes(t)+this.generateClass(V.lines,t.id)},x.classCircle=function(t){return this.classShape(t)+this.generateClass(V.circle,t.index)},x.classCircles=function(t){return this.classShapes(t)+this.generateClass(V.circles,t.id)},x.classBar=function(t){return this.classShape(t)+this.generateClass(V.bar,t.index)},x.classBars=function(t){return this.classShapes(t)+this.generateClass(V.bars,t.id)},x.classArc=function(t){return this.classShape(t.data)+this.generateClass(V.arc,t.data.id)},x.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(V.arcs,t.data.id)},x.classArea=function(t){return this.classShape(t)+this.generateClass(V.area,t.id)},x.classAreas=function(t){return this.classShapes(t)+this.generateClass(V.areas,t.id)},x.classRegion=function(t,e){return this.generateClass(V.region,e)+" "+("class"in t?t["class"]:"")},x.classEvent=function(t){return this.generateClass(V.eventRect,t.index)},x.classTarget=function(t){var e=this,n=e.config.data_classes[t],i="";return n&&(i=" "+V.target+"-"+n),e.generateClass(V.target,t)+i},x.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},x.classFocused=function(t){return" "+(0<=this.focusedTargetIds.indexOf(t.id)?V.focused:"")},x.classDefocused=function(t){return" "+(0<=this.defocusedTargetIds.indexOf(t.id)?V.defocused:"")},x.classChartText=function(t){return V.chartText+this.classTarget(t.id)},x.classChartLine=function(t){return V.chartLine+this.classTarget(t.id)},x.classChartBar=function(t){return V.chartBar+this.classTarget(t.id)},x.classChartArc=function(t){return V.chartArc+this.classTarget(t.data.id)},x.getTargetSelectorSuffix=function(t){return t||0===t?("-"+t).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},x.selectorTarget=function(t,e){return(e||"")+"."+V.target+this.getTargetSelectorSuffix(t)},x.selectorTargets=function(t,e){var n=this;return(t=t||[]).length?t.map(function(t){return n.selectorTarget(t,e)}):null},x.selectorLegend=function(t){return"."+V.legendItem+this.getTargetSelectorSuffix(t)},x.selectorLegends=function(t){var e=this;return t&&t.length?t.map(function(t){return e.selectorLegend(t)}):null},x.getClipPath=function(t){return"url("+(0<=window.navigator.appVersion.toLowerCase().indexOf("msie 9.")?"":document.URL.split("#")[0])+"#"+t+")"},x.appendClip=function(t,e){return t.append("clipPath").attr("id",e).append("rect")},x.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},x.getAxisClipY=function(t){return t?-20:-this.margin.top},x.getXAxisClipX=function(){var t=this;return t.getAxisClipX(!t.config.axis_rotated)},x.getXAxisClipY=function(){var t=this;return t.getAxisClipY(!t.config.axis_rotated)},x.getYAxisClipX=function(){var t=this;return t.config.axis_y_inner?-1:t.getAxisClipX(t.config.axis_rotated)},x.getYAxisClipY=function(){var t=this;return t.getAxisClipY(t.config.axis_rotated)},x.getAxisClipWidth=function(t){var e=this,n=Math.max(30,e.margin.left),i=Math.max(30,e.margin.right);return t?e.width+2+n+i:e.margin.left+20},x.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},x.getXAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(!t.config.axis_rotated)},x.getXAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(!t.config.axis_rotated)},x.getYAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(t.config.axis_rotated)+(t.config.axis_y_inner?20:0)},x.getYAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(t.config.axis_rotated)},x.generateColor=function(){var t=this,e=t.config,n=t.d3,i=e.data_colors,r=M(e.color_pattern)?e.color_pattern:n.scale.category10().range(),o=e.data_color,a=[];return function(t){var e,n=t.id||t.data&&t.data.id||t;return i[n]instanceof Function?e=i[n](t):i[n]?e=i[n]:(a.indexOf(n)<0&&a.push(n),e=r[a.indexOf(n)%r.length],i[n]=e),o instanceof Function?o(e,t):e}},x.generateLevelColor=function(){var t=this.config,i=t.color_pattern,e=t.color_threshold,r="value"===e.unit,o=e.values&&e.values.length?e.values:[],a=e.max||100;return M(t.color_threshold)?function(t){var e,n=i[i.length-1];for(e=0;e<o.length;e++)if((r?t:100*t/a)<o[e]){n=i[e];break}return n}:null},x.getDefaultConfig=function(){var e={bindto:"#chart",svg_classname:undefined,size_width:undefined,size_height:undefined,padding_left:undefined,padding_right:undefined,padding_top:undefined,padding_bottom:undefined,resize_auto:!0,zoom_enabled:!1,zoom_extent:undefined,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:undefined,zoom_x_max:undefined,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:undefined,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:undefined,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:undefined,data_colors:{},data_hide:!1,data_filter:undefined,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:undefined,data_headers:undefined,data_json:undefined,data_rows:undefined,data_columns:undefined,data_mimeType:undefined,data_keys:undefined,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:undefined,legend_item_onclick:undefined,legend_item_onmouseover:undefined,legend_item_onmouseout:undefined,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:undefined,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:undefined,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:undefined,axis_x_min:undefined,axis_x_padding:{},axis_x_height:undefined,axis_x_extent:undefined,axis_x_label:{},axis_y_show:!0,axis_y_type:undefined,axis_y_max:undefined,axis_y_min:undefined,axis_y_inverted:!1,axis_y_center:undefined,axis_y_inner:undefined,axis_y_label:{},axis_y_tick_format:undefined,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:undefined,axis_y_tick_time_value:undefined,axis_y_tick_time_interval:undefined,axis_y_padding:{},axis_y_default:undefined,axis_y2_show:!1,axis_y2_max:undefined,axis_y2_min:undefined,axis_y2_inverted:!1,axis_y2_center:undefined,axis_y2_inner:undefined,axis_y2_label:{},axis_y2_tick_format:undefined,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:undefined,axis_y2_padding:{},axis_y2_default:undefined,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:undefined,point_select_r:undefined,line_connectNull:!1,line_step_type:"step",bar_width:undefined,bar_width_ratio:.6,bar_width_max:undefined,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:undefined,pie_label_threshold:.05,pie_label_ratio:undefined,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:!1,gauge_label_show:!0,gauge_label_format:undefined,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:undefined,gauge_units:undefined,gauge_width:undefined,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:undefined,donut_label_threshold:.05,donut_label_ratio:undefined,donut_width:undefined,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:undefined,tooltip_format_title:undefined,tooltip_format_name:undefined,tooltip_format_value:undefined,tooltip_position:undefined,tooltip_contents:function(t,e,n,i){return this.getTooltipContent?this.getTooltipContent(t,e,n,i):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:undefined,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(t){e[t]=this.additionalConfig[t]},this),e},x.additionalConfig={},x.loadConfig=function(e){function n(){var t=r.shift();return t&&i&&"object"===(void 0===i?"undefined":u(i))&&t in i?(i=i[t],n()):t?undefined:i}var i,r,o,a=this.config;Object.keys(a).forEach(function(t){i=e,r=t.split("_"),o=n(),R(o)&&(a[t]=o)})},x.convertUrlToData=function(t,e,n,r,o){var a=this,s=e||"csv",i=a.d3.xhr(t);n&&Object.keys(n).forEach(function(t){i.header(t,n[t])}),i.get(function(t,e){var n,i=e.response||e.responseText;if(!e)throw new Error(t.responseURL+" "+t.status+" ("+t.statusText+")");n="json"===s?a.convertJsonToData(JSON.parse(i),r):"tsv"===s?a.convertTsvToData(i):a.convertCsvToData(i),o.call(a,n)})},x.convertXsvToData=function(t,e){var n,i=e.parseRows(t);return 1===i.length?(n=[{}],i[0].forEach(function(t){n[0][t]=null})):n=e.parse(t),n},x.convertCsvToData=function(t){return this.convertXsvToData(t,this.d3.csv)},x.convertTsvToData=function(t){return this.convertXsvToData(t,this.d3.tsv)},x.convertJsonToData=function(e,t){var r,n,o=this,a=[];return t?(t.x?(r=t.value.concat(t.x),o.config.data_x=t.x):r=t.value,a.push(r),e.forEach(function(n){var i=[];r.forEach(function(t){var e=o.findValueInJson(n,t);w(e)&&(e=null),i.push(e)}),a.push(i)}),n=o.convertRowsToData(a)):(Object.keys(e).forEach(function(t){a.push([t].concat(e[t]))}),n=o.convertColumnsToData(a)),n},x.findValueInJson=function(t,e){for(var n=(e=(e=e.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),i=0;i<n.length;++i){var r=n[i];if(!(r in t))return;t=t[r]}return t},x.convertRowsToData=function(t){for(var e=[],n=t[0],i=1;i<t.length;i++){for(var r={},o=0;o<t[i].length;o++){if(w(t[i][o]))throw new Error("Source data is missing a component at ("+i+","+o+")!");r[n[o]]=t[i][o]}e.push(r)}return e},x.convertColumnsToData=function(t){for(var e=[],n=0;n<t.length;n++)for(var i=t[n][0],r=1;r<t[n].length;r++){if(w(e[r-1])&&(e[r-1]={}),w(t[n][r]))throw new Error("Source data is missing a component at ("+n+","+r+")!");e[r-1][i]=t[n][r]}return e},x.convertDataToTargets=function(t,i){var e,u=this,l=u.config,n=u.d3.keys(t[0]).filter(u.isNotX,u),r=u.d3.keys(t[0]).filter(u.isX,u);return n.forEach(function(n){var e=u.getXKey(n);u.isCustomX()||u.isTimeSeries()?0<=r.indexOf(e)?u.data.xs[n]=(i&&u.data.xs[n]?u.data.xs[n]:[]).concat(t.map(function(t){return t[e]}).filter(C).map(function(t,e){return u.generateTargetX(t,n,e)})):l.data_x?u.data.xs[n]=u.getOtherTargetXs():M(l.data_xs)&&(u.data.xs[n]=u.getXValuesOfXKey(e,u.data.targets)):u.data.xs[n]=t.map(function(t,e){return e})}),n.forEach(function(t){if(!u.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')}),(e=n.map(function(o,a){var s=l.data_idConverter(o);return{id:s,id_org:o,values:t.map(function(t,e){var n,i=t[u.getXKey(o)],r=null===t[o]||isNaN(t[o])?null:+t[o];return u.isCustomX()&&u.isCategorized()&&!w(i)?(0===a&&0===e&&(l.axis_x_categories=[]),-1===(n=l.axis_x_categories.indexOf(i))&&(n=l.axis_x_categories.length,l.axis_x_categories.push(i))):n=u.generateTargetX(i,o,e),(w(t[o])||u.data.xs[o].length<=e)&&(n=undefined),{x:n,value:r,id:s}}).filter(function(t){return R(t.x)})}})).forEach(function(t){var e;l.data_xSort&&(t.values=t.values.sort(function(t,e){return(t.x||0===t.x?t.x:Infinity)-(e.x||0===e.x?e.x:Infinity)})),e=0,t.values.forEach(function(t){t.index=e++}),u.data.xs[t.id].sort(function(t,e){return t-e})}),u.hasNegativeValue=u.hasNegativeValueInTargets(e),u.hasPositiveValue=u.hasPositiveValueInTargets(e),l.data_type&&u.setTargetType(u.mapToIds(e).filter(function(t){return!(t in l.data_types)}),l.data_type),e.forEach(function(t){u.addCache(t.id_org,t)}),e},x.isX=function(t){var e=this.config;return e.data_x&&t===e.data_x||M(e.data_xs)&&m(e.data_xs,t)},x.isNotX=function(t){return!this.isX(t)},x.getXKey=function(t){var e=this.config;return e.data_x?e.data_x:M(e.data_xs)?e.data_xs[t]:null},x.getXValuesOfXKey=function(e,t){var n,i=this;return(t&&M(t)?i.mapToIds(t):[]).forEach(function(t){i.getXKey(t)===e&&(n=i.data.xs[t])}),n},x.getIndexByX=function(t){var e=this,n=e.filterByX(e.data.targets,t);return n.length?n[0].index:null},x.getXValue=function(t,e){var n=this;return t in n.data.xs&&n.data.xs[t]&&C(n.data.xs[t][e])?n.data.xs[t][e]:e},x.getOtherTargetXs=function(){var t=this,e=Object.keys(t.data.xs);return e.length?t.data.xs[e[0]]:null},x.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},x.addXs=function(e){var n=this;Object.keys(e).forEach(function(t){n.config.data_xs[t]=e[t]})},
x.hasMultipleX=function(e){return 1<this.d3.set(Object.keys(e).map(function(t){return e[t]})).size()},x.isMultipleX=function(){return M(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},x.addName=function(t){var e;return t&&(e=this.config.data_names[t.id],t.name=e!==undefined?e:t.id),t},x.getValueOnIndex=function(t,e){var n=t.filter(function(t){return t.index===e});return n.length?n[0]:null},x.updateTargetX=function(t,i){var r=this;t.forEach(function(n){n.values.forEach(function(t,e){t.x=r.generateTargetX(i[e],n.id,e)}),r.data.xs[n.id]=i})},x.updateTargetXs=function(t,e){var n=this;t.forEach(function(t){e[t.id]&&n.updateTargetX([t],e[t.id])})},x.generateTargetX=function(t,e,n){var i=this;return i.isTimeSeries()?t?i.parseDate(t):i.parseDate(i.getXValue(e,n)):i.isCustomX()&&!i.isCategorized()?C(t)?+t:i.getXValue(e,n):n},x.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},x.updateXs=function(){var e=this;e.data.targets.length&&(e.xs=[],e.data.targets[0].values.forEach(function(t){e.xs[t.index]=t.x}))},x.getPrevX=function(t){var e=this.xs[t-1];return void 0!==e?e:null},x.getNextX=function(t){var e=this.xs[t+1];return void 0!==e?e:null},x.getMaxDataCount=function(){var t=this;return t.d3.max(t.data.targets,function(t){return t.values.length})},x.getMaxDataCountTarget=function(t){var e,n=t.length,i=0;return 1<n?t.forEach(function(t){t.values.length>i&&(i=(e=t).values.length)}):e=n?t[0]:null,e},x.getEdgeX=function(t){var e=this;return t.length?[e.d3.min(t,function(t){return t.values[0].x}),e.d3.max(t,function(t){return t.values[t.values.length-1].x})]:[0,0]},x.mapToIds=function(t){return t.map(function(t){return t.id})},x.mapToTargetIds=function(t){var e=this;return t?[].concat(t):e.mapToIds(e.data.targets)},x.hasTarget=function(t,e){var n,i=this.mapToIds(t);for(n=0;n<i.length;n++)if(i[n]===e)return!0;return!1},x.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},x.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},x.filterTargetsToShow=function(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})},x.mapTargetsToUniqueXs=function(t){var e=this,n=e.d3.set(e.d3.merge(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();return(n=e.isTimeSeries()?n.map(function(t){return new Date(+t)}):n.map(function(t){return+t})).sort(function(t,e){return t<e?-1:e<t?1:e<=t?0:NaN})},x.addHiddenTargetIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenTargetIds.indexOf(t[e])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(t[e]))},x.removeHiddenTargetIds=function(e){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(t){return e.indexOf(t)<0})},x.addHiddenLegendIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenLegendIds.indexOf(t[e])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(t[e]))},x.removeHiddenLegendIds=function(e){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(t){return e.indexOf(t)<0})},x.getValuesAsIdKeyed=function(t){var n={};return t.forEach(function(e){n[e.id]=[],e.values.forEach(function(t){n[e.id].push(t.value)})}),n},x.checkValueInTargets=function(t,e){var n,i,r,o=Object.keys(t);for(n=0;n<o.length;n++)for(r=t[o[n]].values,i=0;i<r.length;i++)if(e(r[i].value))return!0;return!1},x.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t<0})},x.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return 0<t})},x.isOrderDesc=function(){var t=this.config;return"string"==typeof t.data_order&&"desc"===t.data_order.toLowerCase()},x.isOrderAsc=function(){var t=this.config;return"string"==typeof t.data_order&&"asc"===t.data_order.toLowerCase()},x.getOrderFunction=function(){var t=this,e=t.config,n=t.isOrderAsc(),o=t.isOrderDesc();if(n||o)return function(t,e){var n=function(t,e){return t+Math.abs(e.value)},i=t.values.reduce(n,0),r=e.values.reduce(n,0);return o?r-i:i-r};if(h(e.data_order))return e.data_order;if(c(e.data_order)){var i=e.data_order;return function(t,e){return i.indexOf(t.id)-i.indexOf(e.id)}}},x.orderTargets=function(t){var e=this.getOrderFunction();return e&&(t.sort(e),(this.isOrderAsc()||this.isOrderDesc())&&t.reverse()),t},x.filterByX=function(t,e){return this.d3.merge(t.map(function(t){return t.values})).filter(function(t){return t.x-e==0})},x.filterRemoveNull=function(t){return t.filter(function(t){return C(t.value)})},x.filterByXDomain=function(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})},x.hasDataLabel=function(){var t=this.config;return!("boolean"!=typeof t.data_labels||!t.data_labels)||!("object"!==u(t.data_labels)||!M(t.data_labels))},x.getDataLabelLength=function(t,e,n){var i=this,r=[0,0],o=1.3;return i.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return i.dataLabelFormat(t.id)(t)}).each(function(t,e){r[e]=this.getBoundingClientRect()[n]*o}).remove(),r},x.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},x.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},x.findSameXOfValues=function(t,e){var n,i=t[e].x,r=[];for(n=e-1;0<=n&&i===t[n].x;n--)r.push(t[n]);for(n=e;n<t.length&&i===t[n].x;n++)r.push(t[n]);return r},x.findClosestFromTargets=function(t,e){var n,i=this;return n=t.map(function(t){return i.findClosest(t.values,e)}),i.findClosest(n,e)},x.findClosest=function(t,n){var i,r=this,o=r.config.point_sensitivity;return t.filter(function(t){return t&&r.isBarType(t.id)}).forEach(function(t){var e=r.main.select("."+V.bars+r.getTargetSelectorSuffix(t.id)+" ."+V.bar+"-"+t.index).node();!i&&r.isWithinBar(e)&&(i=t)}),t.filter(function(t){return t&&!r.isBarType(t.id)}).forEach(function(t){var e=r.dist(t,n);e<o&&(o=e,i=t)}),i},x.dist=function(t,e){var n=this,i=n.config,r=i.axis_rotated?1:0,o=i.axis_rotated?0:1,a=n.circleY(t,t.index),s=n.x(t.x);return Math.sqrt(Math.pow(s-e[r],2)+Math.pow(a-e[o],2))},x.convertValuesToStep=function(t){var e,n=[].concat(t);if(!this.isCategorized())return t;for(e=t.length+1;0<e;e--)n[e]=n[e-1];return n[0]={x:n[0].x-1,value:n[0].value,id:n[0].id},n[t.length+1]={x:n[t.length].x+1,value:n[t.length].value,id:n[t.length].id},n},x.updateDataAttributes=function(t,e){var n=this,i=n.config["data_"+t];return void 0===e||(Object.keys(e).forEach(function(t){i[t]=e[t]}),n.redraw({withLegend:!0})),i},x.load=function(n,i){var r=this;n&&(i.filter&&(n=n.filter(i.filter)),(i.type||i.types)&&n.forEach(function(t){var e=i.types&&i.types[t.id]?i.types[t.id]:i.type;r.setTargetType(t.id,e)}),r.data.targets.forEach(function(t){for(var e=0;e<n.length;e++)if(t.id===n[e].id){t.values=n[e].values,n.splice(e,1);break}}),r.data.targets=r.data.targets.concat(n)),r.updateTargets(r.data.targets),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),i.done&&i.done()},x.loadFromArgs=function(e){var n=this;e.data?n.load(n.convertDataToTargets(e.data),e):e.url?n.convertUrlToData(e.url,e.mimeType,e.headers,e.keys,function(t){n.load(n.convertDataToTargets(t),e)}):e.json?n.load(n.convertDataToTargets(n.convertJsonToData(e.json,e.keys)),e):e.rows?n.load(n.convertDataToTargets(n.convertRowsToData(e.rows)),e):e.columns?n.load(n.convertDataToTargets(n.convertColumnsToData(e.columns)),e):n.load(null,e)},x.unload=function(t,e){var n=this;e||(e=function(){}),(t=t.filter(function(t){return n.hasTarget(n.data.targets,t)}))&&0!==t.length?(n.svg.selectAll(t.map(function(t){return n.selectorTarget(t)})).transition().style("opacity",0).remove().call(n.endall,e),t.forEach(function(e){n.withoutFadeIn[e]=!1,n.legend&&n.legend.selectAll("."+V.legendItem+n.getTargetSelectorSuffix(e)).remove(),n.data.targets=n.data.targets.filter(function(t){return t.id!==e})})):e()},x.getYDomainMin=function(t){var e,n,i,r,o,a,s=this,u=s.config,l=s.mapToIds(t),c=s.getValuesAsIdKeyed(t);if(0<u.data_groups.length)for(a=s.hasNegativeValueInTargets(t),e=0;e<u.data_groups.length;e++)if(0!==(r=u.data_groups[e].filter(function(t){return 0<=l.indexOf(t)})).length)for(i=r[0],a&&c[i]&&c[i].forEach(function(t,e){c[i][e]=t<0?t:0}),n=1;n<r.length;n++)o=r[n],c[o]&&c[o].forEach(function(t,e){s.axis.getId(o)!==s.axis.getId(i)||!c[i]||a&&0<+t||(c[i][e]+=+t)});return s.d3.min(Object.keys(c).map(function(t){return s.d3.min(c[t])}))},x.getYDomainMax=function(t){var e,n,i,r,o,a,s=this,u=s.config,l=s.mapToIds(t),c=s.getValuesAsIdKeyed(t);if(0<u.data_groups.length)for(a=s.hasPositiveValueInTargets(t),e=0;e<u.data_groups.length;e++)if(0!==(r=u.data_groups[e].filter(function(t){return 0<=l.indexOf(t)})).length)for(i=r[0],a&&c[i]&&c[i].forEach(function(t,e){c[i][e]=0<t?t:0}),n=1;n<r.length;n++)o=r[n],c[o]&&c[o].forEach(function(t,e){s.axis.getId(o)!==s.axis.getId(i)||!c[i]||a&&+t<0||(c[i][e]+=+t)});return s.d3.max(Object.keys(c).map(function(t){return s.d3.max(c[t])}))},x.getYDomain=function(t,e,n){var i,r,o,a,s,u,l,c,h,f,d=this,p=d.config,g=t.filter(function(t){return d.axis.getId(t.id)===e}),m=n?d.filterByXDomain(g,n):g,v="y2"===e?p.axis_y2_min:p.axis_y_min,y="y2"===e?p.axis_y2_max:p.axis_y_max,_=d.getYDomainMin(m),b=d.getYDomainMax(m),x="y2"===e?p.axis_y2_center:p.axis_y_center,w=d.hasType("bar",m)&&p.bar_zerobased||d.hasType("area",m)&&p.area_zerobased,S="y2"===e?p.axis_y2_inverted:p.axis_y_inverted,T=d.hasDataLabel()&&p.axis_rotated,k=d.hasDataLabel()&&!p.axis_rotated;return _=C(v)?v:C(y)?_<y?_:y-10:_,b=C(y)?y:C(v)?v<b?b:v+10:b,0===m.length?"y2"===e?d.y2.domain():d.y.domain():(isNaN(_)&&(_=0),isNaN(b)&&(b=_),_===b&&(_<0?b=0:_=0),h=0<=_&&0<=b,f=_<=0&&b<=0,(C(v)&&h||C(y)&&f)&&(w=!1),w&&(h&&(_=0),f&&(b=0)),o=a=.1*(r=Math.abs(b-_)),void 0!==x&&(b=x+(s=Math.max(Math.abs(_),Math.abs(b))),_=x-s),T?(u=d.getDataLabelLength(_,b,"width"),l=O(d.y.range()),o+=r*((c=[u[0]/l,u[1]/l])[1]/(1-c[0]-c[1])),a+=r*(c[0]/(1-c[0]-c[1]))):k&&(u=d.getDataLabelLength(_,b,"height"),o+=d.axis.convertPixelsToAxisPadding(u[1],r),a+=d.axis.convertPixelsToAxisPadding(u[0],r)),"y"===e&&M(p.axis_y_padding)&&(o=d.axis.getPadding(p.axis_y_padding,"top",o,r),a=d.axis.getPadding(p.axis_y_padding,"bottom",a,r)),"y2"===e&&M(p.axis_y2_padding)&&(o=d.axis.getPadding(p.axis_y2_padding,"top",o,r),a=d.axis.getPadding(p.axis_y2_padding,"bottom",a,r)),w&&(h&&(a=_),f&&(o=-b)),i=[_-a,b+o],S?i.reverse():i)},x.getXDomainMin=function(t){var e=this,n=e.config;return R(n.axis_x_min)?e.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:e.d3.min(t,function(t){return e.d3.min(t.values,function(t){return t.x})})},x.getXDomainMax=function(t){var e=this,n=e.config;return R(n.axis_x_max)?e.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:e.d3.max(t,function(t){return e.d3.max(t.values,function(t){return t.x})})},x.getXDomainPadding=function(t){var e,n,i,r,o=this,a=o.config,s=t[1]-t[0];return n=o.isCategorized()?0:o.hasType("bar")?1<(e=o.getMaxDataCount())?s/(e-1)/2:.5:.01*s,"object"===u(a.axis_x_padding)&&M(a.axis_x_padding)?(i=C(a.axis_x_padding.left)?a.axis_x_padding.left:n,r=C(a.axis_x_padding.right)?a.axis_x_padding.right:n):i=r="number"==typeof a.axis_x_padding?a.axis_x_padding:n,{left:i,right:r}},x.getXDomain=function(t){var e=this,n=[e.getXDomainMin(t),e.getXDomainMax(t)],i=n[0],r=n[1],o=e.getXDomainPadding(n),a=0,s=0;return i-r!=0||e.isCategorized()||(e.isTimeSeries()?(i=new Date(.5*i.getTime()),r=new Date(1.5*r.getTime())):(i=0===i?1:.5*i,r=0===r?-1:1.5*r)),(i||0===i)&&(a=e.isTimeSeries()?new Date(i.getTime()-o.left):i-o.left),(r||0===r)&&(s=e.isTimeSeries()?new Date(r.getTime()+o.right):r+o.right),[a,s]},x.updateXDomain=function(t,e,n,i,r){var o=this,a=o.config;return n&&(o.x.domain(r||o.d3.extent(o.getXDomain(t))),o.orgXDomain=o.x.domain(),a.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent(),o.subX.domain(o.x.domain()),o.brush&&o.brush.scale(o.subX)),e&&(o.x.domain(r||(!o.brush||o.brush.empty()?o.orgXDomain:o.brush.extent())),a.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent()),i&&o.x.domain(o.trimXDomain(o.x.orgDomain())),o.x.domain()},x.trimXDomain=function(t){var e=this.getZoomDomain(),n=e[0],i=e[1];return t[0]<=n&&(t[1]=+t[1]+(n-t[0]),t[0]=n),i<=t[1]&&(t[0]=+t[0]-(t[1]-i),t[1]=i),t},x.drag=function(t){var e,n,i,r,f,d,p,g,m=this,o=m.config,a=m.main,v=m.d3;m.hasArcType()||o.data_selection_enabled&&(o.zoom_enabled&&!m.zoom.altDomain||o.data_selection_multiple&&(e=m.dragStart[0],n=m.dragStart[1],i=t[0],r=t[1],f=Math.min(e,i),d=Math.max(e,i),p=o.data_selection_grouped?m.margin.top:Math.min(n,r),g=o.data_selection_grouped?m.height:Math.max(n,r),a.select("."+V.dragarea).attr("x",f).attr("y",p).attr("width",d-f).attr("height",g-p),a.selectAll("."+V.shapes).selectAll("."+V.shape).filter(function(t){return o.data_selection_isselectable(t)}).each(function(t,e){var n,i,r,o,a,s,u=v.select(this),l=u.classed(V.SELECTED),c=u.classed(V.INCLUDED),h=!1;if(u.classed(V.circle))n=1*u.attr("cx"),i=1*u.attr("cy"),a=m.togglePoint,h=f<n&&n<d&&p<i&&i<g;else{if(!u.classed(V.bar))return;n=(s=y(this)).x,i=s.y,r=s.width,o=s.height,a=m.togglePath,h=!(d<n||n+r<f||g<i||i+o<p)}h^c&&(u.classed(V.INCLUDED,!c),u.classed(V.SELECTED,!l),a.call(m,!l,u,t,e))})))},x.dragstart=function(t){var e=this,n=e.config;e.hasArcType()||n.data_selection_enabled&&(e.dragStart=t,e.main.select("."+V.chart).append("rect").attr("class",V.dragarea).style("opacity",.1),e.dragging=!0)},x.dragend=function(){var t=this,e=t.config;t.hasArcType()||e.data_selection_enabled&&(t.main.select("."+V.dragarea).transition().duration(100).style("opacity",0).remove(),t.main.selectAll("."+V.shape).classed(V.INCLUDED,!1),t.dragging=!1)},x.getYFormat=function(t){var i=this,r=t&&!i.hasType("gauge")?i.defaultArcValueFormat:i.yFormat,o=t&&!i.hasType("gauge")?i.defaultArcValueFormat:i.y2Format;return function(t,e,n){return("y2"===i.axis.getId(n)?o:r).call(i,t,e)}},x.yFormat=function(t){var e=this,n=e.config;return(n.axis_y_tick_format?n.axis_y_tick_format:e.defaultValueFormat)(t)},x.y2Format=function(t){var e=this,n=e.config;return(n.axis_y2_tick_format?n.axis_y2_tick_format:e.defaultValueFormat)(t)},x.defaultValueFormat=function(t){return C(t)?+t:""},x.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+"%"},x.dataLabelFormat=function(t){var e=this.config.data_labels,n=function(t){return C(t)?+t:""};return"function"==typeof e.format?e.format:"object"===u(e.format)?e.format[t]?!0===e.format[t]?n:e.format[t]:function(){return""}:n},x.initGrid=function(){var t=this,e=t.config,n=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",V.grid),e.grid_x_show&&t.grid.append("g").attr("class",V.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",V.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",V.xgridFocus).append("line").attr("class",V.xgridFocus),t.xgrid=n.selectAll([]),e.grid_lines_front||t.initGridLines()},x.initGridLines=function(){var t=this,e=t.d3;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",V.grid+" "+V.gridLines),t.gridLines.append("g").attr("class",V.xgridLines),t.gridLines.append("g").attr("class",V.ygridLines),t.xgridLines=e.selectAll([])},x.updateXGrid=function(t){var e=this,n=e.config,i=e.d3,r=e.generateGridData(n.grid_x_type,e.x),o=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=n.axis_rotated?{x1:0,x2:e.width,y1:function(t){return e.x(t)-o},y2:function(t){return e.x(t)-o}}:{x1:function(t){return e.x(t)+o},x2:function(t){return e.x(t)+o},y1:0,y2:e.height},e.xgrid=e.main.select("."+V.xgrids).selectAll("."+V.xgrid).data(r),e.xgrid.enter().append("line").attr("class",V.xgrid),t||e.xgrid.attr(e.xgridAttr).style("opacity",function(){return+i.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?e.height:0)?0:1}),e.xgrid.exit().remove()},x.updateYGrid=function(){var t=this,e=t.config,n=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks);t.ygrid=t.main.select("."+V.ygrids).selectAll("."+V.ygrid).data(n),t.ygrid.enter().append("line").attr("class",V.ygrid),t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y),t.ygrid.exit().remove(),t.smoothLines(t.ygrid,"grid")},x.gridTextAnchor=function(t){return t.position?t.position:"end"},x.gridTextDx=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},x.xGridTextX=function(t){return"start"===t.position?-this.height:"middle"===t.position?-this.height/2:0},x.yGridTextX=function(t){return"start"===t.position?0:"middle"===t.position?this.width/2:this.width},x.updateGrid=function(t){var e,n,i,r=this,o=r.main,a=r.config;r.grid.style("visibility",r.hasArcType()?"hidden":"visible"),o.select("line."+V.xgridFocus).style("visibility","hidden"),a.grid_x_show&&r.updateXGrid(),r.xgridLines=o.select("."+V.xgridLines).selectAll("."+V.xgridLine).data(a.grid_x_lines),(e=r.xgridLines.enter().append("g").attr("class",function(t){return V.xgridLine+(t["class"]?" "+t["class"]:"")})).append("line").style("opacity",0),e.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",a.axis_rotated?"":"rotate(-90)").attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),r.xgridLines.exit().transition().duration(t).style("opacity",0).remove(),a.grid_y_show&&r.updateYGrid(),r.ygridLines=o.select("."+V.ygridLines).selectAll("."+V.ygridLine).data(a.grid_y_lines),(n=r.ygridLines.enter().append("g").attr("class",function(t){return V.ygridLine+(t["class"]?" "+t["class"]:"")})).append("line").style("opacity",0),n.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",a.axis_rotated?"rotate(-90)":"").attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),i=r.yv.bind(r),r.ygridLines.select("line").transition().duration(t).attr("x1",a.axis_rotated?i:0).attr("x2",a.axis_rotated?i:r.width).attr("y1",a.axis_rotated?0:i).attr("y2",a.axis_rotated?r.height:i).style("opacity",1),r.ygridLines.select("text").transition().duration(t).attr("x",a.axis_rotated?r.xGridTextX.bind(r):r.yGridTextX.bind(r)).attr("y",i).text(function(t){return t.text}).style("opacity",1),r.ygridLines.exit().transition().duration(t).style("opacity",0).remove()},x.redrawGrid=function(t){var e=this,n=e.config,i=e.xv.bind(e),r=e.xgridLines.select("line"),o=e.xgridLines.select("text");return[(t?r.transition():r).attr("x1",n.axis_rotated?0:i).attr("x2",n.axis_rotated?e.width:i).attr("y1",n.axis_rotated?i:0).attr("y2",n.axis_rotated?i:e.height).style("opacity",1),(t?o.transition():o).attr("x",n.axis_rotated?e.yGridTextX.bind(e):e.xGridTextX.bind(e)).attr("y",i).text(function(t){return t.text}).style("opacity",1)]},x.showXGridFocus=function(t){var e=this,n=e.config,i=t.filter(function(t){return t&&C(t.value)}),r=e.main.selectAll("line."+V.xgridFocus),o=e.xx.bind(e);n.tooltip_show&&(e.hasType("scatter")||e.hasArcType()||(r.style("visibility","visible").data([i[0]]).attr(n.axis_rotated?"y1":"x1",o).attr(n.axis_rotated?"y2":"x2",o),e.smoothLines(r,"grid")))},x.hideXGridFocus=function(){this.main.select("line."+V.xgridFocus).style("visibility","hidden")},x.updateXgridFocus=function(){var t=this,e=t.config;t.main.select("line."+V.xgridFocus).attr("x1",e.axis_rotated?0:-10).attr("x2",e.axis_rotated?t.width:-10).attr("y1",e.axis_rotated?-10:0).attr("y2",e.axis_rotated?-10:t.height)},x.generateGridData=function(t,e){var n,i,r,o,a=this,s=[],u=a.main.select("."+V.axisX).selectAll(".tick").size();if("year"===t)for(i=(n=a.getXDomain())[0].getFullYear(),r=n[1].getFullYear(),o=i;o<=r;o++)s.push(new Date(o+"-01-01 00:00:00"));else(s=e.ticks(10)).length>u&&(s=s.filter(function(t){return(""+t).indexOf(".")<0}));return s},x.getGridFilterToRemove=function(t){return t?function(e){var n=!1;return[].concat(t).forEach(function(t){("value"in t&&e.value===t.value||"class"in t&&e["class"]===t["class"])&&(n=!0)}),n}:function(){return!0}},x.removeGridLines=function(t,e){var n=this,i=n.config,r=n.getGridFilterToRemove(t),o=function(t){return!r(t)},a=e?V.xgridLines:V.ygridLines,s=e?V.xgridLine:V.ygridLine;n.main.select("."+a).selectAll("."+s).filter(r).transition().duration(i.transition_duration).style("opacity",0).remove(),e?i.grid_x_lines=i.grid_x_lines.filter(o):i.grid_y_lines=i.grid_y_lines.filter(o)},x.initEventRect=function(){this.main.select("."+V.chart).append("g").attr("class",V.eventRects).style("fill-opacity",0)},x.redrawEventRect=function(){var t,e,n=this,i=n.config,r=n.isMultipleX(),o=n.main.select("."+V.eventRects).style("cursor",i.zoom_enabled?i.axis_rotated?"ns-resize":"ew-resize":null).classed(V.eventRectsMultiple,r).classed(V.eventRectsSingle,!r);o.selectAll("."+V.eventRect).remove(),n.eventRect=o.selectAll("."+V.eventRect),r?(t=n.eventRect.data([0]),n.generateEventRectsForMultipleXs(t.enter()),n.updateEventRect(t)):(e=n.getMaxDataCountTarget(n.data.targets),o.datum(e?e.values:[]),n.eventRect=o.selectAll("."+V.eventRect),t=n.eventRect.data(function(t){return t}),n.generateEventRectsForSingleX(t.enter()),n.updateEventRect(t),t.exit().remove())},x.updateEventRect=function(t){var e,n,i,r,o,a,s=this,u=s.config;t=t||s.eventRect.data(function(t){return t}),s.isMultipleX()?(n=e=0,i=s.width,r=s.height):(!s.isCustomX()&&!s.isTimeSeries()||s.isCategorized()?(o=s.getEventRectWidth(),a=function(t){return s.x(t.x)-o/2}):(s.updateXs(),o=function(t){var e=s.getPrevX(t.index),n=s.getNextX(t.index);return null===e&&null===n?u.axis_rotated?s.height:s.width:(null===e&&(e=s.x.domain()[0]),null===n&&(n=s.x.domain()[1]),Math.max(0,(s.x(n)-s.x(e))/2))},a=function(t){var e=s.getPrevX(t.index),n=s.getNextX(t.index),i=s.data.xs[t.id][t.index];return null===e&&null===n?0:(null===e&&(e=s.x.domain()[0]),(s.x(i)+s.x(e))/2)}),e=u.axis_rotated?0:a,n=u.axis_rotated?a:0,i=u.axis_rotated?s.width:o,r=u.axis_rotated?o:s.height),t.attr("class",s.classEvent.bind(s)).attr("x",e).attr("y",n).attr("width",i).attr("height",r)},x.generateEventRectsForSingleX=function(t){var r=this,o=r.d3,a=r.config;t.append("rect").attr("class",r.classEvent.bind(r)).style("cursor",a.data_selection_enabled&&a.data_selection_grouped?"pointer":null).on("mouseover",function(t){var e=t.index;r.dragging||r.flowing||r.hasArcType()||(a.point_focus_expand_enabled&&r.expandCircles(e,null,!0),r.expandBars(e,null,!0),r.main.selectAll("."+V.shape+"-"+e).each(function(t){a.data_onmouseover.call(r.api,t)}))}).on("mouseout",function(t){var e=t.index;r.config&&(r.hasArcType()||(r.hideXGridFocus(),r.hideTooltip(),r.unexpandCircles(),r.unexpandBars(),r.main.selectAll("."+V.shape+"-"+e).each(function(t){a.data_onmouseout.call(r.api,t)})))}).on("mousemove",function(t){var e,n=t.index,i=r.svg.select("."+V.eventRect+"-"+n);r.dragging||r.flowing||r.hasArcType()||(r.isStepType(t)&&"step-after"===r.config.line_step_type&&o.mouse(this)[0]<r.x(r.getXValue(t.id,n))&&(n-=1),e=r.filterTargetsToShow(r.data.targets).map(function(t){return r.addName(r.getValueOnIndex(t.values,n))}),a.tooltip_grouped&&(r.showTooltip(e,this),r.showXGridFocus(e)),(!a.tooltip_grouped||a.data_selection_enabled&&!a.data_selection_grouped)&&r.main.selectAll("."+V.shape+"-"+n).each(function(){o.select(this).classed(V.EXPANDED,!0),a.data_selection_enabled&&i.style("cursor",a.data_selection_grouped?"pointer":null),a.tooltip_grouped||(r.hideXGridFocus(),r.hideTooltip(),a.data_selection_grouped||(r.unexpandCircles(n),r.unexpandBars(n)))}).filter(function(t){return r.isWithinShape(this,t)}).each(function(t){a.data_selection_enabled&&(a.data_selection_grouped||a.data_selection_isselectable(t))&&i.style("cursor","pointer"),a.tooltip_grouped||(r.showTooltip([t],this),r.showXGridFocus([t]),a.point_focus_expand_enabled&&r.expandCircles(n,t.id,!0),r.expandBars(n,t.id,!0))}))}).on("click",function(t){var e=t.index;!r.hasArcType()&&r.toggleShape&&(r.cancelClick?r.cancelClick=!1:(r.isStepType(t)&&"step-after"===a.line_step_type&&o.mouse(this)[0]<r.x(r.getXValue(t.id,e))&&(e-=1),r.main.selectAll("."+V.shape+"-"+e).each(function(t){(a.data_selection_grouped||r.isWithinShape(this,t))&&(r.toggleShape(this,t,e),r.config.data_onclick.call(r.api,t,this))})))}).call(a.data_selection_draggable&&r.drag?o.behavior.drag().origin(Object).on("drag",function(){r.drag(o.mouse(this))}).on("dragstart",function(){r.dragstart(o.mouse(this))}).on("dragend",function(){r.dragend()}):function(){})},x.generateEventRectsForMultipleXs=function(t){function r(){o.svg.select("."+V.eventRect).style("cursor",null),o.hideXGridFocus(),o.hideTooltip(),o.unexpandCircles(),o.unexpandBars()}var o=this,a=o.d3,s=o.config;t.append("rect").attr("x",0).attr("y",0).attr("width",o.width).attr("height",o.height).attr("class",V.eventRect).on("mouseout",function(){o.config&&(o.hasArcType()||r())}).on("mousemove",function(){var t,e,n,i=o.filterTargetsToShow(o.data.targets);o.dragging||o.hasArcType(i)||(t=a.mouse(this),e=o.findClosestFromTargets(i,t),!o.mouseover||e&&e.id===o.mouseover.id||(s.data_onmouseout.call(o.api,o.mouseover),o.mouseover=undefined),e?(n=(o.isScatterType(e)||!s.tooltip_grouped?[e]:o.filterByX(i,e.x)).map(function(t){return o.addName(t)}),o.showTooltip(n,this),s.point_focus_expand_enabled&&o.expandCircles(e.index,e.id,!0),o.expandBars(e.index,e.id,!0),o.showXGridFocus(n),(o.isBarType(e.id)||o.dist(e,t)<s.point_sensitivity)&&(o.svg.select("."+V.eventRect).style("cursor","pointer"),o.mouseover||(s.data_onmouseover.call(o.api,e),o.mouseover=e))):r())}).on("click",function(){var t,e,n=o.filterTargetsToShow(o.data.targets);o.hasArcType(n)||(t=a.mouse(this),(e=o.findClosestFromTargets(n,t))&&(o.isBarType(e.id)||o.dist(e,t)<s.point_sensitivity)&&o.main.selectAll("."+V.shapes+o.getTargetSelectorSuffix(e.id)).selectAll("."+V.shape+"-"+e.index).each(function(){(s.data_selection_grouped||o.isWithinShape(this,e))&&(o.toggleShape(this,e,e.index),o.config.data_onclick.call(o.api,e,this))}))}).call(s.data_selection_draggable&&o.drag?a.behavior.drag().origin(Object).on("drag",function(){o.drag(a.mouse(this))}).on("dragstart",function(){o.dragstart(a.mouse(this))}).on("dragend",function(){o.dragend()}):function(){})},x.dispatchEvent=function(t,e,n){var i=this,r="."+V.eventRect+(i.isMultipleX()?"":"-"+e),o=i.main.select(r).node(),a=o.getBoundingClientRect(),s=a.left+(n?n[0]:0),u=a.top+(n?n[1]:0),l=document.createEvent("MouseEvents");l.initMouseEvent(t,!0,!0,window,0,s,u,s,u,!1,!1,!1,!1,0,null),o.dispatchEvent(l)},x.initLegend=function(){var t=this;if(t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),!t.config.legend_show)return t.legend.style("visibility","hidden"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets));t.updateLegendWithDefaults()},x.updateLegendWithDefaults=function(){var t=this;t.updateLegend(t.mapToIds(t.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},x.updateSizeForLegend=function(t,e){var n=this,i=n.config,r={top:n.isLegendTop?n.getCurrentPaddingTop()+i.legend_inset_y+5.5:n.currentHeight-t-n.getCurrentPaddingBottom()-i.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+i.legend_inset_x+.5:n.currentWidth-e-n.getCurrentPaddingRight()-i.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?r.top:n.currentHeight-t,right:NaN,bottom:0,left:n.isLegendRight?n.currentWidth-e:n.isLegendInset?r.left:0}},x.transformLegend=function(t){var e=this;(t?e.legend.transition():e.legend).attr("transform",e.getTranslate("legend"))},x.updateLegendStep=function(t){this.legendStep=t},x.updateLegendItemWidth=function(t){this.legendItemWidth=t},x.updateLegendItemHeight=function(t){this.legendItemHeight=t},x.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},x.getLegendHeight=function(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},x.opacityForLegend=function(t){return t.classed(V.legendItemHidden)?null:1},x.opacityForUnfocusedLegend=function(t){return t.classed(V.legendItemHidden)?null:.3},x.toggleFocusLegend=function(e,t){var n=this;e=n.mapToTargetIds(e),n.legend.selectAll("."+V.legendItem).filter(function(t){return 0<=e.indexOf(t)}).classed(V.legendItemFocused,t).transition().duration(100).style("opacity",function(){return(t?n.opacityForLegend:n.opacityForUnfocusedLegend).call(n,n.d3.select(this))})},x.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+V.legendItem).classed(V.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend(e.select(this))})},x.showLegend=function(t){var e=this,n=e.config;n.legend_show||(n.legend_show=!0,e.legend.style("visibility","visible"),e.legendHasRendered||e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return e.opacityForLegend(e.d3.select(this))})},x.hideLegend=function(t){var e=this,n=e.config;n.legend_show&&g(t)&&(n.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},x.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},x.updateLegend=function(d,t,e){function p(t,e){return x.legendItemTextBox[e]||(x.legendItemTextBox[e]=x.getTextRect(t.textContent,V.legendItem,t)),x.legendItemTextBox[e]}function n(t,e,n){function i(t,e){e||(r=(f-P-h)/2)<M&&(r=(f-h)/2,P=0,O++),I[t]=O,N[O]=x.isLegendInset?10:r,E[t]=P,P+=h}var r,o,a=0===n,s=n===d.length-1,u=p(t,e),l=u.width+A+(!s||x.isLegendRight||x.isLegendInset?T:0)+w.legend_padding,c=u.height+S,h=x.isLegendRight||x.isLegendInset?c:l,f=x.isLegendRight||x.isLegendInset?x.getLegendHeight():x.getLegendWidth();a&&(C=k=O=P=0),!w.legend_show||x.isLegendToShow(e)?(L[e]=l,D[e]=c,(!k||k<=l)&&(k=l),(!C||C<=c)&&(C=c),o=x.isLegendRight||x.isLegendInset?C:k,w.legend_equally?(Object.keys(L).forEach(function(t){L[t]=k}),Object.keys(D).forEach(function(t){D[t]=C}),(r=(f-o*d.length)/2)<M?(O=P=0,d.forEach(function(t){i(t)})):i(e,!0)):i(e)):L[e]=D[e]=I[e]=E[e]=0}var i,r,o,a,s,u,l,c,h,f,g,m,v,y,_,b,x=this,w=x.config,S=4,T=10,k=0,C=0,M=10,A=w.legend_item_tile_width+5,P=0,E={},L={},D={},N=[0],I={},O=0;d=d.filter(function(t){return!R(w.data_names[t])||null!==w.data_names[t]}),g=G(t=t||{},"withTransition",!0),m=G(t,"withTransitionForTransform",!0),x.isLegendInset&&(O=w.legend_inset_step?w.legend_inset_step:d.length,x.updateLegendStep(O)),x.isLegendRight?(i=function(t){return k*I[t]},a=function(t){return N[I[t]]+E[t]}):x.isLegendInset?(i=function(t){return k*I[t]+10},a=function(t){return N[I[t]]+E[t]}):(i=function(t){return N[I[t]]+E[t]},a=function(t){return C*I[t]}),r=function(t,e){return i(t,e)+4+w.legend_item_tile_width},s=function(t,e){return a(t,e)+9},o=function(t,e){return i(t,e)},u=function(t,e){return a(t,e)-5},l=function(t,e){return i(t,e)-2},c=function(t,e){return i(t,e)-2+w.legend_item_tile_width},h=function(t,e){return a(t,e)+4},(f=x.legend.selectAll("."+V.legendItem).data(d).enter().append("g").attr("class",function(t){return x.generateClass(V.legendItem,t)}).style("visibility",function(t){return x.isLegendToShow(t)?"visible":"hidden"}).style("cursor","pointer").on("click",function(t){w.legend_item_onclick?w.legend_item_onclick.call(x,t):x.d3.event.altKey?(x.api.hide(),x.api.show(t)):(x.api.toggle(t),x.isTargetToShow(t)?x.api.focus(t):x.api.revert())}).on("mouseover",function(t){w.legend_item_onmouseover?w.legend_item_onmouseover.call(x,t):(x.d3.select(this).classed(V.legendItemFocused,!0),!x.transiting&&x.isTargetToShow(t)&&x.api.focus(t))}).on("mouseout",function(t){w.legend_item_onmouseout?w.legend_item_onmouseout.call(x,t):(x.d3.select(this).classed(V.legendItemFocused,!1),x.api.revert())})).append("text").text(function(t){return R(w.data_names[t])?w.data_names[t]:t}).each(function(t,e){n(this,t,e)}).style("pointer-events","none").attr("x",x.isLegendRight||x.isLegendInset?r:-200).attr("y",x.isLegendRight||x.isLegendInset?-200:s),f.append("rect").attr("class",V.legendItemEvent).style("fill-opacity",0).attr("x",x.isLegendRight||x.isLegendInset?o:-200).attr("y",x.isLegendRight||x.isLegendInset?-200:u),f.append("line").attr("class",V.legendItemTile).style("stroke",x.color).style("pointer-events","none").attr("x1",x.isLegendRight||x.isLegendInset?l:-200).attr("y1",x.isLegendRight||x.isLegendInset?-200:h).attr("x2",x.isLegendRight||x.isLegendInset?c:-200).attr("y2",x.isLegendRight||x.isLegendInset?-200:h).attr("stroke-width",w.legend_item_tile_height),b=x.legend.select("."+V.legendBackground+" rect"),x.isLegendInset&&0<k&&0===b.size()&&(b=x.legend.insert("g","."+V.legendItem).attr("class",V.legendBackground).append("rect")),v=x.legend.selectAll("text").data(d).text(function(t){return R(w.data_names[t])?w.data_names[t]:t
}).each(function(t,e){n(this,t,e)}),(g?v.transition():v).attr("x",r).attr("y",s),y=x.legend.selectAll("rect."+V.legendItemEvent).data(d),(g?y.transition():y).attr("width",function(t){return L[t]}).attr("height",function(t){return D[t]}).attr("x",o).attr("y",u),_=x.legend.selectAll("line."+V.legendItemTile).data(d),(g?_.transition():_).style("stroke",x.color).attr("x1",l).attr("y1",h).attr("x2",c).attr("y2",h),b&&(g?b.transition():b).attr("height",x.getLegendHeight()-12).attr("width",k*(O+1)+10),x.legend.selectAll("."+V.legendItem).classed(V.legendItemHidden,function(t){return!x.isTargetToShow(t)}),x.updateLegendItemWidth(k),x.updateLegendItemHeight(C),x.updateLegendStep(O),x.updateSizes(),x.updateScales(),x.updateSvgSize(),x.transformAll(m,e),x.legendHasRendered=!0},x.initRegion=function(){var t=this;t.region=t.main.append("g").attr("clip-path",t.clipPath).attr("class",V.regions)},x.updateRegion=function(t){var e=this,n=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible"),e.mainRegion=e.main.select("."+V.regions).selectAll("."+V.region).data(n.regions),e.mainRegion.enter().append("g").append("rect").style("fill-opacity",0),e.mainRegion.attr("class",e.classRegion.bind(e)),e.mainRegion.exit().transition().duration(t).style("opacity",0).remove()},x.redrawRegion=function(t){var e=this,n=e.mainRegion.selectAll("rect").each(function(){var t=e.d3.select(this.parentNode).datum();e.d3.select(this).datum(t)}),i=e.regionX.bind(e),r=e.regionY.bind(e),o=e.regionWidth.bind(e),a=e.regionHeight.bind(e);return[(t?n.transition():n).attr("x",i).attr("y",r).attr("width",o).attr("height",a).style("fill-opacity",function(t){return C(t.opacity)?t.opacity:.1})]},x.regionX=function(t){var e=this,n=e.config,i="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?n.axis_rotated&&"start"in t?i(t.start):0:n.axis_rotated?0:"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},x.regionY=function(t){var e=this,n=e.config,i="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?n.axis_rotated?0:"end"in t?i(t.end):0:n.axis_rotated&&"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},x.regionWidth=function(t){var e,n=this,i=n.config,r=n.regionX(t),o="y"===t.axis?n.y:n.y2;return(e="y"===t.axis||"y2"===t.axis?i.axis_rotated&&"end"in t?o(t.end):n.width:i.axis_rotated?n.width:"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.width)<r?0:e-r},x.regionHeight=function(t){var e,n=this,i=n.config,r=this.regionY(t),o="y"===t.axis?n.y:n.y2;return(e="y"===t.axis||"y2"===t.axis?i.axis_rotated?n.height:"start"in t?o(t.start):n.height:i.axis_rotated&&"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.height)<r?0:e-r},x.isRegionOnX=function(t){return!t.axis||"x"===t.axis},x.getScale=function(t,e,n){return(n?this.d3.time.scale():this.d3.scale.linear()).range([t,e])},x.getX=function(t,e,n,i){var r,o=this,a=o.getScale(t,e,o.isTimeSeries()),s=n?a.domain(n):a;for(r in o.isCategorized()?(i=i||function(){return 0},a=function(t,e){var n=s(t)+i(t);return e?n:Math.ceil(n)}):a=function(t,e){var n=s(t);return e?n:Math.ceil(n)},s)a[r]=s[r];return a.orgDomain=function(){return s.domain()},o.isCategorized()&&(a.domain=function(t){return arguments.length?(s.domain(t),a):[(t=this.orgDomain())[0],t[1]+1]}),a},x.getY=function(t,e,n){var i=this.getScale(t,e,this.isTimeSeriesY());return n&&i.domain(n),i},x.getYScale=function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},x.getSubYScale=function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},x.updateScales=function(){var e=this,t=e.config,n=!e.x;e.xMin=t.axis_rotated?1:0,e.xMax=t.axis_rotated?e.height:e.width,e.yMin=t.axis_rotated?0:e.height,e.yMax=t.axis_rotated?e.width:1,e.subXMin=e.xMin,e.subXMax=e.xMax,e.subYMin=t.axis_rotated?0:e.height2,e.subYMax=t.axis_rotated?e.width2:1,e.x=e.getX(e.xMin,e.xMax,n?undefined:e.x.orgDomain(),function(){return e.xAxis.tickOffset()}),e.y=e.getY(e.yMin,e.yMax,n?t.axis_y_default:e.y.domain()),e.y2=e.getY(e.yMin,e.yMax,n?t.axis_y2_default:e.y2.domain()),e.subX=e.getX(e.xMin,e.xMax,e.orgXDomain,function(t){return t%1?0:e.subXAxis.tickOffset()}),e.subY=e.getY(e.subYMin,e.subYMax,n?t.axis_y_default:e.subY.domain()),e.subY2=e.getY(e.subYMin,e.subYMax,n?t.axis_y2_default:e.subY2.domain()),e.xAxisTickFormat=e.axis.getXAxisTickFormat(),e.xAxisTickValues=e.axis.getXAxisTickValues(),e.yAxisTickValues=e.axis.getYAxisTickValues(),e.y2AxisTickValues=e.axis.getY2AxisTickValues(),e.xAxis=e.axis.getXAxis(e.x,e.xOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.subXAxis=e.axis.getXAxis(e.subX,e.subXOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.yAxis=e.axis.getYAxis(e.y,e.yOrient,t.axis_y_tick_format,e.yAxisTickValues,t.axis_y_tick_outer),e.y2Axis=e.axis.getYAxis(e.y2,e.y2Orient,t.axis_y2_tick_format,e.y2AxisTickValues,t.axis_y2_tick_outer),n||(e.brush&&e.brush.scale(e.subX),t.zoom_enabled&&e.zoom.scale(e.x)),e.updateArc&&e.updateArc()},x.selectPoint=function(t,e,n){var i=this,r=i.config,o=(r.axis_rotated?i.circleY:i.circleX).bind(i),a=(r.axis_rotated?i.circleX:i.circleY).bind(i),s=i.pointSelectR.bind(i);r.data_onselected.call(i.api,e,t.node()),i.main.select("."+V.selectedCircles+i.getTargetSelectorSuffix(e.id)).selectAll("."+V.selectedCircle+"-"+n).data([e]).enter().append("circle").attr("class",function(){return i.generateClass(V.selectedCircle,n)}).attr("cx",o).attr("cy",a).attr("stroke",function(){return i.color(e)}).attr("r",function(t){return 1.4*i.pointSelectR(t)}).transition().duration(100).attr("r",s)},x.unselectPoint=function(t,e,n){var i=this;i.config.data_onunselected.call(i.api,e,t.node()),i.main.select("."+V.selectedCircles+i.getTargetSelectorSuffix(e.id)).selectAll("."+V.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()},x.togglePoint=function(t,e,n,i){t?this.selectPoint(e,n,i):this.unselectPoint(e,n,i)},x.selectPath=function(t,e){var n=this;n.config.data_onselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return n.d3.rgb(n.color(e)).brighter(.75)})},x.unselectPath=function(t,e){var n=this;n.config.data_onunselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return n.color(e)})},x.togglePath=function(t,e,n,i){t?this.selectPath(e,n,i):this.unselectPath(e,n,i)},x.getToggle=function(t,e){var n,i=this;return"circle"===t.nodeName?n=i.isStepType(e)?function(){}:i.togglePoint:"path"===t.nodeName&&(n=i.togglePath),n},x.toggleShape=function(t,e,n){var i=this,r=i.d3,o=i.config,a=r.select(t),s=a.classed(V.SELECTED),u=i.getToggle(t,e).bind(i);o.data_selection_enabled&&o.data_selection_isselectable(e)&&(o.data_selection_multiple||i.main.selectAll("."+V.shapes+(o.data_selection_grouped?i.getTargetSelectorSuffix(e.id):"")).selectAll("."+V.shape).each(function(t,e){var n=r.select(this);n.classed(V.SELECTED)&&u(!1,n.classed(V.SELECTED,!1),t,e)}),a.classed(V.SELECTED,!s),u(!s,a,e,n))},x.initBar=function(){this.main.select("."+V.chart).append("g").attr("class",V.chartBars)},x.updateTargetsForBar=function(t){var e=this,n=e.config,i=e.classChartBar.bind(e),r=e.classBars.bind(e),o=e.classFocus.bind(e);e.main.select("."+V.chartBars).selectAll("."+V.chartBar).data(t).attr("class",function(t){return i(t)+o(t)}).enter().append("g").attr("class",i).style("pointer-events","none").append("g").attr("class",r).style("cursor",function(t){return n.data_selection_isselectable(t)?"pointer":null})},x.updateBar=function(t){var e=this,n=e.barData.bind(e),i=e.classBar.bind(e),r=e.initialOpacity.bind(e),o=function(t){return e.color(t.id)};e.mainBar=e.main.selectAll("."+V.bars).selectAll("."+V.bar).data(n),e.mainBar.enter().append("path").attr("class",i).style("stroke",o).style("fill",o),e.mainBar.style("opacity",r),e.mainBar.exit().transition().duration(t).remove()},x.redrawBar=function(t,e){return[(e?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",t).style("stroke",this.color).style("fill",this.color).style("opacity",1)]},x.getBarW=function(t,e){var n=this.config,i="number"==typeof n.bar_width?n.bar_width:e?t.tickInterval()*n.bar_width_ratio/e:0;return n.bar_width_max&&i>n.bar_width_max?n.bar_width_max:i},x.getBars=function(t,e){var n=this;return(e?n.main.selectAll("."+V.bars+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+V.bar+(C(t)?"-"+t:""))},x.expandBars=function(t,e,n){var i=this;n&&i.unexpandBars(),i.getBars(t,e).classed(V.EXPANDED,!0)},x.unexpandBars=function(t){this.getBars(t).classed(V.EXPANDED,!1)},x.generateDrawBar=function(t,e){var n=this,o=n.config,a=n.generateGetBarPoints(t,e);return function(t,e){var n=a(t,e),i=o.axis_rotated?1:0,r=o.axis_rotated?0:1;return"M "+n[0][i]+","+n[0][r]+" L"+n[1][i]+","+n[1][r]+" L"+n[2][i]+","+n[2][r]+" L"+n[3][i]+","+n[3][r]+" z"}},x.generateGetBarPoints=function(t,e){var a=this,n=e?a.subXAxis:a.xAxis,i=t.__max__+1,s=a.getBarW(n,i),u=a.getShapeX(s,i,t,!!e),l=a.getShapeY(!!e),c=a.getShapeOffset(a.isBarType,t,!!e),h=s*(a.config.bar_space/2),f=e?a.getSubYScale:a.getYScale;return function(t,e){var n=f.call(a,t.id)(0),i=c(t,e)||n,r=u(t),o=l(t);return a.config.axis_rotated&&(0<t.value&&o<n||t.value<0&&n<o)&&(o=n),[[r+h,i],[r+h,o-(n-i)],[r+s-h,o-(n-i)],[r+s-h,i]]}},x.isWithinBar=function(t){var e=this.d3.mouse(t),n=t.getBoundingClientRect(),i=t.pathSegList.getItem(0),r=t.pathSegList.getItem(1),o=Math.min(i.x,r.x),a=Math.min(i.y,r.y),s=2,u=o+n.width+s,l=a+n.height+s,c=a-s;return o-s<e[0]&&e[0]<u&&c<e[1]&&e[1]<l},x.getShapeIndices=function(t){var e,n,i=this,r=i.config,o={},a=0;return i.filterTargetsToShow(i.data.targets.filter(t,i)).forEach(function(t){for(e=0;e<r.data_groups.length;e++)if(!(r.data_groups[e].indexOf(t.id)<0))for(n=0;n<r.data_groups[e].length;n++)if(r.data_groups[e][n]in o){o[t.id]=o[r.data_groups[e][n]];break}w(o[t.id])&&(o[t.id]=a++)}),o.__max__=a-1,o},x.getShapeX=function(n,i,r,t){var e=this,o=t?e.subX:e.x;return function(t){var e=t.id in r?r[t.id]:0;return t.x||0===t.x?o(t.x)-n*(i/2-e):0}},x.getShapeY=function(e){var n=this;return function(t){return(e?n.getSubYScale(t.id):n.getYScale(t.id))(t.value)}},x.getShapeOffset=function(t,s,e){var u=this,l=u.orderTargets(u.filterTargetsToShow(u.data.targets.filter(t,u))),c=l.map(function(t){return t.id});return function(n,i){var r=e?u.getSubYScale(n.id):u.getYScale(n.id),o=r(0),a=o;return l.forEach(function(t){var e=u.isStepType(n)?u.convertValuesToStep(t.values):t.values;t.id!==n.id&&s[t.id]===s[n.id]&&c.indexOf(t.id)<c.indexOf(n.id)&&("undefined"!=typeof e[i]&&+e[i].x==+n.x||(i=-1,e.forEach(function(t,e){t.x===n.x&&(i=e)})),i in e&&0<=e[i].value*n.value&&(a+=r(e[i].value)-o))}),a}},x.isWithinShape=function(t,e){var n,i=this,r=i.d3.select(t);return i.isTargetToShow(e.id)?"circle"===t.nodeName?n=i.isStepType(e)?i.isWithinStep(t,i.getYScale(e.id)(e.value)):i.isWithinCircle(t,1.5*i.pointSelectR(e)):"path"===t.nodeName&&(n=!r.classed(V.bar)||i.isWithinBar(t)):n=!1,n},x.getInterpolate=function(t){var e=this,n=e.isInterpolationType(e.config.spline_interpolation_type)?e.config.spline_interpolation_type:"cardinal";return e.isSplineType(t)?n:e.isStepType(t)?e.config.line_step_type:"linear"},x.initLine=function(){this.main.select("."+V.chart).append("g").attr("class",V.chartLines)},x.updateTargetsForLine=function(t){var e,n=this,i=n.config,r=n.classChartLine.bind(n),o=n.classLines.bind(n),a=n.classAreas.bind(n),s=n.classCircles.bind(n),u=n.classFocus.bind(n);(e=n.main.select("."+V.chartLines).selectAll("."+V.chartLine).data(t).attr("class",function(t){return r(t)+u(t)}).enter().append("g").attr("class",r).style("opacity",0).style("pointer-events","none")).append("g").attr("class",o),e.append("g").attr("class",a),e.append("g").attr("class",function(t){return n.generateClass(V.selectedCircles,t.id)}),e.append("g").attr("class",s).style("cursor",function(t){return i.data_selection_isselectable(t)?"pointer":null}),t.forEach(function(e){n.main.selectAll("."+V.selectedCircles+n.getTargetSelectorSuffix(e.id)).selectAll("."+V.selectedCircle).each(function(t){t.value=e.values[t.index].value})})},x.updateLine=function(t){var e=this;e.mainLine=e.main.selectAll("."+V.lines).selectAll("."+V.line).data(e.lineData.bind(e)),e.mainLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.mainLine.style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",function(t){return e.isStepType(t)?"crispEdges":""}).attr("transform",null),e.mainLine.exit().transition().duration(t).style("opacity",0).remove()},x.redrawLine=function(t,e){return[(e?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]},x.generateDrawLine=function(t,s){var u=this,l=u.config,c=u.d3.svg.line(),n=u.generateGetLinePoints(t,s),h=s?u.getSubYScale:u.getYScale,e=function(t){return(s?u.subxx:u.xx).call(u,t)},i=function(t,e){return 0<l.data_groups.length?n(t,e)[0][1]:h.call(u,t.id)(t.value)};return c=l.axis_rotated?c.x(i).y(e):c.x(e).y(i),l.line_connectNull||(c=c.defined(function(t){return null!=t.value})),function(t){var e,n=l.line_connectNull?u.filterRemoveNull(t.values):t.values,i=s?u.x:u.subX,r=h.call(u,t.id),o=0,a=0;return u.isLineType(t)?l.data_regions[t.id]?e=u.lineWithRegions(n,i,r,l.data_regions[t.id]):(u.isStepType(t)&&(n=u.convertValuesToStep(n)),e=c.interpolate(u.getInterpolate(t))(n)):(n[0]&&(o=i(n[0].x),a=r(n[0].value)),e=l.axis_rotated?"M "+a+" "+o:"M "+o+" "+a),e||"M 0 0"}},x.generateGetLinePoints=function(t,e){var a=this,s=a.config,n=t.__max__+1,u=a.getShapeX(0,n,t,!!e),l=a.getShapeY(!!e),c=a.getShapeOffset(a.isLineType,t,!!e),h=e?a.getSubYScale:a.getYScale;return function(t,e){var n=h.call(a,t.id)(0),i=c(t,e)||n,r=u(t),o=l(t);return s.axis_rotated&&(0<t.value&&o<n||t.value<0&&n<o)&&(o=n),[[r,o-(n-i)],[r,o-(n-i)],[r,o-(n-i)],[r,o-(n-i)]]}},x.lineWithRegions=function(t,u,l,e){function n(t,e){var n;for(n=0;n<e.length;n++)if(e[n].start<t&&t<=e[n].end)return!0;return!1}function c(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}var i,r,o,a,h,s,f,d,p,g,m,v=this,y=v.config,_="M",b=v.isCategorized()?.5:0,x=[];if(R(e))for(i=0;i<e.length;i++)x[i]={},w(e[i].start)?x[i].start=t[0].x:x[i].start=v.isTimeSeries()?v.parseDate(e[i].start):e[i].start,w(e[i].end)?x[i].end=t[t.length-1].x:x[i].end=v.isTimeSeries()?v.parseDate(e[i].end):e[i].end;for(g=y.axis_rotated?function(t){return l(t.value)}:function(t){return u(t.x)},m=y.axis_rotated?function(t){return u(t.x)}:function(t){return l(t.value)},o=v.isTimeSeries()?function(t,e,n,i){var r=t.x.getTime(),o=e.x-t.x,a=new Date(r+o*n),s=new Date(r+o*(n+i));return c(y.axis_rotated?[[l(h(n)),u(a)],[l(h(n+i)),u(s)]]:[[u(a),l(h(n))],[u(s),l(h(n+i))]])}:function(t,e,n,i){return c(y.axis_rotated?[[l(h(n),!0),u(a(n))],[l(h(n+i),!0),u(a(n+i))]]:[[u(a(n),!0),l(h(n))],[u(a(n+i),!0),l(h(n+i))]])},i=0;i<t.length;i++){if(w(x)||!n(t[i].x,x))_+=" "+g(t[i])+" "+m(t[i]);else for(a=v.getScale(t[i-1].x+b,t[i].x+b,v.isTimeSeries()),h=v.getScale(t[i-1].value,t[i].value),s=u(t[i].x)-u(t[i-1].x),f=l(t[i].value)-l(t[i-1].value),p=2*(d=2/Math.sqrt(Math.pow(s,2)+Math.pow(f,2))),r=d;r<=1;r+=p)_+=o(t[i-1],t[i],r,d);t[i].x}return _},x.updateArea=function(t){var e=this,n=e.d3;e.mainArea=e.main.selectAll("."+V.areas).selectAll("."+V.area).data(e.lineData.bind(e)),e.mainArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.mainArea.style("opacity",e.orgAreaOpacity),e.mainArea.exit().transition().duration(t).style("opacity",0).remove()},x.redrawArea=function(t,e){return[(e?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},x.generateDrawArea=function(t,e){var o=this,a=o.config,s=o.d3.svg.area(),n=o.generateGetAreaPoints(t,e),i=e?o.getSubYScale:o.getYScale,r=function(t){return(e?o.subxx:o.xx).call(o,t)},u=function(t,e){return 0<a.data_groups.length?n(t,e)[0][1]:i.call(o,t.id)(o.getAreaBaseValue(t.id))},l=function(t,e){return 0<a.data_groups.length?n(t,e)[1][1]:i.call(o,t.id)(t.value)};return s=a.axis_rotated?s.x0(u).x1(l).y(r):s.x(r).y0(a.area_above?0:u).y1(l),a.line_connectNull||(s=s.defined(function(t){return null!==t.value})),function(t){var e,n=a.line_connectNull?o.filterRemoveNull(t.values):t.values,i=0,r=0;return o.isAreaType(t)?(o.isStepType(t)&&(n=o.convertValuesToStep(n)),e=s.interpolate(o.getInterpolate(t))(n)):(n[0]&&(i=o.x(n[0].x),r=o.getYScale(t.id)(n[0].value)),e=a.axis_rotated?"M "+r+" "+i:"M "+i+" "+r),e||"M 0 0"}},x.getAreaBaseValue=function(){return 0},x.generateGetAreaPoints=function(t,e){var a=this,s=a.config,n=t.__max__+1,u=a.getShapeX(0,n,t,!!e),l=a.getShapeY(!!e),c=a.getShapeOffset(a.isAreaType,t,!!e),h=e?a.getSubYScale:a.getYScale;return function(t,e){var n=h.call(a,t.id)(0),i=c(t,e)||n,r=u(t),o=l(t);return s.axis_rotated&&(0<t.value&&o<n||t.value<0&&n<o)&&(o=n),[[r,i],[r,o-(n-i)],[r,o-(n-i)],[r,i]]}},x.updateCircle=function(){var t=this;t.mainCircle=t.main.selectAll("."+V.circles).selectAll("."+V.circle).data(t.lineOrScatterData.bind(t)),t.mainCircle.enter().append("circle").attr("class",t.classCircle.bind(t)).attr("r",t.pointR.bind(t)).style("fill",t.color),t.mainCircle.style("opacity",t.initialOpacityForCircle.bind(t)),t.mainCircle.exit().remove()},x.redrawCircle=function(t,e,n){var i=this.main.selectAll("."+V.selectedCircle);return[(n?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",t).attr("cy",e),(n?i.transition(Math.random().toString()):i).attr("cx",t).attr("cy",e)]},x.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},x.updateCircleY=function(){var t,n,e=this;0<e.config.data_groups.length?(t=e.getShapeIndices(e.isLineType),n=e.generateGetLinePoints(t),e.circleY=function(t,e){return n(t,e)[0][1]}):e.circleY=function(t){return e.getYScale(t.id)(t.value)}},x.getCircles=function(t,e){var n=this;return(e?n.main.selectAll("."+V.circles+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+V.circle+(C(t)?"-"+t:""))},x.expandCircles=function(t,e,n){var i=this,r=i.pointExpandedR.bind(i);n&&i.unexpandCircles(),i.getCircles(t,e).classed(V.EXPANDED,!0).attr("r",r)},x.unexpandCircles=function(t){var e=this,n=e.pointR.bind(e);e.getCircles(t).filter(function(){return e.d3.select(this).classed(V.EXPANDED)}).classed(V.EXPANDED,!1).attr("r",n)},x.pointR=function(t){var e=this,n=e.config;return e.isStepType(t)?0:h(n.point_r)?n.point_r(t):n.point_r},x.pointExpandedR=function(t){var e=this,n=e.config;return n.point_focus_expand_enabled?h(n.point_focus_expand_r)?n.point_focus_expand_r(t):n.point_focus_expand_r?n.point_focus_expand_r:1.75*e.pointR(t):e.pointR(t)},x.pointSelectR=function(t){var e=this,n=e.config;return h(n.point_select_r)?n.point_select_r(t):n.point_select_r?n.point_select_r:4*e.pointR(t)},x.isWithinCircle=function(t,e){var n=this.d3,i=n.mouse(t),r=n.select(t),o=+r.attr("cx"),a=+r.attr("cy");return Math.sqrt(Math.pow(o-i[0],2)+Math.pow(a-i[1],2))<e},x.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30},x.getCurrentWidth=function(){var t=this,e=t.config;return e.size_width?e.size_width:t.getParentWidth()},x.getCurrentHeight=function(){var t=this,e=t.config,n=e.size_height?e.size_height:t.getParentHeight();return 0<n?n:320/(t.hasType("gauge")&&!e.gauge_fullCircle?2:1)},x.getCurrentPaddingTop=function(){var t=this,e=t.config,n=C(e.padding_top)?e.padding_top:0;return t.title&&t.title.node()&&(n+=t.getTitlePadding()),n},x.getCurrentPaddingBottom=function(){var t=this.config;return C(t.padding_bottom)?t.padding_bottom:0},x.getCurrentPaddingLeft=function(t){var e=this,n=e.config;return C(n.padding_left)?n.padding_left:n.axis_rotated?n.axis_x_show?Math.max(d(e.getAxisWidthByAxisId("x",t)),40):1:!n.axis_y_show||n.axis_y_inner?e.axis.getYAxisLabelPosition().isOuter?30:1:d(e.getAxisWidthByAxisId("y",t))},x.getCurrentPaddingRight=function(){var t=this,e=t.config,n=10,i=t.isLegendRight?t.getLegendWidth()+20:0;return C(e.padding_right)?e.padding_right+1:e.axis_rotated?n+i:!e.axis_y2_show||e.axis_y2_inner?2+i+(t.axis.getY2AxisLabelPosition().isOuter?20:0):d(t.getAxisWidthByAxisId("y2"))+i},x.getParentRectValue=function(t){for(var e,n=this.selectChart.node();n&&"BODY"!==n.tagName;){try{e=n.getBoundingClientRect()[t]}catch(i){"width"===t&&(e=n.offsetWidth)}if(e)break;n=n.parentNode}return e},x.getParentWidth=function(){return this.getParentRectValue("width")},x.getParentHeight=function(){var t=this.selectChart.style("height");return 0<t.indexOf("px")?+t.replace("px",""):0},x.getSvgLeft=function(t){var e=this,n=e.config,i=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,r=n.axis_rotated?V.axisX:V.axisY,o=e.main.select("."+r).node(),a=o&&i?o.getBoundingClientRect():{right:0},s=e.selectChart.node().getBoundingClientRect(),u=e.hasArcType(),l=a.right-s.left-(u?0:e.getCurrentPaddingLeft(t));return 0<l?l:0},x.getAxisWidthByAxisId=function(t,e){var n=this,i=n.axis.getLabelPositionById(t);return n.axis.getMaxTickWidth(t,e)+(i.isInner?20:40)},x.getHorizontalAxisHeight=function(t){var e=this,n=e.config,i=30;return"x"!==t||n.axis_x_show?"x"===t&&n.axis_x_height?n.axis_x_height:"y"!==t||n.axis_y_show?"y2"!==t||n.axis_y2_show?("x"===t&&!n.axis_rotated&&n.axis_x_tick_rotate&&(i=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-n.axis_x_tick_rotate)/180)),"y"===t&&n.axis_rotated&&n.axis_y_tick_rotate&&(i=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-n.axis_y_tick_rotate)/180)),i+(e.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):e.rotated_padding_top:!n.legend_show||e.isLegendRight||e.isLegendInset?1:10:8},x.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},x.initBrush=function(){var e=this,t=e.d3;e.brush=t.svg.brush().on("brush",function(){e.redrawForBrush()}),e.brush.update=function(){return e.context&&e.context.select("."+V.brush).call(this),this},e.brush.scale=function(t){return e.config.axis_rotated?this.y(t):this.x(t)}},x.initSubchart=function(){var t=this,e=t.config,n=t.context=t.svg.append("g").attr("transform",t.getTranslate("context")),i=e.subchart_show?"visible":"hidden";n.style("visibility",i),n.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",V.chart),n.select("."+V.chart).append("g").attr("class",V.chartBars),n.select("."+V.chart).append("g").attr("class",V.chartLines),n.append("g").attr("clip-path",t.clipPath).attr("class",V.brush).call(t.brush),t.axes.subx=n.append("g").attr("class",V.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis).style("visibility",e.subchart_axis_x_show?i:"hidden")},x.updateTargetsForSubchart=function(t){var e,n=this,i=n.context,r=n.config,o=n.classChartBar.bind(n),a=n.classBars.bind(n),s=n.classChartLine.bind(n),u=n.classLines.bind(n),l=n.classAreas.bind(n);r.subchart_show&&(i.select("."+V.chartBars).selectAll("."+V.chartBar).data(t).attr("class",o).enter().append("g").style("opacity",0).attr("class",o).append("g").attr("class",a),(e=i.select("."+V.chartLines).selectAll("."+V.chartLine).data(t).attr("class",s).enter().append("g").style("opacity",0).attr("class",s)).append("g").attr("class",u),e.append("g").attr("class",l),i.selectAll("."+V.brush+" rect").attr(r.axis_rotated?"width":"height",r.axis_rotated?n.width2:n.height2))},x.updateBarForSubchart=function(t){var e=this;e.contextBar=e.context.selectAll("."+V.bars).selectAll("."+V.bar).data(e.barData.bind(e)),e.contextBar.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color),e.contextBar.style("opacity",e.initialOpacity.bind(e)),e.contextBar.exit().transition().duration(t).style("opacity",0).remove()},x.redrawBarForSubchart=function(t,e,n){(e?this.contextBar.transition(Math.random().toString()).duration(n):this.contextBar).attr("d",t).style("opacity",1)},x.updateLineForSubchart=function(t){var e=this;e.contextLine=e.context.selectAll("."+V.lines).selectAll("."+V.line).data(e.lineData.bind(e)),e.contextLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.contextLine.style("opacity",e.initialOpacity.bind(e)),e.contextLine.exit().transition().duration(t).style("opacity",0).remove()},x.redrawLineForSubchart=function(t,e,n){(e?this.contextLine.transition(Math.random().toString()).duration(n):this.contextLine).attr("d",t).style("opacity",1)},x.updateAreaForSubchart=function(t){var e=this,n=e.d3;e.contextArea=e.context.selectAll("."+V.areas).selectAll("."+V.area).data(e.lineData.bind(e)),e.contextArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.contextArea.style("opacity",0),e.contextArea.exit().transition().duration(t).style("opacity",0).remove()},x.redrawAreaForSubchart=function(t,e,n){(e?this.contextArea.transition(Math.random().toString()).duration(n):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},x.redrawSubchart=function(t,e,n,i,r,o,a){var s,u,l,c=this,h=c.d3,f=c.config;c.context.style("visibility",f.subchart_show?"visible":"hidden"),f.subchart_show&&(h.event&&"zoom"===h.event.type&&c.brush.extent(c.x.orgDomain()).update(),t&&(c.brush.empty()||c.brush.extent(c.x.orgDomain()).update(),s=c.generateDrawArea(r,!0),u=c.generateDrawBar(o,!0),l=c.generateDrawLine(a,!0),c.updateBarForSubchart(n),c.updateLineForSubchart(n),c.updateAreaForSubchart(n),c.redrawBarForSubchart(u,n,n),c.redrawLineForSubchart(l,n,n),c.redrawAreaForSubchart(s,n,n)))},x.redrawForBrush=function(){var t=this,e=t.x;t.redraw({withTransition:!1,withY:t.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),t.config.subchart_onbrush.call(t.api,e.orgDomain())},x.transformContext=function(t,e){var n,i=this;e&&e.axisSubX?n=e.axisSubX:(n=i.context.select("."+V.axisX),t&&(n=n.transition())),i.context.attr("transform",i.getTranslate("context")),n.attr("transform",i.getTranslate("subx"))},x.getDefaultExtent=function(){var t=this,e=t.config,n=h(e.axis_x_extent)?e.axis_x_extent(t.getXDomain(t.data.targets)):e.axis_x_extent;return t.isTimeSeries()&&(n=[t.parseDate(n[0]),t.parseDate(n[1])]),n},x.initText=function(){var t=this;t.main.select("."+V.chart).append("g").attr("class",V.chartTexts),t.mainText=t.d3.selectAll([])},x.updateTargetsForText=function(t){var e=this,n=e.classChartText.bind(e),i=e.classTexts.bind(e),r=e.classFocus.bind(e);e.main.select("."+V.chartTexts).selectAll("."+V.chartText).data(t).attr("class",function(t){return n(t)+r(t)}).enter().append("g").attr("class",n).style("opacity",0).style("pointer-events","none").append("g").attr("class",i)},x.updateText=function(t){var i=this,e=i.config,n=i.barOrLineData.bind(i),r=i.classText.bind(i);i.mainText=i.main.selectAll("."+V.texts).selectAll("."+V.text).data(n),i.mainText.enter().append("text").attr("class",r).attr("text-anchor",function(t){return e.axis_rotated?t.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(t){return i.color(t)}).style("fill-opacity",0),i.mainText.text(function(t,e,n){return i.dataLabelFormat(t.id)(t.value,t.id,e,n)}),i.mainText.exit().transition().duration(t).style("fill-opacity",0).remove()},x.redrawText=function(t,e,n,i){return[(i?this.mainText.transition():this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},x.getTextRect=function(t,e,n){var i,r=this.d3.select("body").append("div").classed("c3",!0),o=r.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),a=this.d3.select(n).style("font");return o.selectAll(".dummy").data([t]).enter().append("text").classed(e||"",!0).style("font",a).text(t).each(function(){i=this.getBoundingClientRect()}),r.remove(),i},x.generateXYForText=function(t,e,n,i){var r=this,o=r.generateGetAreaPoints(t,!1),a=r.generateGetBarPoints(e,!1),s=r.generateGetLinePoints(n,!1),u=i?r.getXForText:r.getYForText;return function(t,e){var n=r.isAreaType(t)?o:r.isBarType(t)?a:s;return u.call(r,n(t,e),t,this)}},x.getXForText=function(t,e,n){var i,r,o=this,a=n.getBoundingClientRect();return o.config.axis_rotated?(r=o.isBarType(e)?4:6,i=t[2][1]+r*(e.value<0?-1:1)):i=o.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(i>o.width?i=o.width-a.width:i<0&&(i=4)),i},x.getYForText=function(t,e,n){var i,r=this,o=n.getBoundingClientRect();return r.config.axis_rotated?i=(t[0][0]+t[2][0]+.6*o.height)/2:(i=t[2][1],e.value<0||0===e.value&&!r.hasPositiveValue?(i+=o.height,r.isBarType(e)&&r.isSafari()?i-=3:!r.isBarType(e)&&r.isChrome()&&(i+=3)):i+=r.isBarType(e)?-3:-6),null!==e.value||r.config.axis_rotated||(i<o.height?i=o.height:i>this.height&&(i=this.height-4)),i},x.initTitle=function(){var t=this;t.title=t.svg.append("text").text(t.config.title_text).attr("class",t.CLASS.title)},x.redrawTitle=function(){var t=this;t.title.attr("x",t.xForTitle.bind(t)).attr("y",t.yForTitle.bind(t))},x.xForTitle=function(){var t=this,e=t.config,n=e.title_position||"left";return 0<=n.indexOf("right")?t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width-e.title_padding.right:0<=n.indexOf("center")?(t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width)/2:e.title_padding.left},x.yForTitle=function(){var t=this;return t.config.title_padding.top+t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).height},x.getTitlePadding=function(){var t=this;return t.yForTitle()+t.config.title_padding.bottom},x.initTooltip=function(){var t,e=this,n=e.config;if(e.tooltip=e.selectChart.style("position","relative").append("div").attr("class",V.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),n.tooltip_init_show){if(e.isTimeSeries()&&f(n.tooltip_init_x)){for(n.tooltip_init_x=e.parseDate(n.tooltip_init_x),t=0;t<e.data.targets[0].values.length&&e.data.targets[0].values[t].x-n.tooltip_init_x!=0;t++);n.tooltip_init_x=t}e.tooltip.html(n.tooltip_contents.call(e,e.data.targets.map(function(t){return e.addName(t.values[n.tooltip_init_x])}),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},x.getTooltipSortFunction=function(){var t=this,e=t.config;if(0!==e.data_groups.length&&e.tooltip_order===undefined){var n=t.orderTargets(t.data.targets).map(function(t){return t.id});return(t.isOrderAsc()||t.isOrderDesc())&&(n=n.reverse()),function(t,e){return n.indexOf(t.id)-n.indexOf(e.id)}}var i=e.tooltip_order;i===undefined&&(i=e.data_order);var r=function(t){return t?t.value:null};if(f(i)&&"asc"===i.toLowerCase())return function(t,e){return r(t)-r(e)};if(f(i)&&"desc"===i.toLowerCase())return function(t,e){return r(e)-r(t)};if(h(i)){var o=i;return e.tooltip_order===undefined&&(o=function(t,e){return i(t?{id:t.id,values:[t]}:null,e?{id:e.id,values:[e]}:null)}),o}return c(i)?function(t,e){return i.indexOf(t.id)-i.indexOf(e.id)}:void 0},x.getTooltipContent=function(t,e,n,i){var r,o,a,s,u,l,c=this,h=c.config,f=h.tooltip_format_title||e,d=h.tooltip_format_name||function(t){return t},p=h.tooltip_format_value||n,g=this.getTooltipSortFunction();for(g&&t.sort(g),o=0;o<t.length;o++)if(t[o]&&(t[o].value||0===t[o].value)&&(r||(a=v(f?f(t[o].x):t[o].x),r="<table class='"+c.CLASS.tooltip+"'>"+(a||0===a?"<tr><th colspan='2'>"+a+"</th></tr>":"")),(s=v(p(t[o].value,t[o].ratio,t[o].id,t[o].index,t)))!==undefined)){if(null===t[o].name)continue;u=v(d(t[o].name,t[o].ratio,t[o].id,t[o].index)),l=c.levelColor?c.levelColor(t[o].value):i(t[o].id),r+="<tr class='"+c.CLASS.tooltipName+"-"+c.getTargetSelectorSuffix(t[o].id)+"'>",r+="<td class='name'><span style='background-color:"+l+"'></span>"+u+"</td>",r+="<td class='value'>"+s+"</td>",r+="</tr>"}return r+"</table>"},x.tooltipPosition=function(t,e,n,i){var r,o,a,s,u,l=this,c=l.config,h=l.d3,f=l.hasArcType(),d=h.mouse(i);return f?(o=(l.width-(l.isLegendRight?l.getLegendWidth():0))/2+d[0],s=l.height/2+d[1]+20):(r=l.getSvgLeft(!0),c.axis_rotated?(a=(o=r+d[0]+100)+e,u=l.currentWidth-l.getCurrentPaddingRight(),s=l.x(t[0].x)+20):(a=(o=r+l.getCurrentPaddingLeft(!0)+l.x(t[0].x)+20)+e,u=r+l.currentWidth-l.getCurrentPaddingRight(),s=d[1]+15),u<a&&(o-=a-u+20),s+n>l.currentHeight&&(s-=n+30)),s<0&&(s=0),{top:s,left:o}},x.showTooltip=function(t,e){var n,i,r,o=this,a=o.config,s=o.hasArcType(),u=t.filter(function(t){return t&&C(t.value)}),l=a.tooltip_position||x.tooltipPosition
;0!==u.length&&a.tooltip_show&&(o.tooltip.html(a.tooltip_contents.call(o,t,o.axis.getXAxisTickFormat(),o.getYFormat(s),o.color)).style("display","block"),n=o.tooltip.property("offsetWidth"),i=o.tooltip.property("offsetHeight"),r=l.call(this,u,n,i,e),o.tooltip.style("top",r.top+"px").style("left",r.left+"px"))},x.hideTooltip=function(){this.tooltip.style("display","none")},x.setTargetType=function(t,e){var n=this,i=n.config;n.mapToTargetIds(t).forEach(function(t){n.withoutFadeIn[t]=e===i.data_types[t],i.data_types[t]=e}),t||(i.data_type=e)},x.hasType=function(n,t){var e=this,i=e.config.data_types,r=!1;return(t=t||e.data.targets)&&t.length?t.forEach(function(t){var e=i[t.id];(e&&0<=e.indexOf(n)||!e&&"line"===n)&&(r=!0)}):Object.keys(i).length?Object.keys(i).forEach(function(t){i[t]===n&&(r=!0)}):r=e.config.data_type===n,r},x.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},x.isLineType=function(t){var e=this.config,n=f(t)?t:t.id;return!e.data_types[n]||0<=["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[n])},x.isStepType=function(t){var e=f(t)?t:t.id;return 0<=["step","area-step"].indexOf(this.config.data_types[e])},x.isSplineType=function(t){var e=f(t)?t:t.id;return 0<=["spline","area-spline"].indexOf(this.config.data_types[e])},x.isAreaType=function(t){var e=f(t)?t:t.id;return 0<=["area","area-spline","area-step"].indexOf(this.config.data_types[e])},x.isBarType=function(t){var e=f(t)?t:t.id;return"bar"===this.config.data_types[e]},x.isScatterType=function(t){var e=f(t)?t:t.id;return"scatter"===this.config.data_types[e]},x.isPieType=function(t){var e=f(t)?t:t.id;return"pie"===this.config.data_types[e]},x.isGaugeType=function(t){var e=f(t)?t:t.id;return"gauge"===this.config.data_types[e]},x.isDonutType=function(t){var e=f(t)?t:t.id;return"donut"===this.config.data_types[e]},x.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},x.lineData=function(t){return this.isLineType(t)?[t]:[]},x.arcData=function(t){return this.isArcType(t.data)?[t]:[]},x.barData=function(t){return this.isBarType(t)?t.values:[]},x.lineOrScatterData=function(t){return this.isLineType(t)||this.isScatterType(t)?t.values:[]},x.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},x.isInterpolationType=function(t){return 0<=["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(t)},x.isSafari=function(){var t=window.navigator.userAgent;return 0<=t.indexOf("Safari")&&t.indexOf("Chrome")<0},x.isChrome=function(){return 0<=window.navigator.userAgent.indexOf("Chrome")},x.initZoom=function(){var e,n=this,i=n.d3,r=n.config;n.zoom=i.behavior.zoom().on("zoomstart",function(){e=i.event.sourceEvent,n.zoom.altDomain=i.event.sourceEvent.altKey?n.x.orgDomain():null,r.zoom_onzoomstart.call(n.api,i.event.sourceEvent)}).on("zoom",function(){n.redrawForZoom.call(n)}).on("zoomend",function(){var t=i.event.sourceEvent;t&&e.clientX===t.clientX&&e.clientY===t.clientY||(n.redrawEventRect(),n.updateZoom(),r.zoom_onzoomend.call(n.api,n.x.orgDomain()))}),n.zoom.scale=function(t){return r.axis_rotated?this.y(t):this.x(t)},n.zoom.orgScaleExtent=function(){var t=r.zoom_extent?r.zoom_extent:[1,10];return[t[0],Math.max(n.getMaxDataCount()/t[1],t[1])]},n.zoom.updateScaleExtent=function(){var t=O(n.x.orgDomain())/O(n.getZoomDomain()),e=this.orgScaleExtent();return this.scaleExtent([e[0]*t,e[1]*t]),this}},x.getZoomDomain=function(){var t=this,e=t.config,n=t.d3;return[n.min([t.orgXDomain[0],e.zoom_x_min]),n.max([t.orgXDomain[1],e.zoom_x_max])]},x.updateZoom=function(){var t=this,e=t.config.zoom_enabled?t.zoom:function(){};t.main.select("."+V.zoomRect).call(e).on("dblclick.zoom",null),t.main.selectAll("."+V.eventRect).call(e).on("dblclick.zoom",null)},x.redrawForZoom=function(){var t=this,e=t.d3,n=t.config,i=t.zoom,r=t.x;if(n.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length){if("mousemove"===e.event.sourceEvent.type&&i.altDomain)return r.domain(i.altDomain),void i.scale(r).updateScaleExtent();t.isCategorized()&&r.orgDomain()[0]===t.orgXDomain[0]&&r.domain([t.orgXDomain[0]-1e-10,r.orgDomain()[1]]),t.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===e.event.sourceEvent.type&&(t.cancelClick=!0),n.zoom_onzoom.call(t.api,r.orgDomain())}},S}),function(){function s(t){return t&&(t.ownerDocument||t.document||t).documentElement}function I(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function a(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function l(t){return null===t?NaN:+t}function c(t){return!isNaN(t)}function t(o){return{left:function(t,e,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=t.length);n<i;){var r=n+i>>>1;o(t[r],e)<0?n=r+1:i=r}return n},right:function(t,e,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=t.length);n<i;){var r=n+i>>>1;0<o(t[r],e)?i=r:n=r+1}return n}}}function u(t){return t.length}function h(t){for(var e=1;t*e%1;)e*=10;return e}function e(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function y(){this._=Object.create(null)}function n(t){return(t+="")===_a||t[0]===ba?ba+t:t}function i(t){return(t+="")[0]===ba?t.slice(1):t}function r(t){return n(t)in this._}function o(t){return(t=n(t))in this._&&delete this._[t]}function f(){var t=[];for(var e in this._)t.push(i(e));return t}function d(){var t=0;for(var e in this._)++t;return t}function p(){for(var t in this._)return!1;return!0}function g(){this._=Object.create(null)}function O(t){return t}function m(e,n,i){return function(){var t=i.apply(n,arguments);return t===n?e:t}}function v(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=xa.length;n<i;++n){var r=xa[n]+e;if(r in t)return r}}function b(){}function _(){}function x(r){function t(){for(var t,e=o,n=-1,i=e.length;++n<i;)(t=e[n].on)&&t.apply(this,arguments);return r}var o=[],a=new y;return t.on=function(t,e){var n,i=a.get(t);return arguments.length<2?i&&i.on:(i&&(i.on=null,o=o.slice(0,n=o.indexOf(i)).concat(o.slice(n+1)),a.remove(t)),e&&o.push(a.set(t,{on:e})),r)},t}function R(){ua.event.preventDefault()}function w(){for(var t,e=ua.event;t=e.sourceEvent;)e=t;return e}function F(r){for(var o=new _,t=0,e=arguments.length;++t<e;)o[arguments[t]]=x(o);return o.of=function(n,i){return function(t){try{var e=t.sourceEvent=ua.event;t.target=r,ua.event=t,o[t.type].apply(n,i)}finally{ua.event=e}}},o}function S(t){return Sa(t,Ma),t}function T(t){return"function"==typeof t?t:function(){return Ta(t,this)}}function k(t){return"function"==typeof t?t:function(){return ka(t,this)}}function C(e,n){function t(){this.removeAttribute(e)}function i(){this.removeAttributeNS(e.space,e.local)}function r(){this.setAttribute(e,n)}function o(){this.setAttributeNS(e.space,e.local,n)}function a(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}function s(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}return e=ua.ns.qualify(e),null==n?e.local?i:t:"function"==typeof n?e.local?s:a:e.local?o:r}function M(t){return t.trim().replace(/\s+/g," ")}function A(t){return new RegExp("(?:^|\\s+)"+ua.requote(t)+"(?:\\s+|$)","g")}function P(t){return(t+"").trim().split(/^|\s+/)}function E(n,i){function t(){for(var t=-1;++t<r;)n[t](this,i)}function e(){for(var t=-1,e=i.apply(this,arguments);++t<r;)n[t](this,e)}var r=(n=P(n).map(L)).length;return"function"==typeof i?e:t}function L(i){var r=A(i);return function(t,e){if(n=t.classList)return e?n.add(i):n.remove(i);var n=t.getAttribute("class")||"";e?(r.lastIndex=0,r.test(n)||t.setAttribute("class",M(n+" "+i))):t.setAttribute("class",M(n.replace(r," ")))}}function D(e,n,i){function t(){this.style.removeProperty(e)}function r(){this.style.setProperty(e,n,i)}function o(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,i)}return null==n?t:"function"==typeof n?o:r}function N(e,n){function t(){delete this[e]}function i(){this[e]=n}function r(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}return null==n?t:"function"==typeof n?r:i}function z(n){function t(){var t=this.ownerDocument,e=this.namespaceURI;return e===Aa&&t.documentElement.namespaceURI===Aa?t.createElement(n):t.createElementNS(e,n)}function e(){return this.ownerDocument.createElementNS(n.space,n.local)}return"function"==typeof n?n:(n=ua.ns.qualify(n)).local?e:t}function H(){var t=this.parentNode;t&&t.removeChild(this)}function j(t){return{__data__:t}}function V(t){return function(){return Ca(this,t)}}function G(n){return arguments.length||(n=a),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function q(t,e){for(var n=0,i=t.length;n<i;n++)for(var r,o=t[n],a=0,s=o.length;a<s;a++)(r=o[a])&&e(r,a,n);return t}function $(t){return Sa(t,Ea),t}function B(a){var s,u;return function(t,e,n){var i,r=a[n].update,o=r.length;for(n!=u&&(u=n,s=0),s<=e&&(s=e+1);!(i=r[s])&&++s<o;);return i}}function W(r,e,n){function i(){var t=this[a];t&&(this.removeEventListener(r,t,t.$),delete this[a])}function t(){var t=u(e,ca(arguments));i.call(this),this.addEventListener(r,this[a]=t,t.$=n),t._=e}function o(){var t,e=new RegExp("^__on([^.]+)"+ua.requote(r)+"$");for(var n in this)if(t=n.match(e)){var i=this[n];this.removeEventListener(t[1],i,i.$),delete this[n]}}var a="__on"+r,s=r.indexOf("."),u=U;0<s&&(r=r.slice(0,s));var l=La.get(r);return l&&(r=l,u=Y),s?e?t:i:e?b:o}function U(n,i){return function(t){var e=ua.event;ua.event=t,i[0]=this.__data__;try{n.apply(this,i)}finally{ua.event=e}}}function Y(t,e){var i=U(t,e);return function(t){var e=this,n=t.relatedTarget;n&&(n===e||8&n.compareDocumentPosition(e))||i.call(e,t)}}function X(t){var n=".dragsuppress-"+ ++Na,i="click"+n,r=ua.select(I(t)).on("touchmove"+n,R).on("dragstart"+n,R).on("selectstart"+n,R);if(null==Da&&(Da=!("onselectstart"in t)&&v(t.style,"userSelect")),Da){var o=s(t).style,a=o[Da];o[Da]="none"}return function(t){if(r.on(n,null),Da&&(o[Da]=a),t){var e=function(){r.on(i,null)};r.on(i,function(){R(),e()},!0),setTimeout(e,0)}}}function Q(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();if(Ia<0){var r=I(t);if(r.scrollX||r.scrollY){var o=(n=ua.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Ia=!(o.f||o.e),n.remove()}}return Ia?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function K(){return ua.event.changedTouches[0].identifier}function Z(t){return 0<t?1:t<0?-1:0}function J(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return 1<t?0:t<-1?Fa:Math.acos(t)}function et(t){return 1<t?ja:t<-1?-ja:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function it(t){return((t=Math.exp(t))+1/t)/2}function rt(t){return((t=Math.exp(2*t))-1)/(t+1)}function ot(t){return(t=Math.sin(t/2))*t}function at(){}function st(t,e,n){return this instanceof st?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof st?new st(t.h,t.s,t.l):xt(""+t,wt,st):new st(t,e,n)}function ut(t,e,n){function i(t){return 360<t?t-=360:t<0&&(t+=360),t<60?o+(a-o)*t/60:t<180?a:t<240?o+(a-o)*(240-t)/60:o}function r(t){return Math.round(255*i(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:1<e?1:e,o=2*(n=n<0?0:1<n?1:n)-(a=n<=.5?n*(1+e):n+e-n*e),new vt(r(t+120),r(t),r(t-120))}function lt(t,e,n){return this instanceof lt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof lt?new lt(t.h,t.c,t.l):dt(t instanceof ht?t.l:(t=St((t=ua.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new lt(t,e,n)}function ct(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ht(n,Math.cos(t*=Va)*e,Math.sin(t)*e)}function ht(t,e,n){return this instanceof ht?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ht?new ht(t.l,t.a,t.b):t instanceof lt?ct(t.h,t.c,t.l):St((t=vt(t)).r,t.g,t.b):new ht(t,e,n)}function ft(t,e,n){var i=(t+16)/116,r=i+e/500,o=i-n/200;return new vt(mt(3.2404542*(r=pt(r)*Za)-1.5371385*(i=pt(i)*Ja)-.4985314*(o=pt(o)*ts)),mt(-.969266*r+1.8760108*i+.041556*o),mt(.0556434*r-.2040259*i+1.0572252*o))}function dt(t,e,n){return 0<t?new lt(Math.atan2(n,e)*Ga,Math.sqrt(e*e+n*n),t):new lt(NaN,NaN,t)}function pt(t){return.206893034<t?t*t*t:(t-4/29)/7.787037}function gt(t){return.008856<t?Math.pow(t,1/3):7.787037*t+4/29}function mt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function vt(t,e,n){return this instanceof vt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof vt?new vt(t.r,t.g,t.b):xt(""+t,vt,ut):new vt(t,e,n)}function yt(t){return new vt(t>>16,t>>8&255,255&t)}function _t(t){return yt(t)+""}function bt(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function xt(t,e,n){var i,r,o,a=0,s=0,u=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(kt(r[0]),kt(r[1]),kt(r[2]))}return(o=is.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,u=15&o,u|=u<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),e(a,s,u))}function wt(t,e,n){var i,r,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(r=u<.5?s/(a+o):s/(2-a-o),i=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,i*=60):(i=NaN,r=0<u&&u<1?0:i),new st(i,r,u)}function St(t,e,n){var i=gt((.4124564*(t=Tt(t))+.3575761*(e=Tt(e))+.1804375*(n=Tt(n)))/Za),r=gt((.2126729*t+.7151522*e+.072175*n)/Ja);return ht(116*r-16,500*(i-r),200*(r-gt((.0193339*t+.119192*e+.9503041*n)/ts)))}function Tt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function kt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Ct(t){return"function"==typeof t?t:function(){return t}}function Mt(i){return function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=null),At(t,e,i,n)}}function At(r,o,n,i){function t(){var t,e=l.status;if(!e&&Et(l)||200<=e&&e<300||304===e){try{t=n.call(a,l)}catch(i){return void s.error.call(a,i)}s.load.call(a,t)}else s.error.call(a,l)}var a={},s=ua.dispatch("beforesend","progress","load","error"),u={},l=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(r)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=t:l.onreadystatechange=function(){3<l.readyState&&t()},l.onprogress=function(t){var e=ua.event;ua.event=t;try{s.progress.call(a,l)}finally{ua.event=e}},a.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u[t]:(null==e?delete u[t]:u[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(o=null==t?null:t+"",a):o},a.responseType=function(t){return arguments.length?(c=t,a):c},a.response=function(t){return n=t,a},["get","post"].forEach(function(t){a[t]=function(){return a.send.apply(a,[t].concat(ca(arguments)))}}),a.send=function(t,e,n){if(2===arguments.length&&"function"==typeof e&&(n=e,e=null),l.open(t,r,!0),null==o||"accept"in u||(u.accept=o+",*/*"),l.setRequestHeader)for(var i in u)l.setRequestHeader(i,u[i]);return null!=o&&l.overrideMimeType&&l.overrideMimeType(o),null!=c&&(l.responseType=c),null!=n&&a.on("error",n).on("load",function(t){n(null,t)}),s.beforesend.call(a,l),l.send(null==e?null:e),a},a.abort=function(){return l.abort(),a},ua.rebind(a,s,"on"),null==i?a:a.get(Pt(i))}function Pt(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function Et(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Lt(t,e,n){var i=arguments.length;i<2&&(e=0),i<3&&(n=Date.now());var r={c:t,t:n+e,n:null};return os?os.n=r:rs=r,os=r,as||(ss=clearTimeout(ss),as=1,us(Dt)),r}function Dt(){var t=Nt(),e=It()-t;24<e?(isFinite(e)&&(clearTimeout(ss),ss=setTimeout(Dt,e)),as=0):(as=1,us(Dt))}function Nt(){for(var t=Date.now(),e=rs;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function It(){for(var t,e=rs,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:rs=e.n;return os=t,n}function Ot(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Rt(t,e){var n=Math.pow(10,3*ya(8-e));return{scale:8<e?function(t){return t/n}:function(t){return t*n},symbol:t}}function Ft(t){var T=t.decimal,s=t.thousands,u=t.grouping,i=t.currency,k=u&&s?function(t,e){for(var n=t.length,i=[],r=0,o=u[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),i.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=u[r=(r+1)%u.length];return i.reverse().join(s)}:O;return function(t){var e=cs.exec(t),c=e[1]||" ",h=e[2]||">",f=e[3]||"-",n=e[4]||"",d=e[5],p=+e[6],g=e[7],m=e[8],v=e[9],y=1,_="",b="",x=!1,w=!0;switch(m&&(m=+m.substring(1)),(d||"0"===c&&"="===h)&&(d=c="0",h="="),v){case"n":g=!0,v="g";break;case"%":y=100,b="%",v="f";break;case"p":y=100,b="%",v="r";break;case"b":case"o":case"x":case"X":"#"===n&&(_="0"+v.toLowerCase());case"c":w=!1;case"d":x=!0,m=0;break;case"s":y=-1,v="r"}"$"===n&&(_=i[0],b=i[1]),"r"!=v||m||(v="g"),null!=m&&("g"==v?m=Math.max(1,Math.min(21,m)):"e"!=v&&"f"!=v||(m=Math.max(0,Math.min(20,m)))),v=hs.get(v)||zt;var S=d&&g;return function(t){var e=b;if(x&&t%1)return"";var n=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===f?"":f;if(y<0){var i=ua.formatPrefix(t,m);t=i.scale(t),e=i.symbol+b}else t*=y;var r,o,a=(t=v(t,m)).lastIndexOf(".");if(a<0){var s=w?t.lastIndexOf("e"):-1;s<0?(r=t,o=""):(r=t.substring(0,s),o=t.substring(s))}else r=t.substring(0,a),o=T+t.substring(a+1);!d&&g&&(r=k(r,1/0));var u=_.length+r.length+o.length+(S?0:n.length),l=u<p?new Array(u=p-u+1).join(c):"";return S&&(r=k(l+r,l.length?p-o.length:1/0)),n+=_,t=r+o,("<"===h?n+t+l:">"===h?l+n+t:"^"===h?l.substring(0,u>>=1)+n+t+l.substring(u):n+(S?t:l+t))+e}}}function zt(t){return t+""}function Ht(t){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):t)}function jt(i,o,a){function t(t){var e=i(t),n=r(e,1);return t-e<n-t?e:n}function s(t){return o(t=i(new ds(t-1)),1),t}function r(t,e){return o(t=new ds(+t),e),t}function u(t,e,n){var i=s(t),r=[];if(1<n)for(;i<e;)a(i)%n||r.push(new Date(+i)),o(i,1);else for(;i<e;)r.push(new Date(+i)),o(i,1);return r}function e(t,e,n){try{var i=new(ds=Ht);return i._=t,u(i,e,n)}finally{ds=Date}}(i.floor=i).round=t,i.ceil=s,i.offset=r,i.range=u;var n=i.utc=Vt(i);return(n.floor=n).round=Vt(t),n.ceil=Vt(s),n.offset=Vt(r),n.range=e,i}function Vt(i){return function(t,e){try{var n=new(ds=Ht);return n._=t,i(n,e)._}finally{ds=Date}}}function Gt(t){function i(s){function t(t){for(var e,n,i,r=[],o=-1,a=0;++o<u;)37===s.charCodeAt(o)&&(r.push(s.slice(a,o)),null!=(n=gs[e=s.charAt(++o)])&&(e=s.charAt(++o)),(i=A[e])&&(e=i(t,null==n?"e"===e?" ":"0":n)),r.push(e),a=o+1);return r.push(s.slice(a,o)),r.join("")}var u=s.length;return t.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(r(e,s,t,0)!=t.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var n=null!=e.Z&&ds!==Ht,i=new(n?Ht:ds);return"j"in e?i.setFullYear(e.y,0,e.j):"W"in e||"U"in e?("w"in e||(e.w="W"in e?1:0),i.setFullYear(e.y,0,1),i.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(i.getDay()+5)%7:e.w+7*e.U-(i.getDay()+6)%7)):i.setFullYear(e.y,e.m,e.d),i.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L),n?i._:i},t.toString=function(){return s},t}function r(t,e,n,i){for(var r,o,a,s=0,u=e.length,l=n.length;s<u;){if(l<=i)return-1;if(37===(r=e.charCodeAt(s++))){if(a=e.charAt(s++),!(o=P[a in gs?e.charAt(s++):a])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function e(t,e,n){w.lastIndex=0;var i=w.exec(e.slice(n));return i?(t.w=S.get(i[0].toLowerCase()),n+i[0].length):-1}function n(t,e,n){b.lastIndex=0;var i=b.exec(e.slice(n));return i?(t.w=x.get(i[0].toLowerCase()),n+i[0].length):-1}function o(t,e,n){C.lastIndex=0;var i=C.exec(e.slice(n));return i?(t.m=M.get(i[0].toLowerCase()),n+i[0].length):-1}function a(t,e,n){T.lastIndex=0;var i=T.exec(e.slice(n));return i?(t.m=k.get(i[0].toLowerCase()),n+i[0].length):-1}function s(t,e,n){return r(t,A.c.toString(),e,n)}function u(t,e,n){return r(t,A.x.toString(),e,n)}function l(t,e,n){return r(t,A.X.toString(),e,n)}function c(t,e,n){var i=_.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}var h=t.dateTime,f=t.date,d=t.time,p=t.periods,g=t.days,m=t.shortDays,v=t.months,y=t.shortMonths;i.utc=function(t){function e(t){try{var e=new(ds=Ht);return e._=t,n(e)}finally{ds=Date}}var n=i(t);return e.parse=function(t){try{ds=Ht;var e=n.parse(t);return e&&e._}finally{ds=Date}},e.toString=n.toString,e},i.multi=i.utc.multi=ue;var _=ua.map(),b=$t(g),x=Bt(g),w=$t(m),S=Bt(m),T=$t(v),k=Bt(v),C=$t(y),M=Bt(y);p.forEach(function(t,e){_.set(t.toLowerCase(),e)});var A={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:i(h),d:function(t,e){return qt(t.getDate(),e,2)},e:function(t,e){return qt(t.getDate(),e,2)},H:function(t,e){return qt(t.getHours(),e,2)},I:function(t,e){return qt(t.getHours()%12||12,e,2)},j:function(t,e){return qt(1+fs.dayOfYear(t),e,3)},L:function(t,e){return qt(t.getMilliseconds(),e,3)},m:function(t,e){return qt(t.getMonth()+1,e,2)},M:function(t,e){return qt(t.getMinutes(),e,2)},p:function(t){return p[+(12<=t.getHours())]},S:function(t,e){return qt(t.getSeconds(),e,2)},U:function(t,e){return qt(fs.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return qt(fs.mondayOfYear(t),e,2)},x:i(f),X:i(d),y:function(t,e){return qt(t.getFullYear()%100,e,2)},Y:function(t,e){return qt(t.getFullYear()%1e4,e,4)},Z:ae,"%":function(){return"%"}},P={a:e,A:n,b:o,B:a,c:s,d:te,e:te,H:ne,I:ne,j:ee,L:oe,m:Jt,M:ie,p:c,S:re,U:Ut,w:Wt,W:Yt,x:u,X:l,y:Qt,Y:Xt,Z:Kt,"%":se};return i}function qt(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function $t(t){return new RegExp("^(?:"+t.map(ua.requote).join("|")+")","i")}function Bt(t){for(var e=new y,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Wt(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Ut(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Yt(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Xt(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Qt(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+2));return i?(t.y=Zt(+i[0]),n+i[0].length):-1}function Kt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Zt(t){return t+(68<t?1900:2e3)}function Jt(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function te(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function ee(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function ne(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function ie(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function re(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function oe(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function ae(t){var e=t.getTimezoneOffset(),n=0<e?"-":"+",i=ya(e)/60|0,r=ya(e)%60;return n+qt(i,"0",2)+qt(r,"0",2)}function se(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function ue(i){for(var t=i.length,e=-1;++e<t;)i[e][0]=this(i[e][0]);return function(t){for(var e=0,n=i[e];!n[1](t);)n=i[++e];return n[0](t)}}function le(){}function ce(t,e,n){var i=n.s=t+e,r=i-t,o=i-r;n.t=t-o+(e-r)}function he(t,e){t&&xs.hasOwnProperty(t.type)&&xs[t.type](t,e)}function fe(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function de(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)fe(t[n],e,1);e.polygonEnd()}function pe(){function n(t,e){e=e*Va/2+Fa/4;var n=(t*=Va)-c,i=0<=n?1:-1,r=i*n,o=Math.cos(e),a=Math.sin(e),s=f*a,u=h*o+s*Math.cos(r),l=s*i*Math.sin(r);Ss.add(Math.atan2(l,u)),c=t,h=o,f=a}var i,r,c,h,f;Ts.point=function(t,e){Ts.point=n,c=(i=t)*Va,h=Math.cos(e=(r=e)*Va/2+Fa/4),f=Math.sin(e)},Ts.lineEnd=function(){n(i,r)}}function ge(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function me(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ve(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ye(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function _e(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function be(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function xe(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function we(t,e){return ya(t[0]-e[0])<Oa&&ya(t[1]-e[1])<Oa}function Se(t,e){t*=Va;var n=Math.cos(e*=Va);Te(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Te(t,e,n){Ms+=(t-Ms)/++ks,As+=(e-As)/ks,Ps+=(n-Ps)/ks}function ke(){function i(t,e){t*=Va;var n=Math.cos(e*=Va),i=n*Math.cos(t),r=n*Math.sin(t),o=Math.sin(e),a=Math.atan2(Math.sqrt((a=u*o-l*r)*a+(a=l*i-s*o)*a+(a=s*r-u*i)*a),s*i+u*r+l*o);Cs+=a,Es+=a*(s+(s=i)),Ls+=a*(u+(u=r)),Ds+=a*(l+(l=o)),Te(s,u,l)}var s,u,l;Rs.point=function(t,e){t*=Va;var n=Math.cos(e*=Va);s=n*Math.cos(t),u=n*Math.sin(t),l=Math.sin(e),Rs.point=i,Te(s,u,l)}}function Ce(){Rs.point=Se}function Me(){function i(t,e){t*=Va;var n=Math.cos(e*=Va),i=n*Math.cos(t),r=n*Math.sin(t),o=Math.sin(e),a=p*o-g*r,s=g*i-d*o,u=d*r-p*i,l=Math.sqrt(a*a+s*s+u*u),c=d*i+p*r+g*o,h=l&&-tt(c)/l,f=Math.atan2(l,c);Ns+=h*a,Is+=h*s,Os+=h*u,Cs+=f,Es+=f*(d+(d=i)),Ls+=f*(p+(p=r)),Ds+=f*(g+(g=o)),Te(d,p,g)}var r,o,d,p,g;Rs.point=function(t,e){r=t,o=e,Rs.point=i,t*=Va;var n=Math.cos(e*=Va);d=n*Math.cos(t),p=n*Math.sin(t),g=Math.sin(e),Te(d,p,g)},Rs.lineEnd=function(){i(r,o),Rs.lineEnd=Ce,Rs.point=Se}}function Ae(n,i){function t(t,e){return t=n(t,e),i(t[0],t[1])}return n.invert&&i.invert&&(t.invert=function(t,e){return(t=i.invert(t,e))&&n.invert(t[0],t[1])}),t}function Pe(){return!0}function Ee(t,e,n,i,s){var u=[],l=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(we(n,i)){s.lineStart();for(var r=0;r<e;++r)s.point((n=t[r])[0],n[1]);return void s.lineEnd()}var o=new De(n,t,null,!0),a=new De(n,null,o,!1);o.o=a,u.push(o),l.push(a),a=new De(i,null,o=new De(i,t,null,!1),!0),o.o=a,u.push(o),l.push(a)}}),l.sort(e),Le(u),Le(l),u.length){for(var r=0,o=n,a=l.length;r<a;++r)l[r].e=o=!o;for(var c,h,f=u[0];;){for(var d=f,p=!0;d.v;)if((d=d.n)===f)return;c=d.z,s.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(r=0,a=c.length;r<a;++r)s.point((h=c[r])[0],h[1]);else i(d.x,d.n.x,1,s);d=d.n}else{if(p)for(r=(c=d.p.z).length-1;0<=r;--r)s.point((h=c[r])[0],h[1]);else i(d.x,d.p.x,-1,s);d=d.p}c=(d=d.o).z,p=!p}while(!d.v);s.lineEnd()}}}function Le(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function De(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Ne(y,_,b,x){return function(i,a){function e(t,e){var n=i(t,e);y(t=n[0],e=n[1])&&a.point(t,e)}function t(t,e){var n=i(t,e);f.point(n[0],n[1])}function n(){p.point=t,f.lineStart()}function r(){p.point=e,f.lineEnd()}function s(t,e){h.push([t,e]);var n=i(t,e);m.point(n[0],n[1])}function o(){m.lineStart(),h=[]}function u(){s(h[0][0],h[0][1]),m.lineEnd();var t,e=m.clean(),n=g.buffer(),i=n.length;if(h.pop(),c.push(h),h=null,i)if(1&e){var r,o=-1;if(0<(i=(t=n[0]).length-1)){for(v||(a.polygonStart(),v=!0),a.lineStart();++o<i;)a.point((r=t[o])[0],r[1]);a.lineEnd()}}else 1<i&&2&e&&n.push(n.pop().concat(n.shift())),l.push(n.filter(Ie))}var l,c,h,f=_(a),d=i.invert(x[0],x[1]),p={point:e,lineStart:n,lineEnd:r,polygonStart:function(){p.point=s,p.lineStart=o,p.lineEnd=u,l=[],c=[]},polygonEnd:function(){p.point=e,p.lineStart=n,p.lineEnd=r,l=ua.merge(l);var t=je(d,c);l.length?(v||(a.polygonStart(),v=!0),Ee(l,Re,t,b,a)):t&&(v||(a.polygonStart(),v=!0),a.lineStart(),b(null,null,1,a),a.lineEnd()),v&&(a.polygonEnd(),v=!1),l=c=null},sphere:function(){a.polygonStart(),a.lineStart(),b(null,null,1,a),a.lineEnd(),a.polygonEnd()}},g=Oe(),m=_(g),v=!1;return p}}function Ie(t){return 1<t.length}function Oe(){var n,e=[];return{lineStart:function(){e.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:b,buffer:function(){var t=e;return e=[],n=null,t},rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))}}}function Re(t,e){return((t=t.x)[0]<0?t[1]-ja-Oa:ja-t[1])-((e=e.x)[0]<0?e[1]-ja-Oa:ja-e[1])}function Fe(r){var o,a=NaN,s=NaN,u=NaN;return{lineStart:function(){r.lineStart(),o=1},point:function(t,e){var n=0<t?Fa:-Fa,i=ya(t-a);ya(i-Fa)<Oa?(r.point(a,s=0<(s+e)/2?ja:-ja),r.point(u,s),r.lineEnd(),r.lineStart(),r.point(n,s),r.point(t,s),o=0):u!==n&&Fa<=i&&(ya(a-u)<Oa&&(a-=u*Oa),ya(t-n)<Oa&&(t-=n*Oa),s=ze(a,s,t,e),r.point(u,s),r.lineEnd(),r.lineStart(),r.point(n,s),o=0),r.point(a=t,s=e),u=n},lineEnd:function(){r.lineEnd(),a=s=NaN},clean:function(){return 2-o}}}function ze(t,e,n,i){var r,o,a=Math.sin(t-n);return ya(a)>Oa?Math.atan((Math.sin(e)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*o*a)):(e+i)/2}function He(t,e,n,i){var r;if(null==t)r=n*ja,i.point(-Fa,r),i.point(0,r),i.point(Fa,r),i.point(Fa,0),i.point(Fa,-r),i.point(0,-r),i.point(-Fa,-r),i.point(-Fa,0),i.point(-Fa,r);else if(ya(t[0]-e[0])>Oa){var o=t[0]<e[0]?Fa:-Fa;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}function je(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Ss.reset();for(var s=0,u=e.length;s<u;++s){var l=e[s],c=l.length;if(c)for(var h=l[0],f=h[0],d=h[1]/2+Fa/4,p=Math.sin(d),g=Math.cos(d),m=1;;){m===c&&(m=0);var v=(t=l[m])[0],y=t[1]/2+Fa/4,_=Math.sin(y),b=Math.cos(y),x=v-f,w=0<=x?1:-1,S=w*x,T=Fa<S,k=p*_;if(Ss.add(Math.atan2(k*w*Math.sin(S),g*b+k*Math.cos(S))),o+=T?x+w*za:x,T^n<=f^n<=v){var C=ve(ge(h),ge(t));be(C);var M=ve(r,C);be(M);var A=(T^0<=x?-1:1)*et(M[2]);(A<i||i===A&&(C[0]||C[1]))&&(a+=T^0<=x?1:-1)}if(!m++)break;f=v,p=_,g=b,h=t}}return(o<-Oa||o<Oa&&Ss<-Oa)^1&a}function Ve(r){function d(t,e){return Math.cos(t)*Math.cos(e)>C}function t(s){var u,l,c,h,f;return{lineStart:function(){h=c=!1,f=1},point:function(t,e){var n,i=[t,e],r=d(t,e),o=m?r?0:g(t,e):r?g(t+(t<0?Fa:-Fa),e):0;if(!u&&(h=c=r)&&s.lineStart(),r!==c&&(n=p(u,i),(we(u,n)||we(i,n))&&(i[0]+=Oa,i[1]+=Oa,r=d(i[0],i[1]))),r!==c)f=0,r?(s.lineStart(),n=p(i,u),s.point(n[0],n[1])):(n=p(u,i),s.point(n[0],n[1]),s.lineEnd()),u=n;else if(v&&u&&m^r){var a;o&l||!(a=p(i,u,!0))||(f=0,m?(s.lineStart(),s.point(a[0][0],a[0][1]),s.point(a[1][0],a[1][1]),s.lineEnd()):(s.point(a[1][0],a[1][1]),s.lineEnd(),s.lineStart(),s.point(a[0][0],a[0][1])))}!r||u&&we(u,i)||s.point(i[0],i[1]),u=i,c=r,l=o},lineEnd:function(){c&&s.lineEnd(),u=null},clean:function(){return f|(h&&c)<<1}}}function p(t,e,n){var i=[1,0,0],r=ve(ge(t),ge(e)),o=me(r,r),a=r[0],s=o-a*a;if(!s)return!n&&t;var u=C*o/s,l=-C*a/s,c=ve(i,r),h=_e(i,u);ye(h,_e(r,l));var f=c,d=me(h,f),p=me(f,f),g=d*d-p*(me(h,h)-1);if(!(g<0)){var m=Math.sqrt(g),v=_e(f,(-d-m)/p);if(ye(v,h),v=xe(v),!n)return v;var y,_=t[0],b=e[0],x=t[1],w=e[1];b<_&&(y=_,_=b,b=y);var S=b-_,T=ya(S-Fa)<Oa;if(!T&&w<x&&(y=x,x=w,w=y),T||S<Oa?T?0<x+w^v[1]<(ya(v[0]-_)<Oa?x:w):x<=v[1]&&v[1]<=w:Fa<S^(_<=v[0]&&v[0]<=b)){var k=_e(f,(-d+m)/p);return ye(k,h),[v,xe(k)]}}}function g(t,e){var n=m?r:Fa-r,i=0;return t<-n?i|=1:n<t&&(i|=2),e<-n?i|=4:n<e&&(i|=8),i}var C=Math.cos(r),m=0<C,v=ya(C)>Oa;return Ne(d,t,gn(r,6*Va),m?[0,-r]:[-Fa,r-Fa])}function Ge(c,h,f,d){return function(t){var e,n=t.a,i=t.b,r=n.x,o=n.y,a=0,s=1,u=i.x-r,l=i.y-o;if(e=c-r,u||!(0<e)){if(e/=u,u<0){if(e<a)return;e<s&&(s=e)}else if(0<u){if(s<e)return;a<e&&(a=e)}if(e=f-r,u||!(e<0)){if(e/=u,u<0){if(s<e)return;a<e&&(a=e)}else if(0<u){if(e<a)return;e<s&&(s=e)}if(e=h-o,l||!(0<e)){if(e/=l,l<0){if(e<a)return;e<s&&(s=e)}else if(0<l){if(s<e)return;a<e&&(a=e)}if(e=d-o,l||!(e<0)){if(e/=l,l<0){if(s<e)return;a<e&&(a=e)}else if(0<l){if(e<a)return;e<s&&(s=e)}return 0<a&&(t.a={x:r+a*u,y:o+a*l}),s<1&&(t.b={x:r+s*u,y:o+s*l}),t}}}}}}function qe(S,T,k,C){function M(t,e){return ya(t[0]-S)<Oa?0<e?0:3:ya(t[0]-k)<Oa?0<e?2:1:ya(t[1]-T)<Oa?0<e?1:0:0<e?3:2}function A(t,e){return P(t.x,e.x)}function P(t,e){var n=M(t,1),i=M(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(r){function i(t){
for(var e=0,n=c.length,i=t[1],r=0;r<n;++r)for(var o,a=1,s=c[r],u=s.length,l=s[0];a<u;++a)o=s[a],l[1]<=i?o[1]>i&&0<J(l,o,t)&&++e:o[1]<=i&&J(l,o,t)<0&&--e,l=o;return 0!==e}function o(t,e,n,i){var r=0,o=0;if(null==t||(r=M(t,n))!==(o=M(e,n))||P(t,e)<0^0<n)for(;i.point(0===r||3===r?S:k,1<r?C:T),(r=(r+n+4)%4)!==o;);else i.point(e[0],e[1])}function a(t,e){return S<=t&&t<=k&&T<=e&&e<=C}function t(t,e){a(t,e)&&r.point(t,e)}function e(){w.point=s,c&&c.push(l=[]),m=!(v=!0),p=g=NaN}function n(){u&&(s(h,f),d&&m&&b.rejoin(),u.push(b.buffer())),w.point=t,m&&r.lineEnd()}function s(t,e){var n=a(t=Math.max(-zs,Math.min(zs,t)),e=Math.max(-zs,Math.min(zs,e)));if(c&&l.push([t,e]),v)h=t,f=e,v=!1,(d=n)&&(r.lineStart(),r.point(t,e));else if(n&&m)r.point(t,e);else{var i={a:{x:p,y:g},b:{x:t,y:e}};x(i)?(m||(r.lineStart(),r.point(i.a.x,i.a.y)),r.point(i.b.x,i.b.y),n||r.lineEnd(),y=!1):n&&(r.lineStart(),r.point(t,e),y=!1)}p=t,g=e,m=n}var u,c,l,h,f,d,p,g,m,v,y,_=r,b=Oe(),x=Ge(S,T,k,C),w={point:t,lineStart:e,lineEnd:n,polygonStart:function(){r=b,u=[],c=[],y=!0},polygonEnd:function(){r=_,u=ua.merge(u);var t=i([S,C]),e=y&&t,n=u.length;(e||n)&&(r.polygonStart(),e&&(r.lineStart(),o(null,null,1,r),r.lineEnd()),n&&Ee(u,A,t,o,r),r.polygonEnd()),u=c=l=null}};return w}}function $e(t){var e=0,n=Fa/3,i=sn(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Fa/180,n=t[1]*Fa/180):[e/Fa*180,n/Fa*180]},r}function Be(t,e){function n(t,e){var n=Math.sqrt(o-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),a-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,o=1+i*(2*r-i),a=Math.sqrt(o)/r;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,et((o-(t*t+n*n)*r*r)/(2*r))]},n}function We(){function n(t,e){js+=a*t-o*e,o=t,a=e}var i,r,o,a;Bs.point=function(t,e){Bs.point=n,i=o=t,r=a=e},Bs.lineEnd=function(){n(i,r)}}function Ue(t,e){t<Vs&&(Vs=t),qs<t&&(qs=t),e<Gs&&(Gs=e),$s<e&&($s=e)}function Ye(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function i(){s.point=t}function r(){a.push("Z")}var o=Xe(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return o=Xe(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function Xe(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Qe(t,e){Ms+=t,As+=e,++Ps}function Ke(){function n(t,e){var n=t-o,i=e-a,r=Math.sqrt(n*n+i*i);Es+=r*(o+t)/2,Ls+=r*(a+e)/2,Ds+=r,Qe(o=t,a=e)}var o,a;Us.point=function(t,e){Us.point=n,Qe(o=t,a=e)}}function Ze(){Us.point=Qe}function Je(){function n(t,e){var n=t-o,i=e-a,r=Math.sqrt(n*n+i*i);Es+=r*(o+t)/2,Ls+=r*(a+e)/2,Ds+=r,Ns+=(r=a*t-o*e)*(o+t),Is+=r*(a+e),Os+=3*r,Qe(o=t,a=e)}var i,r,o,a;Us.point=function(t,e){Us.point=n,Qe(i=o=t,r=a=e)},Us.lineEnd=function(){n(i,r)}}function tn(n){function t(t,e){n.moveTo(t+a,e),n.arc(t,e,a,0,za)}function e(t,e){n.moveTo(t,e),s.point=i}function i(t,e){n.lineTo(t,e)}function r(){s.point=t}function o(){n.closePath()}var a=4.5,s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return a=t,s},result:b};return s}function en(P){function e(t){return(x?i:n)(t)}function n(n){return on(n,function(t,e){t=P(t,e),n.point(t[0],t[1])})}function i(r){function t(t,e){t=P(t,e),r.point(t[0],t[1])}function e(){g=NaN,b.point=n,r.lineStart()}function n(t,e){var n=ge([t,e]),i=P(t,e);E(g,m,p,v,y,_,g=i[0],m=i[1],p=t,v=n[0],y=n[1],_=n[2],x,r),r.point(g,m)}function i(){b.point=t,r.lineEnd()}function o(){e(),b.point=a,b.lineEnd=s}function a(t,e){n(u=t,e),l=g,c=m,h=v,f=y,d=_,b.point=n}function s(){E(g,m,p,v,y,_,l,c,u,h,f,d,x,r),(b.lineEnd=i)()}var u,l,c,h,f,d,p,g,m,v,y,_,b={point:t,lineStart:e,lineEnd:i,polygonStart:function(){r.polygonStart(),b.lineStart=o},polygonEnd:function(){r.polygonEnd(),b.lineStart=e}};return b}function E(t,e,n,i,r,o,a,s,u,l,c,h,f,d){var p=a-t,g=s-e,m=p*p+g*g;if(4*L<m&&f--){var v=i+l,y=r+c,_=o+h,b=Math.sqrt(v*v+y*y+_*_),x=Math.asin(_/=b),w=ya(ya(_)-1)<Oa||ya(n-u)<Oa?(n+u)/2:Math.atan2(y,v),S=P(w,x),T=S[0],k=S[1],C=T-t,M=k-e,A=g*C-p*M;(L<A*A/m||.3<ya((p*C+g*M)/m-.5)||i*l+r*c+o*h<D)&&(E(t,e,n,i,r,o,T,k,w,v/=b,y/=b,_,f,d),d.point(T,k),E(T,k,w,v,y,_,a,s,u,l,c,h,f,d))}}var L=.5,D=Math.cos(30*Va),x=16;return e.precision=function(t){return arguments.length?(x=0<(L=t*t)&&16,e):Math.sqrt(L)},e}function nn(n){var e=en(function(t,e){return n([t*Ga,e*Ga])});return function(t){return un(e(t))}}function rn(t){this.stream=t}function on(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function an(t){return sn(function(){return t})()}function sn(t){function e(t){return[(t=s(t[0]*Va,t[1]*Va))[0]*f+u,l-t[1]*f]}function n(t){return(t=s.invert((t[0]-u)/f,(l-t[1])/f))&&[t[0]*Ga,t[1]*Ga]}function i(){s=Ae(a=hn(v,y,_),o);var t=o(g,m);return u=d-t[0]*f,l=p+t[1]*f,r()}function r(){return c&&(c.valid=!1,c=null),e}var o,a,s,u,l,c,h=en(function(t,e){return[(t=o(t,e))[0]*f+u,l-t[1]*f]}),f=150,d=480,p=250,g=0,m=0,v=0,y=0,_=0,b=Fs,x=O,w=null,S=null;return e.stream=function(t){return c&&(c.valid=!1),(c=un(b(a,h(x(t))))).valid=!0,c},e.clipAngle=function(t){return arguments.length?(b=null==t?(w=t,Fs):Ve((w=+t)*Va),r()):w},e.clipExtent=function(t){return arguments.length?(x=(S=t)?qe(t[0][0],t[0][1],t[1][0],t[1][1]):O,r()):S},e.scale=function(t){return arguments.length?(f=+t,i()):f},e.translate=function(t){return arguments.length?(d=+t[0],p=+t[1],i()):[d,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Va,m=t[1]%360*Va,i()):[g*Ga,m*Ga]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Va,y=t[1]%360*Va,_=2<t.length?t[2]%360*Va:0,i()):[v*Ga,y*Ga,_*Ga]},ua.rebind(e,h,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,i()}}function un(n){return on(n,function(t,e){n.point(t*Va,e*Va)})}function ln(t,e){return[t,e]}function cn(t,e){return[Fa<t?t-za:t<-Fa?t+za:t,e]}function hn(t,e,n){return t?e||n?Ae(dn(t),pn(e,n)):dn(t):e||n?pn(e,n):cn}function fn(n){return function(t,e){return[Fa<(t+=n)?t-za:t<-Fa?t+za:t,e]}}function dn(t){var e=fn(t);return e.invert=fn(-t),e}function pn(t,e){function n(t,e){var n=Math.cos(e),i=Math.cos(t)*n,r=Math.sin(t)*n,o=Math.sin(e),a=o*s+i*u;return[Math.atan2(r*l-a*c,i*s-o*u),et(a*l+r*c)]}var s=Math.cos(t),u=Math.sin(t),l=Math.cos(e),c=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),i=Math.cos(t)*n,r=Math.sin(t)*n,o=Math.sin(e),a=o*l-r*c;return[Math.atan2(r*l+o*c,i*s+a*u),et(a*s-i*u)]},n}function gn(s,u){var l=Math.cos(s),c=Math.sin(s);return function(t,e,n,i){var r=n*u;null!=t?(t=mn(l,t),e=mn(l,e),(0<n?t<e:e<t)&&(t+=n*za)):(t=s+n*za,e=s-.5*r);for(var o,a=t;0<n?e<a:a<e;a-=r)i.point((o=xe([l,-c*Math.cos(a),-c*Math.sin(a)]))[0],o[1])}}function mn(t,e){var n=ge(e);n[0]-=t,be(n);var i=tt(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Oa)%(2*Math.PI)}function vn(t,e,n){var i=ua.range(t,e-Oa,n).concat(e);return function(e){return i.map(function(t){return[e,t]})}}function yn(t,e,n){var i=ua.range(t,e-Oa,n).concat(e);return function(e){return i.map(function(t){return[t,e]})}}function _n(t){return t.source}function bn(t){return t.target}function xn(t,e,n,i){var r=Math.cos(e),a=Math.sin(e),o=Math.cos(i),s=Math.sin(i),u=r*Math.cos(t),l=r*Math.sin(t),c=o*Math.cos(n),h=o*Math.sin(n),f=2*Math.asin(Math.sqrt(ot(i-e)+r*o*ot(n-t))),d=1/Math.sin(f),p=f?function(t){var e=Math.sin(t*=f)*d,n=Math.sin(f-t)*d,i=n*u+e*c,r=n*l+e*h,o=n*a+e*s;return[Math.atan2(r,i)*Ga,Math.atan2(o,Math.sqrt(i*i+r*r))*Ga]}:function(){return[t*Ga,e*Ga]};return p.distance=f,p}function wn(){function n(t,e){var n=Math.sin(e*=Va),i=Math.cos(e),r=ya((t*=Va)-a),o=Math.cos(r);Ys+=Math.atan2(Math.sqrt((r=i*Math.sin(r))*r+(r=u*n-s*i*o)*r),s*n+u*i*o),a=t,s=n,u=i}var a,s,u;Xs.point=function(t,e){a=t*Va,s=Math.sin(e*=Va),u=Math.cos(e),Xs.point=n},Xs.lineEnd=function(){Xs.point=Xs.lineEnd=b}}function Sn(o,a){function t(t,e){var n=Math.cos(t),i=Math.cos(e),r=o(n*i);return[r*i*Math.sin(t),r*Math.sin(e)]}return t.invert=function(t,e){var n=Math.sqrt(t*t+e*e),i=a(n),r=Math.sin(i),o=Math.cos(i);return[Math.atan2(t*r,n*o),Math.asin(n&&e*r/n)]},t}function Tn(t,e){function n(t,e){0<a?e<-ja+Oa&&(e=-ja+Oa):ja-Oa<e&&(e=ja-Oa);var n=a/Math.pow(r(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var i=Math.cos(t),r=function(t){return Math.tan(Fa/4+t/2)},o=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),a=i*Math.pow(r(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,i=Z(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/i,1/o))-ja]},n):Cn}function kn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),o=i/r+t;return ya(r)<Oa?ln:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,o-Z(r)*Math.sqrt(t*t+n*n)]},n)}function Cn(t,e){return[t,Math.log(Math.tan(Fa/4+e/2))]}function Mn(t){var r,o=an(t),a=o.scale,s=o.translate,u=o.clipExtent;return o.scale=function(){var t=a.apply(o,arguments);return t===o?r?o.clipExtent(null):o:t},o.translate=function(){var t=s.apply(o,arguments);return t===o?r?o.clipExtent(null):o:t},o.clipExtent=function(t){var e=u.apply(o,arguments);if(e===o){if(r=null==t){var n=Fa*a(),i=s();u([[i[0]-n,i[1]-n],[i[0]+n,i[1]+n]])}}else r&&(e=null);return e},o.clipExtent(null)}function An(t,e){return[Math.log(Math.tan(Fa/4+e/2)),-t]}function Pn(t){return t[0]}function En(t){return t[1]}function Ln(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;r++){for(;1<i&&J(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function Dn(t,e){return t[0]-e[0]||t[1]-e[1]}function Nn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function In(t,e,n,i){var r=t[0],o=n[0],a=e[0]-r,s=i[0]-o,u=t[1],l=n[1],c=e[1]-u,h=i[1]-l,f=(s*(u-l)-h*(r-o))/(h*a-s*c);return[r+f*a,u+f*c]}function On(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Rn(){ii(this),this.edge=this.site=this.circle=null}function Fn(t){var e=su.pop()||new Rn;return e.site=t,e}function zn(t){Yn(t),ru.remove(t),su.push(t),ii(t)}function Hn(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},o=t.P,a=t.N,s=[t];zn(t);for(var u=o;u.circle&&ya(n-u.circle.x)<Oa&&ya(i-u.circle.cy)<Oa;)o=u.P,s.unshift(u),zn(u),u=o;s.unshift(u),Yn(u);for(var l=a;l.circle&&ya(n-l.circle.x)<Oa&&ya(i-l.circle.cy)<Oa;)a=l.N,s.push(l),zn(l),l=a;s.push(l),Yn(l);var c,h=s.length;for(c=1;c<h;++c)l=s[c],u=s[c-1],ti(l.edge,u.site,l.site,r);u=s[0],(l=s[h-1]).edge=Zn(u.site,l.site,null,r),Un(u),Un(l)}function jn(t){for(var e,n,i,r,o=t.x,a=t.y,s=ru._;s;)if(i=Vn(s,a)-o,Oa<i)s=s.L;else{if(r=o-Gn(s,a),!(Oa<r)){-Oa<i?(e=s.P,n=s):-Oa<r?n=(e=s).N:e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=Fn(t);if(ru.insert(e,u),e||n){if(e===n)return Yn(e),n=Fn(e.site),ru.insert(u,n),u.edge=n.edge=Zn(e.site,u.site),Un(e),void Un(n);if(!n)return void(u.edge=Zn(e.site,u.site));Yn(e),Yn(n);var l=e.site,c=l.x,h=l.y,f=t.x-c,d=t.y-h,p=n.site,g=p.x-c,m=p.y-h,v=2*(f*m-d*g),y=f*f+d*d,_=g*g+m*m,b={x:(m*y-d*_)/v+c,y:(f*_-g*y)/v+h};ti(n.edge,l,p,b),u.edge=Zn(l,t,null,b),n.edge=Zn(t,p,null,b),Un(e),Un(n)}}function Vn(t,e){var n=t.site,i=n.x,r=n.y,o=r-e;if(!o)return i;var a=t.P;if(!a)return-1/0;var s=(n=a.site).x,u=n.y,l=u-e;if(!l)return s;var c=s-i,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+r-o/2)))/h+i:(i+s)/2}function Gn(t,e){var n=t.N;if(n)return Vn(n,e);var i=t.site;return i.y===e?i.x:1/0}function qn(t){this.site=t,this.edges=[]}function $n(t){for(var e,n,i,r,o,a,s,u,l,c,h=t[0][0],f=t[1][0],d=t[0][1],p=t[1][1],g=iu,m=g.length;m--;)if((o=g[m])&&o.prepare())for(u=(s=o.edges).length,a=0;a<u;)i=(c=s[a].end()).x,r=c.y,e=(l=s[++a%u].start()).x,n=l.y,(ya(i-e)>Oa||ya(r-n)>Oa)&&(s.splice(a,0,new ei(Jn(o.site,c,ya(i-h)<Oa&&Oa<p-r?{x:h,y:ya(e-h)<Oa?n:p}:ya(r-p)<Oa&&Oa<f-i?{x:ya(n-p)<Oa?e:f,y:p}:ya(i-f)<Oa&&Oa<r-d?{x:f,y:ya(e-f)<Oa?n:d}:ya(r-d)<Oa&&Oa<i-h?{x:ya(n-d)<Oa?e:h,y:d}:null),o.site,null)),++u)}function Bn(t,e){return e.angle-t.angle}function Wn(){ii(this),this.x=this.y=this.arc=this.site=this.cy=null}function Un(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r.x,s=r.y,u=i.x-a,l=i.y-s,c=o.x-a,h=2*(u*(m=o.y-s)-l*c);if(!(-Ra<=h)){var f=u*u+l*l,d=c*c+m*m,p=(m*f-l*d)/h,g=(u*d-c*f)/h,m=g+s,v=uu.pop()||new Wn;v.arc=t,v.site=r,v.x=p+a,v.y=m+Math.sqrt(p*p+g*g),v.cy=m,t.circle=v;for(var y=null,_=au._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}au.insert(y,v),y||(ou=v)}}}}function Yn(t){var e=t.circle;e&&(e.P||(ou=e.N),au.remove(e),uu.push(e),ii(e),t.circle=null)}function Xn(t){for(var e,n=nu,i=Ge(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)(!Qn(e=n[r],t)||!i(e)||ya(e.a.x-e.b.x)<Oa&&ya(e.a.y-e.b.y)<Oa)&&(e.a=e.b=null,n.splice(r,1))}function Qn(t,e){var n=t.b;if(n)return!0;var i,r,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],l=e[1][1],c=t.l,h=t.r,f=c.x,d=c.y,p=h.x,g=h.y,m=(f+p)/2,v=(d+g)/2;if(g===d){if(m<a||s<=m)return;if(p<f){if(o){if(o.y>=l)return}else o={x:m,y:u};n={x:m,y:l}}else{if(o){if(o.y<u)return}else o={x:m,y:l};n={x:m,y:u}}}else if(r=v-(i=(f-p)/(g-d))*m,i<-1||1<i)if(p<f){if(o){if(o.y>=l)return}else o={x:(u-r)/i,y:u};n={x:(l-r)/i,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-r)/i,y:l};n={x:(u-r)/i,y:u}}else if(d<g){if(o){if(o.x>=s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}else{if(o){if(o.x<a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}return t.a=o,t.b=n,!0}function Kn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Zn(t,e,n,i){var r=new Kn(t,e);return nu.push(r),n&&ti(r,t,e,n),i&&ti(r,e,t,i),iu[t.i].edges.push(new ei(r,t,e)),iu[e.i].edges.push(new ei(r,e,t)),r}function Jn(t,e,n){var i=new Kn(t,null);return i.a=e,i.b=n,nu.push(i),i}function ti(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function ei(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function ni(){this._=null}function ii(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ri(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function oi(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function ai(t){for(;t.L;)t=t.L;return t}function si(t,e){var n,i,r,o=t.sort(ui).pop();for(nu=[],iu=new Array(t.length),ru=new ni,au=new ni;;)if(r=ou,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))o.x===n&&o.y===i||(iu[o.i]=new qn(o),jn(o),n=o.x,i=o.y),o=t.pop();else{if(!r)break;Hn(r.arc)}e&&(Xn(e),$n(e));var a={cells:iu,edges:nu};return ru=au=nu=iu=null,a}function ui(t,e){return e.y-t.y||e.x-t.x}function li(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function ci(t){return t.x}function hi(t){return t.y}function fi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function di(t,e,n,i,r,o){if(!t(e,n,i,r,o)){var a=.5*(n+r),s=.5*(i+o),u=e.nodes;u[0]&&di(t,u[0],n,i,a,s),u[1]&&di(t,u[1],a,i,r,s),u[2]&&di(t,u[2],n,s,a,o),u[3]&&di(t,u[3],a,s,r,o)}}function pi(e,m,v,y,_,b,x){var w,S=1/0;return function t(e,n,i,r,o){if(!(b<n||x<i||r<y||o<_)){if(a=e.point){var a,s=m-e.x,u=v-e.y,l=s*s+u*u;if(l<S){var c=Math.sqrt(S=l);y=m-c,_=v-c,b=m+c,x=v+c,w=a}}for(var h=e.nodes,f=.5*(n+r),d=.5*(i+o),p=(d<=v)<<1|f<=m,g=p+4;p<g;++p)if(e=h[3&p])switch(3&p){case 0:t(e,n,i,f,d);break;case 1:t(e,f,i,r,d);break;case 2:t(e,n,d,f,o);break;case 3:t(e,f,d,r,o)}}}(e,y,_,b,x),w}function gi(t,e){t=ua.rgb(t),e=ua.rgb(e);var n=t.r,i=t.g,r=t.b,o=e.r-n,a=e.g-i,s=e.b-r;return function(t){return"#"+bt(Math.round(n+o*t))+bt(Math.round(i+a*t))+bt(Math.round(r+s*t))}}function mi(t,e){var n,i={},r={};for(n in t)n in e?i[n]=_i(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function vi(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function yi(t,i){var e,n,r,o=cu.lastIndex=hu.lastIndex=0,a=-1,s=[],u=[];for(t+="",i+="";(e=cu.exec(t))&&(n=hu.exec(i));)(r=n.index)>o&&(r=i.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(e=e[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,u.push({i:a,x:vi(e,n)})),o=hu.lastIndex;return o<i.length&&(r=i.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?u[0]?(i=u[0].x,function(t){return i(t)+""}):function(){return i}:(i=u.length,function(t){for(var e,n=0;n<i;++n)s[(e=u[n]).i]=e.x(t);return s.join("")})}function _i(t,e){for(var n,i=ua.interpolators.length;0<=--i&&!(n=ua.interpolators[i](t,e)););return n}function bi(t,e){var n,i=[],r=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)i.push(_i(t[n],e[n]));for(;n<o;++n)r[n]=t[n];for(;n<a;++n)r[n]=e[n];return function(t){for(n=0;n<s;++n)r[n]=i[n](t);return r}}function xi(e){return function(t){return t<=0?0:1<=t?1:e(t)}}function wi(e){return function(t){return 1-e(1-t)}}function Si(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Ti(t){return t*t}function ki(t){return t*t*t}function Ci(t){if(t<=0)return 0;if(1<=t)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Mi(e){return function(t){return Math.pow(t,e)}}function Ai(t){return 1-Math.cos(t*ja)}function Pi(t){return Math.pow(2,10*(t-1))}function Ei(t){return 1-Math.sqrt(1-t*t)}function Li(e,n){var i;return arguments.length<2&&(n=.45),arguments.length?i=n/za*Math.asin(1/e):(e=1,i=n/4),function(t){return 1+e*Math.pow(2,-10*t)*Math.sin((t-i)*za/n)}}function Di(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Ni(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Ii(t,e){t=ua.hcl(t),e=ua.hcl(e);var n=t.h,i=t.c,r=t.l,o=e.h-n,a=e.c-i,s=e.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?e.c:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360),function(t){return ct(n+o*t,i+a*t,r+s*t)+""}}function Oi(t,e){t=ua.hsl(t),e=ua.hsl(e);var n=t.h,i=t.s,r=t.l,o=e.h-n,a=e.s-i,s=e.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?e.s:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360),function(t){return ut(n+o*t,i+a*t,r+s*t)+""}}function Ri(t,e){t=ua.lab(t),e=ua.lab(e);var n=t.l,i=t.a,r=t.b,o=e.l-n,a=e.a-i,s=e.b-r;return function(t){return ft(n+o*t,i+a*t,r+s*t)+""}}function Fi(e,n){return n-=e,function(t){return Math.round(e+n*t)}}function zi(t){var e=[t.a,t.b],n=[t.c,t.d],i=ji(e),r=Hi(e,n),o=ji(Vi(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ga,this.translate=[t.e,t.f],this.scale=[i,o],this.skew=o?Math.atan2(r,o)*Ga:0}function Hi(t,e){return t[0]*e[0]+t[1]*e[1]}function ji(t){var e=Math.sqrt(Hi(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Vi(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Gi(t){return t.length?t.pop()+",":""}function qi(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:vi(t[0],e[0])},{i:r-2,x:vi(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function $i(t,e,n,i){t!==e?(180<t-e?e+=360:180<e-t&&(t+=360),i.push({i:n.push(Gi(n)+"rotate(",null,")")-2,x:vi(t,e)})):e&&n.push(Gi(n)+"rotate("+e+")")}function Bi(t,e,n,i){t!==e?i.push({i:n.push(Gi(n)+"skewX(",null,")")-2,x:vi(t,e)}):e&&n.push(Gi(n)+"skewX("+e+")")}function Wi(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push(Gi(n)+"scale(",null,",",null,")");i.push({i:r-4,x:vi(t[0],e[0])},{i:r-2,x:vi(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Gi(n)+"scale("+e+")")}function Ui(t,e){var r=[],o=[];return t=ua.transform(t),e=ua.transform(e),qi(t.translate,e.translate,r,o),$i(t.rotate,e.rotate,r,o),Bi(t.skew,e.skew,r,o),Wi(t.scale,e.scale,r,o),t=e=null,function(t){for(var e,n=-1,i=o.length;++n<i;)r[(e=o[n]).i]=e.x(t);return r.join("")}}function Yi(e,n){return n=(n-=e=+e)||1/n,function(t){return(t-e)/n}}function Xi(e,n){return n=(n-=e=+e)||1/n,function(t){return Math.max(0,Math.min(1,(t-e)/n))}}function Qi(t){for(var e=t.source,n=t.target,i=Zi(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function Ki(t){for(var e=[],n=t.parent;null!=n;)e.push(t),n=(t=n).parent;return e.push(t),e}function Zi(t,e){if(t===e)return t;for(var n=Ki(t),i=Ki(e),r=n.pop(),o=i.pop(),a=null;r===o;)a=r,r=n.pop(),o=i.pop();return a}function Ji(t){t.fixed|=2}function tr(t){t.fixed&=-7}function er(t){t.fixed|=4,t.px=t.x,t.py=t.y}function nr(t){t.fixed&=-5}function ir(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,u=-1;++u<s;)null!=(o=a[u])&&(ir(o,e,n),t.charge+=o.charge,i+=o.charge*o.cx,r+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=e*n[t.point.index];t.charge+=t.pointCharge=l,i+=l*t.point.x,r+=l*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function rr(t,e){return ua.rebind(t,e,"sort","children","value"),(t.nodes=t).links=cr,t}function or(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;0<=--i;)n.push(r[i])}function ar(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(o=t.children)&&(r=o.length))for(var r,o,a=-1;++a<r;)n.push(o[a]);for(;null!=(t=i.pop());)e(t)}function sr(t){return t.children}function ur(t){return t.value}function lr(t,e){return e.value-t.value}function cr(t){return ua.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function hr(t){return t.x}function fr(t){return t.y}function dr(t,e,n){t.y0=e,t.y=n}function pr(t){return ua.range(t.length)}function gr(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function mr(t){for(var e,n=1,i=0,r=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function vr(t){return t.reduce(yr,0)}function yr(t,e){return t+e[1]}function _r(t,e){return br(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function br(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,o=[];++n<=e;)o[n]=r*n+i;return o}function xr(t){return[ua.min(t),ua.max(t)]}function wr(t,e){return t.value-e.value}function Sr(t,e){var n=t._pack_next;(t._pack_next=e)._pack_prev=t,(e._pack_next=n)._pack_prev=e}function Tr(t,e){(t._pack_next=e)._pack_prev=t}function kr(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return n*n+i*i<.999*r*r}function Cr(t){function e(t){c=Math.min(t.x-t.r,c),h=Math.max(t.x+t.r,h),f=Math.min(t.y-t.r,f),d=Math.max(t.y+t.r,d)}if((n=t.children)&&(l=n.length)){var n,i,r,o,a,s,u,l,c=1/0,h=-1/0,f=1/0,d=-1/0;if(n.forEach(Mr),(i=n[0]).x=-i.r,i.y=0,e(i),1<l&&((r=n[1]).x=r.r,r.y=0,e(r),2<l))for(Er(i,r,o=n[2]),e(o),Sr(i,o),Sr(i._pack_prev=o,r),r=i._pack_next,a=3;a<l;a++){Er(i,r,o=n[a]);var p=0,g=1,m=1;for(s=r._pack_next;s!==r;s=s._pack_next,g++)if(kr(s,o)){p=1;break}if(1==p)for(u=i._pack_prev;u!==s._pack_prev&&!kr(u,o);u=u._pack_prev,m++);p?(g<m||g==m&&r.r<i.r?Tr(i,r=s):Tr(i=u,r),a--):(Sr(i,o),e(r=o))}var v=(c+h)/2,y=(f+d)/2,_=0;for(a=0;a<l;a++)(o=n[a]).x-=v,o.y-=y,_=Math.max(_,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=_,n.forEach(Ar)}}function Mr(t){t._pack_next=t._pack_prev=t}function Ar(t){delete t._pack_next,delete t._pack_prev}function Pr(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var o=-1,a=r.length;++o<a;)Pr(r[o],e,n,i)}function Er(t,e,n){var i=t.r+n.r,r=e.x-t.x,o=e.y-t.y;if(i&&(r||o)){var a=e.r+n.r,s=r*r+o*o,u=.5+((i*=i)-(a*=a))/(2*s),l=Math.sqrt(Math.max(0,2*a*(i+s)-(i-=s)*i-a*a))/(2*s);n.x=t.x+u*r+l*o,n.y=t.y+u*o-l*r}else n.x=t.x+i,n.y=t.y}function Lr(t,e){return t.parent==e.parent?1:2}function Dr(t){var e=t.children;return e.length?e[0]:t.t}function Nr(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Ir(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Or(t){for(var e,n=0,i=0,r=t.children,o=r.length;0<=--o;)(e=r[o]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}function Rr(t,e,n){return t.a.parent===e.parent?t.a:n}function Fr(t){return 1+ua.max(t,function(t){return t.y})}function zr(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Hr(t){var e=t.children;return e&&e.length?Hr(e[0]):t}function jr(t){var e,n=t.children;return n&&(e=n.length)?jr(n[e-1]):t}function Vr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Gr(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return r<0&&(n+=r/2,r=0),o<0&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function qr(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function $r(t){return t.rangeExtent?t.rangeExtent():qr(t.range())}function Br(t,e,n,i){var r=n(t[0],t[1]),o=i(e[0],e[1]);return function(t){return o(r(t))}}function Wr(t,e){var n,i=0,r=t.length-1,o=t[i],a=t[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t}function Ur(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:wu}function Yr(n,t,e,i){var r=[],o=[],a=0,s=Math.min(n.length,t.length)-1;for(n[s]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<=s;)r.push(e(n[a-1],n[a])),o.push(i(t[a-1],t[a]));return function(t){var e=ua.bisect(n,t,1,s)-1;return o[e](r[e](t))}}function Xr(n,i,r,o){function e(){var t=2<Math.min(n.length,i.length)?Yr:Br,e=o?Xi:Yi;return s=t(n,i,e,r),u=t(i,n,e,_i),a}function a(t){return s(t)}var s,u;return a.invert=function(t){return u(t)},a.domain=function(t){return arguments.length?(n=t.map(Number),e()):n},a.range=function(t){return arguments.length?(i=t,e()):i},a.rangeRound=function(t){return a.range(t).interpolate(Fi)},a.clamp=function(t){return arguments.length?(o=t,e()):o},a.interpolate=function(t){return arguments.length?(r=t,e()):r},a.ticks=function(t){return Jr(n,t)},a.tickFormat=function(t,e){return to(n,t,e)},a.nice=function(t){return Kr(n,t),e()},a.copy=function(){return Xr(n,i,r,o)},e()}function Qr(t,e){return ua.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Kr(t,e){return Wr(t,Ur(Zr(t,e)[2])),Wr(t,Ur(Zr(t,e)[2])),t}function Zr(t,e){null==e&&(e=10);var n=qr(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),o=e/i*r;return o<=.15?r*=10:o<=.35?r*=5:o<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function Jr(t,e){return ua.range.apply(ua,Zr(t,e))}function to(t,e,n){var i=Zr(t,e);if(n){var r=cs.exec(n);if(r.shift(),"s"===r[8]){var o=ua.formatPrefix(Math.max(ya(i[0]),ya(i[1])));return r[7]||(r[7]="."+eo(o.scale(i[2]))),r[8]="f",n=ua.format(r.join("")),function(t){return n(o.scale(t))+o.symbol}}r[7]||(r[7]="."+no(r[8],i)),n=r.join("")}else n=",."+eo(i[2])+"f";return ua.format(n)}function eo(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function no(t,e){var n=eo(e[2]);return t in Su?Math.abs(n-eo(Math.max(ya(e[0]),ya(e[1]))))+ +("e"!==t):n-2*("%"===t)}function io(e,u,l,c){function h(t){return(l?Math.log(t<0?0:t):-Math.log(0<t?0:-t))/Math.log(u)}function f(t){return l?Math.pow(u,t):-Math.pow(u,-t)}function r(t){return e(h(t))}return r.invert=function(t){return f(e.invert(t))},r.domain=function(t){return arguments.length?(l=0<=t[0],e.domain((c=t.map(Number)).map(h)),r):c},r.base=function(t){return arguments.length?(u=+t,e.domain(c.map(h)),r):u},r.nice=function(){var t=Wr(c.map(h),l?Math:ku);return e.domain(t),c=t.map(f),r},r.ticks=function(){var t=qr(c),e=[],n=t[0],i=t[1],r=Math.floor(h(n)),o=Math.ceil(h(i)),a=u%1?2:u;if(isFinite(o-r)){if(l){for(;r<o;r++)for(var s=1;s<a;s++)e.push(f(r)*s);e.push(f(r))}else for(e.push(f(r));r++<o;)for(s=a-1;0<s;s--)e.push(f(r)*s);for(r=0;e[r]<n;r++);for(o=e.length;e[o-1]>i;o--);e=e.slice(r,o)}return e},r.tickFormat=function(t,n){if(!arguments.length)return Tu;arguments.length<2?n=Tu:"function"!=typeof n&&(n=ua.format(n));var i=Math.max(1,u*t/r.ticks().length);return function(t){var e=t/f(Math.round(h(t)));return e*u<u-.5&&(e*=u),e<=i?n(t):""}},r.copy=function(){return io(e.copy(),u,l,c)},Qr(r,e)}function ro(e,n,i){function r(t){return e(o(t))}var o=oo(n),a=oo(1/n);return r.invert=function(t){return a(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((i=t.map(Number)).map(o)),r):i},r.ticks=function(t){return Jr(i,t)},r.tickFormat=function(t,e){return to(i,t,e)},r.nice=function(t){return r.domain(Kr(i,t))},r.exponent=function(t){return arguments.length?(o=oo(n=t),a=oo(1/n),e.domain(i.map(o)),r):n},r.copy=function(){return ro(e.copy(),n,i)},Qr(r,e)}function oo(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ao(s,u){function l(t){return h[((r.get(t)||("range"===u.t?r.set(t,s.push(t)):NaN))-1)%h.length]}function c(e,n){return ua.range(s.length).map(function(t){return e+n*t})}var r,h,f;return l.domain=function(t){if(!arguments.length)return s;s=[],r=new y;for(var e,n=-1,i=t.length;++n<i;)r.has(e=t[n])||r.set(e,s.push(e));return l[u.t].apply(l,u.a)},l.range=function(t){return arguments.length?(h=t,f=0,u={t:"range",a:arguments},l):h},l.rangePoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],i=t[1],r=s.length<2?(n=(n+i)/2,0):(i-n)/(s.length-1+e);return h=c(n+r*e/2,r),f=0,u={t:"rangePoints",a:arguments},l},l.rangeRoundPoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],i=t[1],r=s.length<2?(n=i=Math.round((n+i)/2),0):(i-n)/(s.length-1+e)|0;return h=c(n+Math.round(r*e/2+(i-n-(s.length-1+e)*r)/2),r),f=0,u={t:"rangeRoundPoints",a:arguments},l},l.rangeBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var i=t[1]<t[0],r=t[i-0],o=(t[1-i]-r)/(s.length-e+2*n);return h=c(r+o*n,o),i&&h.reverse(),f=o*(1-e),u={t:"rangeBands",a:arguments},l},l.rangeRoundBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var i=t[1]<t[0],r=t[i-0],o=t[1-i],a=Math.floor((o-r)/(s.length-e+2*n));return h=c(r+Math.round((o-r-(s.length-e)*a)/2),a),i&&h.reverse(),f=Math.round(a*(1-e)),u={t:"rangeRoundBands",a:arguments},l},l.rangeBand=function(){return f},l.rangeExtent=function(){return qr(u.a[0])},l.copy=function(){return ao(s,u)},l.domain(s)}function so(n,i){function e(){var t=0,e=i.length;for(o=[];++t<e;)o[t-1]=ua.quantile(n,t/e);return r}function r(t){return isNaN(t=+t)?void 0:i[ua.bisect(o,t)]}var o;return r.domain=function(t){return arguments.length?(n=t.map(l).filter(c).sort(a),e()):n},r.range=function(t){return arguments.length?(i=t,e()):i},r.quantiles=function(){return o},r.invertExtent=function(t){return(t=i.indexOf(t))<0?[NaN,NaN]:[0<t?o[t-1]:n[0],t<o.length?o[t]:n[n.length-1]]},r.copy=function(){return so(n,i)},e()}function uo(e,n,i){function t(t){return i[Math.max(0,Math.min(a,Math.floor(o*(t-e))))]}function r(){return o=i.length/(n-e),a=i.length-1,t}var o,a;return t.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],r()):[e,n]},t.range=function(t){return arguments.length?(i=t,r()):i},t.invertExtent=function(t){return[t=(t=i.indexOf(t))<0?NaN:t/o+e,t+1/o]},t.copy=function(){return uo(e,n,i)},r()}function lo(e,n){function i(t){return t<=t?n[ua.bisect(e,t)]:void 0}return i.domain=function(t){return arguments.length?(e=t,i):e},i.range=function(t){return arguments.length?(n=t,i):n},i.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},i.copy=function(){return lo(e,n)},i}function co(n){function e(t){return+t}return(e.invert=e).domain=e.range=function(t){return arguments.length?(n=t.map(e),e):n},e.ticks=function(t){return Jr(n,t)},e.tickFormat=function(t,e){return to(n,t,e)},e.copy=function(){return co(n)},e}function ho(){return 0}function fo(t){return t.innerRadius}function po(t){return t.outerRadius}function go(t){return t.startAngle}function mo(t){return t.endAngle}function vo(t){return t&&t.padAngle}function yo(t,e,n,i){return 0<(t-n)*e-(e-i)*t?0:1}function _o(t,e,n,i,r){var o=t[0]-e[0],a=t[1]-e[1],s=(r?i:-i)/Math.sqrt(o*o+a*a),u=s*a,l=-s*o,c=t[0]+u,h=t[1]+l,f=e[0]+u,d=e[1]+l,p=(c+f)/2,g=(h+d)/2,m=f-c,v=d-h,y=m*m+v*v,_=n-i,b=c*d-f*h,x=(v<0?-1:1)*Math.sqrt(Math.max(0,_*_*y-b*b)),w=(b*v-m*x)/y,S=(-b*m-v*x)/y,T=(b*v+m*x)/y,k=(-b*m+v*x)/y,C=w-p,M=S-g,A=T-p,P=k-g;return A*A+P*P<C*C+M*M&&(w=T,S=k),[[w-u,S-l],[w*n/_,S*n/_]]}function bo(l){function e(t){function e(){i.push("M",d(l(r),p))}for(var n,i=[],r=[],o=-1,a=t.length,s=Ct(c),u=Ct(h);++o<a;)f.call(this,n=t[o],o)?r.push([+s.call(this,n,o),+u.call(this,n,o)]):r.length&&(e(),r=[]);return r.length&&e(),i.length?i.join(""):null}var c=Pn,h=En,f=Pe,d=xo,n=d.key,p=.7;return e.x=function(t){return arguments.length?(c=t,e):c},e.y=function(t){return arguments.length?(h=t,e):h},e.defined=function(t){return arguments.length?(f=t,e):f},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?d=t:(d=Lu.get(t)||xo).key,e):n},e.tension=function(t){return arguments.length?(p=t,e):p},e}function xo(t){return 1<t.length?t.join("L"):t+"Z"}function wo(t){return t.join("L")+"Z"}function So(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return 1<n&&r.push("H",i[0]),r.join("")}function To(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function ko(t){
for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function Co(t,e){return t.length<4?xo(t):t[1]+Po(t.slice(1,-1),Eo(t,e))}function Mo(t,e){return t.length<3?wo(t):t[0]+Po((t.push(t[0]),t),Eo([t[t.length-2]].concat(t,[t[1]]),e))}function Ao(t,e){return t.length<3?xo(t):t[0]+Po(t,Eo(t,e))}function Po(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return xo(t);var n=t.length!=e.length,i="",r=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(i+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],r=t[1],u=2),1<e.length){s=e[1],o=t[u],u++,i+="C"+(r[0]+a[0])+","+(r[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,u++)o=t[u],s=e[l],i+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[u];i+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return i}function Eo(t,e){for(var n,i=[],r=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],i.push([r*(a[0]-n[0]),r*(a[1]-n[1])]);return i}function Lo(t){if(t.length<3)return xo(t);var e=1,n=t.length,i=t[0],r=i[0],o=i[1],a=[r,r,r,(i=t[1])[0]],s=[o,o,o,i[1]],u=[r,",",o,"L",Oo(Iu,a),",",Oo(Iu,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),Ro(u,a,s);return t.pop(),u.push("L",i),u.join("")}function Do(t){if(t.length<4)return xo(t);for(var e,n=[],i=-1,r=t.length,o=[0],a=[0];++i<3;)e=t[i],o.push(e[0]),a.push(e[1]);for(n.push(Oo(Iu,o)+","+Oo(Iu,a)),--i;++i<r;)e=t[i],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Ro(n,o,a);return n.join("")}function No(t){for(var e,n,i=-1,r=t.length,o=r+4,a=[],s=[];++i<4;)n=t[i%r],a.push(n[0]),s.push(n[1]);for(e=[Oo(Iu,a),",",Oo(Iu,s)],--i;++i<o;)n=t[i%r],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Ro(e,a,s);return e.join("")}function Io(t,e){var n=t.length-1;if(n)for(var i,r,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,l=-1;++l<=n;)r=l/n,(i=t[l])[0]=e*i[0]+(1-e)*(o+r*s),i[1]=e*i[1]+(1-e)*(a+r*u);return Lo(t)}function Oo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Ro(t,e,n){t.push("C",Oo(Du,e),",",Oo(Du,n),",",Oo(Nu,e),",",Oo(Nu,n),",",Oo(Iu,e),",",Oo(Iu,n))}function Fo(t,e){return(e[1]-t[1])/(e[0]-t[0])}function zo(t){for(var e=0,n=t.length-1,i=[],r=t[0],o=t[1],a=i[0]=Fo(r,o);++e<n;)i[e]=(a+(a=Fo(r=o,o=t[e+1])))/2;return i[e]=a,i}function Ho(t){for(var e,n,i,r,o=[],a=zo(t),s=-1,u=t.length-1;++s<u;)e=Fo(t[s],t[s+1]),ya(e)<Oa?a[s]=a[s+1]=0:9<(r=(n=a[s]/e)*n+(i=a[s+1]/e)*i)&&(r=3*e/Math.sqrt(r),a[s]=r*n,a[s+1]=r*i);for(s=-1;++s<=u;)r=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([r||0,a[s]*r||0]);return o}function jo(t){return t.length<3?xo(t):t[0]+Po(t,Ho(t))}function Vo(t){for(var e,n,i,r=-1,o=t.length;++r<o;)n=(e=t[r])[0],i=e[1]-ja,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Go(p){function e(t){function e(){o.push("M",b(p(s),S),w,x(p(a.reverse()),S),"Z")}for(var n,i,r,o=[],a=[],s=[],u=-1,l=t.length,c=Ct(g),h=Ct(v),f=g===m?function(){return i}:Ct(m),d=v===y?function(){return r}:Ct(y);++u<l;)_.call(this,n=t[u],u)?(a.push([i=+c.call(this,n,u),r=+h.call(this,n,u)]),s.push([+f.call(this,n,u),+d.call(this,n,u)])):a.length&&(e(),a=[],s=[]);return a.length&&e(),o.length?o.join(""):null}var g=Pn,m=Pn,v=0,y=En,_=Pe,b=xo,n=b.key,x=b,w="L",S=.7;return e.x=function(t){return arguments.length?(g=m=t,e):m},e.x0=function(t){return arguments.length?(g=t,e):g},e.x1=function(t){return arguments.length?(m=t,e):m},e.y=function(t){return arguments.length?(v=y=t,e):y},e.y0=function(t){return arguments.length?(v=t,e):v},e.y1=function(t){return arguments.length?(y=t,e):y},e.defined=function(t){return arguments.length?(_=t,e):_},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?b=t:(b=Lu.get(t)||xo).key,x=b.reverse||b,w=b.closed?"M":"L",e):n},e.tension=function(t){return arguments.length?(S=t,e):S},e}function qo(t){return t.radius}function $o(t){return[t.x,t.y]}function Bo(i){return function(){var t=i.apply(this,arguments),e=t[0],n=t[1]-ja;return[e*Math.cos(n),e*Math.sin(n)]}}function Wo(){return 64}function Uo(){return"circle"}function Yo(t){var e=Math.sqrt(t/Fa);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Xo(i){return function(){var t,e,n;(t=this[i])&&(n=t[e=t.active])&&(n.timer.c=null,n.timer.t=NaN,--t.count?delete t[e]:delete this[i],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Qo(t,e,n){return Sa(t,Vu),t.namespace=e,t.id=n,t}function Ko(t,i,r,o){var a=t.id,s=t.namespace;return q(t,"function"==typeof r?function(t,e,n){t[s][a].tween.set(i,o(r.call(t,t.__data__,e,n)))}:(r=o(r),function(t){t[s][a].tween.set(i,r)}))}function Zo(t){return null==t&&(t=""),function(){this.textContent=t}}function Jo(t){return null==t?"__transition__":"__transition_"+t+"__"}function ta(o,a,r,s,t){function e(t){var e=g.delay;return c.t=e+l,e<=t?n(t-e):void(c.c=n)}function n(t){var e=p.active,n=p[e];for(var i in n&&(n.timer.c=null,n.timer.t=NaN,--p.count,delete p[e],n.event&&n.event.interrupt.call(o,o.__data__,n.index)),p)if(+i<s){var r=p[i];r.timer.c=null,r.timer.t=NaN,--p.count,delete p[i]}c.c=u,Lt(function(){return c.c&&u(t||1)&&(c.c=null,c.t=NaN),1},0,l),p.active=s,g.event&&g.event.start.call(o,o.__data__,a),d=[],g.tween.forEach(function(t,e){(e=e.call(o,o.__data__,a))&&d.push(e)}),f=g.ease,h=g.duration}function u(t){for(var e=t/h,n=f(e),i=d.length;0<i;)d[--i].call(o,n);return 1<=e?(g.event&&g.event.end.call(o,o.__data__,a),--p.count?delete p[s]:delete o[r],1):void 0}var l,c,h,f,d,p=o[r]||(o[r]={active:0,count:0}),g=p[s];g||(l=t.time,c=Lt(e,0,l),g=p[s]={tween:new y,time:l,timer:c,delay:t.delay,duration:t.duration,ease:t.ease,index:a},t=null,++p.count)}function ea(t,n,i){t.attr("transform",function(t){var e=n(t);return"translate("+(isFinite(e)?e:i(t))+",0)"})}function na(t,n,i){t.attr("transform",function(t){var e=n(t);return"translate(0,"+(isFinite(e)?e:i(t))+")"})}function ia(t){return t.toISOString()}function ra(e,r,t){function a(t){return e(t)}function s(t,e){var n=(t[1]-t[0])/e,i=ua.bisect(Qu,n);return i==Qu.length?[r.year,Zr(t.map(function(t){return t/31536e6}),e)[2]]:i?r[n/Qu[i-1]<Qu[i]/n?i-1:i]:[Ju,Zr(t,e)[2]]}return a.invert=function(t){return oa(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain(t),a):e.domain().map(oa)},a.nice=function(e,n){function i(t){return!isNaN(t)&&!e.range(t,oa(+t+1),n).length}var t=a.domain(),r=qr(t),o=null==e?s(r,10):"number"==typeof e&&s(r,e);return o&&(e=o[0],n=o[1]),a.domain(Wr(t,1<n?{floor:function(t){for(;i(t=e.floor(t));)t=oa(t-1);return t},ceil:function(t){for(;i(t=e.ceil(t));)t=oa(+t+1);return t}}:e))},a.ticks=function(t,e){var n=qr(a.domain()),i=null==t?s(n,10):"number"==typeof t?s(n,t):!t.range&&[{range:t},e];return i&&(t=i[0],e=i[1]),t.range(n[0],oa(+n[1]+1),e<1?1:e)},a.tickFormat=function(){return t},a.copy=function(){return ra(e.copy(),r,t)},Qr(a,e)}function oa(t){return new Date(t)}function aa(t){return JSON.parse(t.responseText)}function sa(t){var e=ha.createRange();return e.selectNode(ha.body),e.createContextualFragment(t.responseText)}var ua={version:"3.5.17"},la=[].slice,ca=function(t){return la.call(t)},ha=this.document;if(ha)try{ca(ha.documentElement.childNodes)[0].nodeType}catch(nl){ca=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),ha)try{ha.createElement("DIV").style.setProperty("opacity",0,"")}catch(il){var fa=this.Element.prototype,da=fa.setAttribute,pa=fa.setAttributeNS,ga=this.CSSStyleDeclaration.prototype,ma=ga.setProperty;fa.setAttribute=function(t,e){da.call(this,t,e+"")},fa.setAttributeNS=function(t,e,n){pa.call(this,t,e,n+"")},ga.setProperty=function(t,e,n){ma.call(this,t,e+"",n)}}ua.ascending=a,ua.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},ua.min=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i<=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&i<n&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i<=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&i<n&&(n=i)}return n},ua.max=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i<=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&n<i&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i<=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&n<i&&(n=i)}return n},ua.extent=function(t,e){var n,i,r,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(i=t[o])&&i<=i){n=r=i;break}for(;++o<a;)null!=(i=t[o])&&(i<n&&(n=i),r<i&&(r=i))}else{for(;++o<a;)if(null!=(i=e.call(t,t[o],o))&&i<=i){n=r=i;break}for(;++o<a;)null!=(i=e.call(t,t[o],o))&&(i<n&&(n=i),r<i&&(r=i))}return[n,r]},ua.sum=function(t,e){var n,i=0,r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)c(n=+t[o])&&(i+=n);else for(;++o<r;)c(n=+e.call(t,t[o],o))&&(i+=n);return i},ua.mean=function(t,e){var n,i=0,r=t.length,o=-1,a=r;if(1===arguments.length)for(;++o<r;)c(n=l(t[o]))?i+=n:--a;else for(;++o<r;)c(n=l(e.call(t,t[o],o)))?i+=n:--a;return a?i/a:void 0},ua.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r},ua.median=function(t,e){var n,i=[],r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)c(n=l(t[o]))&&i.push(n);else for(;++o<r;)c(n=l(e.call(t,t[o],o)))&&i.push(n);return i.length?ua.quantile(i.sort(a),.5):void 0},ua.variance=function(t,e){var n,i,r=t.length,o=0,a=0,s=-1,u=0;if(1===arguments.length)for(;++s<r;)c(n=l(t[s]))&&(a+=(i=n-o)*(n-(o+=i/++u)));else for(;++s<r;)c(n=l(e.call(t,t[s],s)))&&(a+=(i=n-o)*(n-(o+=i/++u)));return 1<u?a/(u-1):void 0},ua.deviation=function(){var t=ua.variance.apply(this,arguments);return t?Math.sqrt(t):t};var va=t(a);ua.bisectLeft=va.left,ua.bisect=ua.bisectRight=va.right,ua.bisector=function(n){return t(1===n.length?function(t,e){return a(n(t),e)}:n)},ua.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var i,r,o=n-e;o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},ua.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},ua.pairs=function(t){for(var e=0,n=t.length-1,i=t[0],r=new Array(n<0?0:n);e<n;)r[e]=[i,i=t[++e]];return r},ua.transpose=function(t){if(!(r=t.length))return[];for(var e=-1,n=ua.min(t,u),i=new Array(n);++e<n;)for(var r,o=-1,a=i[e]=new Array(r);++o<r;)a[o]=t[o][e];return i},ua.zip=function(){return ua.transpose(arguments)},ua.keys=function(t){var e=[];for(var n in t)e.push(n);return e},ua.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ua.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ua.merge=function(t){for(var e,n,i,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(n=new Array(a);0<=--r;)for(e=(i=t[r]).length;0<=--e;)n[--a]=i[e];return n};var ya=Math.abs;ua.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var i,r=[],o=h(ya(n)),a=-1;if(t*=o,e*=o,(n*=o)<0)for(;(i=t+n*++a)>e;)r.push(i/o);else for(;(i=t+n*++a)<e;)r.push(i/o);return r},ua.map=function(t,e){var n=new y;if(t instanceof y)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(1===arguments.length)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e.call(t,i=t[r],r),i)}else for(var a in t)n.set(a,t[a]);return n};var _a="__proto__",ba="\0";e(y,{has:r,get:function(t){return this._[n(t)]},set:function(t,e){return this._[n(t)]=e},remove:o,keys:f,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:i(e),value:this._[e]});return t},size:d,empty:p,forEach:function(t){for(var e in this._)t.call(this,i(e),this._[e])}}),ua.nest=function(){function h(n,t,i){if(i>=g.length)return d?d.call(p,t):f?t.sort(f):t;for(var e,r,o,a,s=-1,u=t.length,l=g[i++],c=new y;++s<u;)(a=c.get(e=l(r=t[s])))?a.push(r):c.set(e,[r]);return n?(r=n(),o=function(t,e){r.set(t,h(n,e,i))}):(r={},o=function(t,e){r[t]=h(n,e,i)}),c.forEach(o),r}function o(t,n){if(n>=g.length)return t;var i=[],r=e[n++];return t.forEach(function(t,e){i.push({key:t,values:o(e,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var f,d,p={},g=[],e=[];return p.map=function(t,e){return h(e,t,0)},p.entries=function(t){return o(h(ua.map,t,0),0)},p.key=function(t){return g.push(t),p},p.sortKeys=function(t){return e[g.length-1]=t,p},p.sortValues=function(t){return f=t,p},p.rollup=function(t){return d=t,p},p},ua.set=function(t){var e=new g;if(t)for(var n=0,i=t.length;n<i;++n)e.add(t[n]);return e},e(g,{has:r,add:function(t){return this._[n(t+="")]=!0,t},remove:o,values:f,size:d,empty:p,forEach:function(t){for(var e in this._)t.call(this,i(e))}}),ua.behavior={},ua.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=m(t,e,e[n]);return t};var xa=["webkit","ms","moz","Moz","o","O"];ua.dispatch=function(){for(var t=new _,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=x(t);return t},_.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(0<=n&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},ua.event=null,ua.requote=function(t){return t.replace(wa,"\\$&")};var wa=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Sa={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Ta=function(t,e){return e.querySelector(t)},ka=function(t,e){return e.querySelectorAll(t)},Ca=function(t,e){var n=t.matches||t[v(t,"matchesSelector")];return(Ca=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Ta=function(t,e){return Sizzle(t,e)[0]||null},ka=Sizzle,Ca=Sizzle.matchesSelector),ua.selection=function(){return ua.select(ha.documentElement)};var Ma=ua.selection.prototype=[];Ma.select=function(t){var e,n,i,r,o=[];t=T(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(i=this[a]).parentNode;for(var u=-1,l=i.length;++u<l;)(r=i[u])?(e.push(n=t.call(r,r.__data__,u,a)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return S(o)},Ma.selectAll=function(t){var e,n,i=[];t=k(t);for(var r=-1,o=this.length;++r<o;)for(var a=this[r],s=-1,u=a.length;++s<u;)(n=a[s])&&(i.push(e=ca(t.call(n,n.__data__,s,r))),e.parentNode=n);return S(i)};var Aa="http://www.w3.org/1999/xhtml",Pa={svg:"http://www.w3.org/2000/svg",xhtml:Aa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ua.ns={prefix:Pa,qualify:function(t){var e=t.indexOf(":"),n=t;return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Pa.hasOwnProperty(n)?{space:Pa[n],local:t}:t}},Ma.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=ua.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(C(e,t[e]));return this}return this.each(C(t,e))},Ma.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=P(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!A(t[r]).test(e))return!1;return!0}for(e in t)this.each(E(e,t[e]));return this}return this.each(E(t,e))},Ma.style=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=""),t)this.each(D(n,t[n],e));return this}if(i<2){var r=this.node();return I(r).getComputedStyle(r,null).getPropertyValue(t)}n=""}return this.each(D(t,e,n))},Ma.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(N(e,t[e]));return this}return this.each(N(t,e))},Ma.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Ma.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Ma.append=function(t){return t=z(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Ma.insert=function(t,e){return t=z(t),e=T(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Ma.remove=function(){return this.each(H)},Ma.data=function(t,p){function e(t,e){var n,i,r,o=t.length,a=e.length,s=Math.min(o,a),u=new Array(a),l=new Array(a),c=new Array(o);if(p){var h,f=new y,d=new Array(o);for(n=-1;++n<o;)(i=t[n])&&(f.has(h=p.call(i,i.__data__,n))?c[n]=i:f.set(h,i),d[n]=h);for(n=-1;++n<a;)(i=f.get(h=p.call(e,r=e[n],n)))?!0!==i&&((u[n]=i).__data__=r):l[n]=j(r),f.set(h,!0);for(n=-1;++n<o;)n in d&&!0!==f.get(d[n])&&(c[n]=t[n])}else{for(n=-1;++n<s;)i=t[n],r=e[n],i?(i.__data__=r,u[n]=i):l[n]=j(r);for(;n<a;++n)l[n]=j(e[n]);for(;n<o;++n)c[n]=t[n]}l.update=u,l.parentNode=u.parentNode=c.parentNode=t.parentNode,g.push(l),m.push(u),v.push(c)}var n,i,r=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(n=this[0]).length);++r<o;)(i=n[r])&&(t[r]=i.__data__);return t}var g=$([]),m=S([]),v=S([]);if("function"==typeof t)for(;++r<o;)e(n=this[r],t.call(n,n.parentNode.__data__,r));else for(;++r<o;)e(n=this[r],t);return m.enter=function(){return g},m.exit=function(){return v},m},Ma.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Ma.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=V(t));for(var o=0,a=this.length;o<a;o++){r.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;s<u;s++)(i=n[s])&&t.call(i,i.__data__,s,o)&&e.push(i)}return S(r)},Ma.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,o=i[r];0<=--r;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Ma.sort=function(t){t=G.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Ma.each=function(i){return q(this,function(t,e,n){i.call(t,t.__data__,e,n)})},Ma.call=function(t){var e=ca(arguments);return t.apply(e[0]=this,e),this},Ma.empty=function(){return!this.node()},Ma.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],i=0,r=n.length;i<r;i++){var o=n[i];if(o)return o}return null},Ma.size=function(){var t=0;return q(this,function(){++t}),t};var Ea=[];ua.selection.enter=$,(ua.selection.enter.prototype=Ea).append=Ma.append,Ea.empty=Ma.empty,Ea.node=Ma.node,Ea.call=Ma.call,Ea.size=Ma.size,Ea.select=function(t){for(var e,n,i,r,o,a=[],s=-1,u=this.length;++s<u;){i=(r=this[s]).update,a.push(e=[]),e.parentNode=r.parentNode;for(var l=-1,c=r.length;++l<c;)(o=r[l])?(e.push(i[l]=n=t.call(r.parentNode,o.__data__,l,s)),n.__data__=o.__data__):e.push(null)}return S(a)},Ea.insert=function(t,e){return arguments.length<2&&(e=B(this)),Ma.insert.call(this,t,e)},ua.select=function(t){var e;return"string"==typeof t?(e=[Ta(t,ha)]).parentNode=ha.documentElement:(e=[t]).parentNode=s(t),S([e])},ua.selectAll=function(t){var e;return"string"==typeof t?(e=ca(ka(t,ha))).parentNode=ha.documentElement:(e=ca(t)).parentNode=null,S([e])},Ma.on=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=!1),t)this.each(W(n,t[n],e));return this}if(i<2)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(W(t,e,n))};var La=ua.map({mouseenter:"mouseover",mouseleave:"mouseout"});ha&&La.forEach(function(t){"on"+t in ha&&La.remove(t)});var Da,Na=0;ua.mouse=function(t){return Q(t,w())};var Ia=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ua.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=w().changedTouches),e)for(var i,r=0,o=e.length;r<o;++r)if((i=e[r]).identifier===n)return Q(t,i)},ua.behavior.drag=function(){function e(){this.on("mousedown.drag",n).on("touchstart.drag",i)}function t(d,p,g,m,v){return function(){function t(){var t,e,n=p(o,u);n&&(t=n[0]-f[0],e=n[1]-f[1],s|=t|e,a({type:"drag",x:(f=n)[0]+i[0],y:n[1]+i[1],dx:t,dy:e}))}function e(){p(o,u)&&(c.on(m+l,null).on(v+l,null),h(s),a({type:"dragend"}))}var i,n=this,r=ua.event.target.correspondingElement||ua.event.target,o=n.parentNode,a=y.of(n,arguments),s=0,u=d(),l=".drag"+(null==u?"":"-"+u),c=ua.select(g(r)).on(m+l,t).on(v+l,e),h=X(r),f=p(o,u);_?i=[(i=_.apply(n,arguments)).x-f[0],i.y-f[1]]:i=[0,0],a({type:"dragstart"})}}var y=F(e,"drag","dragstart","dragend"),_=null,n=t(b,ua.mouse,I,"mousemove","mouseup"),i=t(K,ua.touch,O,"touchmove","touchend");return e.origin=function(t){return arguments.length?(_=t,e):_},ua.rebind(e,y,"on")},ua.touches=function(n,t){return arguments.length<2&&(t=w().touches),t?ca(t).map(function(t){var e=Q(n,t);return e.identifier=t.identifier,e}):[]};var Oa=1e-6,Ra=Oa*Oa,Fa=Math.PI,za=2*Fa,Ha=za-Oa,ja=Fa/2,Va=Fa/180,Ga=180/Fa,qa=Math.SQRT2,$a=2,Ba=4;ua.interpolateZoom=function(t,e){var n,r,o=t[0],a=t[1],s=t[2],i=e[0],u=e[1],l=e[2],c=i-o,h=u-a,f=c*c+h*h;if(f<Ra)r=Math.log(l/s)/qa,n=function(t){return[o+t*c,a+t*h,s*Math.exp(qa*t*r)]};else{var d=Math.sqrt(f),p=(l*l-s*s+Ba*f)/(2*s*$a*d),g=(l*l-s*s-Ba*f)/(2*l*$a*d),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);r=(v-m)/qa,n=function(t){var e=t*r,n=it(m),i=s/($a*d)*(n*rt(qa*e+m)-nt(m));return[o+i*c,a+i*h,s*n/it(qa*e+m)]}}return n.duration=1e3*r,n},ua.behavior.zoom=function(){function r(t){t.on(P,s).on(Ua+".zoom",i).on("dblclick.zoom",o).on(D,C)}function u(t){return[(t[0]-A.x)/A.k,(t[1]-A.y)/A.k]}function n(t){return[t[0]*A.k+A.x,t[1]*A.k+A.y]}function b(t){A.k=Math.max(v[0],Math.min(v[1],t))}function x(t,e){e=n(e),A.x+=t[0]-e[0],A.y+=t[1]-e[1]}function w(t,e,n,i){t.__chart__={x:A.x,y:A.y,k:A.k},b(Math.pow(2,i)),x(l=e,n),t=ua.select(t),0<y&&(t=t.transition().duration(y)),t.call(r.event)}function e(){d&&d.domain(f.range().map(function(t){return(t-A.x)/A.k}).map(f.invert)),g&&g.domain(p.range().map(function(t){return(t-A.y)/A.k}).map(p.invert))}function S(t){_++||t({type:"zoomstart"})}function T(t){e(),t({type:"zoom",scale:A.k,translate:[A.x,A.y]})}function k(t){--_||(t({type:"zoomend"}),l=null)}function s(){function t(){r=1,x(ua.mouse(n),a),T(i)}function e(){o.on(E,null).on(L,null),s(r),k(i)}var n=this,i=N.of(n,arguments),r=0,o=ua.select(I(n)).on(E,t).on(L,e),a=u(ua.mouse(n)),s=X(n);ju.call(n),S(i)}function C(){function c(){var t=ua.touches(d);return l=A.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=u(t))}),t}function t(){var t=ua.event.target;ua.select(t).on(v,h).on(y,f),_.push(t);for(var e=ua.event.changedTouches,n=0,i=e.length;n<i;++n)g[e[n].identifier]=null;var r=c(),o=Date.now();if(1===r.length){if(o-M<500){var a=r[0];w(d,a,g[a.identifier],Math.floor(Math.log(A.k)/Math.LN2)+1),R()}M=o}else if(1<r.length){a=r[0];var s=r[1],u=a[0]-s[0],l=a[1]-s[1];m=u*u+l*l}}function h(){var t,e,n,i,r=ua.touches(d);ju.call(d);for(var o=0,a=r.length;o<a;++o,i=null)if(n=r[o],i=g[n.identifier]){if(e)break;t=n,e=i}if(i){var s=(s=n[0]-t[0])*s+(s=n[1]-t[1])*s,u=m&&Math.sqrt(s/m);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],b(u*l)}M=null,x(t,e),T(p)}function f(){if(ua.event.touches.length){for(var t=ua.event.changedTouches,e=0,n=t.length;e<n;++e)delete g[t[e].identifier];for(var i in g)return void c()}ua.selectAll(_).on(r,null),o.on(P,s).on(D,C),a(),k(p)}var l,d=this,p=N.of(d,arguments),g={},m=0,r=".zoom-"+ua.event.changedTouches[0].identifier,v="touchmove"+r,y="touchend"+r,_=[],o=ua.select(d),a=X(d);t(),S(p),o.on(P,null).on(D,t)}function i(){var t=N.of(this,arguments);h?clearTimeout(h):(ju.call(this),a=u(l=c||ua.mouse(this)),S(t)),h=setTimeout(function(){h=null,k(t)},50),R(),b(Math.pow(2,.002*Wa())*A.k),x(l,a),T(t)}function o(){var t=ua.mouse(this),e=Math.log(A.k)/Math.LN2;w(this,t,u(t),ua.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var a,l,c,h,M,f,d,p,g,A={x:0,y:0,k:1},m=[960,500],v=Ya,y=250,_=0,P="mousedown.zoom",E="mousemove.zoom",L="mouseup.zoom",D="touchstart.zoom",N=F(r,"zoomstart","zoom","zoomend");return Ua||(Ua="onwheel"in ha?(Wa=function(){return-ua.event.deltaY*(ua.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ha?(Wa=function(){return ua.event.wheelDelta},"mousewheel"):(Wa=function(){return-ua.event.detail},"MozMousePixelScroll")),r.event=function(t){t.each(function(){var s=N.of(this,arguments),e=A;zu?ua.select(this).transition().each("start.zoom",function(){A=this.__chart__||{x:0,y:0,k:1},S(s)}).tween("zoom:zoom",function(){var i=m[0],t=m[1],r=l?l[0]:i/2,o=l?l[1]:t/2,a=ua.interpolateZoom([(r-A.x)/A.k,(o-A.y)/A.k,i/A.k],[(r-e.x)/e.k,(o-e.y)/e.k,i/e.k]);return function(t){var e=a(t),n=i/e[2];this.__chart__=A={x:r-e[0]*n,y:o-e[1]*n,k:n},T(s)}}).each("interrupt.zoom",function(){k(s)}).each("end.zoom",function(){k(s)}):(this.__chart__=A,S(s),T(s),k(s))})},r.translate=function(t){return arguments.length?(A={x:+t[0],y:+t[1],k:A.k},e(),r):[A.x,A.y]},r.scale=function(t){return arguments.length?(A={x:A.x,y:A.y,k:null},b(+t),e(),r):A.k},r.scaleExtent=function(t){return arguments.length?(v=null==t?Ya:[+t[0],+t[1]],r):v},r.center=function(t){return arguments.length?(c=t&&[+t[0],+t[1]],r):c},r.size=function(t){return arguments.length?(m=t&&[+t[0],+t[1]],r):m},r.duration=function(t){return arguments.length?(y=+t,r):y},r.x=function(t){return arguments.length?(f=(d=t).copy(),A={x:0,y:0,k:1},r):d},r.y=function(t){return arguments.length?(p=(g=t).copy(),A={x:0,y:0,k:1},r):g},ua.rebind(r,N,"on")};var Wa,Ua,Ya=[0,1/0];(ua.color=at).prototype.toString=function(){return this.rgb()+""};var Xa=(ua.hsl=st).prototype=new at;Xa.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,this.l/t)},Xa.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,t*this.l)},Xa.rgb=function(){return ut(this.h,this.s,this.l)};var Qa=(ua.hcl=lt).prototype=new at;Qa.brighter=function(t){return new lt(this.h,this.c,Math.min(100,this.l+Ka*(arguments.length?t:1)))},Qa.darker=function(t){return new lt(this.h,this.c,Math.max(0,this.l-Ka*(arguments.length?t:1)))},Qa.rgb=function(){return ct(this.h,this.c,this.l).rgb()},ua.lab=ht;var Ka=18,Za=.95047,Ja=1,ts=1.08883,es=ht.prototype=new at;es.brighter=function(t){return new ht(Math.min(100,this.l+Ka*(arguments.length?t:1)),this.a,this.b)},es.darker=function(t){return new ht(Math.max(0,this.l-Ka*(arguments.length?t:1)),this.a,this.b)},es.rgb=function(){return ft(this.l,this.a,this.b)};var ns=(ua.rgb=vt).prototype=new at;ns.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&e<r&&(e=r),n&&n<r&&(n=r),i&&i<r&&(i=r),new vt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new vt(r,r,r)},ns.darker=function(t){return new vt((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},ns.hsl=function(){return wt(this.r,this.g,this.b)},ns.toString=function(){return"#"+bt(this.r)+bt(this.g)+bt(this.b)};var is=ua.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});is.forEach(function(t,e){is.set(t,yt(e))}),ua.functor=Ct,ua.xhr=Mt(O),ua.dsv=function(r,o){function a(t,e,n){arguments.length<3&&(n=e,e=null);var i=At(t,o,null==e?s:u(e),n);return i.row=function(t){return arguments.length?i.response(null==(e=t)?s:u(t)):e},i}function s(t){return a.parse(t.responseText)}function u(e){return function(t){return a.parse(t.responseText,e)}}function e(t){return t.map(l).join(r)}function l(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var n=new RegExp('["'+r+"\n]"),f=r.charCodeAt(0);return a.parse=function(t,i){var r;return a.parseRows(t,function(t,e){if(r)return r(t,e-1);var n=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=i?function(t,e){return i(n(t),e)}:n})},a.parseRows=function(r,t){function e(){if(u<=l)return s;if(o)return o=!1,a;var t=l;if(34===r.charCodeAt(t)){for(var e=t;e++<u;)if(34===r.charCodeAt(e)){if(34!==r.charCodeAt(e+1))break;++e}return l=e+2,13===(n=r.charCodeAt(e+1))?(o=!0,10===r.charCodeAt(e+2)&&++l):10===n&&(o=!0),r.slice(t+1,e).replace(/""/g,'"')}for(;l<u;){var n,i=1;if(10===(n=r.charCodeAt(l++)))o=!0;else if(13===n)o=!0,10===r.charCodeAt(l)&&(++l,++i);else if(n!==f)continue;return r.slice(t,l-i)}return r.slice(t)}for(var n,o,a={},s={},i=[],u=r.length,l=0,c=0;(n=e())!==s;){for(var h=[];n!==a&&n!==s;)h.push(n),n=e();t&&null==(h=t(h,c++))||i.push(h)}return i},a.format=function(t){if(Array.isArray(t[0]))return a.formatRows(t);var n=new g,i=[];return t.forEach(function(t){for(var e in t)n.has(e)||i.push(n.add(e))}),[i.map(l).join(r)].concat(t.map(function(e){return i.map(function(t){return l(e[t])}).join(r)})).join("\n")},a.formatRows=function(t){return t.map(e).join("\n")},a},ua.csv=ua.dsv(",","text/csv"),ua.tsv=ua.dsv("\t","text/tab-separated-values");var rs,os,as,ss,us=this[v(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};ua.timer=function(){Lt.apply(this,arguments)},ua.timer.flush=function(){Nt(),It()},ua.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ls=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Rt);ua.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=ua.round(t,Ot(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ls[8+n/3]};var cs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,hs=ua.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=ua.round(t,Ot(t,e))).toFixed(Math.max(0,Math.min(20,Ot(t*(1+1e-15),e))))}}),fs=ua.time={},ds=Date;Ht.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},
getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ps.setUTCDate.apply(this._,arguments)},setDay:function(){ps.setUTCDay.apply(this._,arguments)},setFullYear:function(){ps.setUTCFullYear.apply(this._,arguments)},setHours:function(){ps.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ps.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ps.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ps.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ps.setUTCSeconds.apply(this._,arguments)},setTime:function(){ps.setTime.apply(this._,arguments)}};var ps=Date.prototype;fs.year=jt(function(t){return(t=fs.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),fs.years=fs.year.range,fs.years.utc=fs.year.utc.range,fs.day=jt(function(t){var e=new ds(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),fs.days=fs.day.range,fs.days.utc=fs.day.utc.range,fs.dayOfYear=function(t){var e=fs.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,n){n=7-n;var e=fs[t]=jt(function(t){return(t=fs.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var e=fs.year(t).getDay();return Math.floor((fs.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});fs[t+"s"]=e.range,fs[t+"s"].utc=e.utc.range,fs[t+"OfYear"]=function(t){var e=fs.year(t).getDay();return Math.floor((fs.dayOfYear(t)+(e+n)%7)/7)}}),fs.week=fs.sunday,fs.weeks=fs.sunday.range,fs.weeks.utc=fs.sunday.utc.range,fs.weekOfYear=fs.sundayOfYear;var gs={"-":"",_:" ",0:"0"},ms=/^\s*\d+/,vs=/^%/;ua.locale=function(t){return{numberFormat:Ft(t),timeFormat:Gt(t)}};var ys=ua.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ua.format=ys.numberFormat,ua.geo={},le.prototype={s:0,t:0,add:function(t){ce(t,this.t,_s),ce(_s.s,this.s,this),this.s?this.t+=_s.t:this.s=_s.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var _s=new le;ua.geo.stream=function(t,e){t&&bs.hasOwnProperty(t.type)?bs[t.type](t,e):he(t,e)};var bs={Feature:function(t,e){he(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)he(n[i].geometry,e)}},xs={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){fe(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)fe(n[i],e,0)},Polygon:function(t,e){de(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)de(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)he(n[i],e)}};ua.geo.area=function(t){return ws=0,ua.geo.stream(t,Ts),ws};var ws,Ss=new le,Ts={sphere:function(){ws+=4*Fa},point:b,lineStart:b,lineEnd:b,polygonStart:function(){Ss.reset(),Ts.lineStart=pe},polygonEnd:function(){var t=2*Ss;ws+=t<0?4*Fa+t:t,Ts.lineStart=Ts.lineEnd=Ts.point=b}};ua.geo.bounds=function(){function c(t,e){_.push(b=[f=t,p=t]),e<d&&(d=e),g<e&&(g=e)}function i(t,e){var n=ge([t*Va,e*Va]);if(v){var i=ve(v,n),r=ve([i[1],-i[0],0],i);be(r),r=xe(r);var o=t-m,a=0<o?1:-1,s=r[0]*Ga*a,u=180<ya(o);if(u^(a*m<s&&s<a*t)){var l=r[1]*Ga;g<l&&(g=l)}else if(u^(a*m<(s=(s+360)%360-180)&&s<a*t)){(l=-r[1]*Ga)<d&&(d=l)}else e<d&&(d=e),g<e&&(g=e);u?t<m?h(f,t)>h(f,p)&&(p=t):h(t,p)>h(f,p)&&(f=t):f<=p?(t<f&&(f=t),p<t&&(p=t)):m<t?h(f,t)>h(f,p)&&(p=t):h(t,p)>h(f,p)&&(f=t)}else c(t,e);v=n,m=t}function t(){x.point=i}function e(){b[0]=f,b[1]=p,x.point=c,v=null}function n(t,e){if(v){var n=t-m;y+=180<ya(n)?n+(0<n?360:-360):n}else a=t,s=e;Ts.point(t,e),i(t,e)}function r(){Ts.lineStart()}function o(){n(a,s),Ts.lineEnd(),ya(y)>Oa&&(f=-(p=180)),b[0]=f,b[1]=p,v=null}function h(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function l(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var f,d,p,g,m,a,s,v,y,_,b,x={point:c,lineStart:t,lineEnd:e,polygonStart:function(){x.point=n,x.lineStart=r,x.lineEnd=o,y=0,Ts.polygonStart()},polygonEnd:function(){Ts.polygonEnd(),x.point=c,x.lineStart=t,x.lineEnd=e,Ss<0?(f=-(p=180),d=-(g=90)):Oa<y?g=90:y<-Oa&&(d=-90),b[0]=f,b[1]=p}};return function(t){if(g=p=-(f=d=1/0),_=[],ua.geo.stream(t,x),o=_.length){_.sort(u);for(var e=1,n=[s=_[0]];e<o;++e)l((r=_[e])[0],s)||l(r[1],s)?(h(s[0],r[1])>h(s[0],s[1])&&(s[1]=r[1]),h(r[0],s[1])>h(s[0],s[1])&&(s[0]=r[0])):n.push(s=r);for(var i,r,o,a=-1/0,s=(e=0,n[o=n.length-1]);e<=o;s=r,++e)r=n[e],(i=h(s[1],r[0]))>a&&(a=i,f=r[0],p=s[1])}return _=b=null,f===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[f,d],[p,g]]}}(),ua.geo.centroid=function(t){ks=Cs=Ms=As=Ps=Es=Ls=Ds=Ns=Is=Os=0,ua.geo.stream(t,Rs);var e=Ns,n=Is,i=Os,r=e*e+n*n+i*i;return r<Ra&&(e=Es,n=Ls,i=Ds,Cs<Oa&&(e=Ms,n=As,i=Ps),(r=e*e+n*n+i*i)<Ra)?[NaN,NaN]:[Math.atan2(n,e)*Ga,et(i/Math.sqrt(r))*Ga]};var ks,Cs,Ms,As,Ps,Es,Ls,Ds,Ns,Is,Os,Rs={sphere:b,point:Se,lineStart:ke,lineEnd:Ce,polygonStart:function(){Rs.lineStart=Me},polygonEnd:function(){Rs.lineStart=ke}},Fs=Ne(Pe,Fe,He,[-Fa,-Fa/2]),zs=1e9;ua.geo.clipExtent=function(){var e,n,i,r,o,a,s={stream:function(t){return o&&(o.valid=!1),(o=a(t)).valid=!0,o},extent:function(t){return arguments.length?(a=qe(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),o&&(o.valid=!1,o=null),s):[[e,n],[i,r]]}};return s.extent([[0,0],[960,500]])},(ua.geo.conicEqualArea=function(){return $e(Be)}).raw=Be,ua.geo.albers=function(){return ua.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ua.geo.albersUsa=function(){function r(t){var e=t[0],n=t[1];return i=null,o(e,n),i||(a(e,n),i)||s(e,n),i}var i,o,a,s,u=ua.geo.albers(),l=ua.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=ua.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(t,e){i=[t,e]}};return r.invert=function(t){var e=u.scale(),n=u.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(.12<=r&&r<.234&&-.425<=i&&i<-.214?l:.166<=r&&r<.234&&-.214<=i&&i<-.115?c:u).invert(t)},r.stream=function(t){var n=u.stream(t),i=l.stream(t),r=c.stream(t);return{point:function(t,e){n.point(t,e),i.point(t,e),r.point(t,e)},sphere:function(){n.sphere(),i.sphere(),r.sphere()},lineStart:function(){n.lineStart(),i.lineStart(),r.lineStart()},lineEnd:function(){n.lineEnd(),i.lineEnd(),r.lineEnd()},polygonStart:function(){n.polygonStart(),i.polygonStart(),r.polygonStart()},polygonEnd:function(){n.polygonEnd(),i.polygonEnd(),r.polygonEnd()}}},r.precision=function(t){return arguments.length?(u.precision(t),l.precision(t),c.precision(t),r):u.precision()},r.scale=function(t){return arguments.length?(u.scale(t),l.scale(.35*t),c.scale(t),r.translate(u.translate())):u.scale()},r.translate=function(t){if(!arguments.length)return u.translate();var e=u.scale(),n=+t[0],i=+t[1];return o=u.translate(t).clipExtent([[n-.455*e,i-.238*e],[n+.455*e,i+.238*e]]).stream(h).point,a=l.translate([n-.307*e,i+.201*e]).clipExtent([[n-.425*e+Oa,i+.12*e+Oa],[n-.214*e-Oa,i+.234*e-Oa]]).stream(h).point,s=c.translate([n-.205*e,i+.212*e]).clipExtent([[n-.214*e+Oa,i+.166*e+Oa],[n-.115*e-Oa,i+.234*e-Oa]]).stream(h).point,r},r.scale(1070)};var Hs,js,Vs,Gs,qs,$s,Bs={point:b,lineStart:b,lineEnd:b,polygonStart:function(){js=0,Bs.lineStart=We},polygonEnd:function(){Bs.lineStart=Bs.lineEnd=Bs.point=b,Hs+=ya(js/2)}},Ws={point:Ue,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},Us={point:Qe,lineStart:Ke,lineEnd:Ze,polygonStart:function(){Us.lineStart=Je},polygonEnd:function(){Us.point=Qe,Us.lineStart=Ke,Us.lineEnd=Ze}};ua.geo.path=function(){function e(t){return t&&("function"==typeof u&&a.pointRadius(+u.apply(this,arguments)),s&&s.valid||(s=o(a)),ua.geo.stream(t,s)),a.result()}function n(){return s=null,e}var i,r,o,a,s,u=4.5;return e.area=function(t){return Hs=0,ua.geo.stream(t,o(Bs)),Hs},e.centroid=function(t){return Ms=As=Ps=Es=Ls=Ds=Ns=Is=Os=0,ua.geo.stream(t,o(Us)),Os?[Ns/Os,Is/Os]:Ds?[Es/Ds,Ls/Ds]:Ps?[Ms/Ps,As/Ps]:[NaN,NaN]},e.bounds=function(t){return qs=$s=-(Vs=Gs=1/0),ua.geo.stream(t,o(Ws)),[[Vs,Gs],[qs,$s]]},e.projection=function(t){return arguments.length?(o=(i=t)?t.stream||nn(t):O,n()):i},e.context=function(t){return arguments.length?(a=null==(r=t)?new Ye:new tn(t),"function"!=typeof u&&a.pointRadius(u),n()):r},e.pointRadius=function(t){return arguments.length?(u="function"==typeof t?t:(a.pointRadius(+t),+t),e):u},e.projection(ua.geo.albersUsa()).context(null)},ua.geo.transform=function(i){return{stream:function(t){var e=new rn(t);for(var n in i)e[n]=i[n];return e}}},rn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ua.geo.projection=an,ua.geo.projectionMutator=sn,(ua.geo.equirectangular=function(){return an(ln)}).raw=ln.invert=ln,ua.geo.rotation=function(e){function t(t){return(t=e(t[0]*Va,t[1]*Va))[0]*=Ga,t[1]*=Ga,t}return e=hn(e[0]%360*Va,e[1]*Va,2<e.length?e[2]*Va:0),t.invert=function(t){return(t=e.invert(t[0]*Va,t[1]*Va))[0]*=Ga,t[1]*=Ga,t},t},cn.invert=ln,ua.geo.circle=function(){function e(){var t="function"==typeof o?o.apply(this,arguments):o,n=hn(-t[0]*Va,-t[1]*Va,0).invert,i=[];return r(null,null,1,{point:function(t,e){i.push(t=n(t,e)),t[0]*=Ga,t[1]*=Ga}}),{type:"Polygon",coordinates:[i]}}var n,r,o=[0,0],i=6;return e.origin=function(t){return arguments.length?(o=t,e):o},e.angle=function(t){return arguments.length?(r=gn((n=+t)*Va,i*Va),e):n},e.precision=function(t){return arguments.length?(r=gn(n*Va,(i=+t)*Va),e):i},e.angle(90)},ua.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Va,r=t[1]*Va,o=e[1]*Va,a=Math.sin(i),s=Math.cos(i),u=Math.sin(r),l=Math.cos(r),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*a)*n+(n=l*c-u*h*s)*n),u*c+l*h*s)},ua.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return ua.range(Math.ceil(o/m)*m,r,m).map(f).concat(ua.range(Math.ceil(l/v)*v,u,v).map(d)).concat(ua.range(Math.ceil(i/p)*p,n,p).filter(function(t){return ya(t%m)>Oa}).map(c)).concat(ua.range(Math.ceil(s/g)*g,a,g).filter(function(t){return ya(t%v)>Oa}).map(h))}var n,i,r,o,a,s,u,l,c,h,f,d,p=10,g=p,m=90,v=360,y=2.5;return e.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},e.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(d(u).slice(1),f(r).reverse().slice(1),d(l).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(o=+t[0][0],r=+t[1][0],l=+t[0][1],u=+t[1][1],r<o&&(t=o,o=r,r=t),u<l&&(t=l,l=u,u=t),e.precision(y)):[[o,l],[r,u]]},e.minorExtent=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],n<i&&(t=i,i=n,n=t),a<s&&(t=s,s=a,a=t),e.precision(y)):[[i,s],[n,a]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(m=+t[0],v=+t[1],e):[m,v]},e.minorStep=function(t){return arguments.length?(p=+t[0],g=+t[1],e):[p,g]},e.precision=function(t){return arguments.length?(y=+t,c=vn(s,a,90),h=yn(i,n,y),f=vn(l,u,90),d=yn(o,r,y),e):y},e.majorExtent([[-180,-90+Oa],[180,90-Oa]]).minorExtent([[-180,-80-Oa],[180,80+Oa]])},ua.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[n||r.apply(this,arguments),i||o.apply(this,arguments)]}}var n,i,r=_n,o=bn;return e.distance=function(){return ua.geo.distance(n||r.apply(this,arguments),i||o.apply(this,arguments))},e.source=function(t){return arguments.length?(n="function"==typeof(r=t)?null:t,e):r},e.target=function(t){return arguments.length?(i="function"==typeof(o=t)?null:t,e):o},e.precision=function(){return arguments.length?e:0},e},ua.geo.interpolate=function(t,e){return xn(t[0]*Va,t[1]*Va,e[0]*Va,e[1]*Va)},ua.geo.length=function(t){return Ys=0,ua.geo.stream(t,Xs),Ys};var Ys,Xs={sphere:b,point:b,lineStart:wn,lineEnd:b,polygonStart:b,polygonEnd:b},Qs=Sn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ua.geo.azimuthalEqualArea=function(){return an(Qs)}).raw=Qs;var Ks=Sn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},O);(ua.geo.azimuthalEquidistant=function(){return an(Ks)}).raw=Ks,(ua.geo.conicConformal=function(){return $e(Tn)}).raw=Tn,(ua.geo.conicEquidistant=function(){return $e(kn)}).raw=kn;var Zs=Sn(function(t){return 1/t},Math.atan);(ua.geo.gnomonic=function(){return an(Zs)}).raw=Zs,Cn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-ja]},(ua.geo.mercator=function(){return Mn(Cn)}).raw=Cn;var Js=Sn(function(){return 1},Math.asin);(ua.geo.orthographic=function(){return an(Js)}).raw=Js;var tu=Sn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ua.geo.stereographic=function(){return an(tu)}).raw=tu,An.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-ja]},(ua.geo.transverseMercator=function(){var t=Mn(An),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=An,ua.geom={},ua.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,n=Ct(f),i=Ct(d),r=t.length,o=[],a=[];for(e=0;e<r;e++)o.push([+n.call(this,t[e],e),+i.call(this,t[e],e),e]);for(o.sort(Dn),e=0;e<r;e++)a.push([o[e][0],-o[e][1]]);var s=Ln(o),u=Ln(a),l=u[0]===s[0],c=u[u.length-1]===s[s.length-1],h=[];for(e=s.length-1;0<=e;--e)h.push(t[o[s[e]][2]]);for(e=+l;e<u.length-c;++e)h.push(t[o[u[e]][2]]);return h}var f=Pn,d=En;return arguments.length?e(t):(e.x=function(t){return arguments.length?(f=t,e):f},e.y=function(t){return arguments.length?(d=t,e):d},e)},ua.geom.polygon=function(t){return Sa(t,eu),t};var eu=ua.geom.polygon.prototype=[];eu.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},eu.centroid=function(t){var e,n,i=-1,r=this.length,o=0,a=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},eu.clip=function(t){for(var e,n,i,r,o,a,s=On(t),u=-1,l=this.length-On(this),c=this[l-1];++u<l;){for(e=t.slice(),t.length=0,r=this[u],o=e[(i=e.length-s)-1],n=-1;++n<i;)Nn(a=e[n],c,r)?(Nn(o,c,r)||t.push(In(o,a,c,r)),t.push(a)):Nn(o,c,r)&&t.push(In(o,a,c,r)),o=a;s&&t.push(t[0]),c=r}return t};var nu,iu,ru,ou,au,su=[],uu=[];qn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Bn),e.length},ei.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ni.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ai(this._),e.P=null,(e.N=t).P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(ri(this,n),n=(t=n).U),n.C=!1,i.C=!0,oi(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(oi(this,n),n=(t=n).U),n.C=!1,i.C=!0,ri(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?ai(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,((n.L=o).U=n)!==a?(r=n.U,n.U=t.U,t=n.R,r.L=t,(n.R=a).U=n):(n.U=r,t=(r=n).R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,ri(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,oi(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,ri(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,oi(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ri(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,oi(this,r),t=this._;break}e.C=!0,r=(t=r).U}while(!t.C);t&&(t.C=!1)}}},ua.geom.voronoi=function(t){function e(r){var o=new Array(r.length),a=c[0][0],s=c[0][1],u=c[1][0],l=c[1][1];return si(n(r),c).cells.forEach(function(t,e){var n=t.edges,i=t.site;(o[e]=n.length?n.map(function(t){var e=t.start();return[e.x,e.y]}):i.x>=a&&i.x<=u&&i.y>=s&&i.y<=l?[[a,l],[u,l],[u,s],[a,s]]:[]).point=r[e]}),o}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Oa)*Oa,y:Math.round(a(t,e)/Oa)*Oa,i:e}})}var i=Pn,r=En,o=i,a=r,c=lu;return t?e(t):(e.links=function(e){return si(n(e)).edges.filter(function(t){return t.l&&t.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},e.triangles=function(l){var c=[];return si(n(l)).cells.forEach(function(t,e){for(var n,i=t.site,r=t.edges.sort(Bn),o=-1,a=r.length,s=r[a-1].edge,u=s.l===i?s.r:s.l;++o<a;)s,n=u,u=(s=r[o].edge).l===i?s.r:s.l,e<n.i&&e<u.i&&li(i,n,u)<0&&c.push([l[e],l[n.i],l[u.i]])}),c},e.x=function(t){return arguments.length?(o=Ct(i=t),e):i},e.y=function(t){return arguments.length?(a=Ct(r=t),e):r},e.clipExtent=function(t){return arguments.length?(c=null==t?lu:t,e):c===lu?null:c},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):c===lu?null:c&&c[1]},e)};var lu=[[-1e6,-1e6],[1e6,1e6]];ua.geom.delaunay=function(t){return ua.geom.voronoi().triangles(t)},ua.geom.quadtree=function(t,_,b,x,w){function e(t){function d(t,e,n,i,r,o,a,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var u=t.x,l=t.y;if(null!=u)if(ya(u-n)+ya(l-i)<.01)h(t,e,n,i,r,o,a,s);else{var c=t.point;t.x=t.y=t.point=null,h(t,c,u,l,r,o,a,s),h(t,e,n,i,r,o,a,s)}else t.x=n,t.y=i,t.point=e}else h(t,e,n,i,r,o,a,s)}function h(t,e,n,i,r,o,a,s){var u=.5*(r+a),l=.5*(o+s),c=u<=n,h=l<=i,f=h<<1|c;t.leaf=!1,c?r=u:a=u,h?o=l:s=l,d(t=t.nodes[f]||(t.nodes[f]=fi()),e,n,i,r,o,a,s)}var e,n,i,r,o,a,s,u,l,c=Ct(T),f=Ct(k);if(null!=_)a=_,s=b,u=x,l=w;else if(u=l=-(a=s=1/0),n=[],i=[],o=t.length,S)for(r=0;r<o;++r)(e=t[r]).x<a&&(a=e.x),e.y<s&&(s=e.y),e.x>u&&(u=e.x),e.y>l&&(l=e.y),n.push(e.x),i.push(e.y);else for(r=0;r<o;++r){var p=+c(e=t[r],r),g=+f(e,r);p<a&&(a=p),g<s&&(s=g),u<p&&(u=p),l<g&&(l=g),n.push(p),i.push(g)}var m=u-a,v=l-s;v<m?l=s+m:u=a+v;var y=fi();if(y.add=function(t){d(y,t,+c(t,++r),+f(t,r),a,s,u,l)},y.visit=function(t){di(t,y,a,s,u,l)},y.find=function(t){return pi(y,t[0],t[1],a,s,u,l)},r=-1,null==_){for(;++r<o;)d(y,t[r],n[r],i[r],a,s,u,l);--r}else t.forEach(y.add);return n=i=t=e=null,y}var S,T=Pn,k=En;return(S=arguments.length)?(T=ci,k=hi,3===S&&(w=b,x=_,b=_=0),e(t)):(e.x=function(t){return arguments.length?(T=t,e):T},e.y=function(t){return arguments.length?(k=t,e):k},e.extent=function(t){return arguments.length?(null==t?_=b=x=w=null:(_=+t[0][0],b=+t[0][1],x=+t[1][0],w=+t[1][1]),e):null==_?null:[[_,b],[x,w]]},e.size=function(t){return arguments.length?(null==t?_=b=x=w=null:(_=b=0,x=+t[0],w=+t[1]),e):null==_?null:[x-_,w-b]},e)},ua.interpolateRgb=gi,ua.interpolateObject=mi,ua.interpolateNumber=vi,ua.interpolateString=yi;var cu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hu=new RegExp(cu.source,"g");ua.interpolate=_i,ua.interpolators=[function(t,e){var n=typeof e;return("string"===n?is.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?gi:yi:e instanceof at?gi:Array.isArray(e)?bi:"object"===n&&isNaN(e)?mi:vi)(t,e)}],ua.interpolateArray=bi;var fu=function(){return O},du=ua.map({linear:fu,poly:Mi,quad:function(){return Ti},cubic:function(){return ki},sin:function(){return Ai},exp:function(){return Pi},circle:function(){return Ei},elastic:Li,back:Di,bounce:function(){return Ni}}),pu=ua.map({"in":O,out:wi,"in-out":Si,"out-in":function(t){return Si(wi(t))}});ua.ease=function(t){var e=t.indexOf("-"),n=0<=e?t.slice(0,e):t,i=0<=e?t.slice(e+1):"in";return n=du.get(n)||fu,xi((i=pu.get(i)||O)(n.apply(null,la.call(arguments,1))))},ua.interpolateHcl=Ii,ua.interpolateHsl=Oi,ua.interpolateLab=Ri,ua.interpolateRound=Fi,ua.transform=function(t){var n=ha.createElementNS(ua.ns.prefix.svg,"g");return(ua.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new zi(e?e.matrix:gu)})(t)},zi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var gu={a:1,b:0,c:0,d:1,e:0,f:0};ua.interpolateTransform=Ui,ua.layout={},ua.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(Qi(t[n]));return e}},ua.layout.chord=function(){function t(){var t,e,n,i,r,o={},a=[],s=ua.range(b),u=[];for(v=[],y=[],t=0,i=-1;++i<b;){for(e=0,r=-1;++r<b;)e+=_[i][r];a.push(e),u.push(ua.range(b)),t+=e}for(x&&s.sort(function(t,e){return x(a[t],a[e])}),w&&u.forEach(function(t,n){t.sort(function(t,e){return w(_[n][t],_[n][e])})}),t=(za-T*b)/t,e=0,i=-1;++i<b;){for(n=e,r=-1;++r<b;){var l=s[i],c=u[l][r],h=_[l][c],f=e,d=e+=h*t;o[l+"-"+c]={index:l,subindex:c,startAngle:f,endAngle:d,value:h}}y[l]={index:l,startAngle:n,endAngle:e,value:a[l]},e+=T}for(i=-1;++i<b;)for(r=i-1;++r<b;){var p=o[i+"-"+r],g=o[r+"-"+i];(p.value||g.value)&&v.push(p.value<g.value?{source:g,target:p}:{source:p,target:g})}S&&m()}function m(){v.sort(function(t,e){return S((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var v,y,_,b,x,w,S,e={},T=0;return e.matrix=function(t){return arguments.length?(b=(_=t)&&_.length,v=y=null,e):_},e.padding=function(t){return arguments.length?(T=t,v=y=null,e):T},e.sortGroups=function(t){return arguments.length?(x=t,v=y=null,e):x},e.sortSubgroups=function(t){return arguments.length?(w=t,v=null,e):w},e.sortChords=function(t){return arguments.length?(S=t,v&&m(),e):S},e.chords=function(){return v||t(),v},e.groups=function(){return y||t(),y},e},ua.layout.force=function(){function h(l){return function(t,e,n,i){if(t.point!==l){var r=t.cx-l.x,o=t.cy-l.y,a=i-e,s=r*r+o*o;if(a*a/w<s){if(s<c){var u=t.charge/s;l.px-=r*u,l.py-=o*u}return!0}if(t.point&&s&&s<c){u=t.pointCharge/s;l.px-=r*u,l.py-=o*u}}return!t.charge}}function t(t){t.px=ua.event.x,t.py=ua.event.y,r.resume()}var f,e,d,p,g,m,r={},v=ua.dispatch("start","tick","end"),y=[1,1],_=.9,o=mu,a=vu,b=-30,c=yu,x=.1,w=.64,S=[],T=[];return r.tick=function(){if((d*=.99)<.005)return f=null,v.end({type:"end",alpha:d=0}),!0;var t,e,n,i,r,o,a,s,u,l=S.length,c=T.length;for(e=0;e<c;++e)i=(n=T[e]).source,(o=(s=(r=n.target).x-i.x)*s+(u=r.y-i.y)*u)&&(s*=o=d*g[e]*((o=Math.sqrt(o))-p[e])/o,u*=o,r.x-=s*(a=i.weight+r.weight?i.weight/(i.weight+r.weight):.5),r.y-=u*a,i.x+=s*(a=1-a),i.y+=u*a);if((a=d*x)&&(s=y[0]/2,u=y[1]/2,e=-1,a))for(;++e<l;)(n=S[e]).x+=(s-n.x)*a,n.y+=(u-n.y)*a;if(b)for(ir(t=ua.geom.quadtree(S),d,m),e=-1;++e<l;)(n=S[e]).fixed||t.visit(h(n));for(e=-1;++e<l;)(n=S[e]).fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*_,n.y-=(n.py-(n.py=n.y))*_);v.tick({type:"tick",alpha:d})},r.nodes=function(t){return arguments.length?(S=t,r):S},r.links=function(t){return arguments.length?(T=t,r):T},r.size=function(t){return arguments.length?(y=t,r):y},r.linkDistance=function(t){return arguments.length?(o="function"==typeof t?t:+t,r):o},r.distance=r.linkDistance,r.linkStrength=function(t){return arguments.length?(a="function"==typeof t?t:+t,r):a},r.friction=function(t){return arguments.length?(_=+t,r):_},r.charge=function(t){return arguments.length?(b="function"==typeof t?t:+t,r):b},r.chargeDistance=function(t){return arguments.length?(c=t*t,r):Math.sqrt(c)},r.gravity=function(t){return arguments.length?(x=+t,r):x},r.theta=function(t){return arguments.length?(w=t*t,r):Math.sqrt(w)},r.alpha=function(t){return arguments.length?(t=+t,d?0<t?d=t:(f.c=null,f.t=NaN,f=null,v.end({type:"end",alpha:d=0})):0<t&&(v.start({type:"start",alpha:d=t}),f=Lt(r.tick)),r):d},r.start=function(){function t(t,e){if(!u){for(u=new Array(l),o=0;o<l;++o)u[o]=[];for(o=0;o<c;++o){var n=T[o];u[n.source.index].push(n.target),u[n.target.index].push(n.source)}}for(var i,r=u[s],o=-1,a=r.length;++o<a;)if(!isNaN(i=r[o][t]))return i;return Math.random()*e}var s,u,e,l=S.length,c=T.length,n=y[0],i=y[1];for(s=0;s<l;++s)(e=S[s]).index=s,e.weight=0;for(s=0;s<c;++s)"number"==typeof(e=T[s]).source&&(e.source=S[e.source]),"number"==typeof e.target&&(e.target=S[e.target]),++e.source.weight,++e.target.weight;for(s=0;s<l;++s)e=S[s],isNaN(e.x)&&(e.x=t("x",n)),isNaN(e.y)&&(e.y=t("y",i)),isNaN(e.px)&&(e.px=e.x),isNaN(e.py)&&(e.py=e.y);if(p=[],"function"==typeof o)for(s=0;s<c;++s)p[s]=+o.call(this,T[s],s);else for(s=0;s<c;++s)p[s]=o;if(g=[],"function"==typeof a)for(s=0;s<c;++s)g[s]=+a.call(this,T[s],s);else for(s=0;s<c;++s)g[s]=a;if(m=[],"function"==typeof b)for(s=0;s<l;++s)m[s]=+b.call(this,S[s],s);else for(s=0;s<l;++s)m[s]=b;return r.resume()},r.resume=function(){return r.alpha(.1)},r.stop=function(){return r.alpha(0)},r.drag=function(){return e||(e=ua.behavior.drag().origin(O).on("dragstart.force",Ji).on("drag.force",t).on("dragend.force",tr)),arguments.length?void this.on("mouseover.force",er).on("mouseout.force",nr).call(e):e},ua.rebind(r,v,"on")};var mu=20,vu=1,yu=1/0;ua.layout.hierarchy=function(){function s(t){var e,n=[t],i=[];for(t.depth=0;null!=(e=n.pop());)if(i.push(e),(o=l.call(s,e,e.depth))&&(r=o.length)){for(var r,o,a;0<=--r;)n.push(a=o[r]),a.parent=e,a.depth=e.depth+1;c&&(e.value=0),e.children=o}else c&&(e.value=+c.call(s,e,e.depth)||0),delete e.children;return ar(t,function(t){var e,n;u&&(e=t.children)&&e.sort(u),c&&(n=t.parent)&&(n.value+=t.value)}),i}var u=lr,l=sr,c=ur;return s.sort=function(t){return arguments.length?(u=t,s):u},s.children=function(t){return arguments.length?(l=t,s):l},s.value=function(t){return arguments.length?(c=t,s):c},s.revalue=function(t){return c&&(or(t,function(t){t.children&&(t.value=0)}),ar(t,function(t){var e;t.children||(t.value=+c.call(s,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},s},ua.layout.partition=function(){function l(t,e,n,i){var r=t.children;if(t.x=e,t.y=t.depth*i,t.dx=n,t.dy=i,r&&(o=r.length)){var o,a,s,u=-1;for(n=t.value?n/t.value:0;++u<o;)l(a=r[u],e,s=a.value*n,i),e+=s}}function o(t){var e=t.children,n=0;if(e&&(i=e.length))for(var i,r=-1;++r<i;)n=Math.max(n,o(e[r]));return 1+n}function e(t,e){var n=i.call(this,t,e);return l(n[0],0,r[0],r[1]/o(n[0])),n}var i=ua.layout.hierarchy(),r=[1,1];return e.size=function(t){return arguments.length?(r=t,e):r},rr(e,i)},ua.layout.pie=function(){function f(n){var e,t=n.length,i=n.map(function(t,e){return+d.call(f,t,e)}),r=+("function"==typeof g?g.apply(this,arguments):g),o=("function"==typeof m?m.apply(this,arguments):m)-r,a=Math.min(Math.abs(o)/t,+("function"==typeof v?v.apply(this,arguments):v)),s=a*(o<0?-1:1),u=ua.sum(i),l=u?(o-t*s)/u:0,c=ua.range(t),h=[];return null!=p&&c.sort(p===_u?function(t,e){return i[e]-i[t]}:function(t,e){return p(n[t],n[e])}),c.forEach(function(t){h[t]={data:n[t],value:e=i[t],startAngle:r,endAngle:r+=e*l+s,padAngle:a}}),h}var d=Number,p=_u,g=0,m=za,v=0;return f.value=function(t){return arguments.length?(d=t,f):d},f.sort=function(t){return arguments.length?(p=t,f):p},f.startAngle=function(t){return arguments.length?(g=t,f):g},f.endAngle=function(t){return arguments.length?(m=t,f):m},f.padAngle=function(t){return arguments.length?(v=t,f):v},f};var _u={};ua.layout.stack=function(){function h(t,e){if(!(o=t.length))return t;var n=t.map(function(t,e){return f.call(h,t,e)}),i=n.map(function(t){return t.map(function(t,e){return[m.call(h,t,e),v.call(h,t,e)]})}),r=d.call(h,i,e);n=ua.permute(n,r),i=ua.permute(i,r);var o,a,s,u,l=p.call(h,i,e),c=n[0].length;for(s=0;s<c;++s)for(g.call(h,n[0][s],u=l[s],i[0][s][1]),a=1;a<o;++a)g.call(h,n[a][s],u+=i[a-1][s][1],i[a][s][1]);return t}var f=O,d=pr,p=gr,g=dr,m=hr,v=fr;return h.values=function(t){return arguments.length?(f=t,h):f},h.order=function(t){return arguments.length?(d="function"==typeof t?t:bu.get(t)||pr,h):d},h.offset=function(t){return arguments.length?(p="function"==typeof t?t:xu.get(t)||gr,h):p},h.x=function(t){return arguments.length?(m=t,h):m},h.y=function(t){return arguments.length?(v=t,h):v},h.out=function(t){return arguments.length?(g=t,h):g},h};var bu=ua.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(mr),o=t.map(vr),a=ua.range(i).sort(function(t,e){return r[t]-r[e]}),s=0,u=0,l=[],c=[];for(e=0;e<i;++e)n=a[e],s<u?(s+=o[n],l.push(n)):(u+=o[n],c.push(n));return c.reverse().concat(l)},reverse:function(t){return ua.range(t.length).reverse()},"default":pr}),xu=ua.map({silhouette:function(t){var e,n,i,r=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;n<o;++n){for(i=e=0;e<r;e++)i+=t[e][n][1];s<i&&(s=i),a.push(i)}for(n=0;n<o;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,i,r,o,a,s,u,l,c=t.length,h=t[0],f=h.length,d=[];for(d[0]=u=l=0,n=1;n<f;++n){for(r=e=0;e<c;++e)r+=t[e][n][1];for(o=e=0,s=h[n][0]-h[n-1][0];e<c;++e){for(i=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);i<e;++i)a+=(t[i][n][1]-t[i][n-1][1])/s;o+=a*t[e][n][1]}d[n]=u-=r?o/r*s:0,u<l&&(l=u)}for(n=0;n<f;++n)d[n]-=l;return d},expand:function(t){var e,n,i,r=t.length,o=t[0].length,a=1/r,s=[];for(n=0;n<o;++n){for(i=e=0;e<r;e++)i+=t[e][n][1];if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:gr});ua.layout.histogram=function(){function n(t,e){for(var n,i,r=[],o=t.map(f,this),a=d.call(this,o,e),s=p.call(this,a,o,e),u=(e=-1,o.length),l=s.length-1,c=h?1:1/u;++e<l;)(n=r[e]=[]).dx=s[e+1]-(n.x=s[e]),n.y=0;if(0<l)for(e=-1;++e<u;)(i=o[e])>=a[0]&&i<=a[1]&&((n=r[ua.bisect(s,i,1,l)-1]).y+=c,n.push(t[e]));return r}var h=!0,f=Number,d=xr,p=_r;return n.value=function(t){return arguments.length?(f=t,n):f},n.range=function(t){return arguments.length?(d=Ct(t),n):d},n.bins=function(e){return arguments.length?(p="number"==typeof e?function(t){return br(t,e)}:Ct(e),n):p},n.frequency=function(t){return arguments.length?(h=!!t,n):h},n},ua.layout.pack=function(){function e(t,e){var n=l.call(this,t,e),i=n[0],r=h[0],o=h[1],a=null==u?Math.sqrt:"function"==typeof u?u:function(){return u};if(i.x=i.y=0,ar(i,function(t){t.r=+a(t.value)}),ar(i,Cr),c){var s=c*(u?1:Math.max(2*i.r/r,2*i.r/o))/2;ar(i,function(t){t.r+=s}),ar(i,Cr),ar(i,function(t){t.r-=s})}return Pr(i,r/2,o/2,u?1:1/Math.max(2*i.r/r,2*i.r/o)),n}var u,l=ua.layout.hierarchy().sort(wr),c=0,h=[1,1];return e.size=function(t){return arguments.length?(h=t,e):h},e.radius=function(t){return arguments.length?(u=null==t||"function"==typeof t?t:+t,e):u},e.padding=function(t){return arguments.length?(c=+t,e):c},rr(e,l)},ua.layout.tree=function(){function e(t,e){var n=g.call(this,t,e),i=n[0],r=h(i);if(ar(r,f),r.parent.m=-r.z,or(r,d),y)or(i,p);else{var o=i,a=i,s=i;or(i,function(t){t.x<o.x&&(o=t),t.x>a.x&&(a=t),t.depth>s.depth&&(s=t)});var u=m(o,a)/2-o.x,l=v[0]/(a.x+m(a,o)/2+u),c=v[1]/(s.depth||1);or(i,function(t){t.x=(t.x+u)*l,t.y=t.depth*c})}return n}function h(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var r,o=e.children,a=0,s=o.length;a<s;++a)i.push((o[a]=r={_:o[a],parent:e,children:(r=o[a].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=r);return n.children[0]}function f(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){Or(t);var r=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+m(t._,i._),t.m=t.z-r):t.z=r}else i&&(t.z=i.z+m(t._,i._));t.parent.A=o(t,i,t.parent.A||n[0])}function d(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function o(t,e,n){if(e){for(var i,r=t,o=t,a=e,s=r.parent.children[0],u=r.m,l=o.m,c=a.m,h=s.m;a=Nr(a),r=Dr(r),a&&r;)s=Dr(s),(o=Nr(o)).a=t,0<(i=a.z+c-r.z-u+m(a._,r._))&&(Ir(Rr(a,t,n),t,i),u+=i,l+=i),c+=a.m,u+=r.m,h+=s.m,l+=o.m;a&&!Nr(o)&&(o.t=a,o.m+=c-l),r&&!Dr(s)&&(s.t=r,s.m+=u-h,n=t)}return n}function p(t){t.x*=v[0],t.y=t.depth*v[1]}var g=ua.layout.hierarchy().sort(null).value(null),m=Lr,v=[1,1],y=null;return e.separation=function(t){return arguments.length?(m=t,e):m},e.size=function(t){return arguments.length?(y=null==(v=t)?p:null,e):y?null:v},e.nodeSize=function(t){return arguments.length?(y=null==(v=t)?null:p,e):y?v:null},rr(e,g)},ua.layout.cluster=function(){function e(t,e){var n,i=c.call(this,t,e),r=i[0],o=0;ar(r,function(t){var e=t.children;e&&e.length?(t.x=zr(e),t.y=Fr(e)):(t.x=n?o+=h(t,n):0,t.y=0,n=t)})
;var a=Hr(r),s=jr(r),u=a.x-h(a,s)/2,l=s.x+h(s,a)/2;return ar(r,d?function(t){t.x=(t.x-r.x)*f[0],t.y=(r.y-t.y)*f[1]}:function(t){t.x=(t.x-u)/(l-u)*f[0],t.y=(1-(r.y?t.y/r.y:1))*f[1]}),i}var c=ua.layout.hierarchy().sort(null).value(null),h=Lr,f=[1,1],d=!1;return e.separation=function(t){return arguments.length?(h=t,e):h},e.size=function(t){return arguments.length?(d=null==(f=t),e):d?null:f},e.nodeSize=function(t){return arguments.length?(d=null!=(f=t),e):d?f:null},rr(e,c)},ua.layout.treemap=function(){function c(t,e){for(var n,i,r=-1,o=t.length;++r<o;)i=(n=t[r]).value*(e<0?0:e),n.area=isNaN(i)||i<=0?0:i}function h(t){var e=t.children;if(e&&e.length){var n,i,r,o=g(t),a=[],s=e.slice(),u=1/0,l="slice"===m?o.dx:"dice"===m?o.dy:"slice-dice"===m?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(c(s,o.dx*o.dy/t.value),a.area=0;0<(r=s.length);)a.push(n=s[r-1]),a.area+=n.area,"squarify"!==m||(i=f(a,l))<=u?(s.pop(),u=i):(a.area-=a.pop().area,d(a,l,o,!1),l=Math.min(o.dx,o.dy),a.length=a.area=0,u=1/0);a.length&&(d(a,l,o,!0),a.length=a.area=0),e.forEach(h)}}function a(t){var e=t.children;if(e&&e.length){var n,i=g(t),r=e.slice(),o=[];for(c(r,i.dx*i.dy/t.value),o.area=0;n=r.pop();)o.push(n),o.area+=n.area,null!=n.z&&(d(o,n.z?i.dx:i.dy,i,!r.length),o.length=o.area=0);e.forEach(a)}}function f(t,e){for(var n,i=t.area,r=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),r<n&&(r=n));return e*=e,(i*=i)?Math.max(e*r*v/i,i/(e*o*v)):1/0}function d(t,e,n,i){var r,o=-1,a=t.length,s=n.x,u=n.y,l=e?p(t.area/e):0;if(e==n.dx){for((i||l>n.dy)&&(l=n.dy);++o<a;)(r=t[o]).x=s,r.y=u,r.dy=l,s+=r.dx=Math.min(n.x+n.dx-s,l?p(r.area/l):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=l,n.dy-=l}else{for((i||l>n.dx)&&(l=n.dx);++o<a;)(r=t[o]).x=s,r.y=u,r.dx=l,u+=r.dy=Math.min(n.y+n.dy-u,l?p(r.area/l):0);r.z=!1,r.dy+=n.y+n.dy-u,n.x+=l,n.dx-=l}}function r(t){var e=i||o(t),n=e[0];return n.x=n.y=0,n.value?(n.dx=s[0],n.dy=s[1]):n.dx=n.dy=0,i&&o.revalue(n),c([n],n.dx*n.dy/n.value),(i?a:h)(n),l&&(i=e),e}var i,o=ua.layout.hierarchy(),p=Math.round,s=[1,1],u=null,g=Vr,l=!1,m="squarify",v=.5*(1+Math.sqrt(5));return r.size=function(t){return arguments.length?(s=t,r):s},r.padding=function(n){function t(t){var e=n.call(r,t,t.depth);return null==e?Vr(t):Gr(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Gr(t,n)}return arguments.length?(g=null==(u=n)?Vr:"function"==(i=typeof n)?t:("number"===i&&(n=[n,n,n,n]),e),r):u;var i},r.round=function(t){return arguments.length?(p=t?Math.round:Number,r):p!=Number},r.sticky=function(t){return arguments.length?(l=t,i=null,r):l},r.ratio=function(t){return arguments.length?(v=t,r):v},r.mode=function(t){return arguments.length?(m=t+"",r):m},rr(r,o)},ua.random={normal:function(i,r){var t=arguments.length;return t<2&&(r=1),t<1&&(i=0),function(){for(var t,e,n;!(n=(t=2*Math.random()-1)*t+(e=2*Math.random()-1)*e)||1<n;);return i+r*t*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var t=ua.random.normal.apply(ua,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=ua.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}},ua.scale={};var wu={floor:O,ceil:O};ua.scale.linear=function(){return Xr([0,1],[0,1],_i,!1)};var Su={s:1,g:1,p:1,r:1,e:1};ua.scale.log=function(){return io(ua.scale.linear().domain([0,1]),10,!0,[1,10])};var Tu=ua.format(".0e"),ku={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};ua.scale.pow=function(){return ro(ua.scale.linear(),1,[0,1])},ua.scale.sqrt=function(){return ua.scale.pow().exponent(.5)},ua.scale.ordinal=function(){return ao([],{t:"range",a:[[]]})},ua.scale.category10=function(){return ua.scale.ordinal().range(Cu)},ua.scale.category20=function(){return ua.scale.ordinal().range(Mu)},ua.scale.category20b=function(){return ua.scale.ordinal().range(Au)},ua.scale.category20c=function(){return ua.scale.ordinal().range(Pu)};var Cu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(_t),Mu=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(_t),Au=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(_t),Pu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(_t);ua.scale.quantile=function(){return so([],[])},ua.scale.quantize=function(){return uo(0,1,[0,1])},ua.scale.threshold=function(){return lo([.5],[0,1])},ua.scale.identity=function(){return co([0,1])},ua.svg={},ua.svg.arc=function(){function e(){var t=Math.max(0,+H.apply(this,arguments)),e=Math.max(0,+j.apply(this,arguments)),n=q.apply(this,arguments)-ja,i=$.apply(this,arguments)-ja,r=Math.abs(i-n),o=i<n?0:1;if(e<t&&(a=e,e=t,t=a),Ha<=r)return z(e,o)+(t?z(t,1-o):"")+"Z";var a,s,u,l,c,h,f,d,p,g,m,v,y=0,_=0,b=[];if((l=(+B.apply(this,arguments)||0)/2)&&(u=G===Eu?Math.sqrt(t*t+e*e):+G.apply(this,arguments),o||(_*=-1),e&&(_=et(u/e*Math.sin(l))),t&&(y=et(u/t*Math.sin(l)))),e){c=e*Math.cos(n+_),h=e*Math.sin(n+_),f=e*Math.cos(i-_),d=e*Math.sin(i-_);var x=Math.abs(i-n-2*_)<=Fa?0:1;if(_&&yo(c,h,f,d)===o^x){var w=(n+i)/2;c=e*Math.cos(w),h=e*Math.sin(w),f=d=null}}else c=h=0;if(t){p=t*Math.cos(i-y),g=t*Math.sin(i-y),m=t*Math.cos(n+y),v=t*Math.sin(n+y);var S=Math.abs(n-i+2*y)<=Fa?0:1;if(y&&yo(p,g,m,v)===1-o^S){var T=(n+i)/2;p=t*Math.cos(T),g=t*Math.sin(T),m=v=null}}else p=g=0;if(Oa<r&&.001<(a=Math.min(Math.abs(e-t)/2,+V.apply(this,arguments)))){s=t<e^o?0:1;var k=a,C=a;if(r<Fa){var M=null==m?[p,g]:null==f?[c,h]:In([c,h],[m,v],[f,d],[p,g]),A=c-M[0],P=h-M[1],E=f-M[0],L=d-M[1],D=1/Math.sin(Math.acos((A*E+P*L)/(Math.sqrt(A*A+P*P)*Math.sqrt(E*E+L*L)))/2),N=Math.sqrt(M[0]*M[0]+M[1]*M[1]);C=Math.min(a,(t-N)/(D-1)),k=Math.min(a,(e-N)/(D+1))}if(null!=f){var I=_o(null==m?[p,g]:[m,v],[c,h],e,k,o),O=_o([f,d],[p,g],e,k,o);a===k?b.push("M",I[0],"A",k,",",k," 0 0,",s," ",I[1],"A",e,",",e," 0 ",1-o^yo(I[1][0],I[1][1],O[1][0],O[1][1]),",",o," ",O[1],"A",k,",",k," 0 0,",s," ",O[0]):b.push("M",I[0],"A",k,",",k," 0 1,",s," ",O[0])}else b.push("M",c,",",h);if(null!=m){var R=_o([c,h],[m,v],t,-C,o),F=_o([p,g],null==f?[c,h]:[f,d],t,-C,o);a===C?b.push("L",F[0],"A",C,",",C," 0 0,",s," ",F[1],"A",t,",",t," 0 ",o^yo(F[1][0],F[1][1],R[1][0],R[1][1]),",",1-o," ",R[1],"A",C,",",C," 0 0,",s," ",R[0]):b.push("L",F[0],"A",C,",",C," 0 0,",s," ",R[0])}else b.push("L",p,",",g)}else b.push("M",c,",",h),null!=f&&b.push("A",e,",",e," 0 ",x,",",o," ",f,",",d),b.push("L",p,",",g),null!=m&&b.push("A",t,",",t," 0 ",S,",",1-o," ",m,",",v);return b.push("Z"),b.join("")}function z(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var H=fo,j=po,V=ho,G=Eu,q=go,$=mo,B=vo;return e.innerRadius=function(t){return arguments.length?(H=Ct(t),e):H},e.outerRadius=function(t){return arguments.length?(j=Ct(t),e):j},e.cornerRadius=function(t){return arguments.length?(V=Ct(t),e):V},e.padRadius=function(t){return arguments.length?(G=t==Eu?Eu:Ct(t),e):G},e.startAngle=function(t){return arguments.length?(q=Ct(t),e):q},e.endAngle=function(t){return arguments.length?($=Ct(t),e):$},e.padAngle=function(t){return arguments.length?(B=Ct(t),e):B},e.centroid=function(){var t=(+H.apply(this,arguments)+ +j.apply(this,arguments))/2,e=(+q.apply(this,arguments)+ +$.apply(this,arguments))/2-ja;return[Math.cos(e)*t,Math.sin(e)*t]},e};var Eu="auto";ua.svg.line=function(){return bo(O)};var Lu=ua.map({linear:xo,"linear-closed":wo,step:So,"step-before":To,"step-after":ko,basis:Lo,"basis-open":Do,"basis-closed":No,bundle:Io,cardinal:Ao,"cardinal-open":Co,"cardinal-closed":Mo,monotone:jo});Lu.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Du=[0,2/3,1/3,0],Nu=[0,1/3,2/3,0],Iu=[0,1/6,2/3,1/6];ua.svg.line.radial=function(){var t=bo(Vo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},(To.reverse=ko).reverse=To,ua.svg.area=function(){return Go(O)},ua.svg.area.radial=function(){var t=Go(Vo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ua.svg.chord=function(){function e(t,e){var n=r(this,u,t,e),i=r(this,l,t,e);return"M"+n.p0+a(n.r,n.p1,n.a1-n.a0)+(o(n,i)?s(n.r,n.p1,n.r,n.p0):s(n.r,n.p1,i.r,i.p0)+a(i.r,i.p1,i.a1-i.a0)+s(i.r,i.p1,n.r,n.p0))+"Z"}function r(t,e,n,i){var r=e.call(t,n,i),o=c.call(t,r,i),a=h.call(t,r,i)-ja,s=f.call(t,r,i)-ja;return{r:o,a0:a,a1:s,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(s),o*Math.sin(s)]}}function o(t,e){return t.a0==e.a0&&t.a1==e.a1}function a(t,e,n){return"A"+t+","+t+" 0 "+ +(Fa<n)+",1 "+e}function s(t,e,n,i){return"Q 0,0 "+i}var u=_n,l=bn,c=qo,h=go,f=mo;return e.radius=function(t){return arguments.length?(c=Ct(t),e):c},e.source=function(t){return arguments.length?(u=Ct(t),e):u},e.target=function(t){return arguments.length?(l=Ct(t),e):l},e.startAngle=function(t){return arguments.length?(h=Ct(t),e):h},e.endAngle=function(t){return arguments.length?(f=Ct(t),e):f},e},ua.svg.diagonal=function(){function e(t,e){var n=a.call(this,t,e),i=s.call(this,t,e),r=(n.y+i.y)/2,o=[n,{x:n.x,y:r},{x:i.x,y:r},i];return"M"+(o=o.map(u))[0]+"C"+o[1]+" "+o[2]+" "+o[3]}var a=_n,s=bn,u=$o;return e.source=function(t){return arguments.length?(a=Ct(t),e):a},e.target=function(t){return arguments.length?(s=Ct(t),e):s},e.projection=function(t){return arguments.length?(u=t,e):u},e},ua.svg.diagonal.radial=function(){var t=ua.svg.diagonal(),e=$o,n=t.projection;return t.projection=function(t){return arguments.length?n(Bo(e=t)):e},t},ua.svg.symbol=function(){function e(t,e){return(Ou.get(n.call(this,t,e))||Yo)(i.call(this,t,e))}var n=Uo,i=Wo;return e.type=function(t){return arguments.length?(n=Ct(t),e):n},e.size=function(t){return arguments.length?(i=Ct(t),e):i},e};var Ou=ua.map({circle:Yo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Fu)),n=e*Fu;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Ru),n=e*Ru/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Ru),n=e*Ru/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});ua.svg.symbolTypes=Ou.keys();var Ru=Math.sqrt(3),Fu=Math.tan(30*Va);Ma.transition=function(t){for(var e,n,i=zu||++Gu,r=Jo(t),o=[],a=Hu||{time:Date.now(),ease:Ci,delay:0,duration:250},s=-1,u=this.length;++s<u;){o.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(n=l[c])&&ta(n,c,r,i,a),e.push(n)}return Qo(o,r,i)},Ma.interrupt=function(t){return this.each(null==t?ju:Xo(Jo(t)))};var zu,Hu,ju=Xo(Jo()),Vu=[],Gu=0;Vu.call=Ma.call,Vu.empty=Ma.empty,Vu.node=Ma.node,Vu.size=Ma.size,ua.transition=function(t,e){return t&&t.transition?zu?t.transition(e):t:ua.selection().transition(t)},(ua.transition.prototype=Vu).select=function(t){var e,n,i,r=this.id,o=this.namespace,a=[];t=T(t);for(var s=-1,u=this.length;++s<u;){a.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(i=l[c])&&(n=t.call(i,i.__data__,c,s))?("__data__"in i&&(n.__data__=i.__data__),ta(n,c,o,r,i[o][r]),e.push(n)):e.push(null)}return Qo(a,o,r)},Vu.selectAll=function(t){var e,n,i,r,o,a=this.id,s=this.namespace,u=[];t=k(t);for(var l=-1,c=this.length;++l<c;)for(var h=this[l],f=-1,d=h.length;++f<d;)if(i=h[f]){o=i[s][a],n=t.call(i,i.__data__,f,l),u.push(e=[]);for(var p=-1,g=n.length;++p<g;)(r=n[p])&&ta(r,p,s,a,o),e.push(r)}return Qo(u,s,a)},Vu.filter=function(t){var e,n,i=[];"function"!=typeof t&&(t=V(t));for(var r=0,o=this.length;r<o;r++){i.push(e=[]);for(var a,s=0,u=(a=this[r]).length;s<u;s++)(n=a[s])&&t.call(n,n.__data__,s,r)&&e.push(n)}return Qo(i,this.namespace,this.id)},Vu.tween=function(e,n){var i=this.id,r=this.namespace;return arguments.length<2?this.node()[r][i].tween.get(e):q(this,null==n?function(t){t[r][i].tween.remove(e)}:function(t){t[r][i].tween.set(e,n)})},Vu.attr=function(t,e){function i(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function n(n){return null==n?i:(n+="",function(){var e,t=this.getAttribute(s);return t!==n&&(e=a(t,n),function(t){this.setAttribute(s,e(t))})})}function o(n){return null==n?r:(n+="",function(){var e,t=this.getAttributeNS(s.space,s.local);return t!==n&&(e=a(t,n),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?Ui:_i,s=ua.ns.qualify(t);return Ko(this,"attr."+t,e,s.local?o:n)},Vu.attrTween=function(t,i){function e(t,e){var n=i.call(this,t,e,this.getAttribute(r));return n&&function(t){this.setAttribute(r,n(t))}}function n(t,e){var n=i.call(this,t,e,this.getAttributeNS(r.space,r.local));return n&&function(t){this.setAttributeNS(r.space,r.local,n(t))}}var r=ua.ns.qualify(t);return this.tween("attr."+t,r.local?n:e)},Vu.style=function(i,t,r){function e(){this.style.removeProperty(i)}function n(n){return null==n?e:(n+="",function(){var e,t=I(this).getComputedStyle(this,null).getPropertyValue(i);return t!==n&&(e=_i(t,n),function(t){this.style.setProperty(i,e(t),r)})})}var o=arguments.length;if(o<3){if("string"!=typeof i){for(r in o<2&&(t=""),i)this.style(r,i[r],t);return this}r=""}return Ko(this,"style."+i,t,n)},Vu.styleTween=function(i,r,o){function t(t,e){var n=r.call(this,t,e,I(this).getComputedStyle(this,null).getPropertyValue(i));return n&&function(t){this.style.setProperty(i,n(t),o)}}return arguments.length<3&&(o=""),this.tween("style."+i,t)},Vu.text=function(t){return Ko(this,"text",t,Zo)},Vu.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Vu.ease=function(e){var n=this.id,i=this.namespace;return arguments.length<1?this.node()[i][n].ease:("function"!=typeof e&&(e=ua.ease.apply(ua,arguments)),q(this,function(t){t[i][n].ease=e}))},Vu.delay=function(i){var r=this.id,o=this.namespace;return arguments.length<1?this.node()[o][r].delay:q(this,"function"==typeof i?function(t,e,n){t[o][r].delay=+i.call(t,t.__data__,e,n)}:(i=+i,function(t){t[o][r].delay=i}))},Vu.duration=function(i){var r=this.id,o=this.namespace;return arguments.length<1?this.node()[o][r].duration:q(this,"function"==typeof i?function(t,e,n){t[o][r].duration=Math.max(1,i.call(t,t.__data__,e,n))}:(i=Math.max(1,i),function(t){t[o][r].duration=i}))},Vu.each=function(i,n){var r=this.id,o=this.namespace;if(arguments.length<2){var t=Hu,e=zu;try{zu=r,q(this,function(t,e,n){Hu=t[o][r],i.call(t,t.__data__,e,n)})}finally{Hu=t,zu=e}}else q(this,function(t){var e=t[o][r];(e.event||(e.event=ua.dispatch("start","end","interrupt"))).on(i,n)});return this},Vu.transition=function(){for(var t,e,n,i=this.id,r=++Gu,o=this.namespace,a=[],s=0,u=this.length;s<u;s++){a.push(t=[]);for(var l,c=0,h=(l=this[s]).length;c<h;c++)(e=l[c])&&ta(e,c,o,r,{time:(n=e[o][i]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return Qo(a,o,r)},ua.svg.axis=function(){function n(t){t.each(function(){var t,e=ua.select(this),n=this.__chart__||M,i=this.__chart__=M.copy(),r=null==N?i.ticks?i.ticks.apply(i,D):i.domain():N,o=null==C?i.tickFormat?i.tickFormat.apply(i,D):O:C,a=e.selectAll(".tick").data(r,i),s=a.enter().insert("g",".domain").attr("class","tick").style("opacity",Oa),u=ua.transition(a.exit()).style("opacity",Oa).remove(),l=ua.transition(a.order()).style("opacity",1),c=Math.max(P,0)+L,h=$r(i),f=e.selectAll(".domain").data([0]),d=(f.enter().append("path").attr("class","domain"),ua.transition(f));s.append("line"),s.append("text");var p,g,m,v,y=s.select("line"),_=l.select("line"),b=a.select("text").text(o),x=s.select("text"),w=l.select("text"),S="top"===A||"left"===A?-1:1;if("bottom"===A||"top"===A?(t=ea,p="x",m="y",g="x2",v="y2",b.attr("dy",S<0?"0em":".71em").style("text-anchor","middle"),d.attr("d","M"+h[0]+","+S*E+"V0H"+h[1]+"V"+S*E)):(t=na,p="y",m="x",g="y2",v="x2",b.attr("dy",".32em").style("text-anchor",S<0?"end":"start"),d.attr("d","M"+S*E+","+h[0]+"H0V"+h[1]+"H"+S*E)),y.attr(v,S*P),x.attr(m,S*c),_.attr(g,0).attr(v,S*P),w.attr(p,0).attr(m,S*c),i.rangeBand){var T=i,k=T.rangeBand()/2;n=i=function(t){return T(t)+k}}else n.rangeBand?n=i:u.call(t,i,n);s.call(t,n,i),l.call(t,i,i)})}var C,M=ua.scale.linear(),A=qu,P=6,E=6,L=3,D=[10],N=null;return n.scale=function(t){return arguments.length?(M=t,n):M},n.orient=function(t){return arguments.length?(A=t in $u?t+"":qu,n):A},n.ticks=function(){return arguments.length?(D=ca(arguments),n):D},n.tickValues=function(t){return arguments.length?(N=t,n):N},n.tickFormat=function(t){return arguments.length?(C=t,n):C},n.tickSize=function(t){var e=arguments.length;return e?(P=+t,E=+arguments[e-1],n):P},n.innerTickSize=function(t){return arguments.length?(P=+t,n):P},n.outerTickSize=function(t){return arguments.length?(E=+t,n):E},n.tickPadding=function(t){return arguments.length?(L=+t,n):L},n.tickSubdivide=function(){return arguments.length&&n},n};var qu="bottom",$u={top:1,right:1,bottom:1,left:1};ua.svg.brush=function(){function b(t){t.each(function(){var t=ua.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",a).on("touchstart.brush",a),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(s,O);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Bu[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",b.empty()?"none":null);var i,r=ua.transition(t),o=ua.transition(e);M&&(i=$r(M),o.attr("x",i[0]).attr("width",i[1]-i[0]),w(r)),A&&(i=$r(A),o.attr("y",i[0]).attr("height",i[1]-i[0]),S(r)),x(r)})}function x(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+P[+/e$/.test(t)]+","+E[+/^s/.test(t)]+")"})}function w(t){t.select(".extent").attr("x",P[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",P[1]-P[0])}function S(t){t.select(".extent").attr("y",E[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",E[1]-E[0])}function a(){function t(){32==ua.event.keyCode&&(p||(h=null,m[0]-=P[1],m[1]-=E[1],p=2),R())}function e(){32==ua.event.keyCode&&2==p&&(m[0]+=P[1],m[1]+=E[1],p=0,R())}function n(){var t=ua.mouse(a),e=!1;o&&(t[0]+=o[0],t[1]+=o[1]),p||(ua.event.altKey?(h||(h=[(P[0]+P[1])/2,(E[0]+E[1])/2]),m[0]=P[+(t[0]<h[0])],m[1]=E[+(t[1]<h[1])]):h=null),f&&i(t,M,0)&&(w(l),e=!0),d&&i(t,A,1)&&(S(l),e=!0),e&&(x(l),u({type:"brush",mode:p?"move":"resize"}))}function i(t,e,n){var i,r,o=$r(e),a=o[0],s=o[1],u=m[n],l=n?E:P,c=l[1]-l[0];return p&&(a-=u,s-=c+u),i=(n?D:L)?Math.max(a,Math.min(s,t[n])):t[n],p?r=(i+=u)+c:(h&&(u=Math.max(a,Math.min(s,2*h[n]-i))),u<i?(r=i,i=u):r=u),l[0]!=i||l[1]!=r?(n?k=null:T=null,l[0]=i,l[1]=r,!0):void 0}function r(){n(),l.style("pointer-events","all").selectAll(".resize").style("display",b.empty()?"none":null),ua.select("body").style("cursor",null),v.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),g(),u({type:"brushend"})}var h,o,a=this,s=ua.select(ua.event.target),u=C.of(a,arguments),l=ua.select(a),c=s.datum(),f=!/^(n|s)$/.test(c)&&M,d=!/^(e|w)$/.test(c)&&A,p=s.classed("extent"),g=X(a),m=ua.mouse(a),v=ua.select(I(a)).on("keydown.brush",t).on("keyup.brush",e);if(ua.event.changedTouches?v.on("touchmove.brush",n).on("touchend.brush",r):v.on("mousemove.brush",n).on("mouseup.brush",r),l.interrupt().selectAll("*").interrupt(),p)m[0]=P[0]-m[0],m[1]=E[0]-m[1];else if(c){var y=+/w$/.test(c),_=+/^n/.test(c);o=[P[1-y]-m[0],E[1-_]-m[1]],m[0]=P[y],m[1]=E[_]}else ua.event.altKey&&(h=m.slice());l.style("pointer-events","none").selectAll(".resize").style("display",null),ua.select("body").style("cursor",s.style("cursor")),u({type:"brushstart"}),n()}var T,k,C=F(b,"brushstart","brush","brushend"),M=null,A=null,P=[0,0],E=[0,0],L=!0,D=!0,s=Wu[0];return b.event=function(t){t.each(function(){var i=C.of(this,arguments),r={x:P,y:E,i:T,j:k},t=this.__chart__||r;this.__chart__=r,zu?ua.select(this).transition().each("start.brush",function(){T=t.i,k=t.j,P=t.x,E=t.y,i({type:"brushstart"})}).tween("brush:brush",function(){var e=bi(P,r.x),n=bi(E,r.y);return T=k=null,function(t){P=r.x=e(t),E=r.y=n(t),i({type:"brush",mode:"resize"})}}).each("end.brush",function(){T=r.i,k=r.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})}):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))})},b.x=function(t){return arguments.length?(s=Wu[!(M=t)<<1|!A],b):M},b.y=function(t){return arguments.length?(s=Wu[!M<<1|!(A=t)],b):A},b.clamp=function(t){return arguments.length?(M&&A?(L=!!t[0],D=!!t[1]):M?L=!!t:A&&(D=!!t),b):M&&A?[L,D]:M?L:A?D:null},b.extent=function(t){var e,n,i,r,o;return arguments.length?(M&&(e=t[0],n=t[1],A&&(e=e[0],n=n[0]),T=[e,n],M.invert&&(e=M(e),n=M(n)),n<e&&(o=e,e=n,n=o),e==P[0]&&n==P[1]||(P=[e,n])),A&&(i=t[0],r=t[1],M&&(i=i[1],r=r[1]),k=[i,r],A.invert&&(i=A(i),r=A(r)),r<i&&(o=i,i=r,r=o),i==E[0]&&r==E[1]||(E=[i,r])),b):(M&&(T?(e=T[0],n=T[1]):(e=P[0],n=P[1],M.invert&&(e=M.invert(e),n=M.invert(n)),n<e&&(o=e,e=n,n=o))),A&&(k?(i=k[0],r=k[1]):(i=E[0],r=E[1],A.invert&&(i=A.invert(i),r=A.invert(r)),r<i&&(o=i,i=r,r=o))),M&&A?[[e,i],[n,r]]:M?[e,n]:A&&[i,r])},b.clear=function(){return b.empty()||(P=[0,0],E=[0,0],T=k=null),b},b.empty=function(){return!!M&&P[0]==P[1]||!!A&&E[0]==E[1]},ua.rebind(b,C,"on")};var Bu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Wu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Uu=fs.format=ys.timeFormat,Yu=Uu.utc,Xu=Yu("%Y-%m-%dT%H:%M:%S.%LZ");Uu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ia:Xu,ia.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},ia.toString=Xu.toString,fs.second=jt(function(t){return new ds(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),fs.seconds=fs.second.range,fs.seconds.utc=fs.second.utc.range,fs.minute=jt(function(t){return new ds(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),fs.minutes=fs.minute.range,fs.minutes.utc=fs.minute.utc.range,fs.hour=jt(function(t){var e=t.getTimezoneOffset()/60;return new ds(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),fs.hours=fs.hour.range,fs.hours.utc=fs.hour.utc.range,fs.month=jt(function(t){return(t=fs.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),fs.months=fs.month.range,fs.months.utc=fs.month.utc.range;var Qu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ku=[[fs.second,1],[fs.second,5],[fs.second,15],[fs.second,30],[fs.minute,1],[fs.minute,5],[fs.minute,15],[fs.minute,30],[fs.hour,1],[fs.hour,3],[fs.hour,6],[fs.hour,12],[fs.day,1],[fs.day,2],[fs.week,1],[fs.month,1],[fs.month,3],[fs.year,1]],Zu=Uu.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Pe]]),Ju={range:function(t,e,n){return ua.range(Math.ceil(t/n)*n,+e,n).map(oa)},floor:O,ceil:O};Ku.year=fs.year,fs.scale=function(){return ra(ua.scale.linear(),Ku,Zu)};var tl=Ku.map(function(t){return[t[0].utc,t[1]]}),el=Yu.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Pe]]);tl.year=fs.year.utc,fs.scale.utc=function(){return ra(ua.scale.linear(),tl,el)},ua.text=Mt(function(t){return t.responseText}),ua.json=function(t,e){return At(t,"application/json",aa,e)},ua.html=function(t,e){return At(t,"text/html",sa,e)},ua.xml=Mt(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=ua,define(ua)):"object"==typeof module&&module.exports?module.exports=ua:this.d3=ua}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})}(this,function(G){"use strict";function n(n){return function(t,e){return Ol(n(t),e)}}function c(t,e){return[t,e]}function T(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return Jl<=o?r*=10:tc<=o?r*=5:ec<=o&&(r*=2),e<t?-r:r}function s(t){return t.length}function i(t){return"translate("+t+",0)"}function r(t){return"translate(0,"+t+")"}function M(e){var n=e.bandwidth()/2;return e.round()&&(n=Math.round(n)),function(t){return e(t)+n}}function A(){return!this.__axis}function o(g,m){function e(t){var e=null==_?m.ticks?m.ticks.apply(m,y):m.domain():_,n=null==b?m.tickFormat?m.tickFormat.apply(m,y):bc:b,i=Math.max(x,0)+S,r=m.range(),o=r[0]+.5,a=r[r.length-1]+.5,s=(m.bandwidth?M:bc)(m.copy()),u=t.selection?t.selection():t,l=u.selectAll(".domain").data([null]),c=u.selectAll(".tick").data(e,m).order(),h=c.exit(),f=c.enter().append("g").attr("class","tick"),d=c.select("line"),p=c.select("text");l=l.merge(l.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),c=c.merge(f),d=d.merge(f.append("line").attr("stroke","#000").attr(v+"2",T*x).attr(k+"1",.5).attr(k+"2",.5)),p=p.merge(f.append("text").attr("fill","#000").attr(v,T*i).attr(k,.5).attr("dy",g===xc?"0em":g===Sc?"0.71em":"0.32em")),t!==u&&(l=l.transition(t),c=c.transition(t),d=d.transition(t),p=p.transition(t),h=h.transition(t).attr("opacity",kc).attr("transform",function(t){return isFinite(t=s(t))?C(t):this.getAttribute("transform")}),f.attr("opacity",kc).attr("transform",function(t){var e=this.parentNode.__axis;return C(e&&isFinite(e=e(t))?e:s(t))})),h.remove(),l.attr("d",g===Tc||g==wc?"M"+T*w+","+o+"H0.5V"+a+"H"+T*w:"M"+o+","+T*w+"V0.5H"+a+"V"+T*w),c.attr("opacity",1).attr("transform",function(t){return C(s(t))}),d.attr(v+"2",T*x),p.attr(v,T*i).text(n),u.filter(A).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",g===wc?"start":g===Tc?"end":"middle"),u.each(function(){this.__axis=s})}var v,y=[],_=null,b=null,x=6,w=6,S=3,T=g===xc||g===Tc?-1:1,k=g===Tc||g===wc?(v="x","y"):(v="y","x"),C=g===xc||g===Sc?i:r;return e.scale=function(t){return arguments.length?(m=t,e):m},e.ticks=function(){return y=_c.call(arguments),e},e.tickArguments=function(t){return arguments.length?(y=null==t?[]:_c.call(t),e):y.slice()},e.tickValues=function(t){return arguments.length?(_=null==t?null:_c.call(t),e):_&&_.slice()},e.tickFormat=function(t){return arguments.length?(b=t,e):b},e.tickSize=function(t){return arguments.length?(x=w=+t,e):x},e.tickSizeInner=function(t){return arguments.length?(x=+t,e):x},e.tickSizeOuter=function(t){return arguments.length?(w=+t,e):w},e.tickPadding=function(t){return arguments.length?(S=+t,e):S},e}function a(t){return o(xc,t)}function u(t){return o(wc,t)}function l(t){return o(Sc,t)}function h(t){return o(Tc,t)}function L(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new f(i)}function f(t){this._=t}function d(t,i){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}function p(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function g(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=Cc,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}function m(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===Mc&&t.documentElement.namespaceURI===Mc?t.createElement(n):t.createElementNS(e,n)}}function v(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function y(){return new _}function _(){this._="@"+(++Lc).toString(36)}function b(n,t,e){return n=x(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function x(n,i,r){return function(t){var e=G.event;G.event=t;try{n.call(this,this.__data__,i,r)}finally{G.event=e}}}function w(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function S(o){return function(){var t=this.__on;if(t){for(var e,n=0,i=-1,r=t.length;n<r;++n)e=t[n],o.type&&e.type!==o.type||e.name!==o.name?t[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?t.length=i:delete this.__on}}}function k(u,l,c){var h=Rc.hasOwnProperty(u.type)?b:x;return function(t,e,n){var i,r=this.__on,o=h(l,e,n);if(r)for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===u.type&&i.name===u.name)return this.removeEventListener(i.type,i.listener,i.capture),this.addEventListener(i.type,i.listener=o,i.capture=c),void(i.value=l);this.addEventListener(u.type,o,c),i={type:u.type,name:u.name,value:l,listener:o,capture:c},r?r.push(i):this.__on=[i]}}function D(t,e,n,i){var r=G.event;t.sourceEvent=G.event,G.event=t;try{return e.apply(n,i)}finally{G.event=r}}function C(){}function P(){return[]}function E(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function N(t,e,n,i,r,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new E(t,o[s]);for(;s<u;++s)(a=e[s])&&(r[s]=a)}function I(t,e,n,i,r,o,a){var s,u,l,c={},h=e.length,f=o.length,d=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(d[s]=l=Xc+a.call(u,u.__data__,s,e),l in c?r[s]=u:c[l]=u);for(s=0;s<f;++s)(u=c[l=Xc+a.call(t,o[s],s,o)])?((i[s]=u).__data__=o[s],c[l]=null):n[s]=new E(t,o[s]);for(s=0;s<h;++s)(u=e[s])&&c[d[s]]===u&&(r[s]=u)}function O(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function R(t){return function(){this.removeAttribute(t)}}function F(t){return function(){this.removeAttributeNS(t.space,t.local)}}function z(t,e){return function(){this.setAttribute(t,e)}}function H(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function j(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}function V(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function q(t){return function(){this.style.removeProperty(t)}}function $(t,e,n){return function(){this.style.setProperty(t,e,n)}}function B(e,n,i){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,i)}}function W(t){return function(){delete this[t]}}function U(t,e){return function(){this[t]=e}}function Y(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}function X(t){return t.trim().split(/^|\s+/)}function Q(t){return t.classList||new K(t)}function K(t){this._node=t,this._names=X(t.getAttribute("class")||"")}function Z(t,e){for(var n=Q(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function J(t,e){for(var n=Q(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function tt(t){return function(){Z(this,t)}}function et(t){return function(){J(this,t)}}function nt(t,e){return function(){(e.apply(this,arguments)?Z:J)(this,t)}}function it(){this.textContent=""}function rt(t){return function(){this.textContent=t}}function ot(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function at(){this.innerHTML=""}function st(t){return function(){this.innerHTML=t}}function ut(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function lt(){this.nextSibling&&this.parentNode.appendChild(this)}function ct(){
this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ht(){return null}function ft(){var t=this.parentNode;t&&t.removeChild(this)}function dt(t,e,n){var i=uh(t),r=i.CustomEvent;r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function pt(t,e){return function(){return dt(this,t,e)}}function gt(t,e){return function(){return dt(this,t,e.apply(this,arguments))}}function mt(t,e){this._groups=t,this._parents=e}function vt(){return new mt([[document.documentElement]],xh)}function yt(){G.event.stopImmediatePropagation()}function _t(t,e){var n=t.document.documentElement,i=wh(t).on("dragstart.drag",null);e&&(i.on("click.drag",Ch,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function bt(t,e,n,i,r,o,a,s,u,l){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=l}function xt(){return!G.event.button}function wt(){return this.parentNode}function St(t){return null==t?{x:G.event.x,y:G.event.y}:t}function Tt(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function kt(){}function Ct(t){var e;return t=(t+"").trim().toLowerCase(),(e=Ih.exec(t))?new Lt((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=Oh.exec(t))?Mt(parseInt(e[1],16)):(e=Rh.exec(t))?new Lt(e[1],e[2],e[3],1):(e=Fh.exec(t))?new Lt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=zh.exec(t))?At(e[1],e[2],e[3],e[4]):(e=Hh.exec(t))?At(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=jh.exec(t))?Dt(e[1],e[2]/100,e[3]/100,1):(e=Vh.exec(t))?Dt(e[1],e[2]/100,e[3]/100,e[4]):Gh.hasOwnProperty(t)?Mt(Gh[t]):"transparent"===t?new Lt(NaN,NaN,NaN,0):null}function Mt(t){return new Lt(t>>16&255,t>>8&255,255&t,1)}function At(t,e,n,i){return i<=0&&(t=e=n=NaN),new Lt(t,e,n,i)}function Pt(t){return t instanceof kt||(t=Ct(t)),t?new Lt((t=t.rgb()).r,t.g,t.b,t.opacity):new Lt}function Et(t,e,n,i){return 1===arguments.length?Pt(t):new Lt(t,e,n,null==i?1:i)}function Lt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Dt(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new Ot(t,e,n,i)}function Nt(t){if(t instanceof Ot)return new Ot(t.h,t.s,t.l,t.opacity);if(t instanceof kt||(t=Ct(t)),!t)return new Ot;if(t instanceof Ot)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,s=o-r,u=(o+r)/2;return s?(a=e===o?(n-i)/s+6*(n<i):n===o?(i-e)/s+2:(e-n)/s+4,s/=u<.5?o+r:2-o-r,a*=60):s=0<u&&u<1?0:a,new Ot(a,s,u,t.opacity)}function It(t,e,n,i){return 1===arguments.length?Nt(t):new Ot(t,e,n,null==i?1:i)}function Ot(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Rt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Ft(t){if(t instanceof Ht)return new Ht(t.l,t.a,t.b,t.opacity);if(t instanceof Wt){var e=t.h*qh;return new Ht(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Lt||(t=Pt(t));var n=qt(t.r),i=qt(t.g),r=qt(t.b),o=jt((.4124564*n+.3575761*i+.1804375*r)/Bh),a=jt((.2126729*n+.7151522*i+.072175*r)/Wh);return new Ht(116*a-16,500*(o-a),200*(a-jt((.0193339*n+.119192*i+.9503041*r)/Uh)),t.opacity)}function zt(t,e,n,i){return 1===arguments.length?Ft(t):new Ht(t,e,n,null==i?1:i)}function Ht(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function jt(t){return Kh<t?Math.pow(t,1/3):t/Qh+Yh}function Vt(t){return Xh<t?t*t*t:Qh*(t-Yh)}function Gt(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function qt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function $t(t){if(t instanceof Wt)return new Wt(t.h,t.c,t.l,t.opacity);t instanceof Ht||(t=Ft(t));var e=Math.atan2(t.b,t.a)*$h;return new Wt(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Bt(t,e,n,i){return 1===arguments.length?$t(t):new Wt(t,e,n,null==i?1:i)}function Wt(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function Ut(t){if(t instanceof Xt)return new Xt(t.h,t.s,t.l,t.opacity);t instanceof Lt||(t=Pt(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(af*i+rf*e-of*n)/(af+rf-of),o=i-r,a=(nf*(n-r)-tf*o)/ef,s=Math.sqrt(a*a+o*o)/(nf*r*(1-r)),u=s?Math.atan2(a,o)*$h-120:NaN;return new Xt(u<0?u+360:u,s,r,t.opacity)}function Yt(t,e,n,i){return 1===arguments.length?Ut(t):new Xt(t,e,n,null==i?1:i)}function Xt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Qt(t,e,n,i,r){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*i+a*r)/6}function Kt(e,n){return function(t){return e+t*n}}function Zt(e,n,i){return e=Math.pow(e,i),n=Math.pow(n,i)-e,i=1/i,function(t){return Math.pow(e+t*n,i)}}function Jt(t,e){var n=e-t;return n?Kt(t,180<n||n<-180?n-360*Math.round(n/360):n):gf(isNaN(t)?e:t)}function te(n){return 1==(n=+n)?ee:function(t,e){return e-t?Zt(t,e,n):gf(isNaN(t)?e:t)}}function ee(t,e){var n=e-t;return n?Kt(t,n):gf(isNaN(t)?e:t)}function ne(s){return function(t){var e,n,i=t.length,r=new Array(i),o=new Array(i),a=new Array(i);for(e=0;e<i;++e)n=Et(t[e]),r[e]=n.r||0,o[e]=n.g||0,a[e]=n.b||0;return r=s(r),o=s(o),a=s(a),n.opacity=1,function(t){return n.r=r(t),n.g=o(t),n.b=a(t),n+""}}}function ie(t){return function(){return t}}function re(e){return function(t){return e(t)+""}}function oe(t){return"none"===t?Pf:(sf||(sf=document.createElement("DIV"),uf=document.documentElement,lf=document.defaultView),sf.style.transform=t,t=lf.getComputedStyle(uf.appendChild(sf),null).getPropertyValue("transform"),uf.removeChild(sf),t=t.slice(7,-1).split(","),Ef(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function ae(t){return null==t?Pf:(cf||(cf=document.createElementNS("http://www.w3.org/2000/svg","g")),cf.setAttribute("transform",t),(t=cf.transform.baseVal.consolidate())?(t=t.matrix,Ef(t.a,t.b,t.c,t.d,t.e,t.f)):Pf)}function se(n,s,u,r){function l(t){return t.length?t.pop()+" ":""}function i(t,e,n,i,r,o){if(t!==n||e!==i){var a=r.push("translate(",null,s,null,u);o.push({i:a-4,x:xf(t,n)},{i:a-2,x:xf(e,i)})}else(n||i)&&r.push("translate("+n+s+i+u)}function a(t,e,n,i){t!==e?(180<t-e?e+=360:180<e-t&&(t+=360),i.push({i:n.push(l(n)+"rotate(",null,r)-2,x:xf(t,e)})):e&&n.push(l(n)+"rotate("+e+r)}function c(t,e,n,i){t!==e?i.push({i:n.push(l(n)+"skewX(",null,r)-2,x:xf(t,e)}):e&&n.push(l(n)+"skewX("+e+r)}function h(t,e,n,i,r,o){if(t!==n||e!==i){var a=r.push(l(r)+"scale(",null,",",null,")");o.push({i:a-4,x:xf(t,n)},{i:a-2,x:xf(e,i)})}else 1===n&&1===i||r.push(l(r)+"scale("+n+","+i+")")}return function(t,e){var r=[],o=[];return t=n(t),e=n(e),i(t.translateX,t.translateY,e.translateX,e.translateY,r,o),a(t.rotate,e.rotate,r,o),c(t.skewX,e.skewX,r,o),h(t.scaleX,t.scaleY,e.scaleX,e.scaleY,r,o),t=e=null,function(t){for(var e,n=-1,i=o.length;++n<i;)r[(e=o[n]).i]=e.x(t);return r.join("")}}}function ue(t){return((t=Math.exp(t))+1/t)/2}function le(t){return((t=Math.exp(t))-1/t)/2}function ce(t){return((t=Math.exp(2*t))-1)/(t+1)}function he(a){return function(e,t){var n=a((e=It(e)).h,(t=It(t)).h),i=ee(e.s,t.s),r=ee(e.l,t.l),o=ee(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=i(t),e.l=r(t),e.opacity=o(t),e+""}}}function fe(e,t){var n=ee((e=zt(e)).l,(t=zt(t)).l),i=ee(e.a,t.a),r=ee(e.b,t.b),o=ee(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=i(t),e.b=r(t),e.opacity=o(t),e+""}}function de(a){return function(e,t){var n=a((e=Bt(e)).h,(t=Bt(t)).h),i=ee(e.c,t.c),r=ee(e.l,t.l),o=ee(e.opacity,t.opacity);return function(t){return e.h=n(t),e.c=i(t),e.l=r(t),e.opacity=o(t),e+""}}}function pe(s){return function t(a){function e(e,t){var n=s((e=Yt(e)).h,(t=Yt(t)).h),i=ee(e.s,t.s),r=ee(e.l,t.l),o=ee(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=i(t),e.l=r(Math.pow(t,a)),e.opacity=o(t),e+""}}return a=+a,e.gamma=t,e}(1)}function ge(){return Uf||(Qf(me),Uf=Xf.now()+Yf)}function me(){Uf=0}function ve(){this._call=this._time=this._next=null}function ye(t,e,n){var i=new ve;return i.restart(t,e,n),i}function _e(){ge(),++Gf;for(var t,e=hf;e;)0<=(t=Uf-e._time)&&e._call.call(null,t),e=e._next;--Gf}function be(){Uf=(Wf=Xf.now())+Yf,Gf=qf=0;try{_e()}finally{Gf=0,we(),Uf=0}}function xe(){var t=Xf.now(),e=t-Wf;Bf<e&&(Yf-=e,Wf=t)}function we(){for(var t,e,n=hf,i=1/0;n;)n._call?(i>n._time&&(i=n._time),n=(t=n)._next):(e=n._next,n._next=null,n=t?t._next=e:hf=e);ff=t,Se(i)}function Se(t){if(!Gf){qf&&(qf=clearTimeout(qf));var e=t-Uf;24<e?(t<1/0&&(qf=setTimeout(be,e)),$f&&($f=clearInterval($f))):($f||(Wf=Uf,$f=setInterval(xe,Bf)),Gf=1,Qf(be))}}function Te(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>ed)throw new Error("too late");return n}function ke(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>id)throw new Error("too late");return n}function Ce(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function Me(o,a,s){function t(t){s.state=nd,s.timer.restart(u,s.delay,s.time),s.delay<=t&&u(t-s.delay)}function u(t){var e,n,i,r;if(s.state!==nd)return c();for(e in f)if((r=f[e]).name===s.name){if(r.state===rd)return Kf(u);r.state===od?(r.state=sd,r.timer.stop(),r.on.call("interrupt",o,o.__data__,r.index,r.group),delete f[e]):+e<a&&(r.state=sd,r.timer.stop(),delete f[e])}if(Kf(function(){s.state===rd&&(s.state=od,s.timer.restart(l,s.delay,s.time),l(t))}),s.state=id,s.on.call("start",o,o.__data__,s.index,s.group),s.state===id){for(s.state=rd,h=new Array(i=s.tween.length),e=0,n=-1;e<i;++e)(r=s.tween[e].value.call(o,o.__data__,s.index,s.group))&&(h[++n]=r);h.length=n+1}}function l(t){for(var e=t<s.duration?s.ease.call(null,t/s.duration):(s.timer.restart(c),s.state=ad,1),n=-1,i=h.length;++n<i;)h[n].call(null,e);s.state===ad&&(s.on.call("end",o,o.__data__,s.index,s.group),c())}function c(){for(var t in s.state=sd,s.timer.stop(),delete f[a],f)return;delete o.__transition}var h,f=o.__transition;(f[a]=s).timer=ye(t,0,s.time)}function Ae(r,o){var a,s;return function(){var t=ke(this,r),e=t.tween;if(e!==a)for(var n=0,i=(s=a=e).length;n<i;++n)if(s[n].name===o){(s=s.slice()).splice(n,1);break}t.tween=s}}function Pe(o,a,s){var u,l;if("function"!=typeof s)throw new Error;return function(){var t=ke(this,o),e=t.tween;if(e!==u){l=(u=e).slice();for(var n={name:a,value:s},i=0,r=l.length;i<r;++i)if(l[i].name===a){l[i]=n;break}i===r&&l.push(n)}t.tween=l}}function Ee(t,e,n){var i=t._id;return t.each(function(){var t=ke(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Ce(t,i).value[e]}}function Le(t){return function(){this.removeAttribute(t)}}function De(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ne(e,n,i){var r,o;return function(){var t=this.getAttribute(e);return t===i?null:t===r?o:o=n(r=t,i)}}function Ie(e,n,i){var r,o;return function(){var t=this.getAttributeNS(e.space,e.local);return t===i?null:t===r?o:o=n(r=t,i)}}function Oe(n,i,r){var o,a,s;return function(){var t,e=r(this);return null==e?void this.removeAttribute(n):(t=this.getAttribute(n))===e?null:t===o&&e===a?s:s=i(o=t,a=e)}}function Re(n,i,r){var o,a,s;return function(){var t,e=r(this);return null==e?void this.removeAttributeNS(n.space,n.local):(t=this.getAttributeNS(n.space,n.local))===e?null:t===o&&e===a?s:s=i(o=t,a=e)}}function Fe(i,t){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.setAttributeNS(i.space,i.local,n(t))}}return e._value=t,e}function ze(i,t){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.setAttribute(i,n(t))}}return e._value=t,e}function He(t,e){return function(){Te(this,t).delay=+e.apply(this,arguments)}}function je(t,e){return e=+e,function(){Te(this,t).delay=e}}function Ve(t,e){return function(){ke(this,t).duration=+e.apply(this,arguments)}}function Ge(t,e){return e=+e,function(){ke(this,t).duration=e}}function qe(t,e){if("function"!=typeof e)throw new Error;return function(){ke(this,t).ease=e}}function $e(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})}function Be(n,i,r){var o,a,s=$e(i)?Te:ke;return function(){var t=s(this,n),e=t.on;e!==o&&(a=(o=e).copy()).on(i,r),t.on=a}}function We(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}function Ue(i,r){var o,a,s;return function(){var t=uh(this).getComputedStyle(this,null),e=t.getPropertyValue(i),n=(this.style.removeProperty(i),t.getPropertyValue(i));return e===n?null:e===o&&n===a?s:s=r(o=e,a=n)}}function Ye(t){return function(){this.style.removeProperty(t)}}function Xe(e,n,i){var r,o;return function(){var t=uh(this).getComputedStyle(this,null).getPropertyValue(e);return t===i?null:t===r?o:o=n(r=t,i)}}function Qe(i,r,o){var a,s,u;return function(){var t=uh(this).getComputedStyle(this,null),e=t.getPropertyValue(i),n=o(this);return null==n&&(this.style.removeProperty(i),n=t.getPropertyValue(i)),e===n?null:e===a&&n===s?u:u=r(a=e,s=n)}}function Ke(i,t,r){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.style.setProperty(i,n(t),r)}}return e._value=t,e}function Ze(t){return function(){this.textContent=t}}function Je(e){return function(){var t=e(this);this.textContent=null==t?"":t}}function tn(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function en(t){return vt().transition(t)}function nn(){return++Ed}function rn(t){return+t}function on(t){return t*t}function an(t){return t*(2-t)}function sn(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function un(t){return t*t*t}function ln(t){return--t*t*t+1}function cn(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function hn(t){return 1-Math.cos(t*Rd)}function fn(t){return Math.sin(t*Rd)}function dn(t){return(1-Math.cos(Od*t))/2}function pn(t){return Math.pow(2,10*t-10)}function gn(t){return 1-Math.pow(2,-10*t)}function mn(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function vn(t){return 1-Math.sqrt(1-t*t)}function yn(t){return Math.sqrt(1- --t*t)}function _n(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function bn(t){return 1-xn(1-t)}function xn(t){return(t=+t)<Fd?Wd*t*t:t<Hd?Wd*(t-=zd)*t+jd:t<Gd?Wd*(t-=Vd)*t+qd:Wd*(t-=$d)*t+Bd}function wn(t){return((t*=2)<=1?1-xn(1-t):xn(t-1)+1)/2}function Sn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return tp.time=ge(),tp;return n}function Tn(){G.event.stopImmediatePropagation()}function kn(t){return{type:t}}function Cn(){return!G.event.button}function Mn(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function An(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Pn(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function En(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Ln(){return Nn(hp)}function Dn(){return Nn(fp)}function Nn(F){function e(t){var e=t.property("__brush",r).selectAll(".overlay").data([kn("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",pp.overlay).merge(e).each(function(){var t=An(this).extent;wh(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([kn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",pp.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var n=t.selectAll(".handle").data(F.handles,function(t){return t.type});n.exit().remove(),n.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return pp[t.type]}),t.each(z).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",i)}function z(){var t=wh(this),e=An(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-s/2:e[0][0]-s/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-s/2:e[0][1]-s/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+s:s}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+s:s})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function H(t,e){return t.__brush.emitter||new n(t,e)}function n(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function i(){function t(){var t=jc(y);!E||m||v||(Math.abs(t[0]-D[0])>Math.abs(t[1]-D[1])?v=!0:m=!0),D=t,g=!0,ap(),e()}function e(){var t;switch(d=D[0]-L[0],p=D[1]-L[1],b){case up:case sp:x&&(d=Math.max(C-o,Math.min(A-l,d)),a=o+d,c=l+d),w&&(p=Math.max(M-s,Math.min(P-h,p)),u=s+p,f=h+p);break;case lp:x<0?(d=Math.max(C-o,Math.min(A-o,d)),a=o+d,c=l):0<x&&(d=Math.max(C-l,Math.min(A-l,d)),a=o,c=l+d),w<0?(p=Math.max(M-s,Math.min(P-s,p)),u=s+p,f=h):0<w&&(p=Math.max(M-h,Math.min(P-h,p)),u=s,f=h+p);break;case cp:x&&(a=Math.max(C,Math.min(A,o-d*x)),c=Math.max(C,Math.min(A,l+d*x))),w&&(u=Math.max(M,Math.min(P,s-p*w)),f=Math.max(M,Math.min(P,h+p*w)))}c<a&&(x*=-1,t=o,o=l,l=t,t=a,a=c,c=t,_ in gp&&O.attr("cursor",pp[_=gp[_]])),f<u&&(w*=-1,t=s,s=h,h=t,t=u,u=f,f=t,_ in mp&&O.attr("cursor",pp[_=mp[_]])),S.selection&&(k=S.selection),m&&(a=k[0][0],c=k[1][0]),v&&(u=k[0][1],f=k[1][1]),k[0][0]===a&&k[0][1]===u&&k[1][0]===c&&k[1][1]===f||(S.selection=[[a,u],[c,f]],z.call(y),N.brush())}function n(){if(Tn(),G.event.touches){if(G.event.touches.length)return;j&&clearTimeout(j),j=setTimeout(function(){j=null},500),I.on("touchmove.brush touchend.brush touchcancel.brush",null)}else _t(G.event.view,g),R.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);I.attr("pointer-events","all"),O.attr("cursor",pp.overlay),S.selection&&(k=S.selection),Pn(k)&&(S.selection=null,z.call(y)),N.end()}function i(){switch(G.event.keyCode){case 16:E=x&&w;break;case 18:b===lp&&(x&&(l=c-d*x,o=a+d*x),w&&(h=f-p*w,s=u+p*w),b=cp,e());break;case 32:b!==lp&&b!==cp||(x<0?l=c-d:0<x&&(o=a-d),w<0?h=f-p:0<w&&(s=u-p),b=up,O.attr("cursor",pp.selection),e());break;default:return}ap()}function r(){switch(G.event.keyCode){case 16:E&&(m=v=E=!1,e());break;case 18:b===cp&&(x<0?l=c:0<x&&(o=a),w<0?h=f:0<w&&(s=u),b=lp,e());break;case 32:b===up&&(G.event.altKey?(x&&(l=c-d*x,o=a+d*x),w&&(h=f-p*w,s=u+p*w),b=cp):(x<0?l=c:0<x&&(o=a),w<0?h=f:0<w&&(s=u),b=lp),O.attr("cursor",pp[_]),e());break;default:return}ap()}if(G.event.touches){if(G.event.changedTouches.length<G.event.touches.length)return ap()}else if(j)return;if(V.apply(this,arguments)){var o,a,s,u,l,c,h,f,d,p,g,m,v,y=this,_=G.event.target.__data__.type,b="selection"===(G.event.metaKey?_="overlay":_)?sp:G.event.altKey?cp:lp,x=F===fp?null:vp[_],w=F===hp?null:yp[_],S=An(y),T=S.extent,k=S.selection,C=T[0][0],M=T[0][1],A=T[1][0],P=T[1][1],E=x&&w&&G.event.shiftKey,L=jc(y),D=L,N=H(y,arguments).beforestart();"overlay"===_?S.selection=k=[[o=F===fp?C:L[0],s=F===hp?M:L[1]],[l=F===fp?A:o,h=F===hp?P:s]]:(o=k[0][0],s=k[0][1],l=k[1][0],h=k[1][1]),a=o,u=s,c=l,f=h;var I=wh(y).attr("pointer-events","none"),O=I.selectAll(".overlay").attr("cursor",pp[_]);if(G.event.touches)I.on("touchmove.brush",t,!0).on("touchend.brush touchcancel.brush",n,!0);else{var R=wh(G.event.view).on("keydown.brush",i,!0).on("keyup.brush",r,!0).on("mousemove.brush",t,!0).on("mouseup.brush",n,!0);Mh(G.event.view)}Tn(),ld(y),z.call(y),N.start()}}function r(){var t=this.__brush||{selection:null};return t.extent=o.apply(this,arguments),t.dim=F,t}var j,o=Mn,V=Cn,a=L(e,"start","brush","end"),s=6;return e.move=function(t,s){t.selection?t.on("start.brush",function(){H(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){H(this,arguments).end()}).tween("brush",function(){function t(t){n.selection=1===t&&Pn(o)?null:a(t),z.call(e),i.brush()}var e=this,n=e.__brush,i=H(e,arguments),r=n.selection,o=F.input("function"==typeof s?s.apply(this,arguments):s,n.extent),a=Cf(r,o);return r&&o?t:t(1)}):t.each(function(){var t=this,e=arguments,n=t.__brush,i=F.input("function"==typeof s?s.apply(t,e):s,n.extent),r=H(t,e).beforestart();ld(t),n.selection=null==i||Pn(i)?null:i,z.call(t),r.start().brush().end()})},n.prototype={beforestart:function(){return 1==++this.active&&((this.state.emitter=this).starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){D(new op(e,t,F.output(this.state.selection)),a.apply,a,[t,this.that,this.args])}},e.extent=function(t){return arguments.length?(o="function"==typeof t?t:rp([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):o},e.filter=function(t){return arguments.length?(V="function"==typeof t?t:rp(!!t),e):V},e.handleSize=function(t){return arguments.length?(s=+t,e):s},e.on=function(){var t=a.on.apply(a,arguments);return t===a?e:t},e}function In(n){return function(t,e){return n(t.source.value+t.target.value,e.source.value+e.target.value)}}function On(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Rn(){return new On}function Fn(t){return t.source}function zn(t){return t.target}function Hn(t){return t.radius}function jn(t){return t.startAngle}function Vn(t){return t.endAngle}function Gn(){}function qn(t,e){var n=new Gn;if(t instanceof Gn)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(null==e)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e(i=t[r],r,t),i)}else if(t)for(var a in t)n.set(a,t[a]);return n}function $n(){return{}}function Bn(t,e,n){t[e]=n}function Wn(){return qn()}function Un(t,e,n){t.set(e,n)}function Yn(){}function Xn(t,e){var n=new Yn;if(t instanceof Yn)t.each(function(t){n.add(t)});else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}function Qn(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function Kn(n,i){var r=Qn(n);return function(t,e){return i(r(t),e,n)}}function Zn(t){var n=Object.create(null),i=[];return t.forEach(function(t){for(var e in t)e in n||i.push(n[e]=e)}),i}function Jn(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,a,s,u,l,c,h,f,d=t._root,p={data:i},g=t._x0,m=t._y0,v=t._x1,y=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((l=e>=(o=(g+v)/2))?g=o:v=o,(c=n>=(a=(m+y)/2))?m=a:y=a,!(d=(r=d)[h=c<<1|l]))return r[h]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,r?r[h]=p:t._root=p,t;for(;r=r?r[h]=new Array(4):t._root=new Array(4),(l=e>=(o=(g+v)/2))?g=o:v=o,(c=n>=(a=(m+y)/2))?m=a:y=a,(h=c<<1|l)==(f=(a<=u)<<1|o<=s););return r[f]=d,r[h]=p,t}function ti(t){var e,n,i,r,o=t.length,a=new Array(o),s=new Array(o),u=1/0,l=1/0,c=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||((a[n]=i)<u&&(u=i),c<i&&(c=i),(s[n]=r)<l&&(l=r),h<r&&(h=r));for(c<u&&(u=this._x0,c=this._x1),h<l&&(l=this._y0,h=this._y1),this.cover(u,l).cover(c,h),n=0;n<o;++n)Jn(this,a[n],s[n],t[n]);return this}function ei(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function ni(t){return t[0]}function ii(t){return t[1]}function ri(t,e,n){var i=new oi(null==e?ni:e,null==n?ii:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function oi(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function ai(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}function si(t){return t.x+t.vx}function ui(t){return t.y+t.vy}function li(t){return t.index}function ci(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function hi(t){return t.x}function fi(t){return t.y}function di(t){return new pi(t)}function pi(t){if(!(e=Mg.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",i=e[2]||">",r=e[3]||"-",o=e[4]||"",a=!!e[5],s=e[6]&&+e[6],u=!!e[7],l=e[8]&&+e[8].slice(1),c=e[9]||"";"n"===c?(u=!0,c="g"):Cg[c]||(c=""),(a||"0"===n&&"="===i)&&(a=!0,n="0",i="="),this.fill=n,this.align=i,this.sign=r,this.symbol=o,this.zero=a,this.width=s,this.comma=u,this.precision=l,this.type=c}function gi(t){return Ag=Lg(t),G.format=Ag.format,G.formatPrefix=Ag.formatPrefix,Ag}function mi(){this.reset()}function vi(t,e,n){var i=t.s=e+n,r=i-e,o=i-r;t.t=e-o+(n-r)}function yi(t){return 1<t?0:t<-1?gm:Math.acos(t)}function _i(t){return 1<t?mm:t<-1?-mm:Math.asin(t)}function bi(t){return(t=Pm(t/2))*t}function xi(){}function wi(t,e){t&&Im.hasOwnProperty(t.type)&&Im[t.type](t,e)}function Si(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function Ti(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)Si(t[n],e,1);e.polygonEnd()}function ki(){zm.point=Mi}function Ci(){Ai(Rg,Fg)}function Mi(t,e){zm.point=Ai,Rg=t,Fg=e,zg=t*=bm,Hg=Tm(e=(e*=bm)/2+vm),jg=Pm(e)}function Ai(t,e){var n=(t*=bm)-zg,i=0<=n?1:-1,r=i*n,o=Tm(e=(e*=bm)/2+vm),a=Pm(e),s=jg*a,u=Hg*o+s*Tm(r),l=s*i*Pm(r);Rm.add(Sm(l,u)),zg=t,Hg=o,jg=a}function Pi(t){return[Sm(t[1],t[0]),_i(t[2])]}function Ei(t){var e=t[0],n=t[1],i=Tm(n);return[i*Tm(e),i*Pm(e),Pm(n)]}function Li(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Di(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ni(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ii(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Oi(t){var e=Lm(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Ri(t,e){Xg.push(Qg=[Vg=t,qg=t]),e<Gg&&(Gg=e),$g<e&&($g=e)}function Fi(t,e){var n=Ei([t*bm,e*bm]);if(Yg){var i=Di(Yg,n),r=Di([i[1],-i[0],0],i);Oi(r),r=Pi(r);var o,a=t-Bg,s=0<a?1:-1,u=r[0]*_m*s,l=180<xm(a);l^(s*Bg<u&&u<s*t)?(o=r[1]*_m)>$g&&($g=o):l^(s*Bg<(u=(u+360)%360-180)&&u<s*t)?(o=-r[1]*_m)<Gg&&(Gg=o):(e<Gg&&(Gg=e),$g<e&&($g=e)),l?t<Bg?qi(Vg,t)>qi(Vg,qg)&&(qg=t):qi(t,qg)>qi(Vg,qg)&&(Vg=t):Vg<=qg?(t<Vg&&(Vg=t),qg<t&&(qg=t)):Bg<t?qi(Vg,t)>qi(Vg,qg)&&(qg=t):qi(t,qg)>qi(Vg,qg)&&(Vg=t)}else Xg.push(Qg=[Vg=t,qg=t]);e<Gg&&(Gg=e),$g<e&&($g=e),Yg=n,Bg=t}function zi(){Vm.point=Fi}function Hi(){Qg[0]=Vg,Qg[1]=qg,Vm.point=Ri,Yg=null}function ji(t,e){if(Yg){var n=t-Bg;jm.add(180<xm(n)?n+(0<n?360:-360):n)}else Wg=t,Ug=e;zm.point(t,e),Fi(t,e)}function Vi(){zm.lineStart()}function Gi(){ji(Wg,Ug),zm.lineEnd(),xm(jm)>pm&&(Vg=-(qg=180)),Qg[0]=Vg,Qg[1]=qg,Yg=null}function qi(t,e){return(e-=t)<0?e+360:e}function $i(t,e){return t[0]-e[0]}function Bi(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function Wi(t,e){t*=bm;var n=Tm(e*=bm);Ui(n*Tm(t),n*Pm(t),Pm(e))}function Ui(t,e,n){Jg+=(t-Jg)/++Kg,tm+=(e-tm)/Kg,em+=(n-em)/Kg}function Yi(){qm.point=Xi}function Xi(t,e){t*=bm;var n=Tm(e*=bm);cm=n*Tm(t),hm=n*Pm(t),fm=Pm(e),qm.point=Qi,Ui(cm,hm,fm)}function Qi(t,e){t*=bm;var n=Tm(e*=bm),i=n*Tm(t),r=n*Pm(t),o=Pm(e),a=Sm(Lm((a=hm*o-fm*r)*a+(a=fm*i-cm*o)*a+(a=cm*r-hm*i)*a),cm*i+hm*r+fm*o);Zg+=a,nm+=a*(cm+(cm=i)),im+=a*(hm+(hm=r)),rm+=a*(fm+(fm=o)),Ui(cm,hm,fm)}function Ki(){qm.point=Wi}function Zi(){qm.point=tr}function Ji(){er(um,lm),qm.point=Wi}function tr(t,e){um=t,lm=e,t*=bm,e*=bm,qm.point=er;var n=Tm(e);cm=n*Tm(t),hm=n*Pm(t),fm=Pm(e),Ui(cm,hm,fm)}function er(t,e){t*=bm;var n=Tm(e*=bm),i=n*Tm(t),r=n*Pm(t),o=Pm(e),a=hm*o-fm*r,s=fm*i-cm*o,u=cm*r-hm*i,l=Lm(a*a+s*s+u*u),c=_i(l),h=l&&-c/l;om+=h*a,am+=h*s,sm+=h*u,Zg+=c,nm+=c*(cm+(cm=i)),im+=c*(hm+(hm=r)),rm+=c*(fm+(fm=o)),Ui(cm,hm,fm)}function nr(t,e){return[gm<t?t-ym:t<-gm?t+ym:t,e]}function ir(t,e,n){return(t%=ym)?e||n?Wm(or(t),ar(e,n)):or(t):e||n?ar(e,n):nr}function rr(n){return function(t,e){return[gm<(t+=n)?t-ym:t<-gm?t+ym:t,e]}}function or(t){var e=rr(t);return e.invert=rr(-t),e}function ar(t,e){function n(t,e){var n=Tm(e),i=Tm(t)*n,r=Pm(t)*n,o=Pm(e),a=o*s+i*u;return[Sm(r*l-a*c,i*s-o*u),_i(a*l+r*c)]}var s=Tm(t),u=Pm(t),l=Tm(e),c=Pm(e);return n.invert=function(t,e){var n=Tm(e),i=Tm(t)*n,r=Pm(t)*n,o=Pm(e),a=o*l-r*c;return[Sm(r*l+o*c,i*s+a*u),_i(a*s-i*u)]},n}function sr(t,e,n,i,r,o){if(n){var a=Tm(e),s=Pm(e),u=i*n;null==r?(r=e+i*ym,o=e-u/2):(r=ur(a,r),o=ur(a,o),(0<i?r<o:o<r)&&(r+=i*ym));for(var l,c=r;0<i?o<c:c<o;c-=u)l=Pi([a,-s*Tm(c),-s*Pm(c)]),t.point(l[0],l[1])}}function ur(t,e){(e=Ei(e))[0]-=t,Oi(e);var n=yi(-e[1]);return((-e[2]<0?-n:n)+ym-pm)%ym}function lr(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function cr(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function hr(w,S,T,k){function C(t,e){return w<=t&&t<=T&&S<=e&&e<=k}function M(t,e,n,i){var r=0,o=0;if(null==t||(r=a(t,n))!==(o=a(e,n))||s(t,e)<0^0<n)for(;i.point(0===r||3===r?w:T,1<r?k:S),(r=(r+n+4)%4)!==o;);else i.point(e[0],e[1])}function a(t,e){return xm(t[0]-w)<pm?0<e?0:3:xm(t[0]-T)<pm?0<e?2:1:xm(t[1]-S)<pm?0<e?1:0:0<e?3:2}function A(t,e){return s(t.x,e.x)}function s(t,e){var n=a(t,1),i=a(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(i){function t(t,e){C(t,e)&&_.point(t,e)}function r(){for(var t=0,e=0,n=h.length;e<n;++e)for(var i,r,o=h[e],a=1,s=o.length,u=o[0],l=u[0],c=u[1];a<s;++a)i=l,r=c,l=(u=o[a])[0],c=u[1],r<=k?k<c&&(c-r)*(w-i)<(l-i)*(k-r)&&++t:c<=k&&(l-i)*(k-r)<(c-r)*(w-i)&&--t;return t}function e(){_=b,u=[],h=[],y=!0}function n(){var t=r(),e=y&&t,n=(u=hc(u)).length;(e||n)&&(i.polygonStart(),e&&(i.lineStart(),M(null,null,1,i),i.lineEnd()),n&&lv(u,A,t,M,i),i.polygonEnd()),_=i,u=h=l=null}function o(){x.point=s,h&&h.push(l=[]),m=!(v=!0),p=g=NaN}function a(){u&&(s(c,f),d&&m&&b.rejoin(),u.push(b.result())),x.point=t,m&&_.lineEnd()}function s(t,e){var n=C(t,e);if(h&&l.push([t,e]),v)c=t,f=e,v=!1,(d=n)&&(_.lineStart(),_.point(t,e));else if(n&&m)_.point(t,e);else{var i=[p=Math.max(hv,Math.min(cv,p)),g=Math.max(hv,Math.min(cv,g))],r=[t=Math.max(hv,Math.min(cv,t)),e=Math.max(hv,Math.min(cv,e))];sv(i,r,w,S,T,k)?(m||(_.lineStart(),_.point(i[0],i[1])),_.point(r[0],r[1]),n||_.lineEnd(),y=!1):n&&(_.lineStart(),_.point(t,e),y=!1)}p=t,g=e,m=n}var u,h,l,c,f,d,p,g,m,v,y,_=i,b=av(),x={point:t,lineStart:o,lineEnd:a,polygonStart:e,polygonEnd:n};return x}}function fr(){mv.point=pr,mv.lineEnd=dr}function dr(){mv.point=mv.lineEnd=xi}function pr(t,e){Um=t*=bm,Ym=Pm(e*=bm),Xm=Tm(e),mv.point=gr}function gr(t,e){t*=bm;var n=Pm(e*=bm),i=Tm(e),r=xm(t-Um),o=Tm(r),a=i*Pm(r),s=Xm*n-Ym*i*o,u=Ym*n+Xm*i*o;gv.add(Sm(Lm(a*a+s*s),u)),Um=t,Ym=n,Xm=i}function mr(t,e){return!(!t||!wv.hasOwnProperty(t.type))&&wv[t.type](t,e)}function vr(t,e){return 0===bv(t,e)}function yr(t,e){var n=bv(t[0],t[1]);return bv(t[0],e)+bv(e,t[1])<=n+pm}function _r(t,e){return!!pv(t.map(br),xr(e))}function br(t){return(t=t.map(xr)).pop(),t}function xr(t){return[t[0]*bm,t[1]*bm]}function wr(t,e,n){var i=Zl(t,e-pm,n).concat(e);return function(e){return i.map(function(t){return[e,t]})}}function Sr(t,e,n){var i=Zl(t,e-pm,n).concat(e);return function(e){return i.map(function(t){return[t,e]})}}function Tr(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return Zl(km(o/m)*m,r,m).map(f).concat(Zl(km(l/v)*v,u,v).map(d)).concat(Zl(km(i/p)*p,n,p).filter(function(t){return xm(t%m)>pm}).map(c)).concat(Zl(km(s/g)*g,a,g).filter(function(t){return xm(t%v)>pm}).map(h))}var n,i,r,o,a,s,u,l,c,h,f,d,p=10,g=p,m=90,v=360,y=2.5;return e.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},e.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(d(u).slice(1),f(r).reverse().slice(1),d(l).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.extentMajor(t).extentMinor(t):e.extentMinor()},e.extentMajor=function(t){return arguments.length?(o=+t[0][0],r=+t[1][0],l=+t[0][1],u=+t[1][1],r<o&&(t=o,o=r,r=t),u<l&&(t=l,l=u,u=t),e.precision(y)):[[o,l],[r,u]]},e.extentMinor=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],n<i&&(t=i,i=n,n=t),a<s&&(t=s,s=a,a=t),e.precision(y)):[[i,s],[n,a]]},e.step=function(t){return arguments.length?e.stepMajor(t).stepMinor(t):e.stepMinor()},e.stepMajor=function(t){return arguments.length?(m=+t[0],v=+t[1],e):[m,v]},e.stepMinor=function(t){return arguments.length?(p=+t[0],g=+t[1],e):[p,g]},e.precision=function(t){return arguments.length?(y=+t,c=wr(s,a,90),h=Sr(i,n,y),f=wr(l,u,90),d=Sr(o,r,y),e):y},e.extentMajor([[-180,-90+pm],[180,90-pm]]).extentMinor([[-180,-80-pm],[180,80+pm]])}function kr(){return Tr()()}function Cr(){Av.point=Mr}function Mr(t,e){Av.point=Ar,Qm=Zm=t,Km=Jm=e}function Ar(t,e){Mv.add(Jm*t-Zm*e),Zm=t,Jm=e}function Pr(){Ar(Qm,Km)}function Er(t,e){t<Pv&&(Pv=t),Lv<t&&(Lv=t),e<Ev&&(Ev=e),Dv<e&&(Dv=e)}function Lr(t,e){Iv+=t,Ov+=e,++Rv}function Dr(){qv.point=Nr}function Nr(t,e){qv.point=Ir,Lr(nv=t,iv=e)}function Ir(t,e){var n=t-nv,i=e-iv,r=Lm(n*n+i*i);Fv+=r*(nv+t)/2,zv+=r*(iv+e)/2,Hv+=r,
Lr(nv=t,iv=e)}function Or(){qv.point=Lr}function Rr(){qv.point=zr}function Fr(){Hr(tv,ev)}function zr(t,e){qv.point=Hr,Lr(tv=nv=t,ev=iv=e)}function Hr(t,e){var n=t-nv,i=e-iv,r=Lm(n*n+i*i);Fv+=r*(nv+t)/2,zv+=r*(iv+e)/2,Hv+=r,jv+=(r=iv*t-nv*e)*(nv+t),Vv+=r*(iv+e),Gv+=3*r,Lr(nv=t,iv=e)}function jr(t){this._context=t}function Vr(t,e){Qv.point=Gr,Bv=Uv=t,Wv=Yv=e}function Gr(t,e){Uv-=t,Yv-=e,Xv.add(Lm(Uv*Uv+Yv*Yv)),Uv=t,Yv=e}function qr(){this._string=[]}function $r(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Br(t){return 1<t.length}function Wr(t,e){return((t=t.x)[0]<0?t[1]-mm-pm:mm-t[1])-((e=e.x)[0]<0?e[1]-mm-pm:mm-e[1])}function Ur(r){var o,a=NaN,s=NaN,u=NaN;return{lineStart:function(){r.lineStart(),o=1},point:function(t,e){var n=0<t?gm:-gm,i=xm(t-a);xm(i-gm)<pm?(r.point(a,s=0<(s+e)/2?mm:-mm),r.point(u,s),r.lineEnd(),r.lineStart(),r.point(n,s),r.point(t,s),o=0):u!==n&&gm<=i&&(xm(a-u)<pm&&(a-=u*pm),xm(t-n)<pm&&(t-=n*pm),s=Yr(a,s,t,e),r.point(u,s),r.lineEnd(),r.lineStart(),r.point(n,s),o=0),r.point(a=t,s=e),u=n},lineEnd:function(){r.lineEnd(),a=s=NaN},clean:function(){return 2-o}}}function Yr(t,e,n,i){var r,o,a=Pm(t-n);return xm(a)>pm?wm((Pm(e)*(o=Tm(i))*Pm(n)-Pm(i)*(r=Tm(e))*Pm(t))/(r*o*a)):(e+i)/2}function Xr(t,e,n,i){var r;if(null==t)r=n*mm,i.point(-gm,r),i.point(0,r),i.point(gm,r),i.point(gm,0),i.point(gm,-r),i.point(0,-r),i.point(-gm,-r),i.point(-gm,0),i.point(-gm,r);else if(xm(t[0]-e[0])>pm){var o=t[0]<e[0]?gm:-gm;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}function Qr(i){return function(t){var e=new Kr;for(var n in i)e[n]=i[n];return e.stream=t,e}}function Kr(){}function Zr(t,e,n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),Om(n,t.stream(Nv));var a=Nv.result(),s=Math.min(i/(a[1][0]-a[0][0]),r/(a[1][1]-a[0][1])),u=+e[0][0]+(i-s*(a[1][0]+a[0][0]))/2,l=+e[0][1]+(r-s*(a[1][1]+a[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*s).translate([u,l])}function Jr(t,e,n){return Zr(t,[[0,0],e],n)}function to(n){return Qr({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}function eo(P,E){function L(t,e,n,i,r,o,a,s,u,l,c,h,f,d){var p=a-t,g=s-e,m=p*p+g*g;if(4*E<m&&f--){var v=i+l,y=r+c,_=o+h,b=Lm(v*v+y*y+_*_),x=_i(_/=b),w=xm(xm(_)-1)<pm||xm(n-u)<pm?(n+u)/2:Sm(y,v),S=P(w,x),T=S[0],k=S[1],C=T-t,M=k-e,A=g*C-p*M;(E<A*A/m||.3<xm((p*C+g*M)/m-.5)||i*l+r*c+o*h<iy)&&(L(t,e,n,i,r,o,T,k,w,v/=b,y/=b,_,f,d),d.point(T,k),L(T,k,w,v,y,_,a,s,u,l,c,h,f,d))}}return function(r){function t(t,e){t=P(t,e),r.point(t[0],t[1])}function e(){g=NaN,b.point=n,r.lineStart()}function n(t,e){var n=Ei([t,e]),i=P(t,e);L(g,m,p,v,y,_,g=i[0],m=i[1],p=t,v=n[0],y=n[1],_=n[2],ny,r),r.point(g,m)}function i(){b.point=t,r.lineEnd()}function o(){e(),b.point=a,b.lineEnd=s}function a(t,e){n(u=t,e),l=g,c=m,h=v,f=y,d=_,b.point=n}function s(){L(g,m,p,v,y,_,l,c,u,h,f,d,ny,r),(b.lineEnd=i)()}var u,l,c,h,f,d,p,g,m,v,y,_,b={point:t,lineStart:e,lineEnd:i,polygonStart:function(){r.polygonStart(),b.lineStart=o},polygonEnd:function(){r.polygonEnd(),b.lineStart=e}};return b}}function no(t){return io(function(){return t})()}function io(t){function n(t){return[(t=c(t[0]*bm,t[1]*bm))[0]*m+s,u-t[1]*m]}function e(t){return(t=c.invert((t[0]-s)/m,(u-t[1])/m))&&[t[0]*_m,t[1]*_m]}function i(t,e){return[(t=a(t,e))[0]*m+s,u-t[1]*m]}function r(){c=Wm(l=ir(x,w,S),a);var t=a(_,b);return s=v-t[0]*m,u=y+t[1]*m,o()}function o(){return p=g=null,n}var a,s,u,l,c,h,f,d,p,g,m=150,v=480,y=250,_=0,b=0,x=0,w=0,S=0,T=null,k=Jv,C=null,M=kv,A=.5,P=ry(i,A);return n.stream=function(t){return p&&g===t?p:p=oy(k(l,P(M(g=t))))},n.clipAngle=function(t){return arguments.length?(k=+t?ty(T=t*bm,6*bm):(T=null,Jv),o()):T*_m},n.clipExtent=function(t){return arguments.length?(M=null==t?(C=h=f=d=null,kv):hr(C=+t[0][0],h=+t[0][1],f=+t[1][0],d=+t[1][1]),o()):null==C?null:[[C,h],[f,d]]},n.scale=function(t){return arguments.length?(m=+t,r()):m},n.translate=function(t){return arguments.length?(v=+t[0],y=+t[1],r()):[v,y]},n.center=function(t){return arguments.length?(_=t[0]%360*bm,b=t[1]%360*bm,r()):[_*_m,b*_m]},n.rotate=function(t){return arguments.length?(x=t[0]%360*bm,w=t[1]%360*bm,S=2<t.length?t[2]%360*bm:0,r()):[x*_m,w*_m,S*_m]},n.precision=function(t){return arguments.length?(P=ry(i,A=t*t),o()):Lm(A)},n.fitExtent=function(t,e){return Zr(n,t,e)},n.fitSize=function(t,e){return Jr(n,t,e)},function(){return a=t.apply(this,arguments),n.invert=a.invert&&e,r()}}function ro(t){var e=0,n=gm/3,i=io(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*bm,n=t[1]*bm):[e*_m,n*_m]},r}function oo(t){function e(t,e){return[t*n,Pm(e)/n]}var n=Tm(t);return e.invert=function(t,e){return[t/n,_i(e*n)]},e}function ao(t,e){function n(t,e){var n=Lm(o-2*r*Pm(e))/r;return[n*Pm(t*=r),a-n*Tm(t)]}var i=Pm(t),r=(i+Pm(e))/2;if(xm(r)<pm)return oo(t);var o=1+i*(2*r-i),a=Lm(o)/r;return n.invert=function(t,e){var n=a-e;return[Sm(t,xm(n))/r*Em(n),_i((o-(t*t+n*n)*r*r)/(2*r))]},n}function so(i){var r=i.length;return{point:function(t,e){for(var n=-1;++n<r;)i[n].point(t,e)},sphere:function(){for(var t=-1;++t<r;)i[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)i[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)i[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)i[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)i[t].polygonEnd()}}}function uo(o){return function(t,e){var n=Tm(t),i=Tm(e),r=o(n*i);return[r*i*Pm(t),r*Pm(e)]}}function lo(o){return function(t,e){var n=Lm(t*t+e*e),i=o(n),r=Pm(i);return[Sm(t*r,n*Tm(i)),_i(n&&e*r/n)]}}function co(t,e){return[t,Mm(Dm((mm+e)/2))]}function ho(t){function e(){var t=gm*s(),e=o([0,0]);return l(null==c?[[e[0]-t,e[1]-t],[e[0]+t,e[1]+t]]:[[Math.max(e[0]-t,c),n],[Math.min(e[0]+t,i),r]])}var n,i,r,o=no(t),a=o.center,s=o.scale,u=o.translate,l=o.clipExtent,c=null;return o.center=function(t){return arguments.length?(a(t),e()):a()},o.scale=function(t){return arguments.length?(s(t),e()):s()},o.translate=function(t){return arguments.length?(u(t),e()):u()},o.clipExtent=function(t){return arguments.length?(null==t?c=n=i=r=null:(c=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),e()):null==c?null:[[c,n],[i,r]]},e()}function fo(t){return Dm((mm+t)/2)}function po(t,e){function n(t,e){0<o?e<-mm+pm&&(e=-mm+pm):mm-pm<e&&(e=mm-pm);var n=o/Am(fo(e),r);return[n*Pm(r*t),o-n*Tm(r*t)]}var i=Tm(t),r=t===e?Pm(t):Mm(i/Tm(e))/Mm(fo(e)/fo(t)),o=i*Am(fo(t),r)/r;return r?(n.invert=function(t,e){var n=o-e,i=Em(r)*Lm(t*t+n*n);return[Sm(t,xm(n))/r*Em(n),2*wm(Am(o/i,1/r))-mm]},n):co}function go(t,e){return[t,e]}function mo(t,e){function n(t,e){var n=o-e,i=r*t;return[n*Pm(i),o-n*Tm(i)]}var i=Tm(t),r=t===e?Pm(t):(i-Tm(e))/(e-t),o=i/r+t;return xm(r)<pm?go:(n.invert=function(t,e){var n=o-e;return[Sm(t,xm(n))/r*Em(n),o-Em(r)*Lm(t*t+n*n)]},n)}function vo(t,e){var n=Tm(e),i=Tm(t)*n;return[n*Pm(t)/i,Pm(e)/i]}function yo(n,i,r,o){return 1===n&&1===i&&0===r&&0===o?kv:Qr({point:function(t,e){this.stream.point(t*n+r,e*i+o)}})}function _o(t,e){return[Tm(e)*Pm(t),Pm(e)]}function bo(t,e){var n=Tm(e),i=1+Tm(t)*n;return[n*Pm(t)/i,Pm(e)/i]}function xo(t,e){return[Mm(Dm((mm+e)/2)),-t]}function wo(t,e){return t.parent===e.parent?1:2}function So(t){return t.reduce(To,0)/t.length}function To(t,e){return t+e.x}function ko(t){return 1+t.reduce(Co,0)}function Co(t,e){return Math.max(t,e.y)}function Mo(t){for(var e;e=t.children;)t=e[0];return t}function Ao(t){for(var e;e=t.children;)t=e[e.length-1];return t}function Po(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;0<=--i;)e+=n[i].value;else e=1;t.value=e}function Eo(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;for(t=n.pop(),e=i.pop();t===e;)r=t,t=n.pop(),e=i.pop();return r}function Lo(t,e){var n,i,r,o,a,s=new Ro(t),u=+t.value&&(s.value=t.value),l=[s];for(null==e&&(e=No);n=l.pop();)if(u&&(n.value=+n.data.value),(r=e(n.data))&&(a=r.length))for(n.children=new Array(a),o=a-1;0<=o;--o)l.push(i=n.children[o]=new Ro(r[o])),i.parent=n,i.depth=n.depth+1;return s.eachBefore(Oo)}function Do(){return Lo(this).eachBefore(Io)}function No(t){return t.children}function Io(t){t.data=t.data.data}function Oo(t){for(var e=0;t.height=e,(t=t.parent)&&t.height<++e;);}function Ro(t){this.data=t,this.depth=this.height=0,this.parent=null}function Fo(t){this._=t,this.next=null}function zo(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r-e.r;return n*n+i*i<r*r+1e-6}function Ho(t,e){var n,i,r,o=null,a=t.head;switch(e.length){case 1:n=jo(e[0]);break;case 2:n=Vo(e[0],e[1]);break;case 3:n=Go(e[0],e[1],e[2])}for(;a;)r=a._,i=a.next,n&&zo(n,r)?o=a:(o?(t.tail=o).next=null:t.head=t.tail=null,e.push(r),n=Ho(t,e),e.pop(),t.head?(a.next=t.head,t.head=a):(a.next=null,t.head=t.tail=a),(o=t.tail).next=i),a=i;return t.tail=o,n}function jo(t){return{x:t.x,y:t.y,r:t.r}}function Vo(t,e){var n=t.x,i=t.y,r=t.r,o=e.x,a=e.y,s=e.r,u=o-n,l=a-i,c=s-r,h=Math.sqrt(u*u+l*l);return{x:(n+o+u/h*c)/2,y:(i+a+l/h*c)/2,r:(h+r+s)/2}}function Go(t,e,n){var i=t.x,r=t.y,o=t.r,a=e.x,s=e.y,u=e.r,l=n.x,c=n.y,h=n.r,f=2*(i-a),d=2*(r-s),p=2*(u-o),g=i*i+r*r-o*o-a*a-s*s+u*u,m=2*(i-l),v=2*(r-c),y=2*(h-o),_=i*i+r*r-o*o-l*l-c*c+h*h,b=m*d-f*v,x=(d*_-v*g)/b-i,w=(v*p-d*y)/b,S=(m*g-f*_)/b-r,T=(f*y-m*p)/b,k=w*w+T*T-1,C=2*(x*w+S*T+o),M=x*x+S*S-o*o,A=(-C-Math.sqrt(C*C-4*k*M))/(2*k);return{x:x+w*A+i,y:S+T*A+r,r:A}}function qo(t,e,n){var i=t.x,r=t.y,o=e.r+n.r,a=t.r+n.r,s=e.x-i,u=e.y-r,l=s*s+u*u;if(l){var c=.5+((a*=a)-(o*=o))/(2*l),h=Math.sqrt(Math.max(0,2*o*(a+l)-(a-=l)*a-o*o))/(2*l);n.x=i+c*s+h*u,n.y=r+c*u-h*s}else n.x=i+a,n.y=r}function $o(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return n*n+i*i<r*r-1e-6}function Bo(t,e,n){var i=t._,r=t.next._,o=i.r+r.r,a=(i.x*r.r+r.x*i.r)/o-e,s=(i.y*r.r+r.y*i.r)/o-n;return a*a+s*s}function Wo(t){this._=t,this.next=null,this.previous=null}function Uo(t){if(!(r=t.length))return 0;var e,n,i,r;if((e=t[0]).x=0,e.y=0,!(1<r))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(2<r))return e.r+n.r;qo(n,e,i=t[2]);var o,a,s,u,l,c,h,f=e.r*e.r,d=n.r*n.r,p=i.r*i.r,g=f+d+p,m=f*e.x+d*n.x+p*i.x,v=f*e.y+d*n.y+p*i.y;e=new Wo(e),n=new Wo(n),i=new Wo(i),e.next=i.previous=n,n.next=e.previous=i,i.next=n.previous=e;t:for(s=3;s<r;++s){qo(e._,n._,i=t[s]),i=new Wo(i),u=n.next,l=e.previous,c=n._.r,h=e._.r;do{if(c<=h){if($o(u._,i._)){n=u,(e.next=n).previous=e,--s;continue t}c+=u._.r,u=u.next}else{if($o(l._,i._)){((e=l).next=n).previous=e,--s;continue t}h+=l._.r,l=l.previous}}while(u!==l.next);for(i.previous=e,i.next=n,e.next=n.previous=n=i,g+=p=i._.r*i._.r,f=Bo(e,o=(m+=p*i._.x)/g,a=(v+=p*i._.y)/g);(i=i.next)!==n;)(p=Bo(i,o,a))<f&&(e=i,f=p);n=e.next}for(e=[n._],i=n;(i=i.next)!==n;)e.push(i._);for(i=Oy(e),s=0;s<r;++s)(e=t[s]).x-=i.x,e.y-=i.y;return i.r}function Yo(t){return null==t?null:Xo(t)}function Xo(t){if("function"!=typeof t)throw new Error;return t}function Qo(){return 0}function Ko(t){return Math.sqrt(t.value)}function Zo(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Jo(a,s){return function(t){if(e=t.children){var e,n,i,r=e.length,o=a(t)*s||0;if(o)for(n=0;n<r;++n)e[n].r+=o;if(i=Uo(e),o)for(n=0;n<r;++n)e[n].r-=o;t.r=i+o}}}function ta(n){return function(t){var e=t.parent;t.r*=n,e&&(t.x=e.x+n*t.x,t.y=e.y+n*t.y)}}function ea(t){return t.id}function na(t){return t.parentId}function ia(t,e){return t.parent===e.parent?1:2}function ra(t){var e=t.children;return e?e[0]:t.t}function oa(t){var e=t.children;return e?e[e.length-1]:t.t}function aa(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function sa(t){for(var e,n=0,i=0,r=t.children,o=r.length;0<=--o;)(e=r[o]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}function ua(t,e,n){return t.a.parent===e.parent?t.a:n}function la(t,e){this._=t,this.parent=null,this.children=null,this.A=null,(this.a=this).z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function ca(t){for(var e,n,i,r,o,a=new la(t,0),s=[a];e=s.pop();)if(i=e._.children)for(e.children=new Array(o=i.length),r=o-1;0<=r;--r)s.push(n=e.children[r]=new la(i[r],r)),n.parent=e;return(a.parent=new la(null,0)).children=[a],a}function ha(t,e,n,i,r,o){for(var a,s,u,l,c,h,f,d,p,g,m,v=[],y=e.children,_=0,b=0,x=y.length,w=e.value;_<x;){for(u=r-n,l=o-i;!(c=y[b++].value)&&b<x;);for(h=f=c,m=c*c*(g=Math.max(l/u,u/l)/(w*t)),p=Math.max(f/m,m/h);b<x;++b){if(c+=s=y[b].value,s<h&&(h=s),f<s&&(f=s),m=c*c*g,(d=Math.max(f/m,m/h))>p){c-=s;break}p=d}v.push(a={value:c,dice:u<l,children:y.slice(_,b)}),a.dice?jy(a,n,i,r,w?i+=l*c/w:o):Uy(a,n,i,w?n+=u*c/w:r,o),w-=c,_=b}return v}function fa(t,e){return t[0]-e[0]||t[1]-e[1]}function da(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;++r){for(;1<i&&n_(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function pa(t){if(!(1<=t))throw new Error;this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function ga(t){if(!t._start)try{ma(t)}catch(n){if(t._tasks[t._ended+t._active-1])ya(t,n);else if(!t._data)throw n}}function ma(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],i=n.length-1,r=n[i];n[i]=va(t,e),--t._waiting,++t._active,n=r.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||s_)}}function va(n,i){return function(t,e){n._tasks[i]&&(--n._active,++n._ended,(n._tasks[i]=null)==n._error&&(null!=t?ya(n,t):(n._data[i]=e,n._waiting?ga(n):_a(n))))}}function ya(t,e){var n,i=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;0<=--i;)if((n=t._tasks[i])&&(t._tasks[i]=null,n.abort))try{n.abort()}catch(t){}t._active=NaN,_a(t)}function _a(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function ba(t){return new pa(arguments.length?+t:1/0)}function xa(n){return function(t,e){n(null==t?e:null)}}function wa(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Sa(e,n){return function(t){return e(t.responseText,n)}}function Ta(i){function o(t){var e=t+"",n=a.get(e);if(!n){if(r!==C_)return r;a.set(e,n=s.push(t))}return i[(n-1)%i.length]}var a=qn(),s=[],r=C_;return i=null==i?[]:k_.call(i),o.domain=function(t){if(!arguments.length)return s.slice();s=[],a=qn();for(var e,n,i=-1,r=t.length;++i<r;)a.has(n=(e=t[i])+"")||a.set(n,s.push(e));return o},o.range=function(t){return arguments.length?(i=k_.call(t),o):i.slice()},o.unknown=function(t){return arguments.length?(r=t,o):r},o.copy=function(){return Ta().domain(s).range(i).unknown(r)},o}function ka(){function e(){var t=s().length,e=l[1]<l[0],n=l[e-0],i=l[1-e];o=(i-n)/Math.max(1,t-h+2*f),c&&(o=Math.floor(o)),n+=(i-n-o*(t-h))*d,a=o*(1-h),c&&(n=Math.round(n),a=Math.round(a));var r=Zl(t).map(function(t){return n+o*t});return u(e?r.reverse():r)}var o,a,t=Ta().unknown(void 0),s=t.domain,u=t.range,l=[0,1],c=!1,h=0,f=0,d=.5;return delete t.unknown,t.domain=function(t){return arguments.length?(s(t),e()):s()},t.range=function(t){return arguments.length?(l=[+t[0],+t[1]],e()):l.slice()},t.rangeRound=function(t){return l=[+t[0],+t[1]],c=!0,e()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(t){return arguments.length?(c=!!t,e()):c},t.padding=function(t){return arguments.length?(h=f=Math.max(0,Math.min(1,t)),e()):h},t.paddingInner=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),e()):h},t.paddingOuter=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),e()):f},t.align=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),e()):d},t.copy=function(){return ka().domain(s()).range(l).round(c).paddingInner(h).paddingOuter(f).align(d)},e()}function Ca(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Ca(e())},t}function Ma(){return Ca(ka().paddingInner(1))}function Aa(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:M_(n)}function Pa(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=e?0:n<=t?1:i(t)}}}function Ea(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=0?e:1<=t?n:i(t)}}}function La(t,e,n,i){var r=t[0],o=t[1],a=e[0],s=e[1];return o<r?(r=n(o,r),a=i(s,a)):(r=n(r,o),a=i(a,s)),function(t){return a(r(t))}}function Da(n,t,e,i){var r=Math.min(n.length,t.length)-1,o=new Array(r),a=new Array(r),s=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++s<r;)o[s]=e(n[s],n[s+1]),a[s]=i(t[s],t[s+1]);return function(t){var e=zl(n,t,1,r)-1;return a[e](o[e](t))}}function Na(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Ia(e,n){function i(){return r=2<Math.min(s.length,u.length)?Da:La,o=a=null,t}function t(t){return(o||(o=r(s,u,c?Pa(e):e,l)))(+t)}var r,o,a,s=P_,u=P_,l=Cf,c=!1;return t.invert=function(t){return(a||(a=r(u,s,Aa,c?Ea(n):n)))(+t)},t.domain=function(t){return arguments.length?(s=T_.call(t,A_),i()):s.slice()},t.range=function(t){return arguments.length?(u=k_.call(t),i()):u.slice()},t.rangeRound=function(t){return u=k_.call(t),l=Mf,i()},t.clamp=function(t){return arguments.length?(c=!!t,i()):c},t.interpolate=function(t){return arguments.length?(l=t,i()):l},i()}function Oa(s){var u=s.domain;return s.ticks=function(t){var e=u();return nc(e[0],e[e.length-1],null==t?10:t)},s.tickFormat=function(t,e){return E_(u(),t,e)},s.nice=function(t){var e=u(),n=e.length-1,i=null==t?10:t,r=e[0],o=e[n],a=T(r,o,i);return a&&(a=T(Math.floor(r/a)*a,Math.ceil(o/a)*a,i),e[0]=Math.floor(r/a)*a,e[n]=Math.ceil(o/a)*a,u(e)),s},s}function Ra(){var t=Ia(Aa,xf);return t.copy=function(){return Na(t,Ra())},Oa(t)}function Fa(){function e(t){return+t}var n=[0,1];return(e.invert=e).domain=e.range=function(t){return arguments.length?(n=T_.call(t,A_),e):n.slice()},e.copy=function(){return Fa().domain(n)},Oa(e)}function za(e,n){return(n=Math.log(n/e))?function(t){return Math.log(t/e)/n}:M_(n)}function Ha(e,n){return e<0?function(t){return-Math.pow(-n,t)*Math.pow(-e,1-t)}:function(t){return Math.pow(n,t)*Math.pow(e,1-t)}}function ja(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Va(e){return 10===e?ja:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function Ga(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function qa(e){return function(t){return-e(-t)}}function $a(){function e(){return p=Ga(d),g=Va(d),f()[0]<0&&(p=qa(p),g=qa(g)),r}var r=Ia(za,Ha).domain([1,10]),f=r.domain,d=10,p=Ga(10),g=Va(10);return r.base=function(t){return arguments.length?(d=+t,e()):d},r.domain=function(t){return arguments.length?(f(t),e()):f()},r.ticks=function(t){var e,n=f(),i=n[0],r=n[n.length-1];(e=r<i)&&(u=i,i=r,r=u);var o,a,s,u=p(i),l=p(r),c=null==t?10:+t,h=[];if(!(d%1)&&l-u<c){if(u=Math.round(u)-1,l=Math.round(l)+1,0<i){for(;u<l;++u)for(a=1,o=g(u);a<d;++a)if(!((s=o*a)<i)){if(r<s)break;h.push(s)}}else for(;u<l;++u)for(a=d-1,o=g(u);1<=a;--a)if(!((s=o*a)<i)){if(r<s)break;h.push(s)}}else h=nc(u,l,Math.min(l-u,c)).map(g);return e?h.reverse():h},r.tickFormat=function(t,n){if(null==n&&(n=10===d?".0e":","),"function"!=typeof n&&(n=G.format(n)),t===1/0)return n;null==t&&(t=10);var i=Math.max(1,d*t/r.ticks().length);return function(t){var e=t/g(Math.round(p(t)));return e*d<d-.5&&(e*=d),e<=i?n(t):""}},r.nice=function(){return f(L_(f(),{floor:function(t){return g(Math.floor(p(t)))},ceil:function(t){return g(Math.ceil(p(t)))}}))},r.copy=function(){return Na(r,$a().base(d))},r}function Ba(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function Wa(){function t(e,n){return(n=Ba(n,i)-(e=Ba(e,i)))?function(t){return(Ba(t,i)-e)/n}:M_(n)}function e(e,n){return n=Ba(n,i)-(e=Ba(e,i)),function(t){return Ba(e+n*t,1/i)}}var i=1,n=Ia(t,e),r=n.domain;return n.exponent=function(t){return arguments.length?(i=+t,r(r())):i},n.copy=function(){return Na(n,Wa().exponent(i))},Oa(n)}function Ua(){return Wa().exponent(.5)}function Ya(){function r(){var t=0,e=Math.max(1,i.length);for(a=new Array(e-1);++t<e;)a[t-1]=oc(o,t/e);return n}function n(t){if(!isNaN(t=+t))return i[zl(a,t)]}var o=[],i=[],a=[];return n.invertExtent=function(t){var e=i.indexOf(t);return e<0?[NaN,NaN]:[0<e?a[e-1]:o[0],e<a.length?a[e]:o[o.length-1]]},n.domain=function(t){if(!arguments.length)return o.slice();o=[];for(var e,n=0,i=t.length;n<i;++n)null==(e=t[n])||isNaN(e=+e)||o.push(e);return o.sort(Ol),r()},n.range=function(t){return arguments.length?(i=k_.call(t),r()):i.slice()},n.quantiles=function(){return a.slice()},n.copy=function(){return Ya().domain(o).range(i)},n}function Xa(){function e(t){if(t<=t)return s[zl(a,t,0,o)]}function n(){var t=-1;for(a=new Array(o);++t<o;)a[t]=((t+1)*r-(t-o)*i)/(o+1);return e}var i=0,r=1,o=1,a=[.5],s=[0,1];return e.domain=function(t){return arguments.length?(i=+t[0],r=+t[1],n()):[i,r]},e.range=function(t){return arguments.length?(o=(s=k_.call(t)).length-1,n()):s.slice()},e.invertExtent=function(t){var e=s.indexOf(t);return e<0?[NaN,NaN]:e<1?[i,a[0]]:o<=e?[a[o-1],r]:[a[e-1],a[e]]},e.copy=function(){return Xa().domain([i,r]).range(s)},Oa(e)}function Qa(){function e(t){if(t<=t)return i[zl(n,t,0,r)]}var n=[.5],i=[0,1],r=1;return e.domain=function(t){return arguments.length?(n=k_.call(t),r=Math.min(n.length,i.length-1),e):n.slice()},e.range=function(t){return arguments.length?(i=k_.call(t),r=Math.min(n.length,i.length-1),e):i.slice()},e.invertExtent=function(t){var e=i.indexOf(t);return[n[e-1],n[e]]},e.copy=function(){return Qa().domain(n).range(i)},e}function Ka(r,o,n,i){function a(t){return r(t=new Date(+t)),t}return(a.floor=a).ceil=function(t){return r(t=new Date(t-1)),o(t,1),r(t),t},a.round=function(t){var e=a(t),n=a.ceil(t);return t-e<n-t?e:n},a.offset=function(t,e){return o(t=new Date(+t),null==e?1:Math.floor(e)),t},a.range=function(t,e,n){var i=[];if(t=a.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return i;for(;i.push(new Date(+t)),o(t,n),r(t),t<e;);return i},a.filter=function(n){return Ka(function(t){if(t<=t)for(;r(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)for(;0<=--e;)for(;o(t,1),!n(t););})},n&&(a.count=function(t,e){return D_.setTime(+t),N_.setTime(+e),r(D_),r(N_),Math.floor(n(D_,N_))},a.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?a.filter(i?function(t){return i(t)%e==0}:function(t){return a.count(0,t)%e==0}):a:null}),a}function Za(e){return Ka(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*R_)/F_})}function Ja(e){return Ka(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/F_})}function ts(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function es(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ns(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function is(t){function n(u,l){return function(t){var e,n,i,r=[],o=-1,a=0,s=u.length;for(t instanceof Date||(t=new Date(+t));++o<s;)37===u.charCodeAt(o)&&(r.push(u.slice(a,o)),null!=(n=Ob[e=u.charAt(++o)])?e=u.charAt(++o):n="e"===e?" ":"0",(i=l[e])&&(e=i(t,n)),r.push(e),a=o+1);return r.push(u.slice(a,o)),r.join("")}}function i(i,r){return function(t){var e=ns(1900);if(o(e,i,t+="",0)!=t.length)return null;if("p"in e&&(e.H=e.H%12+12*e.p),"W"in e||"U"in e){"w"in e||(e.w="W"in e?1:0);var n="Z"in e?es(ns(e.y)).getUTCDay():r(ns(e.y)).getDay();e.m=0,e.d="W"in e?(e.w+6)%7+7*e.W-(n+5)%7:e.w+7*e.U-(n+6)%7}return"Z"in e?(e.H+=e.Z/100|0,e.M+=e.Z%100,es(e)):r(e)}}function o(t,e,n,i){for(var r,o,a=0,s=e.length,u=n.length;a<s;){if(u<=i)return-1;if(37===(r=e.charCodeAt(a++))){if(r=e.charAt(a++),!(o=G[r in Ob?e.charAt(a++):r])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function e(t,e,n){var i=E.exec(e.slice(n));return i?(t.p=L[i[0].toLowerCase()],n+i[0].length):-1}function r(t,e,n){var i=I.exec(e.slice(n));return i?(t.w=O[i[0].toLowerCase()],n+i[0].length):-1}function a(t,e,n){var i=D.exec(e.slice(n));return i?(t.w=N[i[0].toLowerCase()],n+i[0].length):-1}function s(t,e,n){var i=z.exec(e.slice(n));return i?(t.m=H[i[0].toLowerCase()],n+i[0].length):-1}function u(t,e,n){var i=R.exec(e.slice(n));return i?(t.m=F[i[0].toLowerCase()],n+i[0].length):-1}function l(t,e,n){return o(t,w,e,n)}function c(t,e,n){return o(t,S,e,n)}function h(t,e,n){return o(t,T,e,n)}function f(t){return M[t.getDay()]}function d(t){return C[t.getDay()]}function p(t){return P[t.getMonth()]}function g(t){return A[t.getMonth()]}function m(t){return k[+(12<=t.getHours())]}function v(t){return M[t.getUTCDay()]}function y(t){return C[t.getUTCDay()]}function _(t){return P[t.getUTCMonth()]}function b(t){return A[t.getUTCMonth()]}function x(t){return k[+(12<=t.getUTCHours())]}var w=t.dateTime,S=t.date,T=t.time,k=t.periods,C=t.days,M=t.shortDays,A=t.months,P=t.shortMonths,E=as(k),L=ss(k),D=as(C),N=ss(C),I=as(M),O=ss(M),R=as(A),F=ss(A),z=as(P),H=ss(P),j={a:f,A:d,b:p,B:g,c:null,d:ws,e:ws,H:Ss,I:Ts,j:ks,L:Cs,m:Ms,M:As,p:m,S:Ps,U:Es,w:Ls,W:Ds,x:null,X:null,y:Ns,Y:Is,Z:Os,"%":Qs},V={a:v,A:y,b:_,B:b,c:null,d:Rs,e:Rs,H:Fs,I:zs,j:Hs,L:js,m:Vs,M:Gs,p:x,S:qs,U:$s,w:Bs,W:Ws,x:null,X:null,y:Us,Y:Ys,Z:Xs,"%":Qs},G={a:r,A:a,b:s,B:u,c:l,d:gs,e:gs,H:vs,I:vs,j:ms,L:bs,m:ps,M:ys,p:e,S:_s,U:ls,w:us,W:cs,x:c,X:h,y:fs,Y:hs,Z:ds,"%":xs};return j.x=n(S,j),j.X=n(T,j),j.c=n(w,j),V.x=n(S,V),V.X=n(T,V),V.c=n(w,V),{format:function(t){var e=n(t+="",j);return e.toString=function(){return t},e},parse:function(t){var e=i(t+="",ts);return e.toString=function(){return t},e},utcFormat:function(t){var e=n(t+="",V);return e.toString=function(){return t},e},utcParse:function(t){var e=i(t,es);return e.toString=function(){return t},e}}}function rs(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function os(t){return t.replace(zb,"\\$&")}function as(t){return new RegExp("^(?:"+t.map(os).join("|")+")","i")}function ss(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function us(t,e,n){var i=Rb.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function ls(t,e,n){var i=Rb.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function cs(t,e,n){var i=Rb.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function hs(t,e,n){var i=Rb.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function fs(t,e,n){var i=Rb.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(68<+i[0]?1900:2e3),n+i[0].length):-1}function ds(t,e,n){var i=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function ps(t,e,n){var i=Rb.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function gs(t,e,n){var i=Rb.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function ms(t,e,n){var i=Rb.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function vs(t,e,n){var i=Rb.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function ys(t,e,n){var i=Rb.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function _s(t,e,n){var i=Rb.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function bs(t,e,n){var i=Rb.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function xs(t,e,n){var i=Fb.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function ws(t,e){return rs(t.getDate(),e,2)}function Ss(t,e){return rs(t.getHours(),e,2)}function Ts(t,e){return rs(t.getHours()%12||12,e,2)}function ks(t,e){return rs(1+$_.count(ub(t),t),e,3)}function Cs(t,e){return rs(t.getMilliseconds(),e,3)}function Ms(t,e){return rs(t.getMonth()+1,e,2)}function As(t,e){return rs(t.getMinutes(),e,2)}function Ps(t,e){return rs(t.getSeconds(),e,2)}function Es(t,e){return rs(W_.count(ub(t),t),e,2)}function Ls(t){return t.getDay()}function Ds(t,e){return rs(U_.count(ub(t),t),e,2)}function Ns(t,e){return rs(t.getFullYear()%100,e,2)}function Is(t,e){return rs(t.getFullYear()%1e4,e,4)}function Os(t){var e=t.getTimezoneOffset();return(0<e?"-":(e*=-1,"+"))+rs(e/60|0,"0",2)+rs(e%60,"0",2)}function Rs(t,e){return rs(t.getUTCDate(),e,2)}function Fs(t,e){return rs(t.getUTCHours(),e,2)}function zs(t,e){return rs(t.getUTCHours()%12||12,e,2)}function Hs(t,e){return rs(1+pb.count(Db(t),t),e,3)}function js(t,e){return rs(t.getUTCMilliseconds(),e,3)}function Vs(t,e){return rs(t.getUTCMonth()+1,e,2)}function Gs(t,e){return rs(t.getUTCMinutes(),e,2)}function qs(t,e){return rs(t.getUTCSeconds(),e,2)}function $s(t,e){return rs(mb.count(Db(t),t),e,2)}function Bs(t){return t.getUTCDay()}function Ws(t,e){return rs(vb.count(Db(t),t),e,2)}function Us(t,e){return rs(t.getUTCFullYear()%100,e,2)}function Ys(t,e){return rs(t.getUTCFullYear()%1e4,e,4)}function Xs(){return"+0000"}function Qs(){return"%"}function Ks(t){return Nb=is(t),G.timeFormat=Nb.format,G.timeParse=Nb.parse,G.utcFormat=Nb.utcFormat,G.utcParse=Nb.utcParse,Nb}function Zs(t){return t.toISOString()}function Js(t){var e=new Date(t);return isNaN(e)?null:e}function tu(t){return new Date(t)}function eu(t){return t instanceof Date?+t:+new Date(+t)}function nu(a,e,n,i,r,o,s,u,l){function c(t){return(s(t)<t?g:o(t)<t?m:r(t)<t?v:i(t)<t?y:e(t)<t?n(t)<t?_:b:a(t)<t?x:w)(t)}function h(t,e,n,i){if(null==t&&(t=10),"number"==typeof t){var r=Math.abs(n-e)/t,o=Rl(function(t){return t[2]}).right(S,r);o===S.length?(i=T(e/Ub,n/Ub,t),t=a):o?(i=(o=S[r/S[o-1][2]<S[o][2]/r?o-1:o])[1],t=o[0]):(i=T(e,n,t),t=u)}return null==i?t:t.every(i)}var f=Ia(Aa,xf),d=f.invert,p=f.domain,g=l(".%L"),m=l(":%S"),v=l("%I:%M"),y=l("%I %p"),_=l("%a %d"),b=l("%b %d"),x=l("%B"),w=l("%Y"),S=[[s,1,Vb],[s,5,5*Vb],[s,15,15*Vb],[s,30,30*Vb],[o,1,Gb],[o,5,5*Gb],[o,15,15*Gb],[o,30,30*Gb],[r,1,qb],[r,3,3*qb],[r,6,6*qb],[r,12,12*qb],[i,1,$b],[i,2,2*$b],[n,1,Bb],[e,1,Wb],[e,3,3*Wb],[a,1,Ub]];return f.invert=function(t){return new Date(d(t))},f.domain=function(t){return arguments.length?p(T_.call(t,eu)):p().map(tu)},f.ticks=function(t,e){var n,i=p(),r=i[0],o=i[i.length-1],a=o<r;return a&&(n=r,r=o,o=n),n=(n=h(t,r,o,e))?n.range(r,o+1):[],a?n.reverse():n},f.tickFormat=function(t,e){return null==e?c:l(e)},f.nice=function(t,e){var n=p();return(t=h(t,n[0],n[n.length-1],e))?p(L_(n,t)):f},f.copy=function(){return Na(f,nu(a,e,n,i,r,o,s,u,l))},f}function iu(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}function ru(n){function e(t){var e=(t-i)/(r-i);return n(o?Math.max(0,Math.min(1,e)):e)}var i=0,r=1,o=!1;return e.domain=function(t){return arguments.length?(i=+t[0],r=+t[1],e):[i,r]},e.clamp=function(t){return arguments.length?(o=!!t,e):o},e.interpolator=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return ru(n).domain([i,r]).clamp(o)},Oa(e)}function ou(t){return 1<t?0:t<-1?_x:Math.acos(t)}function au(t){return 1<=t?bx:t<=-1?-bx:Math.asin(t)}function su(t){return t.innerRadius}function uu(t){return t.outerRadius}function lu(t){return t.startAngle}function cu(t){return t.endAngle}function hu(t){return t&&t.padAngle}function fu(t,e,n,i,r,o,a,s){var u=n-t,l=i-e,c=a-r,h=s-o,f=(c*(e-o)-h*(t-r))/(h*u-c*l);return[t+f*u,e+f*l]}function du(t,e,n,i,r,o,a){var s=t-n,u=e-i,l=(a?o:-o)/vx(s*s+u*u),c=l*u,h=-l*s,f=t+c,d=e+h,p=n+c,g=i+h,m=(f+p)/2,v=(d+g)/2,y=p-f,_=g-d,b=y*y+_*_,x=r-o,w=f*g-p*d,S=(_<0?-1:1)*vx(px(0,x*x*b-w*w)),T=(w*_-y*S)/b,k=(-w*y-_*S)/b,C=(w*_+y*S)/b,M=(-w*y+_*S)/b,A=T-m,P=k-v,E=C-m,L=M-v;return E*E+L*L<A*A+P*P&&(T=C,k=M),{cx:T,cy:k,x01:-c,y01:-h,x11:T*(r/x-1),y11:k*(r/x-1)}}function pu(t){this._context=t}function gu(t){return t[0]}function mu(t){return t[1]}function vu(t){this._curve=t}function yu(e){function t(t){return new vu(e(t))}return t._curve=e,t}function _u(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(yu(t)):e()._curve},t}function bu(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function xu(t){this._context=t}function wu(t){this._context=t}function Su(t){this._context=t}function Tu(t,e){this._basis=new xu(t),this._beta=e}function ku(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Cu(t,e){this._context=t,this._k=(1-e)/6}function Mu(t,e){this._context=t,this._k=(1-e)/6}function Au(t,e){this._context=t,this._k=(1-e)/6}function Pu(t,e,n){var i=t._x1,r=t._y1,o=t._x2,a=t._y2;if(t._l01_a>yx){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,r=(r*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>yx){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(i,r,o,a,t._x2,t._y2)}function Eu(t,e){this._context=t,this._alpha=e}
function Lu(t,e){this._context=t,this._alpha=e}function Du(t,e){this._context=t,this._alpha=e}function Nu(t){this._context=t}function Iu(t){return t<0?-1:1}function Ou(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),a=(n-t._y1)/(r||i<0&&-0),s=(o*r+a*i)/(i+r);return(Iu(o)+Iu(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Ru(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Fu(t,e,n){var i=t._x0,r=t._y0,o=t._x1,a=t._y1,s=(o-i)/3;t._context.bezierCurveTo(i+s,r+s*e,o-s,a-s*n,o,a)}function zu(t){this._context=t}function Hu(t){this._context=new ju(t)}function ju(t){this._context=t}function Vu(t){return new zu(t)}function Gu(t){return new Hu(t)}function qu(t){this._context=t}function $u(t){var e,n,i=t.length-1,r=new Array(i),o=new Array(i),a=new Array(i);for(o[r[0]=0]=2,a[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,o[i-1]=7,a[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=r[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(r[i-1]=a[i-1]/o[i-1],e=i-2;0<=e;--e)r[e]=(a[e]-r[e+1])/o[e];for(o[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}function Bu(t,e){this._context=t,this._t=e}function Wu(t){return new Bu(t,0)}function Uu(t){return new Bu(t,1)}function Yu(t,e){return t[e]}function Xu(t){for(var e,n=0,i=-1,r=t.length;++i<r;)(e=+t[i][1])&&(n+=e);return n}function Qu(t){return t[0]}function Ku(t){return t[1]}function Zu(){this._=null}function Ju(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function tl(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function el(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function nl(t){for(;t.L;)t=t.L;return t}function il(t,e,n,i){var r=[null,null],o=Mw.push(r)-1;return r.left=t,r.right=e,n&&ol(r,t,e,n),i&&ol(r,e,t,i),kw[t.index].halfedges.push(o),kw[e.index].halfedges.push(o),r}function rl(t,e,n){var i=[e,n];return i.left=t,i}function ol(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function al(t,e,n,i,r){var o,a=t[0],s=t[1],u=a[0],l=a[1],c=0,h=1,f=s[0]-u,d=s[1]-l;if(o=e-u,f||!(0<o)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(0<f){if(h<o)return;c<o&&(c=o)}if(o=i-u,f||!(o<0)){if(o/=f,f<0){if(h<o)return;c<o&&(c=o)}else if(0<f){if(o<c)return;o<h&&(h=o)}if(o=n-l,d||!(0<o)){if(o/=d,d<0){if(o<c)return;o<h&&(h=o)}else if(0<d){if(h<o)return;c<o&&(c=o)}if(o=r-l,d||!(o<0)){if(o/=d,d<0){if(h<o)return;c<o&&(c=o)}else if(0<d){if(o<c)return;o<h&&(h=o)}return!(0<c||h<1)||(0<c&&(t[0]=[u+c*f,l+c*d]),h<1&&(t[1]=[u+h*f,l+h*d]),!0)}}}}}function sl(t,e,n,i,r){var o=t[1];if(o)return!0;var a,s,u=t[0],l=t.left,c=t.right,h=l[0],f=l[1],d=c[0],p=c[1],g=(h+d)/2,m=(f+p)/2;if(p===f){if(g<e||i<=g)return;if(d<h){if(u){if(u[1]>=r)return}else u=[g,n];o=[g,r]}else{if(u){if(u[1]<n)return}else u=[g,r];o=[g,n]}}else if(s=m-(a=(h-d)/(p-f))*g,a<-1||1<a)if(d<h){if(u){if(u[1]>=r)return}else u=[(n-s)/a,n];o=[(r-s)/a,r]}else{if(u){if(u[1]<n)return}else u=[(r-s)/a,r];o=[(n-s)/a,n]}else if(f<p){if(u){if(u[0]>=i)return}else u=[e,a*e+s];o=[i,a*i+s]}else{if(u){if(u[0]<e)return}else u=[i,a*i+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function ul(t,e,n,i){for(var r,o=Mw.length;o--;)sl(r=Mw[o],t,e,n,i)&&al(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>Ew||Math.abs(r[0][1]-r[1][1])>Ew)||delete Mw[o]}function ll(t){return kw[t.index]={site:t,halfedges:[]}}function cl(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function hl(t,e){return e[+(e.left!==t.site)]}function fl(t,e){return e[+(e.left===t.site)]}function dl(){for(var t,e,n,i,r=0,o=kw.length;r<o;++r)if((t=kw[r])&&(i=(e=t.halfedges).length)){var a=new Array(i),s=new Array(i);for(n=0;n<i;++n)a[n]=n,s[n]=cl(t,Mw[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<i;++n)s[n]=e[a[n]];for(n=0;n<i;++n)e[n]=s[n]}}function pl(t,e,n,i){var r,o,a,s,u,l,c,h,f,d,p,g,m=kw.length,v=!0;for(r=0;r<m;++r)if(o=kw[r]){for(a=o.site,s=(u=o.halfedges).length;s--;)Mw[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)p=(d=fl(o,Mw[u[s]]))[0],g=d[1],h=(c=hl(o,Mw[u[++s%l]]))[0],f=c[1],(Math.abs(p-h)>Ew||Math.abs(g-f)>Ew)&&(u.splice(s,0,Mw.push(rl(a,d,Math.abs(p-t)<Ew&&Ew<i-g?[t,Math.abs(h-t)<Ew?f:i]:Math.abs(g-i)<Ew&&Ew<n-p?[Math.abs(f-i)<Ew?h:n,i]:Math.abs(p-n)<Ew&&Ew<g-e?[n,Math.abs(h-n)<Ew?f:e]:Math.abs(g-e)<Ew&&Ew<p-t?[Math.abs(f-e)<Ew?h:t,e]:null))-1),++l);l&&(v=!1)}if(v){var y,_,b,x=1/0;for(r=0,v=null;r<m;++r)(o=kw[r])&&((b=(y=(a=o.site)[0]-t)*y+(_=a[1]-e)*_)<x&&(x=b,v=o));if(v){var w=[t,e],S=[t,i],T=[n,i],k=[n,e];v.halfedges.push(Mw.push(rl(a=v.site,w,S))-1,Mw.push(rl(a,S,T))-1,Mw.push(rl(a,T,k))-1,Mw.push(rl(a,k,w))-1)}}for(r=0;r<m;++r)(o=kw[r])&&(o.halfedges.length||delete kw[r])}function gl(){Ju(this),this.x=this.y=this.arc=this.site=this.cy=null}function ml(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r[0],s=r[1],u=i[0]-a,l=i[1]-s,c=o[0]-a,h=o[1]-s,f=2*(u*h-l*c);if(!(-Lw<=f)){var d=u*u+l*l,p=c*c+h*h,g=(h*d-l*p)/f,m=(u*p-c*d)/f,v=Aw.pop()||new gl;v.arc=t,v.site=r,v.x=g+a,v.y=(v.cy=m+s)+Math.sqrt(g*g+m*m),t.circle=v;for(var y=null,_=Cw._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}Cw.insert(y,v),y||(Sw=v)}}}}function vl(t){var e=t.circle;e&&(e.P||(Sw=e.N),Cw.remove(e),Aw.push(e),Ju(e),t.circle=null)}function yl(){Ju(this),this.edge=this.site=this.circle=null}function _l(t){var e=Pw.pop()||new yl;return e.site=t,e}function bl(t){vl(t),Tw.remove(t),Pw.push(t),Ju(t)}function xl(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,a=t.N,s=[t];bl(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<Ew&&Math.abs(i-u.circle.cy)<Ew;)o=u.P,s.unshift(u),bl(u),u=o;s.unshift(u),vl(u);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<Ew&&Math.abs(i-l.circle.cy)<Ew;)a=l.N,s.push(l),bl(l),l=a;s.push(l),vl(l);var c,h=s.length;for(c=1;c<h;++c)l=s[c],u=s[c-1],ol(l.edge,u.site,l.site,r);u=s[0],(l=s[h-1]).edge=il(u.site,l.site,null,r),ml(u),ml(l)}function wl(t){for(var e,n,i,r,o=t[0],a=t[1],s=Tw._;s;)if((i=Sl(s,a)-o)>Ew)s=s.L;else{if(!((r=o-Tl(s,a))>Ew)){-Ew<i?(e=s.P,n=s):-Ew<r?n=(e=s).N:e=n=s;break}if(!s.R){e=s;break}s=s.R}ll(t);var u=_l(t);if(Tw.insert(e,u),e||n){if(e===n)return vl(e),n=_l(e.site),Tw.insert(u,n),u.edge=n.edge=il(e.site,u.site),ml(e),void ml(n);if(!n)return void(u.edge=il(e.site,u.site));vl(e),vl(n);var l=e.site,c=l[0],h=l[1],f=t[0]-c,d=t[1]-h,p=n.site,g=p[0]-c,m=p[1]-h,v=2*(f*m-d*g),y=f*f+d*d,_=g*g+m*m,b=[(m*y-d*_)/v+c,(f*_-g*y)/v+h];ol(n.edge,l,p,b),u.edge=il(l,t,null,b),n.edge=il(t,p,null,b),ml(e),ml(n)}}function Sl(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],l=u-e;if(!l)return s;var c=s-i,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+r-o/2)))/h+i:(i+s)/2}function Tl(t,e){var n=t.N;if(n)return Sl(n,e);var i=t.site;return i[1]===e?i[0]:1/0}function kl(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function Cl(t,e){return e[1]-t[1]||e[0]-t[0]}function Ml(t,e){var n,i,r,o=t.sort(Cl).pop();for(Mw=[],kw=new Array(t.length),Tw=new Zu,Cw=new Zu;;)if(r=Sw,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===n&&o[1]===i||(wl(o),n=o[0],i=o[1]),o=t.pop();else{if(!r)break;xl(r.arc)}if(dl(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],l=+e[1][1];ul(a,s,u,l),pl(a,s,u,l)}this.edges=Mw,this.cells=kw,Tw=Cw=Mw=kw=null}function Al(t,e,n){this.target=t,this.type=e,this.transform=n}function Pl(t,e,n){this.k=t,this.x=e,this.y=n}function El(t){return t.__zoom||Iw}function Ll(){G.event.stopImmediatePropagation()}function Dl(){return!G.event.button}function Nl(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function Il(){return this.__zoom||Iw}var Ol=function(t,e){return t<e?-1:e<t?1:e<=t?0:NaN},Rl=function(o){return 1===o.length&&(o=n(o)),{left:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var r=n+i>>>1;o(t[r],e)<0?n=r+1:i=r}return n},right:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var r=n+i>>>1;0<o(t[r],e)?i=r:n=r+1}return n}}},Fl=Rl(Ol),zl=Fl.right,Hl=Fl.left,jl=function(t,e){null==e&&(e=c);for(var n=0,i=t.length-1,r=t[0],o=new Array(i<0?0:i);n<i;)o[n]=e(r,r=t[++n]);return o},Vl=function(t,e,n){var i,r,o,a,s=t.length,u=e.length,l=new Array(s*u);for(null==n&&(n=c),i=o=0;i<s;++i)for(a=t[i],r=0;r<u;++r,++o)l[o]=n(a,e[r]);return l},Gl=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},ql=function(t){return null===t?NaN:+t},$l=function(t,e){var n,i,r=t.length,o=0,a=0,s=-1,u=0;if(null==e)for(;++s<r;)isNaN(n=ql(t[s]))||(a+=(i=n-o)*(n-(o+=i/++u)));else for(;++s<r;)isNaN(n=ql(e(t[s],s,t)))||(a+=(i=n-o)*(n-(o+=i/++u)));if(1<u)return a/(u-1)},Bl=function(t,e){var n=$l(t,e);return n?Math.sqrt(n):n},Wl=function(t,e){var n,i,r,o=-1,a=t.length;if(null==e){for(;++o<a;)if(null!=(i=t[o])&&i<=i){n=r=i;break}for(;++o<a;)null!=(i=t[o])&&(i<n&&(n=i),r<i&&(r=i))}else{for(;++o<a;)if(null!=(i=e(t[o],o,t))&&i<=i){n=r=i;break}for(;++o<a;)null!=(i=e(t[o],o,t))&&(i<n&&(n=i),r<i&&(r=i))}return[n,r]},Ul=Array.prototype,Yl=Ul.slice,Xl=Ul.map,Ql=function(t){return function(){return t}},Kl=function(t){return t},Zl=function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o},Jl=Math.sqrt(50),tc=Math.sqrt(10),ec=Math.sqrt(2),nc=function(t,e,n){var i=T(t,e,n);return Zl(Math.ceil(t/i)*i,Math.floor(e/i)*i+i/2,i)},ic=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},rc=function(){function e(t){var e,n,i=t.length,r=new Array(i);for(e=0;e<i;++e)r[e]=f(t[e],e,t);var o=d(r),a=o[0],s=o[1],u=p(r,a,s);Array.isArray(u)||(u=nc(a,s,u));for(var l=u.length;u[0]<=a;)u.shift(),--l;for(;u[l-1]>=s;)u.pop(),--l;var c,h=new Array(l+1);for(e=0;e<=l;++e)(c=h[e]=[]).x0=0<e?u[e-1]:a,c.x1=e<l?u[e]:s;for(e=0;e<i;++e)a<=(n=r[e])&&n<=s&&h[zl(u,n,0,l)].push(t[e]);return h}var f=Kl,d=Wl,p=ic;return e.value=function(t){return arguments.length?(f="function"==typeof t?t:Ql(t),e):f},e.domain=function(t){return arguments.length?(d="function"==typeof t?t:Ql([t[0],t[1]]),e):d},e.thresholds=function(t){return arguments.length?(p="function"==typeof t?t:Ql(Array.isArray(t)?Yl.call(t):t),e):p},e},oc=function(t,e,n){if(null==n&&(n=ql),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(1<=e)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,o=Math.floor(r),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(r-o)}},ac=function(t,e,n){return t=Xl.call(t,ql).sort(Ol),Math.ceil((n-e)/(2*(oc(t,.75)-oc(t,.25))*Math.pow(t.length,-1/3)))},sc=function(t,e,n){return Math.ceil((n-e)/(3.5*Bl(t)*Math.pow(t.length,-1/3)))},uc=function(t,e){var n,i,r=-1,o=t.length;if(null==e){for(;++r<o;)if(null!=(i=t[r])&&i<=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&n<i&&(n=i)}else{for(;++r<o;)if(null!=(i=e(t[r],r,t))&&i<=i){n=i;break}for(;++r<o;)null!=(i=e(t[r],r,t))&&n<i&&(n=i)}return n},lc=function(t,e){var n,i=0,r=t.length,o=-1,a=r;if(null==e)for(;++o<r;)isNaN(n=ql(t[o]))?--a:i+=n;else for(;++o<r;)isNaN(n=ql(e(t[o],o,t)))?--a:i+=n;if(a)return i/a},cc=function(t,e){var n,i=[],r=t.length,o=-1;if(null==e)for(;++o<r;)isNaN(n=ql(t[o]))||i.push(n);else for(;++o<r;)isNaN(n=ql(e(t[o],o,t)))||i.push(n);return oc(i.sort(Ol),.5)},hc=function(t){for(var e,n,i,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(n=new Array(a);0<=--r;)for(e=(i=t[r]).length;0<=--e;)n[--a]=i[e];return n},fc=function(t,e){var n,i,r=-1,o=t.length;if(null==e){for(;++r<o;)if(null!=(i=t[r])&&i<=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&i<n&&(n=i)}else{for(;++r<o;)if(null!=(i=e(t[r],r,t))&&i<=i){n=i;break}for(;++r<o;)null!=(i=e(t[r],r,t))&&i<n&&(n=i)}return n},dc=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},pc=function(t,e){if(n=t.length){var n,i,r=0,o=0,a=t[o];for(e||(e=Ol);++r<n;)(e(i=t[r],a)<0||0!==e(a,a))&&(a=i,o=r);return 0===e(a,a)?o:void 0}},gc=function(t,e,n){for(var i,r,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},mc=function(t,e){var n,i=0,r=t.length,o=-1;if(null==e)for(;++o<r;)(n=+t[o])&&(i+=n);else for(;++o<r;)(n=+e(t[o],o,t))&&(i+=n);return i},vc=function(t){if(!(r=t.length))return[];for(var e=-1,n=fc(t,s),i=new Array(n);++e<n;)for(var r,o=-1,a=i[e]=new Array(r);++o<r;)a[o]=t[o][e];return i},yc=function(){return vc(arguments)},_c=Array.prototype.slice,bc=function(t){return t},xc=1,wc=2,Sc=3,Tc=4,kc=1e-6,Cc={value:function(){}};f.prototype=L.prototype={constructor:f,on:function(t,e){var n,i=this._,r=d(t+"",i),o=-1,a=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=r[o]).type)i[n]=g(i[n],t.name,e);else if(null==e)for(n in i)i[n]=g(i[n],t.name,null);return this}for(;++o<a;)if((n=(t=r[o]).type)&&(n=p(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new f(t)},call:function(t,e){if(0<(n=arguments.length-2))for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var Mc="http://www.w3.org/1999/xhtml",Ac={svg:"http://www.w3.org/2000/svg",xhtml:Mc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Pc=function(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Ac.hasOwnProperty(e)?{space:Ac[e],local:t}:t},Ec=function(t){var e=Pc(t);return(e.local?v:m)(e)},Lc=0;_.prototype=y.prototype={constructor:_,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Dc=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Nc=document.documentElement;if(!Nc.matches){var Ic=Nc.webkitMatchesSelector||Nc.msMatchesSelector||Nc.mozMatchesSelector||Nc.oMatchesSelector;Dc=function(t){return function(){return Ic.call(this,t)}}}}var Oc=Dc,Rc={};G.event=null,"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Rc={mouseenter:"mouseover",mouseleave:"mouseout"}));var Fc=function(t,e,n){var i,r,o=w(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?k:S,null==n&&(n=!1),i=0;i<a;++i)this.each(s(o[i],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(i=0,u=s[l];i<a;++i)if((r=o[i]).type===u.type&&r.name===u.name)return u.value},zc=function(){for(var t,e=G.event;t=e.sourceEvent;)e=t;return e},Hc=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]},jc=function(t){var e=zc();return e.changedTouches&&(e=e.changedTouches[0]),Hc(t,e)},Vc=function(t){return null==t?C:function(){return this.querySelector(t)}},Gc=function(t){"function"!=typeof t&&(t=Vc(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a,s=e[r],u=s.length,l=i[r]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new mt(i,this._parents)},qc=function(t){return null==t?P:function(){return this.querySelectorAll(t)}},$c=function(t){"function"!=typeof t&&(t=qc(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(i.push(t.call(a,a.__data__,l,s)),r.push(a));return new mt(i,r)},Bc=function(t){"function"!=typeof t&&(t=Oc(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,u=i[r]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new mt(i,this._parents)},Wc=function(t){return new Array(t.length)},Uc=function(){return new mt(this._enter||this._groups.map(Wc),this._parents)};E.prototype={constructor:E,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Yc=function(t){return function(){return t}},Xc="$",Qc=function(t,e){if(!t)return d=new Array(this.size()),l=-1,this.each(function(t){d[++l]=t}),d;var n=e?I:N,i=this._parents,r=this._groups;"function"!=typeof t&&(t=Yc(t));for(var o=r.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=i[l],h=r[l],f=h.length,d=t.call(c,c&&c.__data__,l,i),p=d.length,g=s[l]=new Array(p),m=a[l]=new Array(p);n(c,h,g,m,u[l]=new Array(f),d,e);for(var v,y,_=0,b=0;_<p;++_)if(v=g[_]){for(b<=_&&(b=_+1);!(y=m[b])&&++b<p;);v._next=y||null}}return(a=new mt(a,i))._enter=s,a._exit=u,a},Kc=function(){return new mt(this._exit||this._groups.map(Wc),this._parents)},Zc=function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;s<i;++s)a[s]=e[s];return new mt(a,this._parents)},Jc=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,a=r[o];0<=--o;)(i=r[o])&&(a&&a!==i.nextSibling&&a.parentNode.insertBefore(i,a),a=i);return this},th=function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n||(n=O);for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o){for(var a,s=e[o],u=s.length,l=r[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(t)}return new mt(r,this._parents).order()},eh=function(t){var e=t;return arguments[0]=this,e.apply(null,arguments),this},nh=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},ih=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},rh=function(){var t=0;return this.each(function(){++t}),t},oh=function(){return!this.node()},ah=function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],a=0,s=o.length;a<s;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this},sh=function(t,e){var n=Pc(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?F:R:"function"==typeof e?n.local?V:j:n.local?H:z)(n,e))},uh=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},lh=function(t,e,n){var i;return 1<arguments.length?this.each((null==e?q:"function"==typeof e?B:$)(t,e,null==n?"":n)):uh(i=this.node()).getComputedStyle(i,null).getPropertyValue(t)},ch=function(t,e){return 1<arguments.length?this.each((null==e?W:"function"==typeof e?Y:U)(t,e)):this.node()[t]};K.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);0<=e&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var hh=function(t,e){var n=X(t+"");if(arguments.length<2){for(var i=Q(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?nt:e?tt:et)(n,e))},fh=function(t){return arguments.length?this.each(null==t?it:("function"==typeof t?ot:rt)(t)):this.node().textContent},dh=function(t){return arguments.length?this.each(null==t?at:("function"==typeof t?ut:st)(t)):this.node().innerHTML},ph=function(){return this.each(lt)},gh=function(){return this.each(ct)},mh=function(t){var e="function"==typeof t?t:Ec(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},vh=function(t,e){var n="function"==typeof t?t:Ec(t),i=null==e?ht:"function"==typeof e?e:Vc(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},yh=function(){return this.each(ft)},_h=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},bh=function(t,e){return this.each(("function"==typeof e?gt:pt)(t,e))},xh=[null];mt.prototype=vt.prototype={constructor:mt,select:Gc,selectAll:$c,filter:Bc,data:Qc,enter:Uc,exit:Kc,merge:Zc,order:Jc,sort:th,call:eh,nodes:nh,node:ih,size:rh,empty:oh,each:ah,attr:sh,style:lh,property:ch,classed:hh,text:fh,html:dh,raise:ph,lower:gh,append:mh,insert:vh,remove:yh,datum:_h,on:Fc,dispatch:bh};var wh=function(t){return"string"==typeof t?new mt([[document.querySelector(t)]],[document.documentElement]):new mt([[t]],xh)},Sh=function(t){return"string"==typeof t?new mt([document.querySelectorAll(t)],[document.documentElement]):new mt([null==t?[]:t],xh)},Th=function(t,e,n){arguments.length<3&&(n=e,e=zc().changedTouches);for(var i,r=0,o=e?e.length:0;r<o;++r)if((i=e[r]).identifier===n)return Hc(t,i);return null},kh=function(t,e){null==e&&(e=zc().touches);for(var n=0,i=e?e.length:0,r=new Array(i);n<i;++n)r[n]=Hc(t,e[n]);return r},Ch=function(){G.event.preventDefault(),G.event.stopImmediatePropagation()},Mh=function(t){var e=t.document.documentElement,n=wh(t).on("dragstart.drag",Ch,!0);"onselectstart"in e?n.on("selectstart.drag",Ch,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")},Ah=function(t){return function(){return t}};bt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Ph=function(){function p(t){t.on("mousedown.drag",e).on("touchstart.drag",r).on("touchmove.drag",o).on("touchend.drag touchcancel.drag",a).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(){if(!l&&c.apply(this,arguments)){var t=s("mouse",h.apply(this,arguments),jc,this,arguments);t&&(wh(G.event.view).on("mousemove.drag",n,!0).on("mouseup.drag",i,!0),Mh(G.event.view),yt(),u=!1,t("start"))}}function n(){Ch(),u=!0,m.mouse("drag")}function i(){wh(G.event.view).on("mousemove.drag mouseup.drag",null),_t(G.event.view,u),Ch(),m.mouse("end")}function r(){if(c.apply(this,arguments)){var t,e,n=G.event.changedTouches,i=h.apply(this,arguments),r=n.length;for(t=0;t<r;++t)(e=s(n[t].identifier,i,Th,this,arguments))&&(yt(),e("start"))}}function o(){var t,e,n=G.event.changedTouches,i=n.length;for(t=0;t<i;++t)(e=m[n[t].identifier])&&(Ch(),e("drag"))}function a(){var t,e,n=G.event.changedTouches,i=n.length;for(l&&clearTimeout(l),l=setTimeout(function(){l=null},500),t=0;t<i;++t)(e=m[n[t].identifier])&&(yt(),e("end"))}function s(r,o,a,s,u){var l,c,h,f=a(o,r),d=v.copy();if(D(new bt(p,"beforestart",l,r,y,f[0],f[1],0,0,d),function(){return null!=(G.event.subject=l=g.apply(s,u))&&(c=l.x-f[0]||0,h=l.y-f[1]||0,!0)}))return function t(e){var n,i=f;switch(e){case"start":m[r]=t,n=y++;break;case"end":delete m[r],--y;case"drag":f=a(o,r),n=y}D(new bt(p,e,l,r,n,f[0]+c,f[1]+h,f[0]-i[0],f[1]-i[1],d),d.apply,d,[e,s,u])}}var u,l,c=xt,h=wt,g=St,m={},v=L("start","drag","end"),y=0;return p.filter=function(t){return arguments.length?(c="function"==typeof t?t:Ah(!!t),p):c},p.container=function(t){return arguments.length?(h="function"==typeof t?t:Ah(t),p):h},p.subject=function(t){return arguments.length?(g="function"==typeof t?t:Ah(t),p):g},p.on=function(){var t=v.on.apply(v,arguments);return t===v?p:t},p},Eh=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},Lh="\\s*([+-]?\\d+)\\s*",Dh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Nh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ih=/^#([0-9a-f]{3})$/,Oh=/^#([0-9a-f]{6})$/,Rh=new RegExp("^rgb\\("+[Lh,Lh,Lh]+"\\)$"),Fh=new RegExp("^rgb\\("+[Nh,Nh,Nh]+"\\)$"),zh=new RegExp("^rgba\\("+[Lh,Lh,Lh,Dh]+"\\)$"),Hh=new RegExp("^rgba\\("+[Nh,Nh,Nh,Dh]+"\\)$"),jh=new RegExp("^hsl\\("+[Dh,Nh,Nh]+"\\)$"),Vh=new RegExp("^hsla\\("+[Dh,Nh,Nh,Dh]+"\\)$"),Gh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Eh(kt,Ct,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Eh(Lt,Et,Tt(kt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Lt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Lt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Eh(Ot,It,Tt(kt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ot(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ot(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Lt(Rt(240<=t?t-240:t+120,r,i),Rt(t,r,i),Rt(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var qh=Math.PI/180,$h=180/Math.PI,Bh=.95047,Wh=1,Uh=1.08883,Yh=4/29,Xh=6/29,Qh=3*Xh*Xh,Kh=Xh*Xh*Xh;Eh(Ht,zt,Tt(kt,{brighter:function(t){return new Ht(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Ht(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=Wh*Vt(t),new Lt(Gt(3.2404542*(e=Bh*Vt(e))-1.5371385*t-.4985314*(n=Uh*Vt(n))),Gt(-.969266*e+1.8760108*t+.041556*n),Gt(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),Eh(Wt,Bt,Tt(kt,{brighter:function(t){return new Wt(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Wt(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Ft(this).rgb()}}));var Zh=-.14861,Jh=1.78277,tf=-.29227,ef=-.90649,nf=1.97294,rf=nf*ef,of=nf*Jh,af=Jh*tf-ef*Zh;Eh(Xt,Yt,Tt(kt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Xt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Xt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*qh,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new Lt(255*(e+n*(Zh*i+Jh*r)),255*(e+n*(tf*i+ef*r)),255*(e+n*(nf*i)),this.opacity)}}));var sf,uf,lf,cf,hf,ff,df=function(r){var o=r.length-1;return function(t){var e=t<=0?t=0:1<=t?o-(t=1):Math.floor(t*o),n=r[e],i=r[e+1];return Qt((t-e/o)*o,0<e?r[e-1]:2*n-i,n,i,e<o-1?r[e+2]:2*i-n)}},pf=function(n){var i=n.length;return function(t){var e=Math.floor(((t%=1)<0?++t:t)*i);return Qt((t-e/i)*i,n[(e+i-1)%i],n[e%i],n[(e+1)%i],n[(e+2)%i])}},gf=function(t){return function(){return t}},mf=function t(){function e(e,t){var n=a((e=Et(e)).r,(t=Et(t)).r),i=a(e.g,t.g),r=a(e.b,t.b),o=ee(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=r(t),e.opacity=o(t),e+""}}var a=te(1);return e.gamma=t,e}(),vf=ne(df),yf=ne(pf),_f=function(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(i),a=new Array(i);for(n=0;n<r;++n)o[n]=Cf(t[n],e[n]);for(;n<i;++n)a[n]=e[n];return function(t){for(n=0;n<r;++n)a[n]=o[n](t);return a}},bf=function(e,n){var i=new Date;return n-=e=+e,function(t){return i.setTime(e+n*t),i}},xf=function(e,n){return n-=e=+e,function(t){return e+n*t}},wf=function(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Cf(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},Sf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tf=new RegExp(Sf.source,"g"),kf=function(t,i){var e,n,r,o=Sf.lastIndex=Tf.lastIndex=0,a=-1,s=[],u=[];for(t+="",i+="";(e=Sf.exec(t))&&(n=Tf.exec(i));)(r=n.index)>o&&(r=i.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(e=e[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,u.push({i:a,x:xf(e,n)})),o=Tf.lastIndex;return o<i.length&&(r=i.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?u[0]?re(u[0].x):ie(i):(i=u.length,function(t){for(var e,n=0;n<i;++n)s[(e=u[n]).i]=e.x(t);return s.join("")})},Cf=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?gf(e):("number"===i?xf:"string"===i?(n=Ct(e))?(e=n,mf):kf:e instanceof Ct?mf:e instanceof Date?bf:Array.isArray(e)?_f:isNaN(e)?wf:xf)(t,e)},Mf=function(e,n){return n-=e=+e,function(t){return Math.round(e+n*t)}},Af=180/Math.PI,Pf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Ef=function(t,e,n,i,r,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,u/=s),t*i<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*Af,skewX:Math.atan(u)*Af,scaleX:a,scaleY:s}},Lf=se(oe,"px, ","px)","deg)"),Df=se(ae,", ",")",")"),Nf=Math.SQRT2,If=function(t,e){var n,r,o=t[0],a=t[1],s=t[2],i=e[0],u=e[1],l=e[2],c=i-o,h=u-a,f=c*c+h*h;if(f<1e-12)r=Math.log(l/s)/Nf,n=function(t){return[o+t*c,a+t*h,s*Math.exp(Nf*t*r)]};else{var d=Math.sqrt(f),p=(l*l-s*s+4*f)/(2*s*2*d),g=(l*l-s*s-4*f)/(2*l*2*d),m=Math.log(Math.sqrt(p*p+1)-p);r=(Math.log(Math.sqrt(g*g+1)-g)-m)/Nf,n=function(t){var e=t*r,n=ue(m),i=s/(2*d)*(n*ce(Nf*e+m)-le(m));return[o+i*c,a+i*h,s*n/ue(Nf*e+m)]}}return n.duration=1e3*r,n},Of=he(Jt),Rf=he(ee),Ff=de(Jt),zf=de(ee),Hf=pe(Jt),jf=pe(ee),Vf=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n},Gf=0,qf=0,$f=0,Bf=1e3,Wf=0,Uf=0,Yf=0,Xf="object"==typeof performance&&performance.now?performance:Date,Qf="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,17)};ve.prototype=ye.prototype={constructor:ve,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?ge():+n)+(null==e?0:+e),
this._next||ff===this||(ff?ff._next=this:hf=this,ff=this),this._call=t,this._time=n,Se()},stop:function(){this._call&&(this._call=null,this._time=1/0,Se())}};var Kf=function(e,n,t){var i=new ve;return n=null==n?0:+n,i.restart(function(t){i.stop(),e(t+n)},n,t),i},Zf=function(n,i,r){var o=new ve,a=i;return null==i?o.restart(n,i,r):(i=+i,r=null==r?ge():+r,o.restart(function t(e){e+=a,o.restart(t,a+=i,r),n(e)},i,r)),o},Jf=L("start","end","interrupt"),td=[],ed=0,nd=1,id=2,rd=3,od=4,ad=5,sd=6,ud=function(t,e,n,i,r,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};Me(t,n,{name:e,index:i,group:r,on:Jf,tween:td,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ed})},ld=function(t,e){var n,i,r,o=t.__transition,a=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>id&&n.state<ad,n.state=sd,n.timer.stop(),i&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[r]):a=!1;a&&delete t.__transition}},cd=function(t){return this.each(function(){ld(this,t)})},hd=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=Ce(this.node(),n).tween,o=0,a=r.length;o<a;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?Ae:Pe)(n,t,e))},fd=function(t,e){var n;return("number"==typeof e?xf:e instanceof Ct?mf:(n=Ct(e))?(e=n,mf):kf)(t,e)},dd=function(t,e){var n=Pc(t),i="transform"===n?Df:fd;return this.attrTween(t,"function"==typeof e?(n.local?Re:Oe)(n,i,Ee(this,"attr."+t,e)):null==e?(n.local?De:Le)(n):(n.local?Ie:Ne)(n,i,e+""))},pd=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=Pc(t);return this.tween(n,(i.local?Fe:ze)(i,e))},gd=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?He:je)(e,t)):Ce(this.node(),e).delay},md=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ve:Ge)(e,t)):Ce(this.node(),e).duration},vd=function(t){var e=this._id;return arguments.length?this.each(qe(e,t)):Ce(this.node(),e).ease},yd=function(t){"function"!=typeof t&&(t=Oc(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,u=i[r]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new tn(i,this._parents,this._name,this._id)},_d=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;s<i;++s)a[s]=e[s];return new tn(a,this._parents,this._name,this._id)},bd=function(t,e){var n=this._id;return arguments.length<2?Ce(this.node(),n).on.on(t):this.each(Be(n,t,e))},xd=function(){return this.on("end.remove",We(this._id))},wd=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Vc(t));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s,u,l=i[a],c=l.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,ud(h[f],e,n,f,h,Ce(s,n)));return new tn(o,this._parents,e,n)},Sd=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=qc(t));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var u,l=i[s],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,d=t.call(u,u.__data__,h,l),p=Ce(u,n),g=0,m=d.length;g<m;++g)(f=d[g])&&ud(f,e,n,g,d,p);o.push(d),a.push(u)}return new tn(o,a,e,n)},Td=vt.prototype.constructor,kd=function(){return new Td(this._groups,this._parents)},Cd=function(t,e,n){var i="transform"==(t+="")?Lf:fd;return null==e?this.styleTween(t,Ue(t,i)).on("end.style."+t,Ye(t)):this.styleTween(t,"function"==typeof e?Qe(t,i,Ee(this,"style."+t,e)):Xe(t,i,e+""),n)},Md=function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,Ke(t,e,null==n?"":n))},Ad=function(t){return this.tween("text","function"==typeof t?Je(Ee(this,"text",t)):Ze(null==t?"":t+""))},Pd=function(){for(var t=this._name,e=this._id,n=nn(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=Ce(a,e);ud(a,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new tn(i,this._parents,t,n)},Ed=0,Ld=vt.prototype;tn.prototype=en.prototype={constructor:tn,select:wd,selectAll:Sd,filter:yd,merge:_d,selection:kd,transition:Pd,call:Ld.call,nodes:Ld.nodes,node:Ld.node,size:Ld.size,empty:Ld.empty,each:Ld.each,on:bd,attr:dd,attrTween:pd,style:Cd,styleTween:Md,text:Ad,remove:xd,tween:hd,delay:gd,duration:md,ease:vd};var Dd=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Nd=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Id=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Od=Math.PI,Rd=Od/2,Fd=4/11,zd=6/11,Hd=8/11,jd=.75,Vd=9/11,Gd=10/11,qd=.9375,$d=21/22,Bd=63/64,Wd=1/Fd/Fd,Ud=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),Yd=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),Xd=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),Qd=2*Math.PI,Kd=function e(n,i){function t(t){return n*Math.pow(2,10*--t)*Math.sin((r-t)/i)}var r=Math.asin(1/(n=Math.max(1,n)))*(i/=Qd);return t.amplitude=function(t){return e(t,i*Qd)},t.period=function(t){return e(n,t)},t}(1,.3),Zd=function e(n,i){function t(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/i)}var r=Math.asin(1/(n=Math.max(1,n)))*(i/=Qd);return t.amplitude=function(t){return e(t,i*Qd)},t.period=function(t){return e(n,t)},t}(1,.3),Jd=function e(n,i){function t(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((r-t)/i):2-n*Math.pow(2,-10*t)*Math.sin((r+t)/i))/2}var r=Math.asin(1/(n=Math.max(1,n)))*(i/=Qd);return t.amplitude=function(t){return e(t,i*Qd)},t.period=function(t){return e(n,t)},t}(1,.3),tp={time:null,delay:0,duration:250,ease:cn},ep=function(t){var e,n;t instanceof tn?(e=t._id,t=t._name):(e=nn(),(n=tp).time=ge(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],u=s.length,l=0;l<u;++l)(a=s[l])&&ud(a,t,e,l,s,n||Sn(a,e));return new tn(i,this._parents,t,e)};vt.prototype.interrupt=cd,vt.prototype.transition=ep;var np=[null],ip=function(t,e){var n,i,r=t.__transition;if(r)for(i in e=null==e?null:e+"",r)if((n=r[i]).state>nd&&n.name===e)return new tn([[t]],np,e,+i);return null},rp=function(t){return function(){return t}},op=function(t,e,n){this.target=t,this.type=e,this.selection=n},ap=function(){G.event.preventDefault(),G.event.stopImmediatePropagation()},sp={name:"drag"},up={name:"space"},lp={name:"handle"},cp={name:"center"},hp={name:"x",handles:["e","w"].map(kn),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},fp={name:"y",handles:["n","s"].map(kn),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},dp={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(kn),input:function(t){return t},output:function(t){return t}},pp={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},gp={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},mp={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},vp={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},yp={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},_p=function(){return Nn(dp)},bp=Math.cos,xp=Math.sin,wp=Math.PI,Sp=wp/2,Tp=2*wp,kp=Math.max,Cp=function(){function e(i){var t,e,n,r,o,a,s=i.length,u=[],l=Zl(s),c=[],h=[],f=h.groups=new Array(s),d=new Array(s*s);for(t=0,o=-1;++o<s;){for(e=0,a=-1;++a<s;)e+=i[o][a];u.push(e),c.push(Zl(s)),t+=e}for(w&&l.sort(function(t,e){return w(u[t],u[e])}),S&&c.forEach(function(t,n){t.sort(function(t,e){return S(i[n][t],i[n][e])})}),r=(t=kp(0,Tp-x*s)/t)?x:Tp/s,e=0,o=-1;++o<s;){for(n=e,a=-1;++a<s;){var p=l[o],g=c[p][a],m=i[p][g],v=e,y=e+=m*t;d[g*s+p]={index:p,subindex:g,startAngle:v,endAngle:y,value:m}}f[p]={index:p,startAngle:n,endAngle:e,value:u[p]},e+=r}for(o=-1;++o<s;)for(a=o-1;++a<s;){var _=d[a*s+o],b=d[o*s+a];(_.value||b.value)&&h.push(_.value<b.value?{source:b,target:_}:{source:_,target:b})}return T?h.sort(T):h}var x=0,w=null,S=null,T=null;return e.padAngle=function(t){return arguments.length?(x=kp(0,t),e):x},e.sortGroups=function(t){return arguments.length?(w=t,e):w},e.sortSubgroups=function(t){return arguments.length?(S=t,e):S},e.sortChords=function(t){return arguments.length?(null==t?T=null:(T=In(t))._=t,e):T&&T._},e},Mp=Array.prototype.slice,Ap=function(t){return function(){return t}},Pp=Math.PI,Ep=2*Pp,Lp=Ep-1e-6;On.prototype=Rn.prototype={constructor:On,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var o=this._x1,a=this._y1,s=n-t,u=i-e,l=o-t,c=a-e,h=l*l+c*c;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(1e-6<h)if(1e-6<Math.abs(c*s-u*l)&&r){var f=n-o,d=i-a,p=s*s+u*u,g=f*f+d*d,m=Math.sqrt(p),v=Math.sqrt(h),y=r*Math.tan((Pp-Math.acos((p+h-g)/(2*m*v)))/2),_=y/v,b=y/m;1e-6<Math.abs(_-1)&&(this._+="L"+(t+_*l)+","+(e+_*c)),this._+="A"+r+","+r+",0,0,"+ +(l*d<c*f)+","+(this._x1=t+b*s)+","+(this._y1=e+b*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,i,r,o){t=+t,e=+e;var a=(n=+n)*Math.cos(i),s=n*Math.sin(i),u=t+a,l=e+s,c=1^o,h=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(1e-6<Math.abs(this._x1-u)||1e-6<Math.abs(this._y1-l))&&(this._+="L"+u+","+l),n&&(h<0&&(h=h%Ep+Ep),Lp<h?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):1e-6<h&&(this._+="A"+n+","+n+",0,"+ +(Pp<=h)+","+c+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var Dp=function(){function e(){var t,e=Mp.call(arguments),n=f.apply(this,e),i=d.apply(this,e),r=+p.apply(this,(e[0]=n,e)),o=g.apply(this,e)-Sp,a=m.apply(this,e)-Sp,s=r*bp(o),u=r*xp(o),l=+p.apply(this,(e[0]=i,e)),c=g.apply(this,e)-Sp,h=m.apply(this,e)-Sp;if(v||(v=t=Rn()),v.moveTo(s,u),v.arc(0,0,r,o,a),o===c&&a===h||(v.quadraticCurveTo(0,0,l*bp(c),l*xp(c)),v.arc(0,0,l,c,h)),v.quadraticCurveTo(0,0,s,u),v.closePath(),t)return v=null,t+""||null}var f=Fn,d=zn,p=Hn,g=jn,m=Vn,v=null;return e.radius=function(t){return arguments.length?(p="function"==typeof t?t:Ap(+t),e):p},e.startAngle=function(t){return arguments.length?(g="function"==typeof t?t:Ap(+t),e):g},e.endAngle=function(t){return arguments.length?(m="function"==typeof t?t:Ap(+t),e):m},e.source=function(t){return arguments.length?(f=t,e):f},e.target=function(t){return arguments.length?(d=t,e):d},e.context=function(t){return arguments.length?(v=null==t?null:t,e):v},e};Gn.prototype=qn.prototype={constructor:Gn,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var Np=function(){function f(t,n,i,r){if(n>=g.length)return null!=p?p(t):null!=d?t.sort(d):t;for(var e,o,a,s=-1,u=t.length,l=g[n++],c=qn(),h=i();++s<u;)(a=c.get(e=l(o=t[s])+""))?a.push(o):c.set(e,[o]);return c.each(function(t,e){r(h,e,f(t,n,i,r))}),h}function o(t,n){if(++n>g.length)return t;var i,r=a[n-1];return null!=p&&n>=g.length?i=t.entries():(i=[],t.each(function(t,e){i.push({key:e,values:o(t,n)})})),null!=r?i.sort(function(t,e){return r(t.key,e.key)}):i}var d,p,e,g=[],a=[];return e={object:function(t){return f(t,0,$n,Bn)},map:function(t){return f(t,0,Wn,Un)},entries:function(t){return o(f(t,0,Wn,Un),0)},key:function(t){return g.push(t),e},sortKeys:function(t){return a[g.length-1]=t,e},sortValues:function(t){return d=t,e},rollup:function(t){return p=t,e}}},Ip=qn.prototype;Yn.prototype=Xn.prototype={constructor:Yn,has:Ip.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Ip.remove,clear:Ip.clear,values:Ip.keys,size:Ip.size,empty:Ip.empty,each:Ip.each};var Op=function(t){var e=[];for(var n in t)e.push(n);return e},Rp=function(t){var e=[];for(var n in t)e.push(t[n]);return e},Fp=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},zp=function(i){function t(t,n){var i,r,e=o(t,function(t,e){if(i)return i(t,e-1);r=t,i=n?Kn(t,n):Qn(t)});return e.columns=r,e}function o(r,t){function e(){if(u<=l)return s;if(o)return o=!1,a;var t,e=l;if(34===r.charCodeAt(e)){for(var n=e;n++<u;)if(34===r.charCodeAt(n)){if(34!==r.charCodeAt(n+1))break;++n}return l=n+2,13===(t=r.charCodeAt(n+1))?(o=!0,10===r.charCodeAt(n+2)&&++l):10===t&&(o=!0),r.slice(e+1,n).replace(/""/g,'"')}for(;l<u;){var i=1;if(10===(t=r.charCodeAt(l++)))o=!0;else if(13===t)o=!0,10===r.charCodeAt(l)&&(++l,++i);else if(t!==f)continue;return r.slice(e,l-i)}return r.slice(e)}for(var n,o,a={},s={},i=[],u=r.length,l=0,c=0;(n=e())!==s;){for(var h=[];n!==a&&n!==s;)h.push(n),n=e();t&&null==(h=t(h,c++))||i.push(h)}return i}function e(t,n){return null==n&&(n=Zn(t)),[n.map(a).join(i)].concat(t.map(function(e){return n.map(function(t){return a(e[t])}).join(i)})).join("\n")}function n(t){return t.map(r).join("\n")}function r(t){return t.map(a).join(i)}function a(t){return null==t?"":s.test(t+="")?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+i+"\n\r]"),f=i.charCodeAt(0);return{parse:t,parseRows:o,format:e,formatRows:n}},Hp=zp(","),jp=Hp.parse,Vp=Hp.parseRows,Gp=Hp.format,qp=Hp.formatRows,$p=zp("\t"),Bp=$p.parse,Wp=$p.parseRows,Up=$p.format,Yp=$p.formatRows,Xp=function(o,a){function e(){var t,e,n=s.length,i=0,r=0;for(t=0;t<n;++t)i+=(e=s[t]).x,r+=e.y;for(i=i/n-o,r=r/n-a,t=0;t<n;++t)(e=s[t]).x-=i,e.y-=r}var s;return null==o&&(o=0),null==a&&(a=0),e.initialize=function(t){s=t},e.x=function(t){return arguments.length?(o=+t,e):o},e.y=function(t){return arguments.length?(a=+t,e):a},e},Qp=function(t){return function(){return t}},Kp=function(){return 1e-6*(Math.random()-.5)},Zp=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Jn(this.cover(e,n),e,n,t)},Jp=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{if(!(t<n||r<t||e<i||o<e))return this;var a,s,u=r-n,l=this._root;switch(s=(e<(i+o)/2)<<1|t<(n+r)/2){case 0:for(;(a=new Array(4))[s]=l,l=a,o=i+(u*=2),(r=n+u)<t||o<e;);break;case 1:for(;(a=new Array(4))[s]=l,l=a,o=i+(u*=2),t<(n=r-u)||o<e;);break;case 2:for(;(a=new Array(4))[s]=l,l=a,i=o-(u*=2),(r=n+u)<t||e<i;);break;case 3:for(;(a=new Array(4))[s]=l,l=a,i=o-(u*=2),t<(n=r-u)||e<i;);}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},tg=function(){var e=[];return this.visit(function(t){if(!t.length)for(;e.push(t.data),t=t.next;);}),e},eg=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ng=function(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r},ig=function(t,e,n){var i,r,o,a,s,u,l,c=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new ng(g,c,h,f,d)),null==n?n=1/0:(c=t-n,h=e-n,f=t+n,d=e+n,n*=n);u=p.pop();)if(!(!(g=u.node)||(r=u.x0)>f||(o=u.y0)>d||(a=u.x1)<c||(s=u.y1)<h))if(g.length){var m=(r+a)/2,v=(o+s)/2;p.push(new ng(g[3],m,v,a,s),new ng(g[2],r,v,m,s),new ng(g[1],m,o,a,v),new ng(g[0],r,o,m,v)),(l=(v<=e)<<1|m<=t)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=u)}else{var y=t-+this._x.call(null,g.data),_=e-+this._y.call(null,g.data),b=y*y+_*_;if(b<n){var x=Math.sqrt(n=b);c=t-x,h=e-x,f=t+x,d=e+x,i=g.data}}return i},rg=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,i,r,o,a,s,u,l,c,h,f,d=this._root,p=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((l=o>=(s=(p+m)/2))?p=s:m=s,(c=a>=(u=(g+v)/2))?g=u:v=u,!(d=(e=d)[h=c<<1|l]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(!(d=(i=d).next))return this;return(r=d.next)&&delete d.next,i?r?i.next=r:delete i.next:e?(r?e[h]=r:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d)):this._root=r,this},og=function(){return this._root},ag=function(){var e=0;return this.visit(function(t){if(!t.length)for(;++e,t=t.next;);}),e},sg=function(t){var e,n,i,r,o,a,s=[],u=this._root;for(u&&s.push(new ng(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,i=e.x0,r=e.y0,o=e.x1,a=e.y1)&&u.length){var l=(i+o)/2,c=(r+a)/2;(n=u[3])&&s.push(new ng(n,l,c,o,a)),(n=u[2])&&s.push(new ng(n,i,c,l,a)),(n=u[1])&&s.push(new ng(n,l,r,o,c)),(n=u[0])&&s.push(new ng(n,i,r,l,c))}return this},ug=function(t){var e,n=[],i=[];for(this._root&&n.push(new ng(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var o,a=e.x0,s=e.y0,u=e.x1,l=e.y1,c=(a+u)/2,h=(s+l)/2;(o=r[0])&&n.push(new ng(o,a,s,c,h)),(o=r[1])&&n.push(new ng(o,c,s,u,h)),(o=r[2])&&n.push(new ng(o,a,h,c,l)),(o=r[3])&&n.push(new ng(o,c,h,u,l))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},lg=function(t){return arguments.length?(this._x=t,this):this._x},cg=function(t){return arguments.length?(this._y=t,this):this._y},hg=ri.prototype=oi.prototype;hg.copy=function(){var t,e,n=new oi(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=ai(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=ai(e));return n},hg.add=Zp,hg.addAll=ti,hg.cover=Jp,hg.data=tg,hg.extent=eg,hg.find=ig,hg.remove=rg,hg.removeAll=ei,hg.root=og,hg.size=ag,hg.visit=sg,hg.visitAfter=ug,hg.x=lg,hg.y=cg;var fg,dg=function(i){function e(){function t(t,e,n,i,r){var o=t.data,a=t.r,s=p+a;if(!o)return f+s<e||i<f-s||d+s<n||r<d-s;if(o.index>h.index){var u=f-o.x-o.vx,l=d-o.y-o.vy,c=u*u+l*l;c<s*s&&(0===u&&(c+=(u=Kp())*u),0===l&&(c+=(l=Kp())*l),c=(s-(c=Math.sqrt(c)))/c*m,h.vx+=(u*=c)*(s=(a*=a)/(g+a)),h.vy+=(l*=c)*s,o.vx-=u*(s=1-s),o.vy-=l*s)}}for(var e,n,h,f,d,p,g,i=a.length,r=0;r<u;++r)for(n=ri(a,si,ui).visitAfter(o),e=0;e<i;++e)h=a[e],p=s[h.index],g=p*p,f=h.x+h.vx,d=h.y+h.vy,n.visit(t)}function o(t){if(t.data)return t.r=s[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function n(){if(a){var t,e,n=a.length;for(s=new Array(n),t=0;t<n;++t)e=a[t],s[e.index]=+i(e,t,a)}}var a,s,m=1,u=1;return"function"!=typeof i&&(i=Qp(null==i?1:+i)),e.initialize=function(t){a=t,n()},e.iterations=function(t){return arguments.length?(u=+t,e):u},e.strength=function(t){return arguments.length?(m=+t,e):m},e.radius=function(t){return arguments.length?(i="function"==typeof t?t:Qp(+t),n(),e):i},e},pg=function(h){function t(t){return 1/Math.min(u[t.source.index],u[t.target.index])}function e(t){for(var e=0,n=h.length;e<g;++e)for(var i,r,o,a,s,u,l,c=0;c<n;++c)r=(i=h[c]).source,a=(o=i.target).x+o.vx-r.x-r.vx||Kp(),s=o.y+o.vy-r.y-r.vy||Kp(),a*=u=((u=Math.sqrt(a*a+s*s))-d[c])/u*t*f[c],s*=u,o.vx-=a*(l=p[c]),o.vy-=s*l,r.vx+=a*(l=1-l),r.vy+=s*l}function n(){if(s){var t,e,n=s.length,i=h.length,r=qn(s,l);for(t=0,u=new Array(n);t<i;++t)(e=h[t]).index=t,"object"!=typeof e.source&&(e.source=ci(r,e.source)),"object"!=typeof e.target&&(e.target=ci(r,e.target)),u[e.source.index]=(u[e.source.index]||0)+1,u[e.target.index]=(u[e.target.index]||0)+1;for(t=0,p=new Array(i);t<i;++t)e=h[t],p[t]=u[e.source.index]/(u[e.source.index]+u[e.target.index]);f=new Array(i),o(),d=new Array(i),a()}}function o(){if(s)for(var t=0,e=h.length;t<e;++t)f[t]=+i(h[t],t,h)}function a(){if(s)for(var t=0,e=h.length;t<e;++t)d[t]=+r(h[t],t,h)}var f,d,s,u,p,l=li,i=t,r=Qp(30),g=1;return null==h&&(h=[]),e.initialize=function(t){s=t,n()},e.links=function(t){return arguments.length?(h=t,n(),e):h},e.id=function(t){return arguments.length?(l=t,e):l},e.iterations=function(t){return arguments.length?(g=+t,e):g},e.strength=function(t){return arguments.length?(i="function"==typeof t?t:Qp(+t),o(),e):i},e.distance=function(t){return arguments.length?(r="function"==typeof t?t:Qp(+t),a(),e):r},e},gg=10,mg=Math.PI*(3-Math.sqrt(5)),vg=function(c){function t(){e(),d.call("tick",r),o<a&&(f.stop(),d.call("end",r))}function e(){var t,e,n=c.length;for(o+=(u-o)*s,h.each(function(t){t(o)}),t=0;t<n;++t)null==(e=c[t]).fx?e.x+=e.vx*=l:(e.x=e.fx,e.vx=0),null==e.fy?e.y+=e.vy*=l:(e.y=e.fy,e.vy=0)}function n(){for(var t,e=0,n=c.length;e<n;++e){if((t=c[e]).index=e,isNaN(t.x)||isNaN(t.y)){var i=gg*Math.sqrt(e),r=e*mg;t.x=i*Math.cos(r),t.y=i*Math.sin(r)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function i(t){return t.initialize&&t.initialize(c),t}var r,o=1,a=.001,s=1-Math.pow(a,1/300),u=0,l=.6,h=qn(),f=ye(t),d=L("tick","end");return null==c&&(c=[]),n(),r={tick:e,restart:function(){return f.restart(t),r},stop:function(){return f.stop(),r},nodes:function(t){return arguments.length?(c=t,n(),h.each(i),r):c},alpha:function(t){return arguments.length?(o=+t,r):o},alphaMin:function(t){return arguments.length?(a=+t,r):a},alphaDecay:function(t){return arguments.length?(s=+t,r):+s},alphaTarget:function(t){return arguments.length?(u=+t,r):u},velocityDecay:function(t){return arguments.length?(l=1-t,r):1-l},force:function(t,e){return 1<arguments.length?(null==e?h.remove(t):h.set(t,i(e)),r):h.get(t)},find:function(t,e,n){var i,r,o,a,s,u=0,l=c.length;for(null==n?n=1/0:n*=n,u=0;u<l;++u)(o=(i=t-(a=c[u]).x)*i+(r=e-a.y)*r)<n&&(s=a,n=o);return s},on:function(t,e){return 1<arguments.length?(d.on(t,e),r):d.on(t)}}},yg=function(){function e(t){var e,n=a.length,i=ri(a,hi,fi).visitAfter(r);for(l=t,e=0;e<n;++e)u=a[e],i.visit(o)}function n(){if(a){var t,e,n=a.length;for(c=new Array(n),t=0;t<n;++t)e=a[t],c[e.index]=+i(e,t,a)}}function r(t){var e,n,i,r,o,a=0;if(t.length){for(i=r=o=0;o<4;++o)(e=t[o])&&(n=e.value)&&(a+=n,i+=n*e.x,r+=n*e.y);t.x=i/a,t.y=r/a}else for((e=t).x=e.data.x,e.y=e.data.y;a+=c[e.data.index],e=e.next;);t.value=a}function o(t,e,n,i){if(!t.value)return!0;var r=t.x-u.x,o=t.y-u.y,a=i-e,s=r*r+o*o;if(a*a/d<s)return s<f&&(0===r&&(s+=(r=Kp())*r),0===o&&(s+=(o=Kp())*o),s<h&&(s=Math.sqrt(h*s)),u.vx+=r*t.value*l/s,u.vy+=o*t.value*l/s),!0;if(!(t.length||f<=s))for((t.data!==u||t.next)&&(0===r&&(s+=(r=Kp())*r),0===o&&(s+=(o=Kp())*o),s<h&&(s=Math.sqrt(h*s)));t.data!==u&&(a=c[t.data.index]*l/s,u.vx+=r*a,u.vy+=o*a),t=t.next;);}var a,u,l,c,i=Qp(-30),h=1,f=1/0,d=.81;return e.initialize=function(t){a=t,n()},e.strength=function(t){return arguments.length?(i="function"==typeof t?t:Qp(+t),n(),e):i},e.distanceMin=function(t){return arguments.length?(h=t*t,e):Math.sqrt(h)},e.distanceMax=function(t){return arguments.length?(f=t*t,e):Math.sqrt(f)},e.theta=function(t){return arguments.length?(d=t*t,e):Math.sqrt(d)},e},_g=function(n){function e(t){for(var e,n=0,i=r.length;n<i;++n)(e=r[n]).vx+=(a[n]-e.x)*o[n]*t}function i(){if(r){var t,e=r.length;for(o=new Array(e),a=new Array(e),t=0;t<e;++t)o[t]=isNaN(a[t]=+n(r[t],t,r))?0:+s(r[t],t,r)}}var r,o,a,s=Qp(.1);return"function"!=typeof n&&(n=Qp(null==n?0:+n)),e.initialize=function(t){r=t,i()},e.strength=function(t){return arguments.length?(s="function"==typeof t?t:Qp(+t),i(),e):s},e.x=function(t){return arguments.length?(n="function"==typeof t?t:Qp(+t),i(),e):n},e},bg=function(n){function e(t){for(var e,n=0,i=r.length;n<i;++n)(e=r[n]).vy+=(a[n]-e.y)*o[n]*t}function i(){if(r){var t,e=r.length;for(o=new Array(e),a=new Array(e),t=0;t<e;++t)o[t]=isNaN(a[t]=+n(r[t],t,r))?0:+s(r[t],t,r)}}var r,o,a,s=Qp(.1);return"function"!=typeof n&&(n=Qp(null==n?0:+n)),e.initialize=function(t){r=t,i()},e.strength=function(t){return arguments.length?(s="function"==typeof t?t:Qp(+t),i(),e):s},e.y=function(t){return arguments.length?(n="function"==typeof t?t:Qp(+t),i(),e):n},e},xg=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[1<i.length?i[0]+i.slice(2):i,+t.slice(n+1)]},wg=function(t){return(t=xg(Math.abs(t)))?t[1]:NaN},Sg=function(s,u){return function(t,e){for(var n=t.length,i=[],r=0,o=s[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),i.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=s[r=(r+1)%s.length];return i.reverse().join(u)}},Tg=function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}},kg=function(t,e){var n=xg(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},Cg={"":function(t,e){t:for(var n,i=(t=t.toPrecision(e)).length,r=1,o=-1;r<i;++r)switch(t[r]){case".":o=n=r;break;case"0":0===o&&(o=r),n=r;break;case"e":break t;default:0<o&&(o=0)}return 0<o?t.slice(0,o)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return kg(100*t,e)},r:kg,s:function(t,e){var n=xg(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(fg=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:a<o?i+new Array(o-a+1).join("0"):0<o?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+xg(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Mg=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;di.prototype=pi.prototype,pi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Ag,Pg=function(t){return t},Eg=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],Lg=function(t){function a(t){function e(t){var e,n,i,r=v,o=y;if("c"===m)o=_(t)+o,t="";else{var a=(t=+t)<0;if(t=_(Math.abs(t),g),a&&0==+t&&(a=!1),r=(a?"("===h?h:"-":"-"===h||"("===h?"":h)+r,o=o+("s"===m?Eg[8+fg/3]:"")+(a&&"("===h?")":""),b)for(e=-1,n=t.length;++e<n;)if((i=t.charCodeAt(e))<48||57<i){o=(46===i?w+t.slice(e+1):t.slice(e))+o,t=t.slice(0,e);break}}p&&!f&&(t=x(t,1/0));var s=r.length+t.length+o.length,u=s<d?new Array(d-s+1).join(l):"";switch(p&&f&&(t=x(u+t,u.length?d-o.length:1/0),u=""),c){case"<":t=r+t+o+u;break;case"=":t=r+u+t+o;break;case"^":t=u.slice(0,s=u.length>>1)+r+t+o+u.slice(s);break;default:t=u+r+t+o}return S(t)}var l=(t=di(t)).fill,c=t.align,h=t.sign,n=t.symbol,f=t.zero,d=t.width,p=t.comma,g=t.precision,m=t.type,v="$"===n?i[0]:"#"===n&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",y="$"===n?i[1]:/[%p]/.test(m)?"%":"",_=Cg[m],b=!m||/[defgprs%]/.test(m);return g=null==g?m?6:12:/[gprs]/.test(m)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),e.toString=function(){return t+""},e}function e(t,e){var n=a(((t=di(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(wg(e)/3))),r=Math.pow(10,-i),o=Eg[8+i/3];return function(t){return n(r*t)+o}}var x=t.grouping&&t.thousands?Sg(t.grouping,t.thousands):Pg,i=t.currency,w=t.decimal,S=t.numerals?Tg(t.numerals):Pg;return{format:a,formatPrefix:e}};gi({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Dg=function(t){return Math.max(0,-wg(Math.abs(t)))},Ng=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(wg(e)/3)))-wg(Math.abs(t)))},Ig=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wg(e)-wg(t))+1},Og=function(){return new mi};mi.prototype={constructor:mi,reset:function(){this.s=this.t=0},add:function(t){vi(dm,t,this.t),vi(this,dm.s,this.s),this.s?this.t+=dm.t:this.s=dm.t},valueOf:function(){return this.s}};var Rg,Fg,zg,Hg,jg,Vg,Gg,qg,$g,Bg,Wg,Ug,Yg,Xg,Qg,Kg,Zg,Jg,tm,em,nm,im,rm,om,am,sm,um,lm,cm,hm,fm,dm=new mi,pm=1e-6,gm=Math.PI,mm=gm/2,vm=gm/4,ym=2*gm,_m=180/gm,bm=gm/180,xm=Math.abs,wm=Math.atan,Sm=Math.atan2,Tm=Math.cos,km=Math.ceil,Cm=Math.exp,Mm=Math.log,Am=Math.pow,Pm=Math.sin,Em=Math.sign||function(t){return 0<t?1:t<0?-1:0},Lm=Math.sqrt,Dm=Math.tan,Nm={Feature:function(t,e){wi(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)wi(n[i].geometry,e)}},Im={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){Si(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Si(n[i],e,0)},Polygon:function(t,e){Ti(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Ti(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)wi(n[i],e)}},Om=function(t,e){t&&Nm.hasOwnProperty(t.type)?Nm[t.type](t,e):wi(t,e)},Rm=Og(),Fm=Og(),zm={point:xi,lineStart:xi,lineEnd:xi,polygonStart:function(){Rm.reset(),zm.lineStart=ki,zm.lineEnd=Ci},polygonEnd:function(){var t=+Rm;Fm.add(t<0?ym+t:t),this.lineStart=this.lineEnd=this.point=xi},sphere:function(){Fm.add(ym)}},Hm=function(t){return Fm.reset(),Om(t,zm),2*Fm},jm=Og(),Vm={point:Ri,lineStart:zi,lineEnd:Hi,polygonStart:function(){Vm.point=ji,Vm.lineStart=Vi,Vm.lineEnd=Gi,jm.reset(),zm.polygonStart()},polygonEnd:function(){zm.polygonEnd(),Vm.point=Ri,Vm.lineStart=zi,Vm.lineEnd=Hi,Rm<0?(Vg=-(qg=180),Gg=-($g=90)):pm<jm?$g=90:jm<-pm&&(Gg=-90),Qg[0]=Vg,Qg[1]=qg}},Gm=function(t){var e,n,i,r,o,a,s;if($g=qg=-(Vg=Gg=1/0),Xg=[],Om(t,Vm),n=Xg.length){for(Xg.sort($i),e=1,o=[i=Xg[0]];e<n;++e)Bi(i,(r=Xg[e])[0])||Bi(i,r[1])?(qi(i[0],r[1])>qi(i[0],i[1])&&(i[1]=r[1]),qi(r[0],i[1])>qi(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(a=-1/0,e=0,i=o[n=o.length-1];e<=n;i=r,++e)r=o[e],(s=qi(i[1],r[0]))>a&&(a=s,Vg=r[0],qg=i[1])}return Xg=Qg=null,Vg===1/0||Gg===1/0?[[NaN,NaN],[NaN,NaN]]:[[Vg,Gg],[qg,$g]]},qm={sphere:xi,point:Wi,lineStart:Yi,lineEnd:Ki,polygonStart:function(){qm.lineStart=Zi,qm.lineEnd=Ji},polygonEnd:function(){qm.lineStart=Yi,qm.lineEnd=Ki}},$m=function(t){Kg=Zg=Jg=tm=em=nm=im=rm=om=am=sm=0,Om(t,qm);var e=om,n=am,i=sm,r=e*e+n*n+i*i;return r<1e-12&&(e=nm,n=im,i=rm,Zg<pm&&(e=Jg,n=tm,i=em),(r=e*e+n*n+i*i)<1e-12)?[NaN,NaN]:[Sm(n,e)*_m,_i(i/Lm(r))*_m]},Bm=function(t){return function(){return t}},Wm=function(n,i){function t(t,e){return t=n(t,e),i(t[0],t[1])}return n.invert&&i.invert&&(t.invert=function(t,e){return(t=i.invert(t,e))&&n.invert(t[0],t[1])}),t};nr.invert=nr;var Um,Ym,Xm,Qm,Km,Zm,Jm,tv,ev,nv,iv,rv=function(e){function t(t){return(t=e(t[0]*bm,t[1]*bm))[0]*=_m,t[1]*=_m,t}return e=ir(e[0]*bm,e[1]*bm,2<e.length?e[2]*bm:0),t.invert=function(t){return(t=e.invert(t[0]*bm,t[1]*bm))[0]*=_m,t[1]*=_m,t},t},ov=function(){function t(t,e){i.push(t=r(t,e)),t[0]*=_m,t[1]*=_m}function e(){var t=o.apply(this,arguments),e=a.apply(this,arguments)*bm,n=s.apply(this,arguments)*bm;return i=[],r=ir(-t[0]*bm,-t[1]*bm,0).invert,sr(u,e,n,1),t={type:"Polygon",coordinates:[i]},i=r=null,t}var i,r,o=Bm([0,0]),a=Bm(90),s=Bm(6),u={point:t};return e.center=function(t){return arguments.length?(o="function"==typeof t?t:Bm([+t[0],+t[1]]),e):o},e.radius=function(t){return arguments.length?(a="function"==typeof t?t:Bm(+t),e):a},e.precision=function(t){return arguments.length?(s="function"==typeof t?t:Bm(+t),e):s},e},av=function(){var n,e=[];return{
point:function(t,e){n.push([t,e])},lineStart:function(){e.push(n=[])},lineEnd:xi,rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))},result:function(){var t=e;return e=[],n=null,t}}},sv=function(t,e,n,i,r,o){var a,s=t[0],u=t[1],l=0,c=1,h=e[0]-s,f=e[1]-u;if(a=n-s,h||!(0<a)){if(a/=h,h<0){if(a<l)return;a<c&&(c=a)}else if(0<h){if(c<a)return;l<a&&(l=a)}if(a=r-s,h||!(a<0)){if(a/=h,h<0){if(c<a)return;l<a&&(l=a)}else if(0<h){if(a<l)return;a<c&&(c=a)}if(a=i-u,f||!(0<a)){if(a/=f,f<0){if(a<l)return;a<c&&(c=a)}else if(0<f){if(c<a)return;l<a&&(l=a)}if(a=o-u,f||!(a<0)){if(a/=f,f<0){if(c<a)return;l<a&&(l=a)}else if(0<f){if(a<l)return;a<c&&(c=a)}return 0<l&&(t[0]=s+l*h,t[1]=u+l*f),c<1&&(e[0]=s+c*h,e[1]=u+c*f),!0}}}}},uv=function(t,e){return xm(t[0]-e[0])<pm&&xm(t[1]-e[1])<pm},lv=function(t,e,n,i,o){var a,r,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],r=t[e];if(uv(i,r)){for(o.lineStart(),a=0;a<e;++a)o.point((i=t[a])[0],i[1]);return void o.lineEnd()}s.push(n=new lr(i,t,null,!0)),u.push(n.o=new lr(i,null,n,!1)),s.push(n=new lr(r,t,null,!1)),u.push(n.o=new lr(r,null,n,!0))}}),s.length){for(u.sort(e),cr(s),cr(u),a=0,r=u.length;a<r;++a)u[a].e=n=!n;for(var l,c,h=s[0];;){for(var f=h,d=!0;f.v;)if((f=f.n)===h)return;l=f.z,o.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(a=0,r=l.length;a<r;++a)o.point((c=l[a])[0],c[1]);else i(f.x,f.n.x,1,o);f=f.n}else{if(d)for(l=f.p.z,a=l.length-1;0<=a;--a)o.point((c=l[a])[0],c[1]);else i(f.x,f.p.x,-1,o);f=f.p}l=(f=f.o).z,d=!d}while(!f.v);o.lineEnd()}}},cv=1e9,hv=-cv,fv=function(){var e,n,i,r=0,o=0,a=960,s=500;return i={stream:function(t){return e&&n===t?e:e=hr(r,o,a,s)(n=t)},extent:function(t){return arguments.length?(r=+t[0][0],o=+t[0][1],a=+t[1][0],s=+t[1][1],e=n=null,i):[[r,o],[a,s]]}}},dv=Og(),pv=function(t,e){var n=e[0],i=e[1],r=[Pm(n),-Tm(n),0],o=0,a=0;dv.reset();for(var s=0,u=t.length;s<u;++s)if(c=(l=t[s]).length)for(var l,c,h=l[c-1],f=h[0],d=h[1]/2+vm,p=Pm(d),g=Tm(d),m=0;m<c;++m,f=y,p=b,g=x,h=v){var v=l[m],y=v[0],_=v[1]/2+vm,b=Pm(_),x=Tm(_),w=y-f,S=0<=w?1:-1,T=S*w,k=gm<T,C=p*b;if(dv.add(Sm(C*S*Pm(T),g*x+C*Tm(T))),o+=k?w+S*ym:w,k^n<=f^n<=y){var M=Di(Ei(h),Ei(v));Oi(M);var A=Di(r,M);Oi(A);var P=(k^0<=w?-1:1)*_i(A[2]);(P<i||i===P&&(M[0]||M[1]))&&(a+=k^0<=w?1:-1)}}return(o<-pm||o<pm&&dv<-pm)^1&a},gv=Og(),mv={sphere:xi,point:xi,lineStart:fr,lineEnd:xi,polygonStart:xi,polygonEnd:xi},vv=function(t){return gv.reset(),Om(t,mv),+gv},yv=[null,null],_v={type:"LineString",coordinates:yv},bv=function(t,e){return yv[0]=t,yv[1]=e,vv(_v)},xv={Feature:function(t,e){return mr(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)if(mr(n[i].geometry,e))return!0;return!1}},wv={Sphere:function(){return!0},Point:function(t,e){return vr(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(vr(n[i],e))return!0;return!1},LineString:function(t,e){return yr(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(yr(n[i],e))return!0;return!1},Polygon:function(t,e){return _r(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(_r(n[i],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)if(mr(n[i],e))return!0;return!1}},Sv=function(t,e){return(t&&xv.hasOwnProperty(t.type)?xv[t.type]:mr)(t,e)},Tv=function(t,e){var n=t[0]*bm,i=t[1]*bm,r=e[0]*bm,o=e[1]*bm,a=Tm(i),s=Pm(i),u=Tm(o),l=Pm(o),c=a*Tm(n),h=a*Pm(n),f=u*Tm(r),d=u*Pm(r),p=2*_i(Lm(bi(o-i)+a*u*bi(r-n))),g=Pm(p),m=p?function(t){var e=Pm(t*=p)/g,n=Pm(p-t)/g,i=n*c+e*f,r=n*h+e*d,o=n*s+e*l;return[Sm(r,i)*_m,Sm(o,Lm(i*i+r*r))*_m]}:function(){return[n*_m,i*_m]};return m.distance=p,m},kv=function(t){return t},Cv=Og(),Mv=Og(),Av={point:xi,lineStart:xi,lineEnd:xi,polygonStart:function(){Av.lineStart=Cr,Av.lineEnd=Pr},polygonEnd:function(){Av.lineStart=Av.lineEnd=Av.point=xi,Cv.add(xm(Mv)),Mv.reset()},result:function(){var t=Cv/2;return Cv.reset(),t}},Pv=1/0,Ev=Pv,Lv=-Pv,Dv=Lv,Nv={point:Er,lineStart:xi,lineEnd:xi,polygonStart:xi,polygonEnd:xi,result:function(){var t=[[Pv,Ev],[Lv,Dv]];return Lv=Dv=-(Ev=Pv=1/0),t}},Iv=0,Ov=0,Rv=0,Fv=0,zv=0,Hv=0,jv=0,Vv=0,Gv=0,qv={point:Lr,lineStart:Dr,lineEnd:Or,polygonStart:function(){qv.lineStart=Rr,qv.lineEnd=Fr},polygonEnd:function(){qv.point=Lr,qv.lineStart=Dr,qv.lineEnd=Or},result:function(){var t=Gv?[jv/Gv,Vv/Gv]:Hv?[Fv/Hv,zv/Hv]:Rv?[Iv/Rv,Ov/Rv]:[NaN,NaN];return Iv=Ov=Rv=Fv=zv=Hv=jv=Vv=Gv=0,t}};jr.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,ym)}},result:xi};var $v,Bv,Wv,Uv,Yv,Xv=Og(),Qv={point:xi,lineStart:function(){Qv.point=Vr},lineEnd:function(){$v&&Gr(Bv,Wv),Qv.point=xi},polygonStart:function(){$v=!0},polygonEnd:function(){$v=null},result:function(){var t=+Xv;return Xv.reset(),t}};qr.prototype={_circle:$r(4.5),pointRadius:function(t){return this._circle=$r(t),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}}};var Kv=function(e,n){function i(t){return t&&("function"==typeof a&&o.pointRadius(+a.apply(this,arguments)),Om(t,r(o))),o.result()}var r,o,a=4.5;return i.area=function(t){return Om(t,r(Av)),Av.result()},i.measure=function(t){return Om(t,r(Qv)),Qv.result()},i.bounds=function(t){return Om(t,r(Nv)),Nv.result()},i.centroid=function(t){return Om(t,r(qv)),qv.result()},i.projection=function(t){return arguments.length?(r=null==t?(e=null,kv):(e=t).stream,i):e},i.context=function(t){return arguments.length?(o=null==t?(n=null,new qr):new jr(n=t),"function"!=typeof a&&o.pointRadius(a),i):n},i.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(o.pointRadius(+t),+t),i):a},i.projection(e).context(n)},Zv=function(y,_,b,x){return function(i,s){function e(t,e){var n=i(t,e);y(t=n[0],e=n[1])&&s.point(t,e)}function t(t,e){var n=i(t,e);f.point(n[0],n[1])}function n(){v.point=t,f.lineStart()}function r(){v.point=e,f.lineEnd()}function u(t,e){h.push([t,e]);var n=i(t,e);g.point(n[0],n[1])}function o(){g.lineStart(),h=[]}function a(){u(h[0][0],h[0][1]),g.lineEnd();var t,e,n,i,r=g.clean(),o=p.result(),a=o.length;if(h.pop(),l.push(h),h=null,a)if(1&r){if(0<(e=(n=o[0]).length-1)){for(m||(s.polygonStart(),m=!0),s.lineStart(),t=0;t<e;++t)s.point((i=n[t])[0],i[1]);s.lineEnd()}}else 1<a&&2&r&&o.push(o.pop().concat(o.shift())),c.push(o.filter(Br))}var l,c,h,f=_(s),d=i.invert(x[0],x[1]),p=av(),g=_(p),m=!1,v={point:e,lineStart:n,lineEnd:r,polygonStart:function(){v.point=u,v.lineStart=o,v.lineEnd=a,c=[],l=[]},polygonEnd:function(){v.point=e,v.lineStart=n,v.lineEnd=r,c=hc(c);var t=pv(l,d);c.length?(m||(s.polygonStart(),m=!0),lv(c,Wr,t,b,s)):t&&(m||(s.polygonStart(),m=!0),s.lineStart(),b(null,null,1,s),s.lineEnd()),m&&(s.polygonEnd(),m=!1),c=l=null},sphere:function(){s.polygonStart(),s.lineStart(),b(null,null,1,s),s.lineEnd(),s.polygonEnd()}};return v}},Jv=Zv(function(){return!0},Ur,Xr,[-gm,-mm]),ty=function(r,o){function t(t,e,n,i){sr(i,r,o,n,t,e)}function d(t,e){return Tm(t)*Tm(e)>C}function e(s){var u,l,c,h,f;return{lineStart:function(){h=c=!1,f=1},point:function(t,e){var n,i=[t,e],r=d(t,e),o=m?r?0:g(t,e):r?g(t+(t<0?gm:-gm),e):0;if(!u&&(h=c=r)&&s.lineStart(),r!==c&&(n=p(u,i),(uv(u,n)||uv(i,n))&&(i[0]+=pm,i[1]+=pm,r=d(i[0],i[1]))),r!==c)f=0,r?(s.lineStart(),n=p(i,u),s.point(n[0],n[1])):(n=p(u,i),s.point(n[0],n[1]),s.lineEnd()),u=n;else if(v&&u&&m^r){var a;o&l||!(a=p(i,u,!0))||(f=0,m?(s.lineStart(),s.point(a[0][0],a[0][1]),s.point(a[1][0],a[1][1]),s.lineEnd()):(s.point(a[1][0],a[1][1]),s.lineEnd(),s.lineStart(),s.point(a[0][0],a[0][1])))}!r||u&&uv(u,i)||s.point(i[0],i[1]),u=i,c=r,l=o},lineEnd:function(){c&&s.lineEnd(),u=null},clean:function(){return f|(h&&c)<<1}}}function p(t,e,n){var i=[1,0,0],r=Di(Ei(t),Ei(e)),o=Li(r,r),a=r[0],s=o-a*a;if(!s)return!n&&t;var u=C*o/s,l=-C*a/s,c=Di(i,r),h=Ii(i,u);Ni(h,Ii(r,l));var f=c,d=Li(h,f),p=Li(f,f),g=d*d-p*(Li(h,h)-1);if(!(g<0)){var m=Lm(g),v=Ii(f,(-d-m)/p);if(Ni(v,h),v=Pi(v),!n)return v;var y,_=t[0],b=e[0],x=t[1],w=e[1];b<_&&(y=_,_=b,b=y);var S=b-_,T=xm(S-gm)<pm;if(!T&&w<x&&(y=x,x=w,w=y),T||S<pm?T?0<x+w^v[1]<(xm(v[0]-_)<pm?x:w):x<=v[1]&&v[1]<=w:gm<S^(_<=v[0]&&v[0]<=b)){var k=Ii(f,(-d+m)/p);return Ni(k,h),[v,Pi(k)]}}}function g(t,e){var n=m?r:gm-r,i=0;return t<-n?i|=1:n<t&&(i|=2),e<-n?i|=4:n<e&&(i|=8),i}var C=Tm(r),m=0<C,v=xm(C)>pm;return Zv(d,e,t,m?[0,-r]:[-gm,r-gm])},ey=function(t){return{stream:Qr(t)}};Kr.prototype={constructor:Kr,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ny=16,iy=Tm(30*bm),ry=function(t,e){return+e?eo(t,e):to(t)},oy=Qr({point:function(t,e){this.stream.point(t*bm,e*bm)}}),ay=function(){return ro(ao).scale(155.424).center([0,33.6442])},sy=function(){return ay().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},uy=function(){function n(t){var e=t[0],n=t[1];return u=null,o.point(e,n),u||(a.point(e,n),u)||(s.point(e,n),u)}function r(){return e=i=null,n}var e,i,o,a,s,u,l=sy(),c=ay().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=ay().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(t,e){u=[t,e]}};return n.invert=function(t){var e=l.scale(),n=l.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(.12<=r&&r<.234&&-.425<=i&&i<-.214?c:.166<=r&&r<.234&&-.214<=i&&i<-.115?h:l).invert(t)},n.stream=function(t){return e&&i===t?e:e=so([l.stream(i=t),c.stream(t),h.stream(t)])},n.precision=function(t){return arguments.length?(l.precision(t),c.precision(t),h.precision(t),r()):l.precision()},n.scale=function(t){return arguments.length?(l.scale(t),c.scale(.35*t),h.scale(t),n.translate(l.translate())):l.scale()},n.translate=function(t){if(!arguments.length)return l.translate();var e=l.scale(),n=+t[0],i=+t[1];return o=l.translate(t).clipExtent([[n-.455*e,i-.238*e],[n+.455*e,i+.238*e]]).stream(f),a=c.translate([n-.307*e,i+.201*e]).clipExtent([[n-.425*e+pm,i+.12*e+pm],[n-.214*e-pm,i+.234*e-pm]]).stream(f),s=h.translate([n-.205*e,i+.212*e]).clipExtent([[n-.214*e+pm,i+.166*e+pm],[n-.115*e-pm,i+.234*e-pm]]).stream(f),r()},n.fitExtent=function(t,e){return Zr(n,t,e)},n.fitSize=function(t,e){return Jr(n,t,e)},n.scale(1070)},ly=uo(function(t){return Lm(2/(1+t))});ly.invert=lo(function(t){return 2*_i(t/2)});var cy=function(){return no(ly).scale(124.75).clipAngle(179.999)},hy=uo(function(t){return(t=yi(t))&&t/Pm(t)});hy.invert=lo(function(t){return t});var fy=function(){return no(hy).scale(79.4188).clipAngle(179.999)};co.invert=function(t,e){return[t,2*wm(Cm(e))-mm]};var dy=function(){return ho(co).scale(961/ym)},py=function(){return ro(po).scale(109.5).parallels([30,30])};go.invert=go;var gy=function(){return no(go).scale(152.63)},my=function(){return ro(mo).scale(131.154).center([0,13.9389])};vo.invert=lo(wm);var vy=function(){return no(vo).scale(144.049).clipAngle(60)},yy=function(){function e(){return o=a=null,s}var n,i,r,o,a,s,u=1,l=0,c=0,h=1,f=1,d=kv,p=null,g=kv;return s={stream:function(t){return o&&a===t?o:o=d(g(a=t))},clipExtent:function(t){return arguments.length?(g=null==t?(p=n=i=r=null,kv):hr(p=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),e()):null==p?null:[[p,n],[i,r]]},scale:function(t){return arguments.length?(d=yo((u=+t)*h,u*f,l,c),e()):u},translate:function(t){return arguments.length?(d=yo(u*h,u*f,l=+t[0],c=+t[1]),e()):[l,c]},reflectX:function(t){return arguments.length?(d=yo(u*(h=t?-1:1),u*f,l,c),e()):h<0},reflectY:function(t){return arguments.length?(d=yo(u*h,u*(f=t?-1:1),l,c),e()):f<0},fitExtent:function(t,e){return Zr(s,t,e)},fitSize:function(t,e){return Jr(s,t,e)}}};_o.invert=lo(_i);var _y=function(){return no(_o).scale(249.5).clipAngle(90+pm)};bo.invert=lo(function(t){return 2*wm(t)});var by=function(){return no(bo).scale(250).clipAngle(142)};xo.invert=function(t,e){return[-e,2*wm(Cm(t))-mm]};var xy=function(){var t=ho(xo),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)},wy=function(){function e(e){var n,i=0;e.eachAfter(function(t){var e=t.children;e?(t.x=So(e),t.y=ko(e)):(t.x=n?i+=s(t,n):0,t.y=0,n=t)});var t=Mo(e),r=Ao(e),o=t.x-s(t,r)/2,a=r.x+s(r,t)/2;return e.eachAfter(c?function(t){t.x=(t.x-e.x)*u,t.y=(e.y-t.y)*l}:function(t){t.x=(t.x-o)/(a-o)*u,t.y=(1-(e.y?t.y/e.y:1))*l})}var s=wo,u=1,l=1,c=!1;return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(c=!1,u=+t[0],l=+t[1],e):c?null:[u,l]},e.nodeSize=function(t){return arguments.length?(c=!0,u=+t[0],l=+t[1],e):c?[u,l]:null},e},Sy=function(){return this.eachAfter(Po)},Ty=function(t){var e,n,i,r,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(i=0,r=n.length;i<r;++i)a.push(n[i])}while(a.length);return this},ky=function(t){for(var e,n,i=this,r=[i];i=r.pop();)if(t(i),e=i.children)for(n=e.length-1;0<=n;--n)r.push(e[n]);return this},Cy=function(t){for(var e,n,i,r=this,o=[r],a=[];r=o.pop();)if(a.push(r),e=r.children)for(n=0,i=e.length;n<i;++n)o.push(e[n]);for(;r=a.pop();)t(r);return this},My=function(r){return this.eachAfter(function(t){for(var e=+r(t.data)||0,n=t.children,i=n&&n.length;0<=--i;)e+=n[i].value;t.value=e})},Ay=function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},Py=function(t){for(var e=this,n=Eo(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i},Ey=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},Ly=function(){var e=[];return this.each(function(t){e.push(t)}),e},Dy=function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},Ny=function(){var e=this,n=[];return e.each(function(t){t!==e&&n.push({source:t.parent,target:t})}),n};Ro.prototype=Lo.prototype={constructor:Ro,count:Sy,each:Ty,eachAfter:Cy,eachBefore:ky,sum:My,sort:Ay,path:Py,ancestors:Ey,descendants:Ly,leaves:Dy,links:Ny,copy:Do};var Iy=function(t){for(var e=(t=t.slice()).length,n=null,i=n;e;){var r=new Fo(t[e-1]);i=i?i.next=r:n=r,t[void 0]=t[--e]}return{head:n,tail:i}},Oy=function(t){return Ho(Iy(t),[])},Ry=function(t){return Uo(t),t},Fy=function(t){return function(){return t}},zy=function(){function e(t){return t.x=i/2,t.y=r/2,n?t.eachBefore(Zo(n)).eachAfter(Jo(o,.5)).eachBefore(ta(1)):t.eachBefore(Zo(Ko)).eachAfter(Jo(Qo,1)).eachAfter(Jo(o,t.r/Math.min(i,r))).eachBefore(ta(Math.min(i,r)/(2*t.r))),t}var n=null,i=1,r=1,o=Qo;return e.radius=function(t){return arguments.length?(n=Yo(t),e):n},e.size=function(t){return arguments.length?(i=+t[0],r=+t[1],e):[i,r]},e.padding=function(t){return arguments.length?(o="function"==typeof t?t:Fy(+t),e):o},e},Hy=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},jy=function(t,e,n,i,r){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(i-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=r,o.x0=e,o.x1=e+=o.value*l},Vy=function(){function e(t){var e=t.height+1;return t.x0=t.y0=s,t.x1=i,t.y1=r/e,t.eachBefore(n(r,e)),o&&t.eachBefore(Hy),t}function n(o,a){return function(t){t.children&&jy(t,t.x0,o*(t.depth+1)/a,t.x1,o*(t.depth+2)/a);var e=t.x0,n=t.y0,i=t.x1-s,r=t.y1-s;i<e&&(e=i=(e+i)/2),r<n&&(n=r=(n+r)/2),t.x0=e,t.y0=n,t.x1=i,t.y1=r}}var i=1,r=1,s=0,o=!1;return e.round=function(t){return arguments.length?(o=!!t,e):o},e.size=function(t){return arguments.length?(i=+t[0],r=+t[1],e):[i,r]},e.padding=function(t){return arguments.length?(s=+t,e):s},e},Gy="$",qy={depth:-1},$y={},By=function(){function e(t){var e,n,i,r,o,a,s,u=t.length,l=new Array(u),c={};for(n=0;n<u;++n)e=t[n],o=l[n]=new Ro(e),null!=(a=h(e,n,t))&&(a+="")&&(c[s=Gy+(o.id=a)]=s in c?$y:o);for(n=0;n<u;++n)if(o=l[n],null!=(a=f(t[n],n,t))&&(a+="")){if(!(r=c[Gy+a]))throw new Error("missing: "+a);if(r===$y)throw new Error("ambiguous: "+a);r.children?r.children.push(o):r.children=[o],o.parent=r}else{if(i)throw new Error("multiple roots");i=o}if(!i)throw new Error("no root");if(i.parent=qy,i.eachBefore(function(t){t.depth=t.parent.depth+1,--u}).eachBefore(Oo),i.parent=null,0<u)throw new Error("cycle");return i}var h=ea,f=na;return e.id=function(t){return arguments.length?(h=Xo(t),e):h},e.parentId=function(t){return arguments.length?(f=Xo(t),e):f},e};la.prototype=Object.create(Ro.prototype);var Wy=function(){function e(t){var e=ca(t);if(e.eachAfter(l),e.parent.m=-e.z,e.eachBefore(c),g)t.eachBefore(h);else{var n=t,i=t,r=t;t.eachBefore(function(t){t.x<n.x&&(n=t),t.x>i.x&&(i=t),t.depth>r.depth&&(r=t)});var o=n===i?1:f(n,i)/2,a=o-n.x,s=d/(i.x+o+a),u=p/(r.depth||1);t.eachBefore(function(t){t.x=(t.x+a)*s,t.y=t.depth*u})}return t}function l(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e){sa(t);var r=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+f(t._,i._),t.m=t.z-r):t.z=r}else i&&(t.z=i.z+f(t._,i._));t.parent.A=o(t,i,t.parent.A||n[0])}function c(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function o(t,e,n){if(e){for(var i,r=t,o=t,a=e,s=r.parent.children[0],u=r.m,l=o.m,c=a.m,h=s.m;a=oa(a),r=ra(r),a&&r;)s=ra(s),(o=oa(o)).a=t,0<(i=a.z+c-r.z-u+f(a._,r._))&&(aa(ua(a,t,n),t,i),u+=i,l+=i),c+=a.m,u+=r.m,h+=s.m,l+=o.m;a&&!oa(o)&&(o.t=a,o.m+=c-l),r&&!ra(s)&&(s.t=r,s.m+=u-h,n=t)}return n}function h(t){t.x*=d,t.y=t.depth*p}var f=ia,d=1,p=1,g=null;return e.separation=function(t){return arguments.length?(f=t,e):f},e.size=function(t){return arguments.length?(g=!1,d=+t[0],p=+t[1],e):g?null:[d,p]},e.nodeSize=function(t){return arguments.length?(g=!0,d=+t[0],p=+t[1],e):g?[d,p]:null},e},Uy=function(t,e,n,i,r){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(r-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=i,o.y0=n,o.y1=n+=o.value*l},Yy=(1+Math.sqrt(5))/2,Xy=function e(o){function t(t,e,n,i,r){ha(o,t,e,n,i,r)}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(Yy),Qy=function(){function e(t){return t.x0=t.y0=0,t.x1=r,t.y1=o,t.eachBefore(n),s=[0],i&&t.eachBefore(Hy),t}function n(t){var e=s[t.depth],n=t.x0+e,i=t.y0+e,r=t.x1-e,o=t.y1-e;r<n&&(n=r=(n+r)/2),o<i&&(i=o=(i+o)/2),t.x0=n,t.y0=i,t.x1=r,t.y1=o,t.children&&(e=s[t.depth+1]=u(t)/2,n+=f(t)-e,i+=l(t)-e,(r-=c(t)-e)<n&&(n=r=(n+r)/2),(o-=h(t)-e)<i&&(i=o=(i+o)/2),a(t,n,i,r,o))}var a=Xy,i=!1,r=1,o=1,s=[0],u=Qo,l=Qo,c=Qo,h=Qo,f=Qo;return e.round=function(t){return arguments.length?(i=!!t,e):i},e.size=function(t){return arguments.length?(r=+t[0],o=+t[1],e):[r,o]},e.tile=function(t){return arguments.length?(a=Xo(t),e):a},e.padding=function(t){return arguments.length?e.paddingInner(t).paddingOuter(t):e.paddingInner()},e.paddingInner=function(t){return arguments.length?(u="function"==typeof t?t:Fy(+t),e):u},e.paddingOuter=function(t){return arguments.length?e.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):e.paddingTop()},e.paddingTop=function(t){return arguments.length?(l="function"==typeof t?t:Fy(+t),e):l},e.paddingRight=function(t){return arguments.length?(c="function"==typeof t?t:Fy(+t),e):c},e.paddingBottom=function(t){return arguments.length?(h="function"==typeof t?t:Fy(+t),e):h},e.paddingLeft=function(t){return arguments.length?(f="function"==typeof t?t:Fy(+t),e):f},e},Ky=function(t,e,n,i,r){function v(t,e,n,i,r,o,a){if(e-1<=t){var s=y[t];return s.x0=i,s.y0=r,s.x1=o,void(s.y1=a)}for(var u=_[t],l=n/2+u,c=t+1,h=e-1;c<h;){var f=c+h>>>1;_[f]<l?c=f+1:h=f}l-_[c-1]<_[c]-l&&t+1<c&&--c;var d=_[c]-u,p=n-d;if(a-r<o-i){var g=(i*p+o*d)/n;v(t,c,d,i,r,g,a),v(c,e,p,g,r,o,a)}else{var m=(r*p+a*d)/n;v(t,c,d,i,r,o,m),v(c,e,p,i,m,o,a)}}var o,a,y=t.children,s=y.length,_=new Array(s+1);for(_[0]=a=o=0;o<s;++o)_[o+1]=a+=y[o].value;v(0,s,t.value,e,n,i,r)},Zy=function(t,e,n,i,r){(1&t.depth?Uy:jy)(t,e,n,i,r)},Jy=function e(d){function t(t,e,n,i,r){if((o=t._squarify)&&o.ratio===d)for(var o,a,s,u,l,c=-1,h=o.length,f=t.value;++c<h;){for(s=(a=o[c]).children,u=a.value=0,l=s.length;u<l;++u)a.value+=s[u].value;a.dice?jy(a,e,n,i,n+=(r-n)*a.value/f):Uy(a,e,n,e+=(i-e)*a.value/f,r),f-=a.value}else t._squarify=o=ha(d,t,e,n,i,r),o.ratio=d}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(Yy),t_=function(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[1]*r[0]-e[0]*r[1];return o/2},e_=function(t){for(var e,n,i=-1,r=t.length,o=0,a=0,s=t[r-1],u=0;++i<r;)e=s,s=t[i],u+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(u*=3),a/u]},n_=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])},i_=function(t){if((n=t.length)<3)return null;var e,n,i=new Array(n),r=new Array(n);for(e=0;e<n;++e)i[e]=[+t[e][0],+t[e][1],e];for(i.sort(fa),e=0;e<n;++e)r[e]=[i[e][0],-i[e][1]];var o=da(i),a=da(r),s=a[0]===o[0],u=a[a.length-1]===o[o.length-1],l=[];for(e=o.length-1;0<=e;--e)l.push(t[i[o[e]][2]]);for(e=+s;e<a.length-u;++e)l.push(t[i[a[e]][2]]);return l},r_=function(t,e){for(var n,i,r=t.length,o=t[r-1],a=e[0],s=e[1],u=o[0],l=o[1],c=!1,h=0;h<r;++h)n=(o=t[h])[0],s<(i=o[1])!=s<l&&a<(u-n)*(s-i)/(l-i)+n&&(c=!c),u=n,l=i;return c},o_=function(t){for(var e,n,i=-1,r=t.length,o=t[r-1],a=o[0],s=o[1],u=0;++i<r;)e=a,n=s,e-=a=(o=t[i])[0],n-=s=o[1],u+=Math.sqrt(e*e+n*n);return u},a_=[].slice,s_={};pa.prototype=ba.prototype={constructor:pa,defer:function(t){if("function"!=typeof t||this._call)throw new Error;if(null!=this._error)return this;var e=a_.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),ga(this),this},abort:function(){return null==this._error&&ya(this,new Error("abort")),this},await:function(n){if("function"!=typeof n||this._call)throw new Error;return this._call=function(t,e){n.apply(null,[t].concat(e))},_a(this),this},awaitAll:function(t){if("function"!=typeof t||this._call)throw new Error;return this._call=t,_a(this),this}};var u_=function(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return Math.random()*e+t}},l_=function(e,n){var i,r;return e=null==e?0:+e,n=null==n?1:+n,function(){var t;if(null!=i)t=i,i=null;else for(;i=2*Math.random()-1,t=2*Math.random()-1,!(r=i*i+t*t)||1<r;);return e+n*t*Math.sqrt(-2*Math.log(r)/r)}},c_=function(){var t=l_.apply(this,arguments);return function(){return Math.exp(t())}},h_=function(n){return function(){for(var t=0,e=0;e<n;++e)t+=Math.random();return t}},f_=function(t){var e=h_(t);return function(){return e()/t}},d_=function(t){return function(){return-Math.log(1-Math.random())/t}},p_=function(i,t){function e(t){var e,n=c.status;if(!n&&wa(c)||200<=n&&n<300||304===n){if(a)try{e=a.call(r,c)}catch(t){return void u.call("error",r,t)}else e=c;u.call("load",r,e)}else u.call("error",r,t)}var r,o,a,s,u=L("beforesend","progress","load","error"),l=qn(),c=new XMLHttpRequest,h=null,f=null,d=0;if("undefined"==typeof XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(i)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=c.ontimeout=e:c.onreadystatechange=function(t){3<c.readyState&&e(t)},c.onprogress=function(t){u.call("progress",r,t)},r={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l.get(t):(null==e?l.remove(t):l.set(t,e+""),r)},mimeType:function(t){return arguments.length?(o=null==t?null:t+"",r):o},responseType:function(t){return arguments.length?(s=t,r):s},timeout:function(t){return arguments.length?(d=+t,r):d},user:function(t){return arguments.length<1?h:(h=null==t?null:t+"",r)},password:function(t){return arguments.length<1?f:(f=null==t?null:t+"",r)},response:function(t){return a=t,r},get:function(t,e){return r.send("GET",t,e)},post:function(t,e){return r.send("POST",t,e)},send:function(t,e,n){return c.open(t,i,!0,h,f),null==o||l.has("accept")||l.set("accept",o+",*/*"),c.setRequestHeader&&l.each(function(t,e){c.setRequestHeader(e,t)}),null!=o&&c.overrideMimeType&&c.overrideMimeType(o),null!=s&&(c.responseType=s),0<d&&(c.timeout=d),null==n&&"function"==typeof e&&(n=e,e=null),null!=n&&1===n.length&&(n=xa(n)),null!=n&&r.on("error",n).on("load",function(t){n(null,t)}),u.call("beforesend",r,c),c.send(null==e?null:e),r},abort:function(){return c.abort(),r},on:function(){var t=u.on.apply(u,arguments);return t===u?r:t}},null!=t){if("function"!=typeof t)throw new Error("invalid callback: "+t);return r.get(t)}return r},g_=function(i,r){return function(t,e){var n=p_(t).mimeType(i).response(r);if(null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return n.get(e)}return n}},m_=g_("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),v_=g_("application/json",function(t){return JSON.parse(t.responseText)}),y_=g_("text/plain",function(t){return t.responseText}),__=g_("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),b_=function(r,o){return function(t,e,n){arguments.length<3&&(n=e,e=null);var i=p_(t).mimeType(r);return i.row=function(t){return arguments.length?i.response(Sa(o,e=t)):e},i.row(e),n?i.get(n):i}},x_=b_("text/csv",jp),w_=b_("text/tab-separated-values",Bp),S_=Array.prototype,T_=S_.map,k_=S_.slice,C_={name:"implicit"},M_=function(t){return function(){return t}},A_=function(t){return+t},P_=[0,1],E_=function(t,e,n){var i,r=t[0],o=t[t.length-1],a=T(r,o,null==e?10:e);switch((n=di(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(r),Math.abs(o));return null!=n.precision||isNaN(i=Ng(a,s))||(n.precision=i),G.formatPrefix(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(i=Ig(a,Math.max(Math.abs(r),Math.abs(o))))||(n.precision=i-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(i=Dg(a))||(n.precision=i-2*("%"===n.type))}return G.format(n)},L_=function(t,e){var n,i=0,r=(t=t.slice()).length-1,o=t[i],a=t[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t},D_=new Date,N_=new Date,I_=Ka(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});I_.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?Ka(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):I_:null};var O_=I_.range,R_=6e4,F_=6048e5,z_=Ka(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),H_=z_.range,j_=Ka(function(t){t.setTime(Math.floor(t/R_)*R_)},function(t,e){t.setTime(+t+e*R_)},function(t,e){return(e-t)/R_},function(t){return t.getMinutes()}),V_=j_.range,G_=Ka(function(t){var e=t.getTimezoneOffset()*R_%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),q_=G_.range,$_=Ka(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*R_)/864e5},function(t){return t.getDate()-1}),B_=$_.range,W_=Za(0),U_=Za(1),Y_=Za(2),X_=Za(3),Q_=Za(4),K_=Za(5),Z_=Za(6),J_=W_.range,tb=U_.range,eb=Y_.range,nb=X_.range,ib=Q_.range,rb=K_.range,ob=Z_.range,ab=Ka(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),sb=ab.range,ub=Ka(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});ub.every=function(n){return isFinite(n=Math.floor(n))&&0<n?Ka(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};var lb=ub.range,cb=Ka(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*R_)},function(t,e){return(e-t)/R_},function(t){return t.getUTCMinutes()}),hb=cb.range,fb=Ka(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),db=fb.range,pb=Ka(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),gb=pb.range,mb=Ja(0),vb=Ja(1),yb=Ja(2),_b=Ja(3),bb=Ja(4),xb=Ja(5),wb=Ja(6),Sb=mb.range,Tb=vb.range,kb=yb.range,Cb=_b.range,Mb=bb.range,Ab=xb.range,Pb=wb.range,Eb=Ka(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Lb=Eb.range,Db=Ka(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Db.every=function(n){return isFinite(n=Math.floor(n))&&0<n?Ka(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};var Nb,Ib=Db.range,Ob={"-":"",_:" ",0:"0"},Rb=/^\s*\d+/,Fb=/^%/,zb=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Ks({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Hb=Date.prototype.toISOString?Zs:G.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),jb=+new Date("2000-01-01T00:00:00.000Z")?Js:G.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),Vb=1e3,Gb=60*Vb,qb=60*Gb,$b=24*qb,Bb=7*$b,Wb=30*$b,Ub=365*$b,Yb=function(){return nu(ub,ab,W_,$_,G_,j_,z_,I_,G.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},Xb=function(){return nu(Db,Eb,mb,pb,fb,cb,z_,I_,G.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},Qb=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},Kb=Qb("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Zb=Qb("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Jb=Qb("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),tx=Qb("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),ex=jf(Yt(300,.5,0),Yt(-240,.5,1)),nx=jf(Yt(-100,.75,.35),Yt(80,1.5,.8)),ix=jf(Yt(260,.75,.35),Yt(80,1.5,.8)),rx=Yt(),ox=function(t){(t<0||1<t)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return rx.h=360*t-100,rx.s=1.5-1.5*e,rx.l=.8-.9*e,rx+""
},ax=iu(Qb("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),sx=iu(Qb("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ux=iu(Qb("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),lx=iu(Qb("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),cx=function(t){return function(){return t}},hx=Math.abs,fx=Math.atan2,dx=Math.cos,px=Math.max,gx=Math.min,mx=Math.sin,vx=Math.sqrt,yx=1e-12,_x=Math.PI,bx=_x/2,xx=2*_x,wx=function(){function e(){var t,e,n=+z.apply(this,arguments),i=+H.apply(this,arguments),r=G.apply(this,arguments)-bx,o=q.apply(this,arguments)-bx,a=hx(o-r),s=r<o;if(B||(B=t=Rn()),i<n&&(e=i,i=n,n=e),yx<i)if(xx-yx<a)B.moveTo(i*dx(r),i*mx(r)),B.arc(0,0,i,r,o,!s),yx<n&&(B.moveTo(n*dx(o),n*mx(o)),B.arc(0,0,n,o,r,s));else{var u,l,c=r,h=o,f=r,d=o,p=a,g=a,m=$.apply(this,arguments)/2,v=yx<m&&(V?+V.apply(this,arguments):vx(n*n+i*i)),y=gx(hx(i-n)/2,+j.apply(this,arguments)),_=y,b=y;if(yx<v){var x=au(v/n*mx(m)),w=au(v/i*mx(m));(p-=2*x)>yx?(f+=x*=s?1:-1,d-=x):(p=0,f=d=(r+o)/2),(g-=2*w)>yx?(c+=w*=s?1:-1,h-=w):(g=0,c=h=(r+o)/2)}var S=i*dx(c),T=i*mx(c),k=n*dx(d),C=n*mx(d);if(yx<y){var M=i*dx(h),A=i*mx(h),P=n*dx(f),E=n*mx(f);if(a<_x){var L=yx<p?fu(S,T,P,E,M,A,k,C):[k,C],D=S-L[0],N=T-L[1],I=M-L[0],O=A-L[1],R=1/mx(ou((D*I+N*O)/(vx(D*D+N*N)*vx(I*I+O*O)))/2),F=vx(L[0]*L[0]+L[1]*L[1]);_=gx(y,(n-F)/(R-1)),b=gx(y,(i-F)/(R+1))}}yx<g?yx<b?(u=du(P,E,S,T,i,b,s),l=du(M,A,k,C,i,b,s),B.moveTo(u.cx+u.x01,u.cy+u.y01),b<y?B.arc(u.cx,u.cy,b,fx(u.y01,u.x01),fx(l.y01,l.x01),!s):(B.arc(u.cx,u.cy,b,fx(u.y01,u.x01),fx(u.y11,u.x11),!s),B.arc(0,0,i,fx(u.cy+u.y11,u.cx+u.x11),fx(l.cy+l.y11,l.cx+l.x11),!s),B.arc(l.cx,l.cy,b,fx(l.y11,l.x11),fx(l.y01,l.x01),!s))):(B.moveTo(S,T),B.arc(0,0,i,c,h,!s)):B.moveTo(S,T),yx<n&&yx<p?yx<_?(u=du(k,C,M,A,n,-_,s),l=du(S,T,P,E,n,-_,s),B.lineTo(u.cx+u.x01,u.cy+u.y01),_<y?B.arc(u.cx,u.cy,_,fx(u.y01,u.x01),fx(l.y01,l.x01),!s):(B.arc(u.cx,u.cy,_,fx(u.y01,u.x01),fx(u.y11,u.x11),!s),B.arc(0,0,n,fx(u.cy+u.y11,u.cx+u.x11),fx(l.cy+l.y11,l.cx+l.x11),s),B.arc(l.cx,l.cy,_,fx(l.y11,l.x11),fx(l.y01,l.x01),!s))):B.arc(0,0,n,d,f,s):B.lineTo(k,C)}else B.moveTo(0,0);if(B.closePath(),t)return B=null,t+""||null}var z=su,H=uu,j=cx(0),V=null,G=lu,q=cu,$=hu,B=null;return e.centroid=function(){var t=(+z.apply(this,arguments)+ +H.apply(this,arguments))/2,e=(+G.apply(this,arguments)+ +q.apply(this,arguments))/2-_x/2;return[dx(e)*t,mx(e)*t]},e.innerRadius=function(t){return arguments.length?(z="function"==typeof t?t:cx(+t),e):z},e.outerRadius=function(t){return arguments.length?(H="function"==typeof t?t:cx(+t),e):H},e.cornerRadius=function(t){return arguments.length?(j="function"==typeof t?t:cx(+t),e):j},e.padRadius=function(t){return arguments.length?(V=null==t?null:"function"==typeof t?t:cx(+t),e):V},e.startAngle=function(t){return arguments.length?(G="function"==typeof t?t:cx(+t),e):G},e.endAngle=function(t){return arguments.length?(q="function"==typeof t?t:cx(+t),e):q},e.padAngle=function(t){return arguments.length?($="function"==typeof t?t:cx(+t),e):$},e.context=function(t){return arguments.length?(B=null==t?null:t,e):B},e};pu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Sx=function(t){return new pu(t)},Tx=function(){function e(t){var e,n,i,r=t.length,o=!1;for(null==l&&(h=c(i=Rn())),e=0;e<=r;++e)!(e<r&&u(n=t[e],e,t))===o&&((o=!o)?h.lineStart():h.lineEnd()),o&&h.point(+a(n,e,t),+s(n,e,t));if(i)return h=null,i+""||null}var a=gu,s=mu,u=cx(!0),l=null,c=Sx,h=null;return e.x=function(t){return arguments.length?(a="function"==typeof t?t:cx(+t),e):a},e.y=function(t){return arguments.length?(s="function"==typeof t?t:cx(+t),e):s},e.defined=function(t){return arguments.length?(u="function"==typeof t?t:cx(!!t),e):u},e.curve=function(t){return arguments.length?(c=t,null!=l&&(h=c(l)),e):c},e.context=function(t){return arguments.length?(null==t?l=h=null:h=c(l=t),e):l},e},kx=function(){function e(t){var e,n,i,r,o,a=t.length,s=!1,u=new Array(a),l=new Array(a);for(null==g&&(v=m(o=Rn())),e=0;e<=a;++e){if(!(e<a&&p(r=t[e],e,t))===s)if(s=!s)n=e,v.areaStart(),v.lineStart();else{for(v.lineEnd(),v.lineStart(),i=e-1;n<=i;--i)v.point(u[i],l[i]);v.lineEnd(),v.areaEnd()}s&&(u[e]=+c(r,e,t),l[e]=+f(r,e,t),v.point(h?+h(r,e,t):u[e],d?+d(r,e,t):l[e]))}if(o)return v=null,o+""||null}function t(){return Tx().defined(p).curve(m).context(g)}var c=gu,h=null,f=cx(0),d=mu,p=cx(!0),g=null,m=Sx,v=null;return e.x=function(t){return arguments.length?(c="function"==typeof t?t:cx(+t),h=null,e):c},e.x0=function(t){return arguments.length?(c="function"==typeof t?t:cx(+t),e):c},e.x1=function(t){return arguments.length?(h=null==t?null:"function"==typeof t?t:cx(+t),e):h},e.y=function(t){return arguments.length?(f="function"==typeof t?t:cx(+t),d=null,e):f},e.y0=function(t){return arguments.length?(f="function"==typeof t?t:cx(+t),e):f},e.y1=function(t){return arguments.length?(d=null==t?null:"function"==typeof t?t:cx(+t),e):d},e.lineX0=e.lineY0=function(){return t().x(c).y(f)},e.lineY1=function(){return t().x(c).y(d)},e.lineX1=function(){return t().x(h).y(f)},e.defined=function(t){return arguments.length?(p="function"==typeof t?t:cx(!!t),e):p},e.curve=function(t){return arguments.length?(m=t,null!=g&&(v=m(g)),e):m},e.context=function(t){return arguments.length?(null==t?g=v=null:v=m(g=t),e):g},e},Cx=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},Mx=function(t){return t},Ax=function(){function e(n){var t,e,i,r,o,a=n.length,s=0,u=new Array(a),l=new Array(a),c=+v.apply(this,arguments),h=Math.min(xx,Math.max(-xx,y.apply(this,arguments)-c)),f=Math.min(Math.abs(h)/a,_.apply(this,arguments)),d=f*(h<0?-1:1);for(t=0;t<a;++t)0<(o=l[u[t]=t]=+p(n[t],t,n))&&(s+=o);for(null!=g?u.sort(function(t,e){return g(l[t],l[e])}):null!=m&&u.sort(function(t,e){return m(n[t],n[e])}),t=0,i=s?(h-a*d)/s:0;t<a;++t,c=r)e=u[t],r=c+(0<(o=l[e])?o*i:0)+d,l[e]={data:n[e],index:t,value:o,startAngle:c,endAngle:r,padAngle:f};return l}var p=Mx,g=Cx,m=null,v=cx(0),y=cx(xx),_=cx(0);return e.value=function(t){return arguments.length?(p="function"==typeof t?t:cx(+t),e):p},e.sortValues=function(t){return arguments.length?(g=t,m=null,e):g},e.sort=function(t){return arguments.length?(m=t,g=null,e):m},e.startAngle=function(t){return arguments.length?(v="function"==typeof t?t:cx(+t),e):v},e.endAngle=function(t){return arguments.length?(y="function"==typeof t?t:cx(+t),e):y},e.padAngle=function(t){return arguments.length?(_="function"==typeof t?t:cx(+t),e):_},e},Px=yu(Sx);vu.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Ex=function(){return _u(Tx().curve(Px))},Lx=function(){var t=kx().curve(Px),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return _u(n())},delete t.lineX0,t.lineEndAngle=function(){return _u(i())},delete t.lineX1,t.lineInnerRadius=function(){return _u(r())},delete t.lineY0,t.lineOuterRadius=function(){return _u(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(yu(t)):e()._curve},t},Dx={draw:function(t,e){var n=Math.sqrt(e/_x);t.moveTo(n,0),t.arc(0,0,n,0,xx)}},Nx={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Ix=Math.sqrt(1/3),Ox=2*Ix,Rx={draw:function(t,e){var n=Math.sqrt(e/Ox),i=n*Ix;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},Fx=Math.sin(_x/10)/Math.sin(7*_x/10),zx=Math.sin(xx/10)*Fx,Hx=-Math.cos(xx/10)*Fx,jx={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=zx*n,r=Hx*n;t.moveTo(0,-n),t.lineTo(i,r);for(var o=1;o<5;++o){var a=xx*o/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*i-u*r,u*i+s*r)}t.closePath()}},Vx={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},Gx=Math.sqrt(3),qx={draw:function(t,e){var n=-Math.sqrt(e/(3*Gx));t.moveTo(0,2*n),t.lineTo(-Gx*n,-n),t.lineTo(Gx*n,-n),t.closePath()}},$x=-.5,Bx=Math.sqrt(3)/2,Wx=1/Math.sqrt(12),Ux=3*(Wx/2+1),Yx={draw:function(t,e){var n=Math.sqrt(e/Ux),i=n/2,r=n*Wx,o=i,a=n*Wx+n,s=-o,u=a;t.moveTo(i,r),t.lineTo(o,a),t.lineTo(s,u),t.lineTo($x*i-Bx*r,Bx*i+$x*r),t.lineTo($x*o-Bx*a,Bx*o+$x*a),t.lineTo($x*s-Bx*u,Bx*s+$x*u),t.lineTo($x*i+Bx*r,$x*r-Bx*i),t.lineTo($x*o+Bx*a,$x*a-Bx*o),t.lineTo($x*s+Bx*u,$x*u-Bx*s),t.closePath()}},Xx=[Dx,Nx,Rx,Vx,jx,qx,Yx],Qx=function(){function e(){var t;if(r||(r=t=Rn()),n.apply(this,arguments).draw(r,+i.apply(this,arguments)),t)return r=null,t+""||null}var n=cx(Dx),i=cx(64),r=null;return e.type=function(t){return arguments.length?(n="function"==typeof t?t:cx(t),e):n},e.size=function(t){return arguments.length?(i="function"==typeof t?t:cx(+t),e):i},e.context=function(t){return arguments.length?(r=null==t?null:t,e):r},e},Kx=function(){};xu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bu(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Zx=function(t){return new xu(t)};wu.prototype={areaStart:Kx,areaEnd:Kx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:bu(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Jx=function(t){return new wu(t)};Su.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:bu(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var tw=function(t){return new Su(t)};Tu.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(0<n)for(var i,r=t[0],o=e[0],a=t[n]-r,s=e[n]-o,u=-1;++u<=n;)i=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(r+i*a),this._beta*e[u]+(1-this._beta)*(o+i*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var ew=function e(n){function t(t){return 1===n?new xu(t):new Tu(t,n)}return t.beta=function(t){return e(+t)},t}(.85);Cu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ku(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:ku(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var nw=function e(n){function t(t){return new Cu(t,n)}return t.tension=function(t){return e(+t)},t}(0);Mu.prototype={areaStart:Kx,areaEnd:Kx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ku(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var iw=function e(n){function t(t){return new Mu(t,n)}return t.tension=function(t){return e(+t)},t}(0);Au.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ku(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var rw=function e(n){function t(t){return new Au(t,n)}return t.tension=function(t){return e(+t)},t}(0);Eu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Pu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ow=function e(n){function t(t){return n?new Eu(t,n):new Cu(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);Lu.prototype={areaStart:Kx,areaEnd:Kx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Pu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var aw=function e(n){function t(t){return n?new Lu(t,n):new Mu(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);Du.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Pu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var sw=function e(n){function t(t){return n?new Du(t,n):new Au(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);Nu.prototype={areaStart:Kx,areaEnd:Kx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var uw=function(t){return new Nu(t)};zu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fu(this,this._t0,Ru(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Fu(this,Ru(this,n=Ou(this,t,e)),n);break;default:Fu(this,this._t0,n=Ou(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Hu.prototype=Object.create(zu.prototype)).point=function(t,e){zu.prototype.point.call(this,e,t)},ju.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}},qu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=$u(t),r=$u(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var lw=function(t){return new qu(t)};Bu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var cw=function(t){return new Bu(t,.5)},hw=Array.prototype.slice,fw=function(t,e){if(1<(i=t.length))for(var n,i,r=1,o=t[e[0]],a=o.length;r<i;++r){n=o,o=t[e[r]];for(var s=0;s<a;++s)o[s][1]+=o[s][0]=isNaN(n[s][1])?n[s][0]:n[s][1]}},dw=function(t){for(var e=t.length,n=new Array(e);0<=--e;)n[e]=e;return n},pw=function(){function e(t){var e,n,i=h.apply(this,arguments),r=t.length,o=i.length,a=new Array(o);for(e=0;e<o;++e){for(var s,u=i[e],l=a[e]=new Array(r),c=0;c<r;++c)l[c]=s=[0,+p(t[c],u,c,t)],s.data=t[c];l.key=u}for(e=0,n=f(a);e<o;++e)a[n[e]].index=e;return d(a,n),a}var h=cx([]),f=dw,d=fw,p=Yu;return e.keys=function(t){return arguments.length?(h="function"==typeof t?t:cx(hw.call(t)),e):h},e.value=function(t){return arguments.length?(p="function"==typeof t?t:cx(+t),e):p},e.order=function(t){return arguments.length?(f=null==t?dw:"function"==typeof t?t:cx(hw.call(t)),e):f},e.offset=function(t){return arguments.length?(d=null==t?fw:t,e):d},e},gw=function(t,e){if(0<(i=t.length)){for(var n,i,r,o=0,a=t[0].length;o<a;++o){for(r=n=0;n<i;++n)r+=t[n][o][1]||0;if(r)for(n=0;n<i;++n)t[n][o][1]/=r}fw(t,e)}},mw=function(t,e){if(0<(n=t.length)){for(var n,i=0,r=t[e[0]],o=r.length;i<o;++i){for(var a=0,s=0;a<n;++a)s+=t[a][i][1]||0;r[i][1]+=r[i][0]=-s/2}fw(t,e)}},vw=function(t,e){if(0<(r=t.length)&&0<(i=(n=t[e[0]]).length)){for(var n,i,r,o=0,a=1;a<i;++a){for(var s=0,u=0,l=0;s<r;++s){for(var c=t[e[s]],h=c[a][1]||0,f=(h-(c[a-1][1]||0))/2,d=0;d<s;++d){var p=t[e[d]];f+=(p[a][1]||0)-(p[a-1][1]||0)}u+=h,l+=f*h}n[a-1][1]+=n[a-1][0]=o,u&&(o-=l/u)}n[a-1][1]+=n[a-1][0]=o,fw(t,e)}},yw=function(t){var n=t.map(Xu);return dw(t).sort(function(t,e){return n[t]-n[e]})},_w=function(t){return yw(t).reverse()},bw=function(t){var e,n,i=t.length,r=t.map(Xu),o=dw(t).sort(function(t,e){return r[e]-r[t]}),a=0,s=0,u=[],l=[];for(e=0;e<i;++e)n=o[e],a<s?(a+=r[n],u.push(n)):(s+=r[n],l.push(n));return l.reverse().concat(u)},xw=function(t){return dw(t).reverse()},ww=function(t){return function(){return t}};Zu.prototype={constructor:Zu,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=nl(this._),e.P=null,(e.N=t).P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(tl(this,n),n=(t=n).U),n.C=!1,i.C=!0,el(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(el(this,n),n=(t=n).U),n.C=!1,i.C=!0,tl(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?nl(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,((n.L=o).U=n)!==a?(r=n.U,n.U=t.U,t=n.R,r.L=t,(n.R=a).U=n):(n.U=r,t=(r=n).R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,tl(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,el(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,tl(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,el(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,tl(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,el(this,r),t=this._;break}e.C=!0,r=(t=r).U}while(!t.C);t&&(t.C=!1)}}};var Sw,Tw,kw,Cw,Mw,Aw=[],Pw=[],Ew=1e-6,Lw=1e-12;Ml.prototype={constructor:Ml,polygons:function(){var n=this.edges;return this.cells.map(function(e){var t=e.halfedges.map(function(t){return hl(e,n[t])});return t.data=e.site.data,t})},triangles:function(){var l=[],c=this.edges;return this.cells.forEach(function(t,e){if(i=(n=t.halfedges).length)for(var n,i,r,o=t.site,a=-1,s=c[n[i-1]],u=s.left===o?s.right:s.left;++a<i;)r=u,u=(s=c[n[a]]).left===o?s.right:s.left,r&&u&&e<r.index&&e<u.index&&kl(o,r,u)<0&&l.push([o.data,r.data,u.data])}),l},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(a,s,t){for(var e,u,l=this,c=l._found||0,n=l.cells.length;!(u=l.cells[c]);)if(++c>=n)return null;for(var i=a-u.site[0],r=s-u.site[1],h=i*i+r*r;u=l.cells[e=c],c=null,u.halfedges.forEach(function(t){var e=l.edges[t],n=e.left;if(n!==u.site&&n||(n=e.right)){var i=a-n[0],r=s-n[1],o=i*i+r*r;o<h&&(h=o,c=n.index)}}),null!==c;);return l._found=e,null==t||h<=t*t?u.site:null}};var Dw=function(){function e(i){return new Ml(i.map(function(t,e){var n=[Math.round(r(t,e,i)/Ew)*Ew,Math.round(o(t,e,i)/Ew)*Ew];return n.index=e,n.data=t,n}),n)}var r=Qu,o=Ku,n=null;return e.polygons=function(t){return e(t).polygons()},e.links=function(t){return e(t).links()},e.triangles=function(t){return e(t).triangles()},e.x=function(t){return arguments.length?(r="function"==typeof t?t:ww(+t),e):r},e.y=function(t){return arguments.length?(o="function"==typeof t?t:ww(+t),e):o},e.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],e):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},e.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],e):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},e},Nw=function(t){return function(){return t}};Pl.prototype={constructor:Pl,scale:function(t){return 1===t?this:new Pl(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Pl(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){
return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Iw=new Pl(1,0,0);El.prototype=Pl.prototype;var Ow=function(){G.event.preventDefault(),G.event.stopImmediatePropagation()},Rw=function(){function o(t){t.on("wheel.zoom",e).on("mousedown.zoom",n).on("dblclick.zoom",i).on("touchstart.zoom",s).on("touchmove.zoom",u).on("touchend.zoom touchcancel.zoom",l).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",Il)}function d(t,e){return(e=Math.max(_,Math.min(b,e)))===t.k?t:new Pl(e,t.x,t.y)}function p(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new Pl(t.k,i,r)}function g(t,e){var n=t.invertX(e[0][0])-x,i=t.invertX(e[1][0])-w,r=t.invertY(e[0][1])-S,o=t.invertY(e[1][1])-T;return t.translate(n<i?(n+i)/2:Math.min(0,n)||Math.max(0,i),r<o?(r+o)/2:Math.min(0,r)||Math.max(0,o))}function h(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function r(t,l,c){t.on("start.zoom",function(){m(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){m(this,arguments).end()}).tween("zoom",function(){var t=this,e=arguments,i=m(t,e),n=y.apply(t,e),r=c||h(n),o=Math.max(n[1][0]-n[0][0],n[1][1]-n[0][1]),a=t.__zoom,s="function"==typeof l?l.apply(t,e):l,u=C(a.invert(r).concat(o/a.k),s.invert(r).concat(o/s.k));return function(t){if(1===t)t=s;else{var e=u(t),n=o/e[2];t=new Pl(n,r[0]-e[0]*n,r[1]-e[1]*n)}i.zoom(null,t)}})}function m(t,e){for(var n,i=0,r=M.length;i<r;++i)if((n=M[i]).that===t)return n;return new a(t,e)}function a(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=y.apply(t,e)}function e(){function t(){e.wheel=null,e.end()}if(f.apply(this,arguments)){var e=m(this,arguments),n=this.__zoom,i=Math.max(_,Math.min(b,n.k*Math.pow(2,-G.event.deltaY*(G.event.deltaMode?120:1)/500))),r=jc(this);if(e.wheel)e.mouse[0][0]===r[0]&&e.mouse[0][1]===r[1]||(e.mouse[1]=n.invert(e.mouse[0]=r)),clearTimeout(e.wheel);else{if(n.k===i)return;e.mouse=[r,n.invert(r)],ld(this),e.start()}Ow(),e.wheel=setTimeout(t,E),e.zoom("mouse",g(p(d(n,i),e.mouse[0],e.mouse[1]),e.extent))}}function n(){function t(){Ow(),n.moved=!0,n.zoom("mouse",g(p(n.that.__zoom,n.mouse[0]=jc(n.that),n.mouse[1]),n.extent))}function e(){i.on("mousemove.zoom mouseup.zoom",null),_t(G.event.view,n.moved),Ow(),n.end()}if(!c&&f.apply(this,arguments)){var n=m(this,arguments),i=wh(G.event.view).on("mousemove.zoom",t,!0).on("mouseup.zoom",e,!0),r=jc(this);Mh(G.event.view),Ll(),n.mouse=[r,this.__zoom.invert(r)],ld(this),n.start()}}function i(){if(f.apply(this,arguments)){var t=this.__zoom,e=jc(this),n=t.invert(e),i=g(p(d(t,t.k*(G.event.shiftKey?.5:2)),e,n),y.apply(this,arguments));Ow(),0<k?wh(this).transition().duration(k).call(r,i,e):wh(this).call(o.transform,i)}}function s(){if(f.apply(this,arguments)){var t,e,n,i,r=m(this,arguments),o=G.event.changedTouches,a=o.length;for(Ll(),e=0;e<a;++e)n=o[e],i=[i=Th(this,o,n.identifier),this.__zoom.invert(i),n.identifier],r.touch0?r.touch1||(r.touch1=i):(r.touch0=i,t=!0);if(v&&(v=clearTimeout(v),!r.touch1))return r.end(),void((i=wh(this).on("dblclick.zoom"))&&i.apply(this,arguments));t&&(v=setTimeout(function(){v=null},P),ld(this),r.start())}}function u(){var t,e,n,i,r=m(this,arguments),o=G.event.changedTouches,a=o.length;for(Ow(),v&&(v=clearTimeout(v)),t=0;t<a;++t)e=o[t],n=Th(this,o,e.identifier),r.touch0&&r.touch0[2]===e.identifier?r.touch0[0]=n:r.touch1&&r.touch1[2]===e.identifier&&(r.touch1[0]=n);if(e=r.that.__zoom,r.touch1){var s=r.touch0[0],u=r.touch0[1],l=r.touch1[0],c=r.touch1[1],h=(h=l[0]-s[0])*h+(h=l[1]-s[1])*h,f=(f=c[0]-u[0])*f+(f=c[1]-u[1])*f;e=d(e,Math.sqrt(h/f)),n=[(s[0]+l[0])/2,(s[1]+l[1])/2],i=[(u[0]+c[0])/2,(u[1]+c[1])/2]}else{if(!r.touch0)return;n=r.touch0[0],i=r.touch0[1]}r.zoom("touch",g(p(e,n,i),r.extent))}function l(){var t,e,n=m(this,arguments),i=G.event.changedTouches,r=i.length;for(Ll(),c&&clearTimeout(c),c=setTimeout(function(){c=null},P),t=0;t<r;++t)e=i[t],n.touch0&&n.touch0[2]===e.identifier?delete n.touch0:n.touch1&&n.touch1[2]===e.identifier&&delete n.touch1;n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0||n.end()}var v,c,f=Dl,y=Nl,_=0,b=1/0,x=-b,w=b,S=x,T=w,k=250,C=If,M=[],A=L("start","zoom","end"),P=500,E=150;return o.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",Il),t!==n?r(t,e):n.interrupt().each(function(){m(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},o.scaleBy=function(t,e){o.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},o.scaleTo=function(t,r){o.transform(t,function(){var t=y.apply(this,arguments),e=this.__zoom,n=h(t),i=e.invert(n);return g(p(d(e,"function"==typeof r?r.apply(this,arguments):r),n,i),t)})},o.translateBy=function(t,e,n){o.transform(t,function(){return g(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),y.apply(this,arguments))})},a.prototype={start:function(){return 1==++this.active&&(this.index=M.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(M.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){D(new Al(o,t,this.that.__zoom),A.apply,A,[t,this.that,this.args])}},o.filter=function(t){return arguments.length?(f="function"==typeof t?t:Nw(!!t),o):f},o.extent=function(t){return arguments.length?(y="function"==typeof t?t:Nw([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),o):y},o.scaleExtent=function(t){return arguments.length?(_=+t[0],b=+t[1],o):[_,b]},o.translateExtent=function(t){return arguments.length?(x=+t[0][0],w=+t[1][0],S=+t[0][1],T=+t[1][1],o):[[x,S],[w,T]]},o.duration=function(t){return arguments.length?(k=+t,o):k},o.interpolate=function(t){return arguments.length?(C=t,o):C},o.on=function(){var t=A.on.apply(A,arguments);return t===A?o:t},o};G.version="4.7.2",G.bisect=zl,G.bisectRight=zl,G.bisectLeft=Hl,G.ascending=Ol,G.bisector=Rl,G.cross=Vl,G.descending=Gl,G.deviation=Bl,G.extent=Wl,G.histogram=rc,G.thresholdFreedmanDiaconis=ac,G.thresholdScott=sc,G.thresholdSturges=ic,G.max=uc,G.mean=lc,G.median=cc,G.merge=hc,G.min=fc,G.pairs=jl,G.permute=dc,G.quantile=oc,G.range=Zl,G.scan=pc,G.shuffle=gc,G.sum=mc,G.ticks=nc,G.tickStep=T,G.transpose=vc,G.variance=$l,G.zip=yc,G.axisTop=a,G.axisRight=u,G.axisBottom=l,G.axisLeft=h,G.brush=_p,G.brushX=Ln,G.brushY=Dn,G.brushSelection=En,G.chord=Cp,G.ribbon=Dp,G.nest=Np,G.set=Xn,G.map=qn,G.keys=Op,G.values=Rp,G.entries=Fp,G.color=Ct,G.rgb=Et,G.hsl=It,G.lab=zt,G.hcl=Bt,G.cubehelix=Yt,G.dispatch=L,G.drag=Ph,G.dragDisable=Mh,G.dragEnable=_t,G.dsvFormat=zp,G.csvParse=jp,G.csvParseRows=Vp,G.csvFormat=Gp,G.csvFormatRows=qp,G.tsvParse=Bp,G.tsvParseRows=Wp,G.tsvFormat=Up,G.tsvFormatRows=Yp,G.easeLinear=rn,G.easeQuad=sn,G.easeQuadIn=on,G.easeQuadOut=an,G.easeQuadInOut=sn,G.easeCubic=cn,G.easeCubicIn=un,G.easeCubicOut=ln,G.easeCubicInOut=cn,G.easePoly=Id,G.easePolyIn=Dd,G.easePolyOut=Nd,G.easePolyInOut=Id,G.easeSin=dn,G.easeSinIn=hn,G.easeSinOut=fn,G.easeSinInOut=dn,G.easeExp=mn,G.easeExpIn=pn,G.easeExpOut=gn,G.easeExpInOut=mn,G.easeCircle=_n,G.easeCircleIn=vn,G.easeCircleOut=yn,G.easeCircleInOut=_n,G.easeBounce=xn,G.easeBounceIn=bn,G.easeBounceOut=xn,G.easeBounceInOut=wn,G.easeBack=Xd,G.easeBackIn=Ud,G.easeBackOut=Yd,G.easeBackInOut=Xd,G.easeElastic=Zd,G.easeElasticIn=Kd,G.easeElasticOut=Zd,G.easeElasticInOut=Jd,G.forceCenter=Xp,G.forceCollide=dg,G.forceLink=pg,G.forceManyBody=yg,G.forceSimulation=vg,G.forceX=_g,G.forceY=bg,G.formatDefaultLocale=gi,G.formatLocale=Lg,G.formatSpecifier=di,G.precisionFixed=Dg,G.precisionPrefix=Ng,G.precisionRound=Ig,G.geoArea=Hm,G.geoBounds=Gm,G.geoCentroid=$m,G.geoCircle=ov,G.geoClipExtent=fv,G.geoContains=Sv,G.geoDistance=bv,G.geoGraticule=Tr,G.geoGraticule10=kr,G.geoInterpolate=Tv,G.geoLength=vv,G.geoPath=Kv,G.geoAlbers=sy,G.geoAlbersUsa=uy,G.geoAzimuthalEqualArea=cy,G.geoAzimuthalEqualAreaRaw=ly,G.geoAzimuthalEquidistant=fy,G.geoAzimuthalEquidistantRaw=hy,G.geoConicConformal=py,G.geoConicConformalRaw=po,G.geoConicEqualArea=ay,G.geoConicEqualAreaRaw=ao,G.geoConicEquidistant=my,G.geoConicEquidistantRaw=mo,G.geoEquirectangular=gy,G.geoEquirectangularRaw=go,G.geoGnomonic=vy,G.geoGnomonicRaw=vo,G.geoIdentity=yy,G.geoProjection=no,G.geoProjectionMutator=io,G.geoMercator=dy,G.geoMercatorRaw=co,G.geoOrthographic=_y,G.geoOrthographicRaw=_o,G.geoStereographic=by,G.geoStereographicRaw=bo,G.geoTransverseMercator=xy,G.geoTransverseMercatorRaw=xo,G.geoRotation=rv,G.geoStream=Om,G.geoTransform=ey,G.cluster=wy,G.hierarchy=Lo,G.pack=zy,G.packSiblings=Ry,G.packEnclose=Oy,G.partition=Vy,G.stratify=By,G.tree=Wy,G.treemap=Qy,G.treemapBinary=Ky,G.treemapDice=jy,G.treemapSlice=Uy,G.treemapSliceDice=Zy,G.treemapSquarify=Xy,G.treemapResquarify=Jy,G.interpolate=Cf,G.interpolateArray=_f,G.interpolateBasis=df,G.interpolateBasisClosed=pf,G.interpolateDate=bf,G.interpolateNumber=xf,G.interpolateObject=wf,G.interpolateRound=Mf,G.interpolateString=kf,G.interpolateTransformCss=Lf,G.interpolateTransformSvg=Df,G.interpolateZoom=If,G.interpolateRgb=mf,G.interpolateRgbBasis=vf,G.interpolateRgbBasisClosed=yf,G.interpolateHsl=Of,G.interpolateHslLong=Rf,G.interpolateLab=fe,G.interpolateHcl=Ff,G.interpolateHclLong=zf,G.interpolateCubehelix=Hf,G.interpolateCubehelixLong=jf,G.quantize=Vf,G.path=Rn,G.polygonArea=t_,G.polygonCentroid=e_,G.polygonHull=i_,G.polygonContains=r_,G.polygonLength=o_,G.quadtree=ri,G.queue=ba,G.randomUniform=u_,G.randomNormal=l_,G.randomLogNormal=c_,G.randomBates=f_,G.randomIrwinHall=h_,G.randomExponential=d_,G.request=p_,G.html=m_,G.json=v_,G.text=y_,G.xml=__,G.csv=x_,G.tsv=w_,G.scaleBand=ka,G.scalePoint=Ma,G.scaleIdentity=Fa,G.scaleLinear=Ra,G.scaleLog=$a,G.scaleOrdinal=Ta,G.scaleImplicit=C_,G.scalePow=Wa,G.scaleSqrt=Ua,G.scaleQuantile=Ya,G.scaleQuantize=Xa,G.scaleThreshold=Qa,G.scaleTime=Yb,G.scaleUtc=Xb,G.schemeCategory10=Kb,G.schemeCategory20b=Zb,G.schemeCategory20c=Jb,G.schemeCategory20=tx,G.interpolateCubehelixDefault=ex,G.interpolateRainbow=ox,G.interpolateWarm=nx,G.interpolateCool=ix,G.interpolateViridis=ax,G.interpolateMagma=sx,G.interpolateInferno=ux,G.interpolatePlasma=lx,G.scaleSequential=ru,G.creator=Ec,G.local=y,G.matcher=Oc,G.mouse=jc,G.namespace=Pc,G.namespaces=Ac,G.select=wh,G.selectAll=Sh,G.selection=vt,G.selector=Vc,G.selectorAll=qc,G.touch=Th,G.touches=kh,G.window=uh,G.customEvent=D,G.arc=wx,G.area=kx,G.line=Tx,G.pie=Ax,G.radialArea=Lx,G.radialLine=Ex,G.symbol=Qx,G.symbols=Xx,G.symbolCircle=Dx,G.symbolCross=Nx,G.symbolDiamond=Rx,G.symbolSquare=Vx,G.symbolStar=jx,G.symbolTriangle=qx,G.symbolWye=Yx,G.curveBasisClosed=Jx,G.curveBasisOpen=tw,G.curveBasis=Zx,G.curveBundle=ew,G.curveCardinalClosed=iw,G.curveCardinalOpen=rw,G.curveCardinal=nw,G.curveCatmullRomClosed=aw,G.curveCatmullRomOpen=sw,G.curveCatmullRom=ow,G.curveLinearClosed=uw,G.curveLinear=Sx,G.curveMonotoneX=Vu,G.curveMonotoneY=Gu,G.curveNatural=lw,G.curveStep=cw,G.curveStepAfter=Uu,G.curveStepBefore=Wu,G.stack=pw,G.stackOffsetExpand=gw,G.stackOffsetNone=fw,G.stackOffsetSilhouette=mw,G.stackOffsetWiggle=vw,G.stackOrderAscending=yw,G.stackOrderDescending=_w,G.stackOrderInsideOut=bw,G.stackOrderNone=dw,G.stackOrderReverse=xw,G.timeInterval=Ka,G.timeMillisecond=I_,G.timeMilliseconds=O_,G.utcMillisecond=I_,G.utcMilliseconds=O_,G.timeSecond=z_,G.timeSeconds=H_,G.utcSecond=z_,G.utcSeconds=H_,G.timeMinute=j_,G.timeMinutes=V_,G.timeHour=G_,G.timeHours=q_,G.timeDay=$_,G.timeDays=B_,G.timeWeek=W_,G.timeWeeks=J_,G.timeSunday=W_,G.timeSundays=J_,G.timeMonday=U_,G.timeMondays=tb,G.timeTuesday=Y_,G.timeTuesdays=eb,G.timeWednesday=X_,G.timeWednesdays=nb,G.timeThursday=Q_,G.timeThursdays=ib,G.timeFriday=K_,G.timeFridays=rb,G.timeSaturday=Z_,G.timeSaturdays=ob,G.timeMonth=ab,G.timeMonths=sb,G.timeYear=ub,G.timeYears=lb,G.utcMinute=cb,G.utcMinutes=hb,G.utcHour=fb,G.utcHours=db,G.utcDay=pb,G.utcDays=gb,G.utcWeek=mb,G.utcWeeks=Sb,G.utcSunday=mb,G.utcSundays=Sb,G.utcMonday=vb,G.utcMondays=Tb,G.utcTuesday=yb,G.utcTuesdays=kb,G.utcWednesday=_b,G.utcWednesdays=Cb,G.utcThursday=bb,G.utcThursdays=Mb,G.utcFriday=xb,G.utcFridays=Ab,G.utcSaturday=wb,G.utcSaturdays=Pb,G.utcMonth=Eb,G.utcMonths=Lb,G.utcYear=Db,G.utcYears=Ib,G.timeFormatDefaultLocale=Ks,G.timeFormatLocale=is,G.isoFormat=Hb,G.isoParse=jb,G.now=ge,G.timer=ye,G.timerFlush=_e,G.timeout=Kf,G.interval=Zf,G.transition=en,G.active=ip,G.interrupt=ld,G.voronoi=Dw,G.zoom=Rw,G.zoomTransform=El,G.zoomIdentity=Iw,Object.defineProperty(G,"__esModule",{value:!0})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(window.jQuery)}(function(g){"use strict";var m=function(t,e){return null==t||0===t.length||e&&""===g.trim(t)},a=function(t,e){var n=this;n.$element=g(t),n.init(e),n.listen()};a.prototype={constructor:a,init:function(t){var n=this,e=n.$element;g.each(t,function(t,e){n[t]=e}),n.initCache(),n.enableCache=!!n.enableCache,m(n.addCss)||e.hasClass(n.addCss)||e.addClass(n.addCss),n.$pane=e.find(".tab-pane.active"),n.$content=e.find(".tab-content"),n.$tabs=e.find(".nav-tabs"),n.isVertical=e.hasClass("tabs-left")||e.hasClass("tabs-right"),n.isVerticalSide=n.isVertical&&e.hasClass("tab-sideways"),n.isVertical&&n.$content.css("min-height",n.$tabs.outerHeight()+1+"px")},setTitle:function(t){var e=this,n=g.trim(t.text()),i=e.isVertical,r=m(t.data("maxTitleLength"))?e.maxTitleLength:t.data("maxTitleLength");i&&n.length>r-2&&m(t.attr("title"))&&t.attr("title",n)},listen:function(){var p=this,t=p.$element;t.find(".nav-tabs li.disabled").each(function(){g(this).find('[data-toggle="tab"]').removeAttr("data-toggle")}),t.find('.nav-tabs li [data-toggle="dropdown"]').each(function(){p.setTitle(g(this))}),t.find('.nav-tabs li [data-toggle="tab"]').each(function(){var f=g(this),d=f.closest("li");d.removeAttr("data-toggle"),p.setTitle(f),f.on("click",function(t){if(d.hasClass("disabled"))t.preventDefault();else{var e,n=g(this).attr("data-url"),i=this.hash,r=n+i;if(m(n)||p.enableCache&&p.cache.exist(r))f.trigger("tabsX:click");else{t.preventDefault();var o=g(i),a=g(this),s=a,u=g(this).attr("data-loading-class")||"kv-tab-loading",l=a.closest(".dropdown"),c=p.successCallback[i]||null,h=p.errorCallback[i]||null;m(l.attr("class"))||(s=l.find(".dropdown-toggle")),e=g.extend(!0,{},{type:"post",dataType:"json",url:n,beforeSend:function(t,e){o.html("<br><br><br>"),s.removeClass(u).addClass(u),f.trigger("tabsX:beforeSend",[t,e])},success:function(t,e,n){setTimeout(function(){o.html(t),a.tab("show"),s.removeClass(u),p.enableCache&&p.cache.set(r),c&&"function"==typeof c&&c(t,e,n),f.trigger("tabsX:success",[t,e,n])},300)},error:function(t,e,n){h&&"function"==typeof h&&h(t,e,n),f.trigger("tabsX:error",[t,e,n])},complete:function(t,e){f.trigger("tabsX:click",[t,e])}},p.ajaxSettings),g.ajax(e)}}})})},initCache:function(){var e=this,n=parseFloat(e.cacheTimeout);isNaN(n)&&(n=0),e.cache={data:{},create:function(){return(new Date).getTime()},exist:function(t){return!!e.cache.data[t]&&e.cache.create()-e.cache.data[t]<n},set:function(t){e.cache.data[t]=e.cache.create()}}},flushCache:function(t){var n=this;"string"==typeof t&&(t=[t]),"object"!=typeof t||m(t)?n.cache.data={}:Object.values(t).forEach(function(e){Object.keys(n.cache.data).forEach(function(t){t.endsWith(e)&&delete n.cache.data[t]})})}},g.fn.tabsX=function(i){var r=Array.apply(null,arguments),o=[];switch(r.shift(),this.each(function(){var t=g(this),e=t.data("tabsX"),n="object"==typeof i&&i;e||(e=new a(this,g.extend(!0,{},g.fn.tabsX.defaults,n,g(this).data())),t.data("tabsX",e)),"string"==typeof i&&o.push(e[i].apply(e,r))}),o.length){case 0:return this;case 1:return o[0];default:return o}},g.fn.tabsX.defaults={enableCache:!0,cacheTimeout:3e5,maxTitleLength:9,ajaxSettings:{},successCallback:{},errorCallback:{},addCss:"tabs-krajee"},g.fn.tabsX.Constructor=a,g(document).on("ready",function(){g(".tabs-x").tabsX({})})}),(Base=function(){}).extend=function(t,e){"use strict";var n=Base.prototype.extend;Base._prototyping=!0;var i=new this;n.call(i,t),i.base=function(){},delete Base._prototyping;var r=i.constructor,o=i.constructor=function(t){if(!Base._prototyping)if(this._constructing||this.constructor==o)this._constructing=!0,r.apply(this,arguments),delete this._constructing;else if(null!==t)return(t.extend||n).call(t,i)};return o.ancestor=this,o.extend=this.extend,o.forEach=this.forEach,o.implement=this.implement,o.prototype=i,o.toString=this.toString,o.valueOf=function(t){return"object"==t?o:r.valueOf()},n.call(o,e),"function"==typeof o.init&&o.init(),o},Base.prototype={extend:function(t,e){if(1<arguments.length){var n=this[t];if(n&&"function"==typeof e&&(!n.valueOf||n.valueOf()!=e.valueOf())&&/\bbase\b/.test(e)){var i=e.valueOf();(e=function(){var t=this.base||Base.prototype.base;this.base=n;var e=i.apply(this,arguments);return this.base=t,e}).valueOf=function(t){return"object"==t?e:i},e.toString=Base.toString}this[t]=e}else if(t){var r=Base.prototype.extend;Base._prototyping||"function"==typeof this||(r=this.extend||r);for(var o={toSource:null},a=["constructor","toString","valueOf"],s=Base._prototyping?0:1;u=a[s++];)t[u]!=o[u]&&r.call(this,u,t[u]);for(var u in t)o[u]||r.call(this,u,t[u])}return this}},Base=Base.extend({constructor:function(t){this.extend(t)}},{ancestor:Object,version:"1.1",forEach:function(t,e,n){for(var i in t)void 0===this.prototype[i]&&e.call(n,t[i],i,t)},implement:function(){for(var t=0;t<arguments.length;t++)"function"==typeof arguments[t]?arguments[t](this.prototype):this.prototype.extend(arguments[t]);return this},toString:function(){return String(this.valueOf())}}),function(n){"use strict";(FlipClock=function(t,e,n){return e instanceof Object&&e instanceof Date==0&&(n=e,e=0),new FlipClock.Factory(t,e,n)}).Lang={},FlipClock.Base=Base.extend({buildDate:"2014-10-06",version:"0.7.5",constructor:function(t,e){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={}),this.setOptions(n.extend(!0,{},t,e))},callback:function(t){if("function"==typeof t){for(var e=[],n=1;n<=arguments.length;n++)arguments[n]&&e.push(arguments[n]);t.apply(this,e)}},log:function(t){window.console&&console.log&&console.log(t)},getOption:function(t){return!!this[t]&&this[t]},getOptions:function(){return this},setOption:function(t,e){this[t]=e},setOptions:function(t){for(var e in t)"undefined"!=typeof t[e]&&this.setOption(e,t[e])}})}(jQuery),function(a){"use strict";FlipClock.Face=FlipClock.Base.extend({autoStart:!0,dividers:[],factory:!1,lists:[],constructor:function(t,e){this.dividers=[],this.lists=[],this.base(e),this.factory=t},build:function(){this.autoStart&&this.start()},createDivider:function(t,e,n){"boolean"!=typeof e&&e||(n=e,e=t);var i=['<span class="'+this.factory.classes.dot+' top"></span>','<span class="'+this.factory.classes.dot+' bottom"></span>'].join("");n&&(i=""),t=this.factory.localize(t);var r=['<span class="'+this.factory.classes.divider+" "+(e||"").toLowerCase()+'">','<span class="'+this.factory.classes.label+'">'+(t||"")+"</span>",i,"</span>"],o=a(r.join(""));return this.dividers.push(o),o},createList:function(t,e){"object"==typeof t&&(e=t,t=0);var n=new FlipClock.List(this.factory,t,e);return this.lists.push(n),n},reset:function(){this.factory.time=new FlipClock.Time(this.factor,this.factory.original?Math.round(this.factory.original):0,{minimumDigits:this.factory.minimumDigits}),this.flip(this.factory.original,!1)},appendDigitToClock:function(t){t.$el.append(!1)},addDigit:function(t){var e=this.createList(t,{classes:{active:this.factory.classes.active,before:this.factory.classes.before,flip:this.factory.classes.flip}});this.appendDigitToClock(e)},start:function(){},stop:function(){},autoIncrement:function(){this.factory.countdown?this.decrement():this.increment()},increment:function(){this.factory.time.addSecond()},decrement:function(){0==this.factory.time.getTimeSeconds()?this.factory.stop():this.factory.time.subSecond()},flip:function(t,i){var r=this;a.each(t,function(t,e){var n=r.lists[t];n?(i||e==n.digit||n.play(),n.select(e)):r.addDigit(e)})}})}(jQuery),function(i){"use strict";FlipClock.Factory=FlipClock.Base.extend({animationRate:1e3,autoStart:!0,callbacks:{destroy:!1,create:!1,init:!1,interval:!1,start:!1,stop:!1,reset:!1},classes:{active:"flip-clock-active",before:"flip-clock-before",divider:"flip-clock-divider",dot:"flip-clock-dot",label:"flip-clock-label",flip:"flip",play:"play",wrapper:"flip-clock-wrapper"},clockFace:"HourlyCounter",countdown:!1,defaultClockFace:"HourlyCounter",defaultLanguage:"english",$el:!1,face:!0,lang:!1,language:"english",minimumDigits:0,original:!1,running:!1,time:!1,timer:!1,$wrapper:!1,constructor:function(t,e,n){n||(n={}),this.lists=[],this.running=!1,this.base(n),this.$el=i(t).addClass(this.classes.wrapper),this.$wrapper=this.$el,this.original=e instanceof Date?e:e?Math.round(e):0,this.time=new FlipClock.Time(this,this.original,{minimumDigits:this.minimumDigits,animationRate:this.animationRate}),this.timer=new FlipClock.Timer(this,n),this.loadLanguage(this.language),this.loadClockFace(this.clockFace,n),this.autoStart&&this.start()},loadClockFace:function(t,e){var n,i="Face",r=!1;return t=t.ucfirst()+i,this.face.stop&&(this.stop(),r=!0),this.$el.html(""),this.time.minimumDigits=this.minimumDigits,(n=FlipClock[t]?new FlipClock[t](this,e):new FlipClock[this.defaultClockFace+i](this,e)).build(),this.face=n,r&&this.start(),this.face},loadLanguage:function(t){var e;return e=FlipClock.Lang[t.ucfirst()]?FlipClock.Lang[t.ucfirst()]:FlipClock.Lang[t]?FlipClock.Lang[t]:FlipClock.Lang[this.defaultLanguage],this.lang=e},localize:function(t,e){var n=this.lang;if(!t)return null;var i=t.toLowerCase();return"object"==typeof e&&(n=e),n&&n[i]?n[i]:t},start:function(t){var e=this;e.running||e.countdown&&!(e.countdown&&0<e.time.time)?e.log("Trying to start timer when countdown already at 0"):(e.face.start(e.time),e.timer.start(function(){e.flip(),"function"==typeof t&&t()}))},stop:function(t){for(var e in this.face.stop(),this.timer.stop(t),this.lists)this.lists.hasOwnProperty(e)&&this.lists[e].stop()},reset:function(t){this.timer.reset(t),this.face.reset()},setTime:function(t){this.time.time=t,this.flip(!0)},getTime:function(){return this.time},setCountdown:function(t){var e=this.running;this.countdown=!!t,e&&(this.stop(),this.start())},flip:function(t){this.face.flip(!1,t)}})}(jQuery),function(e){"use strict";FlipClock.List=FlipClock.Base.extend({digit:0,classes:{active:"flip-clock-active",before:"flip-clock-before",flip:"flip"},factory:!1,$el:!1,$obj:!1,items:[],lastDigit:0,constructor:function(t,e){this.factory=t,this.digit=e,this.lastDigit=e,this.$el=this.createList(),this.$obj=this.$el,0<e&&this.select(e),this.factory.$el.append(this.$el)},select:function(t){if(void 0===t?t=this.digit:this.digit=t,this.digit!=this.lastDigit){var e=this.$el.find("."+this.classes.before).removeClass(this.classes.before);this.$el.find("."+this.classes.active).removeClass(this.classes.active).addClass(this.classes.before),this.appendListItem(this.classes.active,this.digit),e.remove(),this.lastDigit=this.digit}},play:function(){this.$el.addClass(this.factory.classes.play)},stop:function(){var t=this;setTimeout(function(){t.$el.removeClass(t.factory.classes.play)},this.factory.timer.interval)},createListItem:function(t,e){return['<li class="'+(t||"")+'">','<a href="#">','<div class="up">','<div class="shadow"></div>','<div class="inn">'+(e||"")+"</div>","</div>",'<div class="down">','<div class="shadow"></div>','<div class="inn">'+(e||"")+"</div>","</div>","</a>","</li>"].join("")},appendListItem:function(t,e){var n=this.createListItem(t,e);this.$el.append(n)},createList:function(){var t=this.getPrevDigit()?this.getPrevDigit():this.digit;return e(['<ul class="'+this.classes.flip+" "+(this.factory.running?this.factory.classes.play:"")+'">',this.createListItem(this.classes.before,t),this.createListItem(this.classes.active,this.digit),"</ul>"].join(""))},getNextDigit:function(){return 9==this.digit?0:this.digit+1},getPrevDigit:function(){return 0==this.digit?9:this.digit-1}})}(jQuery),function(n){"use strict";String.prototype.ucfirst=function(){return this.substr(0,1).toUpperCase()+this.substr(1)},n.fn.FlipClock=function(t,e){return new FlipClock(n(this),t,e)},n.fn.flipClock=function(t,e){return n.fn.FlipClock(t,e)}}(jQuery),function(o){"use strict";FlipClock.Time=FlipClock.Base.extend({time:0,factory:!1,minimumDigits:0,constructor:function(t,e,n){"object"!=typeof n&&(n={}),n.minimumDigits||(n.minimumDigits=t.minimumDigits),this.base(n),this.factory=t,e&&(this.time=e)},convertDigitsToArray:function(t){var e=[];t=t.toString();for(var n=0;n<t.length;n++)t[n].match(/^\d*$/g)&&e.push(t[n]);return e},digit:function(t){var e=this.toString(),n=e.length;return!!e[n-t]&&e[n-t]},digitize:function(t){var i=[];if(o.each(t,function(t,e){1==(e=e.toString()).length&&(e="0"+e);for(var n=0;n<e.length;n++)i.push(e.charAt(n))}),i.length>this.minimumDigits&&(this.minimumDigits=i.length),this.minimumDigits>i.length)for(var e=i.length;e<this.minimumDigits;e++)i.unshift("0");return i},getDateObject:function(){return this.time instanceof Date?this.time:new Date((new Date).getTime()+1e3*this.getTimeSeconds())},getDayCounter:function(t){var e=[this.getDays(),this.getHours(!0),this.getMinutes(!0)];return t&&e.push(this.getSeconds(!0)),this.digitize(e)},getDays:function(t){var e=this.getTimeSeconds()/60/60/24;return t&&(e%=7),Math.floor(e)},getHourCounter:function(){return this.digitize([this.getHours(),this.getMinutes(!0),this.getSeconds(!0)])},getHourly:function(){return this.getHourCounter()},getHours:function(t){var e=this.getTimeSeconds()/60/60;return t&&(e%=24),Math.floor(e)},getMilitaryTime:function(t,e){void 0===e&&(e=!0),t||(t=this.getDateObject());var n=[t.getHours(),t.getMinutes()];return!0===e&&n.push(t.getSeconds()),this.digitize(n)},getMinutes:function(t){var e=this.getTimeSeconds()/60;return t&&(e%=60),Math.floor(e)},getMinuteCounter:function(){return this.digitize([this.getMinutes(),this.getSeconds(!0)])},getTimeSeconds:function(t){return t||(t=new Date),this.time instanceof Date?this.factory.countdown?Math.max(this.time.getTime()/1e3-t.getTime()/1e3,0):t.getTime()/1e3-this.time.getTime()/1e3:this.time},getTime:function(t,e){void 0===e&&(e=!0),t||(t=this.getDateObject()),console.log(t);var n=t.getHours(),i=[12<n?n-12:0===n?12:n,t.getMinutes()];return!0===e&&i.push(t.getSeconds()),this.digitize(i)},getSeconds:function(t){var e=this.getTimeSeconds();return t&&(60==e?e=0:e%=60),Math.ceil(e)},getWeeks:function(t){var e=this.getTimeSeconds()/60/60/24/7;return t&&(e%=52),Math.floor(e)},removeLeadingZeros:function(e,n){var i=0,r=[];return o.each(n,function(t){t<e?i+=parseInt(n[t],10):r.push(n[t])}),0===i?r:n},addSeconds:function(t){this.time instanceof Date?this.time.setSeconds(this.time.getSeconds()+t):this.time+=t},addSecond:function(){this.addSeconds(1)},subSeconds:function(t){this.time instanceof Date?this.time.setSeconds(this.time.getSeconds()-t):this.time-=t},subSecond:function(){this.subSeconds(1)},toString:function(){return this.getTimeSeconds().toString()}})}(jQuery),function(){"use strict";FlipClock.Timer=FlipClock.Base.extend({callbacks:{destroy:!1,create:!1,init:!1,interval:!1,start:!1,stop:!1,reset:!1},count:0,factory:!1,interval:1e3,animationRate:1e3,constructor:function(t,e){this.base(e),this.factory=t,this.callback(this.callbacks.init),this.callback(this.callbacks.create)},getElapsed:function(){return this.count*this.interval},getElapsedTime:function(){return new Date(this.time+this.getElapsed())},reset:function(t){clearInterval(this.timer),this.count=0,this._setInterval(t),this.callback(this.callbacks.reset)},start:function(t){this.factory.running=!0,this._createTimer(t),this.callback(this.callbacks.start)},stop:function(t){this.factory.running=!1,this._clearInterval(t),this.callback(this.callbacks.stop),this.callback(t)},_clearInterval:function(){clearInterval(this.timer)},_createTimer:function(t){this._setInterval(t)},_destroyTimer:function(t){this._clearInterval(),this.timer=!1,this.callback(t),this.callback(this.callbacks.destroy)},_interval:function(t){this.callback(this.callbacks.interval),this.callback(t),this.count++},_setInterval:function(t){var e=this;e._interval(t),e.timer=setInterval(function(){e._interval(t)},this.interval)}})}(jQuery),function(i){FlipClock.TwentyFourHourClockFace=FlipClock.Face.extend({constructor:function(t,e){this.base(t,e)},build:function(t){var n=this,e=this.factory.$el.find("ul");this.factory.time.time||(this.factory.original=new Date,this.factory.time=new FlipClock.Time(this.factory,this.factory.original)),(t=t||this.factory.time.getMilitaryTime(!1,this.showSeconds)).length>e.length&&i.each(t,function(t,e){n.createList(e)}),this.createDivider(),this.createDivider(),i(this.dividers[0]).insertBefore(this.lists[this.lists.length-2].$el),i(this.dividers[1]).insertBefore(this.lists[this.lists.length-4].$el),this.base()},flip:function(t,e){this.autoIncrement(),t=t||this.factory.time.getMilitaryTime(!1,this.showSeconds),this.base(t,e)}})}(jQuery),function(i){FlipClock.CounterFace=FlipClock.Face.extend({shouldAutoIncrement:!1,constructor:function(e,t){"object"!=typeof t&&(t={}),e.autoStart=!!t.autoStart,t.autoStart&&(this.shouldAutoIncrement=!0),e.increment=function(){e.countdown=!1,e.setTime(e.getTime().getTimeSeconds()+1)},e.decrement=function(){e.countdown=!0;var t=e.getTime().getTimeSeconds();0<t&&e.setTime(t-1)},e.setValue=function(t){e.setTime(t)},e.setCounter=function(t){e.setTime(t)},this.base(e,t)},build:function(){var n=this,t=this.factory.$el.find("ul"),e=this.factory.getTime().digitize([this.factory.getTime().time]);e.length>t.length&&i.each(e,function(t,e){n.createList(e).select(e)}),i.each(this.lists,function(t,e){e.play()}),this.base()},flip:function(t,e){this.shouldAutoIncrement&&this.autoIncrement(),t||(t=this.factory.getTime().digitize([this.factory.getTime().time])),this.base(t,e)},reset:function(){this.factory.time=new FlipClock.Time(this.factory,this.factory.original?Math.round(this.factory.original):0),this.flip()}})}(jQuery),function(r){FlipClock.DailyCounterFace=FlipClock.Face.extend({showSeconds:!0,constructor:function(t,e){this.base(t,e)},build:function(t){var n=this,e=this.factory.$el.find("ul"),i=0;(t=t||this.factory.time.getDayCounter(this.showSeconds)).length>e.length&&r.each(t,function(t,e){n.createList(e)}),this.showSeconds?r(this.createDivider("Seconds")).insertBefore(this.lists[this.lists.length-2].$el):i=2,r(this.createDivider("Minutes")).insertBefore(this.lists[this.lists.length-4+i].$el),r(this.createDivider("Hours")).insertBefore(this.lists[this.lists.length-6+i].$el),r(this.createDivider("Days",!0)).insertBefore(this.lists[0].$el),this.base()},flip:function(t,e){t||(t=this.factory.time.getDayCounter(this.showSeconds)),this.autoIncrement(),this.base(t,e)}})}(jQuery),function(r){FlipClock.HourlyCounterFace=FlipClock.Face.extend({constructor:function(t,e){this.base(t,e)},build:function(t,e){var n=this,i=this.factory.$el.find("ul");(e=e||this.factory.time.getHourCounter()).length>i.length&&r.each(e,function(t,e){n.createList(e)}),r(this.createDivider("Seconds")).insertBefore(this.lists[this.lists.length-2].$el),r(this.createDivider("Minutes")).insertBefore(this.lists[this.lists.length-4].$el),t||r(this.createDivider("Hours",!0)).insertBefore(this.lists[0].$el),this.base()},flip:function(t,e){t||(t=this.factory.time.getHourCounter()),this.autoIncrement(),this.base(t,e)},appendDigitToClock:function(t){this.base(t),this.dividers[0].insertAfter(this.dividers[0].next())}})}(jQuery),jQuery,FlipClock.MinuteCounterFace=FlipClock.HourlyCounterFace.extend({clearExcessDigits:!1,constructor:function(t,e){this.base(t,e)},build:function(){this.base(!0,this.factory.time.getMinuteCounter())},flip:function(t,e){t||(t=this.factory.time.getMinuteCounter()),this.base(t,e)}}),function(e){FlipClock.TwelveHourClockFace=FlipClock.TwentyFourHourClockFace.extend({meridium:!1,meridiumText:"AM",build:function(){var t=this.factory.time.getTime(!1,this.showSeconds);this.base(t),this.meridiumText=this.getMeridium(),this.meridium=e(['<ul class="flip-clock-meridium">',"<li>",'<a href="#">'+this.meridiumText+"</a>","</li>","</ul>"].join("")),this.meridium.insertAfter(this.lists[this.lists.length-1].$el)},flip:function(t,e){this.meridiumText!=this.getMeridium()&&(this.meridiumText=this.getMeridium(),this.meridium.find("a").html(this.meridiumText)),this.base(this.factory.time.getTime(!1,this.showSeconds),e)},getMeridium:function(){return 12<=(new Date).getHours()?"PM":"AM"},isPM:function(){
return"PM"==this.getMeridium()},isAM:function(){return"AM"==this.getMeridium()}})}(jQuery),jQuery,FlipClock.Lang.Arabic={years:"\u0633\u0646\u0648\u0627\u062a",months:"\u0634\u0647\u0648\u0631",days:"\u0623\u064a\u0627\u0645",hours:"\u0633\u0627\u0639\u0627\u062a",minutes:"\u062f\u0642\u0627\u0626\u0642",seconds:"\u062b\u0648\u0627\u0646\u064a"},FlipClock.Lang.ar=FlipClock.Lang.Arabic,FlipClock.Lang["ar-ar"]=FlipClock.Lang.Arabic,FlipClock.Lang.arabic=FlipClock.Lang.Arabic,jQuery,FlipClock.Lang.Danish={years:"\xc5r",months:"M\xe5neder",days:"Dage",hours:"Timer",minutes:"Minutter",seconds:"Sekunder"},FlipClock.Lang.da=FlipClock.Lang.Danish,FlipClock.Lang["da-dk"]=FlipClock.Lang.Danish,FlipClock.Lang.danish=FlipClock.Lang.Danish,jQuery,FlipClock.Lang.German={years:"Jahre",months:"Monate",days:"Tage",hours:"Stunden",minutes:"Minuten",seconds:"Sekunden"},FlipClock.Lang.de=FlipClock.Lang.German,FlipClock.Lang["de-de"]=FlipClock.Lang.German,FlipClock.Lang.german=FlipClock.Lang.German,jQuery,FlipClock.Lang.English={years:"Years",months:"Months",days:"Days",hours:"Hours",minutes:"Minutes",seconds:"Seconds"},FlipClock.Lang.en=FlipClock.Lang.English,FlipClock.Lang["en-us"]=FlipClock.Lang.English,FlipClock.Lang.english=FlipClock.Lang.English,jQuery,FlipClock.Lang.Spanish={years:"A&#241;os",months:"Meses",days:"D&#205;as",hours:"Horas",minutes:"Minutos",seconds:"Segundo"},FlipClock.Lang.es=FlipClock.Lang.Spanish,FlipClock.Lang["es-es"]=FlipClock.Lang.Spanish,FlipClock.Lang.spanish=FlipClock.Lang.Spanish,jQuery,FlipClock.Lang.Finnish={years:"Vuotta",months:"Kuukautta",days:"P\xe4iv\xe4\xe4",hours:"Tuntia",minutes:"Minuuttia",seconds:"Sekuntia"},FlipClock.Lang.fi=FlipClock.Lang.Finnish,FlipClock.Lang["fi-fi"]=FlipClock.Lang.Finnish,FlipClock.Lang.finnish=FlipClock.Lang.Finnish,jQuery,FlipClock.Lang.French={years:"Ans",months:"Mois",days:"Jours",hours:"Heures",minutes:"Minutes",seconds:"Secondes"},FlipClock.Lang.fr=FlipClock.Lang.French,FlipClock.Lang["fr-ca"]=FlipClock.Lang.French,FlipClock.Lang.french=FlipClock.Lang.French,jQuery,FlipClock.Lang.Italian={years:"Anni",months:"Mesi",days:"Giorni",hours:"Ore",minutes:"Minuti",seconds:"Secondi"},FlipClock.Lang.it=FlipClock.Lang.Italian,FlipClock.Lang["it-it"]=FlipClock.Lang.Italian,FlipClock.Lang.italian=FlipClock.Lang.Italian,jQuery,FlipClock.Lang.Latvian={years:"Gadi",months:"M\u0113ne\u0161i",days:"Dienas",hours:"Stundas",minutes:"Min\u016btes",seconds:"Sekundes"},FlipClock.Lang.lv=FlipClock.Lang.Latvian,FlipClock.Lang["lv-lv"]=FlipClock.Lang.Latvian,FlipClock.Lang.latvian=FlipClock.Lang.Latvian,jQuery,FlipClock.Lang.Dutch={years:"Jaren",months:"Maanden",days:"Dagen",hours:"Uren",minutes:"Minuten",seconds:"Seconden"},FlipClock.Lang.nl=FlipClock.Lang.Dutch,FlipClock.Lang["nl-be"]=FlipClock.Lang.Dutch,FlipClock.Lang.dutch=FlipClock.Lang.Dutch,jQuery,FlipClock.Lang.Norwegian={years:"\xc5r",months:"M\xe5neder",days:"Dager",hours:"Timer",minutes:"Minutter",seconds:"Sekunder"},FlipClock.Lang.no=FlipClock.Lang.Norwegian,FlipClock.Lang.nb=FlipClock.Lang.Norwegian,FlipClock.Lang["no-nb"]=FlipClock.Lang.Norwegian,FlipClock.Lang.norwegian=FlipClock.Lang.Norwegian,jQuery,FlipClock.Lang.Portuguese={years:"Anos",months:"Meses",days:"Dias",hours:"Horas",minutes:"Minutos",seconds:"Segundos"},FlipClock.Lang.pt=FlipClock.Lang.Portuguese,FlipClock.Lang["pt-br"]=FlipClock.Lang.Portuguese,FlipClock.Lang.portuguese=FlipClock.Lang.Portuguese,jQuery,FlipClock.Lang.Russian={years:"\u043b\u0435\u0442",months:"\u043c\u0435\u0441\u044f\u0446\u0435\u0432",days:"\u0434\u043d\u0435\u0439",hours:"\u0447\u0430\u0441\u043e\u0432",minutes:"\u043c\u0438\u043d\u0443\u0442",seconds:"\u0441\u0435\u043a\u0443\u043d\u0434"},FlipClock.Lang.ru=FlipClock.Lang.Russian,FlipClock.Lang["ru-ru"]=FlipClock.Lang.Russian,FlipClock.Lang.russian=FlipClock.Lang.Russian,jQuery,FlipClock.Lang.Swedish={years:"\xc5r",months:"M\xe5nader",days:"Dagar",hours:"Timmar",minutes:"Minuter",seconds:"Sekunder"},FlipClock.Lang.sv=FlipClock.Lang.Swedish,FlipClock.Lang["sv-se"]=FlipClock.Lang.Swedish,FlipClock.Lang.swedish=FlipClock.Lang.Swedish,function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(c){"use strict";var s=window.Slick||{};(s=function(){function t(t,e){var n,i=this;i.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:c(t),appendDots:c(t),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,e){return c('<button type="button" />').text(e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},i.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},c.extend(i,i.initials),i.activeBreakpoint=null,i.animType=null,i.animProp=null,i.breakpoints=[],i.breakpointSettings=[],i.cssTransitions=!1,i.focussed=!1,i.interrupted=!1,i.hidden="hidden",i.paused=!0,i.positionProp=null,i.respondTo=null,i.rowCount=1,i.shouldClick=!0,i.$slider=c(t),i.$slidesCache=null,i.transformType=null,i.transitionType=null,i.visibilityChange="visibilitychange",i.windowWidth=0,i.windowTimer=null,n=c(t).data("slick")||{},i.options=c.extend({},i.defaults,e,n),i.currentSlide=i.options.initialSlide,i.originalSettings=i.options,"undefined"!=typeof document.mozHidden?(i.hidden="mozHidden",i.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(i.hidden="webkitHidden",i.visibilityChange="webkitvisibilitychange"),i.autoPlay=c.proxy(i.autoPlay,i),i.autoPlayClear=c.proxy(i.autoPlayClear,i),i.autoPlayIterator=c.proxy(i.autoPlayIterator,i),i.changeSlide=c.proxy(i.changeSlide,i),i.clickHandler=c.proxy(i.clickHandler,i),i.selectHandler=c.proxy(i.selectHandler,i),i.setPosition=c.proxy(i.setPosition,i),i.swipeHandler=c.proxy(i.swipeHandler,i),i.dragHandler=c.proxy(i.dragHandler,i),i.keyHandler=c.proxy(i.keyHandler,i),i.instanceUid=r++,i.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,i.registerBreakpoints(),i.init(!0)}var r=0;return t}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},s.prototype.addSlide=s.prototype.slickAdd=function(t,e,n){var i=this;if("boolean"==typeof e)n=e,e=null;else if(e<0||e>=i.slideCount)return!1;i.unload(),"number"==typeof e?0===e&&0===i.$slides.length?c(t).appendTo(i.$slideTrack):n?c(t).insertBefore(i.$slides.eq(e)):c(t).insertAfter(i.$slides.eq(e)):!0===n?c(t).prependTo(i.$slideTrack):c(t).appendTo(i.$slideTrack),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slides.each(function(t,e){c(e).attr("data-slick-index",t)}),i.$slidesCache=i.$slides,i.reinit()},s.prototype.animateHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.animate({height:e},t.options.speed)}},s.prototype.animateSlide=function(t,e){var n={},i=this;i.animateHeight(),!0===i.options.rtl&&!1===i.options.vertical&&(t=-t),!1===i.transformsEnabled?!1===i.options.vertical?i.$slideTrack.animate({left:t},i.options.speed,i.options.easing,e):i.$slideTrack.animate({top:t},i.options.speed,i.options.easing,e):!1===i.cssTransitions?(!0===i.options.rtl&&(i.currentLeft=-i.currentLeft),c({animStart:i.currentLeft}).animate({animStart:t},{duration:i.options.speed,easing:i.options.easing,step:function(t){t=Math.ceil(t),!1===i.options.vertical?n[i.animType]="translate("+t+"px, 0px)":n[i.animType]="translate(0px,"+t+"px)",i.$slideTrack.css(n)},complete:function(){e&&e.call()}})):(i.applyTransition(),t=Math.ceil(t),!1===i.options.vertical?n[i.animType]="translate3d("+t+"px, 0px, 0px)":n[i.animType]="translate3d(0px,"+t+"px, 0px)",i.$slideTrack.css(n),e&&setTimeout(function(){i.disableTransition(),e.call()},i.options.speed))},s.prototype.getNavTarget=function(){var t=this,e=t.options.asNavFor;return e&&null!==e&&(e=c(e).not(t.$slider)),e},s.prototype.asNavFor=function(e){var t=this.getNavTarget();null!==t&&"object"==typeof t&&t.each(function(){var t=c(this).slick("getSlick");t.unslicked||t.slideHandler(e,!0)})},s.prototype.applyTransition=function(t){var e=this,n={};!1===e.options.fade?n[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:n[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(n):e.$slides.eq(t).css(n)},s.prototype.autoPlay=function(){var t=this;t.autoPlayClear(),t.slideCount>t.options.slidesToShow&&(t.autoPlayTimer=setInterval(t.autoPlayIterator,t.options.autoplaySpeed))},s.prototype.autoPlayClear=function(){var t=this;t.autoPlayTimer&&clearInterval(t.autoPlayTimer)},s.prototype.autoPlayIterator=function(){var t=this,e=t.currentSlide+t.options.slidesToScroll;t.paused||t.interrupted||t.focussed||(!1===t.options.infinite&&(1===t.direction&&t.currentSlide+1===t.slideCount-1?t.direction=0:0===t.direction&&(e=t.currentSlide-t.options.slidesToScroll,t.currentSlide-1==0&&(t.direction=1))),t.slideHandler(e))},s.prototype.buildArrows=function(){var t=this;!0===t.options.arrows&&(t.$prevArrow=c(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=c(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),!0!==t.options.infinite&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},s.prototype.buildDots=function(){var t,e,n=this;if(!0===n.options.dots&&n.slideCount>n.options.slidesToShow){for(n.$slider.addClass("slick-dotted"),e=c("<ul />").addClass(n.options.dotsClass),t=0;t<=n.getDotCount();t+=1)e.append(c("<li />").append(n.options.customPaging.call(this,n,t)));n.$dots=e.appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active")}},s.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,e){c(e).attr("data-slick-index",t).data("originalStyling",c(e).attr("style")||"")}),t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?c('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),!0!==t.options.centerMode&&!0!==t.options.swipeToSlide||(t.options.slidesToScroll=1),c("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),!0===t.options.draggable&&t.$list.addClass("draggable")},s.prototype.buildRows=function(){var t,e,n,i,r,o,a,s=this;if(i=document.createDocumentFragment(),o=s.$slider.children(),0<s.options.rows){for(a=s.options.slidesPerRow*s.options.rows,r=Math.ceil(o.length/a),t=0;t<r;t++){var u=document.createElement("div");for(e=0;e<s.options.rows;e++){var l=document.createElement("div");for(n=0;n<s.options.slidesPerRow;n++){var c=t*a+(e*s.options.slidesPerRow+n);o.get(c)&&l.appendChild(o.get(c))}u.appendChild(l)}i.appendChild(u)}s.$slider.empty().append(i),s.$slider.children().children().children().css({width:100/s.options.slidesPerRow+"%",display:"inline-block"})}},s.prototype.checkResponsive=function(t,e){var n,i,r,o=this,a=!1,s=o.$slider.width(),u=window.innerWidth||c(window).width();if("window"===o.respondTo?r=u:"slider"===o.respondTo?r=s:"min"===o.respondTo&&(r=Math.min(u,s)),o.options.responsive&&o.options.responsive.length&&null!==o.options.responsive){for(n in i=null,o.breakpoints)o.breakpoints.hasOwnProperty(n)&&(!1===o.originalSettings.mobileFirst?r<o.breakpoints[n]&&(i=o.breakpoints[n]):r>o.breakpoints[n]&&(i=o.breakpoints[n]));null!==i?null!==o.activeBreakpoint?(i!==o.activeBreakpoint||e)&&(o.activeBreakpoint=i,"unslick"===o.breakpointSettings[i]?o.unslick(i):(o.options=c.extend({},o.originalSettings,o.breakpointSettings[i]),!0===t&&(o.currentSlide=o.options.initialSlide),o.refresh(t)),a=i):(o.activeBreakpoint=i,"unslick"===o.breakpointSettings[i]?o.unslick(i):(o.options=c.extend({},o.originalSettings,o.breakpointSettings[i]),!0===t&&(o.currentSlide=o.options.initialSlide),o.refresh(t)),a=i):null!==o.activeBreakpoint&&(o.activeBreakpoint=null,o.options=o.originalSettings,!0===t&&(o.currentSlide=o.options.initialSlide),o.refresh(t),a=i),t||!1===a||o.$slider.trigger("breakpoint",[o,a])}},s.prototype.changeSlide=function(t,e){var n,i,r=this,o=c(t.currentTarget);switch(o.is("a")&&t.preventDefault(),o.is("li")||(o=o.closest("li")),n=r.slideCount%r.options.slidesToScroll!=0?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,t.data.message){case"previous":i=0===n?r.options.slidesToScroll:r.options.slidesToShow-n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-i,!1,e);break;case"next":i=0===n?r.options.slidesToScroll:n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+i,!1,e);break;case"index":var a=0===t.data.index?0:t.data.index||o.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(a),!1,e),o.children().trigger("focus");break;default:return}},s.prototype.checkNavigable=function(t){var e,n;if(n=0,t>(e=this.getNavigableIndexes())[e.length-1])t=e[e.length-1];else for(var i in e){if(t<e[i]){t=n;break}n=e[i]}return t},s.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&(c("li",t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",c.proxy(t.interrupt,t,!0)).off("mouseleave.slick",c.proxy(t.interrupt,t,!1)),!0===t.options.accessibility&&t.$dots.off("keydown.slick",t.keyHandler)),t.$slider.off("focus.slick blur.slick"),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow&&t.$prevArrow.off("keydown.slick",t.keyHandler),t.$nextArrow&&t.$nextArrow.off("keydown.slick",t.keyHandler))),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),c(document).off(t.visibilityChange,t.visibility),t.cleanUpSlideEvents(),!0===t.options.accessibility&&t.$list.off("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&c(t.$slideTrack).children().off("click.slick",t.selectHandler),c(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),c(window).off("resize.slick.slick-"+t.instanceUid,t.resize),c("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),c(window).off("load.slick.slick-"+t.instanceUid,t.setPosition)},s.prototype.cleanUpSlideEvents=function(){var t=this;t.$list.off("mouseenter.slick",c.proxy(t.interrupt,t,!0)),t.$list.off("mouseleave.slick",c.proxy(t.interrupt,t,!1))},s.prototype.cleanUpRows=function(){var t,e=this;0<e.options.rows&&((t=e.$slides.children().children()).removeAttr("style"),e.$slider.empty().append(t))},s.prototype.clickHandler=function(t){!1===this.shouldClick&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},s.prototype.destroy=function(t){var e=this;e.autoPlayClear(),e.touchObject={},e.cleanUpEvents(),c(".slick-cloned",e.$slider).detach(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.$prevArrow.length&&(e.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove()),e.$nextArrow&&e.$nextArrow.length&&(e.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove()),e.$slides&&(e.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){c(this).attr("style",c(this).data("originalStyling"))}),e.$slideTrack.children(this.options.slide).detach(),e.$slideTrack.detach(),e.$list.detach(),e.$slider.append(e.$slides)),e.cleanUpRows(),e.$slider.removeClass("slick-slider"),e.$slider.removeClass("slick-initialized"),e.$slider.removeClass("slick-dotted"),e.unslicked=!0,t||e.$slider.trigger("destroy",[e])},s.prototype.disableTransition=function(t){var e=this,n={};n[e.transitionType]="",!1===e.options.fade?e.$slideTrack.css(n):e.$slides.eq(t).css(n)},s.prototype.fadeSlide=function(t,e){var n=this;!1===n.cssTransitions?(n.$slides.eq(t).css({zIndex:n.options.zIndex}),n.$slides.eq(t).animate({opacity:1},n.options.speed,n.options.easing,e)):(n.applyTransition(t),n.$slides.eq(t).css({opacity:1,zIndex:n.options.zIndex}),e&&setTimeout(function(){n.disableTransition(t),e.call()},n.options.speed))},s.prototype.fadeSlideOut=function(t){var e=this;!1===e.cssTransitions?e.$slides.eq(t).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(t),e.$slides.eq(t).css({opacity:0,zIndex:e.options.zIndex-2}))},s.prototype.filterSlides=s.prototype.slickFilter=function(t){var e=this;null!==t&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(t).appendTo(e.$slideTrack),e.reinit())},s.prototype.focusHandler=function(){var e=this;e.$slider.off("focus.slick blur.slick").on("focus.slick","*",function(){var t=c(this);setTimeout(function(){e.options.pauseOnFocus&&t.is(":focus")&&(e.focussed=!0,e.autoPlay())},0)}).on("blur.slick","*",function(){c(this),e.options.pauseOnFocus&&(e.focussed=!1,e.autoPlay())})},s.prototype.getCurrent=s.prototype.slickCurrentSlide=function(){return this.currentSlide},s.prototype.getDotCount=function(){var t=this,e=0,n=0,i=0;if(!0===t.options.infinite)if(t.slideCount<=t.options.slidesToShow)++i;else for(;e<t.slideCount;)++i,e=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else if(!0===t.options.centerMode)i=t.slideCount;else if(t.options.asNavFor)for(;e<t.slideCount;)++i,e=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else i=1+Math.ceil((t.slideCount-t.options.slidesToShow)/t.options.slidesToScroll);return i-1},s.prototype.getLeft=function(t){var e,n,i,r,o=this,a=0;return o.slideOffset=0,n=o.$slides.first().outerHeight(!0),!0===o.options.infinite?(o.slideCount>o.options.slidesToShow&&(o.slideOffset=o.slideWidth*o.options.slidesToShow*-1,r=-1,!0===o.options.vertical&&!0===o.options.centerMode&&(2===o.options.slidesToShow?r=-1.5:1===o.options.slidesToShow&&(r=-2)),a=n*o.options.slidesToShow*r),o.slideCount%o.options.slidesToScroll!=0&&t+o.options.slidesToScroll>o.slideCount&&o.slideCount>o.options.slidesToShow&&(t>o.slideCount?(o.slideOffset=(o.options.slidesToShow-(t-o.slideCount))*o.slideWidth*-1,a=(o.options.slidesToShow-(t-o.slideCount))*n*-1):(o.slideOffset=o.slideCount%o.options.slidesToScroll*o.slideWidth*-1,a=o.slideCount%o.options.slidesToScroll*n*-1))):t+o.options.slidesToShow>o.slideCount&&(o.slideOffset=(t+o.options.slidesToShow-o.slideCount)*o.slideWidth,a=(t+o.options.slidesToShow-o.slideCount)*n),o.slideCount<=o.options.slidesToShow&&(a=o.slideOffset=0),!0===o.options.centerMode&&o.slideCount<=o.options.slidesToShow?o.slideOffset=o.slideWidth*Math.floor(o.options.slidesToShow)/2-o.slideWidth*o.slideCount/2:!0===o.options.centerMode&&!0===o.options.infinite?o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)-o.slideWidth:!0===o.options.centerMode&&(o.slideOffset=0,o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)),e=!1===o.options.vertical?t*o.slideWidth*-1+o.slideOffset:t*n*-1+a,!0===o.options.variableWidth&&(i=o.slideCount<=o.options.slidesToShow||!1===o.options.infinite?o.$slideTrack.children(".slick-slide").eq(t):o.$slideTrack.children(".slick-slide").eq(t+o.options.slidesToShow),e=!0===o.options.rtl?i[0]?-1*(o.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,!0===o.options.centerMode&&(i=o.slideCount<=o.options.slidesToShow||!1===o.options.infinite?o.$slideTrack.children(".slick-slide").eq(t):o.$slideTrack.children(".slick-slide").eq(t+o.options.slidesToShow+1),e=!0===o.options.rtl?i[0]?-1*(o.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,e+=(o.$list.width()-i.outerWidth())/2)),e},s.prototype.getOption=s.prototype.slickGetOption=function(t){return this.options[t]},s.prototype.getNavigableIndexes=function(){var t,e=this,n=0,i=0,r=[];for(!1===e.options.infinite?t=e.slideCount:(n=-1*e.options.slidesToScroll,i=-1*e.options.slidesToScroll,t=2*e.slideCount);n<t;)r.push(n),n=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return r},s.prototype.getSlick=function(){return this},s.prototype.getSlideCount=function(){var r,o,t,a=this;return t=!0===a.options.centerMode?Math.floor(a.$list.width()/2):0,o=-1*a.swipeLeft+t,!0===a.options.swipeToSlide?(a.$slideTrack.find(".slick-slide").each(function(t,e){var n,i;if(n=c(e).outerWidth(),i=e.offsetLeft,!0!==a.options.centerMode&&(i+=n/2),o<i+n)return r=e,!1}),Math.abs(c(r).attr("data-slick-index")-a.currentSlide)||1):a.options.slidesToScroll},s.prototype.goTo=s.prototype.slickGoTo=function(t,e){this.changeSlide({data:{message:"index",index:parseInt(t)}},e)},s.prototype.init=function(t){var e=this;c(e.$slider).hasClass("slick-initialized")||(c(e.$slider).addClass("slick-initialized"),e.buildRows(),e.buildOut(),e.setProps(),e.startLoad(),e.loadSlider(),e.initializeEvents(),e.updateArrows(),e.updateDots(),e.checkResponsive(!0),e.focusHandler()),t&&e.$slider.trigger("init",[e]),!0===e.options.accessibility&&e.initADA(),e.options.autoplay&&(e.paused=!1,e.autoPlay())},s.prototype.initADA=function(){var i=this,n=Math.ceil(i.slideCount/i.options.slidesToShow),r=i.getNavigableIndexes().filter(function(t){return 0<=t&&t<i.slideCount});i.$slides.add(i.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==i.$dots&&(i.$slides.not(i.$slideTrack.find(".slick-cloned")).each(function(t){var e=r.indexOf(t);if(c(this).attr({role:"tabpanel",id:"slick-slide"+i.instanceUid+t,tabindex:-1}),-1!==e){var n="slick-slide-control"+i.instanceUid+e;c("#"+n).length&&c(this).attr({"aria-describedby":n})}}),i.$dots.attr("role","tablist").find("li").each(function(t){var e=r[t];c(this).attr({role:"presentation"}),c(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+i.instanceUid+t,"aria-controls":"slick-slide"+i.instanceUid+e,"aria-label":t+1+" of "+n,"aria-selected":null,tabindex:"-1"})}).eq(i.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var t=i.currentSlide,e=t+i.options.slidesToShow;t<e;t++)i.options.focusOnChange?i.$slides.eq(t).attr({tabindex:"0"}):i.$slides.eq(t).removeAttr("tabindex");i.activateADA()},s.prototype.initArrowEvents=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.off("click.slick").on("click.slick",{message:"next"},t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow.on("keydown.slick",t.keyHandler),t.$nextArrow.on("keydown.slick",t.keyHandler)))},s.prototype.initDotEvents=function(){var t=this;!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&(c("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),!0===t.options.accessibility&&t.$dots.on("keydown.slick",t.keyHandler)),!0===t.options.dots&&!0===t.options.pauseOnDotsHover&&t.slideCount>t.options.slidesToShow&&c("li",t.$dots).on("mouseenter.slick",c.proxy(t.interrupt,t,!0)).on("mouseleave.slick",c.proxy(t.interrupt,t,!1))},s.prototype.initSlideEvents=function(){var t=this;t.options.pauseOnHover&&(t.$list.on("mouseenter.slick",c.proxy(t.interrupt,t,!0)),t.$list.on("mouseleave.slick",c.proxy(t.interrupt,t,!1)))},s.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.initSlideEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),c(document).on(t.visibilityChange,c.proxy(t.visibility,t)),!0===t.options.accessibility&&t.$list.on("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&c(t.$slideTrack).children().on("click.slick",t.selectHandler),c(window).on("orientationchange.slick.slick-"+t.instanceUid,c.proxy(t.orientationChange,t)),c(window).on("resize.slick.slick-"+t.instanceUid,c.proxy(t.resize,t)),c("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),c(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),c(t.setPosition)},s.prototype.initUI=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.show(),t.$nextArrow.show()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.show()},s.prototype.keyHandler=function(t){var e=this;t.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===t.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:!0===e.options.rtl?"next":"previous"}}):39===t.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:!0===e.options.rtl?"previous":"next"}}))},s.prototype.lazyLoad=function(){function t(t){c("img[data-lazy]",t).each(function(){var t=c(this),e=c(this).attr("data-lazy"),n=c(this).attr("data-srcset"),i=c(this).attr("data-sizes")||o.$slider.attr("data-sizes"),r=document.createElement("img");r.onload=function(){t.animate({opacity:0},100,function(){n&&(t.attr("srcset",n),i&&t.attr("sizes",i)),t.attr("src",e).animate({opacity:1},200,function(){t.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),o.$slider.trigger("lazyLoaded",[o,t,e])})},r.onerror=function(){t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),o.$slider.trigger("lazyLoadError",[o,t,e])},r.src=e})}var e,n,i,o=this;if(!0===o.options.centerMode?!0===o.options.infinite?i=(n=o.currentSlide+(o.options.slidesToShow/2+1))+o.options.slidesToShow+2:(n=Math.max(0,o.currentSlide-(o.options.slidesToShow/2+1)),i=o.options.slidesToShow/2+1+2+o.currentSlide):(n=o.options.infinite?o.options.slidesToShow+o.currentSlide:o.currentSlide,i=Math.ceil(n+o.options.slidesToShow),!0===o.options.fade&&(0<n&&n--,i<=o.slideCount&&i++)),e=o.$slider.find(".slick-slide").slice(n,i),"anticipated"===o.options.lazyLoad)for(var r=n-1,a=i,s=o.$slider.find(".slick-slide"),u=0;u<o.options.slidesToScroll;u++)r<0&&(r=o.slideCount-1),e=(e=e.add(s.eq(r))).add(s.eq(a)),r--,a++;t(e),o.slideCount<=o.options.slidesToShow?t(o.$slider.find(".slick-slide")):o.currentSlide>=o.slideCount-o.options.slidesToShow?t(o.$slider.find(".slick-cloned").slice(0,o.options.slidesToShow)):0===o.currentSlide&&t(o.$slider.find(".slick-cloned").slice(-1*o.options.slidesToShow))},s.prototype.loadSlider=function(){var t=this;t.setPosition(),t.$slideTrack.css({opacity:1}),t.$slider.removeClass("slick-loading"),t.initUI(),"progressive"===t.options.lazyLoad&&t.progressiveLazyLoad()},s.prototype.next=s.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},s.prototype.orientationChange=function(){var t=this;t.checkResponsive(),t.setPosition()},s.prototype.pause=s.prototype.slickPause=function(){var t=this;t.autoPlayClear(),t.paused=!0},s.prototype.play=s.prototype.slickPlay=function(){var t=this;t.autoPlay(),t.options.autoplay=!0,t.paused=!1,t.focussed=!1,t.interrupted=!1},s.prototype.postSlide=function(t){var e=this;!e.unslicked&&(e.$slider.trigger("afterChange",[e,t]),e.animating=!1,e.slideCount>e.options.slidesToShow&&e.setPosition(),e.swipeLeft=null,e.options.autoplay&&e.autoPlay(),!0===e.options.accessibility&&(e.initADA(),e.options.focusOnChange))&&c(e.$slides.get(e.currentSlide)).attr("tabindex",0).focus()},s.prototype.prev=s.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},s.prototype.preventDefault=function(t){t.preventDefault()},s.prototype.progressiveLazyLoad=function(t){t=t||1;var e,n,i,r,o,a=this,s=c("img[data-lazy]",a.$slider);s.length?(e=s.first(),n=e.attr("data-lazy"),i=e.attr("data-srcset"),r=e.attr("data-sizes")||a.$slider.attr("data-sizes"),(o=document.createElement("img")).onload=function(){i&&(e.attr("srcset",i),r&&e.attr("sizes",r)),e.attr("src",n).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===a.options.adaptiveHeight&&a.setPosition(),a.$slider.trigger("lazyLoaded",[a,e,n]),a.progressiveLazyLoad()},o.onerror=function(){t<3?setTimeout(function(){a.progressiveLazyLoad(t+1)},500):(e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),a.$slider.trigger("lazyLoadError",[a,e,n]),a.progressiveLazyLoad())},o.src=n):a.$slider.trigger("allImagesLoaded",[a])},s.prototype.refresh=function(t){var e,n,i=this;n=i.slideCount-i.options.slidesToShow,!i.options.infinite&&i.currentSlide>n&&(i.currentSlide=n),i.slideCount<=i.options.slidesToShow&&(i.currentSlide=0),e=i.currentSlide,i.destroy(!0),c.extend(i,i.initials,{currentSlide:e}),i.init(),t||i.changeSlide({data:{message:"index",index:e}},!1)},s.prototype.registerBreakpoints=function(){var t,e,n,i=this,r=i.options.responsive||null;if("array"===c.type(r)&&r.length){for(t in i.respondTo=i.options.respondTo||"window",r)if(n=i.breakpoints.length-1,r.hasOwnProperty(t)){for(e=r[t].breakpoint;0<=n;)i.breakpoints[n]&&i.breakpoints[n]===e&&i.breakpoints.splice(n,1),n--;i.breakpoints.push(e),i.breakpointSettings[e]=r[t].settings}i.breakpoints.sort(function(t,e){return i.options.mobileFirst?t-e:e-t})}},s.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.cleanUpSlideEvents(),t.initSlideEvents(),t.checkResponsive(!1,!0),!0===t.options.focusOnSelect&&c(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.setPosition(),t.focusHandler(),t.paused=!t.options.autoplay,t.autoPlay(),t.$slider.trigger("reInit",[t])},s.prototype.resize=function(){var t=this;c(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=c(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},s.prototype.removeSlide=s.prototype.slickRemove=function(t,e,n){var i=this;return"boolean"==typeof t?t=!0===(e=t)?0:i.slideCount-1:t=!0===e?--t:t,!(i.slideCount<1||t<0||t>i.slideCount-1)&&(i.unload(),
!0===n?i.$slideTrack.children().remove():i.$slideTrack.children(this.options.slide).eq(t).remove(),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slidesCache=i.$slides,void i.reinit())},s.prototype.setCSS=function(t){var e,n,i=this,r={};!0===i.options.rtl&&(t=-t),e="left"==i.positionProp?Math.ceil(t)+"px":"0px",n="top"==i.positionProp?Math.ceil(t)+"px":"0px",r[i.positionProp]=t,!1===i.transformsEnabled||(!(r={})===i.cssTransitions?r[i.animType]="translate("+e+", "+n+")":r[i.animType]="translate3d("+e+", "+n+", 0px)"),i.$slideTrack.css(r)},s.prototype.setDimensions=function(){var t=this;!1===t.options.vertical?!0===t.options.centerMode&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),!0===t.options.centerMode&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),!1===t.options.vertical&&!1===t.options.variableWidth?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):!0===t.options.variableWidth?t.$slideTrack.width(5e3*t.slideCount):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var e=t.$slides.first().outerWidth(!0)-t.$slides.first().width();!1===t.options.variableWidth&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},s.prototype.setFade=function(){var n,i=this;i.$slides.each(function(t,e){n=i.slideWidth*t*-1,!0===i.options.rtl?c(e).css({position:"relative",right:n,top:0,zIndex:i.options.zIndex-2,opacity:0}):c(e).css({position:"relative",left:n,top:0,zIndex:i.options.zIndex-2,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},s.prototype.setHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.css("height",e)}},s.prototype.setOption=s.prototype.slickSetOption=function(t,e,n){var i,r,o,a,s,u=this,l=!1;if("object"===c.type(t)?(o=t,l=e,s="multiple"):"string"===c.type(t)&&(a=e,l=n,"responsive"===(o=t)&&"array"===c.type(e)?s="responsive":void 0!==e&&(s="single")),"single"===s)u.options[o]=a;else if("multiple"===s)c.each(o,function(t,e){u.options[t]=e});else if("responsive"===s)for(r in a)if("array"!==c.type(u.options.responsive))u.options.responsive=[a[r]];else{for(i=u.options.responsive.length-1;0<=i;)u.options.responsive[i].breakpoint===a[r].breakpoint&&u.options.responsive.splice(i,1),i--;u.options.responsive.push(a[r])}l&&(u.unload(),u.reinit())},s.prototype.setPosition=function(){var t=this;t.setDimensions(),t.setHeight(),!1===t.options.fade?t.setCSS(t.getLeft(t.currentSlide)):t.setFade(),t.$slider.trigger("setPosition",[t])},s.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=!0===t.options.vertical?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===t.options.useCSS&&(t.cssTransitions=!0),t.options.fade&&("number"==typeof t.options.zIndex?t.options.zIndex<3&&(t.options.zIndex=3):t.options.zIndex=t.defaults.zIndex),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&!1!==t.animType&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=t.options.useTransform&&null!==t.animType&&!1!==t.animType},s.prototype.setSlideClasses=function(t){var e,n,i,r,o=this;if(n=o.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),o.$slides.eq(t).addClass("slick-current"),!0===o.options.centerMode){var a=o.options.slidesToShow%2==0?1:0;e=Math.floor(o.options.slidesToShow/2),!0===o.options.infinite&&(e<=t&&t<=o.slideCount-1-e?o.$slides.slice(t-e+a,t+e+1).addClass("slick-active").attr("aria-hidden","false"):(i=o.options.slidesToShow+t,n.slice(i-e+1+a,i+e+2).addClass("slick-active").attr("aria-hidden","false")),0===t?n.eq(n.length-1-o.options.slidesToShow).addClass("slick-center"):t===o.slideCount-1&&n.eq(o.options.slidesToShow).addClass("slick-center")),o.$slides.eq(t).addClass("slick-center")}else 0<=t&&t<=o.slideCount-o.options.slidesToShow?o.$slides.slice(t,t+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):n.length<=o.options.slidesToShow?n.addClass("slick-active").attr("aria-hidden","false"):(r=o.slideCount%o.options.slidesToShow,i=!0===o.options.infinite?o.options.slidesToShow+t:t,o.options.slidesToShow==o.options.slidesToScroll&&o.slideCount-t<o.options.slidesToShow?n.slice(i-(o.options.slidesToShow-r),i+r).addClass("slick-active").attr("aria-hidden","false"):n.slice(i,i+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==o.options.lazyLoad&&"anticipated"!==o.options.lazyLoad||o.lazyLoad()},s.prototype.setupInfinite=function(){var t,e,n,i=this;if(!0===i.options.fade&&(i.options.centerMode=!1),!0===i.options.infinite&&!1===i.options.fade&&(e=null,i.slideCount>i.options.slidesToShow)){for(n=!0===i.options.centerMode?i.options.slidesToShow+1:i.options.slidesToShow,t=i.slideCount;t>i.slideCount-n;t-=1)e=t-1,c(i.$slides[e]).clone(!0).attr("id","").attr("data-slick-index",e-i.slideCount).prependTo(i.$slideTrack).addClass("slick-cloned");for(t=0;t<n+i.slideCount;t+=1)e=t,c(i.$slides[e]).clone(!0).attr("id","").attr("data-slick-index",e+i.slideCount).appendTo(i.$slideTrack).addClass("slick-cloned");i.$slideTrack.find(".slick-cloned").find("[id]").each(function(){c(this).attr("id","")})}},s.prototype.interrupt=function(t){var e=this;t||e.autoPlay(),e.interrupted=t},s.prototype.selectHandler=function(t){var e=this,n=c(t.target).is(".slick-slide")?c(t.target):c(t.target).parents(".slick-slide"),i=parseInt(n.attr("data-slick-index"));return i||(i=0),e.slideCount<=e.options.slidesToShow?void e.slideHandler(i,!1,!0):void e.slideHandler(i)},s.prototype.slideHandler=function(t,e,n){var i,r,o,a,s,u=null,l=this;if(e=e||!1,!(!0===l.animating&&!0===l.options.waitForAnimate||!0===l.options.fade&&l.currentSlide===t))return!1===e&&l.asNavFor(t),i=t,u=l.getLeft(i),a=l.getLeft(l.currentSlide),l.currentLeft=null===l.swipeLeft?a:l.swipeLeft,!1===l.options.infinite&&!1===l.options.centerMode&&(t<0||t>l.getDotCount()*l.options.slidesToScroll)?void(!1===l.options.fade&&(i=l.currentSlide,!0!==n&&l.slideCount>l.options.slidesToShow?l.animateSlide(a,function(){l.postSlide(i)}):l.postSlide(i))):!1===l.options.infinite&&!0===l.options.centerMode&&(t<0||t>l.slideCount-l.options.slidesToScroll)?void(!1===l.options.fade&&(i=l.currentSlide,!0!==n&&l.slideCount>l.options.slidesToShow?l.animateSlide(a,function(){l.postSlide(i)}):l.postSlide(i))):(l.options.autoplay&&clearInterval(l.autoPlayTimer),r=i<0?l.slideCount%l.options.slidesToScroll!=0?l.slideCount-l.slideCount%l.options.slidesToScroll:l.slideCount+i:i>=l.slideCount?l.slideCount%l.options.slidesToScroll!=0?0:i-l.slideCount:i,l.animating=!0,l.$slider.trigger("beforeChange",[l,l.currentSlide,r]),o=l.currentSlide,l.currentSlide=r,l.setSlideClasses(l.currentSlide),l.options.asNavFor&&((s=(s=l.getNavTarget()).slick("getSlick")).slideCount<=s.options.slidesToShow&&s.setSlideClasses(l.currentSlide)),l.updateDots(),l.updateArrows(),!0===l.options.fade?(!0!==n?(l.fadeSlideOut(o),l.fadeSlide(r,function(){l.postSlide(r)})):l.postSlide(r),void l.animateHeight()):void(!0!==n&&l.slideCount>l.options.slidesToShow?l.animateSlide(u,function(){l.postSlide(r)}):l.postSlide(r)))},s.prototype.startLoad=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},s.prototype.swipeDirection=function(){var t,e,n,i,r=this;return t=r.touchObject.startX-r.touchObject.curX,e=r.touchObject.startY-r.touchObject.curY,n=Math.atan2(e,t),(i=Math.round(180*n/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&0<=i?!1===r.options.rtl?"left":"right":i<=360&&315<=i?!1===r.options.rtl?"left":"right":135<=i&&i<=225?!1===r.options.rtl?"right":"left":!0===r.options.verticalSwiping?35<=i&&i<=135?"down":"up":"vertical"},s.prototype.swipeEnd=function(){var t,e,n=this;if(n.dragging=!1,n.swiping=!1,n.scrolling)return n.scrolling=!1;if(n.interrupted=!1,n.shouldClick=!(10<n.touchObject.swipeLength),void 0===n.touchObject.curX)return!1;if(!0===n.touchObject.edgeHit&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe){switch(e=n.swipeDirection()){case"left":case"down":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount(),n.currentDirection=0;break;case"right":case"up":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount(),n.currentDirection=1}"vertical"!=e&&(n.slideHandler(t),n.touchObject={},n.$slider.trigger("swipe",[n,e]))}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})},s.prototype.swipeHandler=function(t){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},s.prototype.swipeMove=function(t){var e,n,i,r,o,a,s=this;return o=void 0!==t.originalEvent?t.originalEvent.touches:null,!(!s.dragging||s.scrolling||o&&1!==o.length)&&(e=s.getLeft(s.currentSlide),s.touchObject.curX=void 0!==o?o[0].pageX:t.clientX,s.touchObject.curY=void 0!==o?o[0].pageY:t.clientY,s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curX-s.touchObject.startX,2))),a=Math.round(Math.sqrt(Math.pow(s.touchObject.curY-s.touchObject.startY,2))),!s.options.verticalSwiping&&!s.swiping&&4<a?!(s.scrolling=!0):(!0===s.options.verticalSwiping&&(s.touchObject.swipeLength=a),n=s.swipeDirection(),void 0!==t.originalEvent&&4<s.touchObject.swipeLength&&(s.swiping=!0,t.preventDefault()),r=(!1===s.options.rtl?1:-1)*(s.touchObject.curX>s.touchObject.startX?1:-1),!0===s.options.verticalSwiping&&(r=s.touchObject.curY>s.touchObject.startY?1:-1),i=s.touchObject.swipeLength,(s.touchObject.edgeHit=!1)===s.options.infinite&&(0===s.currentSlide&&"right"===n||s.currentSlide>=s.getDotCount()&&"left"===n)&&(i=s.touchObject.swipeLength*s.options.edgeFriction,s.touchObject.edgeHit=!0),!1===s.options.vertical?s.swipeLeft=e+i*r:s.swipeLeft=e+i*(s.$list.height()/s.listWidth)*r,!0===s.options.verticalSwiping&&(s.swipeLeft=e+i*r),!0!==s.options.fade&&!1!==s.options.touchMove&&(!0===s.animating?(s.swipeLeft=null,!1):void s.setCSS(s.swipeLeft))))},s.prototype.swipeStart=function(t){var e,n=this;return n.interrupted=!0,1!==n.touchObject.fingerCount||n.slideCount<=n.options.slidesToShow?!(n.touchObject={}):(void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),n.touchObject.startX=n.touchObject.curX=void 0!==e?e.pageX:t.clientX,n.touchObject.startY=n.touchObject.curY=void 0!==e?e.pageY:t.clientY,void(n.dragging=!0))},s.prototype.unfilterSlides=s.prototype.slickUnfilter=function(){var t=this;null!==t.$slidesCache&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.appendTo(t.$slideTrack),t.reinit())},s.prototype.unload=function(){var t=this;c(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},s.prototype.unslick=function(t){var e=this;e.$slider.trigger("unslick",[e,t]),e.destroy()},s.prototype.updateArrows=function(){var t=this;Math.floor(t.options.slidesToShow/2),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&!1===t.options.centerMode?(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-1&&!0===t.options.centerMode&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},s.prototype.updateDots=function(){var t=this;null!==t.$dots&&(t.$dots.find("li").removeClass("slick-active").end(),t.$dots.find("li").eq(Math.floor(t.currentSlide/t.options.slidesToScroll)).addClass("slick-active"))},s.prototype.visibility=function(){var t=this;t.options.autoplay&&(document[t.hidden]?t.interrupted=!0:t.interrupted=!1)},c.fn.slick=function(t){var e,n,i=this,r=t,o=Array.prototype.slice.call(arguments,1),a=i.length;for(e=0;e<a;e++)if("object"==typeof r||void 0===r?i[e].slick=new s(i[e],r):n=i[e].slick[r].apply(i[e].slick,o),void 0!==n)return n;return i}}),function(){var t=this;(function(){(function(){this.Rails={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:{selector:"button[data-remote]:not([form]), button[data-confirm]:not([form])",exclude:"form button"},inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",formDisableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",formEnableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]"}}).call(this)}).call(t);var y=t.Rails;(function(){(function(){var i,n;n=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector,y.matches=function(t,e){return null!=e.exclude?n.call(t,e.selector)&&!n.call(t,e.exclude):n.call(t,e)},i="_ujsData",y.getData=function(t,e){var n;return null!=(n=t[i])?n[e]:void 0},y.setData=function(t,e,n){return null==t[i]&&(t[i]={}),t[i][e]=n},y.$=function(t){return Array.prototype.slice.call(document.querySelectorAll(t))}}).call(this),function(){var n,i,r;n=y.$,r=y.csrfToken=function(){var t;return(t=document.querySelector("meta[name=csrf-token]"))&&t.content},i=y.csrfParam=function(){var t;return(t=document.querySelector("meta[name=csrf-param]"))&&t.content},y.CSRFProtection=function(t){var e;if(null!=(e=r()))return t.setRequestHeader("X-CSRF-Token",e)},y.refreshCSRFTokens=function(){var t,e;if(e=r(),t=i(),null!=e&&null!=t)return n('form input[name="'+t+'"]').forEach(function(t){return t.value=e})}}.call(this),function(){var r,e,o;o=y.matches,"function"!=typeof(r=window.CustomEvent)&&((r=function(t,e){var n;return(n=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}).prototype=window.Event.prototype),e=y.fire=function(t,e,n){var i;return i=new r(e,{bubbles:!0,cancelable:!0,detail:n}),t.dispatchEvent(i),!i.defaultPrevented},y.stopEverything=function(t){return e(t.target,"ujs:everythingStopped"),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()},y.delegate=function(t,n,e,i){return t.addEventListener(e,function(t){var e;for(e=t.target;e instanceof Element&&!o(e,n);)e=e.parentNode;if(e instanceof Element&&!1===i.call(e,t))return t.preventDefault(),t.stopPropagation()})}}.call(this),function(){var e,i,t,r,o;i=y.CSRFProtection,y.fire,e={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},y.ajax=function(e){var n;return e=r(e),n=t(e,function(){var t;return t=o(n.response,n.getResponseHeader("Content-Type")),2===Math.floor(n.status/100)?"function"==typeof e.success&&e.success(t,n.statusText,n):"function"==typeof e.error&&e.error(t,n.statusText,n),"function"==typeof e.complete?e.complete(n,n.statusText):void 0}),!("function"!=typeof e.beforeSend||!e.beforeSend(n,e))&&(n.readyState===XMLHttpRequest.OPENED?n.send(e.data):void 0)},r=function(t){return t.url=t.url||location.href,t.type=t.type.toUpperCase(),"GET"===t.type&&t.data&&(t.url.indexOf("?")<0?t.url+="?"+t.data:t.url+="&"+t.data),null==e[t.dataType]&&(t.dataType="*"),t.accept=e[t.dataType],"*"!==t.dataType&&(t.accept+=", */*; q=0.01"),t},t=function(t,e){var n;return(n=new XMLHttpRequest).open(t.type,t.url,!0),n.setRequestHeader("Accept",t.accept),"string"==typeof t.data&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.crossDomain||n.setRequestHeader("X-Requested-With","XMLHttpRequest"),i(n),n.withCredentials=!!t.withCredentials,n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE)return e(n)},n},o=function(t,e){var n,i;if("string"==typeof t&&"string"==typeof e)if(e.match(/\bjson\b/))try{t=JSON.parse(t)}catch(r){}else if(e.match(/\b(?:java|ecma)script\b/))(i=document.createElement("script")).text=t,document.head.appendChild(i).parentNode.removeChild(i);else if(e.match(/\b(xml|html|svg)\b/)){n=new DOMParser,e=e.replace(/;.+/,"");try{t=n.parseFromString(t,e)}catch(r){}}return t},y.href=function(t){return t.href},y.isCrossDomain=function(t){var e,n;(e=document.createElement("a")).href=location.href,n=document.createElement("a");try{return n.href=t,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return i,!0}}}.call(this),function(){var r,o;r=y.matches,o=function(t){return Array.prototype.slice.call(t)},y.serializeElement=function(t,e){var n,i;return n=[t],r(t,"form")&&(n=o(t.elements)),i=[],n.forEach(function(e){if(e.name&&!e.disabled)return r(e,"select")?o(e.options).forEach(function(t){if(t.selected)return i.push({name:e.name,value:t.value})}):e.checked||-1===["radio","checkbox","submit"].indexOf(e.type)?i.push({name:e.name,value:e.value}):void 0}),e&&i.push(e),i.map(function(t){return null!=t.name?encodeURIComponent(t.name)+"="+encodeURIComponent(t.value):t}).join("&")},y.formElements=function(t,e){return r(t,"form")?o(t.elements).filter(function(t){return r(t,e)}):o(t.querySelectorAll(e))}}.call(this),function(){var e,o,n;o=y.fire,n=y.stopEverything,y.handleConfirm=function(t){if(!e(this))return n(t)},e=function(t){var e,n,i;if(!(i=t.getAttribute("data-confirm")))return!0;if(e=!1,o(t,"confirm")){try{e=confirm(i)}catch(r){}n=o(t,"confirm:complete",[e])}return e&&n}}.call(this),function(){var n,i,r,o,a,s,e,u,l,c,h;l=y.matches,u=y.getData,c=y.setData,h=y.stopEverything,e=y.formElements,y.handleDisabledElement=function(t){if(this.disabled)return h(t)},y.enableElement=function(t){var e;return e=t instanceof Event?t.target:t,l(e,y.linkDisableSelector)?s(e):l(e,y.buttonDisableSelector)||l(e,y.formEnableSelector)?o(e):l(e,y.formSubmitSelector)?a(e):void 0},y.disableElement=function(t){var e;return e=t instanceof Event?t.target:t,l(e,y.linkDisableSelector)?r(e):l(e,y.buttonDisableSelector)||l(e,y.formDisableSelector)?n(e):l(e,y.formSubmitSelector)?i(e):void 0},r=function(t){var e;return null!=(e=t.getAttribute("data-disable-with"))&&(c(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e),t.addEventListener("click",h),c(t,"ujs:disabled",!0)},s=function(t){var e;return null!=(e=u(t,"ujs:enable-with"))&&(t.innerHTML=e,c(t,"ujs:enable-with",null)),t.removeEventListener("click",h),c(t,"ujs:disabled",null)},i=function(t){return e(t,y.formDisableSelector).forEach(n)},n=function(t){var e;return null!=(e=t.getAttribute("data-disable-with"))&&(l(t,"button")?(c(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e):(c(t,"ujs:enable-with",t.value),t.value=e)),t.disabled=!0,c(t,"ujs:disabled",!0)},a=function(t){return e(t,y.formEnableSelector).forEach(o)},o=function(t){var e;return null!=(e=u(t,"ujs:enable-with"))&&(l(t,"button")?t.innerHTML=e:t.value=e,c(t,"ujs:enable-with",null)),t.disabled=!1,c(t,"ujs:disabled",null)}}.call(this),function(){var u;u=y.stopEverything,y.handleMethod=function(t){var e,n,i,r,o,a,s;if(s=(a=this).getAttribute("data-method"))return o=y.href(a),n=y.csrfToken(),e=y.csrfParam(),i=document.createElement("form"),r="<input name='_method' value='"+s+"' type='hidden' />",null==e||null==n||y.isCrossDomain(o)||(r+="<input name='"+e+"' value='"+n+"' type='hidden' />"),r+='<input type="submit" />',i.method="post",i.action=o,i.target=a.target,i.innerHTML=r,i.style.display="none",document.body.appendChild(i),i.querySelector('[type="submit"]').click(),u(t)}}.call(this),function(){var u,l,c,h,f,d,p,g,m,v=[].slice;d=y.matches,c=y.getData,g=y.setData,l=y.fire,m=y.stopEverything,u=y.ajax,h=y.isCrossDomain,p=y.serializeElement,f=function(t){var e;return null!=(e=t.getAttribute("data-remote"))&&"false"!==e},y.handleRemote=function(t){var e,n,i,r,o,a,s;return!f(r=this)||(l(r,"ajax:before")?(s=r.getAttribute("data-with-credentials"),i=r.getAttribute("data-type")||"script",d(r,y.formSubmitSelector)?(e=c(r,"ujs:submit-button"),o=c(r,"ujs:submit-button-formmethod")||r.method,a=c(r,"ujs:submit-button-formaction")||r.getAttribute("action")||location.href,"GET"===o.toUpperCase()&&(a=a.replace(/\?.*$/,"")),"multipart/form-data"===r.enctype?(n=new FormData(r),null!=e&&n.append(e.name,e.value)):n=p(r,e),g(r,"ujs:submit-button",null),g(r,"ujs:submit-button-formmethod",null),g(r,"ujs:submit-button-formaction",null)):d(r,y.buttonClickSelector)||d(r,y.inputChangeSelector)?(o=r.getAttribute("data-method"),a=r.getAttribute("data-url"),n=p(r,r.getAttribute("data-params"))):(o=r.getAttribute("data-method"),a=y.href(r),n=r.getAttribute("data-params")),u({type:o||"GET",url:a,data:n,dataType:i,beforeSend:function(t,e){return l(r,"ajax:beforeSend",[t,e])?l(r,"ajax:send",[t]):(l(r,"ajax:stopped"),!1)},success:function(){var t;return t=1<=arguments.length?v.call(arguments,0):[],l(r,"ajax:success",t)},error:function(){var t;return t=1<=arguments.length?v.call(arguments,0):[],l(r,"ajax:error",t)},complete:function(){var t;return t=1<=arguments.length?v.call(arguments,0):[],l(r,"ajax:complete",t)},crossDomain:h(a),withCredentials:null!=s&&"false"!==s}),m(t)):(l(r,"ajax:stopped"),!1))},y.formSubmitButtonClick=function(){var t,e;if(e=(t=this).form)return t.name&&g(e,"ujs:submit-button",{name:t.name,value:t.value}),g(e,"ujs:formnovalidate-button",t.formNoValidate),g(e,"ujs:submit-button-formaction",t.getAttribute("formaction")),g(e,"ujs:submit-button-formmethod",t.getAttribute("formmethod"))},y.handleMetaClick=function(t){var e,n,i;if(i=((n=this).getAttribute("data-method")||"GET").toUpperCase(),e=n.getAttribute("data-params"),(t.metaKey||t.ctrlKey)&&"GET"===i&&!e)return t.stopImmediatePropagation()}}.call(this),function(){var t,i,e,n,r,o,a,s,u,l,c,h,f,d;o=y.fire,e=y.delegate,s=y.getData,t=y.$,d=y.refreshCSRFTokens,i=y.CSRFProtection,r=y.enableElement,n=y.disableElement,l=y.handleDisabledElement,u=y.handleConfirm,f=y.handleRemote,a=y.formSubmitButtonClick,c=y.handleMetaClick,h=y.handleMethod,"undefined"==typeof jQuery||null===jQuery||null==jQuery.ajax||jQuery.rails||(jQuery.rails=y,jQuery.ajaxPrefilter(function(t,e,n){if(!t.crossDomain)return i(n)})),y.start=function(){if(window._rails_loaded)throw new Error("rails-ujs has already been loaded!");return window.addEventListener("pageshow",function(){return t(y.formEnableSelector).forEach(function(t){if(s(t,"ujs:disabled"))return r(t)}),t(y.linkDisableSelector).forEach(function(t){if(s(t,"ujs:disabled"))return r(t)})}),e(document,y.linkDisableSelector,"ajax:complete",r),e(document,y.linkDisableSelector,"ajax:stopped",r),e(document,y.buttonDisableSelector,"ajax:complete",r),e(document,y.buttonDisableSelector,"ajax:stopped",r),e(document,y.linkClickSelector,"click",l),e(document,y.linkClickSelector,"click",u),e(document,y.linkClickSelector,"click",c),e(document,y.linkClickSelector,"click",n),e(document,y.linkClickSelector,"click",f),e(document,y.linkClickSelector,"click",h),e(document,y.buttonClickSelector,"click",l),e(document,y.buttonClickSelector,"click",u),e(document,y.buttonClickSelector,"click",n),e(document,y.buttonClickSelector,"click",f),e(document,y.inputChangeSelector,"change",l),e(document,y.inputChangeSelector,"change",u),e(document,y.inputChangeSelector,"change",f),e(document,y.formSubmitSelector,"submit",l),e(document,y.formSubmitSelector,"submit",u),e(document,y.formSubmitSelector,"submit",f),e(document,y.formSubmitSelector,"submit",function(t){return setTimeout(function(){return n(t)},13)}),e(document,y.formSubmitSelector,"ajax:send",n),e(document,y.formSubmitSelector,"ajax:complete",r),e(document,y.formInputClickSelector,"click",l),e(document,y.formInputClickSelector,"click",u),e(document,y.formInputClickSelector,"click",a),document.addEventListener("DOMContentLoaded",d),window._rails_loaded=!0},window.Rails===y&&o(document,"rails:attachBindings")&&y.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=y:"function"==typeof define&&define.amd&&define(y)}.call(this),function(){this.Turbolinks={supported:null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener,visit:function(t,e){return Turbolinks.controller.visit(t,e)},clearCache:function(){return Turbolinks.controller.clearCache()},setProgressBarDelay:function(t){return Turbolinks.controller.setProgressBarDelay(t)}}}.call(this),function(){var n,i,u,t,e,r,o,a,s,l=[].slice;Turbolinks.copyObject=function(t){var e,n,i;for(e in n={},t)i=t[e],n[e]=i;return n},Turbolinks.closest=function(t,e){return n.call(t,e)},n=null!=(s=document.documentElement.closest)?s:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&i.call(e,t))return e;e=e.parentNode}},Turbolinks.defer=function(t){return setTimeout(t,1)},Turbolinks.throttle=function(n){var i;return i=null,function(){var t,e;return t=1<=arguments.length?l.call(arguments,0):[],null!=i?i:i=requestAnimationFrame((e=this,function(){return i=null,n.apply(e,t)}))}},Turbolinks.dispatch=function(t,e){var n,i,r,o,a,s;return s=(a=null!=e?e:{}).target,n=a.cancelable,i=a.data,(r=document.createEvent("Events")).initEvent(t,!0,!0===n),r.data=null!=i?i:{},r.cancelable&&!u&&(o=r.preventDefault,r.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),o.call(this)}),(null!=s?s:document).dispatchEvent(r),r},(a=document.createEvent("Events")).initEvent("test",!0,!0),a.preventDefault(),u=a.defaultPrevented,Turbolinks.match=function(t,e){return i.call(t,e)},i=null!=(e=null!=(r=null!=(o=(t=document.documentElement).matchesSelector)?o:t.webkitMatchesSelector)?r:t.msMatchesSelector)?e:t.mozMatchesSelector,Turbolinks.uuid=function(){var t,e,n;for(n="",t=e=1;e<=36;t=++e)n+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}.call(this),function(){Turbolinks.Location=function(){function t(t){var e,n;null==t&&(t=""),(n=document.createElement("a")).href=t.toString(),this.absoluteURL=n.href,(e=n.hash.length)<2?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=n.hash.slice(1))}var e,n,i,r;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=n(t),this.isEqualTo(t)||r(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},n=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return i(t,"/")?t:t+"/"},r=function(t,e){return t.slice(0,e.length)===e},i=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var i=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.HttpRequest=function(){function t(t,e,n){this.delegate=t,this.requestCanceled=i(this.requestCanceled,this),this.requestTimedOut=i(this.requestTimedOut,this),this.requestFailed=i(this.requestFailed,this),this.requestLoaded=i(this.requestLoaded,this),this.requestProgressed=i(this.requestProgressed,this),this.url=Turbolinks.Location.wrap(e).requestURL,this.referrer=Turbolinks.Location.wrap(n).absoluteURL,this.createXHR()}return t.NETWORK_FAILURE=0,t.TIMEOUT_FAILURE=-1,t.timeout=60,t.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},t.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},t.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},t.prototype.requestLoaded=function(){return this.endRequest((e=this,function(){var t;return 200<=(t=e.xhr.status)&&t<300?e.delegate.requestCompletedWithResponse(e.xhr.responseText,e.xhr.getResponseHeader("Turbolinks-Location")):(e.failed=!0,e.delegate.requestFailedWithStatusCode(e.xhr.status,e.xhr.responseText))}));var e},t.prototype.requestFailed=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}));var t},t.prototype.requestTimedOut=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}));var t},t.prototype.requestCanceled=function(){return this.endRequest()},t.prototype.notifyApplicationBeforeRequestStart=function(){return Turbolinks.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},t.prototype.notifyApplicationAfterRequestEnd=function(){return Turbolinks.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},t.prototype.createXHR=function(){
return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},t.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},t.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},t.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},t}()}.call(this),function(){var n=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.ProgressBar=function(){function t(){this.trickle=n(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var e;return e=300,t.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+e+"ms ease-out, opacity "+e/2+"ms "+e/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",t.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement((t=this,function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}))):void 0;var t},t.prototype.setValue=function(t){return this.value=t,this.refresh()},t.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*e)},t.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},t.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,e)},t.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},t.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},t.prototype.refresh=function(){return requestAnimationFrame((t=this,function(){return t.progressElement.style.width=10+90*t.value+"%"}));var t},t.prototype.createStylesheetElement=function(){var t;return(t=document.createElement("style")).type="text/css",t.textContent=this.constructor.defaultCSS,t},t.prototype.createProgressElement=function(){var t;return(t=document.createElement("div")).className="turbolinks-progress-bar",t},t}()}.call(this),function(){var r=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.BrowserAdapter=function(){function t(t){this.controller=t,this.showProgressBar=r(this.showProgressBar,this),this.progressBar=new Turbolinks.ProgressBar}var n,i,e;return e=Turbolinks.HttpRequest,n=e.NETWORK_FAILURE,i=e.TIMEOUT_FAILURE,t.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},t.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},t.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},t.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},t.prototype.visitRequestCompleted=function(t){return t.loadResponse()},t.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case n:case i:return this.reload();default:return t.loadResponse()}},t.prototype.visitRequestFinished=function(){return this.hideProgressBar()},t.prototype.visitCompleted=function(t){return t.followRedirect()},t.prototype.pageInvalidated=function(){return this.reload()},t.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},t.prototype.showProgressBar=function(){return this.progressBar.show()},t.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},t.prototype.reload=function(){return window.location.reload()},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.History=function(){function t(t){this.delegate=t,this.onPageLoad=e(this.onPageLoad,this),this.onPopState=e(this.onPopState,this)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},t.prototype.push=function(t,e){return t=Turbolinks.Location.wrap(t),this.update("push",t,e)},t.prototype.replace=function(t,e){return t=Turbolinks.Location.wrap(t),this.update("replace",t,e)},t.prototype.onPopState=function(t){var e,n,i,r;return this.shouldHandlePopState()&&(r=null!=(n=t.state)?n.turbolinks:void 0)?(e=Turbolinks.Location.wrap(window.location),i=r.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(e,i)):void 0},t.prototype.onPageLoad=function(){return Turbolinks.defer((t=this,function(){return t.pageLoaded=!0}));var t},t.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},t.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},t.prototype.update=function(t,e,n){var i;return i={turbolinks:{restorationIdentifier:n}},history[t+"State"](i,null,e)},t}()}.call(this),function(){Turbolinks.Snapshot=function(){function t(t){var e,n;n=t.head,e=t.body,this.head=null!=n?n:document.createElement("head"),this.body=null!=e?e:document.createElement("body")}return t.wrap=function(t){return t instanceof this?t:this.fromHTML(t)},t.fromHTML=function(t){var e;return(e=document.createElement("html")).innerHTML=t,this.fromElement(e)},t.fromElement=function(t){return new this({head:t.querySelector("head"),body:t.querySelector("body")})},t.prototype.clone=function(){return new t({head:this.head.cloneNode(!0),body:this.body.cloneNode(!0)})},t.prototype.getRootLocation=function(){var t,e;return e=null!=(t=this.getSetting("root"))?t:"/",new Turbolinks.Location(e)},t.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},t.prototype.getElementForAnchor=function(t){try{return this.body.querySelector("[id='"+t+"'], a[name='"+t+"']")}catch(e){}},t.prototype.hasAnchor=function(t){return null!=this.getElementForAnchor(t)},t.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},t.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},t.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},t.prototype.getSetting=function(t){var e,n;return null!=(e=(n=this.head.querySelectorAll("meta[name='turbolinks-"+t+"']"))[n.length-1])?e.getAttribute("content"):void 0},t}()}.call(this),function(){var o=[].slice;Turbolinks.Renderer=function(){function t(){}var n;return t.render=function(t,e){var n,i,r;return i=t,n=e,(r=function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(this,3<=arguments.length?o.call(arguments,2):[],function(){})).delegate=i,r.render(n),r},t.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:((e=document.createElement("script")).textContent=t.textContent,e.async=!1,n(e,t),e)},n=function(t,e){var n,i,r,o,a,s,u;for(s=[],n=0,i=(o=e.attributes).length;n<i;n++)r=(a=o[n]).name,u=a.value,s.push(t.setAttribute(r,u));return s},t}()}.call(this),function(){Turbolinks.HeadDetails=function(){function t(t){var e,n,i,r,o,a;for(this.element=t,this.elements={},i=0,o=(a=this.element.childNodes).length;i<o;i++)(n=a[i]).nodeType===Node.ELEMENT_NODE&&(r=n.outerHTML,(null!=(e=this.elements)[r]?e[r]:e[r]={type:u(n),tracked:s(n),elements:[]}).elements.push(n))}var e,n,s,u;return t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var n;return function(){var t,e;for(n in e=[],t=this.elements)t[n].tracked&&e.push(n);return e}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var n,i,r,o,a,s;for(i in a=[],r=this.elements)s=(o=r[i]).type,n=o.elements,s!==t||e.hasElementWithKey(i)||a.push(n[0]);return a},t.prototype.getProvisionalElements=function(){var t,e,n,i,r,o,a;for(e in n=[],i=this.elements)a=(r=i[e]).type,o=r.tracked,t=r.elements,null!=a||o?1<t.length&&n.push.apply(n,t.slice(1)):n.push.apply(n,t);return n},u=function(t){return e(t)?"script":n(t)?"stylesheet":void 0},s=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},e=function(t){return"script"===t.tagName.toLowerCase()},n=function(t){var e;return"style"===(e=t.tagName.toLowerCase())||"link"===e&&"stylesheet"===t.getAttribute("rel")},t}()}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;Turbolinks.SnapshotRenderer=function(t){function e(t,e,n){this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=n,this.currentHeadDetails=new Turbolinks.HeadDetails(this.currentSnapshot.head),this.newHeadDetails=new Turbolinks.HeadDetails(this.newSnapshot.head),this.newBody=this.newSnapshot.body}return n(e,t),e.prototype.render=function(t){return this.shouldRender()?(this.mergeHead(),this.renderView((e=this,function(){return e.replaceBody(),e.isPreview||e.focusFirstAutofocusableElement(),t()}))):this.invalidateView();var e},e.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},e.prototype.replaceBody=function(){return this.activateBodyScriptElements(),this.importBodyPermanentElements(),this.assignNewBody()},e.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},e.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},e.prototype.copyNewHeadStylesheetElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadStylesheetElements()).length;e<n;e++)t=i[e],r.push(document.head.appendChild(t));return r},e.prototype.copyNewHeadScriptElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadScriptElements()).length;e<n;e++)t=i[e],r.push(document.head.appendChild(this.createScriptElement(t)));return r},e.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getCurrentHeadProvisionalElements()).length;e<n;e++)t=i[e],r.push(document.head.removeChild(t));return r},e.prototype.copyNewHeadProvisionalElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadProvisionalElements()).length;e<n;e++)t=i[e],r.push(document.head.appendChild(t));return r},e.prototype.importBodyPermanentElements=function(){var t,e,n,i,r,o;for(o=[],e=0,n=(i=this.getNewBodyPermanentElements()).length;e<n;e++)r=i[e],(t=this.findCurrentBodyPermanentElement(r))?o.push(r.parentNode.replaceChild(t,r)):o.push(void 0);return o},e.prototype.activateBodyScriptElements=function(){var t,e,n,i,r,o;for(o=[],e=0,n=(i=this.getNewBodyScriptElements()).length;e<n;e++)r=i[e],t=this.createScriptElement(r),o.push(r.parentNode.replaceChild(t,r));return o},e.prototype.assignNewBody=function(){return document.body=this.newBody},e.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.findFirstAutofocusableElement())?t.focus():void 0},e.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},e.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},e.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},e.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},e.prototype.getNewBodyPermanentElements=function(){return this.newBody.querySelectorAll("[id][data-turbolinks-permanent]")},e.prototype.findCurrentBodyPermanentElement=function(t){return document.body.querySelector("#"+t.id+"[data-turbolinks-permanent]")},e.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},e.prototype.findFirstAutofocusableElement=function(){return document.body.querySelector("[autofocus]")},e}(Turbolinks.Renderer)}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;Turbolinks.ErrorRenderer=function(t){function e(t){this.html=t}return n(e,t),e.prototype.render=function(t){return this.renderView((e=this,function(){return e.replaceDocumentHTML(),e.activateBodyScriptElements(),t()}));var e},e.prototype.replaceDocumentHTML=function(){return document.documentElement.innerHTML=this.html},e.prototype.activateBodyScriptElements=function(){var t,e,n,i,r,o;for(o=[],e=0,n=(i=this.getScriptElements()).length;e<n;e++)r=i[e],t=this.createScriptElement(r),o.push(r.parentNode.replaceChild(t,r));return o},e.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},e}(Turbolinks.Renderer)}.call(this),function(){Turbolinks.View=function(){function t(t){this.delegate=t,this.element=document.documentElement}return t.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},t.prototype.getElementForAnchor=function(t){return this.getSnapshot().getElementForAnchor(t)},t.prototype.getSnapshot=function(){return Turbolinks.Snapshot.fromElement(this.element)},t.prototype.render=function(t,e){var n,i,r;return r=t.snapshot,n=t.error,i=t.isPreview,this.markAsPreview(i),null!=r?this.renderSnapshot(r,i,e):this.renderError(n,e)},t.prototype.markAsPreview=function(t){return t?this.element.setAttribute("data-turbolinks-preview",""):this.element.removeAttribute("data-turbolinks-preview")},t.prototype.renderSnapshot=function(t,e,n){return Turbolinks.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),Turbolinks.Snapshot.wrap(t),e)},t.prototype.renderError=function(t,e){return Turbolinks.ErrorRenderer.render(this.delegate,e,t)},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.ScrollManager=function(){function t(t){this.delegate=t,this.onScroll=e(this.onScroll,this),this.onScroll=Turbolinks.throttle(this.onScroll)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},t.prototype.scrollToElement=function(t){return t.scrollIntoView()},t.prototype.scrollToPosition=function(t){var e,n;return e=t.x,n=t.y,window.scrollTo(e,n)},t.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},t.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},t}()}.call(this),function(){Turbolinks.SnapshotCache=function(){function t(t){this.size=t,this.keys=[],this.snapshots={}}var i;return t.prototype.has=function(t){return i(t)in this.snapshots},t.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},t.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},t.prototype.read=function(t){var e;return e=i(t),this.snapshots[e]},t.prototype.write=function(t,e){var n;return n=i(t),this.snapshots[n]=e},t.prototype.touch=function(t){var e,n;return n=i(t),-1<(e=this.keys.indexOf(n))&&this.keys.splice(e,1),this.keys.unshift(n),this.trim()},t.prototype.trim=function(){var t,e,n,i,r;for(r=[],t=0,n=(i=this.keys.splice(this.size)).length;t<n;t++)e=i[t],r.push(delete this.snapshots[e]);return r},i=function(t){return Turbolinks.Location.wrap(t).toCacheKey()},t}()}.call(this),function(){var i=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.Visit=function(){function t(t,e,n){this.controller=t,this.action=n,this.performScroll=i(this.performScroll,this),this.identifier=Turbolinks.uuid(),this.location=Turbolinks.Location.wrap(e),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var n;return t.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},t.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},t.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},t.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},t.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,e=n(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},t.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new Turbolinks.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},t.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},t.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},t.prototype.loadCachedSnapshot=function(){var e,n;return(n=this.getCachedSnapshot())?(e=this.shouldIssueRequest(),this.render(function(){var t;return this.cacheSnapshot(),this.controller.render({snapshot:n,isPreview:e},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),e?void 0:this.complete()})):void 0},t.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},t.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},t.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},t.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},t.prototype.requestCompletedWithResponse=function(t,e){return this.response=t,null!=e&&(this.redirectedToLocation=Turbolinks.Location.wrap(e)),this.adapter.visitRequestCompleted(this)},t.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},t.prototype.requestFinished=function(){var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},t.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},t.prototype.scrollToRestoredPosition=function(){var t,e;return null!=(t=null!=(e=this.restorationData)?e.scrollPosition:void 0)?(this.controller.scrollToPosition(t),!0):void 0},t.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},t.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},t.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},t.prototype.getTimingMetrics=function(){return Turbolinks.copyObject(this.timingMetrics)},n=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},t.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},t.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},t.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame((e=this,function(){return e.frame=null,t.call(e)}));var e},t.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.Controller=function(){function t(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new Turbolinks.History(this),this.view=new Turbolinks.View(this),this.scrollManager=new Turbolinks.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return t.prototype.start=function(){return Turbolinks.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},t.prototype.clearCache=function(){return this.cache=new Turbolinks.SnapshotCache(10)},t.prototype.visit=function(t,e){var n,i;return null==e&&(e={}),t=Turbolinks.Location.wrap(t),this.applicationAllowsVisitingLocation(t)?this.locationIsVisitable(t)?(n=null!=(i=e.action)?i:"advance",this.adapter.visitProposedToLocationWithAction(t,n)):window.location=t:void 0},t.prototype.startVisitToLocationWithAction=function(t,e,n){var i;return Turbolinks.supported?(i=this.getRestorationDataForIdentifier(n),this.startVisit(t,e,{restorationData:i})):window.location=t},t.prototype.setProgressBarDelay=function(t){return this.progressBarDelay=t},t.prototype.startHistory=function(){return this.location=Turbolinks.Location.wrap(window.location),this.restorationIdentifier=Turbolinks.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.stopHistory=function(){return this.history.stop()},t.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=Turbolinks.Location.wrap(t),this.history.push(this.location,this.restorationIdentifier)},t.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=Turbolinks.Location.wrap(t),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.historyPoppedToLocationWithRestorationIdentifier=function(t,e){var n;return this.restorationIdentifier=e,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(t,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=Turbolinks.Location.wrap(t)):this.adapter.pageInvalidated()},t.prototype.getCachedSnapshotForLocation=function(t){var e;return(e=this.cache.get(t))?e.clone():void 0},t.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},t.prototype.cacheSnapshot=function(){var t;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),t=this.view.getSnapshot(),this.cache.put(this.lastRenderedLocation,t.clone())):void 0},t.prototype.scrollToAnchor=function(t){var e;return(e=this.view.getElementForAnchor(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},t.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},t.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},t.prototype.scrollPositionChanged=function(t){return this.getCurrentRestorationData().scrollPosition=t},t.prototype.render=function(t,e){return this.view.render(t,e)},t.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},t.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},t.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},t.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},t.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},t.prototype.clickBubbled=function(t){var e,n,i;return this.enabled&&this.clickEventIsSignificant(t)&&(n=this.getVisitableLinkForNode(t.target))&&(i=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,i)?(t.preventDefault(),e=this.getActionForLink(n),this.visit(i,{action:e})):void 0},t.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){return!this.notifyApplicationAfterClickingLinkToLocation(t,e).defaultPrevented},t.prototype.applicationAllowsVisitingLocation=function(t){return!this.notifyApplicationBeforeVisitingLocation(t).defaultPrevented},t.prototype.notifyApplicationAfterClickingLinkToLocation=function(t,e){return Turbolinks.dispatch("turbolinks:click",{target:t,data:{url:e.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationBeforeVisitingLocation=function(t){return Turbolinks.dispatch("turbolinks:before-visit",{data:{url:t.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationAfterVisitingLocation=function(t){return Turbolinks.dispatch("turbolinks:visit",{data:{url:t.absoluteURL}})},t.prototype.notifyApplicationBeforeCachingSnapshot=function(){return Turbolinks.dispatch("turbolinks:before-cache")},t.prototype.notifyApplicationBeforeRender=function(t){return Turbolinks.dispatch("turbolinks:before-render",{data:{newBody:t}})},t.prototype.notifyApplicationAfterRender=function(){return Turbolinks.dispatch("turbolinks:render")},t.prototype.notifyApplicationAfterPageLoad=function(t){return null==t&&(t={}),Turbolinks.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:t}})},t.prototype.startVisit=function(t,e,n){var i;return null!=(i=this.currentVisit)&&i.cancel(),this.currentVisit=this.createVisit(t,e,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},t.prototype.createVisit=function(t,e,n){var i,r,o,a,s;return a=(r=null!=n?n:{}).restorationIdentifier,o=r.restorationData,i=r.historyChanged,(s=new Turbolinks.Visit(this,t,e)).restorationIdentifier=null!=a?a:Turbolinks.uuid(),s.restorationData=Turbolinks.copyObject(o),s.historyChanged=i,s.referrer=this.location,s},t.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},t.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||1<t.which||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},t.prototype.getVisitableLinkForNode=function(t){return this.nodeIsVisitable(t)?Turbolinks.closest(t,"a[href]:not([target]):not([download])"):void 0},t.prototype.getVisitableLocationForLink=function(t){var e;return e=new Turbolinks.Location(t.getAttribute("href")),this.locationIsVisitable(e)?e:void 0},t.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},t.prototype.nodeIsVisitable=function(t){var e;return!(e=Turbolinks.closest(t,"[data-turbolinks]"))||"false"!==e.getAttribute("data-turbolinks")},t.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},t.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},t.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},t}()}.call(this),function(){!function(){var t,e;if((t=e=document.currentScript)&&!e.hasAttribute("data-turbolinks-suppress-warning"))for(;t=t.parentNode;)if(t===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\u2014\u2014\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",e.outerHTML)}()}.call(this),function(){var t,e,n;Turbolinks.start=function(){return e()?(null==Turbolinks.controller&&(Turbolinks.controller=t()),Turbolinks.controller.start()):void 0},e=function(){return null==window.Turbolinks&&(window.Turbolinks=Turbolinks),n()},t=function(){var t;return(t=new Turbolinks.Controller).adapter=new Turbolinks.BrowserAdapter(t),t},(n=function(){return window.Turbolinks===Turbolinks})()&&Turbolinks.start()}.call(this),(Base=function(){}).extend=function(t,e){"use strict";var n=Base.prototype.extend;Base._prototyping=!0;var i=new this;n.call(i,t),i.base=function(){},delete Base._prototyping;var r=i.constructor,o=i.constructor=function(t){if(!Base._prototyping)if(this._constructing||this.constructor==o)this._constructing=!0,r.apply(this,arguments),delete this._constructing;else if(null!==t)return(t.extend||n).call(t,i)};return o.ancestor=this,o.extend=this.extend,o.forEach=this.forEach,o.implement=this.implement,o.prototype=i,o.toString=this.toString,o.valueOf=function(t){return"object"==t?o:r.valueOf()},n.call(o,e),"function"==typeof o.init&&o.init(),o},Base.prototype={extend:function(t,e){if(1<arguments.length){var n=this[t];if(n&&"function"==typeof e&&(!n.valueOf||n.valueOf()!=e.valueOf())&&/\bbase\b/.test(e)){var i=e.valueOf();(e=function(){var t=this.base||Base.prototype.base;this.base=n;var e=i.apply(this,arguments);return this.base=t,e}).valueOf=function(t){return"object"==t?e:i},e.toString=Base.toString}this[t]=e}else if(t){var r=Base.prototype.extend;Base._prototyping||"function"==typeof this||(r=this.extend||r);for(var o={toSource:null
},a=["constructor","toString","valueOf"],s=Base._prototyping?0:1;u=a[s++];)t[u]!=o[u]&&r.call(this,u,t[u]);for(var u in t)o[u]||r.call(this,u,t[u])}return this}},Base=Base.extend({constructor:function(t){this.extend(t)}},{ancestor:Object,version:"1.1",forEach:function(t,e,n){for(var i in t)this.prototype[i]===undefined&&e.call(n,t[i],i,t)},implement:function(){for(var t=0;t<arguments.length;t++)"function"==typeof arguments[t]?arguments[t](this.prototype):this.prototype.extend(arguments[t]);return this},toString:function(){return String(this.valueOf())}}),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){var t=this;(function(){(function(){var n=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},WebSocket:window.WebSocket,logger:window.console,createConsumer:function(t){var e;return null==t&&(t=null!=(e=this.getConfig("url"))?e:this.INTERNAL.default_mount_path),new u.Consumer(this.createWebSocketURL(t))},getConfig:function(t){var e;return null!=(e=document.head.querySelector("meta[name='action-cable-"+t+"']"))?e.getAttribute("content"):void 0},createWebSocketURL:function(t){var e;return t&&!/^wss?:/i.test(t)?((e=document.createElement("a")).href=t,e.href=e.href,e.protocol=e.protocol.replace("http","ws"),e.href):t},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var t,e;if(t=1<=arguments.length?n.call(arguments,0):[],this.debugging)return t.push(Date.now()),(e=this.logger).log.apply(e,["[ActionCable]"].concat(n.call(t)))}}}).call(this)}).call(t);var u=t.ActionCable;(function(){(function(){var i=function(t,e){return function(){return t.apply(e,arguments)}};u.ConnectionMonitor=function(){function t(t){this.connection=t,this.visibilityDidChange=i(this.visibilityDidChange,this),this.reconnectAttempts=0}var r,e,n;return t.pollInterval={min:3,max:30},t.staleThreshold=6,t.prototype.start=function(){if(!this.isRunning())return this.startedAt=e(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),u.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms")},t.prototype.stop=function(){if(this.isRunning())return this.stoppedAt=e(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),u.log("ConnectionMonitor stopped")},t.prototype.isRunning=function(){return null!=this.startedAt&&null==this.stoppedAt},t.prototype.recordPing=function(){return this.pingedAt=e()},t.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,u.log("ConnectionMonitor recorded connect")},t.prototype.recordDisconnect=function(){return this.disconnectedAt=e(),u.log("ConnectionMonitor recorded disconnect")},t.prototype.startPolling=function(){return this.stopPolling(),this.poll()},t.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},t.prototype.poll=function(){return this.pollTimeout=setTimeout((t=this,function(){return t.reconnectIfStale(),t.poll()}),this.getPollInterval());var t},t.prototype.getPollInterval=function(){var t,e,n,i;return n=(i=this.constructor.pollInterval).min,e=i.max,t=5*Math.log(this.reconnectAttempts+1),Math.round(1e3*r(t,n,e))},t.prototype.reconnectIfStale=function(){if(this.connectionIsStale())return u.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+n(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?u.log("ConnectionMonitor skipping reopening recent disconnect"):(u.log("ConnectionMonitor reopening"),this.connection.reopen())},t.prototype.connectionIsStale=function(){var t;return n(null!=(t=this.pingedAt)?t:this.startedAt)>this.constructor.staleThreshold},t.prototype.disconnectedRecently=function(){return this.disconnectedAt&&n(this.disconnectedAt)<this.constructor.staleThreshold},t.prototype.visibilityDidChange=function(){if("visible"===document.visibilityState)return setTimeout((t=this,function(){if(t.connectionIsStale()||!t.connection.isOpen())return u.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),t.connection.reopen()}),200);var t},e=function(){return(new Date).getTime()},n=function(t){return(e()-t)/1e3},r=function(t,e,n){return Math.max(e,Math.min(n,t))},t}()}).call(this),function(){var t,r,e,n,i,o=[].slice,a=function(t,e){return function(){return t.apply(e,arguments)}},s=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};n=u.INTERNAL,r=n.message_types,e=n.protocols,i=2<=e.length?o.call(e,0,t=e.length-1):(t=0,[]),e[t++],u.Connection=function(){function t(t){this.consumer=t,this.open=a(this.open,this),this.subscriptions=this.consumer.subscriptions,this.monitor=new u.ConnectionMonitor(this),this.disconnected=!0}return t.reopenDelay=500,t.prototype.send=function(t){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(t)),!0)},t.prototype.open=function(){return this.isActive()?(u.log("Attempted to open WebSocket, but existing socket is "+this.getState()),!1):(u.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+e),null!=this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new u.WebSocket(this.consumer.url,e),this.installEventHandlers(),this.monitor.start(),!0)},t.prototype.close=function(t){var e;if((null!=t?t:{allowReconnect:!0}).allowReconnect||this.monitor.stop(),this.isActive())return null!=(e=this.webSocket)?e.close():void 0},t.prototype.reopen=function(){var t;if(u.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(e){return t=e,u.log("Failed to reopen WebSocket",t)}finally{u.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},t.prototype.getProtocol=function(){var t;return null!=(t=this.webSocket)?t.protocol:void 0},t.prototype.isOpen=function(){return this.isState("open")},t.prototype.isActive=function(){return this.isState("open","connecting")},t.prototype.isProtocolSupported=function(){var t;return t=this.getProtocol(),0<=s.call(i,t)},t.prototype.isState=function(){var t,e;return e=1<=arguments.length?o.call(arguments,0):[],t=this.getState(),0<=s.call(e,t)},t.prototype.getState=function(){var t,e;for(e in WebSocket)if(WebSocket[e]===(null!=(t=this.webSocket)?t.readyState:void 0))return e.toLowerCase();return null},t.prototype.installEventHandlers=function(){var t,e;for(t in this.events)e=this.events[t].bind(this),this.webSocket["on"+t]=e},t.prototype.uninstallEventHandlers=function(){var t;for(t in this.events)this.webSocket["on"+t]=function(){}},t.prototype.events={message:function(t){var e,n,i;if(this.isProtocolSupported())switch(e=(i=JSON.parse(t.data)).identifier,n=i.message,i.type){case r.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case r.ping:return this.monitor.recordPing();case r.confirmation:return this.subscriptions.notify(e,"connected");case r.rejection:return this.subscriptions.reject(e);default:return this.subscriptions.notify(e,"received",n)}},open:function(){if(u.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return u.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(){if(u.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){return u.log("WebSocket onerror event")}},t}()}.call(this),function(){var l=[].slice;u.Subscriptions=function(){function t(t){this.consumer=t,this.subscriptions=[]}return t.prototype.create=function(t,e){var n,i,r;return i="object"==typeof(n=t)?n:{channel:n},r=new u.Subscription(this.consumer,i,e),this.add(r)},t.prototype.add=function(t){return this.subscriptions.push(t),this.consumer.ensureActiveConnection(),this.notify(t,"initialized"),this.sendCommand(t,"subscribe"),t},t.prototype.remove=function(t){return this.forget(t),this.findAll(t.identifier).length||this.sendCommand(t,"unsubscribe"),t},t.prototype.reject=function(t){var e,n,i,r,o;for(r=[],e=0,n=(i=this.findAll(t)).length;e<n;e++)o=i[e],this.forget(o),this.notify(o,"rejected"),r.push(o);return r},t.prototype.forget=function(r){var o;return this.subscriptions=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.subscriptions).length;t<e;t++)(o=n[t])!==r&&i.push(o);return i}.call(this),r},t.prototype.findAll=function(t){var e,n,i,r,o;for(r=[],e=0,n=(i=this.subscriptions).length;e<n;e++)(o=i[e]).identifier===t&&r.push(o);return r},t.prototype.reload=function(){var t,e,n,i,r;for(i=[],t=0,e=(n=this.subscriptions).length;t<e;t++)r=n[t],i.push(this.sendCommand(r,"subscribe"));return i},t.prototype.notifyAll=function(t){var e,n,i,r,o,a,s;for(n=t,e=2<=arguments.length?l.call(arguments,1):[],a=[],i=0,r=(o=this.subscriptions).length;i<r;i++)s=o[i],a.push(this.notify.apply(this,[s,n].concat(l.call(e))));return a},t.prototype.notify=function(t,e){var n,i,r,o,a,s,u;for(s=t,i=e,n=3<=arguments.length?l.call(arguments,2):[],a=[],r=0,o=(u="string"==typeof s?this.findAll(s):[s]).length;r<o;r++)s=u[r],a.push("function"==typeof s[i]?s[i].apply(s,n):void 0);return a},t.prototype.sendCommand=function(t,e){var n;return n=t.identifier,this.consumer.send({command:e,identifier:n})},t}()}.call(this),function(){u.Subscription=function(){function t(t,e,n){this.consumer=t,null==e&&(e={}),this.identifier=JSON.stringify(e),i(this,n)}var i;return t.prototype.perform=function(t,e){return null==e&&(e={}),e.action=t,this.send(e)},t.prototype.send=function(t){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(t)})},t.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},i=function(t,e){var n,i;if(null!=e)for(n in e)i=e[n],t[n]=i;return t},t}()}.call(this),function(){u.Consumer=function(){function t(t){this.url=t,this.subscriptions=new u.Subscriptions(this),this.connection=new u.Connection(this)}return t.prototype.send=function(t){return this.connection.send(t)},t.prototype.connect=function(){return this.connection.open()},t.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},t.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},t}()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=u:"function"==typeof define&&define.amd&&define(u)}.call(this),function(){this.App||(this.App={}),App.cable=ActionCable.createConsumer()}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){function s(t){return t&&(t.ownerDocument||t.document||t).documentElement}function I(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function a(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function l(t){return null===t?NaN:+t}function c(t){return!isNaN(t)}function t(o){return{left:function(t,e,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=t.length);n<i;){var r=n+i>>>1;o(t[r],e)<0?n=r+1:i=r}return n},right:function(t,e,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=t.length);n<i;){var r=n+i>>>1;0<o(t[r],e)?i=r:n=r+1}return n}}}function u(t){return t.length}function h(t){for(var e=1;t*e%1;)e*=10;return e}function e(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function y(){this._=Object.create(null)}function n(t){return(t+="")===_a||t[0]===ba?ba+t:t}function i(t){return(t+="")[0]===ba?t.slice(1):t}function r(t){return n(t)in this._}function o(t){return(t=n(t))in this._&&delete this._[t]}function f(){var t=[];for(var e in this._)t.push(i(e));return t}function d(){var t=0;for(var e in this._)++t;return t}function p(){for(var t in this._)return!1;return!0}function g(){this._=Object.create(null)}function O(t){return t}function m(e,n,i){return function(){var t=i.apply(n,arguments);return t===n?e:t}}function v(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=xa.length;n<i;++n){var r=xa[n]+e;if(r in t)return r}}function b(){}function _(){}function x(r){function t(){for(var t,e=o,n=-1,i=e.length;++n<i;)(t=e[n].on)&&t.apply(this,arguments);return r}var o=[],a=new y;return t.on=function(t,e){var n,i=a.get(t);return arguments.length<2?i&&i.on:(i&&(i.on=null,o=o.slice(0,n=o.indexOf(i)).concat(o.slice(n+1)),a.remove(t)),e&&o.push(a.set(t,{on:e})),r)},t}function R(){ua.event.preventDefault()}function w(){for(var t,e=ua.event;t=e.sourceEvent;)e=t;return e}function F(r){for(var o=new _,t=0,e=arguments.length;++t<e;)o[arguments[t]]=x(o);return o.of=function(n,i){return function(t){try{var e=t.sourceEvent=ua.event;t.target=r,ua.event=t,o[t.type].apply(n,i)}finally{ua.event=e}}},o}function S(t){return Sa(t,Ma),t}function T(t){return"function"==typeof t?t:function(){return Ta(t,this)}}function k(t){return"function"==typeof t?t:function(){return ka(t,this)}}function C(e,n){function t(){this.removeAttribute(e)}function i(){this.removeAttributeNS(e.space,e.local)}function r(){this.setAttribute(e,n)}function o(){this.setAttributeNS(e.space,e.local,n)}function a(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}function s(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}return e=ua.ns.qualify(e),null==n?e.local?i:t:"function"==typeof n?e.local?s:a:e.local?o:r}function M(t){return t.trim().replace(/\s+/g," ")}function A(t){return new RegExp("(?:^|\\s+)"+ua.requote(t)+"(?:\\s+|$)","g")}function P(t){return(t+"").trim().split(/^|\s+/)}function E(n,i){function t(){for(var t=-1;++t<r;)n[t](this,i)}function e(){for(var t=-1,e=i.apply(this,arguments);++t<r;)n[t](this,e)}var r=(n=P(n).map(L)).length;return"function"==typeof i?e:t}function L(i){var r=A(i);return function(t,e){if(n=t.classList)return e?n.add(i):n.remove(i);var n=t.getAttribute("class")||"";e?(r.lastIndex=0,r.test(n)||t.setAttribute("class",M(n+" "+i))):t.setAttribute("class",M(n.replace(r," ")))}}function D(e,n,i){function t(){this.style.removeProperty(e)}function r(){this.style.setProperty(e,n,i)}function o(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,i)}return null==n?t:"function"==typeof n?o:r}function N(e,n){function t(){delete this[e]}function i(){this[e]=n}function r(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}return null==n?t:"function"==typeof n?r:i}function z(n){function t(){var t=this.ownerDocument,e=this.namespaceURI;return e===Aa&&t.documentElement.namespaceURI===Aa?t.createElement(n):t.createElementNS(e,n)}function e(){return this.ownerDocument.createElementNS(n.space,n.local)}return"function"==typeof n?n:(n=ua.ns.qualify(n)).local?e:t}function H(){var t=this.parentNode;t&&t.removeChild(this)}function j(t){return{__data__:t}}function V(t){return function(){return Ca(this,t)}}function G(n){return arguments.length||(n=a),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function q(t,e){for(var n=0,i=t.length;n<i;n++)for(var r,o=t[n],a=0,s=o.length;a<s;a++)(r=o[a])&&e(r,a,n);return t}function $(t){return Sa(t,Ea),t}function B(a){var s,u;return function(t,e,n){var i,r=a[n].update,o=r.length;for(n!=u&&(u=n,s=0),s<=e&&(s=e+1);!(i=r[s])&&++s<o;);return i}}function W(r,e,n){function i(){var t=this[a];t&&(this.removeEventListener(r,t,t.$),delete this[a])}function t(){var t=u(e,ca(arguments));i.call(this),this.addEventListener(r,this[a]=t,t.$=n),t._=e}function o(){var t,e=new RegExp("^__on([^.]+)"+ua.requote(r)+"$");for(var n in this)if(t=n.match(e)){var i=this[n];this.removeEventListener(t[1],i,i.$),delete this[n]}}var a="__on"+r,s=r.indexOf("."),u=U;0<s&&(r=r.slice(0,s));var l=La.get(r);return l&&(r=l,u=Y),s?e?t:i:e?b:o}function U(n,i){return function(t){var e=ua.event;ua.event=t,i[0]=this.__data__;try{n.apply(this,i)}finally{ua.event=e}}}function Y(t,e){var i=U(t,e);return function(t){var e=this,n=t.relatedTarget;n&&(n===e||8&n.compareDocumentPosition(e))||i.call(e,t)}}function X(t){var n=".dragsuppress-"+ ++Na,i="click"+n,r=ua.select(I(t)).on("touchmove"+n,R).on("dragstart"+n,R).on("selectstart"+n,R);if(null==Da&&(Da=!("onselectstart"in t)&&v(t.style,"userSelect")),Da){var o=s(t).style,a=o[Da];o[Da]="none"}return function(t){if(r.on(n,null),Da&&(o[Da]=a),t){var e=function(){r.on(i,null)};r.on(i,function(){R(),e()},!0),setTimeout(e,0)}}}function Q(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();if(Ia<0){var r=I(t);if(r.scrollX||r.scrollY){var o=(n=ua.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Ia=!(o.f||o.e),n.remove()}}return Ia?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function K(){return ua.event.changedTouches[0].identifier}function Z(t){return 0<t?1:t<0?-1:0}function J(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return 1<t?0:t<-1?Fa:Math.acos(t)}function et(t){return 1<t?ja:t<-1?-ja:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function it(t){return((t=Math.exp(t))+1/t)/2}function rt(t){return((t=Math.exp(2*t))-1)/(t+1)}function ot(t){return(t=Math.sin(t/2))*t}function at(){}function st(t,e,n){return this instanceof st?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof st?new st(t.h,t.s,t.l):xt(""+t,wt,st):new st(t,e,n)}function ut(t,e,n){function i(t){return 360<t?t-=360:t<0&&(t+=360),t<60?o+(a-o)*t/60:t<180?a:t<240?o+(a-o)*(240-t)/60:o}function r(t){return Math.round(255*i(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:1<e?1:e,o=2*(n=n<0?0:1<n?1:n)-(a=n<=.5?n*(1+e):n+e-n*e),new vt(r(t+120),r(t),r(t-120))}function lt(t,e,n){return this instanceof lt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof lt?new lt(t.h,t.c,t.l):dt(t instanceof ht?t.l:(t=St((t=ua.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new lt(t,e,n)}function ct(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ht(n,Math.cos(t*=Va)*e,Math.sin(t)*e)}function ht(t,e,n){return this instanceof ht?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ht?new ht(t.l,t.a,t.b):t instanceof lt?ct(t.h,t.c,t.l):St((t=vt(t)).r,t.g,t.b):new ht(t,e,n)}function ft(t,e,n){var i=(t+16)/116,r=i+e/500,o=i-n/200;return new vt(mt(3.2404542*(r=pt(r)*Za)-1.5371385*(i=pt(i)*Ja)-.4985314*(o=pt(o)*ts)),mt(-.969266*r+1.8760108*i+.041556*o),mt(.0556434*r-.2040259*i+1.0572252*o))}function dt(t,e,n){return 0<t?new lt(Math.atan2(n,e)*Ga,Math.sqrt(e*e+n*n),t):new lt(NaN,NaN,t)}function pt(t){return.206893034<t?t*t*t:(t-4/29)/7.787037}function gt(t){return.008856<t?Math.pow(t,1/3):7.787037*t+4/29}function mt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function vt(t,e,n){return this instanceof vt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof vt?new vt(t.r,t.g,t.b):xt(""+t,vt,ut):new vt(t,e,n)}function yt(t){return new vt(t>>16,t>>8&255,255&t)}function _t(t){return yt(t)+""}function bt(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function xt(t,e,n){var i,r,o,a=0,s=0,u=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(kt(r[0]),kt(r[1]),kt(r[2]))}return(o=is.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,u=15&o,u|=u<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),e(a,s,u))}function wt(t,e,n){var i,r,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(r=u<.5?s/(a+o):s/(2-a-o),i=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,i*=60):(i=NaN,r=0<u&&u<1?0:i),new st(i,r,u)}function St(t,e,n){var i=gt((.4124564*(t=Tt(t))+.3575761*(e=Tt(e))+.1804375*(n=Tt(n)))/Za),r=gt((.2126729*t+.7151522*e+.072175*n)/Ja);return ht(116*r-16,500*(i-r),200*(r-gt((.0193339*t+.119192*e+.9503041*n)/ts)))}function Tt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function kt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Ct(t){return"function"==typeof t?t:function(){return t}}function Mt(i){return function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=null),At(t,e,i,n)}}function At(r,o,n,i){function t(){var t,e=l.status;if(!e&&Et(l)||200<=e&&e<300||304===e){try{t=n.call(a,l)}catch(i){return void s.error.call(a,i)}s.load.call(a,t)}else s.error.call(a,l)}var a={},s=ua.dispatch("beforesend","progress","load","error"),u={},l=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(r)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=t:l.onreadystatechange=function(){3<l.readyState&&t()},l.onprogress=function(t){var e=ua.event;ua.event=t;try{s.progress.call(a,l)}finally{ua.event=e}},a.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u[t]:(null==e?delete u[t]:u[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(o=null==t?null:t+"",a):o},a.responseType=function(t){return arguments.length?(c=t,a):c},a.response=function(t){return n=t,a},["get","post"].forEach(function(t){a[t]=function(){return a.send.apply(a,[t].concat(ca(arguments)))}}),a.send=function(t,e,n){if(2===arguments.length&&"function"==typeof e&&(n=e,e=null),l.open(t,r,!0),null==o||"accept"in u||(u.accept=o+",*/*"),l.setRequestHeader)for(var i in u)l.setRequestHeader(i,u[i]);return null!=o&&l.overrideMimeType&&l.overrideMimeType(o),null!=c&&(l.responseType=c),null!=n&&a.on("error",n).on("load",function(t){n(null,t)}),s.beforesend.call(a,l),l.send(null==e?null:e),a},a.abort=function(){return l.abort(),a},ua.rebind(a,s,"on"),null==i?a:a.get(Pt(i))}function Pt(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function Et(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Lt(t,e,n){var i=arguments.length;i<2&&(e=0),i<3&&(n=Date.now());var r={c:t,t:n+e,n:null};return os?os.n=r:rs=r,os=r,as||(ss=clearTimeout(ss),as=1,us(Dt)),r}function Dt(){var t=Nt(),e=It()-t;24<e?(isFinite(e)&&(clearTimeout(ss),ss=setTimeout(Dt,e)),as=0):(as=1,us(Dt))}function Nt(){for(var t=Date.now(),e=rs;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function It(){for(var t,e=rs,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:rs=e.n;return os=t,n}function Ot(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Rt(t,e){var n=Math.pow(10,3*ya(8-e));return{scale:8<e?function(t){return t/n}:function(t){return t*n},symbol:t}}function Ft(t){var T=t.decimal,s=t.thousands,u=t.grouping,i=t.currency,k=u&&s?function(t,e){for(var n=t.length,i=[],r=0,o=u[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),i.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=u[r=(r+1)%u.length];return i.reverse().join(s)}:O;return function(t){var e=cs.exec(t),c=e[1]||" ",h=e[2]||">",f=e[3]||"-",n=e[4]||"",d=e[5],p=+e[6],g=e[7],m=e[8],v=e[9],y=1,_="",b="",x=!1,w=!0;switch(m&&(m=+m.substring(1)),(d||"0"===c&&"="===h)&&(d=c="0",h="="),v){case"n":g=!0,v="g";break;case"%":y=100,b="%",v="f";break;case"p":y=100,b="%",v="r";break;case"b":case"o":case"x":case"X":"#"===n&&(_="0"+v.toLowerCase());case"c":w=!1;case"d":x=!0,m=0;break;case"s":y=-1,v="r"}"$"===n&&(_=i[0],b=i[1]),"r"!=v||m||(v="g"),null!=m&&("g"==v?m=Math.max(1,Math.min(21,m)):"e"!=v&&"f"!=v||(m=Math.max(0,Math.min(20,m)))),v=hs.get(v)||zt;var S=d&&g;return function(t){var e=b;if(x&&t%1)return"";var n=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===f?"":f;if(y<0){var i=ua.formatPrefix(t,m);t=i.scale(t),e=i.symbol+b}else t*=y;var r,o,a=(t=v(t,m)).lastIndexOf(".");if(a<0){var s=w?t.lastIndexOf("e"):-1;s<0?(r=t,o=""):(r=t.substring(0,s),o=t.substring(s))}else r=t.substring(0,a),o=T+t.substring(a+1);!d&&g&&(r=k(r,1/0));var u=_.length+r.length+o.length+(S?0:n.length),l=u<p?new Array(u=p-u+1).join(c):"";return S&&(r=k(l+r,l.length?p-o.length:1/0)),n+=_,t=r+o,("<"===h?n+t+l:">"===h?l+n+t:"^"===h?l.substring(0,u>>=1)+n+t+l.substring(u):n+(S?t:l+t))+e}}}function zt(t){return t+""}function Ht(t){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):t)}function jt(i,o,a){function t(t){var e=i(t),n=r(e,1);return t-e<n-t?e:n}function s(t){return o(t=i(new ds(t-1)),1),t}function r(t,e){return o(t=new ds(+t),e),t}function u(t,e,n){var i=s(t),r=[];if(1<n)for(;i<e;)a(i)%n||r.push(new Date(+i)),o(i,1);else for(;i<e;)r.push(new Date(+i)),o(i,1);return r}function e(t,e,n){try{var i=new(ds=Ht);return i._=t,u(i,e,n)}finally{ds=Date}}(i.floor=i).round=t,i.ceil=s,i.offset=r,i.range=u;var n=i.utc=Vt(i);return(n.floor=n).round=Vt(t),n.ceil=Vt(s),n.offset=Vt(r),n.range=e,i}function Vt(i){return function(t,e){try{var n=new(ds=Ht);return n._=t,i(n,e)._}finally{ds=Date}}}function Gt(t){function i(s){function t(t){for(var e,n,i,r=[],o=-1,a=0;++o<u;)37===s.charCodeAt(o)&&(r.push(s.slice(a,o)),null!=(n=gs[e=s.charAt(++o)])&&(e=s.charAt(++o)),(i=A[e])&&(e=i(t,null==n?"e"===e?" ":"0":n)),r.push(e),a=o+1);return r.push(s.slice(a,o)),r.join("")}var u=s.length;return t.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(r(e,s,t,0)!=t.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var n=null!=e.Z&&ds!==Ht,i=new(n?Ht:ds);return"j"in e?i.setFullYear(e.y,0,e.j):"W"in e||"U"in e?("w"in e||(e.w="W"in e?1:0),i.setFullYear(e.y,0,1),i.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(i.getDay()+5)%7:e.w+7*e.U-(i.getDay()+6)%7)):i.setFullYear(e.y,e.m,e.d),i.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L),n?i._:i},t.toString=function(){return s},t}function r(t,e,n,i){for(var r,o,a,s=0,u=e.length,l=n.length;s<u;){if(l<=i)return-1;if(37===(r=e.charCodeAt(s++))){if(a=e.charAt(s++),!(o=P[a in gs?e.charAt(s++):a])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function e(t,e,n){w.lastIndex=0;var i=w.exec(e.slice(n));return i?(t.w=S.get(i[0].toLowerCase()),n+i[0].length):-1}function n(t,e,n){b.lastIndex=0;var i=b.exec(e.slice(n));return i?(t.w=x.get(i[0].toLowerCase()),n+i[0].length):-1}function o(t,e,n){C.lastIndex=0;var i=C.exec(e.slice(n));return i?(t.m=M.get(i[0].toLowerCase()),n+i[0].length):-1}function a(t,e,n){T.lastIndex=0;var i=T.exec(e.slice(n));return i?(t.m=k.get(i[0].toLowerCase()),n+i[0].length):-1}function s(t,e,n){return r(t,A.c.toString(),e,n)}function u(t,e,n){return r(t,A.x.toString(),e,n)}function l(t,e,n){return r(t,A.X.toString(),e,n)}function c(t,e,n){var i=_.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}var h=t.dateTime,f=t.date,d=t.time,p=t.periods,g=t.days,m=t.shortDays,v=t.months,y=t.shortMonths;i.utc=function(t){function e(t){try{var e=new(ds=Ht);return e._=t,n(e)}finally{ds=Date}}var n=i(t);return e.parse=function(t){try{ds=Ht;var e=n.parse(t);return e&&e._}finally{ds=Date}},e.toString=n.toString,e},i.multi=i.utc.multi=ue;var _=ua.map(),b=$t(g),x=Bt(g),w=$t(m),S=Bt(m),T=$t(v),k=Bt(v),C=$t(y),M=Bt(y);p.forEach(function(t,e){_.set(t.toLowerCase(),e)});var A={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:i(h),d:function(t,e){return qt(t.getDate(),e,2)},e:function(t,e){return qt(t.getDate(),e,2)},H:function(t,e){return qt(t.getHours(),e,2)},I:function(t,e){return qt(t.getHours()%12||12,e,2)},j:function(t,e){return qt(1+fs.dayOfYear(t),e,3)},L:function(t,e){return qt(t.getMilliseconds(),e,3)},m:function(t,e){return qt(t.getMonth()+1,e,2)},M:function(t,e){return qt(t.getMinutes(),e,2)},p:function(t){return p[+(12<=t.getHours())]},S:function(t,e){return qt(t.getSeconds(),e,2)},U:function(t,e){return qt(fs.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return qt(fs.mondayOfYear(t),e,2)},x:i(f),X:i(d),y:function(t,e){return qt(t.getFullYear()%100,e,2)},Y:function(t,e){return qt(t.getFullYear()%1e4,e,4)},Z:ae,"%":function(){return"%"}},P={a:e,A:n,b:o,B:a,c:s,d:te,e:te,H:ne,I:ne,j:ee,L:oe,m:Jt,M:ie,p:c,S:re,U:Ut,w:Wt,W:Yt,x:u,X:l,y:Qt,Y:Xt,Z:Kt,"%":se};return i}function qt(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function $t(t){return new RegExp("^(?:"+t.map(ua.requote).join("|")+")","i")}function Bt(t){for(var e=new y,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Wt(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Ut(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Yt(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Xt(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Qt(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+2));return i?(t.y=Zt(+i[0]),n+i[0].length):-1}function Kt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Zt(t){return t+(68<t?1900:2e3)}function Jt(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function te(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function ee(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function ne(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function ie(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function re(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function oe(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function ae(t){var e=t.getTimezoneOffset(),n=0<e?"-":"+",i=ya(e)/60|0,r=ya(e)%60;return n+qt(i,"0",2)+qt(r,"0",2)}function se(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function ue(i){for(var t=i.length,e=-1;++e<t;)i[e][0]=this(i[e][0]);return function(t){for(var e=0,n=i[e];!n[1](t);)n=i[++e];return n[0](t)}}function le(){}function ce(t,e,n){var i=n.s=t+e,r=i-t,o=i-r;n.t=t-o+(e-r)}function he(t,e){t&&xs.hasOwnProperty(t.type)&&xs[t.type](t,e)}function fe(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function de(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)fe(t[n],e,1);e.polygonEnd()}function pe(){function n(t,e){e=e*Va/2+Fa/4;var n=(t*=Va)-c,i=0<=n?1:-1,r=i*n,o=Math.cos(e),a=Math.sin(e),s=f*a,u=h*o+s*Math.cos(r),l=s*i*Math.sin(r);Ss.add(Math.atan2(l,u)),c=t,h=o,f=a}var i,r,c,h,f;Ts.point=function(t,e){Ts.point=n,c=(i=t)*Va,h=Math.cos(e=(r=e)*Va/2+Fa/4),f=Math.sin(e)},Ts.lineEnd=function(){n(i,r)}}function ge(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function me(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ve(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ye(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function _e(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function be(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function xe(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function we(t,e){return ya(t[0]-e[0])<Oa&&ya(t[1]-e[1])<Oa}function Se(t,e){t*=Va;var n=Math.cos(e*=Va);Te(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Te(t,e,n){Ms+=(t-Ms)/++ks,As+=(e-As)/ks,Ps+=(n-Ps)/ks}function ke(){function i(t,e){t*=Va;var n=Math.cos(e*=Va),i=n*Math.cos(t),r=n*Math.sin(t),o=Math.sin(e),a=Math.atan2(Math.sqrt((a=u*o-l*r)*a+(a=l*i-s*o)*a+(a=s*r-u*i)*a),s*i+u*r+l*o);Cs+=a,Es+=a*(s+(s=i)),Ls+=a*(u+(u=r)),Ds+=a*(l+(l=o)),Te(s,u,l)}var s,u,l;Rs.point=function(t,e){t*=Va;var n=Math.cos(e*=Va);s=n*Math.cos(t),u=n*Math.sin(t),l=Math.sin(e),Rs.point=i,Te(s,u,l)}}function Ce(){Rs.point=Se}function Me(){function i(t,e){t*=Va
;var n=Math.cos(e*=Va),i=n*Math.cos(t),r=n*Math.sin(t),o=Math.sin(e),a=p*o-g*r,s=g*i-d*o,u=d*r-p*i,l=Math.sqrt(a*a+s*s+u*u),c=d*i+p*r+g*o,h=l&&-tt(c)/l,f=Math.atan2(l,c);Ns+=h*a,Is+=h*s,Os+=h*u,Cs+=f,Es+=f*(d+(d=i)),Ls+=f*(p+(p=r)),Ds+=f*(g+(g=o)),Te(d,p,g)}var r,o,d,p,g;Rs.point=function(t,e){r=t,o=e,Rs.point=i,t*=Va;var n=Math.cos(e*=Va);d=n*Math.cos(t),p=n*Math.sin(t),g=Math.sin(e),Te(d,p,g)},Rs.lineEnd=function(){i(r,o),Rs.lineEnd=Ce,Rs.point=Se}}function Ae(n,i){function t(t,e){return t=n(t,e),i(t[0],t[1])}return n.invert&&i.invert&&(t.invert=function(t,e){return(t=i.invert(t,e))&&n.invert(t[0],t[1])}),t}function Pe(){return!0}function Ee(t,e,n,i,s){var u=[],l=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(we(n,i)){s.lineStart();for(var r=0;r<e;++r)s.point((n=t[r])[0],n[1]);return void s.lineEnd()}var o=new De(n,t,null,!0),a=new De(n,null,o,!1);o.o=a,u.push(o),l.push(a),a=new De(i,null,o=new De(i,t,null,!1),!0),o.o=a,u.push(o),l.push(a)}}),l.sort(e),Le(u),Le(l),u.length){for(var r=0,o=n,a=l.length;r<a;++r)l[r].e=o=!o;for(var c,h,f=u[0];;){for(var d=f,p=!0;d.v;)if((d=d.n)===f)return;c=d.z,s.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(r=0,a=c.length;r<a;++r)s.point((h=c[r])[0],h[1]);else i(d.x,d.n.x,1,s);d=d.n}else{if(p)for(r=(c=d.p.z).length-1;0<=r;--r)s.point((h=c[r])[0],h[1]);else i(d.x,d.p.x,-1,s);d=d.p}c=(d=d.o).z,p=!p}while(!d.v);s.lineEnd()}}}function Le(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function De(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Ne(y,_,b,x){return function(i,a){function e(t,e){var n=i(t,e);y(t=n[0],e=n[1])&&a.point(t,e)}function t(t,e){var n=i(t,e);f.point(n[0],n[1])}function n(){p.point=t,f.lineStart()}function r(){p.point=e,f.lineEnd()}function s(t,e){h.push([t,e]);var n=i(t,e);m.point(n[0],n[1])}function o(){m.lineStart(),h=[]}function u(){s(h[0][0],h[0][1]),m.lineEnd();var t,e=m.clean(),n=g.buffer(),i=n.length;if(h.pop(),c.push(h),h=null,i)if(1&e){var r,o=-1;if(0<(i=(t=n[0]).length-1)){for(v||(a.polygonStart(),v=!0),a.lineStart();++o<i;)a.point((r=t[o])[0],r[1]);a.lineEnd()}}else 1<i&&2&e&&n.push(n.pop().concat(n.shift())),l.push(n.filter(Ie))}var l,c,h,f=_(a),d=i.invert(x[0],x[1]),p={point:e,lineStart:n,lineEnd:r,polygonStart:function(){p.point=s,p.lineStart=o,p.lineEnd=u,l=[],c=[]},polygonEnd:function(){p.point=e,p.lineStart=n,p.lineEnd=r,l=ua.merge(l);var t=je(d,c);l.length?(v||(a.polygonStart(),v=!0),Ee(l,Re,t,b,a)):t&&(v||(a.polygonStart(),v=!0),a.lineStart(),b(null,null,1,a),a.lineEnd()),v&&(a.polygonEnd(),v=!1),l=c=null},sphere:function(){a.polygonStart(),a.lineStart(),b(null,null,1,a),a.lineEnd(),a.polygonEnd()}},g=Oe(),m=_(g),v=!1;return p}}function Ie(t){return 1<t.length}function Oe(){var n,e=[];return{lineStart:function(){e.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:b,buffer:function(){var t=e;return e=[],n=null,t},rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))}}}function Re(t,e){return((t=t.x)[0]<0?t[1]-ja-Oa:ja-t[1])-((e=e.x)[0]<0?e[1]-ja-Oa:ja-e[1])}function Fe(r){var o,a=NaN,s=NaN,u=NaN;return{lineStart:function(){r.lineStart(),o=1},point:function(t,e){var n=0<t?Fa:-Fa,i=ya(t-a);ya(i-Fa)<Oa?(r.point(a,s=0<(s+e)/2?ja:-ja),r.point(u,s),r.lineEnd(),r.lineStart(),r.point(n,s),r.point(t,s),o=0):u!==n&&Fa<=i&&(ya(a-u)<Oa&&(a-=u*Oa),ya(t-n)<Oa&&(t-=n*Oa),s=ze(a,s,t,e),r.point(u,s),r.lineEnd(),r.lineStart(),r.point(n,s),o=0),r.point(a=t,s=e),u=n},lineEnd:function(){r.lineEnd(),a=s=NaN},clean:function(){return 2-o}}}function ze(t,e,n,i){var r,o,a=Math.sin(t-n);return ya(a)>Oa?Math.atan((Math.sin(e)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*o*a)):(e+i)/2}function He(t,e,n,i){var r;if(null==t)r=n*ja,i.point(-Fa,r),i.point(0,r),i.point(Fa,r),i.point(Fa,0),i.point(Fa,-r),i.point(0,-r),i.point(-Fa,-r),i.point(-Fa,0),i.point(-Fa,r);else if(ya(t[0]-e[0])>Oa){var o=t[0]<e[0]?Fa:-Fa;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}function je(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Ss.reset();for(var s=0,u=e.length;s<u;++s){var l=e[s],c=l.length;if(c)for(var h=l[0],f=h[0],d=h[1]/2+Fa/4,p=Math.sin(d),g=Math.cos(d),m=1;;){m===c&&(m=0);var v=(t=l[m])[0],y=t[1]/2+Fa/4,_=Math.sin(y),b=Math.cos(y),x=v-f,w=0<=x?1:-1,S=w*x,T=Fa<S,k=p*_;if(Ss.add(Math.atan2(k*w*Math.sin(S),g*b+k*Math.cos(S))),o+=T?x+w*za:x,T^n<=f^n<=v){var C=ve(ge(h),ge(t));be(C);var M=ve(r,C);be(M);var A=(T^0<=x?-1:1)*et(M[2]);(A<i||i===A&&(C[0]||C[1]))&&(a+=T^0<=x?1:-1)}if(!m++)break;f=v,p=_,g=b,h=t}}return(o<-Oa||o<Oa&&Ss<-Oa)^1&a}function Ve(r){function d(t,e){return Math.cos(t)*Math.cos(e)>C}function t(s){var u,l,c,h,f;return{lineStart:function(){h=c=!1,f=1},point:function(t,e){var n,i=[t,e],r=d(t,e),o=m?r?0:g(t,e):r?g(t+(t<0?Fa:-Fa),e):0;if(!u&&(h=c=r)&&s.lineStart(),r!==c&&(n=p(u,i),(we(u,n)||we(i,n))&&(i[0]+=Oa,i[1]+=Oa,r=d(i[0],i[1]))),r!==c)f=0,r?(s.lineStart(),n=p(i,u),s.point(n[0],n[1])):(n=p(u,i),s.point(n[0],n[1]),s.lineEnd()),u=n;else if(v&&u&&m^r){var a;o&l||!(a=p(i,u,!0))||(f=0,m?(s.lineStart(),s.point(a[0][0],a[0][1]),s.point(a[1][0],a[1][1]),s.lineEnd()):(s.point(a[1][0],a[1][1]),s.lineEnd(),s.lineStart(),s.point(a[0][0],a[0][1])))}!r||u&&we(u,i)||s.point(i[0],i[1]),u=i,c=r,l=o},lineEnd:function(){c&&s.lineEnd(),u=null},clean:function(){return f|(h&&c)<<1}}}function p(t,e,n){var i=[1,0,0],r=ve(ge(t),ge(e)),o=me(r,r),a=r[0],s=o-a*a;if(!s)return!n&&t;var u=C*o/s,l=-C*a/s,c=ve(i,r),h=_e(i,u);ye(h,_e(r,l));var f=c,d=me(h,f),p=me(f,f),g=d*d-p*(me(h,h)-1);if(!(g<0)){var m=Math.sqrt(g),v=_e(f,(-d-m)/p);if(ye(v,h),v=xe(v),!n)return v;var y,_=t[0],b=e[0],x=t[1],w=e[1];b<_&&(y=_,_=b,b=y);var S=b-_,T=ya(S-Fa)<Oa;if(!T&&w<x&&(y=x,x=w,w=y),T||S<Oa?T?0<x+w^v[1]<(ya(v[0]-_)<Oa?x:w):x<=v[1]&&v[1]<=w:Fa<S^(_<=v[0]&&v[0]<=b)){var k=_e(f,(-d+m)/p);return ye(k,h),[v,xe(k)]}}}function g(t,e){var n=m?r:Fa-r,i=0;return t<-n?i|=1:n<t&&(i|=2),e<-n?i|=4:n<e&&(i|=8),i}var C=Math.cos(r),m=0<C,v=ya(C)>Oa;return Ne(d,t,gn(r,6*Va),m?[0,-r]:[-Fa,r-Fa])}function Ge(c,h,f,d){return function(t){var e,n=t.a,i=t.b,r=n.x,o=n.y,a=0,s=1,u=i.x-r,l=i.y-o;if(e=c-r,u||!(0<e)){if(e/=u,u<0){if(e<a)return;e<s&&(s=e)}else if(0<u){if(s<e)return;a<e&&(a=e)}if(e=f-r,u||!(e<0)){if(e/=u,u<0){if(s<e)return;a<e&&(a=e)}else if(0<u){if(e<a)return;e<s&&(s=e)}if(e=h-o,l||!(0<e)){if(e/=l,l<0){if(e<a)return;e<s&&(s=e)}else if(0<l){if(s<e)return;a<e&&(a=e)}if(e=d-o,l||!(e<0)){if(e/=l,l<0){if(s<e)return;a<e&&(a=e)}else if(0<l){if(e<a)return;e<s&&(s=e)}return 0<a&&(t.a={x:r+a*u,y:o+a*l}),s<1&&(t.b={x:r+s*u,y:o+s*l}),t}}}}}}function qe(S,T,k,C){function M(t,e){return ya(t[0]-S)<Oa?0<e?0:3:ya(t[0]-k)<Oa?0<e?2:1:ya(t[1]-T)<Oa?0<e?1:0:0<e?3:2}function A(t,e){return P(t.x,e.x)}function P(t,e){var n=M(t,1),i=M(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(r){function i(t){for(var e=0,n=c.length,i=t[1],r=0;r<n;++r)for(var o,a=1,s=c[r],u=s.length,l=s[0];a<u;++a)o=s[a],l[1]<=i?o[1]>i&&0<J(l,o,t)&&++e:o[1]<=i&&J(l,o,t)<0&&--e,l=o;return 0!==e}function o(t,e,n,i){var r=0,o=0;if(null==t||(r=M(t,n))!==(o=M(e,n))||P(t,e)<0^0<n)for(;i.point(0===r||3===r?S:k,1<r?C:T),(r=(r+n+4)%4)!==o;);else i.point(e[0],e[1])}function a(t,e){return S<=t&&t<=k&&T<=e&&e<=C}function t(t,e){a(t,e)&&r.point(t,e)}function e(){w.point=s,c&&c.push(l=[]),m=!(v=!0),p=g=NaN}function n(){u&&(s(h,f),d&&m&&b.rejoin(),u.push(b.buffer())),w.point=t,m&&r.lineEnd()}function s(t,e){var n=a(t=Math.max(-zs,Math.min(zs,t)),e=Math.max(-zs,Math.min(zs,e)));if(c&&l.push([t,e]),v)h=t,f=e,v=!1,(d=n)&&(r.lineStart(),r.point(t,e));else if(n&&m)r.point(t,e);else{var i={a:{x:p,y:g},b:{x:t,y:e}};x(i)?(m||(r.lineStart(),r.point(i.a.x,i.a.y)),r.point(i.b.x,i.b.y),n||r.lineEnd(),y=!1):n&&(r.lineStart(),r.point(t,e),y=!1)}p=t,g=e,m=n}var u,c,l,h,f,d,p,g,m,v,y,_=r,b=Oe(),x=Ge(S,T,k,C),w={point:t,lineStart:e,lineEnd:n,polygonStart:function(){r=b,u=[],c=[],y=!0},polygonEnd:function(){r=_,u=ua.merge(u);var t=i([S,C]),e=y&&t,n=u.length;(e||n)&&(r.polygonStart(),e&&(r.lineStart(),o(null,null,1,r),r.lineEnd()),n&&Ee(u,A,t,o,r),r.polygonEnd()),u=c=l=null}};return w}}function $e(t){var e=0,n=Fa/3,i=sn(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Fa/180,n=t[1]*Fa/180):[e/Fa*180,n/Fa*180]},r}function Be(t,e){function n(t,e){var n=Math.sqrt(o-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),a-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,o=1+i*(2*r-i),a=Math.sqrt(o)/r;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,et((o-(t*t+n*n)*r*r)/(2*r))]},n}function We(){function n(t,e){js+=a*t-o*e,o=t,a=e}var i,r,o,a;Bs.point=function(t,e){Bs.point=n,i=o=t,r=a=e},Bs.lineEnd=function(){n(i,r)}}function Ue(t,e){t<Vs&&(Vs=t),qs<t&&(qs=t),e<Gs&&(Gs=e),$s<e&&($s=e)}function Ye(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function i(){s.point=t}function r(){a.push("Z")}var o=Xe(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return o=Xe(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function Xe(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Qe(t,e){Ms+=t,As+=e,++Ps}function Ke(){function n(t,e){var n=t-o,i=e-a,r=Math.sqrt(n*n+i*i);Es+=r*(o+t)/2,Ls+=r*(a+e)/2,Ds+=r,Qe(o=t,a=e)}var o,a;Us.point=function(t,e){Us.point=n,Qe(o=t,a=e)}}function Ze(){Us.point=Qe}function Je(){function n(t,e){var n=t-o,i=e-a,r=Math.sqrt(n*n+i*i);Es+=r*(o+t)/2,Ls+=r*(a+e)/2,Ds+=r,Ns+=(r=a*t-o*e)*(o+t),Is+=r*(a+e),Os+=3*r,Qe(o=t,a=e)}var i,r,o,a;Us.point=function(t,e){Us.point=n,Qe(i=o=t,r=a=e)},Us.lineEnd=function(){n(i,r)}}function tn(n){function t(t,e){n.moveTo(t+a,e),n.arc(t,e,a,0,za)}function e(t,e){n.moveTo(t,e),s.point=i}function i(t,e){n.lineTo(t,e)}function r(){s.point=t}function o(){n.closePath()}var a=4.5,s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return a=t,s},result:b};return s}function en(P){function e(t){return(x?i:n)(t)}function n(n){return on(n,function(t,e){t=P(t,e),n.point(t[0],t[1])})}function i(r){function t(t,e){t=P(t,e),r.point(t[0],t[1])}function e(){g=NaN,b.point=n,r.lineStart()}function n(t,e){var n=ge([t,e]),i=P(t,e);E(g,m,p,v,y,_,g=i[0],m=i[1],p=t,v=n[0],y=n[1],_=n[2],x,r),r.point(g,m)}function i(){b.point=t,r.lineEnd()}function o(){e(),b.point=a,b.lineEnd=s}function a(t,e){n(u=t,e),l=g,c=m,h=v,f=y,d=_,b.point=n}function s(){E(g,m,p,v,y,_,l,c,u,h,f,d,x,r),(b.lineEnd=i)()}var u,l,c,h,f,d,p,g,m,v,y,_,b={point:t,lineStart:e,lineEnd:i,polygonStart:function(){r.polygonStart(),b.lineStart=o},polygonEnd:function(){r.polygonEnd(),b.lineStart=e}};return b}function E(t,e,n,i,r,o,a,s,u,l,c,h,f,d){var p=a-t,g=s-e,m=p*p+g*g;if(4*L<m&&f--){var v=i+l,y=r+c,_=o+h,b=Math.sqrt(v*v+y*y+_*_),x=Math.asin(_/=b),w=ya(ya(_)-1)<Oa||ya(n-u)<Oa?(n+u)/2:Math.atan2(y,v),S=P(w,x),T=S[0],k=S[1],C=T-t,M=k-e,A=g*C-p*M;(L<A*A/m||.3<ya((p*C+g*M)/m-.5)||i*l+r*c+o*h<D)&&(E(t,e,n,i,r,o,T,k,w,v/=b,y/=b,_,f,d),d.point(T,k),E(T,k,w,v,y,_,a,s,u,l,c,h,f,d))}}var L=.5,D=Math.cos(30*Va),x=16;return e.precision=function(t){return arguments.length?(x=0<(L=t*t)&&16,e):Math.sqrt(L)},e}function nn(n){var e=en(function(t,e){return n([t*Ga,e*Ga])});return function(t){return un(e(t))}}function rn(t){this.stream=t}function on(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function an(t){return sn(function(){return t})()}function sn(t){function e(t){return[(t=s(t[0]*Va,t[1]*Va))[0]*f+u,l-t[1]*f]}function n(t){return(t=s.invert((t[0]-u)/f,(l-t[1])/f))&&[t[0]*Ga,t[1]*Ga]}function i(){s=Ae(a=hn(v,y,_),o);var t=o(g,m);return u=d-t[0]*f,l=p+t[1]*f,r()}function r(){return c&&(c.valid=!1,c=null),e}var o,a,s,u,l,c,h=en(function(t,e){return[(t=o(t,e))[0]*f+u,l-t[1]*f]}),f=150,d=480,p=250,g=0,m=0,v=0,y=0,_=0,b=Fs,x=O,w=null,S=null;return e.stream=function(t){return c&&(c.valid=!1),(c=un(b(a,h(x(t))))).valid=!0,c},e.clipAngle=function(t){return arguments.length?(b=null==t?(w=t,Fs):Ve((w=+t)*Va),r()):w},e.clipExtent=function(t){return arguments.length?(x=(S=t)?qe(t[0][0],t[0][1],t[1][0],t[1][1]):O,r()):S},e.scale=function(t){return arguments.length?(f=+t,i()):f},e.translate=function(t){return arguments.length?(d=+t[0],p=+t[1],i()):[d,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Va,m=t[1]%360*Va,i()):[g*Ga,m*Ga]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Va,y=t[1]%360*Va,_=2<t.length?t[2]%360*Va:0,i()):[v*Ga,y*Ga,_*Ga]},ua.rebind(e,h,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,i()}}function un(n){return on(n,function(t,e){n.point(t*Va,e*Va)})}function ln(t,e){return[t,e]}function cn(t,e){return[Fa<t?t-za:t<-Fa?t+za:t,e]}function hn(t,e,n){return t?e||n?Ae(dn(t),pn(e,n)):dn(t):e||n?pn(e,n):cn}function fn(n){return function(t,e){return[Fa<(t+=n)?t-za:t<-Fa?t+za:t,e]}}function dn(t){var e=fn(t);return e.invert=fn(-t),e}function pn(t,e){function n(t,e){var n=Math.cos(e),i=Math.cos(t)*n,r=Math.sin(t)*n,o=Math.sin(e),a=o*s+i*u;return[Math.atan2(r*l-a*c,i*s-o*u),et(a*l+r*c)]}var s=Math.cos(t),u=Math.sin(t),l=Math.cos(e),c=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),i=Math.cos(t)*n,r=Math.sin(t)*n,o=Math.sin(e),a=o*l-r*c;return[Math.atan2(r*l+o*c,i*s+a*u),et(a*s-i*u)]},n}function gn(s,u){var l=Math.cos(s),c=Math.sin(s);return function(t,e,n,i){var r=n*u;null!=t?(t=mn(l,t),e=mn(l,e),(0<n?t<e:e<t)&&(t+=n*za)):(t=s+n*za,e=s-.5*r);for(var o,a=t;0<n?e<a:a<e;a-=r)i.point((o=xe([l,-c*Math.cos(a),-c*Math.sin(a)]))[0],o[1])}}function mn(t,e){var n=ge(e);n[0]-=t,be(n);var i=tt(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Oa)%(2*Math.PI)}function vn(t,e,n){var i=ua.range(t,e-Oa,n).concat(e);return function(e){return i.map(function(t){return[e,t]})}}function yn(t,e,n){var i=ua.range(t,e-Oa,n).concat(e);return function(e){return i.map(function(t){return[t,e]})}}function _n(t){return t.source}function bn(t){return t.target}function xn(t,e,n,i){var r=Math.cos(e),a=Math.sin(e),o=Math.cos(i),s=Math.sin(i),u=r*Math.cos(t),l=r*Math.sin(t),c=o*Math.cos(n),h=o*Math.sin(n),f=2*Math.asin(Math.sqrt(ot(i-e)+r*o*ot(n-t))),d=1/Math.sin(f),p=f?function(t){var e=Math.sin(t*=f)*d,n=Math.sin(f-t)*d,i=n*u+e*c,r=n*l+e*h,o=n*a+e*s;return[Math.atan2(r,i)*Ga,Math.atan2(o,Math.sqrt(i*i+r*r))*Ga]}:function(){return[t*Ga,e*Ga]};return p.distance=f,p}function wn(){function n(t,e){var n=Math.sin(e*=Va),i=Math.cos(e),r=ya((t*=Va)-a),o=Math.cos(r);Ys+=Math.atan2(Math.sqrt((r=i*Math.sin(r))*r+(r=u*n-s*i*o)*r),s*n+u*i*o),a=t,s=n,u=i}var a,s,u;Xs.point=function(t,e){a=t*Va,s=Math.sin(e*=Va),u=Math.cos(e),Xs.point=n},Xs.lineEnd=function(){Xs.point=Xs.lineEnd=b}}function Sn(o,a){function t(t,e){var n=Math.cos(t),i=Math.cos(e),r=o(n*i);return[r*i*Math.sin(t),r*Math.sin(e)]}return t.invert=function(t,e){var n=Math.sqrt(t*t+e*e),i=a(n),r=Math.sin(i),o=Math.cos(i);return[Math.atan2(t*r,n*o),Math.asin(n&&e*r/n)]},t}function Tn(t,e){function n(t,e){0<a?e<-ja+Oa&&(e=-ja+Oa):ja-Oa<e&&(e=ja-Oa);var n=a/Math.pow(r(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var i=Math.cos(t),r=function(t){return Math.tan(Fa/4+t/2)},o=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),a=i*Math.pow(r(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,i=Z(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/i,1/o))-ja]},n):Cn}function kn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),o=i/r+t;return ya(r)<Oa?ln:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,o-Z(r)*Math.sqrt(t*t+n*n)]},n)}function Cn(t,e){return[t,Math.log(Math.tan(Fa/4+e/2))]}function Mn(t){var r,o=an(t),a=o.scale,s=o.translate,u=o.clipExtent;return o.scale=function(){var t=a.apply(o,arguments);return t===o?r?o.clipExtent(null):o:t},o.translate=function(){var t=s.apply(o,arguments);return t===o?r?o.clipExtent(null):o:t},o.clipExtent=function(t){var e=u.apply(o,arguments);if(e===o){if(r=null==t){var n=Fa*a(),i=s();u([[i[0]-n,i[1]-n],[i[0]+n,i[1]+n]])}}else r&&(e=null);return e},o.clipExtent(null)}function An(t,e){return[Math.log(Math.tan(Fa/4+e/2)),-t]}function Pn(t){return t[0]}function En(t){return t[1]}function Ln(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;r++){for(;1<i&&J(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function Dn(t,e){return t[0]-e[0]||t[1]-e[1]}function Nn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function In(t,e,n,i){var r=t[0],o=n[0],a=e[0]-r,s=i[0]-o,u=t[1],l=n[1],c=e[1]-u,h=i[1]-l,f=(s*(u-l)-h*(r-o))/(h*a-s*c);return[r+f*a,u+f*c]}function On(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Rn(){ii(this),this.edge=this.site=this.circle=null}function Fn(t){var e=su.pop()||new Rn;return e.site=t,e}function zn(t){Yn(t),ru.remove(t),su.push(t),ii(t)}function Hn(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},o=t.P,a=t.N,s=[t];zn(t);for(var u=o;u.circle&&ya(n-u.circle.x)<Oa&&ya(i-u.circle.cy)<Oa;)o=u.P,s.unshift(u),zn(u),u=o;s.unshift(u),Yn(u);for(var l=a;l.circle&&ya(n-l.circle.x)<Oa&&ya(i-l.circle.cy)<Oa;)a=l.N,s.push(l),zn(l),l=a;s.push(l),Yn(l);var c,h=s.length;for(c=1;c<h;++c)l=s[c],u=s[c-1],ti(l.edge,u.site,l.site,r);u=s[0],(l=s[h-1]).edge=Zn(u.site,l.site,null,r),Un(u),Un(l)}function jn(t){for(var e,n,i,r,o=t.x,a=t.y,s=ru._;s;)if(i=Vn(s,a)-o,Oa<i)s=s.L;else{if(r=o-Gn(s,a),!(Oa<r)){-Oa<i?(e=s.P,n=s):-Oa<r?n=(e=s).N:e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=Fn(t);if(ru.insert(e,u),e||n){if(e===n)return Yn(e),n=Fn(e.site),ru.insert(u,n),u.edge=n.edge=Zn(e.site,u.site),Un(e),void Un(n);if(!n)return void(u.edge=Zn(e.site,u.site));Yn(e),Yn(n);var l=e.site,c=l.x,h=l.y,f=t.x-c,d=t.y-h,p=n.site,g=p.x-c,m=p.y-h,v=2*(f*m-d*g),y=f*f+d*d,_=g*g+m*m,b={x:(m*y-d*_)/v+c,y:(f*_-g*y)/v+h};ti(n.edge,l,p,b),u.edge=Zn(l,t,null,b),n.edge=Zn(t,p,null,b),Un(e),Un(n)}}function Vn(t,e){var n=t.site,i=n.x,r=n.y,o=r-e;if(!o)return i;var a=t.P;if(!a)return-1/0;var s=(n=a.site).x,u=n.y,l=u-e;if(!l)return s;var c=s-i,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+r-o/2)))/h+i:(i+s)/2}function Gn(t,e){var n=t.N;if(n)return Vn(n,e);var i=t.site;return i.y===e?i.x:1/0}function qn(t){this.site=t,this.edges=[]}function $n(t){for(var e,n,i,r,o,a,s,u,l,c,h=t[0][0],f=t[1][0],d=t[0][1],p=t[1][1],g=iu,m=g.length;m--;)if((o=g[m])&&o.prepare())for(u=(s=o.edges).length,a=0;a<u;)i=(c=s[a].end()).x,r=c.y,e=(l=s[++a%u].start()).x,n=l.y,(ya(i-e)>Oa||ya(r-n)>Oa)&&(s.splice(a,0,new ei(Jn(o.site,c,ya(i-h)<Oa&&Oa<p-r?{x:h,y:ya(e-h)<Oa?n:p}:ya(r-p)<Oa&&Oa<f-i?{x:ya(n-p)<Oa?e:f,y:p}:ya(i-f)<Oa&&Oa<r-d?{x:f,y:ya(e-f)<Oa?n:d}:ya(r-d)<Oa&&Oa<i-h?{x:ya(n-d)<Oa?e:h,y:d}:null),o.site,null)),++u)}function Bn(t,e){return e.angle-t.angle}function Wn(){ii(this),this.x=this.y=this.arc=this.site=this.cy=null}function Un(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r.x,s=r.y,u=i.x-a,l=i.y-s,c=o.x-a,h=2*(u*(m=o.y-s)-l*c);if(!(-Ra<=h)){var f=u*u+l*l,d=c*c+m*m,p=(m*f-l*d)/h,g=(u*d-c*f)/h,m=g+s,v=uu.pop()||new Wn;v.arc=t,v.site=r,v.x=p+a,v.y=m+Math.sqrt(p*p+g*g),v.cy=m,t.circle=v;for(var y=null,_=au._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}au.insert(y,v),y||(ou=v)}}}}function Yn(t){var e=t.circle;e&&(e.P||(ou=e.N),au.remove(e),uu.push(e),ii(e),t.circle=null)}function Xn(t){for(var e,n=nu,i=Ge(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)(!Qn(e=n[r],t)||!i(e)||ya(e.a.x-e.b.x)<Oa&&ya(e.a.y-e.b.y)<Oa)&&(e.a=e.b=null,n.splice(r,1))}function Qn(t,e){var n=t.b;if(n)return!0;var i,r,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],l=e[1][1],c=t.l,h=t.r,f=c.x,d=c.y,p=h.x,g=h.y,m=(f+p)/2,v=(d+g)/2;if(g===d){if(m<a||s<=m)return;if(p<f){if(o){if(o.y>=l)return}else o={x:m,y:u};n={x:m,y:l}}else{if(o){if(o.y<u)return}else o={x:m,y:l};n={x:m,y:u}}}else if(r=v-(i=(f-p)/(g-d))*m,i<-1||1<i)if(p<f){if(o){if(o.y>=l)return}else o={x:(u-r)/i,y:u};n={x:(l-r)/i,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-r)/i,y:l};n={x:(u-r)/i,y:u}}else if(d<g){if(o){if(o.x>=s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}else{if(o){if(o.x<a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}return t.a=o,t.b=n,!0}function Kn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Zn(t,e,n,i){var r=new Kn(t,e);return nu.push(r),n&&ti(r,t,e,n),i&&ti(r,e,t,i),iu[t.i].edges.push(new ei(r,t,e)),iu[e.i].edges.push(new ei(r,e,t)),r}function Jn(t,e,n){var i=new Kn(t,null);return i.a=e,i.b=n,nu.push(i),i}function ti(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function ei(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function ni(){this._=null}function ii(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ri(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function oi(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function ai(t){for(;t.L;)t=t.L;return t}function si(t,e){var n,i,r,o=t.sort(ui).pop();for(nu=[],iu=new Array(t.length),ru=new ni,au=new ni;;)if(r=ou,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))o.x===n&&o.y===i||(iu[o.i]=new qn(o),jn(o),n=o.x,i=o.y),o=t.pop();else{if(!r)break;Hn(r.arc)}e&&(Xn(e),$n(e));var a={cells:iu,edges:nu};return ru=au=nu=iu=null,a}function ui(t,e){return e.y-t.y||e.x-t.x}function li(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function ci(t){return t.x}function hi(t){return t.y}function fi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function di(t,e,n,i,r,o){if(!t(e,n,i,r,o)){var a=.5*(n+r),s=.5*(i+o),u=e.nodes;u[0]&&di(t,u[0],n,i,a,s),u[1]&&di(t,u[1],a,i,r,s),u[2]&&di(t,u[2],n,s,a,o),u[3]&&di(t,u[3],a,s,r,o)}}function pi(e,m,v,y,_,b,x){var w,S=1/0;return function t(e,n,i,r,o){if(!(b<n||x<i||r<y||o<_)){if(a=e.point){var a,s=m-e.x,u=v-e.y,l=s*s+u*u;if(l<S){var c=Math.sqrt(S=l);y=m-c,_=v-c,b=m+c,x=v+c,w=a}}for(var h=e.nodes,f=.5*(n+r),d=.5*(i+o),p=(d<=v)<<1|f<=m,g=p+4;p<g;++p)if(e=h[3&p])switch(3&p){case 0:t(e,n,i,f,d);break;case 1:t(e,f,i,r,d);break;case 2:t(e,n,d,f,o);break;case 3:t(e,f,d,r,o)}}}(e,y,_,b,x),w}function gi(t,e){t=ua.rgb(t),e=ua.rgb(e);var n=t.r,i=t.g,r=t.b,o=e.r-n,a=e.g-i,s=e.b-r;return function(t){return"#"+bt(Math.round(n+o*t))+bt(Math.round(i+a*t))+bt(Math.round(r+s*t))}}function mi(t,e){var n,i={},r={};for(n in t)n in e?i[n]=_i(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function vi(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function yi(t,i){var e,n,r,o=cu.lastIndex=hu.lastIndex=0,a=-1,s=[],u=[];for(t+="",i+="";(e=cu.exec(t))&&(n=hu.exec(i));)(r=n.index)>o&&(r=i.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(e=e[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,u.push({i:a,x:vi(e,n)})),o=hu.lastIndex;return o<i.length&&(r=i.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?u[0]?(i=u[0].x,function(t){return i(t)+""}):function(){return i}:(i=u.length,function(t){for(var e,n=0;n<i;++n)s[(e=u[n]).i]=e.x(t);return s.join("")})}function _i(t,e){for(var n,i=ua.interpolators.length;0<=--i&&!(n=ua.interpolators[i](t,e)););return n}function bi(t,e){var n,i=[],r=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)i.push(_i(t[n],e[n]));for(;n<o;++n)r[n]=t[n];for(;n<a;++n)r[n]=e[n];return function(t){for(n=0;n<s;++n)r[n]=i[n](t);return r}}function xi(e){return function(t){return t<=0?0:1<=t?1:e(t)}}function wi(e){return function(t){return 1-e(1-t)}}function Si(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Ti(t){return t*t}function ki(t){return t*t*t}function Ci(t){if(t<=0)return 0;if(1<=t)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Mi(e){return function(t){return Math.pow(t,e)}}function Ai(t){return 1-Math.cos(t*ja)}function Pi(t){return Math.pow(2,10*(t-1))}function Ei(t){return 1-Math.sqrt(1-t*t)}function Li(e,n){var i;return arguments.length<2&&(n=.45),arguments.length?i=n/za*Math.asin(1/e):(e=1,i=n/4),function(t){return 1+e*Math.pow(2,-10*t)*Math.sin((t-i)*za/n)}}function Di(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Ni(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Ii(t,e){t=ua.hcl(t),e=ua.hcl(e);var n=t.h,i=t.c,r=t.l,o=e.h-n,a=e.c-i,s=e.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?e.c:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360),function(t){return ct(n+o*t,i+a*t,r+s*t)+""}}function Oi(t,e){t=ua.hsl(t),e=ua.hsl(e);var n=t.h,i=t.s,r=t.l,o=e.h-n,a=e.s-i,s=e.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?e.s:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360),function(t){return ut(n+o*t,i+a*t,r+s*t)+""}}function Ri(t,e){t=ua.lab(t),e=ua.lab(e);var n=t.l,i=t.a,r=t.b,o=e.l-n,a=e.a-i,s=e.b-r;return function(t){return ft(n+o*t,i+a*t,r+s*t)+""}}function Fi(e,n){return n-=e,function(t){return Math.round(e+n*t)}}function zi(t){var e=[t.a,t.b],n=[t.c,t.d],i=ji(e),r=Hi(e,n),o=ji(Vi(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ga,this.translate=[t.e,t.f],this.scale=[i,o],this.skew=o?Math.atan2(r,o)*Ga:0}function Hi(t,e){return t[0]*e[0]+t[1]*e[1]}function ji(t){var e=Math.sqrt(Hi(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Vi(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Gi(t){return t.length?t.pop()+",":""}function qi(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:vi(t[0],e[0])},{i:r-2,x:vi(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function $i(t,e,n,i){t!==e?(180<t-e?e+=360:180<e-t&&(t+=360),i.push({i:n.push(Gi(n)+"rotate(",null,")")-2,x:vi(t,e)})):e&&n.push(Gi(n)+"rotate("+e+")")}function Bi(t,e,n,i){t!==e?i.push({i:n.push(Gi(n)+"skewX(",null,")")-2,x:vi(t,e)}):e&&n.push(Gi(n)+"skewX("+e+")")}function Wi(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push(Gi(n)+"scale(",null,",",null,")");i.push({i:r-4,x:vi(t[0],e[0])},{i:r-2,x:vi(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Gi(n)+"scale("+e+")")}function Ui(t,e){var r=[],o=[];return t=ua.transform(t),e=ua.transform(e),qi(t.translate,e.translate,r,o),$i(t.rotate,e.rotate,r,o),Bi(t.skew,e.skew,r,o),Wi(t.scale,e.scale,r,o),t=e=null,function(t){for(var e,n=-1,i=o.length;++n<i;)r[(e=o[n]).i]=e.x(t);return r.join("")}}function Yi(e,n){return n=(n-=e=+e)||1/n,function(t){return(t-e)/n}}function Xi(e,n){return n=(n-=e=+e)||1/n,function(t){return Math.max(0,Math.min(1,(t-e)/n))}}function Qi(t){for(var e=t.source,n=t.target,i=Zi(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function Ki(t){for(var e=[],n=t.parent;null!=n;)e.push(t),n=(t=n).parent;return e.push(t),e}function Zi(t,e){if(t===e)return t;for(var n=Ki(t),i=Ki(e),r=n.pop(),o=i.pop(),a=null;r===o;)a=r,r=n.pop(),o=i.pop();return a}function Ji(t){t.fixed|=2}function tr(t){t.fixed&=-7}function er(t){t.fixed|=4,t.px=t.x,t.py=t.y}function nr(t){t.fixed&=-5}function ir(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,u=-1;++u<s;)null!=(o=a[u])&&(ir(o,e,n),t.charge+=o.charge,i+=o.charge*o.cx,r+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=e*n[t.point.index];t.charge+=t.pointCharge=l,i+=l*t.point.x,r+=l*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function rr(t,e){return ua.rebind(t,e,"sort","children","value"),(t.nodes=t).links=cr,t}function or(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;0<=--i;)n.push(r[i])}function ar(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(o=t.children)&&(r=o.length))for(var r,o,a=-1;++a<r;)n.push(o[a]);for(;null!=(t=i.pop());)e(t)}function sr(t){return t.children}function ur(t){return t.value}function lr(t,e){return e.value-t.value}function cr(t){return ua.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function hr(t){return t.x}function fr(t){return t.y}function dr(t,e,n){t.y0=e,t.y=n}function pr(t){return ua.range(t.length)}function gr(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function mr(t){for(var e,n=1,i=0,r=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function vr(t){return t.reduce(yr,0)}function yr(t,e){return t+e[1]}function _r(t,e){return br(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function br(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,o=[];++n<=e;)o[n]=r*n+i;return o}function xr(t){return[ua.min(t),ua.max(t)]}function wr(t,e){return t.value-e.value}function Sr(t,e){var n=t._pack_next;(t._pack_next=e)._pack_prev=t,(e._pack_next=n)._pack_prev=e}function Tr(t,e){(t._pack_next=e)._pack_prev=t}function kr(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return n*n+i*i<.999*r*r}function Cr(t){function e(t){c=Math.min(t.x-t.r,c),h=Math.max(t.x+t.r,h),f=Math.min(t.y-t.r,f),d=Math.max(t.y+t.r,d)}if((n=t.children)&&(l=n.length)){var n,i,r,o,a,s,u,l,c=1/0,h=-1/0,f=1/0,d=-1/0;if(n.forEach(Mr),(i=n[0]).x=-i.r,i.y=0,e(i),1<l&&((r=n[1]).x=r.r,r.y=0,e(r),2<l))for(Er(i,r,o=n[2]),e(o),Sr(i,o),Sr(i._pack_prev=o,r),r=i._pack_next,a=3;a<l;a++){Er(i,r,o=n[a]);var p=0,g=1,m=1;for(s=r._pack_next;s!==r;s=s._pack_next,g++)if(kr(s,o)){p=1;break}if(1==p)for(u=i._pack_prev;u!==s._pack_prev&&!kr(u,o);u=u._pack_prev,m++);p?(g<m||g==m&&r.r<i.r?Tr(i,r=s):Tr(i=u,r),a--):(Sr(i,o),e(r=o))}var v=(c+h)/2,y=(f+d)/2,_=0;for(a=0;a<l;a++)(o=n[a]).x-=v,o.y-=y,_=Math.max(_,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=_,n.forEach(Ar)}}function Mr(t){t._pack_next=t._pack_prev=t}function Ar(t){delete t._pack_next,delete t._pack_prev}function Pr(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var o=-1,a=r.length;++o<a;)Pr(r[o],e,n,i)}function Er(t,e,n){var i=t.r+n.r,r=e.x-t.x,o=e.y-t.y;if(i&&(r||o)){var a=e.r+n.r,s=r*r+o*o,u=.5+((i*=i)-(a*=a))/(2*s),l=Math.sqrt(Math.max(0,2*a*(i+s)-(i-=s)*i-a*a))/(2*s);n.x=t.x+u*r+l*o,n.y=t.y+u*o-l*r}else n.x=t.x+i,n.y=t.y}function Lr(t,e){return t.parent==e.parent?1:2}function Dr(t){var e=t.children;return e.length?e[0]:t.t}function Nr(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Ir(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Or(t){for(var e,n=0,i=0,r=t.children,o=r.length;0<=--o;)(e=r[o]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}function Rr(t,e,n){return t.a.parent===e.parent?t.a:n}function Fr(t){return 1+ua.max(t,function(t){return t.y})}function zr(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Hr(t){var e=t.children;return e&&e.length?Hr(e[0]):t}function jr(t){var e,n=t.children;return n&&(e=n.length)?jr(n[e-1]):t}function Vr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Gr(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return r<0&&(n+=r/2,r=0),o<0&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function qr(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function $r(t){return t.rangeExtent?t.rangeExtent():qr(t.range())}function Br(t,e,n,i){var r=n(t[0],t[1]),o=i(e[0],e[1]);return function(t){return o(r(t))}}function Wr(t,e){var n,i=0,r=t.length-1,o=t[i],a=t[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t}function Ur(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:wu}function Yr(n,t,e,i){var r=[],o=[],a=0,s=Math.min(n.length,t.length)-1;for(n[s]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<=s;)r.push(e(n[a-1],n[a])),o.push(i(t[a-1],t[a]));return function(t){var e=ua.bisect(n,t,1,s)-1;return o[e](r[e](t))}}function Xr(n,i,r,o){function e(){var t=2<Math.min(n.length,i.length)?Yr:Br,e=o?Xi:Yi;return s=t(n,i,e,r),u=t(i,n,e,_i),a}function a(t){return s(t)}var s,u;return a.invert=function(t){return u(t)},a.domain=function(t){return arguments.length?(n=t.map(Number),e()):n},a.range=function(t){return arguments.length?(i=t,e()):i},a.rangeRound=function(t){return a.range(t).interpolate(Fi)},a.clamp=function(t){return arguments.length?(o=t,e()):o},a.interpolate=function(t){return arguments.length?(r=t,e()):r},a.ticks=function(t){return Jr(n,t)},a.tickFormat=function(t,e){return to(n,t,e)},a.nice=function(t){return Kr(n,t),e()},a.copy=function(){return Xr(n,i,r,o)},e()}function Qr(t,e){return ua.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Kr(t,e){return Wr(t,Ur(Zr(t,e)[2])),Wr(t,Ur(Zr(t,e)[2])),t}function Zr(t,e){null==e&&(e=10);var n=qr(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),o=e/i*r
;return o<=.15?r*=10:o<=.35?r*=5:o<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function Jr(t,e){return ua.range.apply(ua,Zr(t,e))}function to(t,e,n){var i=Zr(t,e);if(n){var r=cs.exec(n);if(r.shift(),"s"===r[8]){var o=ua.formatPrefix(Math.max(ya(i[0]),ya(i[1])));return r[7]||(r[7]="."+eo(o.scale(i[2]))),r[8]="f",n=ua.format(r.join("")),function(t){return n(o.scale(t))+o.symbol}}r[7]||(r[7]="."+no(r[8],i)),n=r.join("")}else n=",."+eo(i[2])+"f";return ua.format(n)}function eo(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function no(t,e){var n=eo(e[2]);return t in Su?Math.abs(n-eo(Math.max(ya(e[0]),ya(e[1]))))+ +("e"!==t):n-2*("%"===t)}function io(e,u,l,c){function h(t){return(l?Math.log(t<0?0:t):-Math.log(0<t?0:-t))/Math.log(u)}function f(t){return l?Math.pow(u,t):-Math.pow(u,-t)}function r(t){return e(h(t))}return r.invert=function(t){return f(e.invert(t))},r.domain=function(t){return arguments.length?(l=0<=t[0],e.domain((c=t.map(Number)).map(h)),r):c},r.base=function(t){return arguments.length?(u=+t,e.domain(c.map(h)),r):u},r.nice=function(){var t=Wr(c.map(h),l?Math:ku);return e.domain(t),c=t.map(f),r},r.ticks=function(){var t=qr(c),e=[],n=t[0],i=t[1],r=Math.floor(h(n)),o=Math.ceil(h(i)),a=u%1?2:u;if(isFinite(o-r)){if(l){for(;r<o;r++)for(var s=1;s<a;s++)e.push(f(r)*s);e.push(f(r))}else for(e.push(f(r));r++<o;)for(s=a-1;0<s;s--)e.push(f(r)*s);for(r=0;e[r]<n;r++);for(o=e.length;e[o-1]>i;o--);e=e.slice(r,o)}return e},r.tickFormat=function(t,n){if(!arguments.length)return Tu;arguments.length<2?n=Tu:"function"!=typeof n&&(n=ua.format(n));var i=Math.max(1,u*t/r.ticks().length);return function(t){var e=t/f(Math.round(h(t)));return e*u<u-.5&&(e*=u),e<=i?n(t):""}},r.copy=function(){return io(e.copy(),u,l,c)},Qr(r,e)}function ro(e,n,i){function r(t){return e(o(t))}var o=oo(n),a=oo(1/n);return r.invert=function(t){return a(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((i=t.map(Number)).map(o)),r):i},r.ticks=function(t){return Jr(i,t)},r.tickFormat=function(t,e){return to(i,t,e)},r.nice=function(t){return r.domain(Kr(i,t))},r.exponent=function(t){return arguments.length?(o=oo(n=t),a=oo(1/n),e.domain(i.map(o)),r):n},r.copy=function(){return ro(e.copy(),n,i)},Qr(r,e)}function oo(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ao(s,u){function l(t){return h[((r.get(t)||("range"===u.t?r.set(t,s.push(t)):NaN))-1)%h.length]}function c(e,n){return ua.range(s.length).map(function(t){return e+n*t})}var r,h,f;return l.domain=function(t){if(!arguments.length)return s;s=[],r=new y;for(var e,n=-1,i=t.length;++n<i;)r.has(e=t[n])||r.set(e,s.push(e));return l[u.t].apply(l,u.a)},l.range=function(t){return arguments.length?(h=t,f=0,u={t:"range",a:arguments},l):h},l.rangePoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],i=t[1],r=s.length<2?(n=(n+i)/2,0):(i-n)/(s.length-1+e);return h=c(n+r*e/2,r),f=0,u={t:"rangePoints",a:arguments},l},l.rangeRoundPoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],i=t[1],r=s.length<2?(n=i=Math.round((n+i)/2),0):(i-n)/(s.length-1+e)|0;return h=c(n+Math.round(r*e/2+(i-n-(s.length-1+e)*r)/2),r),f=0,u={t:"rangeRoundPoints",a:arguments},l},l.rangeBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var i=t[1]<t[0],r=t[i-0],o=(t[1-i]-r)/(s.length-e+2*n);return h=c(r+o*n,o),i&&h.reverse(),f=o*(1-e),u={t:"rangeBands",a:arguments},l},l.rangeRoundBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var i=t[1]<t[0],r=t[i-0],o=t[1-i],a=Math.floor((o-r)/(s.length-e+2*n));return h=c(r+Math.round((o-r-(s.length-e)*a)/2),a),i&&h.reverse(),f=Math.round(a*(1-e)),u={t:"rangeRoundBands",a:arguments},l},l.rangeBand=function(){return f},l.rangeExtent=function(){return qr(u.a[0])},l.copy=function(){return ao(s,u)},l.domain(s)}function so(n,i){function e(){var t=0,e=i.length;for(o=[];++t<e;)o[t-1]=ua.quantile(n,t/e);return r}function r(t){return isNaN(t=+t)?void 0:i[ua.bisect(o,t)]}var o;return r.domain=function(t){return arguments.length?(n=t.map(l).filter(c).sort(a),e()):n},r.range=function(t){return arguments.length?(i=t,e()):i},r.quantiles=function(){return o},r.invertExtent=function(t){return(t=i.indexOf(t))<0?[NaN,NaN]:[0<t?o[t-1]:n[0],t<o.length?o[t]:n[n.length-1]]},r.copy=function(){return so(n,i)},e()}function uo(e,n,i){function t(t){return i[Math.max(0,Math.min(a,Math.floor(o*(t-e))))]}function r(){return o=i.length/(n-e),a=i.length-1,t}var o,a;return t.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],r()):[e,n]},t.range=function(t){return arguments.length?(i=t,r()):i},t.invertExtent=function(t){return[t=(t=i.indexOf(t))<0?NaN:t/o+e,t+1/o]},t.copy=function(){return uo(e,n,i)},r()}function lo(e,n){function i(t){return t<=t?n[ua.bisect(e,t)]:void 0}return i.domain=function(t){return arguments.length?(e=t,i):e},i.range=function(t){return arguments.length?(n=t,i):n},i.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},i.copy=function(){return lo(e,n)},i}function co(n){function e(t){return+t}return(e.invert=e).domain=e.range=function(t){return arguments.length?(n=t.map(e),e):n},e.ticks=function(t){return Jr(n,t)},e.tickFormat=function(t,e){return to(n,t,e)},e.copy=function(){return co(n)},e}function ho(){return 0}function fo(t){return t.innerRadius}function po(t){return t.outerRadius}function go(t){return t.startAngle}function mo(t){return t.endAngle}function vo(t){return t&&t.padAngle}function yo(t,e,n,i){return 0<(t-n)*e-(e-i)*t?0:1}function _o(t,e,n,i,r){var o=t[0]-e[0],a=t[1]-e[1],s=(r?i:-i)/Math.sqrt(o*o+a*a),u=s*a,l=-s*o,c=t[0]+u,h=t[1]+l,f=e[0]+u,d=e[1]+l,p=(c+f)/2,g=(h+d)/2,m=f-c,v=d-h,y=m*m+v*v,_=n-i,b=c*d-f*h,x=(v<0?-1:1)*Math.sqrt(Math.max(0,_*_*y-b*b)),w=(b*v-m*x)/y,S=(-b*m-v*x)/y,T=(b*v+m*x)/y,k=(-b*m+v*x)/y,C=w-p,M=S-g,A=T-p,P=k-g;return A*A+P*P<C*C+M*M&&(w=T,S=k),[[w-u,S-l],[w*n/_,S*n/_]]}function bo(l){function e(t){function e(){i.push("M",d(l(r),p))}for(var n,i=[],r=[],o=-1,a=t.length,s=Ct(c),u=Ct(h);++o<a;)f.call(this,n=t[o],o)?r.push([+s.call(this,n,o),+u.call(this,n,o)]):r.length&&(e(),r=[]);return r.length&&e(),i.length?i.join(""):null}var c=Pn,h=En,f=Pe,d=xo,n=d.key,p=.7;return e.x=function(t){return arguments.length?(c=t,e):c},e.y=function(t){return arguments.length?(h=t,e):h},e.defined=function(t){return arguments.length?(f=t,e):f},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?d=t:(d=Lu.get(t)||xo).key,e):n},e.tension=function(t){return arguments.length?(p=t,e):p},e}function xo(t){return 1<t.length?t.join("L"):t+"Z"}function wo(t){return t.join("L")+"Z"}function So(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return 1<n&&r.push("H",i[0]),r.join("")}function To(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function ko(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function Co(t,e){return t.length<4?xo(t):t[1]+Po(t.slice(1,-1),Eo(t,e))}function Mo(t,e){return t.length<3?wo(t):t[0]+Po((t.push(t[0]),t),Eo([t[t.length-2]].concat(t,[t[1]]),e))}function Ao(t,e){return t.length<3?xo(t):t[0]+Po(t,Eo(t,e))}function Po(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return xo(t);var n=t.length!=e.length,i="",r=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(i+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],r=t[1],u=2),1<e.length){s=e[1],o=t[u],u++,i+="C"+(r[0]+a[0])+","+(r[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,u++)o=t[u],s=e[l],i+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[u];i+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return i}function Eo(t,e){for(var n,i=[],r=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],i.push([r*(a[0]-n[0]),r*(a[1]-n[1])]);return i}function Lo(t){if(t.length<3)return xo(t);var e=1,n=t.length,i=t[0],r=i[0],o=i[1],a=[r,r,r,(i=t[1])[0]],s=[o,o,o,i[1]],u=[r,",",o,"L",Oo(Iu,a),",",Oo(Iu,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),Ro(u,a,s);return t.pop(),u.push("L",i),u.join("")}function Do(t){if(t.length<4)return xo(t);for(var e,n=[],i=-1,r=t.length,o=[0],a=[0];++i<3;)e=t[i],o.push(e[0]),a.push(e[1]);for(n.push(Oo(Iu,o)+","+Oo(Iu,a)),--i;++i<r;)e=t[i],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Ro(n,o,a);return n.join("")}function No(t){for(var e,n,i=-1,r=t.length,o=r+4,a=[],s=[];++i<4;)n=t[i%r],a.push(n[0]),s.push(n[1]);for(e=[Oo(Iu,a),",",Oo(Iu,s)],--i;++i<o;)n=t[i%r],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Ro(e,a,s);return e.join("")}function Io(t,e){var n=t.length-1;if(n)for(var i,r,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,l=-1;++l<=n;)r=l/n,(i=t[l])[0]=e*i[0]+(1-e)*(o+r*s),i[1]=e*i[1]+(1-e)*(a+r*u);return Lo(t)}function Oo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Ro(t,e,n){t.push("C",Oo(Du,e),",",Oo(Du,n),",",Oo(Nu,e),",",Oo(Nu,n),",",Oo(Iu,e),",",Oo(Iu,n))}function Fo(t,e){return(e[1]-t[1])/(e[0]-t[0])}function zo(t){for(var e=0,n=t.length-1,i=[],r=t[0],o=t[1],a=i[0]=Fo(r,o);++e<n;)i[e]=(a+(a=Fo(r=o,o=t[e+1])))/2;return i[e]=a,i}function Ho(t){for(var e,n,i,r,o=[],a=zo(t),s=-1,u=t.length-1;++s<u;)e=Fo(t[s],t[s+1]),ya(e)<Oa?a[s]=a[s+1]=0:9<(r=(n=a[s]/e)*n+(i=a[s+1]/e)*i)&&(r=3*e/Math.sqrt(r),a[s]=r*n,a[s+1]=r*i);for(s=-1;++s<=u;)r=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([r||0,a[s]*r||0]);return o}function jo(t){return t.length<3?xo(t):t[0]+Po(t,Ho(t))}function Vo(t){for(var e,n,i,r=-1,o=t.length;++r<o;)n=(e=t[r])[0],i=e[1]-ja,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Go(p){function e(t){function e(){o.push("M",b(p(s),S),w,x(p(a.reverse()),S),"Z")}for(var n,i,r,o=[],a=[],s=[],u=-1,l=t.length,c=Ct(g),h=Ct(v),f=g===m?function(){return i}:Ct(m),d=v===y?function(){return r}:Ct(y);++u<l;)_.call(this,n=t[u],u)?(a.push([i=+c.call(this,n,u),r=+h.call(this,n,u)]),s.push([+f.call(this,n,u),+d.call(this,n,u)])):a.length&&(e(),a=[],s=[]);return a.length&&e(),o.length?o.join(""):null}var g=Pn,m=Pn,v=0,y=En,_=Pe,b=xo,n=b.key,x=b,w="L",S=.7;return e.x=function(t){return arguments.length?(g=m=t,e):m},e.x0=function(t){return arguments.length?(g=t,e):g},e.x1=function(t){return arguments.length?(m=t,e):m},e.y=function(t){return arguments.length?(v=y=t,e):y},e.y0=function(t){return arguments.length?(v=t,e):v},e.y1=function(t){return arguments.length?(y=t,e):y},e.defined=function(t){return arguments.length?(_=t,e):_},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?b=t:(b=Lu.get(t)||xo).key,x=b.reverse||b,w=b.closed?"M":"L",e):n},e.tension=function(t){return arguments.length?(S=t,e):S},e}function qo(t){return t.radius}function $o(t){return[t.x,t.y]}function Bo(i){return function(){var t=i.apply(this,arguments),e=t[0],n=t[1]-ja;return[e*Math.cos(n),e*Math.sin(n)]}}function Wo(){return 64}function Uo(){return"circle"}function Yo(t){var e=Math.sqrt(t/Fa);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Xo(i){return function(){var t,e,n;(t=this[i])&&(n=t[e=t.active])&&(n.timer.c=null,n.timer.t=NaN,--t.count?delete t[e]:delete this[i],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Qo(t,e,n){return Sa(t,Vu),t.namespace=e,t.id=n,t}function Ko(t,i,r,o){var a=t.id,s=t.namespace;return q(t,"function"==typeof r?function(t,e,n){t[s][a].tween.set(i,o(r.call(t,t.__data__,e,n)))}:(r=o(r),function(t){t[s][a].tween.set(i,r)}))}function Zo(t){return null==t&&(t=""),function(){this.textContent=t}}function Jo(t){return null==t?"__transition__":"__transition_"+t+"__"}function ta(o,a,r,s,t){function e(t){var e=g.delay;return c.t=e+l,e<=t?n(t-e):void(c.c=n)}function n(t){var e=p.active,n=p[e];for(var i in n&&(n.timer.c=null,n.timer.t=NaN,--p.count,delete p[e],n.event&&n.event.interrupt.call(o,o.__data__,n.index)),p)if(+i<s){var r=p[i];r.timer.c=null,r.timer.t=NaN,--p.count,delete p[i]}c.c=u,Lt(function(){return c.c&&u(t||1)&&(c.c=null,c.t=NaN),1},0,l),p.active=s,g.event&&g.event.start.call(o,o.__data__,a),d=[],g.tween.forEach(function(t,e){(e=e.call(o,o.__data__,a))&&d.push(e)}),f=g.ease,h=g.duration}function u(t){for(var e=t/h,n=f(e),i=d.length;0<i;)d[--i].call(o,n);return 1<=e?(g.event&&g.event.end.call(o,o.__data__,a),--p.count?delete p[s]:delete o[r],1):void 0}var l,c,h,f,d,p=o[r]||(o[r]={active:0,count:0}),g=p[s];g||(l=t.time,c=Lt(e,0,l),g=p[s]={tween:new y,time:l,timer:c,delay:t.delay,duration:t.duration,ease:t.ease,index:a},t=null,++p.count)}function ea(t,n,i){t.attr("transform",function(t){var e=n(t);return"translate("+(isFinite(e)?e:i(t))+",0)"})}function na(t,n,i){t.attr("transform",function(t){var e=n(t);return"translate(0,"+(isFinite(e)?e:i(t))+")"})}function ia(t){return t.toISOString()}function ra(e,r,t){function a(t){return e(t)}function s(t,e){var n=(t[1]-t[0])/e,i=ua.bisect(Qu,n);return i==Qu.length?[r.year,Zr(t.map(function(t){return t/31536e6}),e)[2]]:i?r[n/Qu[i-1]<Qu[i]/n?i-1:i]:[Ju,Zr(t,e)[2]]}return a.invert=function(t){return oa(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain(t),a):e.domain().map(oa)},a.nice=function(e,n){function i(t){return!isNaN(t)&&!e.range(t,oa(+t+1),n).length}var t=a.domain(),r=qr(t),o=null==e?s(r,10):"number"==typeof e&&s(r,e);return o&&(e=o[0],n=o[1]),a.domain(Wr(t,1<n?{floor:function(t){for(;i(t=e.floor(t));)t=oa(t-1);return t},ceil:function(t){for(;i(t=e.ceil(t));)t=oa(+t+1);return t}}:e))},a.ticks=function(t,e){var n=qr(a.domain()),i=null==t?s(n,10):"number"==typeof t?s(n,t):!t.range&&[{range:t},e];return i&&(t=i[0],e=i[1]),t.range(n[0],oa(+n[1]+1),e<1?1:e)},a.tickFormat=function(){return t},a.copy=function(){return ra(e.copy(),r,t)},Qr(a,e)}function oa(t){return new Date(t)}function aa(t){return JSON.parse(t.responseText)}function sa(t){var e=ha.createRange();return e.selectNode(ha.body),e.createContextualFragment(t.responseText)}var ua={version:"3.5.17"},la=[].slice,ca=function(t){return la.call(t)},ha=this.document;if(ha)try{ca(ha.documentElement.childNodes)[0].nodeType}catch(nl){ca=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),ha)try{ha.createElement("DIV").style.setProperty("opacity",0,"")}catch(il){var fa=this.Element.prototype,da=fa.setAttribute,pa=fa.setAttributeNS,ga=this.CSSStyleDeclaration.prototype,ma=ga.setProperty;fa.setAttribute=function(t,e){da.call(this,t,e+"")},fa.setAttributeNS=function(t,e,n){pa.call(this,t,e,n+"")},ga.setProperty=function(t,e,n){ma.call(this,t,e+"",n)}}ua.ascending=a,ua.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},ua.min=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i<=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&i<n&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i<=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&i<n&&(n=i)}return n},ua.max=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i<=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&n<i&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i<=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&n<i&&(n=i)}return n},ua.extent=function(t,e){var n,i,r,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(i=t[o])&&i<=i){n=r=i;break}for(;++o<a;)null!=(i=t[o])&&(i<n&&(n=i),r<i&&(r=i))}else{for(;++o<a;)if(null!=(i=e.call(t,t[o],o))&&i<=i){n=r=i;break}for(;++o<a;)null!=(i=e.call(t,t[o],o))&&(i<n&&(n=i),r<i&&(r=i))}return[n,r]},ua.sum=function(t,e){var n,i=0,r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)c(n=+t[o])&&(i+=n);else for(;++o<r;)c(n=+e.call(t,t[o],o))&&(i+=n);return i},ua.mean=function(t,e){var n,i=0,r=t.length,o=-1,a=r;if(1===arguments.length)for(;++o<r;)c(n=l(t[o]))?i+=n:--a;else for(;++o<r;)c(n=l(e.call(t,t[o],o)))?i+=n:--a;return a?i/a:void 0},ua.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r},ua.median=function(t,e){var n,i=[],r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)c(n=l(t[o]))&&i.push(n);else for(;++o<r;)c(n=l(e.call(t,t[o],o)))&&i.push(n);return i.length?ua.quantile(i.sort(a),.5):void 0},ua.variance=function(t,e){var n,i,r=t.length,o=0,a=0,s=-1,u=0;if(1===arguments.length)for(;++s<r;)c(n=l(t[s]))&&(a+=(i=n-o)*(n-(o+=i/++u)));else for(;++s<r;)c(n=l(e.call(t,t[s],s)))&&(a+=(i=n-o)*(n-(o+=i/++u)));return 1<u?a/(u-1):void 0},ua.deviation=function(){var t=ua.variance.apply(this,arguments);return t?Math.sqrt(t):t};var va=t(a);ua.bisectLeft=va.left,ua.bisect=ua.bisectRight=va.right,ua.bisector=function(n){return t(1===n.length?function(t,e){return a(n(t),e)}:n)},ua.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var i,r,o=n-e;o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},ua.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},ua.pairs=function(t){for(var e=0,n=t.length-1,i=t[0],r=new Array(n<0?0:n);e<n;)r[e]=[i,i=t[++e]];return r},ua.transpose=function(t){if(!(r=t.length))return[];for(var e=-1,n=ua.min(t,u),i=new Array(n);++e<n;)for(var r,o=-1,a=i[e]=new Array(r);++o<r;)a[o]=t[o][e];return i},ua.zip=function(){return ua.transpose(arguments)},ua.keys=function(t){var e=[];for(var n in t)e.push(n);return e},ua.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ua.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ua.merge=function(t){for(var e,n,i,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(n=new Array(a);0<=--r;)for(e=(i=t[r]).length;0<=--e;)n[--a]=i[e];return n};var ya=Math.abs;ua.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var i,r=[],o=h(ya(n)),a=-1;if(t*=o,e*=o,(n*=o)<0)for(;(i=t+n*++a)>e;)r.push(i/o);else for(;(i=t+n*++a)<e;)r.push(i/o);return r},ua.map=function(t,e){var n=new y;if(t instanceof y)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(1===arguments.length)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e.call(t,i=t[r],r),i)}else for(var a in t)n.set(a,t[a]);return n};var _a="__proto__",ba="\0";e(y,{has:r,get:function(t){return this._[n(t)]},set:function(t,e){return this._[n(t)]=e},remove:o,keys:f,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:i(e),value:this._[e]});return t},size:d,empty:p,forEach:function(t){for(var e in this._)t.call(this,i(e),this._[e])}}),ua.nest=function(){function h(n,t,i){if(i>=g.length)return d?d.call(p,t):f?t.sort(f):t;for(var e,r,o,a,s=-1,u=t.length,l=g[i++],c=new y;++s<u;)(a=c.get(e=l(r=t[s])))?a.push(r):c.set(e,[r]);return n?(r=n(),o=function(t,e){r.set(t,h(n,e,i))}):(r={},o=function(t,e){r[t]=h(n,e,i)}),c.forEach(o),r}function o(t,n){if(n>=g.length)return t;var i=[],r=e[n++];return t.forEach(function(t,e){i.push({key:t,values:o(e,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var f,d,p={},g=[],e=[];return p.map=function(t,e){return h(e,t,0)},p.entries=function(t){return o(h(ua.map,t,0),0)},p.key=function(t){return g.push(t),p},p.sortKeys=function(t){return e[g.length-1]=t,p},p.sortValues=function(t){return f=t,p},p.rollup=function(t){return d=t,p},p},ua.set=function(t){var e=new g;if(t)for(var n=0,i=t.length;n<i;++n)e.add(t[n]);return e},e(g,{has:r,add:function(t){return this._[n(t+="")]=!0,t},remove:o,values:f,size:d,empty:p,forEach:function(t){for(var e in this._)t.call(this,i(e))}}),ua.behavior={},ua.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=m(t,e,e[n]);return t};var xa=["webkit","ms","moz","Moz","o","O"];ua.dispatch=function(){for(var t=new _,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=x(t);return t},_.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(0<=n&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},ua.event=null,ua.requote=function(t){return t.replace(wa,"\\$&")};var wa=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Sa={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Ta=function(t,e){return e.querySelector(t)},ka=function(t,e){return e.querySelectorAll(t)},Ca=function(t,e){var n=t.matches||t[v(t,"matchesSelector")];return(Ca=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Ta=function(t,e){return Sizzle(t,e)[0]||null},ka=Sizzle,Ca=Sizzle.matchesSelector),ua.selection=function(){return ua.select(ha.documentElement)};var Ma=ua.selection.prototype=[];Ma.select=function(t){var e,n,i,r,o=[];t=T(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(i=this[a]).parentNode;for(var u=-1,l=i.length;++u<l;)(r=i[u])?(e.push(n=t.call(r,r.__data__,u,a)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return S(o)},Ma.selectAll=function(t){var e,n,i=[];t=k(t);for(var r=-1,o=this.length;++r<o;)for(var a=this[r],s=-1,u=a.length;++s<u;)(n=a[s])&&(i.push(e=ca(t.call(n,n.__data__,s,r))),e.parentNode=n);return S(i)};var Aa="http://www.w3.org/1999/xhtml",Pa={svg:"http://www.w3.org/2000/svg",xhtml:Aa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ua.ns={prefix:Pa,qualify:function(t){var e=t.indexOf(":"),n=t;return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Pa.hasOwnProperty(n)?{space:Pa[n],local:t}:t}},Ma.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=ua.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(C(e,t[e]));return this}return this.each(C(t,e))},Ma.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=P(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!A(t[r]).test(e))return!1;return!0}for(e in t)this.each(E(e,t[e]));return this}return this.each(E(t,e))},Ma.style=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=""),t)this.each(D(n,t[n],e));return this}if(i<2){var r=this.node();return I(r).getComputedStyle(r,null).getPropertyValue(t)}n=""}return this.each(D(t,e,n))},Ma.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(N(e,t[e]));return this}return this.each(N(t,e))},Ma.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Ma.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Ma.append=function(t){return t=z(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Ma.insert=function(t,e){return t=z(t),e=T(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Ma.remove=function(){return this.each(H)},Ma.data=function(t,p){function e(t,e){var n,i,r,o=t.length,a=e.length,s=Math.min(o,a),u=new Array(a),l=new Array(a),c=new Array(o);if(p){var h,f=new y,d=new Array(o);for(n=-1;++n<o;)(i=t[n])&&(f.has(h=p.call(i,i.__data__,n))?c[n]=i:f.set(h,i),d[n]=h);for(n=-1;++n<a;)(i=f.get(h=p.call(e,r=e[n],n)))?!0!==i&&((u[n]=i).__data__=r):l[n]=j(r),f.set(h,!0);for(n=-1;++n<o;)n in d&&!0!==f.get(d[n])&&(c[n]=t[n])}else{for(n=-1;++n<s;)i=t[n],r=e[n],i?(i.__data__=r,u[n]=i):l[n]=j(r);for(;n<a;++n)l[n]=j(e[n]);for(;n<o;++n)c[n]=t[n]}l.update=u,l.parentNode=u.parentNode=c.parentNode=t.parentNode,g.push(l),m.push(u),v.push(c)}var n,i,r=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(n=this[0]).length);++r<o;)(i=n[r])&&(t[r]=i.__data__);return t}var g=$([]),m=S([]),v=S([]);if("function"==typeof t)for(;++r<o;)e(n=this[r],t.call(n,n.parentNode.__data__,r));else for(;++r<o;)e(n=this[r],t);return m.enter=function(){return g},m.exit=function(){return v},m},Ma.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Ma.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=V(t));for(var o=0,a=this.length;o<a;o++){r.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;s<u;s++)(i=n[s])&&t.call(i,i.__data__,s,o)&&e.push(i)}return S(r)},Ma.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,o=i[r];0<=--r;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Ma.sort=function(t){t=G.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Ma.each=function(i){return q(this,function(t,e,n){i.call(t,t.__data__,e,n)})},Ma.call=function(t){var e=ca(arguments);return t.apply(e[0]=this,e),this},Ma.empty=function(){return!this.node()},Ma.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],i=0,r=n.length;i<r;i++){var o=n[i];if(o)return o}return null},Ma.size=function(){var t=0;return q(this,function(){++t}),t};var Ea=[];ua.selection.enter=$,(ua.selection.enter.prototype=Ea).append=Ma.append,Ea.empty=Ma.empty,Ea.node=Ma.node,Ea.call=Ma.call,Ea.size=Ma.size,Ea.select=function(t){for(var e,n,i,r,o,a=[],s=-1,u=this.length;++s<u;){i=(r=this[s]).update,a.push(e=[]),e.parentNode=r.parentNode;for(var l=-1,c=r.length;++l<c;)(o=r[l])?(e.push(i[l]=n=t.call(r.parentNode,o.__data__,l,s)),n.__data__=o.__data__):e.push(null)}return S(a)},Ea.insert=function(t,e){return arguments.length<2&&(e=B(this)),Ma.insert.call(this,t,e)},ua.select=function(t){var e;return"string"==typeof t?(e=[Ta(t,ha)]).parentNode=ha.documentElement:(e=[t]).parentNode=s(t),S([e])},ua.selectAll=function(t){var e;return"string"==typeof t?(e=ca(ka(t,ha))).parentNode=ha.documentElement:(e=ca(t)).parentNode=null,S([e])},Ma.on=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=!1),t)this.each(W(n,t[n],e));return this}if(i<2)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(W(t,e,n))};var La=ua.map({mouseenter:"mouseover",mouseleave:"mouseout"});ha&&La.forEach(function(t){"on"+t in ha&&La.remove(t)});var Da,Na=0;ua.mouse=function(t){return Q(t,w())};var Ia=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ua.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=w().changedTouches),e)for(var i,r=0,o=e.length;r<o;++r)if((i=e[r]).identifier===n)return Q(t,i)},ua.behavior.drag=function(){function e(){this.on("mousedown.drag",n).on("touchstart.drag",i)}function t(d,p,g,m,v){return function(){function t(){var t,e,n=p(o,u);n&&(t=n[0]-f[0],e=n[1]-f[1],s|=t|e,a({type:"drag",x:(f=n)[0]+i[0],y:n[1]+i[1],dx:t,dy:e}))}function e(){p(o,u)&&(c.on(m+l,null).on(v+l,null),h(s),a({type:"dragend"}))}var i,n=this,r=ua.event.target.correspondingElement||ua.event.target,o=n.parentNode,a=y.of(n,arguments),s=0,u=d(),l=".drag"+(null==u?"":"-"+u),c=ua.select(g(r)).on(m+l,t).on(v+l,e),h=X(r),f=p(o,u);_?i=[(i=_.apply(n,arguments)).x-f[0],i.y-f[1]]:i=[0,0],a({type:"dragstart"})}}var y=F(e,"drag","dragstart","dragend"),_=null,n=t(b,ua.mouse,I,"mousemove","mouseup"),i=t(K,ua.touch,O,"touchmove","touchend");return e.origin=function(t){return arguments.length?(_=t,e):_},ua.rebind(e,y,"on")},ua.touches=function(n,t){return arguments.length<2&&(t=w().touches),t?ca(t).map(function(t){var e=Q(n,t);return e.identifier=t.identifier,e}):[]};var Oa=1e-6,Ra=Oa*Oa,Fa=Math.PI,za=2*Fa,Ha=za-Oa,ja=Fa/2,Va=Fa/180,Ga=180/Fa,qa=Math.SQRT2,$a=2,Ba=4;ua.interpolateZoom=function(t,e){var n,r,o=t[0],a=t[1],s=t[2],i=e[0],u=e[1],l=e[2],c=i-o,h=u-a,f=c*c+h*h;if(f<Ra)r=Math.log(l/s)/qa,n=function(t){return[o+t*c,a+t*h,s*Math.exp(qa*t*r)]};else{var d=Math.sqrt(f),p=(l*l-s*s+Ba*f)/(2*s*$a*d),g=(l*l-s*s-Ba*f)/(2*l*$a*d),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);r=(v-m)/qa,n=function(t){var e=t*r,n=it(m),i=s/($a*d)*(n*rt(qa*e+m)-nt(m));return[o+i*c,a+i*h,s*n/it(qa*e+m)]}}return n.duration=1e3*r,n},ua.behavior.zoom=function(){function r(t){t.on(P,s).on(Ua+".zoom",i).on("dblclick.zoom",o).on(D,C)}function u(t){return[(t[0]-A.x)/A.k,(t[1]-A.y)/A.k]}function n(t){return[t[0]*A.k+A.x,t[1]*A.k+A.y]}function b(t){A.k=Math.max(v[0],Math.min(v[1],t))}function x(t,e){e=n(e),A.x+=t[0]-e[0],A.y+=t[1]-e[1]}function w(t,e,n,i){t.__chart__={x:A.x,y:A.y,k:A.k},b(Math.pow(2,i)),x(l=e,n),t=ua.select(t),0<y&&(t=t.transition().duration(y)),t.call(r.event)}function e(){d&&d.domain(f.range().map(function(t){return(t-A.x)/A.k}).map(f.invert)),g&&g.domain(p.range().map(function(t){return(t-A.y)/A.k}).map(p.invert))}function S(t){_++||t({type:"zoomstart"})}function T(t){e(),t({type:"zoom",scale:A.k,translate:[A.x,A.y]})}function k(t){--_||(t({type:"zoomend"}),l=null)}function s(){function t(){r=1,x(ua.mouse(n),a),T(i)}function e(){o.on(E,null).on(L,null),s(r),k(i)}var n=this,i=N.of(n,arguments),r=0,o=ua.select(I(n)).on(E,t).on(L,e),a=u(ua.mouse(n)),s=X(n);ju.call(n),S(i)}function C(){function c(){var t=ua.touches(d);return l=A.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=u(t))}),t}function t(){var t=ua.event.target;ua.select(t).on(v,h).on(y,f),_.push(t);for(var e=ua.event.changedTouches,n=0,i=e.length;n<i;++n)g[e[n].identifier]=null;var r=c(),o=Date.now();if(1===r.length){if(o-M<500){var a=r[0];w(d,a,g[a.identifier],Math.floor(Math.log(A.k)/Math.LN2)+1),R()}M=o}else if(1<r.length){a=r[0];var s=r[1],u=a[0]-s[0],l=a[1]-s[1];m=u*u+l*l}}function h(){var t,e,n,i,r=ua.touches(d);ju.call(d);for(var o=0,a=r.length;o<a;++o,i=null)if(n=r[o],i=g[n.identifier]){if(e)break;t=n,e=i}if(i){var s=(s=n[0]-t[0])*s+(s=n[1]-t[1])*s,u=m&&Math.sqrt(s/m);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],b(u*l)}M=null,x(t,e),T(p)}function f(){if(ua.event.touches.length){for(var t=ua.event.changedTouches,e=0,n=t.length;e<n;++e)delete g[t[e].identifier];for(var i in g)return void c()}ua.selectAll(_).on(r,null),o.on(P,s).on(D,C),a(),k(p)}var l,d=this,p=N.of(d,arguments),g={},m=0,r=".zoom-"+ua.event.changedTouches[0].identifier,v="touchmove"+r,y="touchend"+r,_=[],o=ua.select(d),a=X(d);t(),S(p),o.on(P,null).on(D,t)}function i(){var t=N.of(this,arguments);h?clearTimeout(h):(ju.call(this),a=u(l=c||ua.mouse(this)),S(t)),h=setTimeout(function(){h=null,k(t)},50),R(),b(Math.pow(2,.002*Wa())*A.k),x(l,a),T(t)}function o(){var t=ua.mouse(this),e=Math.log(A.k)/Math.LN2;w(this,t,u(t),ua.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var a,l,c,h,M,f,d,p,g,A={x:0,y:0,k:1},m=[960,500],v=Ya,y=250,_=0,P="mousedown.zoom",E="mousemove.zoom",L="mouseup.zoom",D="touchstart.zoom",N=F(r,"zoomstart","zoom","zoomend");return Ua||(Ua="onwheel"in ha?(Wa=function(){return-ua.event.deltaY*(ua.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ha?(Wa=function(){return ua.event.wheelDelta},"mousewheel"):(Wa=function(){return-ua.event.detail},"MozMousePixelScroll")),r.event=function(t){t.each(function(){var s=N.of(this,arguments),e=A;zu?ua.select(this).transition().each("start.zoom",function(){A=this.__chart__||{x:0,y:0,k:1},S(s)}).tween("zoom:zoom",function(){var i=m[0],t=m[1],r=l?l[0]:i/2,o=l?l[1]:t/2,a=ua.interpolateZoom([(r-A.x)/A.k,(o-A.y)/A.k,i/A.k],[(r-e.x)/e.k,(o-e.y)/e.k,i/e.k]);return function(t){var e=a(t),n=i/e[2];this.__chart__=A={x:r-e[0]*n,y:o-e[1]*n,k:n},T(s)}}).each("interrupt.zoom",function(){k(s)}).each("end.zoom",function(){k(s)}):(this.__chart__=A,S(s),T(s),k(s))})},r.translate=function(t){return arguments.length?(A={x:+t[0],y:+t[1],k:A.k},e(),r):[A.x,A.y]},r.scale=function(t){return arguments.length?(A={x:A.x,y:A.y,k:null},b(+t),e(),r):A.k},r.scaleExtent=function(t){return arguments.length?(v=null==t?Ya:[+t[0],+t[1]],r):v},r.center=function(t){return arguments.length?(c=t&&[+t[0],+t[1]],r):c},r.size=function(t){return arguments.length?(m=t&&[+t[0],+t[1]],r):m},r.duration=function(t){return arguments.length?(y=+t,r):y},r.x=function(t){return arguments.length?(f=(d=t).copy(),A={x:0,y:0,k:1},r):d},r.y=function(t){return arguments.length?(p=(g=t).copy(),A={x:0,y:0,k:1},r):g},ua.rebind(r,N,"on")};var Wa,Ua,Ya=[0,1/0];(ua.color=at).prototype.toString=function(){return this.rgb()+""};var Xa=(ua.hsl=st).prototype=new at;Xa.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,this.l/t)},Xa.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,t*this.l)},Xa.rgb=function(){return ut(this.h,this.s,this.l)};var Qa=(ua.hcl=lt).prototype=new at;Qa.brighter=function(t){return new lt(this.h,this.c,Math.min(100,this.l+Ka*(arguments.length?t:1)))},Qa.darker=function(t){
return new lt(this.h,this.c,Math.max(0,this.l-Ka*(arguments.length?t:1)))},Qa.rgb=function(){return ct(this.h,this.c,this.l).rgb()},ua.lab=ht;var Ka=18,Za=.95047,Ja=1,ts=1.08883,es=ht.prototype=new at;es.brighter=function(t){return new ht(Math.min(100,this.l+Ka*(arguments.length?t:1)),this.a,this.b)},es.darker=function(t){return new ht(Math.max(0,this.l-Ka*(arguments.length?t:1)),this.a,this.b)},es.rgb=function(){return ft(this.l,this.a,this.b)};var ns=(ua.rgb=vt).prototype=new at;ns.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&e<r&&(e=r),n&&n<r&&(n=r),i&&i<r&&(i=r),new vt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new vt(r,r,r)},ns.darker=function(t){return new vt((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},ns.hsl=function(){return wt(this.r,this.g,this.b)},ns.toString=function(){return"#"+bt(this.r)+bt(this.g)+bt(this.b)};var is=ua.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});is.forEach(function(t,e){is.set(t,yt(e))}),ua.functor=Ct,ua.xhr=Mt(O),ua.dsv=function(r,o){function a(t,e,n){arguments.length<3&&(n=e,e=null);var i=At(t,o,null==e?s:u(e),n);return i.row=function(t){return arguments.length?i.response(null==(e=t)?s:u(t)):e},i}function s(t){return a.parse(t.responseText)}function u(e){return function(t){return a.parse(t.responseText,e)}}function e(t){return t.map(l).join(r)}function l(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var n=new RegExp('["'+r+"\n]"),f=r.charCodeAt(0);return a.parse=function(t,i){var r;return a.parseRows(t,function(t,e){if(r)return r(t,e-1);var n=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=i?function(t,e){return i(n(t),e)}:n})},a.parseRows=function(r,t){function e(){if(u<=l)return s;if(o)return o=!1,a;var t=l;if(34===r.charCodeAt(t)){for(var e=t;e++<u;)if(34===r.charCodeAt(e)){if(34!==r.charCodeAt(e+1))break;++e}return l=e+2,13===(n=r.charCodeAt(e+1))?(o=!0,10===r.charCodeAt(e+2)&&++l):10===n&&(o=!0),r.slice(t+1,e).replace(/""/g,'"')}for(;l<u;){var n,i=1;if(10===(n=r.charCodeAt(l++)))o=!0;else if(13===n)o=!0,10===r.charCodeAt(l)&&(++l,++i);else if(n!==f)continue;return r.slice(t,l-i)}return r.slice(t)}for(var n,o,a={},s={},i=[],u=r.length,l=0,c=0;(n=e())!==s;){for(var h=[];n!==a&&n!==s;)h.push(n),n=e();t&&null==(h=t(h,c++))||i.push(h)}return i},a.format=function(t){if(Array.isArray(t[0]))return a.formatRows(t);var n=new g,i=[];return t.forEach(function(t){for(var e in t)n.has(e)||i.push(n.add(e))}),[i.map(l).join(r)].concat(t.map(function(e){return i.map(function(t){return l(e[t])}).join(r)})).join("\n")},a.formatRows=function(t){return t.map(e).join("\n")},a},ua.csv=ua.dsv(",","text/csv"),ua.tsv=ua.dsv("\t","text/tab-separated-values");var rs,os,as,ss,us=this[v(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};ua.timer=function(){Lt.apply(this,arguments)},ua.timer.flush=function(){Nt(),It()},ua.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ls=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Rt);ua.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=ua.round(t,Ot(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ls[8+n/3]};var cs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,hs=ua.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=ua.round(t,Ot(t,e))).toFixed(Math.max(0,Math.min(20,Ot(t*(1+1e-15),e))))}}),fs=ua.time={},ds=Date;Ht.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ps.setUTCDate.apply(this._,arguments)},setDay:function(){ps.setUTCDay.apply(this._,arguments)},setFullYear:function(){ps.setUTCFullYear.apply(this._,arguments)},setHours:function(){ps.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ps.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ps.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ps.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ps.setUTCSeconds.apply(this._,arguments)},setTime:function(){ps.setTime.apply(this._,arguments)}};var ps=Date.prototype;fs.year=jt(function(t){return(t=fs.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),fs.years=fs.year.range,fs.years.utc=fs.year.utc.range,fs.day=jt(function(t){var e=new ds(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),fs.days=fs.day.range,fs.days.utc=fs.day.utc.range,fs.dayOfYear=function(t){var e=fs.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,n){n=7-n;var e=fs[t]=jt(function(t){return(t=fs.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var e=fs.year(t).getDay();return Math.floor((fs.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});fs[t+"s"]=e.range,fs[t+"s"].utc=e.utc.range,fs[t+"OfYear"]=function(t){var e=fs.year(t).getDay();return Math.floor((fs.dayOfYear(t)+(e+n)%7)/7)}}),fs.week=fs.sunday,fs.weeks=fs.sunday.range,fs.weeks.utc=fs.sunday.utc.range,fs.weekOfYear=fs.sundayOfYear;var gs={"-":"",_:" ",0:"0"},ms=/^\s*\d+/,vs=/^%/;ua.locale=function(t){return{numberFormat:Ft(t),timeFormat:Gt(t)}};var ys=ua.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ua.format=ys.numberFormat,ua.geo={},le.prototype={s:0,t:0,add:function(t){ce(t,this.t,_s),ce(_s.s,this.s,this),this.s?this.t+=_s.t:this.s=_s.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var _s=new le;ua.geo.stream=function(t,e){t&&bs.hasOwnProperty(t.type)?bs[t.type](t,e):he(t,e)};var bs={Feature:function(t,e){he(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)he(n[i].geometry,e)}},xs={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){fe(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)fe(n[i],e,0)},Polygon:function(t,e){de(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)de(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)he(n[i],e)}};ua.geo.area=function(t){return ws=0,ua.geo.stream(t,Ts),ws};var ws,Ss=new le,Ts={sphere:function(){ws+=4*Fa},point:b,lineStart:b,lineEnd:b,polygonStart:function(){Ss.reset(),Ts.lineStart=pe},polygonEnd:function(){var t=2*Ss;ws+=t<0?4*Fa+t:t,Ts.lineStart=Ts.lineEnd=Ts.point=b}};ua.geo.bounds=function(){function c(t,e){_.push(b=[f=t,p=t]),e<d&&(d=e),g<e&&(g=e)}function i(t,e){var n=ge([t*Va,e*Va]);if(v){var i=ve(v,n),r=ve([i[1],-i[0],0],i);be(r),r=xe(r);var o=t-m,a=0<o?1:-1,s=r[0]*Ga*a,u=180<ya(o);if(u^(a*m<s&&s<a*t)){var l=r[1]*Ga;g<l&&(g=l)}else if(u^(a*m<(s=(s+360)%360-180)&&s<a*t)){(l=-r[1]*Ga)<d&&(d=l)}else e<d&&(d=e),g<e&&(g=e);u?t<m?h(f,t)>h(f,p)&&(p=t):h(t,p)>h(f,p)&&(f=t):f<=p?(t<f&&(f=t),p<t&&(p=t)):m<t?h(f,t)>h(f,p)&&(p=t):h(t,p)>h(f,p)&&(f=t)}else c(t,e);v=n,m=t}function t(){x.point=i}function e(){b[0]=f,b[1]=p,x.point=c,v=null}function n(t,e){if(v){var n=t-m;y+=180<ya(n)?n+(0<n?360:-360):n}else a=t,s=e;Ts.point(t,e),i(t,e)}function r(){Ts.lineStart()}function o(){n(a,s),Ts.lineEnd(),ya(y)>Oa&&(f=-(p=180)),b[0]=f,b[1]=p,v=null}function h(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function l(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var f,d,p,g,m,a,s,v,y,_,b,x={point:c,lineStart:t,lineEnd:e,polygonStart:function(){x.point=n,x.lineStart=r,x.lineEnd=o,y=0,Ts.polygonStart()},polygonEnd:function(){Ts.polygonEnd(),x.point=c,x.lineStart=t,x.lineEnd=e,Ss<0?(f=-(p=180),d=-(g=90)):Oa<y?g=90:y<-Oa&&(d=-90),b[0]=f,b[1]=p}};return function(t){if(g=p=-(f=d=1/0),_=[],ua.geo.stream(t,x),o=_.length){_.sort(u);for(var e=1,n=[s=_[0]];e<o;++e)l((r=_[e])[0],s)||l(r[1],s)?(h(s[0],r[1])>h(s[0],s[1])&&(s[1]=r[1]),h(r[0],s[1])>h(s[0],s[1])&&(s[0]=r[0])):n.push(s=r);for(var i,r,o,a=-1/0,s=(e=0,n[o=n.length-1]);e<=o;s=r,++e)r=n[e],(i=h(s[1],r[0]))>a&&(a=i,f=r[0],p=s[1])}return _=b=null,f===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[f,d],[p,g]]}}(),ua.geo.centroid=function(t){ks=Cs=Ms=As=Ps=Es=Ls=Ds=Ns=Is=Os=0,ua.geo.stream(t,Rs);var e=Ns,n=Is,i=Os,r=e*e+n*n+i*i;return r<Ra&&(e=Es,n=Ls,i=Ds,Cs<Oa&&(e=Ms,n=As,i=Ps),(r=e*e+n*n+i*i)<Ra)?[NaN,NaN]:[Math.atan2(n,e)*Ga,et(i/Math.sqrt(r))*Ga]};var ks,Cs,Ms,As,Ps,Es,Ls,Ds,Ns,Is,Os,Rs={sphere:b,point:Se,lineStart:ke,lineEnd:Ce,polygonStart:function(){Rs.lineStart=Me},polygonEnd:function(){Rs.lineStart=ke}},Fs=Ne(Pe,Fe,He,[-Fa,-Fa/2]),zs=1e9;ua.geo.clipExtent=function(){var e,n,i,r,o,a,s={stream:function(t){return o&&(o.valid=!1),(o=a(t)).valid=!0,o},extent:function(t){return arguments.length?(a=qe(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),o&&(o.valid=!1,o=null),s):[[e,n],[i,r]]}};return s.extent([[0,0],[960,500]])},(ua.geo.conicEqualArea=function(){return $e(Be)}).raw=Be,ua.geo.albers=function(){return ua.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ua.geo.albersUsa=function(){function r(t){var e=t[0],n=t[1];return i=null,o(e,n),i||(a(e,n),i)||s(e,n),i}var i,o,a,s,u=ua.geo.albers(),l=ua.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=ua.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(t,e){i=[t,e]}};return r.invert=function(t){var e=u.scale(),n=u.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(.12<=r&&r<.234&&-.425<=i&&i<-.214?l:.166<=r&&r<.234&&-.214<=i&&i<-.115?c:u).invert(t)},r.stream=function(t){var n=u.stream(t),i=l.stream(t),r=c.stream(t);return{point:function(t,e){n.point(t,e),i.point(t,e),r.point(t,e)},sphere:function(){n.sphere(),i.sphere(),r.sphere()},lineStart:function(){n.lineStart(),i.lineStart(),r.lineStart()},lineEnd:function(){n.lineEnd(),i.lineEnd(),r.lineEnd()},polygonStart:function(){n.polygonStart(),i.polygonStart(),r.polygonStart()},polygonEnd:function(){n.polygonEnd(),i.polygonEnd(),r.polygonEnd()}}},r.precision=function(t){return arguments.length?(u.precision(t),l.precision(t),c.precision(t),r):u.precision()},r.scale=function(t){return arguments.length?(u.scale(t),l.scale(.35*t),c.scale(t),r.translate(u.translate())):u.scale()},r.translate=function(t){if(!arguments.length)return u.translate();var e=u.scale(),n=+t[0],i=+t[1];return o=u.translate(t).clipExtent([[n-.455*e,i-.238*e],[n+.455*e,i+.238*e]]).stream(h).point,a=l.translate([n-.307*e,i+.201*e]).clipExtent([[n-.425*e+Oa,i+.12*e+Oa],[n-.214*e-Oa,i+.234*e-Oa]]).stream(h).point,s=c.translate([n-.205*e,i+.212*e]).clipExtent([[n-.214*e+Oa,i+.166*e+Oa],[n-.115*e-Oa,i+.234*e-Oa]]).stream(h).point,r},r.scale(1070)};var Hs,js,Vs,Gs,qs,$s,Bs={point:b,lineStart:b,lineEnd:b,polygonStart:function(){js=0,Bs.lineStart=We},polygonEnd:function(){Bs.lineStart=Bs.lineEnd=Bs.point=b,Hs+=ya(js/2)}},Ws={point:Ue,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},Us={point:Qe,lineStart:Ke,lineEnd:Ze,polygonStart:function(){Us.lineStart=Je},polygonEnd:function(){Us.point=Qe,Us.lineStart=Ke,Us.lineEnd=Ze}};ua.geo.path=function(){function e(t){return t&&("function"==typeof u&&a.pointRadius(+u.apply(this,arguments)),s&&s.valid||(s=o(a)),ua.geo.stream(t,s)),a.result()}function n(){return s=null,e}var i,r,o,a,s,u=4.5;return e.area=function(t){return Hs=0,ua.geo.stream(t,o(Bs)),Hs},e.centroid=function(t){return Ms=As=Ps=Es=Ls=Ds=Ns=Is=Os=0,ua.geo.stream(t,o(Us)),Os?[Ns/Os,Is/Os]:Ds?[Es/Ds,Ls/Ds]:Ps?[Ms/Ps,As/Ps]:[NaN,NaN]},e.bounds=function(t){return qs=$s=-(Vs=Gs=1/0),ua.geo.stream(t,o(Ws)),[[Vs,Gs],[qs,$s]]},e.projection=function(t){return arguments.length?(o=(i=t)?t.stream||nn(t):O,n()):i},e.context=function(t){return arguments.length?(a=null==(r=t)?new Ye:new tn(t),"function"!=typeof u&&a.pointRadius(u),n()):r},e.pointRadius=function(t){return arguments.length?(u="function"==typeof t?t:(a.pointRadius(+t),+t),e):u},e.projection(ua.geo.albersUsa()).context(null)},ua.geo.transform=function(i){return{stream:function(t){var e=new rn(t);for(var n in i)e[n]=i[n];return e}}},rn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ua.geo.projection=an,ua.geo.projectionMutator=sn,(ua.geo.equirectangular=function(){return an(ln)}).raw=ln.invert=ln,ua.geo.rotation=function(e){function t(t){return(t=e(t[0]*Va,t[1]*Va))[0]*=Ga,t[1]*=Ga,t}return e=hn(e[0]%360*Va,e[1]*Va,2<e.length?e[2]*Va:0),t.invert=function(t){return(t=e.invert(t[0]*Va,t[1]*Va))[0]*=Ga,t[1]*=Ga,t},t},cn.invert=ln,ua.geo.circle=function(){function e(){var t="function"==typeof o?o.apply(this,arguments):o,n=hn(-t[0]*Va,-t[1]*Va,0).invert,i=[];return r(null,null,1,{point:function(t,e){i.push(t=n(t,e)),t[0]*=Ga,t[1]*=Ga}}),{type:"Polygon",coordinates:[i]}}var n,r,o=[0,0],i=6;return e.origin=function(t){return arguments.length?(o=t,e):o},e.angle=function(t){return arguments.length?(r=gn((n=+t)*Va,i*Va),e):n},e.precision=function(t){return arguments.length?(r=gn(n*Va,(i=+t)*Va),e):i},e.angle(90)},ua.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Va,r=t[1]*Va,o=e[1]*Va,a=Math.sin(i),s=Math.cos(i),u=Math.sin(r),l=Math.cos(r),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*a)*n+(n=l*c-u*h*s)*n),u*c+l*h*s)},ua.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return ua.range(Math.ceil(o/m)*m,r,m).map(f).concat(ua.range(Math.ceil(l/v)*v,u,v).map(d)).concat(ua.range(Math.ceil(i/p)*p,n,p).filter(function(t){return ya(t%m)>Oa}).map(c)).concat(ua.range(Math.ceil(s/g)*g,a,g).filter(function(t){return ya(t%v)>Oa}).map(h))}var n,i,r,o,a,s,u,l,c,h,f,d,p=10,g=p,m=90,v=360,y=2.5;return e.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},e.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(d(u).slice(1),f(r).reverse().slice(1),d(l).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(o=+t[0][0],r=+t[1][0],l=+t[0][1],u=+t[1][1],r<o&&(t=o,o=r,r=t),u<l&&(t=l,l=u,u=t),e.precision(y)):[[o,l],[r,u]]},e.minorExtent=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],n<i&&(t=i,i=n,n=t),a<s&&(t=s,s=a,a=t),e.precision(y)):[[i,s],[n,a]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(m=+t[0],v=+t[1],e):[m,v]},e.minorStep=function(t){return arguments.length?(p=+t[0],g=+t[1],e):[p,g]},e.precision=function(t){return arguments.length?(y=+t,c=vn(s,a,90),h=yn(i,n,y),f=vn(l,u,90),d=yn(o,r,y),e):y},e.majorExtent([[-180,-90+Oa],[180,90-Oa]]).minorExtent([[-180,-80-Oa],[180,80+Oa]])},ua.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[n||r.apply(this,arguments),i||o.apply(this,arguments)]}}var n,i,r=_n,o=bn;return e.distance=function(){return ua.geo.distance(n||r.apply(this,arguments),i||o.apply(this,arguments))},e.source=function(t){return arguments.length?(n="function"==typeof(r=t)?null:t,e):r},e.target=function(t){return arguments.length?(i="function"==typeof(o=t)?null:t,e):o},e.precision=function(){return arguments.length?e:0},e},ua.geo.interpolate=function(t,e){return xn(t[0]*Va,t[1]*Va,e[0]*Va,e[1]*Va)},ua.geo.length=function(t){return Ys=0,ua.geo.stream(t,Xs),Ys};var Ys,Xs={sphere:b,point:b,lineStart:wn,lineEnd:b,polygonStart:b,polygonEnd:b},Qs=Sn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ua.geo.azimuthalEqualArea=function(){return an(Qs)}).raw=Qs;var Ks=Sn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},O);(ua.geo.azimuthalEquidistant=function(){return an(Ks)}).raw=Ks,(ua.geo.conicConformal=function(){return $e(Tn)}).raw=Tn,(ua.geo.conicEquidistant=function(){return $e(kn)}).raw=kn;var Zs=Sn(function(t){return 1/t},Math.atan);(ua.geo.gnomonic=function(){return an(Zs)}).raw=Zs,Cn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-ja]},(ua.geo.mercator=function(){return Mn(Cn)}).raw=Cn;var Js=Sn(function(){return 1},Math.asin);(ua.geo.orthographic=function(){return an(Js)}).raw=Js;var tu=Sn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ua.geo.stereographic=function(){return an(tu)}).raw=tu,An.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-ja]},(ua.geo.transverseMercator=function(){var t=Mn(An),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=An,ua.geom={},ua.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,n=Ct(f),i=Ct(d),r=t.length,o=[],a=[];for(e=0;e<r;e++)o.push([+n.call(this,t[e],e),+i.call(this,t[e],e),e]);for(o.sort(Dn),e=0;e<r;e++)a.push([o[e][0],-o[e][1]]);var s=Ln(o),u=Ln(a),l=u[0]===s[0],c=u[u.length-1]===s[s.length-1],h=[];for(e=s.length-1;0<=e;--e)h.push(t[o[s[e]][2]]);for(e=+l;e<u.length-c;++e)h.push(t[o[u[e]][2]]);return h}var f=Pn,d=En;return arguments.length?e(t):(e.x=function(t){return arguments.length?(f=t,e):f},e.y=function(t){return arguments.length?(d=t,e):d},e)},ua.geom.polygon=function(t){return Sa(t,eu),t};var eu=ua.geom.polygon.prototype=[];eu.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},eu.centroid=function(t){var e,n,i=-1,r=this.length,o=0,a=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},eu.clip=function(t){for(var e,n,i,r,o,a,s=On(t),u=-1,l=this.length-On(this),c=this[l-1];++u<l;){for(e=t.slice(),t.length=0,r=this[u],o=e[(i=e.length-s)-1],n=-1;++n<i;)Nn(a=e[n],c,r)?(Nn(o,c,r)||t.push(In(o,a,c,r)),t.push(a)):Nn(o,c,r)&&t.push(In(o,a,c,r)),o=a;s&&t.push(t[0]),c=r}return t};var nu,iu,ru,ou,au,su=[],uu=[];qn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Bn),e.length},ei.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ni.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ai(this._),e.P=null,(e.N=t).P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(ri(this,n),n=(t=n).U),n.C=!1,i.C=!0,oi(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(oi(this,n),n=(t=n).U),n.C=!1,i.C=!0,ri(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?ai(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,((n.L=o).U=n)!==a?(r=n.U,n.U=t.U,t=n.R,r.L=t,(n.R=a).U=n):(n.U=r,t=(r=n).R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,ri(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,oi(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,ri(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,oi(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ri(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,oi(this,r),t=this._;break}e.C=!0,r=(t=r).U}while(!t.C);t&&(t.C=!1)}}},ua.geom.voronoi=function(t){function e(r){var o=new Array(r.length),a=c[0][0],s=c[0][1],u=c[1][0],l=c[1][1];return si(n(r),c).cells.forEach(function(t,e){var n=t.edges,i=t.site;(o[e]=n.length?n.map(function(t){var e=t.start();return[e.x,e.y]}):i.x>=a&&i.x<=u&&i.y>=s&&i.y<=l?[[a,l],[u,l],[u,s],[a,s]]:[]).point=r[e]}),o}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Oa)*Oa,y:Math.round(a(t,e)/Oa)*Oa,i:e}})}var i=Pn,r=En,o=i,a=r,c=lu;return t?e(t):(e.links=function(e){return si(n(e)).edges.filter(function(t){return t.l&&t.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},e.triangles=function(l){var c=[];return si(n(l)).cells.forEach(function(t,e){for(var n,i=t.site,r=t.edges.sort(Bn),o=-1,a=r.length,s=r[a-1].edge,u=s.l===i?s.r:s.l;++o<a;)s,n=u,u=(s=r[o].edge).l===i?s.r:s.l,e<n.i&&e<u.i&&li(i,n,u)<0&&c.push([l[e],l[n.i],l[u.i]])}),c},e.x=function(t){return arguments.length?(o=Ct(i=t),e):i},e.y=function(t){return arguments.length?(a=Ct(r=t),e):r},e.clipExtent=function(t){return arguments.length?(c=null==t?lu:t,e):c===lu?null:c},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):c===lu?null:c&&c[1]},e)};var lu=[[-1e6,-1e6],[1e6,1e6]];ua.geom.delaunay=function(t){return ua.geom.voronoi().triangles(t)},ua.geom.quadtree=function(t,_,b,x,w){function e(t){function d(t,e,n,i,r,o,a,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var u=t.x,l=t.y;if(null!=u)if(ya(u-n)+ya(l-i)<.01)h(t,e,n,i,r,o,a,s);else{var c=t.point;t.x=t.y=t.point=null,h(t,c,u,l,r,o,a,s),h(t,e,n,i,r,o,a,s)}else t.x=n,t.y=i,t.point=e}else h(t,e,n,i,r,o,a,s)}function h(t,e,n,i,r,o,a,s){var u=.5*(r+a),l=.5*(o+s),c=u<=n,h=l<=i,f=h<<1|c;t.leaf=!1,c?r=u:a=u,h?o=l:s=l,d(t=t.nodes[f]||(t.nodes[f]=fi()),e,n,i,r,o,a,s)}var e,n,i,r,o,a,s,u,l,c=Ct(T),f=Ct(k);if(null!=_)a=_,s=b,u=x,l=w;else if(u=l=-(a=s=1/0),n=[],i=[],o=t.length,S)for(r=0;r<o;++r)(e=t[r]).x<a&&(a=e.x),e.y<s&&(s=e.y),e.x>u&&(u=e.x),e.y>l&&(l=e.y),n.push(e.x),i.push(e.y);else for(r=0;r<o;++r){var p=+c(e=t[r],r),g=+f(e,r);p<a&&(a=p),g<s&&(s=g),u<p&&(u=p),l<g&&(l=g),n.push(p),i.push(g)}var m=u-a,v=l-s;v<m?l=s+m:u=a+v;var y=fi();if(y.add=function(t){d(y,t,+c(t,++r),+f(t,r),a,s,u,l)},y.visit=function(t){di(t,y,a,s,u,l)},y.find=function(t){return pi(y,t[0],t[1],a,s,u,l)},r=-1,null==_){for(;++r<o;)d(y,t[r],n[r],i[r],a,s,u,l);--r}else t.forEach(y.add);return n=i=t=e=null,y}var S,T=Pn,k=En;return(S=arguments.length)?(T=ci,k=hi,3===S&&(w=b,x=_,b=_=0),e(t)):(e.x=function(t){return arguments.length?(T=t,e):T},e.y=function(t){return arguments.length?(k=t,e):k},e.extent=function(t){return arguments.length?(null==t?_=b=x=w=null:(_=+t[0][0],b=+t[0][1],x=+t[1][0],w=+t[1][1]),e):null==_?null:[[_,b],[x,w]]},e.size=function(t){return arguments.length?(null==t?_=b=x=w=null:(_=b=0,x=+t[0],w=+t[1]),e):null==_?null:[x-_,w-b]},e)},ua.interpolateRgb=gi,ua.interpolateObject=mi,ua.interpolateNumber=vi,ua.interpolateString=yi;var cu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hu=new RegExp(cu.source,"g");ua.interpolate=_i,ua.interpolators=[function(t,e){var n=typeof e;return("string"===n?is.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?gi:yi:e instanceof at?gi:Array.isArray(e)?bi:"object"===n&&isNaN(e)?mi:vi)(t,e)}],ua.interpolateArray=bi;var fu=function(){return O},du=ua.map({linear:fu,poly:Mi,quad:function(){return Ti},cubic:function(){return ki},sin:function(){return Ai},exp:function(){return Pi},circle:function(){return Ei},elastic:Li,back:Di,bounce:function(){return Ni}}),pu=ua.map({"in":O,out:wi,"in-out":Si,"out-in":function(t){return Si(wi(t))}});ua.ease=function(t){var e=t.indexOf("-"),n=0<=e?t.slice(0,e):t,i=0<=e?t.slice(e+1):"in";return n=du.get(n)||fu,xi((i=pu.get(i)||O)(n.apply(null,la.call(arguments,1))))},ua.interpolateHcl=Ii,ua.interpolateHsl=Oi,ua.interpolateLab=Ri,ua.interpolateRound=Fi,ua.transform=function(t){var n=ha.createElementNS(ua.ns.prefix.svg,"g");return(ua.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new zi(e?e.matrix:gu)})(t)},zi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var gu={a:1,b:0,c:0,d:1,e:0,f:0};ua.interpolateTransform=Ui,ua.layout={},ua.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(Qi(t[n]));return e}},ua.layout.chord=function(){function t(){var t,e,n,i,r,o={},a=[],s=ua.range(b),u=[];for(v=[],y=[],t=0,i=-1;++i<b;){for(e=0,r=-1;++r<b;)e+=_[i][r];a.push(e),u.push(ua.range(b)),t+=e}for(x&&s.sort(function(t,e){return x(a[t],a[e])}),w&&u.forEach(function(t,n){t.sort(function(t,e){return w(_[n][t],_[n][e])})}),t=(za-T*b)/t,e=0,i=-1;++i<b;){for(n=e,r=-1;++r<b;){var l=s[i],c=u[l][r],h=_[l][c],f=e,d=e+=h*t;o[l+"-"+c]={index:l,subindex:c,startAngle:f,endAngle:d,value:h}}y[l]={index:l,startAngle:n,endAngle:e,value:a[l]},e+=T}for(i=-1;++i<b;)for(r=i-1;++r<b;){var p=o[i+"-"+r],g=o[r+"-"+i];(p.value||g.value)&&v.push(p.value<g.value?{source:g,target:p}:{source:p,target:g})}S&&m()}function m(){v.sort(function(t,e){return S((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var v,y,_,b,x,w,S,e={},T=0;return e.matrix=function(t){return arguments.length?(b=(_=t)&&_.length,v=y=null,e):_},e.padding=function(t){return arguments.length?(T=t,v=y=null,e):T},e.sortGroups=function(t){return arguments.length?(x=t,v=y=null,e):x},e.sortSubgroups=function(t){return arguments.length?(w=t,v=null,e):w},e.sortChords=function(t){return arguments.length?(S=t,v&&m(),e):S},e.chords=function(){return v||t(),v},e.groups=function(){return y||t(),y},e},ua.layout.force=function(){function h(l){return function(t,e,n,i){if(t.point!==l){var r=t.cx-l.x,o=t.cy-l.y,a=i-e,s=r*r+o*o;if(a*a/w<s){if(s<c){var u=t.charge/s;l.px-=r*u,l.py-=o*u}return!0}if(t.point&&s&&s<c){u=t.pointCharge/s;l.px-=r*u,l.py-=o*u}}return!t.charge}}function t(t){t.px=ua.event.x,t.py=ua.event.y,r.resume()}var f,e,d,p,g,m,r={},v=ua.dispatch("start","tick","end"),y=[1,1],_=.9,o=mu,a=vu,b=-30,c=yu,x=.1,w=.64,S=[],T=[];return r.tick=function(){if((d*=.99)<.005)return f=null,v.end({type:"end",alpha:d=0}),!0;var t,e,n,i,r,o,a,s,u,l=S.length,c=T.length;for(e=0;e<c;++e)i=(n=T[e]).source,(o=(s=(r=n.target).x-i.x)*s+(u=r.y-i.y)*u)&&(s*=o=d*g[e]*((o=Math.sqrt(o))-p[e])/o,u*=o,r.x-=s*(a=i.weight+r.weight?i.weight/(i.weight+r.weight):.5),r.y-=u*a,i.x+=s*(a=1-a),i.y+=u*a);if((a=d*x)&&(s=y[0]/2,u=y[1]/2,e=-1,a))for(;++e<l;)(n=S[e]).x+=(s-n.x)*a,n.y+=(u-n.y)*a;if(b)for(ir(t=ua.geom.quadtree(S),d,m),e=-1;++e<l;)(n=S[e]).fixed||t.visit(h(n));for(e=-1;++e<l;)(n=S[e]).fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*_,n.y-=(n.py-(n.py=n.y))*_);v.tick({type:"tick",alpha:d})},r.nodes=function(t){return arguments.length?(S=t,r):S},r.links=function(t){return arguments.length?(T=t,r):T},r.size=function(t){return arguments.length?(y=t,r):y},r.linkDistance=function(t){return arguments.length?(o="function"==typeof t?t:+t,r):o},r.distance=r.linkDistance,r.linkStrength=function(t){return arguments.length?(a="function"==typeof t?t:+t,r):a},r.friction=function(t){return arguments.length?(_=+t,r):_},r.charge=function(t){return arguments.length?(b="function"==typeof t?t:+t,r):b},r.chargeDistance=function(t){return arguments.length?(c=t*t,r):Math.sqrt(c)},r.gravity=function(t){return arguments.length?(x=+t,r):x},r.theta=function(t){return arguments.length?(w=t*t,r):Math.sqrt(w)},r.alpha=function(t){return arguments.length?(t=+t,d?0<t?d=t:(f.c=null,f.t=NaN,f=null,v.end({type:"end",alpha:d=0})):0<t&&(v.start({type:"start",alpha:d=t}),f=Lt(r.tick)),r):d},r.start=function(){function t(t,e){if(!u){for(u=new Array(l),o=0;o<l;++o)u[o]=[];for(o=0;o<c;++o){var n=T[o];u[n.source.index].push(n.target),u[n.target.index].push(n.source)}}for(var i,r=u[s],o=-1,a=r.length;++o<a;)if(!isNaN(i=r[o][t]))return i;return Math.random()*e}var s,u,e,l=S.length,c=T.length,n=y[0],i=y[1];for(s=0;s<l;++s)(e=S[s]).index=s,e.weight=0;for(s=0;s<c;++s)"number"==typeof(e=T[s]).source&&(e.source=S[e.source]),"number"==typeof e.target&&(e.target=S[e.target]),++e.source.weight,++e.target.weight;for(s=0;s<l;++s)e=S[s],isNaN(e.x)&&(e.x=t("x",n)),isNaN(e.y)&&(e.y=t("y",i)),isNaN(e.px)&&(e.px=e.x),isNaN(e.py)&&(e.py=e.y);if(p=[],"function"==typeof o)for(s=0;s<c;++s)p[s]=+o.call(this,T[s],s);else for(s=0;s<c;++s)p[s]=o;if(g=[],"function"==typeof a)for(s=0;s<c;++s)g[s]=+a.call(this,T[s],s);else for(s=0;s<c;++s)g[s]=a;if(m=[],"function"==typeof b)for(s=0;s<l;++s)m[s]=+b.call(this,S[s],s);else for(s=0;s<l;++s)m[s]=b;return r.resume()},r.resume=function(){return r.alpha(.1)},r.stop=function(){return r.alpha(0)},r.drag=function(){return e||(e=ua.behavior.drag().origin(O).on("dragstart.force",Ji).on("drag.force",t).on("dragend.force",tr)),arguments.length?void this.on("mouseover.force",er).on("mouseout.force",nr).call(e):e},ua.rebind(r,v,"on")};var mu=20,vu=1,yu=1/0;ua.layout.hierarchy=function(){function s(t){var e,n=[t],i=[];for(t.depth=0;null!=(e=n.pop());)if(i.push(e),(o=l.call(s,e,e.depth))&&(r=o.length)){for(var r,o,a;0<=--r;)n.push(a=o[r]),
a.parent=e,a.depth=e.depth+1;c&&(e.value=0),e.children=o}else c&&(e.value=+c.call(s,e,e.depth)||0),delete e.children;return ar(t,function(t){var e,n;u&&(e=t.children)&&e.sort(u),c&&(n=t.parent)&&(n.value+=t.value)}),i}var u=lr,l=sr,c=ur;return s.sort=function(t){return arguments.length?(u=t,s):u},s.children=function(t){return arguments.length?(l=t,s):l},s.value=function(t){return arguments.length?(c=t,s):c},s.revalue=function(t){return c&&(or(t,function(t){t.children&&(t.value=0)}),ar(t,function(t){var e;t.children||(t.value=+c.call(s,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},s},ua.layout.partition=function(){function l(t,e,n,i){var r=t.children;if(t.x=e,t.y=t.depth*i,t.dx=n,t.dy=i,r&&(o=r.length)){var o,a,s,u=-1;for(n=t.value?n/t.value:0;++u<o;)l(a=r[u],e,s=a.value*n,i),e+=s}}function o(t){var e=t.children,n=0;if(e&&(i=e.length))for(var i,r=-1;++r<i;)n=Math.max(n,o(e[r]));return 1+n}function e(t,e){var n=i.call(this,t,e);return l(n[0],0,r[0],r[1]/o(n[0])),n}var i=ua.layout.hierarchy(),r=[1,1];return e.size=function(t){return arguments.length?(r=t,e):r},rr(e,i)},ua.layout.pie=function(){function f(n){var e,t=n.length,i=n.map(function(t,e){return+d.call(f,t,e)}),r=+("function"==typeof g?g.apply(this,arguments):g),o=("function"==typeof m?m.apply(this,arguments):m)-r,a=Math.min(Math.abs(o)/t,+("function"==typeof v?v.apply(this,arguments):v)),s=a*(o<0?-1:1),u=ua.sum(i),l=u?(o-t*s)/u:0,c=ua.range(t),h=[];return null!=p&&c.sort(p===_u?function(t,e){return i[e]-i[t]}:function(t,e){return p(n[t],n[e])}),c.forEach(function(t){h[t]={data:n[t],value:e=i[t],startAngle:r,endAngle:r+=e*l+s,padAngle:a}}),h}var d=Number,p=_u,g=0,m=za,v=0;return f.value=function(t){return arguments.length?(d=t,f):d},f.sort=function(t){return arguments.length?(p=t,f):p},f.startAngle=function(t){return arguments.length?(g=t,f):g},f.endAngle=function(t){return arguments.length?(m=t,f):m},f.padAngle=function(t){return arguments.length?(v=t,f):v},f};var _u={};ua.layout.stack=function(){function h(t,e){if(!(o=t.length))return t;var n=t.map(function(t,e){return f.call(h,t,e)}),i=n.map(function(t){return t.map(function(t,e){return[m.call(h,t,e),v.call(h,t,e)]})}),r=d.call(h,i,e);n=ua.permute(n,r),i=ua.permute(i,r);var o,a,s,u,l=p.call(h,i,e),c=n[0].length;for(s=0;s<c;++s)for(g.call(h,n[0][s],u=l[s],i[0][s][1]),a=1;a<o;++a)g.call(h,n[a][s],u+=i[a-1][s][1],i[a][s][1]);return t}var f=O,d=pr,p=gr,g=dr,m=hr,v=fr;return h.values=function(t){return arguments.length?(f=t,h):f},h.order=function(t){return arguments.length?(d="function"==typeof t?t:bu.get(t)||pr,h):d},h.offset=function(t){return arguments.length?(p="function"==typeof t?t:xu.get(t)||gr,h):p},h.x=function(t){return arguments.length?(m=t,h):m},h.y=function(t){return arguments.length?(v=t,h):v},h.out=function(t){return arguments.length?(g=t,h):g},h};var bu=ua.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(mr),o=t.map(vr),a=ua.range(i).sort(function(t,e){return r[t]-r[e]}),s=0,u=0,l=[],c=[];for(e=0;e<i;++e)n=a[e],s<u?(s+=o[n],l.push(n)):(u+=o[n],c.push(n));return c.reverse().concat(l)},reverse:function(t){return ua.range(t.length).reverse()},"default":pr}),xu=ua.map({silhouette:function(t){var e,n,i,r=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;n<o;++n){for(i=e=0;e<r;e++)i+=t[e][n][1];s<i&&(s=i),a.push(i)}for(n=0;n<o;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,i,r,o,a,s,u,l,c=t.length,h=t[0],f=h.length,d=[];for(d[0]=u=l=0,n=1;n<f;++n){for(r=e=0;e<c;++e)r+=t[e][n][1];for(o=e=0,s=h[n][0]-h[n-1][0];e<c;++e){for(i=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);i<e;++i)a+=(t[i][n][1]-t[i][n-1][1])/s;o+=a*t[e][n][1]}d[n]=u-=r?o/r*s:0,u<l&&(l=u)}for(n=0;n<f;++n)d[n]-=l;return d},expand:function(t){var e,n,i,r=t.length,o=t[0].length,a=1/r,s=[];for(n=0;n<o;++n){for(i=e=0;e<r;e++)i+=t[e][n][1];if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:gr});ua.layout.histogram=function(){function n(t,e){for(var n,i,r=[],o=t.map(f,this),a=d.call(this,o,e),s=p.call(this,a,o,e),u=(e=-1,o.length),l=s.length-1,c=h?1:1/u;++e<l;)(n=r[e]=[]).dx=s[e+1]-(n.x=s[e]),n.y=0;if(0<l)for(e=-1;++e<u;)(i=o[e])>=a[0]&&i<=a[1]&&((n=r[ua.bisect(s,i,1,l)-1]).y+=c,n.push(t[e]));return r}var h=!0,f=Number,d=xr,p=_r;return n.value=function(t){return arguments.length?(f=t,n):f},n.range=function(t){return arguments.length?(d=Ct(t),n):d},n.bins=function(e){return arguments.length?(p="number"==typeof e?function(t){return br(t,e)}:Ct(e),n):p},n.frequency=function(t){return arguments.length?(h=!!t,n):h},n},ua.layout.pack=function(){function e(t,e){var n=l.call(this,t,e),i=n[0],r=h[0],o=h[1],a=null==u?Math.sqrt:"function"==typeof u?u:function(){return u};if(i.x=i.y=0,ar(i,function(t){t.r=+a(t.value)}),ar(i,Cr),c){var s=c*(u?1:Math.max(2*i.r/r,2*i.r/o))/2;ar(i,function(t){t.r+=s}),ar(i,Cr),ar(i,function(t){t.r-=s})}return Pr(i,r/2,o/2,u?1:1/Math.max(2*i.r/r,2*i.r/o)),n}var u,l=ua.layout.hierarchy().sort(wr),c=0,h=[1,1];return e.size=function(t){return arguments.length?(h=t,e):h},e.radius=function(t){return arguments.length?(u=null==t||"function"==typeof t?t:+t,e):u},e.padding=function(t){return arguments.length?(c=+t,e):c},rr(e,l)},ua.layout.tree=function(){function e(t,e){var n=g.call(this,t,e),i=n[0],r=h(i);if(ar(r,f),r.parent.m=-r.z,or(r,d),y)or(i,p);else{var o=i,a=i,s=i;or(i,function(t){t.x<o.x&&(o=t),t.x>a.x&&(a=t),t.depth>s.depth&&(s=t)});var u=m(o,a)/2-o.x,l=v[0]/(a.x+m(a,o)/2+u),c=v[1]/(s.depth||1);or(i,function(t){t.x=(t.x+u)*l,t.y=t.depth*c})}return n}function h(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var r,o=e.children,a=0,s=o.length;a<s;++a)i.push((o[a]=r={_:o[a],parent:e,children:(r=o[a].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=r);return n.children[0]}function f(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){Or(t);var r=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+m(t._,i._),t.m=t.z-r):t.z=r}else i&&(t.z=i.z+m(t._,i._));t.parent.A=o(t,i,t.parent.A||n[0])}function d(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function o(t,e,n){if(e){for(var i,r=t,o=t,a=e,s=r.parent.children[0],u=r.m,l=o.m,c=a.m,h=s.m;a=Nr(a),r=Dr(r),a&&r;)s=Dr(s),(o=Nr(o)).a=t,0<(i=a.z+c-r.z-u+m(a._,r._))&&(Ir(Rr(a,t,n),t,i),u+=i,l+=i),c+=a.m,u+=r.m,h+=s.m,l+=o.m;a&&!Nr(o)&&(o.t=a,o.m+=c-l),r&&!Dr(s)&&(s.t=r,s.m+=u-h,n=t)}return n}function p(t){t.x*=v[0],t.y=t.depth*v[1]}var g=ua.layout.hierarchy().sort(null).value(null),m=Lr,v=[1,1],y=null;return e.separation=function(t){return arguments.length?(m=t,e):m},e.size=function(t){return arguments.length?(y=null==(v=t)?p:null,e):y?null:v},e.nodeSize=function(t){return arguments.length?(y=null==(v=t)?null:p,e):y?v:null},rr(e,g)},ua.layout.cluster=function(){function e(t,e){var n,i=c.call(this,t,e),r=i[0],o=0;ar(r,function(t){var e=t.children;e&&e.length?(t.x=zr(e),t.y=Fr(e)):(t.x=n?o+=h(t,n):0,t.y=0,n=t)});var a=Hr(r),s=jr(r),u=a.x-h(a,s)/2,l=s.x+h(s,a)/2;return ar(r,d?function(t){t.x=(t.x-r.x)*f[0],t.y=(r.y-t.y)*f[1]}:function(t){t.x=(t.x-u)/(l-u)*f[0],t.y=(1-(r.y?t.y/r.y:1))*f[1]}),i}var c=ua.layout.hierarchy().sort(null).value(null),h=Lr,f=[1,1],d=!1;return e.separation=function(t){return arguments.length?(h=t,e):h},e.size=function(t){return arguments.length?(d=null==(f=t),e):d?null:f},e.nodeSize=function(t){return arguments.length?(d=null!=(f=t),e):d?f:null},rr(e,c)},ua.layout.treemap=function(){function c(t,e){for(var n,i,r=-1,o=t.length;++r<o;)i=(n=t[r]).value*(e<0?0:e),n.area=isNaN(i)||i<=0?0:i}function h(t){var e=t.children;if(e&&e.length){var n,i,r,o=g(t),a=[],s=e.slice(),u=1/0,l="slice"===m?o.dx:"dice"===m?o.dy:"slice-dice"===m?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(c(s,o.dx*o.dy/t.value),a.area=0;0<(r=s.length);)a.push(n=s[r-1]),a.area+=n.area,"squarify"!==m||(i=f(a,l))<=u?(s.pop(),u=i):(a.area-=a.pop().area,d(a,l,o,!1),l=Math.min(o.dx,o.dy),a.length=a.area=0,u=1/0);a.length&&(d(a,l,o,!0),a.length=a.area=0),e.forEach(h)}}function a(t){var e=t.children;if(e&&e.length){var n,i=g(t),r=e.slice(),o=[];for(c(r,i.dx*i.dy/t.value),o.area=0;n=r.pop();)o.push(n),o.area+=n.area,null!=n.z&&(d(o,n.z?i.dx:i.dy,i,!r.length),o.length=o.area=0);e.forEach(a)}}function f(t,e){for(var n,i=t.area,r=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),r<n&&(r=n));return e*=e,(i*=i)?Math.max(e*r*v/i,i/(e*o*v)):1/0}function d(t,e,n,i){var r,o=-1,a=t.length,s=n.x,u=n.y,l=e?p(t.area/e):0;if(e==n.dx){for((i||l>n.dy)&&(l=n.dy);++o<a;)(r=t[o]).x=s,r.y=u,r.dy=l,s+=r.dx=Math.min(n.x+n.dx-s,l?p(r.area/l):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=l,n.dy-=l}else{for((i||l>n.dx)&&(l=n.dx);++o<a;)(r=t[o]).x=s,r.y=u,r.dx=l,u+=r.dy=Math.min(n.y+n.dy-u,l?p(r.area/l):0);r.z=!1,r.dy+=n.y+n.dy-u,n.x+=l,n.dx-=l}}function r(t){var e=i||o(t),n=e[0];return n.x=n.y=0,n.value?(n.dx=s[0],n.dy=s[1]):n.dx=n.dy=0,i&&o.revalue(n),c([n],n.dx*n.dy/n.value),(i?a:h)(n),l&&(i=e),e}var i,o=ua.layout.hierarchy(),p=Math.round,s=[1,1],u=null,g=Vr,l=!1,m="squarify",v=.5*(1+Math.sqrt(5));return r.size=function(t){return arguments.length?(s=t,r):s},r.padding=function(n){function t(t){var e=n.call(r,t,t.depth);return null==e?Vr(t):Gr(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Gr(t,n)}return arguments.length?(g=null==(u=n)?Vr:"function"==(i=typeof n)?t:("number"===i&&(n=[n,n,n,n]),e),r):u;var i},r.round=function(t){return arguments.length?(p=t?Math.round:Number,r):p!=Number},r.sticky=function(t){return arguments.length?(l=t,i=null,r):l},r.ratio=function(t){return arguments.length?(v=t,r):v},r.mode=function(t){return arguments.length?(m=t+"",r):m},rr(r,o)},ua.random={normal:function(i,r){var t=arguments.length;return t<2&&(r=1),t<1&&(i=0),function(){for(var t,e,n;!(n=(t=2*Math.random()-1)*t+(e=2*Math.random()-1)*e)||1<n;);return i+r*t*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var t=ua.random.normal.apply(ua,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=ua.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}},ua.scale={};var wu={floor:O,ceil:O};ua.scale.linear=function(){return Xr([0,1],[0,1],_i,!1)};var Su={s:1,g:1,p:1,r:1,e:1};ua.scale.log=function(){return io(ua.scale.linear().domain([0,1]),10,!0,[1,10])};var Tu=ua.format(".0e"),ku={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};ua.scale.pow=function(){return ro(ua.scale.linear(),1,[0,1])},ua.scale.sqrt=function(){return ua.scale.pow().exponent(.5)},ua.scale.ordinal=function(){return ao([],{t:"range",a:[[]]})},ua.scale.category10=function(){return ua.scale.ordinal().range(Cu)},ua.scale.category20=function(){return ua.scale.ordinal().range(Mu)},ua.scale.category20b=function(){return ua.scale.ordinal().range(Au)},ua.scale.category20c=function(){return ua.scale.ordinal().range(Pu)};var Cu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(_t),Mu=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(_t),Au=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(_t),Pu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(_t);ua.scale.quantile=function(){return so([],[])},ua.scale.quantize=function(){return uo(0,1,[0,1])},ua.scale.threshold=function(){return lo([.5],[0,1])},ua.scale.identity=function(){return co([0,1])},ua.svg={},ua.svg.arc=function(){function e(){var t=Math.max(0,+H.apply(this,arguments)),e=Math.max(0,+j.apply(this,arguments)),n=q.apply(this,arguments)-ja,i=$.apply(this,arguments)-ja,r=Math.abs(i-n),o=i<n?0:1;if(e<t&&(a=e,e=t,t=a),Ha<=r)return z(e,o)+(t?z(t,1-o):"")+"Z";var a,s,u,l,c,h,f,d,p,g,m,v,y=0,_=0,b=[];if((l=(+B.apply(this,arguments)||0)/2)&&(u=G===Eu?Math.sqrt(t*t+e*e):+G.apply(this,arguments),o||(_*=-1),e&&(_=et(u/e*Math.sin(l))),t&&(y=et(u/t*Math.sin(l)))),e){c=e*Math.cos(n+_),h=e*Math.sin(n+_),f=e*Math.cos(i-_),d=e*Math.sin(i-_);var x=Math.abs(i-n-2*_)<=Fa?0:1;if(_&&yo(c,h,f,d)===o^x){var w=(n+i)/2;c=e*Math.cos(w),h=e*Math.sin(w),f=d=null}}else c=h=0;if(t){p=t*Math.cos(i-y),g=t*Math.sin(i-y),m=t*Math.cos(n+y),v=t*Math.sin(n+y);var S=Math.abs(n-i+2*y)<=Fa?0:1;if(y&&yo(p,g,m,v)===1-o^S){var T=(n+i)/2;p=t*Math.cos(T),g=t*Math.sin(T),m=v=null}}else p=g=0;if(Oa<r&&.001<(a=Math.min(Math.abs(e-t)/2,+V.apply(this,arguments)))){s=t<e^o?0:1;var k=a,C=a;if(r<Fa){var M=null==m?[p,g]:null==f?[c,h]:In([c,h],[m,v],[f,d],[p,g]),A=c-M[0],P=h-M[1],E=f-M[0],L=d-M[1],D=1/Math.sin(Math.acos((A*E+P*L)/(Math.sqrt(A*A+P*P)*Math.sqrt(E*E+L*L)))/2),N=Math.sqrt(M[0]*M[0]+M[1]*M[1]);C=Math.min(a,(t-N)/(D-1)),k=Math.min(a,(e-N)/(D+1))}if(null!=f){var I=_o(null==m?[p,g]:[m,v],[c,h],e,k,o),O=_o([f,d],[p,g],e,k,o);a===k?b.push("M",I[0],"A",k,",",k," 0 0,",s," ",I[1],"A",e,",",e," 0 ",1-o^yo(I[1][0],I[1][1],O[1][0],O[1][1]),",",o," ",O[1],"A",k,",",k," 0 0,",s," ",O[0]):b.push("M",I[0],"A",k,",",k," 0 1,",s," ",O[0])}else b.push("M",c,",",h);if(null!=m){var R=_o([c,h],[m,v],t,-C,o),F=_o([p,g],null==f?[c,h]:[f,d],t,-C,o);a===C?b.push("L",F[0],"A",C,",",C," 0 0,",s," ",F[1],"A",t,",",t," 0 ",o^yo(F[1][0],F[1][1],R[1][0],R[1][1]),",",1-o," ",R[1],"A",C,",",C," 0 0,",s," ",R[0]):b.push("L",F[0],"A",C,",",C," 0 0,",s," ",R[0])}else b.push("L",p,",",g)}else b.push("M",c,",",h),null!=f&&b.push("A",e,",",e," 0 ",x,",",o," ",f,",",d),b.push("L",p,",",g),null!=m&&b.push("A",t,",",t," 0 ",S,",",1-o," ",m,",",v);return b.push("Z"),b.join("")}function z(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var H=fo,j=po,V=ho,G=Eu,q=go,$=mo,B=vo;return e.innerRadius=function(t){return arguments.length?(H=Ct(t),e):H},e.outerRadius=function(t){return arguments.length?(j=Ct(t),e):j},e.cornerRadius=function(t){return arguments.length?(V=Ct(t),e):V},e.padRadius=function(t){return arguments.length?(G=t==Eu?Eu:Ct(t),e):G},e.startAngle=function(t){return arguments.length?(q=Ct(t),e):q},e.endAngle=function(t){return arguments.length?($=Ct(t),e):$},e.padAngle=function(t){return arguments.length?(B=Ct(t),e):B},e.centroid=function(){var t=(+H.apply(this,arguments)+ +j.apply(this,arguments))/2,e=(+q.apply(this,arguments)+ +$.apply(this,arguments))/2-ja;return[Math.cos(e)*t,Math.sin(e)*t]},e};var Eu="auto";ua.svg.line=function(){return bo(O)};var Lu=ua.map({linear:xo,"linear-closed":wo,step:So,"step-before":To,"step-after":ko,basis:Lo,"basis-open":Do,"basis-closed":No,bundle:Io,cardinal:Ao,"cardinal-open":Co,"cardinal-closed":Mo,monotone:jo});Lu.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Du=[0,2/3,1/3,0],Nu=[0,1/3,2/3,0],Iu=[0,1/6,2/3,1/6];ua.svg.line.radial=function(){var t=bo(Vo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},(To.reverse=ko).reverse=To,ua.svg.area=function(){return Go(O)},ua.svg.area.radial=function(){var t=Go(Vo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ua.svg.chord=function(){function e(t,e){var n=r(this,u,t,e),i=r(this,l,t,e);return"M"+n.p0+a(n.r,n.p1,n.a1-n.a0)+(o(n,i)?s(n.r,n.p1,n.r,n.p0):s(n.r,n.p1,i.r,i.p0)+a(i.r,i.p1,i.a1-i.a0)+s(i.r,i.p1,n.r,n.p0))+"Z"}function r(t,e,n,i){var r=e.call(t,n,i),o=c.call(t,r,i),a=h.call(t,r,i)-ja,s=f.call(t,r,i)-ja;return{r:o,a0:a,a1:s,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(s),o*Math.sin(s)]}}function o(t,e){return t.a0==e.a0&&t.a1==e.a1}function a(t,e,n){return"A"+t+","+t+" 0 "+ +(Fa<n)+",1 "+e}function s(t,e,n,i){return"Q 0,0 "+i}var u=_n,l=bn,c=qo,h=go,f=mo;return e.radius=function(t){return arguments.length?(c=Ct(t),e):c},e.source=function(t){return arguments.length?(u=Ct(t),e):u},e.target=function(t){return arguments.length?(l=Ct(t),e):l},e.startAngle=function(t){return arguments.length?(h=Ct(t),e):h},e.endAngle=function(t){return arguments.length?(f=Ct(t),e):f},e},ua.svg.diagonal=function(){function e(t,e){var n=a.call(this,t,e),i=s.call(this,t,e),r=(n.y+i.y)/2,o=[n,{x:n.x,y:r},{x:i.x,y:r},i];return"M"+(o=o.map(u))[0]+"C"+o[1]+" "+o[2]+" "+o[3]}var a=_n,s=bn,u=$o;return e.source=function(t){return arguments.length?(a=Ct(t),e):a},e.target=function(t){return arguments.length?(s=Ct(t),e):s},e.projection=function(t){return arguments.length?(u=t,e):u},e},ua.svg.diagonal.radial=function(){var t=ua.svg.diagonal(),e=$o,n=t.projection;return t.projection=function(t){return arguments.length?n(Bo(e=t)):e},t},ua.svg.symbol=function(){function e(t,e){return(Ou.get(n.call(this,t,e))||Yo)(i.call(this,t,e))}var n=Uo,i=Wo;return e.type=function(t){return arguments.length?(n=Ct(t),e):n},e.size=function(t){return arguments.length?(i=Ct(t),e):i},e};var Ou=ua.map({circle:Yo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Fu)),n=e*Fu;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Ru),n=e*Ru/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Ru),n=e*Ru/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});ua.svg.symbolTypes=Ou.keys();var Ru=Math.sqrt(3),Fu=Math.tan(30*Va);Ma.transition=function(t){for(var e,n,i=zu||++Gu,r=Jo(t),o=[],a=Hu||{time:Date.now(),ease:Ci,delay:0,duration:250},s=-1,u=this.length;++s<u;){o.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(n=l[c])&&ta(n,c,r,i,a),e.push(n)}return Qo(o,r,i)},Ma.interrupt=function(t){return this.each(null==t?ju:Xo(Jo(t)))};var zu,Hu,ju=Xo(Jo()),Vu=[],Gu=0;Vu.call=Ma.call,Vu.empty=Ma.empty,Vu.node=Ma.node,Vu.size=Ma.size,ua.transition=function(t,e){return t&&t.transition?zu?t.transition(e):t:ua.selection().transition(t)},(ua.transition.prototype=Vu).select=function(t){var e,n,i,r=this.id,o=this.namespace,a=[];t=T(t);for(var s=-1,u=this.length;++s<u;){a.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(i=l[c])&&(n=t.call(i,i.__data__,c,s))?("__data__"in i&&(n.__data__=i.__data__),ta(n,c,o,r,i[o][r]),e.push(n)):e.push(null)}return Qo(a,o,r)},Vu.selectAll=function(t){var e,n,i,r,o,a=this.id,s=this.namespace,u=[];t=k(t);for(var l=-1,c=this.length;++l<c;)for(var h=this[l],f=-1,d=h.length;++f<d;)if(i=h[f]){o=i[s][a],n=t.call(i,i.__data__,f,l),u.push(e=[]);for(var p=-1,g=n.length;++p<g;)(r=n[p])&&ta(r,p,s,a,o),e.push(r)}return Qo(u,s,a)},Vu.filter=function(t){var e,n,i=[];"function"!=typeof t&&(t=V(t));for(var r=0,o=this.length;r<o;r++){i.push(e=[]);for(var a,s=0,u=(a=this[r]).length;s<u;s++)(n=a[s])&&t.call(n,n.__data__,s,r)&&e.push(n)}return Qo(i,this.namespace,this.id)},Vu.tween=function(e,n){var i=this.id,r=this.namespace;return arguments.length<2?this.node()[r][i].tween.get(e):q(this,null==n?function(t){t[r][i].tween.remove(e)}:function(t){t[r][i].tween.set(e,n)})},Vu.attr=function(t,e){function i(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function n(n){return null==n?i:(n+="",function(){var e,t=this.getAttribute(s);return t!==n&&(e=a(t,n),function(t){this.setAttribute(s,e(t))})})}function o(n){return null==n?r:(n+="",function(){var e,t=this.getAttributeNS(s.space,s.local);return t!==n&&(e=a(t,n),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?Ui:_i,s=ua.ns.qualify(t);return Ko(this,"attr."+t,e,s.local?o:n)},Vu.attrTween=function(t,i){function e(t,e){var n=i.call(this,t,e,this.getAttribute(r));return n&&function(t){this.setAttribute(r,n(t))}}function n(t,e){var n=i.call(this,t,e,this.getAttributeNS(r.space,r.local));return n&&function(t){this.setAttributeNS(r.space,r.local,n(t))}}var r=ua.ns.qualify(t);return this.tween("attr."+t,r.local?n:e)},Vu.style=function(i,t,r){function e(){this.style.removeProperty(i)}function n(n){return null==n?e:(n+="",function(){var e,t=I(this).getComputedStyle(this,null).getPropertyValue(i);return t!==n&&(e=_i(t,n),function(t){this.style.setProperty(i,e(t),r)})})}var o=arguments.length;if(o<3){if("string"!=typeof i){for(r in o<2&&(t=""),i)this.style(r,i[r],t);return this}r=""}return Ko(this,"style."+i,t,n)},Vu.styleTween=function(i,r,o){function t(t,e){var n=r.call(this,t,e,I(this).getComputedStyle(this,null).getPropertyValue(i));return n&&function(t){this.style.setProperty(i,n(t),o)}}return arguments.length<3&&(o=""),this.tween("style."+i,t)},Vu.text=function(t){return Ko(this,"text",t,Zo)},Vu.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Vu.ease=function(e){var n=this.id,i=this.namespace;return arguments.length<1?this.node()[i][n].ease:("function"!=typeof e&&(e=ua.ease.apply(ua,arguments)),q(this,function(t){t[i][n].ease=e}))},Vu.delay=function(i){var r=this.id,o=this.namespace;return arguments.length<1?this.node()[o][r].delay:q(this,"function"==typeof i?function(t,e,n){t[o][r].delay=+i.call(t,t.__data__,e,n)}:(i=+i,function(t){t[o][r].delay=i}))},Vu.duration=function(i){var r=this.id,o=this.namespace;return arguments.length<1?this.node()[o][r].duration:q(this,"function"==typeof i?function(t,e,n){t[o][r].duration=Math.max(1,i.call(t,t.__data__,e,n))}:(i=Math.max(1,i),function(t){t[o][r].duration=i}))},Vu.each=function(i,n){var r=this.id,o=this.namespace;if(arguments.length<2){var t=Hu,e=zu;try{zu=r,q(this,function(t,e,n){Hu=t[o][r],i.call(t,t.__data__,e,n)})}finally{Hu=t,zu=e}}else q(this,function(t){var e=t[o][r];(e.event||(e.event=ua.dispatch("start","end","interrupt"))).on(i,n)});return this},Vu.transition=function(){for(var t,e,n,i=this.id,r=++Gu,o=this.namespace,a=[],s=0,u=this.length;s<u;s++){a.push(t=[]);for(var l,c=0,h=(l=this[s]).length;c<h;c++)(e=l[c])&&ta(e,c,o,r,{time:(n=e[o][i]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return Qo(a,o,r)},ua.svg.axis=function(){function n(t){t.each(function(){var t,e=ua.select(this),n=this.__chart__||M,i=this.__chart__=M.copy(),r=null==N?i.ticks?i.ticks.apply(i,D):i.domain():N,o=null==C?i.tickFormat?i.tickFormat.apply(i,D):O:C,a=e.selectAll(".tick").data(r,i),s=a.enter().insert("g",".domain").attr("class","tick").style("opacity",Oa),u=ua.transition(a.exit()).style("opacity",Oa).remove(),l=ua.transition(a.order()).style("opacity",1),c=Math.max(P,0)+L,h=$r(i),f=e.selectAll(".domain").data([0]),d=(f.enter().append("path").attr("class","domain"),ua.transition(f));s.append("line"),s.append("text");var p,g,m,v,y=s.select("line"),_=l.select("line"),b=a.select("text").text(o),x=s.select("text"),w=l.select("text"),S="top"===A||"left"===A?-1:1;if("bottom"===A||"top"===A?(t=ea,p="x",m="y",g="x2",v="y2",b.attr("dy",S<0?"0em":".71em").style("text-anchor","middle"),d.attr("d","M"+h[0]+","+S*E+"V0H"+h[1]+"V"+S*E)):(t=na,p="y",m="x",g="y2",v="x2",b.attr("dy",".32em").style("text-anchor",S<0?"end":"start"),d.attr("d","M"+S*E+","+h[0]+"H0V"+h[1]+"H"+S*E)),y.attr(v,S*P),x.attr(m,S*c),_.attr(g,0).attr(v,S*P),w.attr(p,0).attr(m,S*c),i.rangeBand){var T=i,k=T.rangeBand()/2;n=i=function(t){return T(t)+k}}else n.rangeBand?n=i:u.call(t,i,n);s.call(t,n,i),l.call(t,i,i)})}var C,M=ua.scale.linear(),A=qu,P=6,E=6,L=3,D=[10],N=null;return n.scale=function(t){return arguments.length?(M=t,n):M},n.orient=function(t){return arguments.length?(A=t in $u?t+"":qu,n):A},n.ticks=function(){return arguments.length?(D=ca(arguments),n):D},n.tickValues=function(t){return arguments.length?(N=t,n):N},n.tickFormat=function(t){return arguments.length?(C=t,n):C},n.tickSize=function(t){var e=arguments.length;return e?(P=+t,E=+arguments[e-1],n):P},n.innerTickSize=function(t){return arguments.length?(P=+t,n):P},n.outerTickSize=function(t){return arguments.length?(E=+t,n):E},n.tickPadding=function(t){return arguments.length?(L=+t,n):L},n.tickSubdivide=function(){return arguments.length&&n},n};var qu="bottom",$u={top:1,right:1,bottom:1,left:1};ua.svg.brush=function(){function b(t){t.each(function(){var t=ua.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",a).on("touchstart.brush",a),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(s,O);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Bu[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",b.empty()?"none":null);var i,r=ua.transition(t),o=ua.transition(e);M&&(i=$r(M),o.attr("x",i[0]).attr("width",i[1]-i[0]),w(r)),A&&(i=$r(A),o.attr("y",i[0]).attr("height",i[1]-i[0]),S(r)),x(r)})}function x(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+P[+/e$/.test(t)]+","+E[+/^s/.test(t)]+")"})}function w(t){t.select(".extent").attr("x",P[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",P[1]-P[0])}function S(t){t.select(".extent").attr("y",E[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",E[1]-E[0])}function a(){function t(){32==ua.event.keyCode&&(p||(h=null,m[0]-=P[1],m[1]-=E[1],p=2),R())}function e(){32==ua.event.keyCode&&2==p&&(m[0]+=P[1],m[1]+=E[1],p=0,R())}function n(){var t=ua.mouse(a),e=!1;o&&(t[0]+=o[0],t[1]+=o[1]),p||(ua.event.altKey?(h||(h=[(P[0]+P[1])/2,(E[0]+E[1])/2]),m[0]=P[+(t[0]<h[0])],m[1]=E[+(t[1]<h[1])]):h=null),f&&i(t,M,0)&&(w(l),e=!0),d&&i(t,A,1)&&(S(l),e=!0),e&&(x(l),u({type:"brush",mode:p?"move":"resize"}))}function i(t,e,n){var i,r,o=$r(e),a=o[0],s=o[1],u=m[n],l=n?E:P,c=l[1]-l[0];return p&&(a-=u,s-=c+u),i=(n?D:L)?Math.max(a,Math.min(s,t[n])):t[n],p?r=(i+=u)+c:(h&&(u=Math.max(a,Math.min(s,2*h[n]-i))),u<i?(r=i,i=u):r=u),l[0]!=i||l[1]!=r?(n?k=null:T=null,l[0]=i,l[1]=r,!0):void 0}function r(){n(),l.style("pointer-events","all").selectAll(".resize").style("display",b.empty()?"none":null),ua.select("body").style("cursor",null),v.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),g(),u({type:"brushend"})}var h,o,a=this,s=ua.select(ua.event.target),u=C.of(a,arguments),l=ua.select(a),c=s.datum(),f=!/^(n|s)$/.test(c)&&M,d=!/^(e|w)$/.test(c)&&A,p=s.classed("extent"),g=X(a),m=ua.mouse(a),v=ua.select(I(a)).on("keydown.brush",t).on("keyup.brush",e);if(ua.event.changedTouches?v.on("touchmove.brush",n).on("touchend.brush",r):v.on("mousemove.brush",n).on("mouseup.brush",r),l.interrupt().selectAll("*").interrupt(),p)m[0]=P[0]-m[0],m[1]=E[0]-m[1];else if(c){var y=+/w$/.test(c),_=+/^n/.test(c);o=[P[1-y]-m[0],E[1-_]-m[1]],m[0]=P[y],m[1]=E[_]}else ua.event.altKey&&(h=m.slice());l.style("pointer-events","none").selectAll(".resize").style("display",null),ua.select("body").style("cursor",s.style("cursor")),u({type:"brushstart"}),n()}var T,k,C=F(b,"brushstart","brush","brushend"),M=null,A=null,P=[0,0],E=[0,0],L=!0,D=!0,s=Wu[0];return b.event=function(t){t.each(function(){var i=C.of(this,arguments),r={x:P,y:E,i:T,j:k},t=this.__chart__||r;this.__chart__=r,zu?ua.select(this).transition().each("start.brush",function(){T=t.i,k=t.j,P=t.x,E=t.y,i({type:"brushstart"})}).tween("brush:brush",function(){var e=bi(P,r.x),n=bi(E,r.y);return T=k=null,function(t){P=r.x=e(t),E=r.y=n(t),i({type:"brush",mode:"resize"})}}).each("end.brush",function(){T=r.i,k=r.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})}):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))})},b.x=function(t){return arguments.length?(s=Wu[!(M=t)<<1|!A],b):M},b.y=function(t){return arguments.length?(s=Wu[!M<<1|!(A=t)],b):A},b.clamp=function(t){return arguments.length?(M&&A?(L=!!t[0],D=!!t[1]):M?L=!!t:A&&(D=!!t),b):M&&A?[L,D]:M?L:A?D:null},b.extent=function(t){var e,n,i,r,o;return arguments.length?(M&&(e=t[0],n=t[1],A&&(e=e[0],n=n[0]),T=[e,n],M.invert&&(e=M(e),n=M(n)),n<e&&(o=e,e=n,n=o),e==P[0]&&n==P[1]||(P=[e,n])),A&&(i=t[0],r=t[1],M&&(i=i[1],r=r[1]),k=[i,r],A.invert&&(i=A(i),r=A(r)),r<i&&(o=i,i=r,r=o),i==E[0]&&r==E[1]||(E=[i,r])),b):(M&&(T?(e=T[0],n=T[1]):(e=P[0],n=P[1],M.invert&&(e=M.invert(e),n=M.invert(n)),n<e&&(o=e,e=n,n=o))),A&&(k?(i=k[0],r=k[1]):(i=E[0],r=E[1],A.invert&&(i=A.invert(i),r=A.invert(r)),r<i&&(o=i,i=r,r=o))),M&&A?[[e,i],[n,r]]:M?[e,n]:A&&[i,r])},b.clear=function(){return b.empty()||(P=[0,0],E=[0,0],T=k=null),b},b.empty=function(){return!!M&&P[0]==P[1]||!!A&&E[0]==E[1]},ua.rebind(b,C,"on")};var Bu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Wu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Uu=fs.format=ys.timeFormat,Yu=Uu.utc,Xu=Yu("%Y-%m-%dT%H:%M:%S.%LZ");Uu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ia:Xu,ia.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},ia.toString=Xu.toString,fs.second=jt(function(t){return new ds(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),fs.seconds=fs.second.range,fs.seconds.utc=fs.second.utc.range,fs.minute=jt(function(t){return new ds(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),fs.minutes=fs.minute.range,fs.minutes.utc=fs.minute.utc.range,fs.hour=jt(function(t){var e=t.getTimezoneOffset()/60;return new ds(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),fs.hours=fs.hour.range,fs.hours.utc=fs.hour.utc.range,fs.month=jt(function(t){return(t=fs.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),fs.months=fs.month.range,fs.months.utc=fs.month.utc.range;var Qu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ku=[[fs.second,1],[fs.second,5],[fs.second,15],[fs.second,30],[fs.minute,1],[fs.minute,5],[fs.minute,15],[fs.minute,30],[fs.hour,1],[fs.hour,3],[fs.hour,6],[fs.hour,12],[fs.day,1],[fs.day,2],[fs.week,1],[fs.month,1],[fs.month,3],[fs.year,1]],Zu=Uu.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Pe]]),Ju={range:function(t,e,n){return ua.range(Math.ceil(t/n)*n,+e,n).map(oa)},floor:O,ceil:O};Ku.year=fs.year,fs.scale=function(){return ra(ua.scale.linear(),Ku,Zu)};var tl=Ku.map(function(t){return[t[0].utc,t[1]]}),el=Yu.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Pe]]);tl.year=fs.year.utc,fs.scale.utc=function(){return ra(ua.scale.linear(),tl,el)},ua.text=Mt(function(t){return t.responseText}),ua.json=function(t,e){return At(t,"application/json",aa,e)},ua.html=function(t,e){return At(t,"text/html",sa,e)},ua.xml=Mt(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=ua,define(ua)):"object"==typeof module&&module.exports?module.exports=ua:this.d3=ua}(),function(){"use strict";var r="d3pie",o="0.1.3",a=0,s={header:{title:{text:"",color:"#333333",fontSize:18,font:"arial"},subtitle:{text:"",color:"#666666",fontSize:14,font:"arial"},location:"top-center",titleSubtitlePadding:8},footer:{text:"",color:"#666666",fontSize:14,font:"arial",location:"left"},size:{canvasHeight:500,canvasWidth:500,pieInnerRadius:"0%",pieOuterRadius:null},data:{sortOrder:"none",smallSegmentGrouping:{enabled:!1,value:1,valueType:"percentage",label:"Other",color:"#cccccc"},content:[]},labels:{outer:{format:"label",hideWhenLessThanPercentage:null,pieDistance:30},inner:{format:"percentage",hideWhenLessThanPercentage:null},mainLabel:{color:"#333333",font:"arial",fontSize:10},percentage:{color:"#dddddd",font:"arial",fontSize:10,decimalPlaces:0},value:{color:"#cccc44",font:"arial",fontSize:10},lines:{enabled:!0,style:"curved",
color:"segment"},truncation:{enabled:!1,length:30}},effects:{load:{effect:"default",speed:1e3},pullOutSegmentOnClick:{effect:"bounce",speed:300,size:10},highlightSegmentOnMouseover:!0,highlightLuminosity:-.2},misc:{colors:{background:null,segments:["#2484c1","#65a620","#7b6888","#a05d56","#961a1a","#d8d23a","#e98125","#d0743c","#635222","#6ada6a","#0c6197","#7d9058","#207f33","#44b9b0","#bca44a","#e4a14b","#a3acb2","#8cc3e9","#69a6f9","#5b388f","#546e91","#8bde95","#d2ab58","#273c71","#98bf6e","#4daa4b","#98abc5","#cc1010","#31383b","#006391","#c2643f","#b0a474","#a5a39c","#a9c2bc","#22af8c","#7fcecf","#987ac6","#3d3b87","#b77b1c","#c9c2b6","#807ece","#8db27c","#be66a2","#9ed3c6","#00644b","#005064","#77979f","#77e079","#9c73ab","#1f79a7"],segmentStroke:"#ffffff"},gradient:{enabled:!1,percentage:95,color:"#000000"},canvasPadding:{top:5,right:5,bottom:5,left:5},pieCenterOffset:{x:0,y:0},cssPrefix:null},callbacks:{onload:null,onMouseoverSegment:null,onMouseoutSegment:null,onClickSegment:null}},u={initialCheck:function(t){var e=t.cssPrefix,n=t.element,i=t.options;if(!window.d3||!window.d3.hasOwnProperty("version"))return console.error("d3pie error: d3 is not available"),!1;if(!(n instanceof HTMLElement))return console.error("d3pie error: the first d3pie() param must be a valid DOM element (not jQuery) or a ID string."),!1;if(!/[a-zA-Z][a-zA-Z0-9_-]*$/.test(e))return console.error("d3pie error: invalid options.misc.cssPrefix"),!1;if(!f.isArray(i.data.content))return console.error("d3pie error: invalid config structure: missing data.content property."),!1;if(0===i.data.content.length)return console.error("d3pie error: no data supplied."),!1;for(var r=[],o=0;o<i.data.content.length;o++)"number"!=typeof i.data.content[o].value||isNaN(i.data.content[o].value)?console.log("not valid: ",i.data.content[o]):i.data.content[o].value<=0?console.log("not valid - should have positive value: ",i.data.content[o]):r.push(i.data.content[o]);return t.options.data.content=r,!0}},f={addSVGSpace:function(t){var e=t.element,n=t.options.size.canvasWidth,i=t.options.size.canvasHeight,r=t.options.misc.colors.background,o=d3.select(e).append("svg:svg").attr("width",n).attr("height",i);return"transparent"!==r&&o.style("background-color",function(){return r}),o},whenIdExists:function(t,e){var n=1,i=1e3,r=setInterval(function(){document.getElementById(t)&&(clearInterval(r),e()),i<n&&clearInterval(r),n++},1)},whenElementsExist:function(n,i){var r=1,o=1e3,a=setInterval(function(){for(var t=!0,e=0;e<n.length;e++)if(!document.getElementById(n[e])){t=!1;break}t&&(clearInterval(a),i()),o<r&&clearInterval(a),r++},1)},shuffleArray:function(t){for(var e,n,i=t.length;0!==i;)n=Math.floor(Math.random()*i),e=t[i-=1],t[i]=t[n],t[n]=e;return t},processObj:function(t,e,n){return"string"==typeof e?f.processObj(t,e.split("."),n):1==e.length&&void 0!==n?t[e[0]]=n:0==e.length?t:f.processObj(t[e[0]],e.slice(1),n)},getDimensions:function(t){var e=document.getElementById(t),n=0,i=0;if(e){var r=e.getBBox();n=r.width,i=r.height}else console.log("error: getDimensions() "+t+" not found.");return{w:n,h:i}},rectIntersect:function(t,e){return!(e.x>t.x+t.w||e.x+e.w<t.x||e.y+e.h<t.y||e.y>t.y+t.h)},getColorShade:function(t,e){(t=String(t).replace(/[^0-9a-f]/gi,"")).length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||0;for(var n="#",i=0;i<3;i++){var r=parseInt(t.substr(2*i,2),16);n+=("00"+(r=Math.round(Math.min(Math.max(0,r+r*e),255)).toString(16))).substr(r.length)}return n},initSegmentColors:function(t){for(var e=t.options.data.content,n=t.options.misc.colors.segments,i=[],r=0;r<e.length;r++)i.push(e[r].hasOwnProperty("color")?e[r].color:n[r]);return i},applySmallSegmentGrouping:function(t,e){var n;"percentage"===e.valueType&&(n=p.getTotalPieSize(t));for(var i=[],r=[],o=0,a=0;a<t.length;a++)if("percentage"===e.valueType){if(t[a].value/n*100<=e.value){r.push(t[a]),o+=t[a].value;continue}t[a].isGrouped=!1,i.push(t[a])}else{if(t[a].value<=e.value){r.push(t[a]),o+=t[a].value;continue}t[a].isGrouped=!1,i.push(t[a])}return r.length&&i.push({color:e.color,label:e.label,value:o,isGrouped:!0,groupedData:r}),i},showPoint:function(t,e,n){t.append("circle").attr("cx",e).attr("cy",n).attr("r",2).style("fill","black")},isFunction:function(t){return t&&"[object Function]"==={}.toString.call(t)},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)}},m=function(t,e){var n,i,r,o,a,s,u=t||{},l=1,c=arguments.length,h=!1,f=Object.prototype.toString,d=Object.prototype.hasOwnProperty,p={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},g={isFunction:function(t){return"function"===g.type(t)},isArray:Array.isArray||function(t){return"array"===g.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):p[f.call(t)]||"object"},isPlainObject:function(t){if(!t||"object"!==g.type(t)||t.nodeType)return!1;try{if(t.constructor&&!d.call(t,"constructor")&&!d.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}var e;for(e in t);return void 0===e||d.call(t,e)}};for("boolean"==typeof u&&(h=u,u=e||{},l=2),"object"==typeof u||g.isFunction(u)||(u={}),c===l&&(u=this,--l);l<c;l++)if(null!=(n=arguments[l]))for(i in n)r=u[i],u!==(o=n[i])&&(h&&o&&(g.isPlainObject(o)||(a=g.isArray(o)))?(a?(a=!1,s=r&&g.isArray(r)?r:[]):s=r&&g.isPlainObject(r)?r:{},u[i]=m(h,s,o)):void 0!==o&&(u[i]=o));return u},p={toRadians:function(t){return t*(Math.PI/180)},toDegrees:function(t){return t*(180/Math.PI)},computePieRadius:function(t){var e=t.options.size,n=t.options.misc.canvasPadding,i=e.canvasWidth-n.left-n.right,r=e.canvasHeight-n.top-n.bottom;r-=t.textComponents.headerHeight,t.textComponents.footer.exists&&(r-=t.textComponents.footer.h);var o,a,s=(i<(r=r<0?0:r)?i:r)/3;if(null!==e.pieOuterRadius)if(/%/.test(e.pieOuterRadius)){a=(a=99<(a=parseInt(e.pieOuterRadius.replace(/[\D]/,""),10))?99:a)<0?0:a;var u=i<r?i:r;if("none"!==t.options.labels.outer.format){var l=2*parseInt(t.options.labels.outer.pieDistance,10);0<u-l&&(u-=l)}s=Math.floor(u/100*a)/2}else s=parseInt(e.pieOuterRadius,10);/%/.test(e.pieInnerRadius)?(a=(a=99<(a=parseInt(e.pieInnerRadius.replace(/[\D]/,""),10))?99:a)<0?0:a,o=Math.floor(s/100*a)):o=parseInt(e.pieInnerRadius,10),t.innerRadius=o,t.outerRadius=s},getTotalPieSize:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].value;return e},sortPieData:function(t){var e=t.options.data.content;switch(t.options.data.sortOrder){case"none":break;case"random":e=f.shuffleArray(e);break;case"value-asc":e.sort(function(t,e){return t.value<e.value?-1:1});break;case"value-desc":e.sort(function(t,e){return t.value<e.value?1:-1});break;case"label-asc":e.sort(function(t,e){return t.label.toLowerCase()>e.label.toLowerCase()?1:-1});break;case"label-desc":e.sort(function(t,e){return t.label.toLowerCase()<e.label.toLowerCase()?1:-1})}return e},getPieTranslateCenter:function(t){return"translate("+t.x+","+t.y+")"},calculatePieCenter:function(t){var e=t.options.misc.pieCenterOffset,n=t.textComponents.title.exists&&"pie-center"!==t.options.header.location,i=t.textComponents.subtitle.exists&&"pie-center"!==t.options.header.location,r=t.options.misc.canvasPadding.top;n&&i?r+=t.textComponents.title.h+t.options.header.titleSubtitlePadding+t.textComponents.subtitle.h:n?r+=t.textComponents.title.h:i&&(r+=t.textComponents.subtitle.h);var o=0;t.textComponents.footer.exists&&(o=t.textComponents.footer.h+t.options.misc.canvasPadding.bottom);var a=(t.options.size.canvasWidth-t.options.misc.canvasPadding.left-t.options.misc.canvasPadding.right)/2+t.options.misc.canvasPadding.left,s=(t.options.size.canvasHeight-o-r)/2+r;a+=e.x,s+=e.y,t.pieCenter={x:a,y:s}},rotate:function(t,e,n,i,r){var o=Math.cos,a=Math.sin;return{x:(t-n)*o(r=r*Math.PI/180)-(e-i)*a(r)+n,y:(t-n)*a(r)+(e-i)*o(r)+i}},translate:function(t,e,n,i){var r=p.toRadians(i);return{x:t+n*Math.sin(r),y:e-n*Math.cos(r)}},pointIsInArc:function(t,e,n){var i=n.innerRadius()(e),r=n.outerRadius()(e),o=n.startAngle()(e),a=n.endAngle()(e),s=t.x*t.x+t.y*t.y,u=Math.atan2(t.x,-t.y);return u=u<0?u+2*Math.PI:u,i*i<=s&&s<=r*r&&o<=u&&u<=a}},h={add:function(n,i,t){var e=h.getIncludes(t),r=n.options.labels,o=n.svg.insert("g","."+n.cssPrefix+"labels-"+i).attr("class",n.cssPrefix+"labels-"+i).selectAll("."+n.cssPrefix+"labelGroup-"+i).data(n.options.data.content).enter().append("g").attr("id",function(t,e){return n.cssPrefix+"labelGroup"+e+"-"+i}).attr("data-index",function(t,e){return e}).attr("class",n.cssPrefix+"labelGroup-"+i).style("opacity",0);e.mainLabel&&o.append("text").attr("id",function(t,e){return n.cssPrefix+"segmentMainLabel"+e+"-"+i}).attr("class",n.cssPrefix+"segmentMainLabel-"+i).text(function(t){var e=t.label;return r.truncation.enabled&&t.label.length>r.truncation.length&&(e=t.label.substring(0,r.truncation.length)+"..."),e}).style("font-size",r.mainLabel.fontSize+"px").style("font-family",r.mainLabel.font).style("fill",r.mainLabel.color),e.percentage&&o.append("text").attr("id",function(t,e){return n.cssPrefix+"segmentPercentage"+e+"-"+i}).attr("class",n.cssPrefix+"segmentPercentage-"+i).text(function(t){return(t.value/n.totalSize*100).toFixed(n.options.labels.percentage.decimalPlaces)+"%"}).style("font-size",r.percentage.fontSize+"px").style("font-family",r.percentage.font).style("fill",r.percentage.color),e.value&&o.append("text").attr("id",function(t,e){return n.cssPrefix+"segmentValue"+e+"-"+i}).attr("class",n.cssPrefix+"segmentValue-"+i).text(function(t){return t.value}).style("font-size",r.value.fontSize+"px").style("font-family",r.value.font).style("fill",r.value.color)},positionLabelElements:function(i,r,t){h["dimensions-"+r]=[],d3.selectAll("."+i.cssPrefix+"labelGroup-"+r).each(function(){var t=d3.select(this).selectAll("."+i.cssPrefix+"segmentMainLabel-"+r),e=d3.select(this).selectAll("."+i.cssPrefix+"segmentPercentage-"+r),n=d3.select(this).selectAll("."+i.cssPrefix+"segmentValue-"+r);h["dimensions-"+r].push({mainLabel:null!==t.node()?t.node().getBBox():null,percentage:null!==e.node()?e.node().getBBox():null,value:null!==n.node()?n.node().getBBox():null})});var n=5,o=h["dimensions-"+r];switch(t){case"label-value1":d3.selectAll("."+i.cssPrefix+"segmentValue-"+r).attr("dx",function(t,e){return o[e].mainLabel.width+n});break;case"label-value2":d3.selectAll("."+i.cssPrefix+"segmentValue-"+r).attr("dy",function(t,e){return o[e].mainLabel.height});break;case"label-percentage1":d3.selectAll("."+i.cssPrefix+"segmentPercentage-"+r).attr("dx",function(t,e){return o[e].mainLabel.width+n});break;case"label-percentage2":d3.selectAll("."+i.cssPrefix+"segmentPercentage-"+r).attr("dx",function(t,e){return o[e].mainLabel.width/2-o[e].percentage.width/2}).attr("dy",function(t,e){return o[e].mainLabel.height})}},computeLabelLinePositions:function(n){n.lineCoordGroups=[],d3.selectAll("."+n.cssPrefix+"labelGroup-outer").each(function(t,e){return h.computeLinePosition(n,e)})},computeLinePosition:function(t,e){var n,i,r,o,a=g.getSegmentAngle(e,t.options.data.content,t.totalSize,{midpoint:!0}),s=p.rotate(t.pieCenter.x,t.pieCenter.y-t.outerRadius,t.pieCenter.x,t.pieCenter.y,a),u=t.outerLabelGroupData[e].h/5,l=6,c=Math.floor(a/90),h=4;switch(2===c&&180===a&&(c=1),c){case 0:n=t.outerLabelGroupData[e].x-l-(t.outerLabelGroupData[e].x-l-s.x)/2,i=t.outerLabelGroupData[e].y+(s.y-t.outerLabelGroupData[e].y)/h,r=t.outerLabelGroupData[e].x-l,o=t.outerLabelGroupData[e].y-u;break;case 1:n=s.x+(t.outerLabelGroupData[e].x-s.x)/h,i=s.y+(t.outerLabelGroupData[e].y-s.y)/h,r=t.outerLabelGroupData[e].x-l,o=t.outerLabelGroupData[e].y-u;break;case 2:var f=t.outerLabelGroupData[e].x+t.outerLabelGroupData[e].w+l;n=s.x-(s.x-f)/h,i=s.y+(t.outerLabelGroupData[e].y-s.y)/h,r=t.outerLabelGroupData[e].x+t.outerLabelGroupData[e].w+l,o=t.outerLabelGroupData[e].y-u;break;case 3:var d=t.outerLabelGroupData[e].x+t.outerLabelGroupData[e].w+l;n=d+(s.x-d)/h,i=t.outerLabelGroupData[e].y+(s.y-t.outerLabelGroupData[e].y)/h,r=t.outerLabelGroupData[e].x+t.outerLabelGroupData[e].w+l,o=t.outerLabelGroupData[e].y-u}t.lineCoordGroups[e]="straight"===t.options.labels.lines.style?[{x:s.x,y:s.y},{x:r,y:o}]:[{x:s.x,y:s.y},{x:n,y:i},{x:r,y:o}]},addLabelLines:function(r){var t=r.svg.insert("g","."+r.cssPrefix+"pieChart").attr("class",r.cssPrefix+"lineGroups").style("opacity",0).selectAll("."+r.cssPrefix+"lineGroup").data(r.lineCoordGroups).enter().append("g").attr("class",r.cssPrefix+"lineGroup"),e=d3.svg.line().interpolate("basis").x(function(t){return t.x}).y(function(t){return t.y});t.append("path").attr("d",e).attr("stroke",function(t,e){return"segment"===r.options.labels.lines.color?r.options.colors[e]:r.options.labels.lines.color}).attr("stroke-width",1).attr("fill","none").style("opacity",function(t,e){var n=r.options.labels.outer.hideWhenLessThanPercentage,i=g.getPercentage(r,e);return null!==n&&i<n||""===r.options.data.content[e].label?0:1})},positionLabelGroups:function(c,h){d3.selectAll("."+c.cssPrefix+"labelGroup-"+h).style("opacity",0).attr("transform",function(t,e){var n,i;if("outer"===h)n=c.outerLabelGroupData[e].x,i=c.outerLabelGroupData[e].y;else{var r=m(!0,{},c.pieCenter);if(0<c.innerRadius){var o=g.getSegmentAngle(e,c.options.data.content,c.totalSize,{midpoint:!0}),a=p.translate(c.pieCenter.x,c.pieCenter.y,c.innerRadius,o);r.x=a.x,r.y=a.y}var s=f.getDimensions(c.cssPrefix+"labelGroup"+e+"-inner"),u=s.w/2,l=s.h/4;n=r.x+(c.lineCoordGroups[e][0].x-r.x)/1.8,i=r.y+(c.lineCoordGroups[e][0].y-r.y)/1.8,n-=u,i+=l}return"translate("+n+","+i+")"})},fadeInLabelsAndLines:function(r){var t="default"===r.options.effects.load.effect?r.options.effects.load.speed:1;setTimeout(function(){var t="default"===r.options.effects.load.effect?400:1;d3.selectAll("."+r.cssPrefix+"labelGroup-outer").transition().duration(t).style("opacity",function(t,e){var n=r.options.labels.outer.hideWhenLessThanPercentage,i=g.getPercentage(r,e);return null!==n&&i<n?0:1}),d3.selectAll("."+r.cssPrefix+"labelGroup-inner").transition().duration(t).style("opacity",function(t,e){var n=r.options.labels.inner.hideWhenLessThanPercentage,i=g.getPercentage(r,e);return null!==n&&i<n?0:1}),d3.selectAll("g."+r.cssPrefix+"lineGroups").transition().duration(t).style("opacity",1),f.isFunction(r.options.callbacks.onload)&&setTimeout(function(){try{r.options.callbacks.onload()}catch(t){}},t)},t)},getIncludes:function(t){var e=!1,n=!1,i=!1;switch(t){case"label":e=!0;break;case"value":n=!0;break;case"percentage":i=!0;break;case"label-value1":case"label-value2":n=e=!0;break;case"label-percentage1":case"label-percentage2":i=e=!0}return{mainLabel:e,value:n,percentage:i}},computeOuterLabelCoords:function(n){n.svg.selectAll("."+n.cssPrefix+"labelGroup-outer").each(function(t,e){return h.getIdealOuterLabelPositions(n,e)}),h.resolveOuterLabelCollisions(n)},resolveOuterLabelCollisions:function(t){var e=t.options.data.content.length;h.checkConflict(t,0,"clockwise",e),h.checkConflict(t,e-1,"anticlockwise",e)},checkConflict:function(t,e,n,i){if(!(i<=1)){var r=t.outerLabelGroupData[e].hs;if(!("clockwise"===n&&"right"!=r||"anticlockwise"===n&&"left"!=r)){var o="clockwise"===n?e+1:e-1,a=t.outerLabelGroupData[e],s=t.outerLabelGroupData[o],u={labelHeights:t.outerLabelGroupData[0].h,center:t.pieCenter,lineLength:t.outerRadius+t.options.labels.outer.pieDistance,heightChange:t.outerLabelGroupData[0].h+1};if("clockwise"===n)for(var l=0;l<=e;l++){var c=t.outerLabelGroupData[l];if(f.rectIntersect(c,s)){h.adjustLabelPos(t,o,a,u);break}}else for(l=i-1;e<=l;l--){c=t.outerLabelGroupData[l];if(f.rectIntersect(c,s)){h.adjustLabelPos(t,o,a,u);break}}h.checkConflict(t,o,n,i)}}},adjustLabelPos:function(t,e,n,i){var r,o,a,s;s=n.y+i.heightChange,o=i.center.y-s,r=Math.sqrt(Math.abs(i.lineLength)>Math.abs(o)?i.lineLength*i.lineLength-o*o:o*o-i.lineLength*i.lineLength),(a="right"===n.hs?i.center.x+r:i.center.x-r-t.outerLabelGroupData[e].w)||console.log(n.hs,r),t.outerLabelGroupData[e].x=a,t.outerLabelGroupData[e].y=s},getIdealOuterLabelPositions:function(t,e){var n=d3.select("#"+t.cssPrefix+"labelGroup"+e+"-outer").node().getBBox(),i=g.getSegmentAngle(e,t.options.data.content,t.totalSize,{midpoint:!0}),r=t.pieCenter.x,o=t.pieCenter.y-(t.outerRadius+t.options.labels.outer.pieDistance),a=p.rotate(r,o,t.pieCenter.x,t.pieCenter.y,i),s="right";180<i?(a.x-=n.width+8,s="left"):a.x+=8,t.outerLabelGroupData[e]={x:a.x,y:a.y,w:n.width,h:n.height,hs:s}}},g={create:function(i){var t=i.pieCenter,r=i.options.colors,e=i.options.effects.load,n=i.options.misc.colors.segmentStroke,o=i.svg.insert("g","#"+i.cssPrefix+"title").attr("transform",function(){return p.getPieTranslateCenter(t)}).attr("class",i.cssPrefix+"pieChart"),a=d3.svg.arc().innerRadius(i.innerRadius).outerRadius(i.outerRadius).startAngle(0).endAngle(function(t){return t.value/i.totalSize*2*Math.PI}),s=o.selectAll("."+i.cssPrefix+"arc").data(i.options.data.content).enter().append("g").attr("class",i.cssPrefix+"arc"),u=e.speed;"none"===e.effect&&(u=0),s.append("path").attr("id",function(t,e){return i.cssPrefix+"segment"+e}).attr("fill",function(t,e){var n=r[e];return i.options.misc.gradient.enabled&&(n="url(#"+i.cssPrefix+"grad"+e+")"),n}).style("stroke",n).style("stroke-width",1).transition().ease("cubic-in-out").duration(u).attr("data-index",function(t,e){return e}).attrTween("d",function(t){var e=d3.interpolate({value:0},t);return function(t){return i.arc(e(t))}}),i.svg.selectAll("g."+i.cssPrefix+"arc").attr("transform",function(t,e){var n=0;return 0<e&&(n=g.getSegmentAngle(e-1,i.options.data.content,i.totalSize)),"rotate("+n+")"}),i.arc=a},addGradients:function(n){var t=n.svg.append("defs").selectAll("radialGradient").data(n.options.data.content).enter().append("radialGradient").attr("gradientUnits","userSpaceOnUse").attr("cx",0).attr("cy",0).attr("r","120%").attr("id",function(t,e){return n.cssPrefix+"grad"+e});t.append("stop").attr("offset","0%").style("stop-color",function(t,e){return n.options.colors[e]}),t.append("stop").attr("offset",n.options.misc.gradient.percentage+"%").style("stop-color",n.options.misc.gradient.color)},addSegmentEventHandlers:function(o){var t=d3.selectAll("."+o.cssPrefix+"arc,."+o.cssPrefix+"labelGroup-inner,."+o.cssPrefix+"labelGroup-outer");t.on("click",function(){var t,e=d3.select(this);if(e.attr("class")===o.cssPrefix+"arc")t=e.select("path");else{var n=e.attr("data-index");t=d3.select("#"+o.cssPrefix+"segment"+n)}var i=t.attr("class")===o.cssPrefix+"expanded";g.onSegmentEvent(o,o.options.callbacks.onClickSegment,t,i),"none"!==o.options.effects.pullOutSegmentOnClick.effect&&(i?g.closeSegment(o,t.node()):g.openSegment(o,t.node()))}),t.on("mouseover",function(){var t,e,n=d3.select(this);if(n.attr("class")===o.cssPrefix+"arc"?t=n.select("path"):(e=n.attr("data-index"),t=d3.select("#"+o.cssPrefix+"segment"+e)),o.options.effects.highlightSegmentOnMouseover){e=t.attr("data-index");var i=o.options.colors[e];t.style("fill",f.getColorShade(i,o.options.effects.highlightLuminosity))}var r=t.attr("class")===o.cssPrefix+"expanded";g.onSegmentEvent(o,o.options.callbacks.onMouseoverSegment,t,r)}),t.on("mouseout",function(){var t,e,n=d3.select(this);if(n.attr("class")===o.cssPrefix+"arc"?t=n.select("path"):(e=n.attr("data-index"),t=d3.select("#"+o.cssPrefix+"segment"+e)),o.options.effects.highlightSegmentOnMouseover){e=t.attr("data-index");var i=o.options.colors[e];o.options.misc.gradient.enabled&&(i="url(#"+o.cssPrefix+"grad"+e+")"),t.style("fill",i)}var r=t.attr("class")===o.cssPrefix+"expanded";g.onSegmentEvent(o,o.options.callbacks.onMouseoutSegment,t,r)})},onSegmentEvent:function(t,e,n,i){if(f.isFunction(e)){var r=parseInt(n.attr("data-index"),10);e({segment:n.node(),index:r,expanded:i,data:t.options.data.content[r]})}},openSegment:function(a,t){a.isOpeningSegment||(a.isOpeningSegment=!0,0<d3.selectAll("."+a.cssPrefix+"expanded").length&&g.closeSegment(a,d3.select("."+a.cssPrefix+"expanded").node()),d3.select(t).transition().ease(a.options.effects.pullOutSegmentOnClick.effect).duration(a.options.effects.pullOutSegmentOnClick.speed).attr("transform",function(t){var e=a.arc.centroid(t),n=e[0],i=e[1],r=Math.sqrt(n*n+i*i),o=parseInt(a.options.effects.pullOutSegmentOnClick.size,10);return"translate("+n/r*o+","+i/r*o+")"}).each("end",function(){a.currentlyOpenSegment=t,a.isOpeningSegment=!1,d3.select(this).attr("class",a.cssPrefix+"expanded")}))},closeSegment:function(t,e){d3.select(e).transition().duration(400).attr("transform","translate(0,0)").each("end",function(){d3.select(this).attr("class",""),t.currentlyOpenSegment=null})},getCentroid:function(t){var e=t.getBBox();return{x:e.x+e.width/2,y:e.y+e.height/2}},getSegmentAngle:function(t,e,n,i){var r,o=m({compounded:!0,midpoint:!1},i),a=e[t].value;if(o.compounded)for(var s=r=0;s<=t;s++)r+=e[s].value;void 0===r&&(r=a);var u=r/n*360;o.midpoint&&(u-=a/n*360/2);return u},getPercentage:function(t,e){return Math.floor(t.options.data.content[e].value/t.totalSize*100)}},l={offscreenCoord:-1e4,addTitle:function(t){t.svg.selectAll("."+t.cssPrefix+"title").data([t.options.header.title]).enter().append("text").text(function(t){return t.text}).attr("id",t.cssPrefix+"title").attr("class",t.cssPrefix+"title").attr("x",l.offscreenCoord).attr("y",l.offscreenCoord).attr("text-anchor",function(){return"top-center"===t.options.header.location||"pie-center"===t.options.header.location?"middle":"left"}).attr("fill",function(t){return t.color}).style("font-size",function(t){return t.fontSize+"px"}).style("font-family",function(t){return t.font})},positionTitle:function(t){var e,n=t.textComponents,i=t.options.header.location,r=t.options.misc.canvasPadding,o=t.options.size.canvasWidth,a=t.options.header.titleSubtitlePadding;e="top-left"===i?r.left:(o-r.right)/2+r.left;var s=r.top+n.title.h;if("pie-center"===i)if(s=t.pieCenter.y,n.subtitle.exists){s=s-(n.title.h+a+n.subtitle.h)/2+n.title.h}else s+=n.title.h/4;t.svg.select("#"+t.cssPrefix+"title").attr("x",e).attr("y",s)},addSubtitle:function(t){var e=t.options.header.location;t.svg.selectAll("."+t.cssPrefix+"subtitle").data([t.options.header.subtitle]).enter().append("text").text(function(t){return t.text}).attr("x",l.offscreenCoord).attr("y",l.offscreenCoord).attr("id",t.cssPrefix+"subtitle").attr("class",t.cssPrefix+"subtitle").attr("text-anchor",function(){return"top-center"===e||"pie-center"===e?"middle":"left"}).attr("fill",function(t){return t.color}).style("font-size",function(t){return t.fontSize+"px"}).style("font-family",function(t){return t.font})},positionSubtitle:function(t){var e,n=t.options.misc.canvasPadding,i=t.options.size.canvasWidth;e="top-left"===t.options.header.location?n.left:(i-n.right)/2+n.left;var r=l.getHeaderHeight(t);t.svg.select("#"+t.cssPrefix+"subtitle").attr("x",e).attr("y",r)},addFooter:function(e){e.svg.selectAll("."+e.cssPrefix+"footer").data([e.options.footer]).enter().append("text").text(function(t){return t.text}).attr("x",l.offscreenCoord).attr("y",l.offscreenCoord).attr("id",e.cssPrefix+"footer").attr("class",e.cssPrefix+"footer").attr("text-anchor",function(){var t="left";return"bottom-center"===e.options.footer.location?t="middle":"bottom-right"===e.options.footer.location&&(t="left"),t}).attr("fill",function(t){return t.color}).style("font-size",function(t){return t.fontSize+"px"}).style("font-family",function(t){return t.font})},positionFooter:function(t){var e,n=t.options.footer.location,i=t.textComponents.footer.w,r=t.options.size.canvasWidth,o=t.options.size.canvasHeight,a=t.options.misc.canvasPadding;e="bottom-left"===n?a.left:"bottom-right"===n?r-i-a.right:r/2,t.svg.select("#"+t.cssPrefix+"footer").attr("x",e).attr("y",o-a.bottom)},getHeaderHeight:function(t){var e;if(t.textComponents.title.exists){var n=t.textComponents.title.h+t.options.header.titleSubtitlePadding+t.textComponents.subtitle.h;e="pie-center"===t.options.header.location?t.pieCenter.y-n/2+n:n+t.options.misc.canvasPadding.top}else if("pie-center"===t.options.header.location){var i=t.options.misc.canvasPadding.bottom+t.textComponents.footer.h;e=(t.options.size.canvasHeight-i)/2+t.options.misc.canvasPadding.top+t.textComponents.subtitle.h/2}else e=t.options.misc.canvasPadding.top+t.textComponents.subtitle.h;return e}},t=function(t,e){if("string"==typeof(this.element=t)){var n=t.replace(/^#/,"");this.element=document.getElementById(n)}var i={};m(!0,i,s,e),this.options=i,null!==this.options.misc.cssPrefix?this.cssPrefix=this.options.misc.cssPrefix:(this.cssPrefix="p"+a+"_",a++),u.initialCheck(this)&&(d3.select(this.element).attr(r,o),this.options.data.content=p.sortPieData(this),this.options.data.smallSegmentGrouping.enabled&&(this.options.data.content=f.applySmallSegmentGrouping(this.options.data.content,this.options.data.smallSegmentGrouping)),this.options.colors=f.initSegmentColors(this),this.totalSize=p.getTotalPieSize(this.options.data.content),c.call(this))};t.prototype.redraw=function(){this.element.innerHTML="",c.call(this)},t.prototype.destroy=function(){this.element.innerHTML="",d3.select(this.element).attr(r,null)},t.prototype.getOpenSegment=function(){var t=this.currentlyOpenSegment;if(null!=t){var e=parseInt(d3.select(t).attr("data-index"),10);return{element:t,index:e,data:this.options.data.content[e]}}return null},t.prototype.openSegment=function(t){(t=parseInt(t,10))<0||t>this.options.data.content.length-1||g.openSegment(this,d3.select("#"+this.cssPrefix+"segment"+t).node())},t.prototype.closeSegment=function(){var t=this.currentlyOpenSegment;t&&g.closeSegment(this,t)},t.prototype.updateProp=function(t,e){switch(t){case"header.title.text":var n=f.processObj(this.options,t);f.processObj(this.options,t,e),d3.select("#"+this.cssPrefix+"title").html(e),(""===n&&""!==e||""!==n&&""===e)&&this.redraw();break;case"header.subtitle.text":var i=f.processObj(this.options,t);f.processObj(this.options,t,e),d3.select("#"+this.cssPrefix+"subtitle").html(e),(""===i&&""!==e||""!==i&&""===e)&&this.redraw();break;case"callbacks.onload":case"callbacks.onMouseoverSegment":case"callbacks.onMouseoutSegment":case"callbacks.onClickSegment":case"effects.pullOutSegmentOnClick.effect":case"effects.pullOutSegmentOnClick.speed":case"effects.pullOutSegmentOnClick.size":case"effects.highlightSegmentOnMouseover":case"effects.highlightLuminosity":f.processObj(this.options,t,e)}};var c=function(){this.svg=f.addSVGSpace(this),this.textComponents={headerHeight:0,title:{exists:""!==this.options.header.title.text,h:0,w:0},subtitle:{exists:""!==this.options.header.subtitle.text,h:0,w:0},footer:{exists:""!==this.options.footer.text,h:0,w:0}},this.outerLabelGroupData=[],this.textComponents.title.exists&&l.addTitle(this),this.textComponents.subtitle.exists&&l.addSubtitle(this),l.addFooter(this);var i=this;f.whenIdExists(this.cssPrefix+"footer",function(){l.positionFooter(i);var t=f.getDimensions(i.cssPrefix+"footer");i.textComponents.footer.h=t.h,i.textComponents.footer.w=t.w});var t=[];this.textComponents.title.exists&&t.push(this.cssPrefix+"title"),this.textComponents.subtitle.exists&&t.push(this.cssPrefix+"subtitle"),this.textComponents.footer.exists&&t.push(this.cssPrefix+"footer"),f.whenElementsExist(t,function(){if(i.textComponents.title.exists){var t=f.getDimensions(i.cssPrefix+"title");i.textComponents.title.h=t.h,i.textComponents.title.w=t.w}if(i.textComponents.subtitle.exists){var e=f.getDimensions(i.cssPrefix+"subtitle");i.textComponents.subtitle.h=e.h,i.textComponents.subtitle.w=e.w}if(i.textComponents.title.exists||i.textComponents.subtitle.exists){var n=0;i.textComponents.title.exists&&(n+=i.textComponents.title.h,i.textComponents.subtitle.exists&&(n+=i.options.header.titleSubtitlePadding)),i.textComponents.subtitle.exists&&(n+=i.textComponents.subtitle.h),i.textComponents.headerHeight=n}p.computePieRadius(i),p.calculatePieCenter(i),l.positionTitle(i),l.positionSubtitle(i),i.options.misc.gradient.enabled&&g.addGradients(i),g.create(i),h.add(i,"inner",i.options.labels.inner.format),h.add(i,"outer",i.options.labels.outer.format),h.positionLabelElements(i,"inner",i.options.labels.inner.format),h.positionLabelElements(i,"outer",i.options.labels.outer.format),h.computeOuterLabelCoords(i),h.positionLabelGroups(i,"outer"),h.computeLabelLinePositions(i),i.options.labels.lines.enabled&&"none"!==i.options.labels.outer.format&&h.addLabelLines(i),h.positionLabelGroups(i,"inner"),h.fadeInLabelsAndLines(i),g.addSegmentEventHandlers(i)})};window.d3pie=t}();